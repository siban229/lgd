var Mve=Object.defineProperty;var GH=e=>{throw TypeError(e)};var Uve=(e,t,r)=>t in e?Mve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ss=(e,t,r)=>Uve(e,typeof t!="symbol"?t+"":t,r),Bk=(e,t,r)=>t.has(e)||GH("Cannot "+r);var Wt=(e,t,r)=>(Bk(e,t,"read from private field"),r?r.call(e):t.get(e)),Hi=(e,t,r)=>t.has(e)?GH("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Kn=(e,t,r,n)=>(Bk(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Nl=(e,t,r)=>(Bk(e,t,"access private method"),r);var jS=(e,t,r,n)=>({set _(i){Kn(e,t,i,r)},get _(){return Wt(e,t,n)}});function Mte(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ute={exports:{}},mT={},Hte={exports:{}},mi={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lE=Symbol.for("react.element"),Hve=Symbol.for("react.portal"),Qve=Symbol.for("react.fragment"),$ve=Symbol.for("react.strict_mode"),Vve=Symbol.for("react.profiler"),zve=Symbol.for("react.provider"),Gve=Symbol.for("react.context"),Wve=Symbol.for("react.forward_ref"),Kve=Symbol.for("react.suspense"),qve=Symbol.for("react.memo"),Xve=Symbol.for("react.lazy"),WH=Symbol.iterator;function Yve(e){return e===null||typeof e!="object"?null:(e=WH&&e[WH]||e["@@iterator"],typeof e=="function"?e:null)}var Qte={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$te=Object.assign,Vte={};function my(e,t,r){this.props=e,this.context=t,this.refs=Vte,this.updater=r||Qte}my.prototype.isReactComponent={};my.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};my.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zte(){}zte.prototype=my.prototype;function TL(e,t,r){this.props=e,this.context=t,this.refs=Vte,this.updater=r||Qte}var BL=TL.prototype=new zte;BL.constructor=TL;$te(BL,my.prototype);BL.isPureReactComponent=!0;var KH=Array.isArray,Gte=Object.prototype.hasOwnProperty,IL={current:null},Wte={key:!0,ref:!0,__self:!0,__source:!0};function Kte(e,t,r){var n,i={},s=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)Gte.call(t,n)&&!Wte.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:lE,type:e,key:s,ref:a,props:i,_owner:IL.current}}function Zve(e,t){return{$$typeof:lE,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kL(e){return typeof e=="object"&&e!==null&&e.$$typeof===lE}function Jve(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var qH=/\/+/g;function Ik(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Jve(""+e.key):t.toString(36)}function IN(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case lE:case Hve:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+Ik(a,0):n,KH(i)?(r="",e!=null&&(r=e.replace(qH,"$&/")+"/"),IN(i,t,r,"",function(u){return u})):i!=null&&(kL(i)&&(i=Zve(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(qH,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",KH(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+Ik(s,l);a+=IN(s,t,r,c,i)}else if(c=Yve(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+Ik(s,l++),a+=IN(s,t,r,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function PS(e,t,r){if(e==null)return e;var n=[],i=0;return IN(e,n,"","",function(s){return t.call(r,s,i++)}),n}function eye(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Cc={current:null},kN={transition:null},tye={ReactCurrentDispatcher:Cc,ReactCurrentBatchConfig:kN,ReactCurrentOwner:IL};function qte(){throw Error("act(...) is not supported in production builds of React.")}mi.Children={map:PS,forEach:function(e,t,r){PS(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return PS(e,function(){t++}),t},toArray:function(e){return PS(e,function(t){return t})||[]},only:function(e){if(!kL(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};mi.Component=my;mi.Fragment=Qve;mi.Profiler=Vve;mi.PureComponent=TL;mi.StrictMode=$ve;mi.Suspense=Kve;mi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tye;mi.act=qte;mi.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=$te({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=IL.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Gte.call(t,c)&&!Wte.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:lE,type:e.type,key:i,ref:s,props:n,_owner:a}};mi.createContext=function(e){return e={$$typeof:Gve,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zve,_context:e},e.Consumer=e};mi.createElement=Kte;mi.createFactory=function(e){var t=Kte.bind(null,e);return t.type=e,t};mi.createRef=function(){return{current:null}};mi.forwardRef=function(e){return{$$typeof:Wve,render:e}};mi.isValidElement=kL;mi.lazy=function(e){return{$$typeof:Xve,_payload:{_status:-1,_result:e},_init:eye}};mi.memo=function(e,t){return{$$typeof:qve,type:e,compare:t===void 0?null:t}};mi.startTransition=function(e){var t=kN.transition;kN.transition={};try{e()}finally{kN.transition=t}};mi.unstable_act=qte;mi.useCallback=function(e,t){return Cc.current.useCallback(e,t)};mi.useContext=function(e){return Cc.current.useContext(e)};mi.useDebugValue=function(){};mi.useDeferredValue=function(e){return Cc.current.useDeferredValue(e)};mi.useEffect=function(e,t){return Cc.current.useEffect(e,t)};mi.useId=function(){return Cc.current.useId()};mi.useImperativeHandle=function(e,t,r){return Cc.current.useImperativeHandle(e,t,r)};mi.useInsertionEffect=function(e,t){return Cc.current.useInsertionEffect(e,t)};mi.useLayoutEffect=function(e,t){return Cc.current.useLayoutEffect(e,t)};mi.useMemo=function(e,t){return Cc.current.useMemo(e,t)};mi.useReducer=function(e,t,r){return Cc.current.useReducer(e,t,r)};mi.useRef=function(e){return Cc.current.useRef(e)};mi.useState=function(e){return Cc.current.useState(e)};mi.useSyncExternalStore=function(e,t,r){return Cc.current.useSyncExternalStore(e,t,r)};mi.useTransition=function(){return Cc.current.useTransition()};mi.version="18.3.1";Hte.exports=mi;var C=Hte.exports;const Me=Gi(C),jL=Mte({__proto__:null,default:Me},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rye=C,nye=Symbol.for("react.element"),iye=Symbol.for("react.fragment"),sye=Object.prototype.hasOwnProperty,aye=rye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oye={key:!0,ref:!0,__self:!0,__source:!0};function Xte(e,t,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)sye.call(t,n)&&!oye.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:nye,type:e,key:s,ref:a,props:i,_owner:aye.current}}mT.Fragment=iye;mT.jsx=Xte;mT.jsxs=Xte;Ute.exports=mT;var o=Ute.exports,Yte={exports:{}},Ru={},Zte={exports:{}},Jte={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(te,X){var ue=te.length;te.push(X);e:for(;0<ue;){var ve=ue-1>>>1,V=te[ve];if(0<i(V,X))te[ve]=X,te[ue]=V,ue=ve;else break e}}function r(te){return te.length===0?null:te[0]}function n(te){if(te.length===0)return null;var X=te[0],ue=te.pop();if(ue!==X){te[0]=ue;e:for(var ve=0,V=te.length,q=V>>>1;ve<q;){var ee=2*(ve+1)-1,re=te[ee],de=ee+1,Ae=te[de];if(0>i(re,ue))de<V&&0>i(Ae,re)?(te[ve]=Ae,te[de]=ue,ve=de):(te[ve]=re,te[ee]=ue,ve=ee);else if(de<V&&0>i(Ae,ue))te[ve]=Ae,te[de]=ue,ve=de;else break e}}return X}function i(te,X){var ue=te.sortIndex-X.sortIndex;return ue!==0?ue:te.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,A=3,g=!1,v=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(te){for(var X=r(u);X!==null;){if(X.callback===null)n(u);else if(X.startTime<=te)n(u),X.sortIndex=X.expirationTime,t(c,X);else break;X=r(u)}}function I(te){if(x=!1,E(te),!v)if(r(c)!==null)v=!0,ne(N);else{var X=r(u);X!==null&&le(I,X.startTime-te)}}function N(te,X){v=!1,x&&(x=!1,w(P),P=-1),g=!0;var ue=A;try{for(E(X),h=r(c);h!==null&&(!(h.expirationTime>X)||te&&!O());){var ve=h.callback;if(typeof ve=="function"){h.callback=null,A=h.priorityLevel;var V=ve(h.expirationTime<=X);X=e.unstable_now(),typeof V=="function"?h.callback=V:h===r(c)&&n(c),E(X)}else n(c);h=r(c)}if(h!==null)var q=!0;else{var ee=r(u);ee!==null&&le(I,ee.startTime-X),q=!1}return q}finally{h=null,A=ue,g=!1}}var j=!1,T=null,P=-1,k=5,R=-1;function O(){return!(e.unstable_now()-R<k)}function M(){if(T!==null){var te=e.unstable_now();R=te;var X=!0;try{X=T(!0,te)}finally{X?H():(j=!1,T=null)}}else j=!1}var H;if(typeof _=="function")H=function(){_(M)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,Y=K.port2;K.port1.onmessage=M,H=function(){Y.postMessage(null)}}else H=function(){y(M,0)};function ne(te){T=te,j||(j=!0,H())}function le(te,X){P=y(function(){te(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,ne(N))},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(te){switch(A){case 1:case 2:case 3:var X=3;break;default:X=A}var ue=A;A=X;try{return te()}finally{A=ue}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(te,X){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ue=A;A=te;try{return X()}finally{A=ue}},e.unstable_scheduleCallback=function(te,X,ue){var ve=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ve+ue:ve):ue=ve,te){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ue+V,te={id:d++,callback:X,priorityLevel:te,startTime:ue,expirationTime:V,sortIndex:-1},ue>ve?(te.sortIndex=ue,t(u,te),r(c)===null&&te===r(u)&&(x?(w(P),P=-1):x=!0,le(I,ue-ve))):(te.sortIndex=V,t(c,te),v||g||(v=!0,ne(N))),te},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(te){var X=A;return function(){var ue=A;A=X;try{return te.apply(this,arguments)}finally{A=ue}}}})(Jte);Zte.exports=Jte;var lye=Zte.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cye=C,Du=lye;function vr(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ere=new Set,pb={};function Rm(e,t){dv(e,t),dv(e+"Capture",t)}function dv(e,t){for(pb[e]=t,e=0;e<t.length;e++)ere.add(t[e])}var xA=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),UP=Object.prototype.hasOwnProperty,uye=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,XH={},YH={};function dye(e){return UP.call(YH,e)?!0:UP.call(XH,e)?!1:uye.test(e)?YH[e]=!0:(XH[e]=!0,!1)}function fye(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hye(e,t,r,n){if(t===null||typeof t>"u"||fye(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Nc(e,t,r,n,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var bl={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){bl[e]=new Nc(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];bl[t]=new Nc(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){bl[e]=new Nc(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){bl[e]=new Nc(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){bl[e]=new Nc(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){bl[e]=new Nc(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){bl[e]=new Nc(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){bl[e]=new Nc(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){bl[e]=new Nc(e,5,!1,e.toLowerCase(),null,!1,!1)});var PL=/[\-:]([a-z])/g;function FL(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(PL,FL);bl[t]=new Nc(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(PL,FL);bl[t]=new Nc(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(PL,FL);bl[t]=new Nc(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){bl[e]=new Nc(e,1,!1,e.toLowerCase(),null,!1,!1)});bl.xlinkHref=new Nc("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){bl[e]=new Nc(e,1,!1,e.toLowerCase(),null,!0,!0)});function OL(e,t,r,n){var i=bl.hasOwnProperty(t)?bl[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hye(t,r,i,n)&&(r=null),n||i===null?dye(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var PA=cye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,FS=Symbol.for("react.element"),tx=Symbol.for("react.portal"),rx=Symbol.for("react.fragment"),DL=Symbol.for("react.strict_mode"),HP=Symbol.for("react.profiler"),tre=Symbol.for("react.provider"),rre=Symbol.for("react.context"),LL=Symbol.for("react.forward_ref"),QP=Symbol.for("react.suspense"),$P=Symbol.for("react.suspense_list"),RL=Symbol.for("react.memo"),u0=Symbol.for("react.lazy"),nre=Symbol.for("react.offscreen"),ZH=Symbol.iterator;function Aw(e){return e===null||typeof e!="object"?null:(e=ZH&&e[ZH]||e["@@iterator"],typeof e=="function"?e:null)}var va=Object.assign,kk;function Zw(e){if(kk===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);kk=t&&t[1]||""}return`
`+kk+e}var jk=!1;function Pk(e,t){if(!e||jk)return"";jk=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{jk=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Zw(e):""}function Aye(e){switch(e.tag){case 5:return Zw(e.type);case 16:return Zw("Lazy");case 13:return Zw("Suspense");case 19:return Zw("SuspenseList");case 0:case 2:case 15:return e=Pk(e.type,!1),e;case 11:return e=Pk(e.type.render,!1),e;case 1:return e=Pk(e.type,!0),e;default:return""}}function VP(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rx:return"Fragment";case tx:return"Portal";case HP:return"Profiler";case DL:return"StrictMode";case QP:return"Suspense";case $P:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rre:return(e.displayName||"Context")+".Consumer";case tre:return(e._context.displayName||"Context")+".Provider";case LL:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case RL:return t=e.displayName||null,t!==null?t:VP(e.type)||"Memo";case u0:t=e._payload,e=e._init;try{return VP(e(t))}catch{}}return null}function pye(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return VP(t);case 8:return t===DL?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ap(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ire(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gye(e){var t=ire(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function OS(e){e._valueTracker||(e._valueTracker=gye(e))}function sre(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ire(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function y4(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zP(e,t){var r=t.checked;return va({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function JH(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ap(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function are(e,t){t=t.checked,t!=null&&OL(e,"checked",t,!1)}function GP(e,t){are(e,t);var r=Ap(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?WP(e,t.type,r):t.hasOwnProperty("defaultValue")&&WP(e,t.type,Ap(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function eQ(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function WP(e,t,r){(t!=="number"||y4(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Jw=Array.isArray;function Sx(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ap(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function KP(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(vr(91));return va({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tQ(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(vr(92));if(Jw(r)){if(1<r.length)throw Error(vr(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ap(r)}}function ore(e,t){var r=Ap(t.value),n=Ap(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function rQ(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lre(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qP(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lre(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var DS,cre=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(DS=DS||document.createElement("div"),DS.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=DS.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gb(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var _2={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mye=["Webkit","ms","Moz","O"];Object.keys(_2).forEach(function(e){mye.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_2[t]=_2[e]})});function ure(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||_2.hasOwnProperty(e)&&_2[e]?(""+t).trim():t+"px"}function dre(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=ure(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var xye=va({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function XP(e,t){if(t){if(xye[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(vr(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(vr(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(vr(61))}if(t.style!=null&&typeof t.style!="object")throw Error(vr(62))}}function YP(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ZP=null;function ML(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var JP=null,Cx=null,Nx=null;function nQ(e){if(e=dE(e)){if(typeof JP!="function")throw Error(vr(280));var t=e.stateNode;t&&(t=bT(t),JP(e.stateNode,e.type,t))}}function fre(e){Cx?Nx?Nx.push(e):Nx=[e]:Cx=e}function hre(){if(Cx){var e=Cx,t=Nx;if(Nx=Cx=null,nQ(e),t)for(e=0;e<t.length;e++)nQ(t[e])}}function Are(e,t){return e(t)}function pre(){}var Fk=!1;function gre(e,t,r){if(Fk)return e(t,r);Fk=!0;try{return Are(e,t,r)}finally{Fk=!1,(Cx!==null||Nx!==null)&&(pre(),hre())}}function mb(e,t){var r=e.stateNode;if(r===null)return null;var n=bT(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(vr(231,t,typeof r));return r}var eF=!1;if(xA)try{var pw={};Object.defineProperty(pw,"passive",{get:function(){eF=!0}}),window.addEventListener("test",pw,pw),window.removeEventListener("test",pw,pw)}catch{eF=!1}function vye(e,t,r,n,i,s,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var E2=!1,w4=null,b4=!1,tF=null,yye={onError:function(e){E2=!0,w4=e}};function wye(e,t,r,n,i,s,a,l,c){E2=!1,w4=null,vye.apply(yye,arguments)}function bye(e,t,r,n,i,s,a,l,c){if(wye.apply(this,arguments),E2){if(E2){var u=w4;E2=!1,w4=null}else throw Error(vr(198));b4||(b4=!0,tF=u)}}function Mm(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function mre(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function iQ(e){if(Mm(e)!==e)throw Error(vr(188))}function _ye(e){var t=e.alternate;if(!t){if(t=Mm(e),t===null)throw Error(vr(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return iQ(i),e;if(s===n)return iQ(i),t;s=s.sibling}throw Error(vr(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a)throw Error(vr(189))}}if(r.alternate!==n)throw Error(vr(190))}if(r.tag!==3)throw Error(vr(188));return r.stateNode.current===r?e:t}function xre(e){return e=_ye(e),e!==null?vre(e):null}function vre(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vre(e);if(t!==null)return t;e=e.sibling}return null}var yre=Du.unstable_scheduleCallback,sQ=Du.unstable_cancelCallback,Eye=Du.unstable_shouldYield,Sye=Du.unstable_requestPaint,Ga=Du.unstable_now,Cye=Du.unstable_getCurrentPriorityLevel,UL=Du.unstable_ImmediatePriority,wre=Du.unstable_UserBlockingPriority,_4=Du.unstable_NormalPriority,Nye=Du.unstable_LowPriority,bre=Du.unstable_IdlePriority,xT=null,Xf=null;function Tye(e){if(Xf&&typeof Xf.onCommitFiberRoot=="function")try{Xf.onCommitFiberRoot(xT,e,void 0,(e.current.flags&128)===128)}catch{}}var of=Math.clz32?Math.clz32:kye,Bye=Math.log,Iye=Math.LN2;function kye(e){return e>>>=0,e===0?32:31-(Bye(e)/Iye|0)|0}var LS=64,RS=4194304;function e2(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function E4(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~i;l!==0?n=e2(l):(s&=a,s!==0&&(n=e2(s)))}else a=r&~i,a!==0?n=e2(a):s!==0&&(n=e2(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-of(t),i=1<<r,n|=e[r],t&=~i;return n}function jye(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pye(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-of(s),l=1<<a,c=i[a];c===-1?(!(l&r)||l&n)&&(i[a]=jye(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function rF(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _re(){var e=LS;return LS<<=1,!(LS&4194240)&&(LS=64),e}function Ok(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function cE(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-of(t),e[t]=r}function Fye(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-of(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function HL(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-of(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var us=0;function Ere(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sre,QL,Cre,Nre,Tre,nF=!1,MS=[],V0=null,z0=null,G0=null,xb=new Map,vb=new Map,m0=[],Oye="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aQ(e,t){switch(e){case"focusin":case"focusout":V0=null;break;case"dragenter":case"dragleave":z0=null;break;case"mouseover":case"mouseout":G0=null;break;case"pointerover":case"pointerout":xb.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vb.delete(t.pointerId)}}function gw(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=dE(t),t!==null&&QL(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Dye(e,t,r,n,i){switch(t){case"focusin":return V0=gw(V0,e,t,r,n,i),!0;case"dragenter":return z0=gw(z0,e,t,r,n,i),!0;case"mouseover":return G0=gw(G0,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return xb.set(s,gw(xb.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,vb.set(s,gw(vb.get(s)||null,e,t,r,n,i)),!0}return!1}function Bre(e){var t=bg(e.target);if(t!==null){var r=Mm(t);if(r!==null){if(t=r.tag,t===13){if(t=mre(r),t!==null){e.blockedOn=t,Tre(e.priority,function(){Cre(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jN(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=iF(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ZP=n,r.target.dispatchEvent(n),ZP=null}else return t=dE(r),t!==null&&QL(t),e.blockedOn=r,!1;t.shift()}return!0}function oQ(e,t,r){jN(e)&&r.delete(t)}function Lye(){nF=!1,V0!==null&&jN(V0)&&(V0=null),z0!==null&&jN(z0)&&(z0=null),G0!==null&&jN(G0)&&(G0=null),xb.forEach(oQ),vb.forEach(oQ)}function mw(e,t){e.blockedOn===t&&(e.blockedOn=null,nF||(nF=!0,Du.unstable_scheduleCallback(Du.unstable_NormalPriority,Lye)))}function yb(e){function t(i){return mw(i,e)}if(0<MS.length){mw(MS[0],e);for(var r=1;r<MS.length;r++){var n=MS[r];n.blockedOn===e&&(n.blockedOn=null)}}for(V0!==null&&mw(V0,e),z0!==null&&mw(z0,e),G0!==null&&mw(G0,e),xb.forEach(t),vb.forEach(t),r=0;r<m0.length;r++)n=m0[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<m0.length&&(r=m0[0],r.blockedOn===null);)Bre(r),r.blockedOn===null&&m0.shift()}var Tx=PA.ReactCurrentBatchConfig,S4=!0;function Rye(e,t,r,n){var i=us,s=Tx.transition;Tx.transition=null;try{us=1,$L(e,t,r,n)}finally{us=i,Tx.transition=s}}function Mye(e,t,r,n){var i=us,s=Tx.transition;Tx.transition=null;try{us=4,$L(e,t,r,n)}finally{us=i,Tx.transition=s}}function $L(e,t,r,n){if(S4){var i=iF(e,t,r,n);if(i===null)zk(e,t,n,C4,r),aQ(e,n);else if(Dye(i,e,t,r,n))n.stopPropagation();else if(aQ(e,n),t&4&&-1<Oye.indexOf(e)){for(;i!==null;){var s=dE(i);if(s!==null&&Sre(s),s=iF(e,t,r,n),s===null&&zk(e,t,n,C4,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else zk(e,t,n,null,r)}}var C4=null;function iF(e,t,r,n){if(C4=null,e=ML(n),e=bg(e),e!==null)if(t=Mm(e),t===null)e=null;else if(r=t.tag,r===13){if(e=mre(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return C4=e,null}function Ire(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cye()){case UL:return 1;case wre:return 4;case _4:case Nye:return 16;case bre:return 536870912;default:return 16}default:return 16}}var I0=null,VL=null,PN=null;function kre(){if(PN)return PN;var e,t=VL,r=t.length,n,i="value"in I0?I0.value:I0.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[s-n];n++);return PN=i.slice(e,1<n?1-n:void 0)}function FN(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function US(){return!0}function lQ(){return!1}function Mu(e){function t(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?US:lQ,this.isPropagationStopped=lQ,this}return va(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=US)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=US)},persist:function(){},isPersistent:US}),t}var xy={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zL=Mu(xy),uE=va({},xy,{view:0,detail:0}),Uye=Mu(uE),Dk,Lk,xw,vT=va({},uE,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:GL,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xw&&(xw&&e.type==="mousemove"?(Dk=e.screenX-xw.screenX,Lk=e.screenY-xw.screenY):Lk=Dk=0,xw=e),Dk)},movementY:function(e){return"movementY"in e?e.movementY:Lk}}),cQ=Mu(vT),Hye=va({},vT,{dataTransfer:0}),Qye=Mu(Hye),$ye=va({},uE,{relatedTarget:0}),Rk=Mu($ye),Vye=va({},xy,{animationName:0,elapsedTime:0,pseudoElement:0}),zye=Mu(Vye),Gye=va({},xy,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wye=Mu(Gye),Kye=va({},xy,{data:0}),uQ=Mu(Kye),qye={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xye={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yye={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zye(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yye[e])?!!t[e]:!1}function GL(){return Zye}var Jye=va({},uE,{key:function(e){if(e.key){var t=qye[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=FN(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xye[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:GL,charCode:function(e){return e.type==="keypress"?FN(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?FN(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ewe=Mu(Jye),twe=va({},vT,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dQ=Mu(twe),rwe=va({},uE,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:GL}),nwe=Mu(rwe),iwe=va({},xy,{propertyName:0,elapsedTime:0,pseudoElement:0}),swe=Mu(iwe),awe=va({},vT,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),owe=Mu(awe),lwe=[9,13,27,32],WL=xA&&"CompositionEvent"in window,S2=null;xA&&"documentMode"in document&&(S2=document.documentMode);var cwe=xA&&"TextEvent"in window&&!S2,jre=xA&&(!WL||S2&&8<S2&&11>=S2),fQ=" ",hQ=!1;function Pre(e,t){switch(e){case"keyup":return lwe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fre(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nx=!1;function uwe(e,t){switch(e){case"compositionend":return Fre(t);case"keypress":return t.which!==32?null:(hQ=!0,fQ);case"textInput":return e=t.data,e===fQ&&hQ?null:e;default:return null}}function dwe(e,t){if(nx)return e==="compositionend"||!WL&&Pre(e,t)?(e=kre(),PN=VL=I0=null,nx=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jre&&t.locale!=="ko"?null:t.data;default:return null}}var fwe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AQ(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fwe[e.type]:t==="textarea"}function Ore(e,t,r,n){fre(n),t=N4(t,"onChange"),0<t.length&&(r=new zL("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var C2=null,wb=null;function hwe(e){Gre(e,0)}function yT(e){var t=ax(e);if(sre(t))return e}function Awe(e,t){if(e==="change")return t}var Dre=!1;if(xA){var Mk;if(xA){var Uk="oninput"in document;if(!Uk){var pQ=document.createElement("div");pQ.setAttribute("oninput","return;"),Uk=typeof pQ.oninput=="function"}Mk=Uk}else Mk=!1;Dre=Mk&&(!document.documentMode||9<document.documentMode)}function gQ(){C2&&(C2.detachEvent("onpropertychange",Lre),wb=C2=null)}function Lre(e){if(e.propertyName==="value"&&yT(wb)){var t=[];Ore(t,wb,e,ML(e)),gre(hwe,t)}}function pwe(e,t,r){e==="focusin"?(gQ(),C2=t,wb=r,C2.attachEvent("onpropertychange",Lre)):e==="focusout"&&gQ()}function gwe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yT(wb)}function mwe(e,t){if(e==="click")return yT(t)}function xwe(e,t){if(e==="input"||e==="change")return yT(t)}function vwe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hf=typeof Object.is=="function"?Object.is:vwe;function bb(e,t){if(hf(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!UP.call(t,i)||!hf(e[i],t[i]))return!1}return!0}function mQ(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xQ(e,t){var r=mQ(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=mQ(r)}}function Rre(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rre(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Mre(){for(var e=window,t=y4();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=y4(e.document)}return t}function KL(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ywe(e){var t=Mre(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Rre(r.ownerDocument.documentElement,r)){if(n!==null&&KL(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=xQ(r,s);var a=xQ(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wwe=xA&&"documentMode"in document&&11>=document.documentMode,ix=null,sF=null,N2=null,aF=!1;function vQ(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;aF||ix==null||ix!==y4(n)||(n=ix,"selectionStart"in n&&KL(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),N2&&bb(N2,n)||(N2=n,n=N4(sF,"onSelect"),0<n.length&&(t=new zL("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ix)))}function HS(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var sx={animationend:HS("Animation","AnimationEnd"),animationiteration:HS("Animation","AnimationIteration"),animationstart:HS("Animation","AnimationStart"),transitionend:HS("Transition","TransitionEnd")},Hk={},Ure={};xA&&(Ure=document.createElement("div").style,"AnimationEvent"in window||(delete sx.animationend.animation,delete sx.animationiteration.animation,delete sx.animationstart.animation),"TransitionEvent"in window||delete sx.transitionend.transition);function wT(e){if(Hk[e])return Hk[e];if(!sx[e])return e;var t=sx[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ure)return Hk[e]=t[r];return e}var Hre=wT("animationend"),Qre=wT("animationiteration"),$re=wT("animationstart"),Vre=wT("transitionend"),zre=new Map,yQ="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kp(e,t){zre.set(e,t),Rm(t,[e])}for(var Qk=0;Qk<yQ.length;Qk++){var $k=yQ[Qk],bwe=$k.toLowerCase(),_we=$k[0].toUpperCase()+$k.slice(1);kp(bwe,"on"+_we)}kp(Hre,"onAnimationEnd");kp(Qre,"onAnimationIteration");kp($re,"onAnimationStart");kp("dblclick","onDoubleClick");kp("focusin","onFocus");kp("focusout","onBlur");kp(Vre,"onTransitionEnd");dv("onMouseEnter",["mouseout","mouseover"]);dv("onMouseLeave",["mouseout","mouseover"]);dv("onPointerEnter",["pointerout","pointerover"]);dv("onPointerLeave",["pointerout","pointerover"]);Rm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rm("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var t2="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ewe=new Set("cancel close invalid load scroll toggle".split(" ").concat(t2));function wQ(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,bye(n,t,void 0,e),e.currentTarget=null}function Gre(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;wQ(i,l,u),s=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;wQ(i,l,u),s=c}}}if(b4)throw e=tF,b4=!1,tF=null,e}function Rs(e,t){var r=t[dF];r===void 0&&(r=t[dF]=new Set);var n=e+"__bubble";r.has(n)||(Wre(t,e,2,!1),r.add(n))}function Vk(e,t,r){var n=0;t&&(n|=4),Wre(r,e,n,t)}var QS="_reactListening"+Math.random().toString(36).slice(2);function _b(e){if(!e[QS]){e[QS]=!0,ere.forEach(function(r){r!=="selectionchange"&&(Ewe.has(r)||Vk(r,!1,e),Vk(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[QS]||(t[QS]=!0,Vk("selectionchange",!1,t))}}function Wre(e,t,r,n){switch(Ire(t)){case 1:var i=Rye;break;case 4:i=Mye;break;default:i=$L}r=i.bind(null,t,r,e),i=void 0,!eF||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function zk(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=bg(l),a===null)return;if(c=a.tag,c===5||c===6){n=s=a;continue e}l=l.parentNode}}n=n.return}gre(function(){var u=s,d=ML(r),h=[];e:{var A=zre.get(e);if(A!==void 0){var g=zL,v=e;switch(e){case"keypress":if(FN(r)===0)break e;case"keydown":case"keyup":g=ewe;break;case"focusin":v="focus",g=Rk;break;case"focusout":v="blur",g=Rk;break;case"beforeblur":case"afterblur":g=Rk;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=cQ;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Qye;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=nwe;break;case Hre:case Qre:case $re:g=zye;break;case Vre:g=swe;break;case"scroll":g=Uye;break;case"wheel":g=owe;break;case"copy":case"cut":case"paste":g=Wye;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=dQ}var x=(t&4)!==0,y=!x&&e==="scroll",w=x?A!==null?A+"Capture":null:A;x=[];for(var _=u,E;_!==null;){E=_;var I=E.stateNode;if(E.tag===5&&I!==null&&(E=I,w!==null&&(I=mb(_,w),I!=null&&x.push(Eb(_,I,E)))),y)break;_=_.return}0<x.length&&(A=new g(A,v,null,r,d),h.push({event:A,listeners:x}))}}if(!(t&7)){e:{if(A=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",A&&r!==ZP&&(v=r.relatedTarget||r.fromElement)&&(bg(v)||v[vA]))break e;if((g||A)&&(A=d.window===d?d:(A=d.ownerDocument)?A.defaultView||A.parentWindow:window,g?(v=r.relatedTarget||r.toElement,g=u,v=v?bg(v):null,v!==null&&(y=Mm(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(x=cQ,I="onMouseLeave",w="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(x=dQ,I="onPointerLeave",w="onPointerEnter",_="pointer"),y=g==null?A:ax(g),E=v==null?A:ax(v),A=new x(I,_+"leave",g,r,d),A.target=y,A.relatedTarget=E,I=null,bg(d)===u&&(x=new x(w,_+"enter",v,r,d),x.target=E,x.relatedTarget=y,I=x),y=I,g&&v)t:{for(x=g,w=v,_=0,E=x;E;E=g1(E))_++;for(E=0,I=w;I;I=g1(I))E++;for(;0<_-E;)x=g1(x),_--;for(;0<E-_;)w=g1(w),E--;for(;_--;){if(x===w||w!==null&&x===w.alternate)break t;x=g1(x),w=g1(w)}x=null}else x=null;g!==null&&bQ(h,A,g,x,!1),v!==null&&y!==null&&bQ(h,y,v,x,!0)}}e:{if(A=u?ax(u):window,g=A.nodeName&&A.nodeName.toLowerCase(),g==="select"||g==="input"&&A.type==="file")var N=Awe;else if(AQ(A))if(Dre)N=xwe;else{N=gwe;var j=pwe}else(g=A.nodeName)&&g.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(N=mwe);if(N&&(N=N(e,u))){Ore(h,N,r,d);break e}j&&j(e,A,u),e==="focusout"&&(j=A._wrapperState)&&j.controlled&&A.type==="number"&&WP(A,"number",A.value)}switch(j=u?ax(u):window,e){case"focusin":(AQ(j)||j.contentEditable==="true")&&(ix=j,sF=u,N2=null);break;case"focusout":N2=sF=ix=null;break;case"mousedown":aF=!0;break;case"contextmenu":case"mouseup":case"dragend":aF=!1,vQ(h,r,d);break;case"selectionchange":if(wwe)break;case"keydown":case"keyup":vQ(h,r,d)}var T;if(WL)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else nx?Pre(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(jre&&r.locale!=="ko"&&(nx||P!=="onCompositionStart"?P==="onCompositionEnd"&&nx&&(T=kre()):(I0=d,VL="value"in I0?I0.value:I0.textContent,nx=!0)),j=N4(u,P),0<j.length&&(P=new uQ(P,e,null,r,d),h.push({event:P,listeners:j}),T?P.data=T:(T=Fre(r),T!==null&&(P.data=T)))),(T=cwe?uwe(e,r):dwe(e,r))&&(u=N4(u,"onBeforeInput"),0<u.length&&(d=new uQ("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=T))}Gre(h,t)})}function Eb(e,t,r){return{instance:e,listener:t,currentTarget:r}}function N4(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=mb(e,r),s!=null&&n.unshift(Eb(e,s,i)),s=mb(e,t),s!=null&&n.push(Eb(e,s,i))),e=e.return}return n}function g1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bQ(e,t,r,n,i){for(var s=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=mb(r,s),c!=null&&a.unshift(Eb(r,c,l))):i||(c=mb(r,s),c!=null&&a.push(Eb(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Swe=/\r\n?/g,Cwe=/\u0000|\uFFFD/g;function _Q(e){return(typeof e=="string"?e:""+e).replace(Swe,`
`).replace(Cwe,"")}function $S(e,t,r){if(t=_Q(t),_Q(e)!==t&&r)throw Error(vr(425))}function T4(){}var oF=null,lF=null;function cF(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uF=typeof setTimeout=="function"?setTimeout:void 0,Nwe=typeof clearTimeout=="function"?clearTimeout:void 0,EQ=typeof Promise=="function"?Promise:void 0,Twe=typeof queueMicrotask=="function"?queueMicrotask:typeof EQ<"u"?function(e){return EQ.resolve(null).then(e).catch(Bwe)}:uF;function Bwe(e){setTimeout(function(){throw e})}function Gk(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),yb(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);yb(t)}function W0(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function SQ(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var vy=Math.random().toString(36).slice(2),Rf="__reactFiber$"+vy,Sb="__reactProps$"+vy,vA="__reactContainer$"+vy,dF="__reactEvents$"+vy,Iwe="__reactListeners$"+vy,kwe="__reactHandles$"+vy;function bg(e){var t=e[Rf];if(t)return t;for(var r=e.parentNode;r;){if(t=r[vA]||r[Rf]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=SQ(e);e!==null;){if(r=e[Rf])return r;e=SQ(e)}return t}e=r,r=e.parentNode}return null}function dE(e){return e=e[Rf]||e[vA],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ax(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(vr(33))}function bT(e){return e[Sb]||null}var fF=[],ox=-1;function jp(e){return{current:e}}function zs(e){0>ox||(e.current=fF[ox],fF[ox]=null,ox--)}function Bs(e,t){ox++,fF[ox]=e.current,e.current=t}var pp={},Yl=jp(pp),Wc=jp(!1),sm=pp;function fv(e,t){var r=e.type.contextTypes;if(!r)return pp;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Kc(e){return e=e.childContextTypes,e!=null}function B4(){zs(Wc),zs(Yl)}function CQ(e,t,r){if(Yl.current!==pp)throw Error(vr(168));Bs(Yl,t),Bs(Wc,r)}function Kre(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(vr(108,pye(e)||"Unknown",i));return va({},r,n)}function I4(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pp,sm=Yl.current,Bs(Yl,e),Bs(Wc,Wc.current),!0}function NQ(e,t,r){var n=e.stateNode;if(!n)throw Error(vr(169));r?(e=Kre(e,t,sm),n.__reactInternalMemoizedMergedChildContext=e,zs(Wc),zs(Yl),Bs(Yl,e)):zs(Wc),Bs(Wc,r)}var Kh=null,_T=!1,Wk=!1;function qre(e){Kh===null?Kh=[e]:Kh.push(e)}function jwe(e){_T=!0,qre(e)}function Pp(){if(!Wk&&Kh!==null){Wk=!0;var e=0,t=us;try{var r=Kh;for(us=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Kh=null,_T=!1}catch(i){throw Kh!==null&&(Kh=Kh.slice(e+1)),yre(UL,Pp),i}finally{us=t,Wk=!1}}return null}var lx=[],cx=0,k4=null,j4=0,sd=[],ad=0,am=null,Jh=1,eA="";function dg(e,t){lx[cx++]=j4,lx[cx++]=k4,k4=e,j4=t}function Xre(e,t,r){sd[ad++]=Jh,sd[ad++]=eA,sd[ad++]=am,am=e;var n=Jh;e=eA;var i=32-of(n)-1;n&=~(1<<i),r+=1;var s=32-of(t)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Jh=1<<32-of(t)+i|r<<i|n,eA=s+e}else Jh=1<<s|r<<i|n,eA=e}function qL(e){e.return!==null&&(dg(e,1),Xre(e,1,0))}function XL(e){for(;e===k4;)k4=lx[--cx],lx[cx]=null,j4=lx[--cx],lx[cx]=null;for(;e===am;)am=sd[--ad],sd[ad]=null,eA=sd[--ad],sd[ad]=null,Jh=sd[--ad],sd[ad]=null}var ju=null,Tu=null,ra=!1,Yd=null;function Yre(e,t){var r=fd(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function TQ(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ju=e,Tu=W0(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ju=e,Tu=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=am!==null?{id:Jh,overflow:eA}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=fd(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ju=e,Tu=null,!0):!1;default:return!1}}function hF(e){return(e.mode&1)!==0&&(e.flags&128)===0}function AF(e){if(ra){var t=Tu;if(t){var r=t;if(!TQ(e,t)){if(hF(e))throw Error(vr(418));t=W0(r.nextSibling);var n=ju;t&&TQ(e,t)?Yre(n,r):(e.flags=e.flags&-4097|2,ra=!1,ju=e)}}else{if(hF(e))throw Error(vr(418));e.flags=e.flags&-4097|2,ra=!1,ju=e}}}function BQ(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ju=e}function VS(e){if(e!==ju)return!1;if(!ra)return BQ(e),ra=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cF(e.type,e.memoizedProps)),t&&(t=Tu)){if(hF(e))throw Zre(),Error(vr(418));for(;t;)Yre(e,t),t=W0(t.nextSibling)}if(BQ(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(vr(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Tu=W0(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Tu=null}}else Tu=ju?W0(e.stateNode.nextSibling):null;return!0}function Zre(){for(var e=Tu;e;)e=W0(e.nextSibling)}function hv(){Tu=ju=null,ra=!1}function YL(e){Yd===null?Yd=[e]:Yd.push(e)}var Pwe=PA.ReactCurrentBatchConfig;function vw(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(vr(309));var n=r.stateNode}if(!n)throw Error(vr(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(vr(284));if(!r._owner)throw Error(vr(290,e))}return e}function zS(e,t){throw e=Object.prototype.toString.call(t),Error(vr(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function IQ(e){var t=e._init;return t(e._payload)}function Jre(e){function t(w,_){if(e){var E=w.deletions;E===null?(w.deletions=[_],w.flags|=16):E.push(_)}}function r(w,_){if(!e)return null;for(;_!==null;)t(w,_),_=_.sibling;return null}function n(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function i(w,_){return w=Y0(w,_),w.index=0,w.sibling=null,w}function s(w,_,E){return w.index=E,e?(E=w.alternate,E!==null?(E=E.index,E<_?(w.flags|=2,_):E):(w.flags|=2,_)):(w.flags|=1048576,_)}function a(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,_,E,I){return _===null||_.tag!==6?(_=ej(E,w.mode,I),_.return=w,_):(_=i(_,E),_.return=w,_)}function c(w,_,E,I){var N=E.type;return N===rx?d(w,_,E.props.children,I,E.key):_!==null&&(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===u0&&IQ(N)===_.type)?(I=i(_,E.props),I.ref=vw(w,_,E),I.return=w,I):(I=HN(E.type,E.key,E.props,null,w.mode,I),I.ref=vw(w,_,E),I.return=w,I)}function u(w,_,E,I){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=tj(E,w.mode,I),_.return=w,_):(_=i(_,E.children||[]),_.return=w,_)}function d(w,_,E,I,N){return _===null||_.tag!==7?(_=zg(E,w.mode,I,N),_.return=w,_):(_=i(_,E),_.return=w,_)}function h(w,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return _=ej(""+_,w.mode,E),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case FS:return E=HN(_.type,_.key,_.props,null,w.mode,E),E.ref=vw(w,null,_),E.return=w,E;case tx:return _=tj(_,w.mode,E),_.return=w,_;case u0:var I=_._init;return h(w,I(_._payload),E)}if(Jw(_)||Aw(_))return _=zg(_,w.mode,E,null),_.return=w,_;zS(w,_)}return null}function A(w,_,E,I){var N=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return N!==null?null:l(w,_,""+E,I);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case FS:return E.key===N?c(w,_,E,I):null;case tx:return E.key===N?u(w,_,E,I):null;case u0:return N=E._init,A(w,_,N(E._payload),I)}if(Jw(E)||Aw(E))return N!==null?null:d(w,_,E,I,null);zS(w,E)}return null}function g(w,_,E,I,N){if(typeof I=="string"&&I!==""||typeof I=="number")return w=w.get(E)||null,l(_,w,""+I,N);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case FS:return w=w.get(I.key===null?E:I.key)||null,c(_,w,I,N);case tx:return w=w.get(I.key===null?E:I.key)||null,u(_,w,I,N);case u0:var j=I._init;return g(w,_,E,j(I._payload),N)}if(Jw(I)||Aw(I))return w=w.get(E)||null,d(_,w,I,N,null);zS(_,I)}return null}function v(w,_,E,I){for(var N=null,j=null,T=_,P=_=0,k=null;T!==null&&P<E.length;P++){T.index>P?(k=T,T=null):k=T.sibling;var R=A(w,T,E[P],I);if(R===null){T===null&&(T=k);break}e&&T&&R.alternate===null&&t(w,T),_=s(R,_,P),j===null?N=R:j.sibling=R,j=R,T=k}if(P===E.length)return r(w,T),ra&&dg(w,P),N;if(T===null){for(;P<E.length;P++)T=h(w,E[P],I),T!==null&&(_=s(T,_,P),j===null?N=T:j.sibling=T,j=T);return ra&&dg(w,P),N}for(T=n(w,T);P<E.length;P++)k=g(T,w,P,E[P],I),k!==null&&(e&&k.alternate!==null&&T.delete(k.key===null?P:k.key),_=s(k,_,P),j===null?N=k:j.sibling=k,j=k);return e&&T.forEach(function(O){return t(w,O)}),ra&&dg(w,P),N}function x(w,_,E,I){var N=Aw(E);if(typeof N!="function")throw Error(vr(150));if(E=N.call(E),E==null)throw Error(vr(151));for(var j=N=null,T=_,P=_=0,k=null,R=E.next();T!==null&&!R.done;P++,R=E.next()){T.index>P?(k=T,T=null):k=T.sibling;var O=A(w,T,R.value,I);if(O===null){T===null&&(T=k);break}e&&T&&O.alternate===null&&t(w,T),_=s(O,_,P),j===null?N=O:j.sibling=O,j=O,T=k}if(R.done)return r(w,T),ra&&dg(w,P),N;if(T===null){for(;!R.done;P++,R=E.next())R=h(w,R.value,I),R!==null&&(_=s(R,_,P),j===null?N=R:j.sibling=R,j=R);return ra&&dg(w,P),N}for(T=n(w,T);!R.done;P++,R=E.next())R=g(T,w,P,R.value,I),R!==null&&(e&&R.alternate!==null&&T.delete(R.key===null?P:R.key),_=s(R,_,P),j===null?N=R:j.sibling=R,j=R);return e&&T.forEach(function(M){return t(w,M)}),ra&&dg(w,P),N}function y(w,_,E,I){if(typeof E=="object"&&E!==null&&E.type===rx&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case FS:e:{for(var N=E.key,j=_;j!==null;){if(j.key===N){if(N=E.type,N===rx){if(j.tag===7){r(w,j.sibling),_=i(j,E.props.children),_.return=w,w=_;break e}}else if(j.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===u0&&IQ(N)===j.type){r(w,j.sibling),_=i(j,E.props),_.ref=vw(w,j,E),_.return=w,w=_;break e}r(w,j);break}else t(w,j);j=j.sibling}E.type===rx?(_=zg(E.props.children,w.mode,I,E.key),_.return=w,w=_):(I=HN(E.type,E.key,E.props,null,w.mode,I),I.ref=vw(w,_,E),I.return=w,w=I)}return a(w);case tx:e:{for(j=E.key;_!==null;){if(_.key===j)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){r(w,_.sibling),_=i(_,E.children||[]),_.return=w,w=_;break e}else{r(w,_);break}else t(w,_);_=_.sibling}_=tj(E,w.mode,I),_.return=w,w=_}return a(w);case u0:return j=E._init,y(w,_,j(E._payload),I)}if(Jw(E))return v(w,_,E,I);if(Aw(E))return x(w,_,E,I);zS(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,_!==null&&_.tag===6?(r(w,_.sibling),_=i(_,E),_.return=w,w=_):(r(w,_),_=ej(E,w.mode,I),_.return=w,w=_),a(w)):r(w,_)}return y}var Av=Jre(!0),ene=Jre(!1),P4=jp(null),F4=null,ux=null,ZL=null;function JL(){ZL=ux=F4=null}function eR(e){var t=P4.current;zs(P4),e._currentValue=t}function pF(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Bx(e,t){F4=e,ZL=ux=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($c=!0),e.firstContext=null)}function wd(e){var t=e._currentValue;if(ZL!==e)if(e={context:e,memoizedValue:t,next:null},ux===null){if(F4===null)throw Error(vr(308));ux=e,F4.dependencies={lanes:0,firstContext:e}}else ux=ux.next=e;return t}var _g=null;function tR(e){_g===null?_g=[e]:_g.push(e)}function tne(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,tR(t)):(r.next=i.next,i.next=r),t.interleaved=r,yA(e,n)}function yA(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var d0=!1;function rR(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rne(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function aA(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function K0(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Di&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,yA(e,r)}return i=n.interleaved,i===null?(t.next=t,tR(n)):(t.next=i.next,i.next=t),n.interleaved=t,yA(e,r)}function ON(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,HL(e,r)}}function kQ(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function O4(e,t,r,n){var i=e.updateQueue;d0=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var h=i.baseState;a=0,d=u=c=null,l=s;do{var A=l.lane,g=l.eventTime;if((n&A)===A){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,x=l;switch(A=t,g=r,x.tag){case 1:if(v=x.payload,typeof v=="function"){h=v.call(g,h,A);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,A=typeof v=="function"?v.call(g,h,A):v,A==null)break e;h=va({},h,A);break e;case 2:d0=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,A=i.effects,A===null?i.effects=[l]:A.push(l))}else g={eventTime:g,lane:A,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=h):d=d.next=g,a|=A;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;A=l,l=A.next,A.next=null,i.lastBaseUpdate=A,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);lm|=a,e.lanes=a,e.memoizedState=h}}function jQ(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(vr(191,i));i.call(n)}}}var fE={},Yf=jp(fE),Cb=jp(fE),Nb=jp(fE);function Eg(e){if(e===fE)throw Error(vr(174));return e}function nR(e,t){switch(Bs(Nb,t),Bs(Cb,e),Bs(Yf,fE),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qP(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qP(t,e)}zs(Yf),Bs(Yf,t)}function pv(){zs(Yf),zs(Cb),zs(Nb)}function nne(e){Eg(Nb.current);var t=Eg(Yf.current),r=qP(t,e.type);t!==r&&(Bs(Cb,e),Bs(Yf,r))}function iR(e){Cb.current===e&&(zs(Yf),zs(Cb))}var ha=jp(0);function D4(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kk=[];function sR(){for(var e=0;e<Kk.length;e++)Kk[e]._workInProgressVersionPrimary=null;Kk.length=0}var DN=PA.ReactCurrentDispatcher,qk=PA.ReactCurrentBatchConfig,om=0,ma=null,To=null,Yo=null,L4=!1,T2=!1,Tb=0,Fwe=0;function Tl(){throw Error(vr(321))}function aR(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!hf(e[r],t[r]))return!1;return!0}function oR(e,t,r,n,i,s){if(om=s,ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,DN.current=e===null||e.memoizedState===null?Rwe:Mwe,e=r(n,i),T2){s=0;do{if(T2=!1,Tb=0,25<=s)throw Error(vr(301));s+=1,Yo=To=null,t.updateQueue=null,DN.current=Uwe,e=r(n,i)}while(T2)}if(DN.current=R4,t=To!==null&&To.next!==null,om=0,Yo=To=ma=null,L4=!1,t)throw Error(vr(300));return e}function lR(){var e=Tb!==0;return Tb=0,e}function jf(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yo===null?ma.memoizedState=Yo=e:Yo=Yo.next=e,Yo}function bd(){if(To===null){var e=ma.alternate;e=e!==null?e.memoizedState:null}else e=To.next;var t=Yo===null?ma.memoizedState:Yo.next;if(t!==null)Yo=t,To=e;else{if(e===null)throw Error(vr(310));To=e,e={memoizedState:To.memoizedState,baseState:To.baseState,baseQueue:To.baseQueue,queue:To.queue,next:null},Yo===null?ma.memoizedState=Yo=e:Yo=Yo.next=e}return Yo}function Bb(e,t){return typeof t=="function"?t(e):t}function Xk(e){var t=bd(),r=t.queue;if(r===null)throw Error(vr(311));r.lastRenderedReducer=e;var n=To,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((om&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=n):c=c.next=h,ma.lanes|=d,lm|=d}u=u.next}while(u!==null&&u!==s);c===null?a=n:c.next=l,hf(n,t.memoizedState)||($c=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,ma.lanes|=s,lm|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Yk(e){var t=bd(),r=t.queue;if(r===null)throw Error(vr(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);hf(s,t.memoizedState)||($c=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function ine(){}function sne(e,t){var r=ma,n=bd(),i=t(),s=!hf(n.memoizedState,i);if(s&&(n.memoizedState=i,$c=!0),n=n.queue,cR(lne.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Yo!==null&&Yo.memoizedState.tag&1){if(r.flags|=2048,Ib(9,one.bind(null,r,n,i,t),void 0,null),nl===null)throw Error(vr(349));om&30||ane(r,t,i)}return i}function ane(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ma.updateQueue,t===null?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function one(e,t,r,n){t.value=r,t.getSnapshot=n,cne(t)&&une(e)}function lne(e,t,r){return r(function(){cne(t)&&une(e)})}function cne(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!hf(e,r)}catch{return!0}}function une(e){var t=yA(e,1);t!==null&&lf(t,e,1,-1)}function PQ(e){var t=jf();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bb,lastRenderedState:e},t.queue=e,e=e.dispatch=Lwe.bind(null,ma,e),[t.memoizedState,e]}function Ib(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ma.updateQueue,t===null?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function dne(){return bd().memoizedState}function LN(e,t,r,n){var i=jf();ma.flags|=e,i.memoizedState=Ib(1|t,r,void 0,n===void 0?null:n)}function ET(e,t,r,n){var i=bd();n=n===void 0?null:n;var s=void 0;if(To!==null){var a=To.memoizedState;if(s=a.destroy,n!==null&&aR(n,a.deps)){i.memoizedState=Ib(t,r,s,n);return}}ma.flags|=e,i.memoizedState=Ib(1|t,r,s,n)}function FQ(e,t){return LN(8390656,8,e,t)}function cR(e,t){return ET(2048,8,e,t)}function fne(e,t){return ET(4,2,e,t)}function hne(e,t){return ET(4,4,e,t)}function Ane(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pne(e,t,r){return r=r!=null?r.concat([e]):null,ET(4,4,Ane.bind(null,t,e),r)}function uR(){}function gne(e,t){var r=bd();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&aR(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function mne(e,t){var r=bd();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&aR(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function xne(e,t,r){return om&21?(hf(r,t)||(r=_re(),ma.lanes|=r,lm|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$c=!0),e.memoizedState=r)}function Owe(e,t){var r=us;us=r!==0&&4>r?r:4,e(!0);var n=qk.transition;qk.transition={};try{e(!1),t()}finally{us=r,qk.transition=n}}function vne(){return bd().memoizedState}function Dwe(e,t,r){var n=X0(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},yne(e))wne(t,r);else if(r=tne(e,t,r,n),r!==null){var i=yc();lf(r,e,n,i),bne(r,t,n)}}function Lwe(e,t,r){var n=X0(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(yne(e))wne(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,r);if(i.hasEagerState=!0,i.eagerState=l,hf(l,a)){var c=t.interleaved;c===null?(i.next=i,tR(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=tne(e,t,i,n),r!==null&&(i=yc(),lf(r,e,n,i),bne(r,t,n))}}function yne(e){var t=e.alternate;return e===ma||t!==null&&t===ma}function wne(e,t){T2=L4=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function bne(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,HL(e,r)}}var R4={readContext:wd,useCallback:Tl,useContext:Tl,useEffect:Tl,useImperativeHandle:Tl,useInsertionEffect:Tl,useLayoutEffect:Tl,useMemo:Tl,useReducer:Tl,useRef:Tl,useState:Tl,useDebugValue:Tl,useDeferredValue:Tl,useTransition:Tl,useMutableSource:Tl,useSyncExternalStore:Tl,useId:Tl,unstable_isNewReconciler:!1},Rwe={readContext:wd,useCallback:function(e,t){return jf().memoizedState=[e,t===void 0?null:t],e},useContext:wd,useEffect:FQ,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,LN(4194308,4,Ane.bind(null,t,e),r)},useLayoutEffect:function(e,t){return LN(4194308,4,e,t)},useInsertionEffect:function(e,t){return LN(4,2,e,t)},useMemo:function(e,t){var r=jf();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=jf();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Dwe.bind(null,ma,e),[n.memoizedState,e]},useRef:function(e){var t=jf();return e={current:e},t.memoizedState=e},useState:PQ,useDebugValue:uR,useDeferredValue:function(e){return jf().memoizedState=e},useTransition:function(){var e=PQ(!1),t=e[0];return e=Owe.bind(null,e[1]),jf().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ma,i=jf();if(ra){if(r===void 0)throw Error(vr(407));r=r()}else{if(r=t(),nl===null)throw Error(vr(349));om&30||ane(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,FQ(lne.bind(null,n,s,e),[e]),n.flags|=2048,Ib(9,one.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=jf(),t=nl.identifierPrefix;if(ra){var r=eA,n=Jh;r=(n&~(1<<32-of(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Tb++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Fwe++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Mwe={readContext:wd,useCallback:gne,useContext:wd,useEffect:cR,useImperativeHandle:pne,useInsertionEffect:fne,useLayoutEffect:hne,useMemo:mne,useReducer:Xk,useRef:dne,useState:function(){return Xk(Bb)},useDebugValue:uR,useDeferredValue:function(e){var t=bd();return xne(t,To.memoizedState,e)},useTransition:function(){var e=Xk(Bb)[0],t=bd().memoizedState;return[e,t]},useMutableSource:ine,useSyncExternalStore:sne,useId:vne,unstable_isNewReconciler:!1},Uwe={readContext:wd,useCallback:gne,useContext:wd,useEffect:cR,useImperativeHandle:pne,useInsertionEffect:fne,useLayoutEffect:hne,useMemo:mne,useReducer:Yk,useRef:dne,useState:function(){return Yk(Bb)},useDebugValue:uR,useDeferredValue:function(e){var t=bd();return To===null?t.memoizedState=e:xne(t,To.memoizedState,e)},useTransition:function(){var e=Yk(Bb)[0],t=bd().memoizedState;return[e,t]},useMutableSource:ine,useSyncExternalStore:sne,useId:vne,unstable_isNewReconciler:!1};function Vd(e,t){if(e&&e.defaultProps){t=va({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function gF(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:va({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ST={isMounted:function(e){return(e=e._reactInternals)?Mm(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=yc(),i=X0(e),s=aA(n,i);s.payload=t,r!=null&&(s.callback=r),t=K0(e,s,i),t!==null&&(lf(t,e,i,n),ON(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=yc(),i=X0(e),s=aA(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=K0(e,s,i),t!==null&&(lf(t,e,i,n),ON(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=yc(),n=X0(e),i=aA(r,n);i.tag=2,t!=null&&(i.callback=t),t=K0(e,i,n),t!==null&&(lf(t,e,n,r),ON(t,e,n))}};function OQ(e,t,r,n,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,a):t.prototype&&t.prototype.isPureReactComponent?!bb(r,n)||!bb(i,s):!0}function _ne(e,t,r){var n=!1,i=pp,s=t.contextType;return typeof s=="object"&&s!==null?s=wd(s):(i=Kc(t)?sm:Yl.current,n=t.contextTypes,s=(n=n!=null)?fv(e,i):pp),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ST,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function DQ(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ST.enqueueReplaceState(t,t.state,null)}function mF(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},rR(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=wd(s):(s=Kc(t)?sm:Yl.current,i.context=fv(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(gF(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ST.enqueueReplaceState(i,i.state,null),O4(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function gv(e,t){try{var r="",n=t;do r+=Aye(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Zk(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function xF(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Hwe=typeof WeakMap=="function"?WeakMap:Map;function Ene(e,t,r){r=aA(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){U4||(U4=!0,TF=n),xF(e,t)},r}function Sne(e,t,r){r=aA(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){xF(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){xF(e,t),typeof n!="function"&&(q0===null?q0=new Set([this]):q0.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function LQ(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Hwe;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=t2e.bind(null,e,t,r),t.then(e,e))}function RQ(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function MQ(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=aA(-1,1),t.tag=2,K0(r,t,1))),r.lanes|=1),e)}var Qwe=PA.ReactCurrentOwner,$c=!1;function uc(e,t,r,n){t.child=e===null?ene(t,null,r,n):Av(t,e.child,r,n)}function UQ(e,t,r,n,i){r=r.render;var s=t.ref;return Bx(t,i),n=oR(e,t,r,n,s,i),r=lR(),e!==null&&!$c?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,wA(e,t,i)):(ra&&r&&qL(t),t.flags|=1,uc(e,t,n,i),t.child)}function HQ(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!xR(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,Cne(e,t,s,n,i)):(e=HN(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:bb,r(a,n)&&e.ref===t.ref)return wA(e,t,i)}return t.flags|=1,e=Y0(s,n),e.ref=t.ref,e.return=t,t.child=e}function Cne(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(bb(s,n)&&e.ref===t.ref)if($c=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&($c=!0);else return t.lanes=e.lanes,wA(e,t,i)}return vF(e,t,r,n,i)}function Nne(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bs(fx,mu),mu|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Bs(fx,mu),mu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Bs(fx,mu),mu|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Bs(fx,mu),mu|=n;return uc(e,t,i,r),t.child}function Tne(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function vF(e,t,r,n,i){var s=Kc(r)?sm:Yl.current;return s=fv(t,s),Bx(t,i),r=oR(e,t,r,n,s,i),n=lR(),e!==null&&!$c?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,wA(e,t,i)):(ra&&n&&qL(t),t.flags|=1,uc(e,t,r,i),t.child)}function QQ(e,t,r,n,i){if(Kc(r)){var s=!0;I4(t)}else s=!1;if(Bx(t,i),t.stateNode===null)RN(e,t),_ne(t,r,n),mF(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=wd(u):(u=Kc(r)?sm:Yl.current,u=fv(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&DQ(t,a,n,u),d0=!1;var A=t.memoizedState;a.state=A,O4(t,n,a,i),c=t.memoizedState,l!==n||A!==c||Wc.current||d0?(typeof d=="function"&&(gF(t,r,d,n),c=t.memoizedState),(l=d0||OQ(t,r,l,n,A,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,rne(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Vd(t.type,l),a.props=u,h=t.pendingProps,A=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=wd(c):(c=Kc(r)?sm:Yl.current,c=fv(t,c));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||A!==c)&&DQ(t,a,n,c),d0=!1,A=t.memoizedState,a.state=A,O4(t,n,a,i);var v=t.memoizedState;l!==h||A!==v||Wc.current||d0?(typeof g=="function"&&(gF(t,r,g,n),v=t.memoizedState),(u=d0||OQ(t,r,u,n,A,v,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,v,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),a.props=n,a.state=v,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),n=!1)}return yF(e,t,r,n,s,i)}function yF(e,t,r,n,i,s){Tne(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&NQ(t,r,!1),wA(e,t,s);n=t.stateNode,Qwe.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Av(t,e.child,null,s),t.child=Av(t,null,l,s)):uc(e,t,l,s),t.memoizedState=n.state,i&&NQ(t,r,!0),t.child}function Bne(e){var t=e.stateNode;t.pendingContext?CQ(e,t.pendingContext,t.pendingContext!==t.context):t.context&&CQ(e,t.context,!1),nR(e,t.containerInfo)}function $Q(e,t,r,n,i){return hv(),YL(i),t.flags|=256,uc(e,t,r,n),t.child}var wF={dehydrated:null,treeContext:null,retryLane:0};function bF(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ine(e,t,r){var n=t.pendingProps,i=ha.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Bs(ha,i&1),e===null)return AF(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,s?(n=t.mode,s=t.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=TT(a,n,0,null),e=zg(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=bF(r),t.memoizedState=wF,e):dR(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return $we(e,t,a,n,l,i,r);if(s){s=n.fallback,a=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Y0(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Y0(l,s):(s=zg(s,a,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,a=e.child.memoizedState,a=a===null?bF(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~r,t.memoizedState=wF,n}return s=e.child,e=s.sibling,n=Y0(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function dR(e,t){return t=TT({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function GS(e,t,r,n){return n!==null&&YL(n),Av(t,e.child,null,r),e=dR(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $we(e,t,r,n,i,s,a){if(r)return t.flags&256?(t.flags&=-257,n=Zk(Error(vr(422))),GS(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=TT({mode:"visible",children:n.children},i,0,null),s=zg(s,i,a,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Av(t,e.child,null,a),t.child.memoizedState=bF(a),t.memoizedState=wF,s);if(!(t.mode&1))return GS(e,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(vr(419)),n=Zk(s,n,void 0),GS(e,t,a,n)}if(l=(a&e.childLanes)!==0,$c||l){if(n=nl,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,yA(e,i),lf(n,e,i,-1))}return mR(),n=Zk(Error(vr(421))),GS(e,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=r2e.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Tu=W0(i.nextSibling),ju=t,ra=!0,Yd=null,e!==null&&(sd[ad++]=Jh,sd[ad++]=eA,sd[ad++]=am,Jh=e.id,eA=e.overflow,am=t),t=dR(t,n.children),t.flags|=4096,t)}function VQ(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),pF(e.return,t,r)}function Jk(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function kne(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(uc(e,t,n.children,r),n=ha.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&VQ(e,r,t);else if(e.tag===19)VQ(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Bs(ha,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&D4(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Jk(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&D4(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Jk(t,!0,r,null,s);break;case"together":Jk(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function RN(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wA(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),lm|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(vr(153));if(t.child!==null){for(e=t.child,r=Y0(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Y0(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Vwe(e,t,r){switch(t.tag){case 3:Bne(t),hv();break;case 5:nne(t);break;case 1:Kc(t.type)&&I4(t);break;case 4:nR(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Bs(P4,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Bs(ha,ha.current&1),t.flags|=128,null):r&t.child.childLanes?Ine(e,t,r):(Bs(ha,ha.current&1),e=wA(e,t,r),e!==null?e.sibling:null);Bs(ha,ha.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return kne(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Bs(ha,ha.current),n)break;return null;case 22:case 23:return t.lanes=0,Nne(e,t,r)}return wA(e,t,r)}var jne,_F,Pne,Fne;jne=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};_F=function(){};Pne=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Eg(Yf.current);var s=null;switch(r){case"input":i=zP(e,i),n=zP(e,n),s=[];break;case"select":i=va({},i,{value:void 0}),n=va({},n,{value:void 0}),s=[];break;case"textarea":i=KP(e,i),n=KP(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=T4)}XP(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pb.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pb.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Rs("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Fne=function(e,t,r,n){r!==n&&(t.flags|=4)};function yw(e,t){if(!ra)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Bl(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function zwe(e,t,r){var n=t.pendingProps;switch(XL(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bl(t),null;case 1:return Kc(t.type)&&B4(),Bl(t),null;case 3:return n=t.stateNode,pv(),zs(Wc),zs(Yl),sR(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(VS(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yd!==null&&(kF(Yd),Yd=null))),_F(e,t),Bl(t),null;case 5:iR(t);var i=Eg(Nb.current);if(r=t.type,e!==null&&t.stateNode!=null)Pne(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(vr(166));return Bl(t),null}if(e=Eg(Yf.current),VS(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Rf]=t,n[Sb]=s,e=(t.mode&1)!==0,r){case"dialog":Rs("cancel",n),Rs("close",n);break;case"iframe":case"object":case"embed":Rs("load",n);break;case"video":case"audio":for(i=0;i<t2.length;i++)Rs(t2[i],n);break;case"source":Rs("error",n);break;case"img":case"image":case"link":Rs("error",n),Rs("load",n);break;case"details":Rs("toggle",n);break;case"input":JH(n,s),Rs("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Rs("invalid",n);break;case"textarea":tQ(n,s),Rs("invalid",n)}XP(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&$S(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&$S(n.textContent,l,e),i=["children",""+l]):pb.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Rs("scroll",n)}switch(r){case"input":OS(n),eQ(n,s,!0);break;case"textarea":OS(n),rQ(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=T4)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lre(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Rf]=t,e[Sb]=n,jne(e,t,!1,!1),t.stateNode=e;e:{switch(a=YP(r,n),r){case"dialog":Rs("cancel",e),Rs("close",e),i=n;break;case"iframe":case"object":case"embed":Rs("load",e),i=n;break;case"video":case"audio":for(i=0;i<t2.length;i++)Rs(t2[i],e);i=n;break;case"source":Rs("error",e),i=n;break;case"img":case"image":case"link":Rs("error",e),Rs("load",e),i=n;break;case"details":Rs("toggle",e),i=n;break;case"input":JH(e,n),i=zP(e,n),Rs("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=va({},n,{value:void 0}),Rs("invalid",e);break;case"textarea":tQ(e,n),i=KP(e,n),Rs("invalid",e);break;default:i=n}XP(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?dre(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&cre(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&gb(e,c):typeof c=="number"&&gb(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(pb.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Rs("scroll",e):c!=null&&OL(e,s,c,a))}switch(r){case"input":OS(e),eQ(e,n,!1);break;case"textarea":OS(e),rQ(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ap(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Sx(e,!!n.multiple,s,!1):n.defaultValue!=null&&Sx(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=T4)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Bl(t),null;case 6:if(e&&t.stateNode!=null)Fne(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(vr(166));if(r=Eg(Nb.current),Eg(Yf.current),VS(t)){if(n=t.stateNode,r=t.memoizedProps,n[Rf]=t,(s=n.nodeValue!==r)&&(e=ju,e!==null))switch(e.tag){case 3:$S(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$S(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Rf]=t,t.stateNode=n}return Bl(t),null;case 13:if(zs(ha),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ra&&Tu!==null&&t.mode&1&&!(t.flags&128))Zre(),hv(),t.flags|=98560,s=!1;else if(s=VS(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(vr(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(vr(317));s[Rf]=t}else hv(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Bl(t),s=!1}else Yd!==null&&(kF(Yd),Yd=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ha.current&1?jo===0&&(jo=3):mR())),t.updateQueue!==null&&(t.flags|=4),Bl(t),null);case 4:return pv(),_F(e,t),e===null&&_b(t.stateNode.containerInfo),Bl(t),null;case 10:return eR(t.type._context),Bl(t),null;case 17:return Kc(t.type)&&B4(),Bl(t),null;case 19:if(zs(ha),s=t.memoizedState,s===null)return Bl(t),null;if(n=(t.flags&128)!==0,a=s.rendering,a===null)if(n)yw(s,!1);else{if(jo!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=D4(e),a!==null){for(t.flags|=128,yw(s,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Bs(ha,ha.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ga()>mv&&(t.flags|=128,n=!0,yw(s,!1),t.lanes=4194304)}else{if(!n)if(e=D4(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),yw(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!ra)return Bl(t),null}else 2*Ga()-s.renderingStartTime>mv&&r!==1073741824&&(t.flags|=128,n=!0,yw(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(r=s.last,r!==null?r.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ga(),t.sibling=null,r=ha.current,Bs(ha,n?r&1|2:r&1),t):(Bl(t),null);case 22:case 23:return gR(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?mu&1073741824&&(Bl(t),t.subtreeFlags&6&&(t.flags|=8192)):Bl(t),null;case 24:return null;case 25:return null}throw Error(vr(156,t.tag))}function Gwe(e,t){switch(XL(t),t.tag){case 1:return Kc(t.type)&&B4(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pv(),zs(Wc),zs(Yl),sR(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return iR(t),null;case 13:if(zs(ha),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(vr(340));hv()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return zs(ha),null;case 4:return pv(),null;case 10:return eR(t.type._context),null;case 22:case 23:return gR(),null;case 24:return null;default:return null}}var WS=!1,Vl=!1,Wwe=typeof WeakSet=="function"?WeakSet:Set,zr=null;function dx(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ta(e,t,n)}else r.current=null}function EF(e,t,r){try{r()}catch(n){Ta(e,t,n)}}var zQ=!1;function Kwe(e,t){if(oF=S4,e=Mre(),KL(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,A=null;t:for(;;){for(var g;h!==r||i!==0&&h.nodeType!==3||(l=a+i),h!==s||n!==0&&h.nodeType!==3||(c=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(g=h.firstChild)!==null;)A=h,h=g;for(;;){if(h===e)break t;if(A===r&&++u===i&&(l=a),A===s&&++d===n&&(c=a),(g=h.nextSibling)!==null)break;h=A,A=h.parentNode}h=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(lF={focusedElem:e,selectionRange:r},S4=!1,zr=t;zr!==null;)if(t=zr,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,zr=e;else for(;zr!==null;){t=zr;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,y=v.memoizedState,w=t.stateNode,_=w.getSnapshotBeforeUpdate(t.elementType===t.type?x:Vd(t.type,x),y);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(vr(163))}}catch(I){Ta(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,zr=e;break}zr=t.return}return v=zQ,zQ=!1,v}function B2(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&EF(t,r,s)}i=i.next}while(i!==n)}}function CT(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function SF(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function One(e){var t=e.alternate;t!==null&&(e.alternate=null,One(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rf],delete t[Sb],delete t[dF],delete t[Iwe],delete t[kwe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Dne(e){return e.tag===5||e.tag===3||e.tag===4}function GQ(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dne(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function CF(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=T4));else if(n!==4&&(e=e.child,e!==null))for(CF(e,t,r),e=e.sibling;e!==null;)CF(e,t,r),e=e.sibling}function NF(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(NF(e,t,r),e=e.sibling;e!==null;)NF(e,t,r),e=e.sibling}var hl=null,Kd=!1;function qA(e,t,r){for(r=r.child;r!==null;)Lne(e,t,r),r=r.sibling}function Lne(e,t,r){if(Xf&&typeof Xf.onCommitFiberUnmount=="function")try{Xf.onCommitFiberUnmount(xT,r)}catch{}switch(r.tag){case 5:Vl||dx(r,t);case 6:var n=hl,i=Kd;hl=null,qA(e,t,r),hl=n,Kd=i,hl!==null&&(Kd?(e=hl,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):hl.removeChild(r.stateNode));break;case 18:hl!==null&&(Kd?(e=hl,r=r.stateNode,e.nodeType===8?Gk(e.parentNode,r):e.nodeType===1&&Gk(e,r),yb(e)):Gk(hl,r.stateNode));break;case 4:n=hl,i=Kd,hl=r.stateNode.containerInfo,Kd=!0,qA(e,t,r),hl=n,Kd=i;break;case 0:case 11:case 14:case 15:if(!Vl&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&EF(r,t,a),i=i.next}while(i!==n)}qA(e,t,r);break;case 1:if(!Vl&&(dx(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ta(r,t,l)}qA(e,t,r);break;case 21:qA(e,t,r);break;case 22:r.mode&1?(Vl=(n=Vl)||r.memoizedState!==null,qA(e,t,r),Vl=n):qA(e,t,r);break;default:qA(e,t,r)}}function WQ(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Wwe),t.forEach(function(n){var i=n2e.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ld(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:hl=l.stateNode,Kd=!1;break e;case 3:hl=l.stateNode.containerInfo,Kd=!0;break e;case 4:hl=l.stateNode.containerInfo,Kd=!0;break e}l=l.return}if(hl===null)throw Error(vr(160));Lne(s,a,i),hl=null,Kd=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Ta(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Rne(t,e),t=t.sibling}function Rne(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ld(t,e),Sf(e),n&4){try{B2(3,e,e.return),CT(3,e)}catch(x){Ta(e,e.return,x)}try{B2(5,e,e.return)}catch(x){Ta(e,e.return,x)}}break;case 1:Ld(t,e),Sf(e),n&512&&r!==null&&dx(r,r.return);break;case 5:if(Ld(t,e),Sf(e),n&512&&r!==null&&dx(r,r.return),e.flags&32){var i=e.stateNode;try{gb(i,"")}catch(x){Ta(e,e.return,x)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&are(i,s),YP(l,a);var u=YP(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?dre(i,h):d==="dangerouslySetInnerHTML"?cre(i,h):d==="children"?gb(i,h):OL(i,d,h,u)}switch(l){case"input":GP(i,s);break;case"textarea":ore(i,s);break;case"select":var A=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Sx(i,!!s.multiple,g,!1):A!==!!s.multiple&&(s.defaultValue!=null?Sx(i,!!s.multiple,s.defaultValue,!0):Sx(i,!!s.multiple,s.multiple?[]:"",!1))}i[Sb]=s}catch(x){Ta(e,e.return,x)}}break;case 6:if(Ld(t,e),Sf(e),n&4){if(e.stateNode===null)throw Error(vr(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(x){Ta(e,e.return,x)}}break;case 3:if(Ld(t,e),Sf(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{yb(t.containerInfo)}catch(x){Ta(e,e.return,x)}break;case 4:Ld(t,e),Sf(e);break;case 13:Ld(t,e),Sf(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(AR=Ga())),n&4&&WQ(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Vl=(u=Vl)||d,Ld(t,e),Vl=u):Ld(t,e),Sf(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(zr=e,d=e.child;d!==null;){for(h=zr=d;zr!==null;){switch(A=zr,g=A.child,A.tag){case 0:case 11:case 14:case 15:B2(4,A,A.return);break;case 1:dx(A,A.return);var v=A.stateNode;if(typeof v.componentWillUnmount=="function"){n=A,r=A.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(x){Ta(n,r,x)}}break;case 5:dx(A,A.return);break;case 22:if(A.memoizedState!==null){qQ(h);continue}}g!==null?(g.return=A,zr=g):qQ(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ure("display",a))}catch(x){Ta(e,e.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){Ta(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ld(t,e),Sf(e),n&4&&WQ(e);break;case 21:break;default:Ld(t,e),Sf(e)}}function Sf(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Dne(r)){var n=r;break e}r=r.return}throw Error(vr(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(gb(i,""),n.flags&=-33);var s=GQ(e);NF(e,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,l=GQ(e);CF(e,l,a);break;default:throw Error(vr(161))}}catch(c){Ta(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qwe(e,t,r){zr=e,Mne(e)}function Mne(e,t,r){for(var n=(e.mode&1)!==0;zr!==null;){var i=zr,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||WS;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Vl;l=WS;var u=Vl;if(WS=a,(Vl=c)&&!u)for(zr=i;zr!==null;)a=zr,c=a.child,a.tag===22&&a.memoizedState!==null?XQ(i):c!==null?(c.return=a,zr=c):XQ(i);for(;s!==null;)zr=s,Mne(s),s=s.sibling;zr=i,WS=l,Vl=u}KQ(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,zr=s):KQ(e)}}function KQ(e){for(;zr!==null;){var t=zr;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Vl||CT(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Vl)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Vd(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&jQ(t,s,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}jQ(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&yb(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(vr(163))}Vl||t.flags&512&&SF(t)}catch(A){Ta(t,t.return,A)}}if(t===e){zr=null;break}if(r=t.sibling,r!==null){r.return=t.return,zr=r;break}zr=t.return}}function qQ(e){for(;zr!==null;){var t=zr;if(t===e){zr=null;break}var r=t.sibling;if(r!==null){r.return=t.return,zr=r;break}zr=t.return}}function XQ(e){for(;zr!==null;){var t=zr;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{CT(4,t)}catch(c){Ta(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Ta(t,i,c)}}var s=t.return;try{SF(t)}catch(c){Ta(t,s,c)}break;case 5:var a=t.return;try{SF(t)}catch(c){Ta(t,a,c)}}}catch(c){Ta(t,t.return,c)}if(t===e){zr=null;break}var l=t.sibling;if(l!==null){l.return=t.return,zr=l;break}zr=t.return}}var Xwe=Math.ceil,M4=PA.ReactCurrentDispatcher,fR=PA.ReactCurrentOwner,md=PA.ReactCurrentBatchConfig,Di=0,nl=null,uo=null,wl=0,mu=0,fx=jp(0),jo=0,kb=null,lm=0,NT=0,hR=0,I2=null,Mc=null,AR=0,mv=1/0,Gh=null,U4=!1,TF=null,q0=null,KS=!1,k0=null,H4=0,k2=0,BF=null,MN=-1,UN=0;function yc(){return Di&6?Ga():MN!==-1?MN:MN=Ga()}function X0(e){return e.mode&1?Di&2&&wl!==0?wl&-wl:Pwe.transition!==null?(UN===0&&(UN=_re()),UN):(e=us,e!==0||(e=window.event,e=e===void 0?16:Ire(e.type)),e):1}function lf(e,t,r,n){if(50<k2)throw k2=0,BF=null,Error(vr(185));cE(e,r,n),(!(Di&2)||e!==nl)&&(e===nl&&(!(Di&2)&&(NT|=r),jo===4&&x0(e,wl)),qc(e,n),r===1&&Di===0&&!(t.mode&1)&&(mv=Ga()+500,_T&&Pp()))}function qc(e,t){var r=e.callbackNode;Pye(e,t);var n=E4(e,e===nl?wl:0);if(n===0)r!==null&&sQ(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&sQ(r),t===1)e.tag===0?jwe(YQ.bind(null,e)):qre(YQ.bind(null,e)),Twe(function(){!(Di&6)&&Pp()}),r=null;else{switch(Ere(n)){case 1:r=UL;break;case 4:r=wre;break;case 16:r=_4;break;case 536870912:r=bre;break;default:r=_4}r=Wne(r,Une.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Une(e,t){if(MN=-1,UN=0,Di&6)throw Error(vr(327));var r=e.callbackNode;if(Ix()&&e.callbackNode!==r)return null;var n=E4(e,e===nl?wl:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Q4(e,n);else{t=n;var i=Di;Di|=2;var s=Qne();(nl!==e||wl!==t)&&(Gh=null,mv=Ga()+500,Vg(e,t));do try{Jwe();break}catch(l){Hne(e,l)}while(!0);JL(),M4.current=s,Di=i,uo!==null?t=0:(nl=null,wl=0,t=jo)}if(t!==0){if(t===2&&(i=rF(e),i!==0&&(n=i,t=IF(e,i))),t===1)throw r=kb,Vg(e,0),x0(e,n),qc(e,Ga()),r;if(t===6)x0(e,n);else{if(i=e.current.alternate,!(n&30)&&!Ywe(i)&&(t=Q4(e,n),t===2&&(s=rF(e),s!==0&&(n=s,t=IF(e,s))),t===1))throw r=kb,Vg(e,0),x0(e,n),qc(e,Ga()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(vr(345));case 2:fg(e,Mc,Gh);break;case 3:if(x0(e,n),(n&130023424)===n&&(t=AR+500-Ga(),10<t)){if(E4(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){yc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=uF(fg.bind(null,e,Mc,Gh),t);break}fg(e,Mc,Gh);break;case 4:if(x0(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-of(n);s=1<<a,a=t[a],a>i&&(i=a),n&=~s}if(n=i,n=Ga()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Xwe(n/1960))-n,10<n){e.timeoutHandle=uF(fg.bind(null,e,Mc,Gh),n);break}fg(e,Mc,Gh);break;case 5:fg(e,Mc,Gh);break;default:throw Error(vr(329))}}}return qc(e,Ga()),e.callbackNode===r?Une.bind(null,e):null}function IF(e,t){var r=I2;return e.current.memoizedState.isDehydrated&&(Vg(e,t).flags|=256),e=Q4(e,t),e!==2&&(t=Mc,Mc=r,t!==null&&kF(t)),e}function kF(e){Mc===null?Mc=e:Mc.push.apply(Mc,e)}function Ywe(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!hf(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function x0(e,t){for(t&=~hR,t&=~NT,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-of(t),n=1<<r;e[r]=-1,t&=~n}}function YQ(e){if(Di&6)throw Error(vr(327));Ix();var t=E4(e,0);if(!(t&1))return qc(e,Ga()),null;var r=Q4(e,t);if(e.tag!==0&&r===2){var n=rF(e);n!==0&&(t=n,r=IF(e,n))}if(r===1)throw r=kb,Vg(e,0),x0(e,t),qc(e,Ga()),r;if(r===6)throw Error(vr(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fg(e,Mc,Gh),qc(e,Ga()),null}function pR(e,t){var r=Di;Di|=1;try{return e(t)}finally{Di=r,Di===0&&(mv=Ga()+500,_T&&Pp())}}function cm(e){k0!==null&&k0.tag===0&&!(Di&6)&&Ix();var t=Di;Di|=1;var r=md.transition,n=us;try{if(md.transition=null,us=1,e)return e()}finally{us=n,md.transition=r,Di=t,!(Di&6)&&Pp()}}function gR(){mu=fx.current,zs(fx)}function Vg(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Nwe(r)),uo!==null)for(r=uo.return;r!==null;){var n=r;switch(XL(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&B4();break;case 3:pv(),zs(Wc),zs(Yl),sR();break;case 5:iR(n);break;case 4:pv();break;case 13:zs(ha);break;case 19:zs(ha);break;case 10:eR(n.type._context);break;case 22:case 23:gR()}r=r.return}if(nl=e,uo=e=Y0(e.current,null),wl=mu=t,jo=0,kb=null,hR=NT=lm=0,Mc=I2=null,_g!==null){for(t=0;t<_g.length;t++)if(r=_g[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}_g=null}return e}function Hne(e,t){do{var r=uo;try{if(JL(),DN.current=R4,L4){for(var n=ma.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}L4=!1}if(om=0,Yo=To=ma=null,T2=!1,Tb=0,fR.current=null,r===null||r.return===null){jo=1,kb=t,uo=null;break}e:{var s=e,a=r.return,l=r,c=t;if(t=wl,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var A=d.alternate;A?(d.updateQueue=A.updateQueue,d.memoizedState=A.memoizedState,d.lanes=A.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=RQ(a);if(g!==null){g.flags&=-257,MQ(g,a,l,s,t),g.mode&1&&LQ(s,u,t),t=g,c=u;var v=t.updateQueue;if(v===null){var x=new Set;x.add(c),t.updateQueue=x}else v.add(c);break e}else{if(!(t&1)){LQ(s,u,t),mR();break e}c=Error(vr(426))}}else if(ra&&l.mode&1){var y=RQ(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),MQ(y,a,l,s,t),YL(gv(c,l));break e}}s=c=gv(c,l),jo!==4&&(jo=2),I2===null?I2=[s]:I2.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var w=Ene(s,c,t);kQ(s,w);break e;case 1:l=c;var _=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(q0===null||!q0.has(E)))){s.flags|=65536,t&=-t,s.lanes|=t;var I=Sne(s,l,t);kQ(s,I);break e}}s=s.return}while(s!==null)}Vne(r)}catch(N){t=N,uo===r&&r!==null&&(uo=r=r.return);continue}break}while(!0)}function Qne(){var e=M4.current;return M4.current=R4,e===null?R4:e}function mR(){(jo===0||jo===3||jo===2)&&(jo=4),nl===null||!(lm&268435455)&&!(NT&268435455)||x0(nl,wl)}function Q4(e,t){var r=Di;Di|=2;var n=Qne();(nl!==e||wl!==t)&&(Gh=null,Vg(e,t));do try{Zwe();break}catch(i){Hne(e,i)}while(!0);if(JL(),Di=r,M4.current=n,uo!==null)throw Error(vr(261));return nl=null,wl=0,jo}function Zwe(){for(;uo!==null;)$ne(uo)}function Jwe(){for(;uo!==null&&!Eye();)$ne(uo)}function $ne(e){var t=Gne(e.alternate,e,mu);e.memoizedProps=e.pendingProps,t===null?Vne(e):uo=t,fR.current=null}function Vne(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Gwe(r,t),r!==null){r.flags&=32767,uo=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{jo=6,uo=null;return}}else if(r=zwe(r,t,mu),r!==null){uo=r;return}if(t=t.sibling,t!==null){uo=t;return}uo=t=e}while(t!==null);jo===0&&(jo=5)}function fg(e,t,r){var n=us,i=md.transition;try{md.transition=null,us=1,e2e(e,t,r,n)}finally{md.transition=i,us=n}return null}function e2e(e,t,r,n){do Ix();while(k0!==null);if(Di&6)throw Error(vr(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(vr(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(Fye(e,s),e===nl&&(uo=nl=null,wl=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||KS||(KS=!0,Wne(_4,function(){return Ix(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=md.transition,md.transition=null;var a=us;us=1;var l=Di;Di|=4,fR.current=null,Kwe(e,r),Rne(r,e),ywe(lF),S4=!!oF,lF=oF=null,e.current=r,qwe(r),Sye(),Di=l,us=a,md.transition=s}else e.current=r;if(KS&&(KS=!1,k0=e,H4=i),s=e.pendingLanes,s===0&&(q0=null),Tye(r.stateNode),qc(e,Ga()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(U4)throw U4=!1,e=TF,TF=null,e;return H4&1&&e.tag!==0&&Ix(),s=e.pendingLanes,s&1?e===BF?k2++:(k2=0,BF=e):k2=0,Pp(),null}function Ix(){if(k0!==null){var e=Ere(H4),t=md.transition,r=us;try{if(md.transition=null,us=16>e?16:e,k0===null)var n=!1;else{if(e=k0,k0=null,H4=0,Di&6)throw Error(vr(331));var i=Di;for(Di|=4,zr=e.current;zr!==null;){var s=zr,a=s.child;if(zr.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(zr=u;zr!==null;){var d=zr;switch(d.tag){case 0:case 11:case 15:B2(8,d,s)}var h=d.child;if(h!==null)h.return=d,zr=h;else for(;zr!==null;){d=zr;var A=d.sibling,g=d.return;if(One(d),d===u){zr=null;break}if(A!==null){A.return=g,zr=A;break}zr=g}}}var v=s.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}zr=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,zr=a;else e:for(;zr!==null;){if(s=zr,s.flags&2048)switch(s.tag){case 0:case 11:case 15:B2(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,zr=w;break e}zr=s.return}}var _=e.current;for(zr=_;zr!==null;){a=zr;var E=a.child;if(a.subtreeFlags&2064&&E!==null)E.return=a,zr=E;else e:for(a=_;zr!==null;){if(l=zr,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:CT(9,l)}}catch(N){Ta(l,l.return,N)}if(l===a){zr=null;break e}var I=l.sibling;if(I!==null){I.return=l.return,zr=I;break e}zr=l.return}}if(Di=i,Pp(),Xf&&typeof Xf.onPostCommitFiberRoot=="function")try{Xf.onPostCommitFiberRoot(xT,e)}catch{}n=!0}return n}finally{us=r,md.transition=t}}return!1}function ZQ(e,t,r){t=gv(r,t),t=Ene(e,t,1),e=K0(e,t,1),t=yc(),e!==null&&(cE(e,1,t),qc(e,t))}function Ta(e,t,r){if(e.tag===3)ZQ(e,e,r);else for(;t!==null;){if(t.tag===3){ZQ(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(q0===null||!q0.has(n))){e=gv(r,e),e=Sne(t,e,1),t=K0(t,e,1),e=yc(),t!==null&&(cE(t,1,e),qc(t,e));break}}t=t.return}}function t2e(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=yc(),e.pingedLanes|=e.suspendedLanes&r,nl===e&&(wl&r)===r&&(jo===4||jo===3&&(wl&130023424)===wl&&500>Ga()-AR?Vg(e,0):hR|=r),qc(e,t)}function zne(e,t){t===0&&(e.mode&1?(t=RS,RS<<=1,!(RS&130023424)&&(RS=4194304)):t=1);var r=yc();e=yA(e,t),e!==null&&(cE(e,t,r),qc(e,r))}function r2e(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),zne(e,r)}function n2e(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(vr(314))}n!==null&&n.delete(t),zne(e,r)}var Gne;Gne=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Wc.current)$c=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return $c=!1,Vwe(e,t,r);$c=!!(e.flags&131072)}else $c=!1,ra&&t.flags&1048576&&Xre(t,j4,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;RN(e,t),e=t.pendingProps;var i=fv(t,Yl.current);Bx(t,r),i=oR(null,t,n,e,i,r);var s=lR();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Kc(n)?(s=!0,I4(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,rR(t),i.updater=ST,t.stateNode=i,i._reactInternals=t,mF(t,n,e,r),t=yF(null,t,n,!0,s,r)):(t.tag=0,ra&&s&&qL(t),uc(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(RN(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=s2e(n),e=Vd(n,e),i){case 0:t=vF(null,t,n,e,r);break e;case 1:t=QQ(null,t,n,e,r);break e;case 11:t=UQ(null,t,n,e,r);break e;case 14:t=HQ(null,t,n,Vd(n.type,e),r);break e}throw Error(vr(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Vd(n,i),vF(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Vd(n,i),QQ(e,t,n,i,r);case 3:e:{if(Bne(t),e===null)throw Error(vr(387));n=t.pendingProps,s=t.memoizedState,i=s.element,rne(e,t),O4(t,n,null,r);var a=t.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=gv(Error(vr(423)),t),t=$Q(e,t,n,r,i);break e}else if(n!==i){i=gv(Error(vr(424)),t),t=$Q(e,t,n,r,i);break e}else for(Tu=W0(t.stateNode.containerInfo.firstChild),ju=t,ra=!0,Yd=null,r=ene(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(hv(),n===i){t=wA(e,t,r);break e}uc(e,t,n,r)}t=t.child}return t;case 5:return nne(t),e===null&&AF(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,cF(n,i)?a=null:s!==null&&cF(n,s)&&(t.flags|=32),Tne(e,t),uc(e,t,a,r),t.child;case 6:return e===null&&AF(t),null;case 13:return Ine(e,t,r);case 4:return nR(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Av(t,null,n,r):uc(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Vd(n,i),UQ(e,t,n,i,r);case 7:return uc(e,t,t.pendingProps,r),t.child;case 8:return uc(e,t,t.pendingProps.children,r),t.child;case 12:return uc(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Bs(P4,n._currentValue),n._currentValue=a,s!==null)if(hf(s.value,a)){if(s.children===i.children&&!Wc.current){t=wA(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=aA(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),pF(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(vr(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),pF(a,r,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}uc(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Bx(t,r),i=wd(i),n=n(i),t.flags|=1,uc(e,t,n,r),t.child;case 14:return n=t.type,i=Vd(n,t.pendingProps),i=Vd(n.type,i),HQ(e,t,n,i,r);case 15:return Cne(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Vd(n,i),RN(e,t),t.tag=1,Kc(n)?(e=!0,I4(t)):e=!1,Bx(t,r),_ne(t,n,i),mF(t,n,i,r),yF(null,t,n,!0,e,r);case 19:return kne(e,t,r);case 22:return Nne(e,t,r)}throw Error(vr(156,t.tag))};function Wne(e,t){return yre(e,t)}function i2e(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fd(e,t,r,n){return new i2e(e,t,r,n)}function xR(e){return e=e.prototype,!(!e||!e.isReactComponent)}function s2e(e){if(typeof e=="function")return xR(e)?1:0;if(e!=null){if(e=e.$$typeof,e===LL)return 11;if(e===RL)return 14}return 2}function Y0(e,t){var r=e.alternate;return r===null?(r=fd(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function HN(e,t,r,n,i,s){var a=2;if(n=e,typeof e=="function")xR(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case rx:return zg(r.children,i,s,t);case DL:a=8,i|=8;break;case HP:return e=fd(12,r,t,i|2),e.elementType=HP,e.lanes=s,e;case QP:return e=fd(13,r,t,i),e.elementType=QP,e.lanes=s,e;case $P:return e=fd(19,r,t,i),e.elementType=$P,e.lanes=s,e;case nre:return TT(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tre:a=10;break e;case rre:a=9;break e;case LL:a=11;break e;case RL:a=14;break e;case u0:a=16,n=null;break e}throw Error(vr(130,e==null?e:typeof e,""))}return t=fd(a,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function zg(e,t,r,n){return e=fd(7,e,n,t),e.lanes=r,e}function TT(e,t,r,n){return e=fd(22,e,n,t),e.elementType=nre,e.lanes=r,e.stateNode={isHidden:!1},e}function ej(e,t,r){return e=fd(6,e,null,t),e.lanes=r,e}function tj(e,t,r){return t=fd(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function a2e(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ok(0),this.expirationTimes=Ok(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ok(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vR(e,t,r,n,i,s,a,l,c){return e=new a2e(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=fd(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},rR(s),e}function o2e(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tx,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Kne(e){if(!e)return pp;e=e._reactInternals;e:{if(Mm(e)!==e||e.tag!==1)throw Error(vr(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Kc(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(vr(171))}if(e.tag===1){var r=e.type;if(Kc(r))return Kre(e,r,t)}return t}function qne(e,t,r,n,i,s,a,l,c){return e=vR(r,n,!0,e,i,s,a,l,c),e.context=Kne(null),r=e.current,n=yc(),i=X0(r),s=aA(n,i),s.callback=t??null,K0(r,s,i),e.current.lanes=i,cE(e,i,n),qc(e,n),e}function BT(e,t,r,n){var i=t.current,s=yc(),a=X0(i);return r=Kne(r),t.context===null?t.context=r:t.pendingContext=r,t=aA(s,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=K0(i,t,a),e!==null&&(lf(e,i,a,s),ON(e,i,a)),a}function $4(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function JQ(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function yR(e,t){JQ(e,t),(e=e.alternate)&&JQ(e,t)}function l2e(){return null}var Xne=typeof reportError=="function"?reportError:function(e){console.error(e)};function wR(e){this._internalRoot=e}IT.prototype.render=wR.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(vr(409));BT(e,t,null,null)};IT.prototype.unmount=wR.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cm(function(){BT(null,e,null,null)}),t[vA]=null}};function IT(e){this._internalRoot=e}IT.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nre();e={blockedOn:null,target:e,priority:t};for(var r=0;r<m0.length&&t!==0&&t<m0[r].priority;r++);m0.splice(r,0,e),r===0&&Bre(e)}};function bR(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function kT(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function e$(){}function c2e(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=$4(a);s.call(u)}}var a=qne(t,n,e,0,null,!1,!1,"",e$);return e._reactRootContainer=a,e[vA]=a.current,_b(e.nodeType===8?e.parentNode:e),cm(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=$4(c);l.call(u)}}var c=vR(e,0,!1,null,null,!1,!1,"",e$);return e._reactRootContainer=c,e[vA]=c.current,_b(e.nodeType===8?e.parentNode:e),cm(function(){BT(t,c,r,n)}),c}function jT(e,t,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=$4(a);l.call(c)}}BT(t,a,e,i)}else a=c2e(r,t,e,i,n);return $4(a)}Sre=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=e2(t.pendingLanes);r!==0&&(HL(t,r|1),qc(t,Ga()),!(Di&6)&&(mv=Ga()+500,Pp()))}break;case 13:cm(function(){var n=yA(e,1);if(n!==null){var i=yc();lf(n,e,1,i)}}),yR(e,1)}};QL=function(e){if(e.tag===13){var t=yA(e,134217728);if(t!==null){var r=yc();lf(t,e,134217728,r)}yR(e,134217728)}};Cre=function(e){if(e.tag===13){var t=X0(e),r=yA(e,t);if(r!==null){var n=yc();lf(r,e,t,n)}yR(e,t)}};Nre=function(){return us};Tre=function(e,t){var r=us;try{return us=e,t()}finally{us=r}};JP=function(e,t,r){switch(t){case"input":if(GP(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=bT(n);if(!i)throw Error(vr(90));sre(n),GP(n,i)}}}break;case"textarea":ore(e,r);break;case"select":t=r.value,t!=null&&Sx(e,!!r.multiple,t,!1)}};Are=pR;pre=cm;var u2e={usingClientEntryPoint:!1,Events:[dE,ax,bT,fre,hre,pR]},ww={findFiberByHostInstance:bg,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},d2e={bundleType:ww.bundleType,version:ww.version,rendererPackageName:ww.rendererPackageName,rendererConfig:ww.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:PA.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xre(e),e===null?null:e.stateNode},findFiberByHostInstance:ww.findFiberByHostInstance||l2e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qS.isDisabled&&qS.supportsFiber)try{xT=qS.inject(d2e),Xf=qS}catch{}}Ru.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u2e;Ru.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bR(t))throw Error(vr(200));return o2e(e,t,null,r)};Ru.createRoot=function(e,t){if(!bR(e))throw Error(vr(299));var r=!1,n="",i=Xne;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=vR(e,1,!1,null,null,r,!1,n,i),e[vA]=t.current,_b(e.nodeType===8?e.parentNode:e),new wR(t)};Ru.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(vr(188)):(e=Object.keys(e).join(","),Error(vr(268,e)));return e=xre(t),e=e===null?null:e.stateNode,e};Ru.flushSync=function(e){return cm(e)};Ru.hydrate=function(e,t,r){if(!kT(t))throw Error(vr(200));return jT(null,e,t,!0,r)};Ru.hydrateRoot=function(e,t,r){if(!bR(e))throw Error(vr(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=Xne;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=qne(t,null,e,1,r??null,i,!1,s,a),e[vA]=t.current,_b(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new IT(t)};Ru.render=function(e,t,r){if(!kT(t))throw Error(vr(200));return jT(null,e,t,!1,r)};Ru.unmountComponentAtNode=function(e){if(!kT(e))throw Error(vr(40));return e._reactRootContainer?(cm(function(){jT(null,null,e,!1,function(){e._reactRootContainer=null,e[vA]=null})}),!0):!1};Ru.unstable_batchedUpdates=pR;Ru.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!kT(r))throw Error(vr(200));if(e==null||e._reactInternals===void 0)throw Error(vr(38));return jT(e,t,r,!1,n)};Ru.version="18.3.1-next-f1338f8080-20240426";function Yne(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yne)}catch(e){console.error(e)}}Yne(),Yte.exports=Ru;var Uu=Yte.exports;const Zne=Gi(Uu);var Jne,t$=Uu;Jne=t$.createRoot,t$.hydrateRoot;const f2e=1,h2e=1e6;let rj=0;function A2e(){return rj=(rj+1)%Number.MAX_SAFE_INTEGER,rj.toString()}const nj=new Map,r$=e=>{if(nj.has(e))return;const t=setTimeout(()=>{nj.delete(e),j2({type:"REMOVE_TOAST",toastId:e})},h2e);nj.set(e,t)},p2e=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,f2e)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?r$(r):e.toasts.forEach(n=>{r$(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},QN=[];let $N={toasts:[]};function j2(e){$N=p2e($N,e),QN.forEach(t=>{t($N)})}function g2e({...e}){const t=A2e(),r=i=>j2({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>j2({type:"DISMISS_TOAST",toastId:t});return j2({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function Lo(){const[e,t]=C.useState($N);return C.useEffect(()=>(QN.push(t),()=>{const r=QN.indexOf(t);r>-1&&QN.splice(r,1)}),[e]),{...e,toast:g2e,dismiss:r=>j2({type:"DISMISS_TOAST",toastId:r})}}function Cn(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function n$(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function eie(...e){return t=>{let r=!1;const n=e.map(i=>{const s=n$(i,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():n$(e[i],null)}}}}function Ji(...e){return C.useCallback(eie(...e),e)}function m2e(e,t){const r=C.createContext(t),n=s=>{const{children:a,...l}=s,c=C.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:a})};n.displayName=e+"Provider";function i(s){const a=C.useContext(r);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,i]}function xh(e,t=[]){let r=[];function n(s,a){const l=C.createContext(a),c=r.length;r=[...r,a];const u=h=>{var w;const{scope:A,children:g,...v}=h,x=((w=A==null?void 0:A[e])==null?void 0:w[c])||l,y=C.useMemo(()=>v,Object.values(v));return o.jsx(x.Provider,{value:y,children:g})};u.displayName=s+"Provider";function d(h,A){var x;const g=((x=A==null?void 0:A[e])==null?void 0:x[c])||l,v=C.useContext(g);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=r.map(a=>C.createContext(a));return function(l){const c=(l==null?void 0:l[e])||s;return C.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,x2e(i,...t)]}function x2e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(s)[`__scope${u}`];return{...l,...h}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}function xv(e){const t=y2e(e),r=C.forwardRef((n,i)=>{const{children:s,...a}=n,l=C.Children.toArray(s),c=l.find(w2e);if(c){const u=c.props.children,d=l.map(h=>h===c?C.Children.count(u)>1?C.Children.only(null):C.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:C.isValidElement(u)?C.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}var v2e=xv("Slot");function y2e(e){const t=C.forwardRef((r,n)=>{const{children:i,...s}=r;if(C.isValidElement(i)){const a=_2e(i),l=b2e(s,i.props);return i.type!==C.Fragment&&(l.ref=n?eie(n,a):a),C.cloneElement(i,l)}return C.Children.count(i)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var tie=Symbol("radix.slottable");function rie(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=tie,t}function w2e(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===tie}function b2e(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function _2e(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function _R(e){const t=e+"CollectionProvider",[r,n]=xh(t),[i,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:y,children:w}=x,_=Me.useRef(null),E=Me.useRef(new Map).current;return o.jsx(i,{scope:y,itemMap:E,collectionRef:_,children:w})};a.displayName=t;const l=e+"CollectionSlot",c=xv(l),u=Me.forwardRef((x,y)=>{const{scope:w,children:_}=x,E=s(l,w),I=Ji(y,E.collectionRef);return o.jsx(c,{ref:I,children:_})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",A=xv(d),g=Me.forwardRef((x,y)=>{const{scope:w,children:_,...E}=x,I=Me.useRef(null),N=Ji(y,I),j=s(d,w);return Me.useEffect(()=>(j.itemMap.set(I,{ref:I,...E}),()=>void j.itemMap.delete(I))),o.jsx(A,{[h]:"",ref:N,children:_})});g.displayName=d;function v(x){const y=s(e+"CollectionConsumer",x);return Me.useCallback(()=>{const _=y.collectionRef.current;if(!_)return[];const E=Array.from(_.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((j,T)=>E.indexOf(j.ref.current)-E.indexOf(T.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:a,Slot:u,ItemSlot:g},v,n]}var E2e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Yn=E2e.reduce((e,t)=>{const r=xv(`Primitive.${t}`),n=C.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function nie(e,t){e&&Uu.flushSync(()=>e.dispatchEvent(t))}function _d(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function S2e(e,t=globalThis==null?void 0:globalThis.document){const r=_d(e);C.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var C2e="DismissableLayer",jF="dismissableLayer.update",N2e="dismissableLayer.pointerDownOutside",T2e="dismissableLayer.focusOutside",i$,iie=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hE=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...c}=e,u=C.useContext(iie),[d,h]=C.useState(null),A=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=C.useState({}),v=Ji(t,T=>h(T)),x=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=x.indexOf(y),_=d?x.indexOf(d):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,I=_>=w,N=I2e(T=>{const P=T.target,k=[...u.branches].some(R=>R.contains(P));!I||k||(i==null||i(T),a==null||a(T),T.defaultPrevented||l==null||l())},A),j=k2e(T=>{const P=T.target;[...u.branches].some(R=>R.contains(P))||(s==null||s(T),a==null||a(T),T.defaultPrevented||l==null||l())},A);return S2e(T=>{_===u.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},A),C.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(i$=A.body.style.pointerEvents,A.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),s$(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(A.body.style.pointerEvents=i$)}},[d,A,r,u]),C.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),s$())},[d,u]),C.useEffect(()=>{const T=()=>g({});return document.addEventListener(jF,T),()=>document.removeEventListener(jF,T)},[]),o.jsx(Yn.div,{...c,ref:v,style:{pointerEvents:E?I?"auto":"none":void 0,...e.style},onFocusCapture:Cn(e.onFocusCapture,j.onFocusCapture),onBlurCapture:Cn(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Cn(e.onPointerDownCapture,N.onPointerDownCapture)})});hE.displayName=C2e;var B2e="DismissableLayerBranch",sie=C.forwardRef((e,t)=>{const r=C.useContext(iie),n=C.useRef(null),i=Ji(t,n);return C.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),o.jsx(Yn.div,{...e,ref:i})});sie.displayName=B2e;function I2e(e,t=globalThis==null?void 0:globalThis.document){const r=_d(e),n=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){aie(N2e,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function k2e(e,t=globalThis==null?void 0:globalThis.document){const r=_d(e),n=C.useRef(!1);return C.useEffect(()=>{const i=s=>{s.target&&!n.current&&aie(T2e,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function s$(){const e=new CustomEvent(jF);document.dispatchEvent(e)}function aie(e,t,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?nie(i,s):i.dispatchEvent(s)}var j2e=hE,P2e=sie,_l=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},F2e="Portal",PT=C.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[i,s]=C.useState(!1);_l(()=>s(!0),[]);const a=r||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?Zne.createPortal(o.jsx(Yn.div,{...n,ref:t}),a):null});PT.displayName=F2e;function O2e(e,t){return C.useReducer((r,n)=>t[r][n]??r,e)}var Um=e=>{const{present:t,children:r}=e,n=D2e(t),i=typeof r=="function"?r({present:n.isPresent}):C.Children.only(r),s=Ji(n.ref,L2e(i));return typeof r=="function"||n.isPresent?C.cloneElement(i,{ref:s}):null};Um.displayName="Presence";function D2e(e){const[t,r]=C.useState(),n=C.useRef(null),i=C.useRef(e),s=C.useRef("none"),a=e?"mounted":"unmounted",[l,c]=O2e(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const u=XS(n.current);s.current=l==="mounted"?u:"none"},[l]),_l(()=>{const u=n.current,d=i.current;if(d!==e){const A=s.current,g=XS(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&A!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),_l(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=g=>{const x=XS(n.current).includes(g.animationName);if(g.target===t&&x&&(c("ANIMATION_END"),!i.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},A=g=>{g.target===t&&(s.current=XS(n.current))};return t.addEventListener("animationstart",A),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",A),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:C.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function XS(e){return(e==null?void 0:e.animationName)||"none"}function L2e(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var R2e=jL[" useInsertionEffect ".trim().toString()]||_l;function um({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,s,a]=M2e({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:i;{const d=C.useRef(e!==void 0);C.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=C.useCallback(d=>{var h;if(l){const A=U2e(d)?d(e):d;A!==e&&((h=a.current)==null||h.call(a,A))}else s(d)},[l,e,s,a]);return[c,u]}function M2e({defaultProp:e,onChange:t}){const[r,n]=C.useState(e),i=C.useRef(r),s=C.useRef(t);return R2e(()=>{s.current=t},[t]),C.useEffect(()=>{var a;i.current!==r&&((a=s.current)==null||a.call(s,r),i.current=r)},[r,i]),[r,n,s]}function U2e(e){return typeof e=="function"}var oie=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),H2e="VisuallyHidden",FT=C.forwardRef((e,t)=>o.jsx(Yn.span,{...e,ref:t,style:{...oie,...e.style}}));FT.displayName=H2e;var Q2e=FT,ER="ToastProvider",[SR,$2e,V2e]=_R("Toast"),[lie,ujt]=xh("Toast",[V2e]),[z2e,OT]=lie(ER),cie=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=e,[l,c]=C.useState(null),[u,d]=C.useState(0),h=C.useRef(!1),A=C.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${ER}\`. Expected non-empty \`string\`.`),o.jsx(SR.Provider,{scope:t,children:o.jsx(z2e,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:C.useCallback(()=>d(g=>g+1),[]),onToastRemove:C.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:A,children:a})})};cie.displayName=ER;var uie="ToastViewport",G2e=["F8"],PF="toast.viewportPause",FF="toast.viewportResume",die=C.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=G2e,label:i="Notifications ({hotkey})",...s}=e,a=OT(uie,r),l=$2e(r),c=C.useRef(null),u=C.useRef(null),d=C.useRef(null),h=C.useRef(null),A=Ji(t,h,a.onViewportChange),g=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=a.toastCount>0;C.useEffect(()=>{const y=w=>{var E;n.length!==0&&n.every(I=>w[I]||w.code===I)&&((E=h.current)==null||E.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),C.useEffect(()=>{const y=c.current,w=h.current;if(v&&y&&w){const _=()=>{if(!a.isClosePausedRef.current){const j=new CustomEvent(PF);w.dispatchEvent(j),a.isClosePausedRef.current=!0}},E=()=>{if(a.isClosePausedRef.current){const j=new CustomEvent(FF);w.dispatchEvent(j),a.isClosePausedRef.current=!1}},I=j=>{!y.contains(j.relatedTarget)&&E()},N=()=>{y.contains(document.activeElement)||E()};return y.addEventListener("focusin",_),y.addEventListener("focusout",I),y.addEventListener("pointermove",_),y.addEventListener("pointerleave",N),window.addEventListener("blur",_),window.addEventListener("focus",E),()=>{y.removeEventListener("focusin",_),y.removeEventListener("focusout",I),y.removeEventListener("pointermove",_),y.removeEventListener("pointerleave",N),window.removeEventListener("blur",_),window.removeEventListener("focus",E)}}},[v,a.isClosePausedRef]);const x=C.useCallback(({tabbingDirection:y})=>{const _=l().map(E=>{const I=E.ref.current,N=[I,...sbe(I)];return y==="forwards"?N:N.reverse()});return(y==="forwards"?_.reverse():_).flat()},[l]);return C.useEffect(()=>{const y=h.current;if(y){const w=_=>{var N,j,T;const E=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!E){const P=document.activeElement,k=_.shiftKey;if(_.target===y&&k){(N=u.current)==null||N.focus();return}const M=x({tabbingDirection:k?"backwards":"forwards"}),H=M.findIndex(K=>K===P);ij(M.slice(H+1))?_.preventDefault():k?(j=u.current)==null||j.focus():(T=d.current)==null||T.focus()}};return y.addEventListener("keydown",w),()=>y.removeEventListener("keydown",w)}},[l,x]),o.jsxs(P2e,{ref:c,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&o.jsx(OF,{ref:u,onFocusFromOutsideViewport:()=>{const y=x({tabbingDirection:"forwards"});ij(y)}}),o.jsx(SR.Slot,{scope:r,children:o.jsx(Yn.ol,{tabIndex:-1,...s,ref:A})}),v&&o.jsx(OF,{ref:d,onFocusFromOutsideViewport:()=>{const y=x({tabbingDirection:"backwards"});ij(y)}})]})});die.displayName=uie;var fie="ToastFocusProxy",OF=C.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,s=OT(fie,r);return o.jsx(FT,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=s.viewport)!=null&&u.contains(l))&&n()}})});OF.displayName=fie;var AE="Toast",W2e="toast.swipeStart",K2e="toast.swipeMove",q2e="toast.swipeCancel",X2e="toast.swipeEnd",hie=C.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:s,...a}=e,[l,c]=um({prop:n,defaultProp:i??!0,onChange:s,caller:AE});return o.jsx(Um,{present:r||l,children:o.jsx(J2e,{open:l,...a,ref:t,onClose:()=>c(!1),onPause:_d(e.onPause),onResume:_d(e.onResume),onSwipeStart:Cn(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Cn(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Cn(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Cn(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});hie.displayName=AE;var[Y2e,Z2e]=lie(AE,{onClose(){}}),J2e=C.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:A,onSwipeEnd:g,...v}=e,x=OT(AE,r),[y,w]=C.useState(null),_=Ji(t,K=>w(K)),E=C.useRef(null),I=C.useRef(null),N=i||x.duration,j=C.useRef(0),T=C.useRef(N),P=C.useRef(0),{onToastAdd:k,onToastRemove:R}=x,O=_d(()=>{var Y;(y==null?void 0:y.contains(document.activeElement))&&((Y=x.viewport)==null||Y.focus()),a()}),M=C.useCallback(K=>{!K||K===1/0||(window.clearTimeout(P.current),j.current=new Date().getTime(),P.current=window.setTimeout(O,K))},[O]);C.useEffect(()=>{const K=x.viewport;if(K){const Y=()=>{M(T.current),u==null||u()},ne=()=>{const le=new Date().getTime()-j.current;T.current=T.current-le,window.clearTimeout(P.current),c==null||c()};return K.addEventListener(PF,ne),K.addEventListener(FF,Y),()=>{K.removeEventListener(PF,ne),K.removeEventListener(FF,Y)}}},[x.viewport,N,c,u,M]),C.useEffect(()=>{s&&!x.isClosePausedRef.current&&M(N)},[s,N,x.isClosePausedRef,M]),C.useEffect(()=>(k(),()=>R()),[k,R]);const H=C.useMemo(()=>y?yie(y):null,[y]);return x.viewport?o.jsxs(o.Fragment,{children:[H&&o.jsx(ebe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),o.jsx(Y2e,{scope:r,onClose:O,children:Uu.createPortal(o.jsx(SR.ItemSlot,{scope:r,children:o.jsx(j2e,{asChild:!0,onEscapeKeyDown:Cn(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||O(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Yn.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":x.swipeDirection,...v,ref:_,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Cn(e.onKeyDown,K=>{K.key==="Escape"&&(l==null||l(K.nativeEvent),K.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:Cn(e.onPointerDown,K=>{K.button===0&&(E.current={x:K.clientX,y:K.clientY})}),onPointerMove:Cn(e.onPointerMove,K=>{if(!E.current)return;const Y=K.clientX-E.current.x,ne=K.clientY-E.current.y,le=!!I.current,te=["left","right"].includes(x.swipeDirection),X=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,ue=te?X(0,Y):0,ve=te?0:X(0,ne),V=K.pointerType==="touch"?10:2,q={x:ue,y:ve},ee={originalEvent:K,delta:q};le?(I.current=q,YS(K2e,h,ee,{discrete:!1})):a$(q,x.swipeDirection,V)?(I.current=q,YS(W2e,d,ee,{discrete:!1}),K.target.setPointerCapture(K.pointerId)):(Math.abs(Y)>V||Math.abs(ne)>V)&&(E.current=null)}),onPointerUp:Cn(e.onPointerUp,K=>{const Y=I.current,ne=K.target;if(ne.hasPointerCapture(K.pointerId)&&ne.releasePointerCapture(K.pointerId),I.current=null,E.current=null,Y){const le=K.currentTarget,te={originalEvent:K,delta:Y};a$(Y,x.swipeDirection,x.swipeThreshold)?YS(X2e,g,te,{discrete:!0}):YS(q2e,A,te,{discrete:!0}),le.addEventListener("click",X=>X.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),ebe=e=>{const{__scopeToast:t,children:r,...n}=e,i=OT(AE,t),[s,a]=C.useState(!1),[l,c]=C.useState(!1);return nbe(()=>a(!0)),C.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(PT,{asChild:!0,children:o.jsx(FT,{...n,children:s&&o.jsxs(o.Fragment,{children:[i.label," ",r]})})})},tbe="ToastTitle",Aie=C.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Yn.div,{...n,ref:t})});Aie.displayName=tbe;var rbe="ToastDescription",pie=C.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Yn.div,{...n,ref:t})});pie.displayName=rbe;var gie="ToastAction",mie=C.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?o.jsx(vie,{altText:r,asChild:!0,children:o.jsx(CR,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${gie}\`. Expected non-empty \`string\`.`),null)});mie.displayName=gie;var xie="ToastClose",CR=C.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=Z2e(xie,r);return o.jsx(vie,{asChild:!0,children:o.jsx(Yn.button,{type:"button",...n,ref:t,onClick:Cn(e.onClick,i.onClose)})})});CR.displayName=xie;var vie=C.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return o.jsx(Yn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function yie(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),ibe(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=n.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...yie(n))}}),t}function YS(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?nie(i,s):i.dispatchEvent(s)}var a$=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),s=n>i;return t==="left"||t==="right"?s&&n>r:!s&&i>r};function nbe(e=()=>{}){const t=_d(e);_l(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function ibe(e){return e.nodeType===e.ELEMENT_NODE}function sbe(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ij(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var abe=cie,wie=die,bie=hie,_ie=Aie,Eie=pie,Sie=mie,Cie=CR;function Nie(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=Nie(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function qn(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=Nie(e))&&(n&&(n+=" "),n+=t);return n}const o$=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,l$=qn,pE=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return l$(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=t,a=Object.keys(i).map(u=>{const d=r==null?void 0:r[u],h=s==null?void 0:s[u];if(d===null)return null;const A=o$(d)||o$(h);return i[u][A]}),l=r&&Object.entries(r).reduce((u,d)=>{let[h,A]=d;return A===void 0||(u[h]=A),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:A,...g}=d;return Object.entries(g).every(v=>{let[x,y]=v;return Array.isArray(y)?y.includes({...s,...l}[x]):{...s,...l}[x]===y})?[...u,h,A]:u},[]);return l$(e,a,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const obe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Tie=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lbe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cbe=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...l},c)=>C.createElement("svg",{ref:c,...lbe,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Tie("lucide",i),...l},[...a.map(([u,d])=>C.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=(e,t)=>{const r=C.forwardRef(({className:n,...i},s)=>C.createElement(cbe,{ref:s,iconNode:t,className:Tie(`lucide-${obe(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=Br("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bie=Br("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=Br("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=Br("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=Br("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ube=Br("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=Br("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dbe=Br("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=Br("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iie=Br("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=Br("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fbe=Br("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hbe=Br("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=Br("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kie=Br("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jie=Br("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=Br("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=Br("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=Br("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=Br("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=Br("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=Br("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=Br("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=Br("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=Br("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=Br("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=Br("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pie=Br("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=Br("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=Br("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Abe=Br("FileChartColumnIncreasing",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=Br("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=Br("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fie=Br("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pbe=Br("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=Br("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gbe=Br("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mbe=Br("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=Br("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=Br("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=Br("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xbe=Br("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vbe=Br("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=Br("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=Br("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=Br("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=Br("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oie=Br("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=Br("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Die=Br("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ybe=Br("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lie=Br("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=Br("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=Br("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=Br("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=Br("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=Br("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rie=Br("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=Br("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=Br("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=Br("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=Br("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=Br("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=Br("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=Br("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mie=Br("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wbe=Br("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bbe=Br("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=Br("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=Br("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _be=Br("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=Br("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ebe=Br("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uie=Br("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=Br("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=Br("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=Br("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=Br("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=Br("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=Br("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=Br("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sbe=Br("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=Br("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),BR="-",Cbe=e=>{const t=Tbe(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const l=a.split(BR);return l[0]===""&&l.length!==1&&l.shift(),Hie(l,t)||Nbe(a)},getConflictingClassGroupIds:(a,l)=>{const c=r[a]||[];return l&&n[a]?[...c,...n[a]]:c}}},Hie=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?Hie(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(BR);return(a=t.validators.find(({validator:l})=>l(s)))==null?void 0:a.classGroupId},f$=/^\[(.+)\]$/,Nbe=e=>{if(f$.test(e)){const t=f$.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Tbe=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Ibe(Object.entries(e.classGroups),r).forEach(([s,a])=>{RF(a,n,s,t)}),n},RF=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:h$(t,i);s.classGroupId=r;return}if(typeof i=="function"){if(Bbe(i)){RF(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,a])=>{RF(a,h$(t,s),r,n)})})},h$=(e,t)=>{let r=e;return t.split(BR).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Bbe=e=>e.isThemeGetter,Ibe=(e,t)=>t?e.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,l])=>[t+a,l])):s);return[r,i]}):e,kbe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(s,a)=>{r.set(s,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let a=r.get(s);if(a!==void 0)return a;if((a=n.get(s))!==void 0)return i(s,a),a},set(s,a){r.has(s)?r.set(s,a):i(s,a)}}},Qie="!",jbe=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],s=t.length,a=l=>{const c=[];let u=0,d=0,h;for(let y=0;y<l.length;y++){let w=l[y];if(u===0){if(w===i&&(n||l.slice(y,y+s)===t)){c.push(l.slice(d,y)),d=y+s;continue}if(w==="/"){h=y;continue}}w==="["?u++:w==="]"&&u--}const A=c.length===0?l:l.substring(d),g=A.startsWith(Qie),v=g?A.substring(1):A,x=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:x}};return r?l=>r({className:l,parseClassName:a}):a},Pbe=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Fbe=e=>({cache:kbe(e.cacheSize),parseClassName:jbe(e),...Cbe(e)}),Obe=/\s+/,Dbe=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,s=[],a=e.trim().split(Obe);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:A,maybePostfixModifierPosition:g}=r(u);let v=!!g,x=n(v?A.substring(0,g):A);if(!x){if(!v){l=u+(l.length>0?" "+l:l);continue}if(x=n(A),!x){l=u+(l.length>0?" "+l:l);continue}v=!1}const y=Pbe(d).join(":"),w=h?y+Qie:y,_=w+x;if(s.includes(_))continue;s.push(_);const E=i(x,v);for(let I=0;I<E.length;++I){const N=E[I];s.push(w+N)}l=u+(l.length>0?" "+l:l)}return l};function Lbe(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=$ie(t))&&(n&&(n+=" "),n+=r);return n}const $ie=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=$ie(e[n]))&&(r&&(r+=" "),r+=t);return r};function Rbe(e,...t){let r,n,i,s=a;function a(c){const u=t.reduce((d,h)=>h(d),e());return r=Fbe(u),n=r.cache.get,i=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=Dbe(c,r);return i(c,d),d}return function(){return s(Lbe.apply(null,arguments))}}const Ls=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Vie=/^\[(?:([a-z-]+):)?(.+)\]$/i,Mbe=/^\d+\/\d+$/,Ube=new Set(["px","full","screen"]),Hbe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Qbe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$be=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Vbe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zbe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Oh=e=>jx(e)||Ube.has(e)||Mbe.test(e),XA=e=>yy(e,"length",Jbe),jx=e=>!!e&&!Number.isNaN(Number(e)),oj=e=>yy(e,"number",jx),_w=e=>!!e&&Number.isInteger(Number(e)),Gbe=e=>e.endsWith("%")&&jx(e.slice(0,-1)),ii=e=>Vie.test(e),YA=e=>Hbe.test(e),Wbe=new Set(["length","size","percentage"]),Kbe=e=>yy(e,Wbe,zie),qbe=e=>yy(e,"position",zie),Xbe=new Set(["image","url"]),Ybe=e=>yy(e,Xbe,t_e),Zbe=e=>yy(e,"",e_e),Ew=()=>!0,yy=(e,t,r)=>{const n=Vie.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Jbe=e=>Qbe.test(e)&&!$be.test(e),zie=()=>!1,e_e=e=>Vbe.test(e),t_e=e=>zbe.test(e),r_e=()=>{const e=Ls("colors"),t=Ls("spacing"),r=Ls("blur"),n=Ls("brightness"),i=Ls("borderColor"),s=Ls("borderRadius"),a=Ls("borderSpacing"),l=Ls("borderWidth"),c=Ls("contrast"),u=Ls("grayscale"),d=Ls("hueRotate"),h=Ls("invert"),A=Ls("gap"),g=Ls("gradientColorStops"),v=Ls("gradientColorStopPositions"),x=Ls("inset"),y=Ls("margin"),w=Ls("opacity"),_=Ls("padding"),E=Ls("saturate"),I=Ls("scale"),N=Ls("sepia"),j=Ls("skew"),T=Ls("space"),P=Ls("translate"),k=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",ii,t],M=()=>[ii,t],H=()=>["",Oh,XA],K=()=>["auto",jx,ii],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>["start","end","center","between","around","evenly","stretch"],X=()=>["","0",ii],ue=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ve=()=>[jx,ii];return{cacheSize:500,separator:":",theme:{colors:[Ew],spacing:[Oh,XA],blur:["none","",YA,ii],brightness:ve(),borderColor:[e],borderRadius:["none","","full",YA,ii],borderSpacing:M(),borderWidth:H(),contrast:ve(),grayscale:X(),hueRotate:ve(),invert:X(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[Gbe,XA],inset:O(),margin:O(),opacity:ve(),padding:M(),saturate:ve(),scale:ve(),sepia:X(),skew:ve(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",ii]}],container:["container"],columns:[{columns:[YA]}],"break-after":[{"break-after":ue()}],"break-before":[{"break-before":ue()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),ii]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_w,ii]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ii]}],grow:[{grow:X()}],shrink:[{shrink:X()}],order:[{order:["first","last","none",_w,ii]}],"grid-cols":[{"grid-cols":[Ew]}],"col-start-end":[{col:["auto",{span:["full",_w,ii]},ii]}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":[Ew]}],"row-start-end":[{row:["auto",{span:[_w,ii]},ii]}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ii]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ii]}],gap:[{gap:[A]}],"gap-x":[{"gap-x":[A]}],"gap-y":[{"gap-y":[A]}],"justify-content":[{justify:["normal",...te()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...te(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...te(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ii,t]}],"min-w":[{"min-w":[ii,t,"min","max","fit"]}],"max-w":[{"max-w":[ii,t,"none","full","min","max","fit","prose",{screen:[YA]},YA]}],h:[{h:[ii,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ii,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ii,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ii,t,"auto","min","max","fit"]}],"font-size":[{text:["base",YA,XA]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",oj]}],"font-family":[{font:[Ew]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ii]}],"line-clamp":[{"line-clamp":["none",jx,oj]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Oh,ii]}],"list-image":[{"list-image":["none",ii]}],"list-style-type":[{list:["none","disc","decimal",ii]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Oh,XA]}],"underline-offset":[{"underline-offset":["auto",Oh,ii]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ii]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ii]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),qbe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Kbe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ybe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:ne()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[Oh,ii]}],"outline-w":[{outline:[Oh,XA]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Oh,XA]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",YA,Zbe]}],"shadow-color":[{shadow:[Ew]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",YA,ii]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[E]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ii]}],duration:[{duration:ve()}],ease:[{ease:["linear","in","out","in-out",ii]}],delay:[{delay:ve()}],animate:[{animate:["none","spin","ping","pulse","bounce",ii]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[_w,ii]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ii]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ii]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ii]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Oh,XA,oj]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},n_e=Rbe(r_e);function Zr(...e){return n_e(qn(e))}const i_e=abe,Gie=C.forwardRef(({className:e,...t},r)=>o.jsx(wie,{ref:r,className:Zr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Gie.displayName=wie.displayName;const s_e=pE("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Wie=C.forwardRef(({className:e,variant:t,...r},n)=>o.jsx(bie,{ref:n,className:Zr(s_e({variant:t}),e),...r}));Wie.displayName=bie.displayName;const a_e=C.forwardRef(({className:e,...t},r)=>o.jsx(Sie,{ref:r,className:Zr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));a_e.displayName=Sie.displayName;const Kie=C.forwardRef(({className:e,...t},r)=>o.jsx(Cie,{ref:r,className:Zr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(ef,{className:"h-4 w-4"})}));Kie.displayName=Cie.displayName;const qie=C.forwardRef(({className:e,...t},r)=>o.jsx(_ie,{ref:r,className:Zr("text-sm font-semibold",e),...t}));qie.displayName=_ie.displayName;const Xie=C.forwardRef(({className:e,...t},r)=>o.jsx(Eie,{ref:r,className:Zr("text-sm opacity-90",e),...t}));Xie.displayName=Eie.displayName;function o_e(){const{toasts:e}=Lo();return o.jsxs(i_e,{children:[e.map(function({id:t,title:r,description:n,action:i,...s}){return o.jsxs(Wie,{...s,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(qie,{children:r}),n&&o.jsx(Xie,{children:n})]}),i,o.jsx(Kie,{})]},t)}),o.jsx(Gie,{})]})}var A$=["light","dark"],l_e="(prefers-color-scheme: dark)",c_e=C.createContext(void 0),u_e={setTheme:e=>{},themes:[]},d_e=()=>{var e;return(e=C.useContext(c_e))!=null?e:u_e};C.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:s,value:a,attrs:l,nonce:c})=>{let u=s==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=i?A$.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",A=(v,x=!1,y=!0)=>{let w=a?a[v]:v,_=x?v+"|| ''":`'${w}'`,E="";return i&&y&&!x&&A$.includes(v)&&(E+=`d.style.colorScheme = '${v}';`),r==="class"?x||w?E+=`c.add(${_})`:E+="null":w&&(E+=`d[s](n,${_})`),E},g=e?`!function(){${d}${A(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${l_e}',m=window.matchMedia(t);if(m.media!==t||m.matches){${A("dark")}}else{${A("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${A(a?"x[e]":"e",!0)}}${u?"":"else{"+A(s,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${A(a?"x[e]":"e",!0)}}else{${A(s,!1,!1)};}${h}}catch(t){}}();`;return C.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var f_e=e=>{switch(e){case"success":return p_e;case"info":return m_e;case"warning":return g_e;case"error":return x_e;default:return null}},h_e=Array(12).fill(0),A_e=({visible:e,className:t})=>Me.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Me.createElement("div",{className:"sonner-spinner"},h_e.map((r,n)=>Me.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),p_e=Me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Me.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),g_e=Me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Me.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),m_e=Me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),x_e=Me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),v_e=Me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Me.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Me.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),y_e=()=>{let[e,t]=Me.useState(document.hidden);return Me.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},MF=1,w_e=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;let{message:n,...i}=t,s=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:MF++,a=this.toasts.find(c=>c.id===s),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...t,id:s,title:n}),{...c,...t,id:s,dismissible:l,title:n}):c):this.addToast({title:n,...i,dismissible:l,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:t,dismiss:!0})),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let i=t instanceof Promise?t:t(),s=n!==void 0,a,l=i.then(async u=>{if(a=["resolve",u],Me.isValidElement(u))s=!1,this.create({id:n,type:"default",message:u});else if(__e(u)&&!u.ok){s=!1;let d=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,h=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description;this.create({id:n,type:"error",message:d,description:h})}else if(r.success!==void 0){s=!1;let d=typeof r.success=="function"?await r.success(u):r.success,h=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"success",message:d,description:h})}}).catch(async u=>{if(a=["reject",u],r.error!==void 0){s=!1;let d=typeof r.error=="function"?await r.error(u):r.error,h=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"error",message:d,description:h})}}).finally(()=>{var u;s&&(this.dismiss(n),n=void 0),(u=r.finally)==null||u.call(r)}),c=()=>new Promise((u,d)=>l.then(()=>a[0]==="reject"?d(a[1]):u(a[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{let n=(r==null?void 0:r.id)||MF++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Oc=new w_e,b_e=(e,t)=>{let r=(t==null?void 0:t.id)||MF++;return Oc.addToast({title:e,...t,id:r}),r},__e=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",E_e=b_e,S_e=()=>Oc.toasts,C_e=()=>Oc.getActiveToasts(),fa=Object.assign(E_e,{success:Oc.success,info:Oc.info,warning:Oc.warning,error:Oc.error,custom:Oc.custom,message:Oc.message,promise:Oc.promise,dismiss:Oc.dismiss,loading:Oc.loading},{getHistory:S_e,getToasts:C_e});function N_e(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}N_e(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function JS(e){return e.label!==void 0}var T_e=3,B_e="32px",I_e="16px",p$=4e3,k_e=356,j_e=14,P_e=20,F_e=200;function Rd(...e){return e.filter(Boolean).join(" ")}function O_e(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var D_e=e=>{var t,r,n,i,s,a,l,c,u,d,h;let{invert:A,toast:g,unstyled:v,interacting:x,setHeights:y,visibleToasts:w,heights:_,index:E,toasts:I,expanded:N,removeToast:j,defaultRichColors:T,closeButton:P,style:k,cancelButtonStyle:R,actionButtonStyle:O,className:M="",descriptionClassName:H="",duration:K,position:Y,gap:ne,loadingIcon:le,expandByDefault:te,classNames:X,icons:ue,closeButtonAriaLabel:ve="Close toast",pauseWhenPageIsHidden:V}=e,[q,ee]=Me.useState(null),[re,de]=Me.useState(null),[Ae,_e]=Me.useState(!1),[ye,ce]=Me.useState(!1),[Ne,oe]=Me.useState(!1),[We,Re]=Me.useState(!1),[z,Fe]=Me.useState(!1),[He,ke]=Me.useState(0),[Te,Ze]=Me.useState(0),ze=Me.useRef(g.duration||K||p$),Tt=Me.useRef(null),Bt=Me.useRef(null),mt=E===0,_t=E+1<=w,jt=g.type,or=g.dismissible!==!1,St=g.className||"",at=g.descriptionClassName||"",Ut=Me.useMemo(()=>_.findIndex(Zt=>Zt.toastId===g.id)||0,[_,g.id]),qt=Me.useMemo(()=>{var Zt;return(Zt=g.closeButton)!=null?Zt:P},[g.closeButton,P]),Er=Me.useMemo(()=>g.duration||K||p$,[g.duration,K]),Kt=Me.useRef(0),xt=Me.useRef(0),pr=Me.useRef(0),Ke=Me.useRef(null),[gt,gr]=Y.split("-"),Ct=Me.useMemo(()=>_.reduce((Zt,br,Xr)=>Xr>=Ut?Zt:Zt+br.height,0),[_,Ut]),$t=y_e(),hr=g.invert||A,mr=jt==="loading";xt.current=Me.useMemo(()=>Ut*ne+Ct,[Ut,Ct]),Me.useEffect(()=>{ze.current=Er},[Er]),Me.useEffect(()=>{_e(!0)},[]),Me.useEffect(()=>{let Zt=Bt.current;if(Zt){let br=Zt.getBoundingClientRect().height;return Ze(br),y(Xr=>[{toastId:g.id,height:br,position:g.position},...Xr]),()=>y(Xr=>Xr.filter(Un=>Un.toastId!==g.id))}},[y,g.id]),Me.useLayoutEffect(()=>{if(!Ae)return;let Zt=Bt.current,br=Zt.style.height;Zt.style.height="auto";let Xr=Zt.getBoundingClientRect().height;Zt.style.height=br,Ze(Xr),y(Un=>Un.find(Fr=>Fr.toastId===g.id)?Un.map(Fr=>Fr.toastId===g.id?{...Fr,height:Xr}:Fr):[{toastId:g.id,height:Xr,position:g.position},...Un])},[Ae,g.title,g.description,y,g.id]);let er=Me.useCallback(()=>{ce(!0),ke(xt.current),y(Zt=>Zt.filter(br=>br.toastId!==g.id)),setTimeout(()=>{j(g)},F_e)},[g,j,y,xt]);Me.useEffect(()=>{if(g.promise&&jt==="loading"||g.duration===1/0||g.type==="loading")return;let Zt;return N||x||V&&$t?(()=>{if(pr.current<Kt.current){let br=new Date().getTime()-Kt.current;ze.current=ze.current-br}pr.current=new Date().getTime()})():ze.current!==1/0&&(Kt.current=new Date().getTime(),Zt=setTimeout(()=>{var br;(br=g.onAutoClose)==null||br.call(g,g),er()},ze.current)),()=>clearTimeout(Zt)},[N,x,g,jt,V,$t,er]),Me.useEffect(()=>{g.delete&&er()},[er,g.delete]);function sr(){var Zt,br,Xr;return ue!=null&&ue.loading?Me.createElement("div",{className:Rd(X==null?void 0:X.loader,(Zt=g==null?void 0:g.classNames)==null?void 0:Zt.loader,"sonner-loader"),"data-visible":jt==="loading"},ue.loading):le?Me.createElement("div",{className:Rd(X==null?void 0:X.loader,(br=g==null?void 0:g.classNames)==null?void 0:br.loader,"sonner-loader"),"data-visible":jt==="loading"},le):Me.createElement(A_e,{className:Rd(X==null?void 0:X.loader,(Xr=g==null?void 0:g.classNames)==null?void 0:Xr.loader),visible:jt==="loading"})}return Me.createElement("li",{tabIndex:0,ref:Bt,className:Rd(M,St,X==null?void 0:X.toast,(t=g==null?void 0:g.classNames)==null?void 0:t.toast,X==null?void 0:X.default,X==null?void 0:X[jt],(r=g==null?void 0:g.classNames)==null?void 0:r[jt]),"data-sonner-toast":"","data-rich-colors":(n=g.richColors)!=null?n:T,"data-styled":!(g.jsx||g.unstyled||v),"data-mounted":Ae,"data-promise":!!g.promise,"data-swiped":z,"data-removed":ye,"data-visible":_t,"data-y-position":gt,"data-x-position":gr,"data-index":E,"data-front":mt,"data-swiping":Ne,"data-dismissible":or,"data-type":jt,"data-invert":hr,"data-swipe-out":We,"data-swipe-direction":re,"data-expanded":!!(N||te&&Ae),style:{"--index":E,"--toasts-before":E,"--z-index":I.length-E,"--offset":`${ye?He:xt.current}px`,"--initial-height":te?"auto":`${Te}px`,...k,...g.style},onDragEnd:()=>{oe(!1),ee(null),Ke.current=null},onPointerDown:Zt=>{mr||!or||(Tt.current=new Date,ke(xt.current),Zt.target.setPointerCapture(Zt.pointerId),Zt.target.tagName!=="BUTTON"&&(oe(!0),Ke.current={x:Zt.clientX,y:Zt.clientY}))},onPointerUp:()=>{var Zt,br,Xr,Un;if(We||!or)return;Ke.current=null;let Fr=Number(((Zt=Bt.current)==null?void 0:Zt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Zn=Number(((br=Bt.current)==null?void 0:br.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Mr=new Date().getTime()-((Xr=Tt.current)==null?void 0:Xr.getTime()),Jn=q==="x"?Fr:Zn,bi=Math.abs(Jn)/Mr;if(Math.abs(Jn)>=P_e||bi>.11){ke(xt.current),(Un=g.onDismiss)==null||Un.call(g,g),de(q==="x"?Fr>0?"right":"left":Zn>0?"down":"up"),er(),Re(!0),Fe(!1);return}oe(!1),ee(null)},onPointerMove:Zt=>{var br,Xr,Un,Fr;if(!Ke.current||!or||((br=window.getSelection())==null?void 0:br.toString().length)>0)return;let Zn=Zt.clientY-Ke.current.y,Mr=Zt.clientX-Ke.current.x,Jn=(Xr=e.swipeDirections)!=null?Xr:O_e(Y);!q&&(Math.abs(Mr)>1||Math.abs(Zn)>1)&&ee(Math.abs(Mr)>Math.abs(Zn)?"x":"y");let bi={x:0,y:0};q==="y"?(Jn.includes("top")||Jn.includes("bottom"))&&(Jn.includes("top")&&Zn<0||Jn.includes("bottom")&&Zn>0)&&(bi.y=Zn):q==="x"&&(Jn.includes("left")||Jn.includes("right"))&&(Jn.includes("left")&&Mr<0||Jn.includes("right")&&Mr>0)&&(bi.x=Mr),(Math.abs(bi.x)>0||Math.abs(bi.y)>0)&&Fe(!0),(Un=Bt.current)==null||Un.style.setProperty("--swipe-amount-x",`${bi.x}px`),(Fr=Bt.current)==null||Fr.style.setProperty("--swipe-amount-y",`${bi.y}px`)}},qt&&!g.jsx?Me.createElement("button",{"aria-label":ve,"data-disabled":mr,"data-close-button":!0,onClick:mr||!or?()=>{}:()=>{var Zt;er(),(Zt=g.onDismiss)==null||Zt.call(g,g)},className:Rd(X==null?void 0:X.closeButton,(i=g==null?void 0:g.classNames)==null?void 0:i.closeButton)},(s=ue==null?void 0:ue.close)!=null?s:v_e):null,g.jsx||C.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:Me.createElement(Me.Fragment,null,jt||g.icon||g.promise?Me.createElement("div",{"data-icon":"",className:Rd(X==null?void 0:X.icon,(a=g==null?void 0:g.classNames)==null?void 0:a.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||sr():null,g.type!=="loading"?g.icon||(ue==null?void 0:ue[jt])||f_e(jt):null):null,Me.createElement("div",{"data-content":"",className:Rd(X==null?void 0:X.content,(l=g==null?void 0:g.classNames)==null?void 0:l.content)},Me.createElement("div",{"data-title":"",className:Rd(X==null?void 0:X.title,(c=g==null?void 0:g.classNames)==null?void 0:c.title)},typeof g.title=="function"?g.title():g.title),g.description?Me.createElement("div",{"data-description":"",className:Rd(H,at,X==null?void 0:X.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),C.isValidElement(g.cancel)?g.cancel:g.cancel&&JS(g.cancel)?Me.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||R,onClick:Zt=>{var br,Xr;JS(g.cancel)&&or&&((Xr=(br=g.cancel).onClick)==null||Xr.call(br,Zt),er())},className:Rd(X==null?void 0:X.cancelButton,(d=g==null?void 0:g.classNames)==null?void 0:d.cancelButton)},g.cancel.label):null,C.isValidElement(g.action)?g.action:g.action&&JS(g.action)?Me.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||O,onClick:Zt=>{var br,Xr;JS(g.action)&&((Xr=(br=g.action).onClick)==null||Xr.call(br,Zt),!Zt.defaultPrevented&&er())},className:Rd(X==null?void 0:X.actionButton,(h=g==null?void 0:g.classNames)==null?void 0:h.actionButton)},g.action.label):null))};function g$(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function L_e(e,t){let r={};return[e,t].forEach((n,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",l=s?I_e:B_e;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${a}-${u}`]=l:r[`${a}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var R_e=C.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:A,style:g,visibleToasts:v=T_e,toastOptions:x,dir:y=g$(),gap:w=j_e,loadingIcon:_,icons:E,containerAriaLabel:I="Notifications",pauseWhenPageIsHidden:N}=e,[j,T]=Me.useState([]),P=Me.useMemo(()=>Array.from(new Set([n].concat(j.filter(V=>V.position).map(V=>V.position)))),[j,n]),[k,R]=Me.useState([]),[O,M]=Me.useState(!1),[H,K]=Me.useState(!1),[Y,ne]=Me.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),le=Me.useRef(null),te=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),X=Me.useRef(null),ue=Me.useRef(!1),ve=Me.useCallback(V=>{T(q=>{var ee;return(ee=q.find(re=>re.id===V.id))!=null&&ee.delete||Oc.dismiss(V.id),q.filter(({id:re})=>re!==V.id)})},[]);return Me.useEffect(()=>Oc.subscribe(V=>{if(V.dismiss){T(q=>q.map(ee=>ee.id===V.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{Zne.flushSync(()=>{T(q=>{let ee=q.findIndex(re=>re.id===V.id);return ee!==-1?[...q.slice(0,ee),{...q[ee],...V},...q.slice(ee+1)]:[V,...q]})})})}),[]),Me.useEffect(()=>{if(d!=="system"){ne(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window>"u")return;let V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:q})=>{ne(q?"dark":"light")})}catch{V.addListener(({matches:ee})=>{try{ne(ee?"dark":"light")}catch(re){console.error(re)}})}},[d]),Me.useEffect(()=>{j.length<=1&&M(!1)},[j]),Me.useEffect(()=>{let V=q=>{var ee,re;i.every(de=>q[de]||q.code===de)&&(M(!0),(ee=le.current)==null||ee.focus()),q.code==="Escape"&&(document.activeElement===le.current||(re=le.current)!=null&&re.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[i]),Me.useEffect(()=>{if(le.current)return()=>{X.current&&(X.current.focus({preventScroll:!0}),X.current=null,ue.current=!1)}},[le.current]),Me.createElement("section",{ref:t,"aria-label":`${I} ${te}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((V,q)=>{var ee;let[re,de]=V.split("-");return j.length?Me.createElement("ol",{key:V,dir:y==="auto"?g$():y,tabIndex:-1,ref:le,className:l,"data-sonner-toaster":!0,"data-theme":Y,"data-y-position":re,"data-lifted":O&&j.length>1&&!s,"data-x-position":de,style:{"--front-toast-height":`${((ee=k[0])==null?void 0:ee.height)||0}px`,"--width":`${k_e}px`,"--gap":`${w}px`,...g,...L_e(c,u)},onBlur:Ae=>{ue.current&&!Ae.currentTarget.contains(Ae.relatedTarget)&&(ue.current=!1,X.current&&(X.current.focus({preventScroll:!0}),X.current=null))},onFocus:Ae=>{Ae.target instanceof HTMLElement&&Ae.target.dataset.dismissible==="false"||ue.current||(ue.current=!0,X.current=Ae.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{H||M(!1)},onDragEnd:()=>M(!1),onPointerDown:Ae=>{Ae.target instanceof HTMLElement&&Ae.target.dataset.dismissible==="false"||K(!0)},onPointerUp:()=>K(!1)},j.filter(Ae=>!Ae.position&&q===0||Ae.position===V).map((Ae,_e)=>{var ye,ce;return Me.createElement(D_e,{key:Ae.id,icons:E,index:_e,toast:Ae,defaultRichColors:h,duration:(ye=x==null?void 0:x.duration)!=null?ye:A,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:r,visibleToasts:v,closeButton:(ce=x==null?void 0:x.closeButton)!=null?ce:a,interacting:H,position:V,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:ve,toasts:j.filter(Ne=>Ne.position==Ae.position),heights:k.filter(Ne=>Ne.position==Ae.position),setHeights:R,expandByDefault:s,gap:w,loadingIcon:_,expanded:O,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});const M_e=({...e})=>{const{theme:t="system"}=d_e();return o.jsx(R_e,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var U_e=jL[" useId ".trim().toString()]||(()=>{}),H_e=0;function J0(e){const[t,r]=C.useState(U_e());return _l(()=>{r(n=>n??String(H_e++))},[e]),t?`radix-${t}`:""}const Q_e=["top","right","bottom","left"],gp=Math.min,vu=Math.max,K4=Math.round,eC=Math.floor,Zf=e=>({x:e,y:e}),$_e={left:"right",right:"left",bottom:"top",top:"bottom"},V_e={start:"end",end:"start"};function UF(e,t,r){return vu(e,gp(t,r))}function bA(e,t){return typeof e=="function"?e(t):e}function _A(e){return e.split("-")[0]}function wy(e){return e.split("-")[1]}function IR(e){return e==="x"?"y":"x"}function kR(e){return e==="y"?"height":"width"}const z_e=new Set(["top","bottom"]);function Vf(e){return z_e.has(_A(e))?"y":"x"}function jR(e){return IR(Vf(e))}function G_e(e,t,r){r===void 0&&(r=!1);const n=wy(e),i=jR(e),s=kR(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=q4(a)),[a,q4(a)]}function W_e(e){const t=q4(e);return[HF(e),t,HF(t)]}function HF(e){return e.replace(/start|end/g,t=>V_e[t])}const m$=["left","right"],x$=["right","left"],K_e=["top","bottom"],q_e=["bottom","top"];function X_e(e,t,r){switch(e){case"top":case"bottom":return r?t?x$:m$:t?m$:x$;case"left":case"right":return t?K_e:q_e;default:return[]}}function Y_e(e,t,r,n){const i=wy(e);let s=X_e(_A(e),r==="start",n);return i&&(s=s.map(a=>a+"-"+i),t&&(s=s.concat(s.map(HF)))),s}function q4(e){return e.replace(/left|right|bottom|top/g,t=>$_e[t])}function Z_e(e){return{top:0,right:0,bottom:0,left:0,...e}}function Yie(e){return typeof e!="number"?Z_e(e):{top:e,right:e,bottom:e,left:e}}function X4(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function v$(e,t,r){let{reference:n,floating:i}=e;const s=Vf(t),a=jR(t),l=kR(a),c=_A(t),u=s==="y",d=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,A=n[l]/2-i[l]/2;let g;switch(c){case"top":g={x:d,y:n.y-i.height};break;case"bottom":g={x:d,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:h};break;case"left":g={x:n.x-i.width,y:h};break;default:g={x:n.x,y:n.y}}switch(wy(t)){case"start":g[a]-=A*(r&&u?-1:1);break;case"end":g[a]+=A*(r&&u?-1:1);break}return g}const J_e=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:a}=r,l=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:h}=v$(u,n,c),A=n,g={},v=0;for(let x=0;x<l.length;x++){const{name:y,fn:w}=l[x],{x:_,y:E,data:I,reset:N}=await w({x:d,y:h,initialPlacement:n,placement:A,strategy:i,middlewareData:g,rects:u,platform:a,elements:{reference:e,floating:t}});d=_??d,h=E??h,g={...g,[y]:{...g[y],...I}},N&&v<=50&&(v++,typeof N=="object"&&(N.placement&&(A=N.placement),N.rects&&(u=N.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):N.rects),{x:d,y:h}=v$(u,A,c)),x=-1)}return{x:d,y:h,placement:A,strategy:i,middlewareData:g}};async function Ob(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:s,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:A=!1,padding:g=0}=bA(t,e),v=Yie(g),y=l[A?h==="floating"?"reference":"floating":h],w=X4(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(y)))==null||r?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),_=h==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),I=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},N=X4(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:_,offsetParent:E,strategy:c}):_);return{top:(w.top-N.top+v.top)/I.y,bottom:(N.bottom-w.bottom+v.bottom)/I.y,left:(w.left-N.left+v.left)/I.x,right:(N.right-w.right+v.right)/I.x}}const eEe=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:s,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=bA(e,t)||{};if(u==null)return{};const h=Yie(d),A={x:r,y:n},g=jR(i),v=kR(g),x=await a.getDimensions(u),y=g==="y",w=y?"top":"left",_=y?"bottom":"right",E=y?"clientHeight":"clientWidth",I=s.reference[v]+s.reference[g]-A[g]-s.floating[v],N=A[g]-s.reference[g],j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let T=j?j[E]:0;(!T||!await(a.isElement==null?void 0:a.isElement(j)))&&(T=l.floating[E]||s.floating[v]);const P=I/2-N/2,k=T/2-x[v]/2-1,R=gp(h[w],k),O=gp(h[_],k),M=R,H=T-x[v]-O,K=T/2-x[v]/2+P,Y=UF(M,K,H),ne=!c.arrow&&wy(i)!=null&&K!==Y&&s.reference[v]/2-(K<M?R:O)-x[v]/2<0,le=ne?K<M?K-M:K-H:0;return{[g]:A[g]+le,data:{[g]:Y,centerOffset:K-Y-le,...ne&&{alignmentOffset:le}},reset:ne}}}),tEe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:s,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:A,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...y}=bA(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const w=_A(i),_=Vf(l),E=_A(l)===l,I=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=A||(E||!x?[q4(l)]:W_e(l)),j=v!=="none";!A&&j&&N.push(...Y_e(l,x,v,I));const T=[l,...N],P=await Ob(t,y),k=[];let R=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&k.push(P[w]),h){const K=G_e(i,a,I);k.push(P[K[0]],P[K[1]])}if(R=[...R,{placement:i,overflows:k}],!k.every(K=>K<=0)){var O,M;const K=(((O=s.flip)==null?void 0:O.index)||0)+1,Y=T[K];if(Y&&(!(h==="alignment"?_!==Vf(Y):!1)||R.every(te=>te.overflows[0]>0&&Vf(te.placement)===_)))return{data:{index:K,overflows:R},reset:{placement:Y}};let ne=(M=R.filter(le=>le.overflows[0]<=0).sort((le,te)=>le.overflows[1]-te.overflows[1])[0])==null?void 0:M.placement;if(!ne)switch(g){case"bestFit":{var H;const le=(H=R.filter(te=>{if(j){const X=Vf(te.placement);return X===_||X==="y"}return!0}).map(te=>[te.placement,te.overflows.filter(X=>X>0).reduce((X,ue)=>X+ue,0)]).sort((te,X)=>te[1]-X[1])[0])==null?void 0:H[0];le&&(ne=le);break}case"initialPlacement":ne=l;break}if(i!==ne)return{reset:{placement:ne}}}return{}}}};function y$(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function w$(e){return Q_e.some(t=>e[t]>=0)}const rEe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=bA(e,t);switch(n){case"referenceHidden":{const s=await Ob(t,{...i,elementContext:"reference"}),a=y$(s,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:w$(a)}}}case"escaped":{const s=await Ob(t,{...i,altBoundary:!0}),a=y$(s,r.floating);return{data:{escapedOffsets:a,escaped:w$(a)}}}default:return{}}}}},Zie=new Set(["left","top"]);async function nEe(e,t){const{placement:r,platform:n,elements:i}=e,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=_A(r),l=wy(r),c=Vf(r)==="y",u=Zie.has(a)?-1:1,d=s&&c?-1:1,h=bA(t,e);let{mainAxis:A,crossAxis:g,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof v=="number"&&(g=l==="end"?v*-1:v),c?{x:g*d,y:A*u}:{x:A*u,y:g*d}}const iEe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:s,placement:a,middlewareData:l}=t,c=await nEe(t,e);return a===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}},sEe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:y=>{let{x:w,y:_}=y;return{x:w,y:_}}},...c}=bA(e,t),u={x:r,y:n},d=await Ob(t,c),h=Vf(_A(i)),A=IR(h);let g=u[A],v=u[h];if(s){const y=A==="y"?"top":"left",w=A==="y"?"bottom":"right",_=g+d[y],E=g-d[w];g=UF(_,g,E)}if(a){const y=h==="y"?"top":"left",w=h==="y"?"bottom":"right",_=v+d[y],E=v-d[w];v=UF(_,v,E)}const x=l.fn({...t,[A]:g,[h]:v});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[A]:s,[h]:a}}}}}},aEe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:s,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=bA(e,t),d={x:r,y:n},h=Vf(i),A=IR(h);let g=d[A],v=d[h];const x=bA(l,t),y=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const E=A==="y"?"height":"width",I=s.reference[A]-s.floating[E]+y.mainAxis,N=s.reference[A]+s.reference[E]-y.mainAxis;g<I?g=I:g>N&&(g=N)}if(u){var w,_;const E=A==="y"?"width":"height",I=Zie.has(_A(i)),N=s.reference[h]-s.floating[E]+(I&&((w=a.offset)==null?void 0:w[h])||0)+(I?0:y.crossAxis),j=s.reference[h]+s.reference[E]+(I?0:((_=a.offset)==null?void 0:_[h])||0)-(I?y.crossAxis:0);v<N?v=N:v>j&&(v=j)}return{[A]:g,[h]:v}}}},oEe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:s,platform:a,elements:l}=t,{apply:c=()=>{},...u}=bA(e,t),d=await Ob(t,u),h=_A(i),A=wy(i),g=Vf(i)==="y",{width:v,height:x}=s.floating;let y,w;h==="top"||h==="bottom"?(y=h,w=A===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(w=h,y=A==="end"?"top":"bottom");const _=x-d.top-d.bottom,E=v-d.left-d.right,I=gp(x-d[y],_),N=gp(v-d[w],E),j=!t.middlewareData.shift;let T=I,P=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(P=E),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(T=_),j&&!A){const R=vu(d.left,0),O=vu(d.right,0),M=vu(d.top,0),H=vu(d.bottom,0);g?P=v-2*(R!==0||O!==0?R+O:vu(d.left,d.right)):T=x-2*(M!==0||H!==0?M+H:vu(d.top,d.bottom))}await c({...t,availableWidth:P,availableHeight:T});const k=await a.getDimensions(l.floating);return v!==k.width||x!==k.height?{reset:{rects:!0}}:{}}}};function RT(){return typeof window<"u"}function by(e){return Jie(e)?(e.nodeName||"").toLowerCase():"#document"}function Pu(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function vh(e){var t;return(t=(Jie(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Jie(e){return RT()?e instanceof Node||e instanceof Pu(e).Node:!1}function Af(e){return RT()?e instanceof Element||e instanceof Pu(e).Element:!1}function hh(e){return RT()?e instanceof HTMLElement||e instanceof Pu(e).HTMLElement:!1}function b$(e){return!RT()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Pu(e).ShadowRoot}const lEe=new Set(["inline","contents"]);function vE(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=pf(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!lEe.has(i)}const cEe=new Set(["table","td","th"]);function uEe(e){return cEe.has(by(e))}const dEe=[":popover-open",":modal"];function MT(e){return dEe.some(t=>{try{return e.matches(t)}catch{return!1}})}const fEe=["transform","translate","scale","rotate","perspective"],hEe=["transform","translate","scale","rotate","perspective","filter"],AEe=["paint","layout","strict","content"];function PR(e){const t=FR(),r=Af(e)?pf(e):e;return fEe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||hEe.some(n=>(r.willChange||"").includes(n))||AEe.some(n=>(r.contain||"").includes(n))}function pEe(e){let t=mp(e);for(;hh(t)&&!yv(t);){if(PR(t))return t;if(MT(t))return null;t=mp(t)}return null}function FR(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const gEe=new Set(["html","body","#document"]);function yv(e){return gEe.has(by(e))}function pf(e){return Pu(e).getComputedStyle(e)}function UT(e){return Af(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function mp(e){if(by(e)==="html")return e;const t=e.assignedSlot||e.parentNode||b$(e)&&e.host||vh(e);return b$(t)?t.host:t}function ese(e){const t=mp(e);return yv(t)?e.ownerDocument?e.ownerDocument.body:e.body:hh(t)&&vE(t)?t:ese(t)}function Db(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=ese(e),s=i===((n=e.ownerDocument)==null?void 0:n.body),a=Pu(i);if(s){const l=QF(a);return t.concat(a,a.visualViewport||[],vE(i)?i:[],l&&r?Db(l):[])}return t.concat(i,Db(i,[],r))}function QF(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function tse(e){const t=pf(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=hh(e),s=i?e.offsetWidth:r,a=i?e.offsetHeight:n,l=K4(r)!==s||K4(n)!==a;return l&&(r=s,n=a),{width:r,height:n,$:l}}function OR(e){return Af(e)?e:e.contextElement}function Px(e){const t=OR(e);if(!hh(t))return Zf(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:s}=tse(t);let a=(s?K4(r.width):r.width)/n,l=(s?K4(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const mEe=Zf(0);function rse(e){const t=Pu(e);return!FR()||!t.visualViewport?mEe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function xEe(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Pu(e)?!1:t}function hm(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),s=OR(e);let a=Zf(1);t&&(n?Af(n)&&(a=Px(n)):a=Px(e));const l=xEe(s,r,n)?rse(s):Zf(0);let c=(i.left+l.x)/a.x,u=(i.top+l.y)/a.y,d=i.width/a.x,h=i.height/a.y;if(s){const A=Pu(s),g=n&&Af(n)?Pu(n):n;let v=A,x=QF(v);for(;x&&n&&g!==v;){const y=Px(x),w=x.getBoundingClientRect(),_=pf(x),E=w.left+(x.clientLeft+parseFloat(_.paddingLeft))*y.x,I=w.top+(x.clientTop+parseFloat(_.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,h*=y.y,c+=E,u+=I,v=Pu(x),x=QF(v)}}return X4({width:d,height:h,x:c,y:u})}function DR(e,t){const r=UT(e).scrollLeft;return t?t.left+r:hm(vh(e)).left+r}function nse(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:DR(e,n)),s=n.top+t.scrollTop;return{x:i,y:s}}function vEe(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const s=i==="fixed",a=vh(n),l=t?MT(t.floating):!1;if(n===a||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=Zf(1);const d=Zf(0),h=hh(n);if((h||!h&&!s)&&((by(n)!=="body"||vE(a))&&(c=UT(n)),hh(n))){const g=hm(n);u=Px(n),d.x=g.x+n.clientLeft,d.y=g.y+n.clientTop}const A=a&&!h&&!s?nse(a,c,!0):Zf(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+A.x,y:r.y*u.y-c.scrollTop*u.y+d.y+A.y}}function yEe(e){return Array.from(e.getClientRects())}function wEe(e){const t=vh(e),r=UT(e),n=e.ownerDocument.body,i=vu(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=vu(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+DR(e);const l=-r.scrollTop;return pf(n).direction==="rtl"&&(a+=vu(t.clientWidth,n.clientWidth)-i),{width:i,height:s,x:a,y:l}}function bEe(e,t){const r=Pu(e),n=vh(e),i=r.visualViewport;let s=n.clientWidth,a=n.clientHeight,l=0,c=0;if(i){s=i.width,a=i.height;const u=FR();(!u||u&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:a,x:l,y:c}}const _Ee=new Set(["absolute","fixed"]);function EEe(e,t){const r=hm(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,s=hh(e)?Px(e):Zf(1),a=e.clientWidth*s.x,l=e.clientHeight*s.y,c=i*s.x,u=n*s.y;return{width:a,height:l,x:c,y:u}}function _$(e,t,r){let n;if(t==="viewport")n=bEe(e,r);else if(t==="document")n=wEe(vh(e));else if(Af(t))n=EEe(t,r);else{const i=rse(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return X4(n)}function ise(e,t){const r=mp(e);return r===t||!Af(r)||yv(r)?!1:pf(r).position==="fixed"||ise(r,t)}function SEe(e,t){const r=t.get(e);if(r)return r;let n=Db(e,[],!1).filter(l=>Af(l)&&by(l)!=="body"),i=null;const s=pf(e).position==="fixed";let a=s?mp(e):e;for(;Af(a)&&!yv(a);){const l=pf(a),c=PR(a);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&_Ee.has(i.position)||vE(a)&&!c&&ise(e,a))?n=n.filter(d=>d!==a):i=l,a=mp(a)}return t.set(e,n),n}function CEe(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const a=[...r==="clippingAncestors"?MT(t)?[]:SEe(t,this._c):[].concat(r),n],l=a[0],c=a.reduce((u,d)=>{const h=_$(t,d,i);return u.top=vu(h.top,u.top),u.right=gp(h.right,u.right),u.bottom=gp(h.bottom,u.bottom),u.left=vu(h.left,u.left),u},_$(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function NEe(e){const{width:t,height:r}=tse(e);return{width:t,height:r}}function TEe(e,t,r){const n=hh(t),i=vh(t),s=r==="fixed",a=hm(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=Zf(0);function u(){c.x=DR(i)}if(n||!n&&!s)if((by(t)!=="body"||vE(i))&&(l=UT(t)),n){const g=hm(t,!0,s,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else i&&u();s&&!n&&i&&u();const d=i&&!n&&!s?nse(i,l):Zf(0),h=a.left+l.scrollLeft-c.x-d.x,A=a.top+l.scrollTop-c.y-d.y;return{x:h,y:A,width:a.width,height:a.height}}function lj(e){return pf(e).position==="static"}function E$(e,t){if(!hh(e)||pf(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return vh(e)===r&&(r=r.ownerDocument.body),r}function sse(e,t){const r=Pu(e);if(MT(e))return r;if(!hh(e)){let i=mp(e);for(;i&&!yv(i);){if(Af(i)&&!lj(i))return i;i=mp(i)}return r}let n=E$(e,t);for(;n&&uEe(n)&&lj(n);)n=E$(n,t);return n&&yv(n)&&lj(n)&&!PR(n)?r:n||pEe(e)||r}const BEe=async function(e){const t=this.getOffsetParent||sse,r=this.getDimensions,n=await r(e.floating);return{reference:TEe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function IEe(e){return pf(e).direction==="rtl"}const kEe={convertOffsetParentRelativeRectToViewportRelativeRect:vEe,getDocumentElement:vh,getClippingRect:CEe,getOffsetParent:sse,getElementRects:BEe,getClientRects:yEe,getDimensions:NEe,getScale:Px,isElement:Af,isRTL:IEe};function ase(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function jEe(e,t){let r=null,n;const i=vh(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:h,width:A,height:g}=u;if(l||t(),!A||!g)return;const v=eC(h),x=eC(i.clientWidth-(d+A)),y=eC(i.clientHeight-(h+g)),w=eC(d),E={rootMargin:-v+"px "+-x+"px "+-y+"px "+-w+"px",threshold:vu(0,gp(1,c))||1};let I=!0;function N(j){const T=j[0].intersectionRatio;if(T!==c){if(!I)return a();T?a(!1,T):n=setTimeout(()=>{a(!1,1e-7)},1e3)}T===1&&!ase(u,e.getBoundingClientRect())&&a(),I=!1}try{r=new IntersectionObserver(N,{...E,root:i.ownerDocument})}catch{r=new IntersectionObserver(N,E)}r.observe(e)}return a(!0),s}function PEe(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=OR(e),d=i||s?[...u?Db(u):[],...Db(t)]:[];d.forEach(w=>{i&&w.addEventListener("scroll",r,{passive:!0}),s&&w.addEventListener("resize",r)});const h=u&&l?jEe(u,r):null;let A=-1,g=null;a&&(g=new ResizeObserver(w=>{let[_]=w;_&&_.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(A),A=requestAnimationFrame(()=>{var E;(E=g)==null||E.observe(t)})),r()}),u&&!c&&g.observe(u),g.observe(t));let v,x=c?hm(e):null;c&&y();function y(){const w=hm(e);x&&!ase(x,w)&&r(),x=w,v=requestAnimationFrame(y)}return r(),()=>{var w;d.forEach(_=>{i&&_.removeEventListener("scroll",r),s&&_.removeEventListener("resize",r)}),h==null||h(),(w=g)==null||w.disconnect(),g=null,c&&cancelAnimationFrame(v)}}const FEe=iEe,OEe=sEe,DEe=tEe,LEe=oEe,REe=rEe,S$=eEe,MEe=aEe,UEe=(e,t,r)=>{const n=new Map,i={platform:kEe,...r},s={...i.platform,_c:n};return J_e(e,t,{...i,platform:s})};var HEe=typeof document<"u",QEe=function(){},KN=HEe?C.useLayoutEffect:QEe;function Y4(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Y4(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&e.$$typeof)&&!Y4(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function ose(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function C$(e,t){const r=ose(e);return Math.round(t*r)/r}function cj(e){const t=C.useRef(e);return KN(()=>{t.current=e}),t}function $Ee(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=C.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[A,g]=C.useState(n);Y4(A,n)||g(n);const[v,x]=C.useState(null),[y,w]=C.useState(null),_=C.useCallback(te=>{te!==j.current&&(j.current=te,x(te))},[]),E=C.useCallback(te=>{te!==T.current&&(T.current=te,w(te))},[]),I=s||v,N=a||y,j=C.useRef(null),T=C.useRef(null),P=C.useRef(d),k=c!=null,R=cj(c),O=cj(i),M=cj(u),H=C.useCallback(()=>{if(!j.current||!T.current)return;const te={placement:t,strategy:r,middleware:A};O.current&&(te.platform=O.current),UEe(j.current,T.current,te).then(X=>{const ue={...X,isPositioned:M.current!==!1};K.current&&!Y4(P.current,ue)&&(P.current=ue,Uu.flushSync(()=>{h(ue)}))})},[A,t,r,O,M]);KN(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,h(te=>({...te,isPositioned:!1})))},[u]);const K=C.useRef(!1);KN(()=>(K.current=!0,()=>{K.current=!1}),[]),KN(()=>{if(I&&(j.current=I),N&&(T.current=N),I&&N){if(R.current)return R.current(I,N,H);H()}},[I,N,H,R,k]);const Y=C.useMemo(()=>({reference:j,floating:T,setReference:_,setFloating:E}),[_,E]),ne=C.useMemo(()=>({reference:I,floating:N}),[I,N]),le=C.useMemo(()=>{const te={position:r,left:0,top:0};if(!ne.floating)return te;const X=C$(ne.floating,d.x),ue=C$(ne.floating,d.y);return l?{...te,transform:"translate("+X+"px, "+ue+"px)",...ose(ne.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:X,top:ue}},[r,l,ne.floating,d.x,d.y]);return C.useMemo(()=>({...d,update:H,refs:Y,elements:ne,floatingStyles:le}),[d,H,Y,ne,le])}const VEe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?S$({element:n.current,padding:i}).fn(r):{}:n?S$({element:n,padding:i}).fn(r):{}}}},zEe=(e,t)=>({...FEe(e),options:[e,t]}),GEe=(e,t)=>({...OEe(e),options:[e,t]}),WEe=(e,t)=>({...MEe(e),options:[e,t]}),KEe=(e,t)=>({...DEe(e),options:[e,t]}),qEe=(e,t)=>({...LEe(e),options:[e,t]}),XEe=(e,t)=>({...REe(e),options:[e,t]}),YEe=(e,t)=>({...VEe(e),options:[e,t]});var ZEe="Arrow",lse=C.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...s}=e;return o.jsx(Yn.svg,{...s,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});lse.displayName=ZEe;var JEe=lse;function cse(e){const[t,r]=C.useState(void 0);return _l(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;r({width:a,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var LR="Popper",[use,HT]=xh(LR),[eSe,dse]=use(LR),fse=e=>{const{__scopePopper:t,children:r}=e,[n,i]=C.useState(null);return o.jsx(eSe,{scope:t,anchor:n,onAnchorChange:i,children:r})};fse.displayName=LR;var hse="PopperAnchor",Ase=C.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,s=dse(hse,r),a=C.useRef(null),l=Ji(t,a);return C.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:o.jsx(Yn.div,{...i,ref:l})});Ase.displayName=hse;var RR="PopperContent",[tSe,rSe]=use(RR),pse=C.forwardRef((e,t)=>{var Ae,_e,ye,ce,Ne,oe;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:A=!1,updatePositionStrategy:g="optimized",onPlaced:v,...x}=e,y=dse(RR,r),[w,_]=C.useState(null),E=Ji(t,We=>_(We)),[I,N]=C.useState(null),j=cse(I),T=(j==null?void 0:j.width)??0,P=(j==null?void 0:j.height)??0,k=n+(s!=="center"?"-"+s:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],M=O.length>0,H={padding:R,boundary:O.filter(iSe),altBoundary:M},{refs:K,floatingStyles:Y,placement:ne,isPositioned:le,middlewareData:te}=$Ee({strategy:"fixed",placement:k,whileElementsMounted:(...We)=>PEe(...We,{animationFrame:g==="always"}),elements:{reference:y.anchor},middleware:[zEe({mainAxis:i+P,alignmentAxis:a}),c&&GEe({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?WEe():void 0,...H}),c&&KEe({...H}),qEe({...H,apply:({elements:We,rects:Re,availableWidth:z,availableHeight:Fe})=>{const{width:He,height:ke}=Re.reference,Te=We.floating.style;Te.setProperty("--radix-popper-available-width",`${z}px`),Te.setProperty("--radix-popper-available-height",`${Fe}px`),Te.setProperty("--radix-popper-anchor-width",`${He}px`),Te.setProperty("--radix-popper-anchor-height",`${ke}px`)}}),I&&YEe({element:I,padding:l}),sSe({arrowWidth:T,arrowHeight:P}),A&&XEe({strategy:"referenceHidden",...H})]}),[X,ue]=xse(ne),ve=_d(v);_l(()=>{le&&(ve==null||ve())},[le,ve]);const V=(Ae=te.arrow)==null?void 0:Ae.x,q=(_e=te.arrow)==null?void 0:_e.y,ee=((ye=te.arrow)==null?void 0:ye.centerOffset)!==0,[re,de]=C.useState();return _l(()=>{w&&de(window.getComputedStyle(w).zIndex)},[w]),o.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:le?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[(ce=te.transformOrigin)==null?void 0:ce.x,(Ne=te.transformOrigin)==null?void 0:Ne.y].join(" "),...((oe=te.hide)==null?void 0:oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(tSe,{scope:r,placedSide:X,onArrowChange:N,arrowX:V,arrowY:q,shouldHideArrow:ee,children:o.jsx(Yn.div,{"data-side":X,"data-align":ue,...x,ref:E,style:{...x.style,animation:le?void 0:"none"}})})})});pse.displayName=RR;var gse="PopperArrow",nSe={top:"bottom",right:"left",bottom:"top",left:"right"},mse=C.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,s=rSe(gse,n),a=nSe[s.placedSide];return o.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:o.jsx(JEe,{...i,ref:r,style:{...i.style,display:"block"}})})});mse.displayName=gse;function iSe(e){return e!==null}var sSe=e=>({name:"transformOrigin",options:e,fn(t){var y,w,_;const{placement:r,rects:n,middlewareData:i}=t,a=((y=i.arrow)==null?void 0:y.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=xse(r),h={start:"0%",center:"50%",end:"100%"}[d],A=(((w=i.arrow)==null?void 0:w.x)??0)+l/2,g=(((_=i.arrow)==null?void 0:_.y)??0)+c/2;let v="",x="";return u==="bottom"?(v=a?h:`${A}px`,x=`${-c}px`):u==="top"?(v=a?h:`${A}px`,x=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,x=a?h:`${g}px`):u==="left"&&(v=`${n.floating.width+c}px`,x=a?h:`${g}px`),{data:{x:v,y:x}}}});function xse(e){const[t,r="center"]=e.split("-");return[t,r]}var aSe=fse,vse=Ase,yse=pse,wse=mse,[QT,fjt]=xh("Tooltip",[HT]),MR=HT(),bse="TooltipProvider",oSe=700,N$="tooltip.open",[lSe,_se]=QT(bse),Ese=e=>{const{__scopeTooltip:t,delayDuration:r=oSe,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=e,a=C.useRef(!0),l=C.useRef(!1),c=C.useRef(0);return C.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(lSe,{scope:t,isOpenDelayedRef:a,delayDuration:r,onOpen:C.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:C.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:s})};Ese.displayName=bse;var Sse="Tooltip",[hjt,$T]=QT(Sse),$F="TooltipTrigger",cSe=C.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=$T($F,r),s=_se($F,r),a=MR(r),l=C.useRef(null),c=Ji(t,l,i.onTriggerChange),u=C.useRef(!1),d=C.useRef(!1),h=C.useCallback(()=>u.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),o.jsx(vse,{asChild:!0,...a,children:o.jsx(Yn.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:Cn(e.onPointerMove,A=>{A.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Cn(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Cn(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Cn(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:Cn(e.onBlur,i.onClose),onClick:Cn(e.onClick,i.onClose)})})});cSe.displayName=$F;var uSe="TooltipPortal",[Ajt,dSe]=QT(uSe,{forceMount:void 0}),wv="TooltipContent",Cse=C.forwardRef((e,t)=>{const r=dSe(wv,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=e,a=$T(wv,e.__scopeTooltip);return o.jsx(Um,{present:n||a.open,children:a.disableHoverableContent?o.jsx(Nse,{side:i,...s,ref:t}):o.jsx(fSe,{side:i,...s,ref:t})})}),fSe=C.forwardRef((e,t)=>{const r=$T(wv,e.__scopeTooltip),n=_se(wv,e.__scopeTooltip),i=C.useRef(null),s=Ji(t,i),[a,l]=C.useState(null),{trigger:c,onClose:u}=r,d=i.current,{onPointerInTransitChange:h}=n,A=C.useCallback(()=>{l(null),h(!1)},[h]),g=C.useCallback((v,x)=>{const y=v.currentTarget,w={x:v.clientX,y:v.clientY},_=mSe(w,y.getBoundingClientRect()),E=xSe(w,_),I=vSe(x.getBoundingClientRect()),N=wSe([...E,...I]);l(N),h(!0)},[h]);return C.useEffect(()=>()=>A(),[A]),C.useEffect(()=>{if(c&&d){const v=y=>g(y,d),x=y=>g(y,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",x)}}},[c,d,g,A]),C.useEffect(()=>{if(a){const v=x=>{const y=x.target,w={x:x.clientX,y:x.clientY},_=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),E=!ySe(w,a);_?A():E&&(A(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,a,u,A]),o.jsx(Nse,{...e,ref:s})}),[hSe,ASe]=QT(Sse,{isInside:!1}),pSe=rie("TooltipContent"),Nse=C.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...l}=e,c=$T(wv,r),u=MR(r),{onClose:d}=c;return C.useEffect(()=>(document.addEventListener(N$,d),()=>document.removeEventListener(N$,d)),[d]),C.useEffect(()=>{if(c.trigger){const h=A=>{const g=A.target;g!=null&&g.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),o.jsx(hE,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:o.jsxs(yse,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(pSe,{children:n}),o.jsx(hSe,{scope:r,isInside:!0,children:o.jsx(Q2e,{id:c.contentId,role:"tooltip",children:i||n})})]})})});Cse.displayName=wv;var Tse="TooltipArrow",gSe=C.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=MR(r);return ASe(Tse,r).isInside?null:o.jsx(wse,{...i,...n,ref:t})});gSe.displayName=Tse;function mSe(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function xSe(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function vSe(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function ySe(e,t){const{x:r,y:n}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const l=t[s],c=t[a],u=l.x,d=l.y,h=c.x,A=c.y;d>n!=A>n&&r<(h-u)*(n-d)/(A-d)+u&&(i=!i)}return i}function wSe(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),bSe(t)}function bSe(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const s=t[t.length-1],a=t[t.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const s=r[r.length-1],a=r[r.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var _Se=Ese,Bse=Cse;const ESe=_Se,SSe=C.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(Bse,{ref:n,sideOffset:t,className:Zr("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));SSe.displayName=Bse.displayName;var VT=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},zT=typeof window>"u"||"Deno"in globalThis;function zd(){}function CSe(e,t){return typeof e=="function"?e(t):e}function NSe(e){return typeof e=="number"&&e>=0&&e!==1/0}function TSe(e,t){return Math.max(e+(t||0)-Date.now(),0)}function VF(e,t){return typeof e=="function"?e(t):e}function BSe(e,t){return typeof e=="function"?e(t):e}function T$(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:l}=e;if(a){if(n){if(t.queryHash!==UR(a,t.options))return!1}else if(!Rb(t.queryKey,a))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||s&&!s(t))}function B$(e,t){const{exact:r,status:n,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Lb(t.options.mutationKey)!==Lb(s))return!1}else if(!Rb(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function UR(e,t){return((t==null?void 0:t.queryKeyHashFn)||Lb)(e)}function Lb(e){return JSON.stringify(e,(t,r)=>zF(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Rb(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Rb(e[r],t[r])):!1}function Ise(e,t){if(e===t)return e;const r=I$(e)&&I$(t);if(r||zF(e)&&zF(t)){const n=r?e:Object.keys(e),i=n.length,s=r?t:Object.keys(t),a=s.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<a;d++){const h=r?d:s[d];(!r&&c.has(h)||r)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,u++):(l[h]=Ise(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&u++)}return i===a&&u===i?e:l}return t}function I$(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function zF(e){if(!k$(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!k$(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function k$(e){return Object.prototype.toString.call(e)==="[object Object]"}function ISe(e){return new Promise(t=>{setTimeout(t,e)})}function kSe(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Ise(e,t):t}function jSe(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function PSe(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var HR=Symbol();function kse(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===HR?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Rg,S0,nv,kte,FSe=(kte=class extends VT{constructor(){super();Hi(this,Rg);Hi(this,S0);Hi(this,nv);Kn(this,nv,t=>{if(!zT&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Wt(this,S0)||this.setEventListener(Wt(this,nv))}onUnsubscribe(){var t;this.hasListeners()||((t=Wt(this,S0))==null||t.call(this),Kn(this,S0,void 0))}setEventListener(t){var r;Kn(this,nv,t),(r=Wt(this,S0))==null||r.call(this),Kn(this,S0,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Wt(this,Rg)!==t&&(Kn(this,Rg,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Wt(this,Rg)=="boolean"?Wt(this,Rg):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Rg=new WeakMap,S0=new WeakMap,nv=new WeakMap,kte),jse=new FSe,iv,C0,sv,jte,OSe=(jte=class extends VT{constructor(){super();Hi(this,iv,!0);Hi(this,C0);Hi(this,sv);Kn(this,sv,t=>{if(!zT&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Wt(this,C0)||this.setEventListener(Wt(this,sv))}onUnsubscribe(){var t;this.hasListeners()||((t=Wt(this,C0))==null||t.call(this),Kn(this,C0,void 0))}setEventListener(t){var r;Kn(this,sv,t),(r=Wt(this,C0))==null||r.call(this),Kn(this,C0,t(this.setOnline.bind(this)))}setOnline(t){Wt(this,iv)!==t&&(Kn(this,iv,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return Wt(this,iv)}},iv=new WeakMap,C0=new WeakMap,sv=new WeakMap,jte),Z4=new OSe;function DSe(){let e,t;const r=new Promise((i,s)=>{e=i,t=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function LSe(e){return Math.min(1e3*2**e,3e4)}function Pse(e){return(e??"online")==="online"?Z4.isOnline():!0}var Fse=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function uj(e){return e instanceof Fse}function Ose(e){let t=!1,r=0,n=!1,i;const s=DSe(),a=x=>{var y;n||(A(new Fse(x)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>jse.isFocused()&&(e.networkMode==="always"||Z4.isOnline())&&e.canRun(),d=()=>Pse(e.networkMode)&&e.canRun(),h=x=>{var y;n||(n=!0,(y=e.onSuccess)==null||y.call(e,x),i==null||i(),s.resolve(x))},A=x=>{var y;n||(n=!0,(y=e.onError)==null||y.call(e,x),i==null||i(),s.reject(x))},g=()=>new Promise(x=>{var y;i=w=>{(n||u())&&x(w)},(y=e.onPause)==null||y.call(e)}).then(()=>{var x;i=void 0,n||(x=e.onContinue)==null||x.call(e)}),v=()=>{if(n)return;let x;const y=r===0?e.initialPromise:void 0;try{x=y??e.fn()}catch(w){x=Promise.reject(w)}Promise.resolve(x).then(h).catch(w=>{var j;if(n)return;const _=e.retry??(zT?0:3),E=e.retryDelay??LSe,I=typeof E=="function"?E(r,w):E,N=_===!0||typeof _=="number"&&r<_||typeof _=="function"&&_(r,w);if(t||!N){A(w);return}r++,(j=e.onFail)==null||j.call(e,r,w),ISe(I).then(()=>u()?void 0:g()).then(()=>{t?A(w):v()})})};return{promise:s,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():g().then(v),s)}}var RSe=e=>setTimeout(e,0);function MSe(){let e=[],t=0,r=l=>{l()},n=l=>{l()},i=RSe;const s=l=>{t?e.push(l):i(()=>{r(l)})},a=()=>{const l=e;e=[],l.length&&i(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var Ac=MSe(),Mg,Pte,Dse=(Pte=class{constructor(){Hi(this,Mg)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),NSe(this.gcTime)&&Kn(this,Mg,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(zT?1/0:5*60*1e3))}clearGcTimeout(){Wt(this,Mg)&&(clearTimeout(Wt(this,Mg)),Kn(this,Mg,void 0))}},Mg=new WeakMap,Pte),av,Ug,rd,Hg,Ll,aE,Qg,Gd,Vh,Fte,USe=(Fte=class extends Dse{constructor(r){super();Hi(this,Gd);Hi(this,av);Hi(this,Ug);Hi(this,rd);Hi(this,Hg);Hi(this,Ll);Hi(this,aE);Hi(this,Qg);Kn(this,Qg,!1),Kn(this,aE,r.defaultOptions),this.setOptions(r.options),this.observers=[],Kn(this,Hg,r.client),Kn(this,rd,Wt(this,Hg).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,Kn(this,av,QSe(this.options)),this.state=r.state??Wt(this,av),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=Wt(this,Ll))==null?void 0:r.promise}setOptions(r){this.options={...Wt(this,aE),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Wt(this,rd).remove(this)}setData(r,n){const i=kSe(this.state.data,r,this.options);return Nl(this,Gd,Vh).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(r,n){Nl(this,Gd,Vh).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var i,s;const n=(i=Wt(this,Ll))==null?void 0:i.promise;return(s=Wt(this,Ll))==null||s.cancel(r),n?n.then(zd).catch(zd):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Wt(this,av))}isActive(){return this.observers.some(r=>BSe(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===HR||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(r=>VF(r.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(r=0){return this.state.data===void 0?!0:r==="static"?!1:this.state.isInvalidated?!0:!TSe(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(i=>i.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=Wt(this,Ll))==null||n.continue()}onOnline(){var n;const r=this.observers.find(i=>i.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=Wt(this,Ll))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),Wt(this,rd).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(Wt(this,Ll)&&(Wt(this,Qg)?Wt(this,Ll).cancel({revert:!0}):Wt(this,Ll).cancelRetry()),this.scheduleGc()),Wt(this,rd).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Nl(this,Gd,Vh).call(this,{type:"invalidate"})}fetch(r,n){var d,h,A;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Wt(this,Ll))return Wt(this,Ll).continueRetry(),Wt(this,Ll).promise}if(r&&this.setOptions(r),!this.options.queryFn){const g=this.observers.find(v=>v.options.queryFn);g&&this.setOptions(g.options)}const i=new AbortController,s=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(Kn(this,Qg,!0),i.signal)})},a=()=>{const g=kse(this.options,n),x=(()=>{const y={client:Wt(this,Hg),queryKey:this.queryKey,meta:this.meta};return s(y),y})();return Kn(this,Qg,!1),this.options.persister?this.options.persister(g,x,this):g(x)},c=(()=>{const g={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Wt(this,Hg),state:this.state,fetchFn:a};return s(g),g})();(d=this.options.behavior)==null||d.onFetch(c,this),Kn(this,Ug,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=c.fetchOptions)==null?void 0:h.meta))&&Nl(this,Gd,Vh).call(this,{type:"fetch",meta:(A=c.fetchOptions)==null?void 0:A.meta});const u=g=>{var v,x,y,w;uj(g)&&g.silent||Nl(this,Gd,Vh).call(this,{type:"error",error:g}),uj(g)||((x=(v=Wt(this,rd).config).onError)==null||x.call(v,g,this),(w=(y=Wt(this,rd).config).onSettled)==null||w.call(y,this.state.data,g,this)),this.scheduleGc()};return Kn(this,Ll,Ose({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,abort:i.abort.bind(i),onSuccess:g=>{var v,x,y,w;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(_){u(_);return}(x=(v=Wt(this,rd).config).onSuccess)==null||x.call(v,g,this),(w=(y=Wt(this,rd).config).onSettled)==null||w.call(y,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,v)=>{Nl(this,Gd,Vh).call(this,{type:"failed",failureCount:g,error:v})},onPause:()=>{Nl(this,Gd,Vh).call(this,{type:"pause"})},onContinue:()=>{Nl(this,Gd,Vh).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),Wt(this,Ll).start()}},av=new WeakMap,Ug=new WeakMap,rd=new WeakMap,Hg=new WeakMap,Ll=new WeakMap,aE=new WeakMap,Qg=new WeakMap,Gd=new WeakSet,Vh=function(r){const n=i=>{switch(r.type){case"failed":return{...i,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...HSe(i.data,this.options),fetchMeta:r.meta??null};case"success":return Kn(this,Ug,void 0),{...i,data:r.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=r.error;return uj(s)&&s.revert&&Wt(this,Ug)?{...Wt(this,Ug),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...r.state}}};this.state=n(this.state),Ac.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),Wt(this,rd).notify({query:this,type:"updated",action:r})})},Fte);function HSe(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Pse(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function QSe(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Of,Ote,$Se=(Ote=class extends VT{constructor(t={}){super();Hi(this,Of);this.config=t,Kn(this,Of,new Map)}build(t,r,n){const i=r.queryKey,s=r.queryHash??UR(i,r);let a=this.get(s);return a||(a=new USe({client:t,queryKey:i,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(a)),a}add(t){Wt(this,Of).has(t.queryHash)||(Wt(this,Of).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Wt(this,Of).get(t.queryHash);r&&(t.destroy(),r===t&&Wt(this,Of).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ac.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Wt(this,Of).get(t)}getAll(){return[...Wt(this,Of).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>T$(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>T$(t,n)):r}notify(t){Ac.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ac.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ac.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Of=new WeakMap,Ote),Df,lc,$g,Lf,i0,Dte,VSe=(Dte=class extends Dse{constructor(r){super();Hi(this,Lf);Hi(this,Df);Hi(this,lc);Hi(this,$g);this.mutationId=r.mutationId,Kn(this,lc,r.mutationCache),Kn(this,Df,[]),this.state=r.state||zSe(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){Wt(this,Df).includes(r)||(Wt(this,Df).push(r),this.clearGcTimeout(),Wt(this,lc).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){Kn(this,Df,Wt(this,Df).filter(n=>n!==r)),this.scheduleGc(),Wt(this,lc).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){Wt(this,Df).length||(this.state.status==="pending"?this.scheduleGc():Wt(this,lc).remove(this))}continue(){var r;return((r=Wt(this,$g))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var a,l,c,u,d,h,A,g,v,x,y,w,_,E,I,N,j,T,P,k;const n=()=>{Nl(this,Lf,i0).call(this,{type:"continue"})};Kn(this,$g,Ose({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(R,O)=>{Nl(this,Lf,i0).call(this,{type:"failed",failureCount:R,error:O})},onPause:()=>{Nl(this,Lf,i0).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Wt(this,lc).canRun(this)}));const i=this.state.status==="pending",s=!Wt(this,$g).canStart();try{if(i)n();else{Nl(this,Lf,i0).call(this,{type:"pending",variables:r,isPaused:s}),await((l=(a=Wt(this,lc).config).onMutate)==null?void 0:l.call(a,r,this));const O=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,r));O!==this.state.context&&Nl(this,Lf,i0).call(this,{type:"pending",context:O,variables:r,isPaused:s})}const R=await Wt(this,$g).start();return await((h=(d=Wt(this,lc).config).onSuccess)==null?void 0:h.call(d,R,r,this.state.context,this)),await((g=(A=this.options).onSuccess)==null?void 0:g.call(A,R,r,this.state.context)),await((x=(v=Wt(this,lc).config).onSettled)==null?void 0:x.call(v,R,null,this.state.variables,this.state.context,this)),await((w=(y=this.options).onSettled)==null?void 0:w.call(y,R,null,r,this.state.context)),Nl(this,Lf,i0).call(this,{type:"success",data:R}),R}catch(R){try{throw await((E=(_=Wt(this,lc).config).onError)==null?void 0:E.call(_,R,r,this.state.context,this)),await((N=(I=this.options).onError)==null?void 0:N.call(I,R,r,this.state.context)),await((T=(j=Wt(this,lc).config).onSettled)==null?void 0:T.call(j,void 0,R,this.state.variables,this.state.context,this)),await((k=(P=this.options).onSettled)==null?void 0:k.call(P,void 0,R,r,this.state.context)),R}finally{Nl(this,Lf,i0).call(this,{type:"error",error:R})}}finally{Wt(this,lc).runNext(this)}}},Df=new WeakMap,lc=new WeakMap,$g=new WeakMap,Lf=new WeakSet,i0=function(r){const n=i=>{switch(r.type){case"failed":return{...i,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...i,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:r.error,failureCount:i.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ac.batch(()=>{Wt(this,Df).forEach(i=>{i.onMutationUpdate(r)}),Wt(this,lc).notify({mutation:this,type:"updated",action:r})})},Dte);function zSe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Yh,Wd,oE,Lte,GSe=(Lte=class extends VT{constructor(t={}){super();Hi(this,Yh);Hi(this,Wd);Hi(this,oE);this.config=t,Kn(this,Yh,new Set),Kn(this,Wd,new Map),Kn(this,oE,0)}build(t,r,n){const i=new VSe({mutationCache:this,mutationId:++jS(this,oE)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){Wt(this,Yh).add(t);const r=tC(t);if(typeof r=="string"){const n=Wt(this,Wd).get(r);n?n.push(t):Wt(this,Wd).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Wt(this,Yh).delete(t)){const r=tC(t);if(typeof r=="string"){const n=Wt(this,Wd).get(r);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&Wt(this,Wd).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=tC(t);if(typeof r=="string"){const n=Wt(this,Wd).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===t}else return!0}runNext(t){var n;const r=tC(t);if(typeof r=="string"){const i=(n=Wt(this,Wd).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ac.batch(()=>{Wt(this,Yh).forEach(t=>{this.notify({type:"removed",mutation:t})}),Wt(this,Yh).clear(),Wt(this,Wd).clear()})}getAll(){return Array.from(Wt(this,Yh))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>B$(r,n))}findAll(t={}){return this.getAll().filter(r=>B$(t,r))}notify(t){Ac.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ac.batch(()=>Promise.all(t.map(r=>r.continue().catch(zd))))}},Yh=new WeakMap,Wd=new WeakMap,oE=new WeakMap,Lte);function tC(e){var t;return(t=e.options.scope)==null?void 0:t.id}function j$(e){return{onFetch:(t,r)=>{var d,h,A,g,v;const n=t.options,i=(A=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:A.direction,s=((g=t.state.data)==null?void 0:g.pages)||[],a=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let x=!1;const y=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},w=kse(t.options,t.fetchOptions),_=async(E,I,N)=>{if(x)return Promise.reject();if(I==null&&E.pages.length)return Promise.resolve(E);const T=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:I,direction:N?"backward":"forward",meta:t.options.meta};return y(O),O})(),P=await w(T),{maxPages:k}=t.options,R=N?PSe:jSe;return{pages:R(E.pages,P,k),pageParams:R(E.pageParams,I,k)}};if(i&&s.length){const E=i==="backward",I=E?WSe:P$,N={pages:s,pageParams:a},j=I(n,N);l=await _(N,j,E)}else{const E=e??s.length;do{const I=c===0?a[0]??n.initialPageParam:P$(n,l);if(c>0&&I==null)break;l=await _(l,I),c++}while(c<E)}return l};t.options.persister?t.fetchFn=()=>{var x,y;return(y=(x=t.options).persister)==null?void 0:y.call(x,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function P$(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function WSe(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Sa,N0,T0,ov,lv,B0,cv,uv,Rte,KSe=(Rte=class{constructor(e={}){Hi(this,Sa);Hi(this,N0);Hi(this,T0);Hi(this,ov);Hi(this,lv);Hi(this,B0);Hi(this,cv);Hi(this,uv);Kn(this,Sa,e.queryCache||new $Se),Kn(this,N0,e.mutationCache||new GSe),Kn(this,T0,e.defaultOptions||{}),Kn(this,ov,new Map),Kn(this,lv,new Map),Kn(this,B0,0)}mount(){jS(this,B0)._++,Wt(this,B0)===1&&(Kn(this,cv,jse.subscribe(async e=>{e&&(await this.resumePausedMutations(),Wt(this,Sa).onFocus())})),Kn(this,uv,Z4.subscribe(async e=>{e&&(await this.resumePausedMutations(),Wt(this,Sa).onOnline())})))}unmount(){var e,t;jS(this,B0)._--,Wt(this,B0)===0&&((e=Wt(this,cv))==null||e.call(this),Kn(this,cv,void 0),(t=Wt(this,uv))==null||t.call(this),Kn(this,uv,void 0))}isFetching(e){return Wt(this,Sa).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Wt(this,N0).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Wt(this,Sa).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Wt(this,Sa).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(VF(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return Wt(this,Sa).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=Wt(this,Sa).get(n.queryHash),s=i==null?void 0:i.state.data,a=CSe(t,s);if(a!==void 0)return Wt(this,Sa).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return Ac.batch(()=>Wt(this,Sa).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Wt(this,Sa).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Wt(this,Sa);Ac.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Wt(this,Sa);return Ac.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Ac.batch(()=>Wt(this,Sa).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(zd).catch(zd)}invalidateQueries(e,t={}){return Ac.batch(()=>(Wt(this,Sa).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Ac.batch(()=>Wt(this,Sa).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(zd)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(zd)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Wt(this,Sa).build(this,t);return r.isStaleByTime(VF(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(zd).catch(zd)}fetchInfiniteQuery(e){return e.behavior=j$(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(zd).catch(zd)}ensureInfiniteQueryData(e){return e.behavior=j$(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Z4.isOnline()?Wt(this,N0).resumePausedMutations():Promise.resolve()}getQueryCache(){return Wt(this,Sa)}getMutationCache(){return Wt(this,N0)}getDefaultOptions(){return Wt(this,T0)}setDefaultOptions(e){Kn(this,T0,e)}setQueryDefaults(e,t){Wt(this,ov).set(Lb(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Wt(this,ov).values()],r={};return t.forEach(n=>{Rb(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){Wt(this,lv).set(Lb(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Wt(this,lv).values()],r={};return t.forEach(n=>{Rb(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Wt(this,T0).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=UR(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===HR&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Wt(this,T0).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Wt(this,Sa).clear(),Wt(this,N0).clear()}},Sa=new WeakMap,N0=new WeakMap,T0=new WeakMap,ov=new WeakMap,lv=new WeakMap,B0=new WeakMap,cv=new WeakMap,uv=new WeakMap,Rte),qSe=C.createContext(void 0),XSe=({client:e,children:t})=>(C.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(qSe.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mb.apply(this,arguments)}var j0;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(j0||(j0={}));const F$="popstate";function YSe(e){e===void 0&&(e={});function t(n,i){let{pathname:s,search:a,hash:l}=n.location;return GF("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:J4(i)}return JSe(t,r,null,e)}function Ao(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function QR(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ZSe(){return Math.random().toString(36).substr(2,8)}function O$(e,t){return{usr:e.state,key:e.key,idx:t}}function GF(e,t,r,n){return r===void 0&&(r=null),Mb({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?_y(t):t,{state:r,key:t&&t.key||n||ZSe()})}function J4(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function _y(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function JSe(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,l=j0.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(Mb({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=j0.Pop;let y=d(),w=y==null?null:y-u;u=y,c&&c({action:l,location:x.location,delta:w})}function A(y,w){l=j0.Push;let _=GF(x.location,y,w);u=d()+1;let E=O$(_,u),I=x.createHref(_);try{a.pushState(E,"",I)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(I)}s&&c&&c({action:l,location:x.location,delta:1})}function g(y,w){l=j0.Replace;let _=GF(x.location,y,w);u=d();let E=O$(_,u),I=x.createHref(_);a.replaceState(E,"",I),s&&c&&c({action:l,location:x.location,delta:0})}function v(y){let w=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof y=="string"?y:J4(y);return _=_.replace(/ $/,"%20"),Ao(w,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,w)}let x={get action(){return l},get location(){return e(i,a)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(F$,h),c=y,()=>{i.removeEventListener(F$,h),c=null}},createHref(y){return t(i,y)},createURL:v,encodeLocation(y){let w=v(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:A,replace:g,go(y){return a.go(y)}};return x}var D$;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(D$||(D$={}));function eCe(e,t,r){return r===void 0&&(r="/"),tCe(e,t,r,!1)}function tCe(e,t,r,n){let i=typeof t=="string"?_y(t):t,s=$R(i.pathname||"/",r);if(s==null)return null;let a=Lse(e);rCe(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=hCe(s);l=dCe(a[c],u,n)}return l}function Lse(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(Ao(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ep([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(Ao(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Lse(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:cCe(u,s.index),routesMeta:d})};return e.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let c of Rse(s.path))i(s,a,c)}),t}function Rse(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=Rse(n.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function rCe(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:uCe(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const nCe=/^:[\w-]+$/,iCe=3,sCe=2,aCe=1,oCe=10,lCe=-2,L$=e=>e==="*";function cCe(e,t){let r=e.split("/"),n=r.length;return r.some(L$)&&(n+=lCe),t&&(n+=sCe),r.filter(i=>!L$(i)).reduce((i,s)=>i+(nCe.test(s)?iCe:s===""?aCe:oCe),n)}function uCe(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function dCe(e,t,r){let{routesMeta:n}=e,i={},s="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",h=R$({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),A=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=R$({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:ep([s,h.pathname]),pathnameBase:xCe(ep([s,h.pathnameBase])),route:A}),h.pathnameBase!=="/"&&(s=ep([s,h.pathnameBase]))}return a}function R$(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=fCe(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:A,isOptional:g}=d;if(A==="*"){let x=l[h]||"";a=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const v=l[h];return g&&!v?u[A]=void 0:u[A]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:e}}function fCe(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),QR(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function hCe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return QR(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $R(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const ACe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pCe=e=>ACe.test(e);function gCe(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?_y(e):e,s;if(r)if(pCe(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),QR(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?s=M$(r.substring(1),"/"):s=M$(r,t)}else s=t;return{pathname:s,search:vCe(n),hash:yCe(i)}}function M$(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function dj(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mCe(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Mse(e,t){let r=mCe(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Use(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=_y(e):(i=Mb({},e),Ao(!i.pathname||!i.pathname.includes("?"),dj("?","pathname","search",i)),Ao(!i.pathname||!i.pathname.includes("#"),dj("#","pathname","hash",i)),Ao(!i.search||!i.search.includes("#"),dj("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=r;else{let h=t.length-1;if(!n&&a.startsWith("..")){let A=a.split("/");for(;A[0]==="..";)A.shift(),h-=1;i.pathname=A.join("/")}l=h>=0?t[h]:"/"}let c=gCe(i,l),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ep=e=>e.join("/").replace(/\/\/+/g,"/"),xCe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vCe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yCe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function wCe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Hse=["post","put","patch","delete"];new Set(Hse);const bCe=["get",...Hse];new Set(bCe);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ub(){return Ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ub.apply(this,arguments)}const VR=C.createContext(null),_Ce=C.createContext(null),$m=C.createContext(null),GT=C.createContext(null),Fp=C.createContext({outlet:null,matches:[],isDataRoute:!1}),Qse=C.createContext(null);function ECe(e,t){let{relative:r}=t===void 0?{}:t;yE()||Ao(!1);let{basename:n,navigator:i}=C.useContext($m),{hash:s,pathname:a,search:l}=Vse(e,{relative:r}),c=a;return n!=="/"&&(c=a==="/"?n:ep([n,a])),i.createHref({pathname:c,search:l,hash:s})}function yE(){return C.useContext(GT)!=null}function Vm(){return yE()||Ao(!1),C.useContext(GT).location}function $se(e){C.useContext($m).static||C.useLayoutEffect(e)}function ds(){let{isDataRoute:e}=C.useContext(Fp);return e?RCe():SCe()}function SCe(){yE()||Ao(!1);let e=C.useContext(VR),{basename:t,future:r,navigator:n}=C.useContext($m),{matches:i}=C.useContext(Fp),{pathname:s}=Vm(),a=JSON.stringify(Mse(i,r.v7_relativeSplatPath)),l=C.useRef(!1);return $se(()=>{l.current=!0}),C.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=Use(u,JSON.parse(a),s,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ep([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,a,s,e])}function CCe(){let{matches:e}=C.useContext(Fp),t=e[e.length-1];return t?t.params:{}}function Vse(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=C.useContext($m),{matches:i}=C.useContext(Fp),{pathname:s}=Vm(),a=JSON.stringify(Mse(i,n.v7_relativeSplatPath));return C.useMemo(()=>Use(e,JSON.parse(a),s,r==="path"),[e,a,s,r])}function NCe(e,t){return TCe(e,t)}function TCe(e,t,r,n){yE()||Ao(!1);let{navigator:i}=C.useContext($m),{matches:s}=C.useContext(Fp),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Vm(),d;if(t){var h;let y=typeof t=="string"?_y(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||Ao(!1),d=y}else d=u;let A=d.pathname||"/",g=A;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+A.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=eCe(e,{pathname:g}),x=PCe(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:ep([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:ep([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,r,n);return t&&x?C.createElement(GT.Provider,{value:{location:Ub({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:j0.Pop}},x):x}function BCe(){let e=LCe(),t=wCe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),r?C.createElement("pre",{style:i},r):null,null)}const ICe=C.createElement(BCe,null);class kCe extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?C.createElement(Fp.Provider,{value:this.props.routeContext},C.createElement(Qse.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jCe(e){let{routeContext:t,match:r,children:n}=e,i=C.useContext(VR);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(Fp.Provider,{value:t},n)}function PCe(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Ao(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:A,errors:g}=r,v=h.route.loader&&A[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,A)=>{let g,v=!1,x=null,y=null;r&&(g=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||ICe,c&&(u<0&&A===0?(v=!0,y=null):u===A&&(v=!0,y=h.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,A+1)),_=()=>{let E;return g?E=x:v?E=y:h.route.Component?E=C.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=d,C.createElement(jCe,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:E})};return r&&(h.route.ErrorBoundary||h.route.errorElement||A===0)?C.createElement(kCe,{location:r.location,revalidation:r.revalidation,component:x,error:g,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):_()},null)}var zse=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(zse||{}),e5=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(e5||{});function FCe(e){let t=C.useContext(VR);return t||Ao(!1),t}function OCe(e){let t=C.useContext(_Ce);return t||Ao(!1),t}function DCe(e){let t=C.useContext(Fp);return t||Ao(!1),t}function Gse(e){let t=DCe(),r=t.matches[t.matches.length-1];return r.route.id||Ao(!1),r.route.id}function LCe(){var e;let t=C.useContext(Qse),r=OCe(e5.UseRouteError),n=Gse(e5.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function RCe(){let{router:e}=FCe(zse.UseNavigateStable),t=Gse(e5.UseNavigateStable),r=C.useRef(!1);return $se(()=>{r.current=!0}),C.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ub({fromRouteId:t},s)))},[e,t])}function MCe(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function si(e){Ao(!1)}function UCe(e){let{basename:t="/",children:r=null,location:n,navigationType:i=j0.Pop,navigator:s,static:a=!1,future:l}=e;yE()&&Ao(!1);let c=t.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:c,navigator:s,static:a,future:Ub({v7_relativeSplatPath:!1},l)}),[c,l,s,a]);typeof n=="string"&&(n=_y(n));let{pathname:d="/",search:h="",hash:A="",state:g=null,key:v="default"}=n,x=C.useMemo(()=>{let y=$R(d,c);return y==null?null:{location:{pathname:y,search:h,hash:A,state:g,key:v},navigationType:i}},[c,d,h,A,g,v,i]);return x==null?null:C.createElement($m.Provider,{value:u},C.createElement(GT.Provider,{children:r,value:x}))}function U$(e){let{children:t,location:r}=e;return NCe(WF(t),r)}new Promise(()=>{});function WF(e,t){t===void 0&&(t=[]);let r=[];return C.Children.forEach(e,(n,i)=>{if(!C.isValidElement(n))return;let s=[...t,i];if(n.type===C.Fragment){r.push.apply(r,WF(n.props.children,s));return}n.type!==si&&Ao(!1),!n.props.index||!n.props.children||Ao(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=WF(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function KF(){return KF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KF.apply(this,arguments)}function HCe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function QCe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $Ce(e,t){return e.button===0&&(!t||t==="_self")&&!QCe(e)}function qF(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function VCe(e,t){let r=qF(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(s=>{r.append(i,s)})}),r}const zCe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],GCe="6";try{window.__reactRouterVersion=GCe}catch{}const WCe="startTransition",H$=jL[WCe];function KCe(e){let{basename:t,children:r,future:n,window:i}=e,s=C.useRef();s.current==null&&(s.current=YSe({window:i,v5Compat:!0}));let a=s.current,[l,c]=C.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},d=C.useCallback(h=>{u&&H$?H$(()=>c(h)):c(h)},[c,u]);return C.useLayoutEffect(()=>a.listen(d),[a,d]),C.useEffect(()=>MCe(n),[n]),C.createElement(UCe,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}const qCe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XCe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YCe=C.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,A=HCe(t,zCe),{basename:g}=C.useContext($m),v,x=!1;if(typeof u=="string"&&XCe.test(u)&&(v=u,qCe))try{let E=new URL(window.location.href),I=u.startsWith("//")?new URL(E.protocol+u):new URL(u),N=$R(I.pathname,g);I.origin===E.origin&&N!=null?u=N+I.search+I.hash:x=!0}catch{}let y=ECe(u,{relative:i}),w=ZCe(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:h});function _(E){n&&n(E),E.defaultPrevented||w(E)}return C.createElement("a",KF({},A,{href:v||y,onClick:x||s?n:_,ref:r,target:c}))});var Q$;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Q$||(Q$={}));var $$;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})($$||($$={}));function ZCe(e,t){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:l}=t===void 0?{}:t,c=ds(),u=Vm(),d=Vse(e,{relative:a});return C.useCallback(h=>{if($Ce(h,r)){h.preventDefault();let A=n!==void 0?n:J4(u)===J4(d);c(e,{replace:A,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[u,c,d,n,i,r,e,s,a,l])}function WT(e){let t=C.useRef(qF(e)),r=C.useRef(!1),n=Vm(),i=C.useMemo(()=>VCe(n.search,r.current?null:t.current),[n.search]),s=ds(),a=C.useCallback((l,c)=>{const u=qF(typeof l=="function"?l(i):l);r.current=!0,s("?"+u,c)},[s,i]);return[i,a]}const JCe="modulepreload",eNe=function(e){return"/superadmin/"+e},V$={},ml=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=eNe(c),c in V$)return;V$[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":JCe,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((A,g)=>{h.addEventListener("load",A),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},tNe=()=>{};var z$={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wse=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):(i&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},rNe=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[r++];t[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[r++],a=e[r++],l=e[r++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[n++]=String.fromCharCode(55296+(c>>10)),t[n++]=String.fromCharCode(56320+(c&1023))}else{const s=e[r++],a=e[r++];t[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return t.join("")},Kse={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<e.length;i+=3){const s=e[i],a=i+1<e.length,l=a?e[i+1]:0,c=i+2<e.length,u=c?e[i+2]:0,d=s>>2,h=(s&3)<<4|l>>4;let A=(l&15)<<2|u>>6,g=u&63;c||(g=64,a||(A=64)),n.push(r[d],r[h],r[A],r[g])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Wse(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):rNe(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<e.length;){const s=r[e.charAt(i++)],l=i<e.length?r[e.charAt(i)]:0;++i;const u=i<e.length?r[e.charAt(i)]:64;++i;const h=i<e.length?r[e.charAt(i)]:64;if(++i,s==null||l==null||u==null||h==null)throw new nNe;const A=s<<2|l>>4;if(n.push(A),u!==64){const g=l<<4&240|u>>2;if(n.push(g),h!==64){const v=u<<6&192|h;n.push(v)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class nNe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iNe=function(e){const t=Wse(e);return Kse.encodeByteArray(t,!0)},t5=function(e){return iNe(e).replace(/\./g,"")},qse=function(e){try{return Kse.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sNe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aNe=()=>sNe().__FIREBASE_DEFAULTS__,oNe=()=>{if(typeof process>"u"||typeof z$>"u")return;const e=z$.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},lNe=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&qse(e[1]);return t&&JSON.parse(t)},KT=()=>{try{return tNe()||aNe()||oNe()||lNe()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Xse=e=>{var t,r;return(r=(t=KT())==null?void 0:t.emulatorHosts)==null?void 0:r[e]},Yse=e=>{const t=Xse(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},Zse=()=>{var e;return(e=KT())==null?void 0:e.config},Jse=e=>{var t;return(t=KT())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cNe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zR(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eae(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};return[t5(JSON.stringify(r)),t5(JSON.stringify(a)),""].join(".")}const O2={};function uNe(){const e={prod:[],emulator:[]};for(const t of Object.keys(O2))O2[t]?e.emulator.push(t):e.prod.push(t);return e}function dNe(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let G$=!1;function GR(e,t){if(typeof window>"u"||typeof document>"u"||!Op(window.location.host)||O2[e]===t||O2[e]||G$)return;O2[e]=t;function r(A){return`__firebase__banner__${A}`}const n="__firebase__banner",s=uNe().prod.length>0;function a(){const A=document.getElementById(n);A&&A.remove()}function l(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function c(A,g){A.setAttribute("width","24"),A.setAttribute("id",g),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function u(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{G$=!0,a()},A}function d(A,g){A.setAttribute("id",g),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function h(){const A=dNe(n),g=r("text"),v=document.getElementById(g)||document.createElement("span"),x=r("learnmore"),y=document.getElementById(x)||document.createElement("a"),w=r("preprendIcon"),_=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const E=A.element;l(E),d(y,x);const I=u();c(_,w),E.append(_,v,y,I),document.body.appendChild(E)}s?(v.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fNe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zl())}function hNe(){var t;const e=(t=KT())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ANe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tae(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function pNe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gNe(){const e=Zl();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function mNe(){return!hNe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rae(){try{return typeof indexedDB=="object"}catch{return!1}}function nae(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;t(((s=i.error)==null?void 0:s.message)||"")}}catch(r){t(r)}})}function xNe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vNe="FirebaseError";class Td extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=vNe,Object.setPrototypeOf(this,Td.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zm.prototype.create)}}class zm{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},i=`${this.service}/${t}`,s=this.errors[t],a=s?yNe(s,n):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new Td(i,l,n)}}function yNe(e,t){return e.replace(wNe,(r,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const wNe=/\{\$([^}]+)}/g;function bNe(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function xp(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const i of r){if(!n.includes(i))return!1;const s=e[i],a=t[i];if(W$(s)&&W$(a)){if(!xp(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function W$(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(i=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function r2(e){const t={};return e.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function n2(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}function _Ne(e,t){const r=new ENe(e,t);return r.subscribe.bind(r)}class ENe{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,n){let i;if(t===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");SNe(t,["next","error","complete"])?i=t:i={next:t,error:r,complete:n},i.next===void 0&&(i.next=fj),i.error===void 0&&(i.error=fj),i.complete===void 0&&(i.complete=fj);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SNe(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function fj(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CNe=1e3,NNe=2,TNe=4*60*60*1e3,BNe=.5;function K$(e,t=CNe,r=NNe){const n=t*Math.pow(r,e),i=Math.round(BNe*n*(Math.random()-.5)*2);return Math.min(TNe,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(e){return e&&e._delegate?e._delegate:e}class Ed{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class INe{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new cNe;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(t==null?void 0:t.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(jNe(t))try{this.getOrInitializeService({instanceIdentifier:hg})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(t=hg){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=hg){return this.instances.has(t)}getOptions(t=hg){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);n===l&&a.resolve(i)}return i}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(t),this.onInitCallbacks.set(n,i);const s=this.instances.get(n);return s&&t(s,n),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:kNe(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=hg){return this.component?this.component.multipleInstances?t:hg:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kNe(e){return e===hg?void 0:e}function jNe(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PNe{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new INe(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vi;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(vi||(vi={}));const FNe={debug:vi.DEBUG,verbose:vi.VERBOSE,info:vi.INFO,warn:vi.WARN,error:vi.ERROR,silent:vi.SILENT},ONe=vi.INFO,DNe={[vi.DEBUG]:"log",[vi.VERBOSE]:"log",[vi.INFO]:"info",[vi.WARN]:"warn",[vi.ERROR]:"error"},LNe=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),i=DNe[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};let qT=class{constructor(t){this.name=t,this._logLevel=ONe,this._logHandler=LNe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in vi))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?FNe[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,vi.DEBUG,...t),this._logHandler(this,vi.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,vi.VERBOSE,...t),this._logHandler(this,vi.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,vi.INFO,...t),this._logHandler(this,vi.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,vi.WARN,...t),this._logHandler(this,vi.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,vi.ERROR,...t),this._logHandler(this,vi.ERROR,...t)}};const RNe=(e,t)=>t.some(r=>e instanceof r);let q$,X$;function MNe(){return q$||(q$=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UNe(){return X$||(X$=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iae=new WeakMap,XF=new WeakMap,sae=new WeakMap,hj=new WeakMap,WR=new WeakMap;function HNe(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{r(tp(e.result)),i()},a=()=>{n(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(r=>{r instanceof IDBCursor&&iae.set(r,e)}).catch(()=>{}),WR.set(t,e),t}function QNe(e){if(XF.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});XF.set(e,t)}let YF={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return XF.get(e);if(t==="objectStoreNames")return e.objectStoreNames||sae.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return tp(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function $Ne(e){YF=e(YF)}function VNe(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(Aj(this),t,...r);return sae.set(n,t.sort?t.sort():[t]),tp(n)}:UNe().includes(e)?function(...t){return e.apply(Aj(this),t),tp(iae.get(this))}:function(...t){return tp(e.apply(Aj(this),t))}}function zNe(e){return typeof e=="function"?VNe(e):(e instanceof IDBTransaction&&QNe(e),RNe(e,MNe())?new Proxy(e,YF):e)}function tp(e){if(e instanceof IDBRequest)return HNe(e);if(hj.has(e))return hj.get(e);const t=zNe(e);return t!==e&&(hj.set(e,t),WR.set(t,e)),t}const Aj=e=>WR.get(e);function aae(e,t,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(e,t),l=tp(a);return n&&a.addEventListener("upgradeneeded",c=>{n(tp(a.result),c.oldVersion,c.newVersion,tp(a.transaction),c)}),r&&a.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const GNe=["get","getKey","getAll","getAllKeys","count"],WNe=["put","add","delete","clear"],pj=new Map;function Y$(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(pj.get(t))return pj.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=WNe.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||GNe.includes(r)))return;const s=async function(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(l.shift())),(await Promise.all([u[r](...l),i&&c.done]))[0]};return pj.set(t,s),s}$Ne(e=>({...e,get:(t,r,n)=>Y$(t,r)||e.get(t,r,n),has:(t,r)=>!!Y$(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KNe{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(qNe(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function qNe(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ZF="@firebase/app",Z$="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=new qT("@firebase/app"),XNe="@firebase/app-compat",YNe="@firebase/analytics-compat",ZNe="@firebase/analytics",JNe="@firebase/app-check-compat",e4e="@firebase/app-check",t4e="@firebase/auth",r4e="@firebase/auth-compat",n4e="@firebase/database",i4e="@firebase/data-connect",s4e="@firebase/database-compat",a4e="@firebase/functions",o4e="@firebase/functions-compat",l4e="@firebase/installations",c4e="@firebase/installations-compat",u4e="@firebase/messaging",d4e="@firebase/messaging-compat",f4e="@firebase/performance",h4e="@firebase/performance-compat",A4e="@firebase/remote-config",p4e="@firebase/remote-config-compat",g4e="@firebase/storage",m4e="@firebase/storage-compat",x4e="@firebase/firestore",v4e="@firebase/ai",y4e="@firebase/firestore-compat",w4e="firebase",b4e="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF="[DEFAULT]",_4e={[ZF]:"fire-core",[XNe]:"fire-core-compat",[ZNe]:"fire-analytics",[YNe]:"fire-analytics-compat",[e4e]:"fire-app-check",[JNe]:"fire-app-check-compat",[t4e]:"fire-auth",[r4e]:"fire-auth-compat",[n4e]:"fire-rtdb",[i4e]:"fire-data-connect",[s4e]:"fire-rtdb-compat",[a4e]:"fire-fn",[o4e]:"fire-fn-compat",[l4e]:"fire-iid",[c4e]:"fire-iid-compat",[u4e]:"fire-fcm",[d4e]:"fire-fcm-compat",[f4e]:"fire-perf",[h4e]:"fire-perf-compat",[A4e]:"fire-rc",[p4e]:"fire-rc-compat",[g4e]:"fire-gcs",[m4e]:"fire-gcs-compat",[x4e]:"fire-fst",[y4e]:"fire-fst-compat",[v4e]:"fire-vertex","fire-js":"fire-js",[w4e]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=new Map,E4e=new Map,e8=new Map;function J$(e,t){try{e.container.addComponent(t)}catch(r){EA.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function gf(e){const t=e.name;if(e8.has(t))return EA.debug(`There were multiple attempts to register component ${t}.`),!1;e8.set(t,e);for(const r of Hb.values())J$(r,e);for(const r of E4e.values())J$(r,e);return!0}function Dp(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function ld(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4e={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rp=new zm("app","Firebase",S4e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4e{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ed("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw rp.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm=b4e;function oae(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:JF,automaticDataCollectionEnabled:!0,...t},i=n.name;if(typeof i!="string"||!i)throw rp.create("bad-app-name",{appName:String(i)});if(r||(r=Zse()),!r)throw rp.create("no-options");const s=Hb.get(i);if(s){if(xp(r,s.options)&&xp(n,s.config))return s;throw rp.create("duplicate-app",{appName:i})}const a=new PNe(i);for(const c of e8.values())a.addComponent(c);const l=new C4e(r,n,a);return Hb.set(i,l),l}function bE(e=JF){const t=Hb.get(e);if(!t&&e===JF&&Zse())return oae();if(!t)throw rp.create("no-app",{appName:e});return t}function N4e(){return Array.from(Hb.values())}function Xc(e,t,r){let n=_4e[e]??e;r&&(n+=`-${r}`);const i=n.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const a=[`Unable to register library "${n}" with version "${t}":`];i&&a.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),EA.warn(a.join(" "));return}gf(new Ed(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4e="firebase-heartbeat-database",B4e=1,Qb="firebase-heartbeat-store";let gj=null;function lae(){return gj||(gj=aae(T4e,B4e,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Qb)}catch(r){console.warn(r)}}}}).catch(e=>{throw rp.create("idb-open",{originalErrorMessage:e.message})})),gj}async function I4e(e){try{const r=(await lae()).transaction(Qb),n=await r.objectStore(Qb).get(cae(e));return await r.done,n}catch(t){if(t instanceof Td)EA.warn(t.message);else{const r=rp.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});EA.warn(r.message)}}}async function eV(e,t){try{const n=(await lae()).transaction(Qb,"readwrite");await n.objectStore(Qb).put(t,cae(e)),await n.done}catch(r){if(r instanceof Td)EA.warn(r.message);else{const n=rp.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});EA.warn(n.message)}}}function cae(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4e=1024,j4e=30;class P4e{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new O4e(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=tV();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>j4e){const a=D4e(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){EA.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=tV(),{heartbeatsToSend:n,unsentEntries:i}=F4e(this._heartbeatsCache.heartbeats),s=t5(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return EA.warn(r),""}}}function tV(){return new Date().toISOString().substring(0,10)}function F4e(e,t=k4e){const r=[];let n=e.slice();for(const i of e){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),rV(r)>t){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),rV(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class O4e{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rae()?nae().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await I4e(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return eV(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return eV(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function rV(e){return t5(JSON.stringify({version:2,heartbeats:e})).length}function D4e(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4e(e){gf(new Ed("platform-logger",t=>new KNe(t),"PRIVATE")),gf(new Ed("heartbeat",t=>new P4e(t),"PRIVATE")),Xc(ZF,Z$,e),Xc(ZF,Z$,"esm2020"),Xc("fire-js","")}L4e("");function uae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const R4e=uae,dae=new zm("auth","Firebase",uae());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5=new qT("@firebase/auth");function M4e(e,...t){r5.logLevel<=vi.WARN&&r5.warn(`Auth (${Gm}): ${e}`,...t)}function qN(e,...t){r5.logLevel<=vi.ERROR&&r5.error(`Auth (${Gm}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(e,...t){throw KR(e,...t)}function Jf(e,...t){return KR(e,...t)}function fae(e,t,r){const n={...R4e(),[t]:r};return new zm("auth","Firebase",n).create(t,{appName:e.name})}function np(e){return fae(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KR(e,...t){if(typeof e!="string"){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return dae.create(e,...t)}function In(e,t,...r){if(!e)throw KR(t,...r)}function tA(e){const t="INTERNAL ASSERTION FAILED: "+e;throw qN(t),new Error(t)}function SA(e,t){e||tA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t8(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function U4e(){return nV()==="http:"||nV()==="https:"}function nV(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4e(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(U4e()||tae()||"connection"in navigator)?navigator.onLine:!0}function Q4e(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(t,r){this.shortDelay=t,this.longDelay=r,SA(r>t,"Short delay should be less than long delay!"),this.isMobile=fNe()||pNe()}get(){return H4e()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(e,t){SA(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hae{static initialize(t,r,n){this.fetchImpl=t,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tA("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tA("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tA("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4e=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],z4e=new _E(3e4,6e4);function Wm(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Lp(e,t,r,n,i={}){return Aae(e,i,async()=>{let s={},a={};n&&(t==="GET"?a=n:s={body:JSON.stringify(n)});const l=wE({key:e.config.apiKey,...a}).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const u={method:t,headers:c,...s};return ANe()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&Op(e.emulatorConfig.host)&&(u.credentials="include"),hae.fetch()(await pae(e,e.config.apiHost,r,l),u)})}async function Aae(e,t,r){e._canInitEmulator=!1;const n={...$4e,...t};try{const i=new W4e(e),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw rC(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw rC(e,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw rC(e,"email-already-in-use",a);if(c==="USER_DISABLED")throw rC(e,"user-disabled",a);const d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw fae(e,d,u);mf(e,d)}}catch(i){if(i instanceof Td)throw i;mf(e,"network-request-failed",{message:String(i)})}}async function XT(e,t,r,n,i={}){const s=await Lp(e,t,r,n,i);return"mfaPendingCredential"in s&&mf(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function pae(e,t,r,n){const i=`${t}${r}?${n}`,s=e,a=s.config.emulator?qR(e.config,i):`${e.config.apiScheme}://${i}`;return V4e.includes(r)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function G4e(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class W4e{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Jf(this.auth,"network-request-failed")),z4e.get())})}}function rC(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Jf(e,t,n);return i.customData._tokenResponse=r,i}function iV(e){return e!==void 0&&e.enterprise!==void 0}class K4e{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===t)return G4e(r.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function q4e(e,t){return Lp(e,"GET","/v2/recaptchaConfig",Wm(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X4e(e,t){return Lp(e,"POST","/v1/accounts:delete",t)}async function n5(e,t){return Lp(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Y4e(e,t=!1){const r=es(e),n=await r.getIdToken(t),i=XR(n);In(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:D2(mj(i.auth_time)),issuedAtTime:D2(mj(i.iat)),expirationTime:D2(mj(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function mj(e){return Number(e)*1e3}function XR(e){const[t,r,n]=e.split(".");if(t===void 0||r===void 0||n===void 0)return qN("JWT malformed, contained fewer than 3 sections"),null;try{const i=qse(r);return i?JSON.parse(i):(qN("Failed to decode base64 JWT payload"),null)}catch(i){return qN("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function sV(e){const t=XR(e);return In(t,"internal-error"),In(typeof t.exp<"u","internal-error"),In(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $b(e,t,r=!1){if(r)return t;try{return await t}catch(n){throw n instanceof Td&&Z4e(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}function Z4e({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4e{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=D2(this.lastLoginAt),this.creationTime=D2(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i5(e){var h;const t=e.auth,r=await e.getIdToken(),n=await $b(e,n5(t,{idToken:r}));In(n==null?void 0:n.users.length,t,"internal-error");const i=n.users[0];e._notifyReloadListener(i);const s=(h=i.providerUserInfo)!=null&&h.length?gae(i.providerUserInfo):[],a=t5e(e.providerData,s),l=e.isAnonymous,c=!(e.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new r8(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(e,d)}async function e5e(e){const t=es(e);await i5(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function t5e(e,t){return[...e.filter(n=>!t.some(i=>i.providerId===n.providerId)),...t]}function gae(e){return e.map(({providerId:t,...r})=>({providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r5e(e,t){const r=await Aae(e,{},async()=>{const n=wE({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,a=await pae(e,i,"/v1/token",`key=${s}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:n};return e.emulatorConfig&&Op(e.emulatorConfig.host)&&(c.credentials="include"),hae.fetch()(a,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function n5e(e,t){return Lp(e,"POST","/v2/accounts:revokeToken",Wm(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){In(t.idToken,"internal-error"),In(typeof t.idToken<"u","internal-error"),In(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):sV(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){In(t.length!==0,"internal-error");const r=sV(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(In(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await r5e(t,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(t,r,n){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,a=new Fx;return n&&(In(typeof n=="string","internal-error",{appName:t}),a.refreshToken=n),i&&(In(typeof i=="string","internal-error",{appName:t}),a.accessToken=i),s&&(In(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fx,this.toJSON())}_performRefresh(){return tA("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(e,t){In(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class tf{constructor({uid:t,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new J4e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new r8(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const r=await $b(this,this.stsTokenManager.getToken(this.auth,t));return In(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return Y4e(this,t)}reload(){return e5e(this)}_assign(t){this!==t&&(In(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>({...r})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new tf({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(t){In(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),r&&await i5(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ld(this.auth.app))return Promise.reject(np(this.auth));const t=await this.getIdToken();return await $b(this,X4e(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){const n=r.displayName??void 0,i=r.email??void 0,s=r.phoneNumber??void 0,a=r.photoURL??void 0,l=r.tenantId??void 0,c=r._redirectEventId??void 0,u=r.createdAt??void 0,d=r.lastLoginAt??void 0,{uid:h,emailVerified:A,isAnonymous:g,providerData:v,stsTokenManager:x}=r;In(h&&x,t,"internal-error");const y=Fx.fromJSON(this.name,x);In(typeof h=="string",t,"internal-error"),ZA(n,t.name),ZA(i,t.name),In(typeof A=="boolean",t,"internal-error"),In(typeof g=="boolean",t,"internal-error"),ZA(s,t.name),ZA(a,t.name),ZA(l,t.name),ZA(c,t.name),ZA(u,t.name),ZA(d,t.name);const w=new tf({uid:h,auth:t,email:i,emailVerified:A,displayName:n,isAnonymous:g,photoURL:a,phoneNumber:s,tenantId:l,stsTokenManager:y,createdAt:u,lastLoginAt:d});return v&&Array.isArray(v)&&(w.providerData=v.map(_=>({..._}))),c&&(w._redirectEventId=c),w}static async _fromIdTokenResponse(t,r,n=!1){const i=new Fx;i.updateFromServerResponse(r);const s=new tf({uid:r.localId,auth:t,stsTokenManager:i,isAnonymous:n});return await i5(s),s}static async _fromGetAccountInfoResponse(t,r,n){const i=r.users[0];In(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?gae(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new Fx;l.updateFromIdToken(n);const c=new tf({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new r8(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=new Map;function rA(e){SA(e instanceof Function,"Expected a class definition");let t=aV.get(e);return t?(SA(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,aV.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mae{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}mae.type="NONE";const oV=mae;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(e,t,r){return`firebase:${e}:${t}:${r}`}class Ox{constructor(t,r,n){this.persistence=t,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=XN(this.userKey,i.apiKey,s),this.fullPersistenceKey=XN("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const r=await n5(this.auth,{idToken:t}).catch(()=>{});return r?tf._fromGetAccountInfoResponse(this.auth,r,t):null}return tf._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,n="authUser"){if(!r.length)return new Ox(rA(oV),t,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||rA(oV);const a=XN(n,t.config.apiKey,t.name);let l=null;for(const u of r)try{const d=await u._get(a);if(d){let h;if(typeof d=="string"){const A=await n5(t,{idToken:d}).catch(()=>{});if(!A)break;h=await tf._fromGetAccountInfoResponse(t,A,d)}else h=tf._fromJSON(t,d);u!==s&&(l=h),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Ox(s,t,n):(s=c[0],l&&await s._set(a,l.toJSON()),await Promise.all(r.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new Ox(s,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(wae(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xae(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_ae(t))return"Blackberry";if(Eae(t))return"Webos";if(vae(t))return"Safari";if((t.includes("chrome/")||yae(t))&&!t.includes("edge/"))return"Chrome";if(bae(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function xae(e=Zl()){return/firefox\//i.test(e)}function vae(e=Zl()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function yae(e=Zl()){return/crios\//i.test(e)}function wae(e=Zl()){return/iemobile/i.test(e)}function bae(e=Zl()){return/android/i.test(e)}function _ae(e=Zl()){return/blackberry/i.test(e)}function Eae(e=Zl()){return/webos/i.test(e)}function YR(e=Zl()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function i5e(e=Zl()){var t;return YR(e)&&!!((t=window.navigator)!=null&&t.standalone)}function s5e(){return gNe()&&document.documentMode===10}function Sae(e=Zl()){return YR(e)||bae(e)||Eae(e)||_ae(e)||/windows phone/i.test(e)||wae(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cae(e,t=[]){let r;switch(e){case"Browser":r=lV(Zl());break;case"Worker":r=`${lV(Zl())}-${e}`;break;default:r=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${Gm}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5e{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const n=s=>new Promise((a,l)=>{try{const c=t(s);a(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const n of this.queue)await n(t),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o5e(e,t={}){return Lp(e,"GET","/v2/passwordPolicy",Wm(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5e=6;class c5e{constructor(t){var n;const r=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??l5e,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=t.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,r),this.validatePasswordCharacterOptions(t,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(t,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=t.length>=n),i&&(r.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<t.length;i++)n=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5e{constructor(t,r,n,i){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cV(this),this.idTokenSubscription=new cV(this),this.beforeStateQueue=new a5e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dae,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=rA(r)),this._initializationPromise=this.queue(async()=>{var n,i,s;if(!this._deleted&&(this.persistenceManager=await Ox.create(this,t),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await n5(this,{idToken:t}),n=await tf._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var s;if(ld(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,l=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(t);(!a||a===l)&&(c!=null&&c.user)&&(n=c.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return In(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await i5(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Q4e()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ld(this.app))return Promise.reject(np(this));const r=t?es(t):null;return r&&In(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&In(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ld(this.app)?Promise.reject(np(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ld(this.app)?Promise.reject(np(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rA(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await o5e(this),r=new c5e(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new zm("auth","Firebase",t())}onAuthStateChanged(t,r,n){return this.registerStateListener(this.authStateSubscription,t,r,n)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,n){return this.registerStateListener(this.idTokenSubscription,t,r,n)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await n5e(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,r){const n=await this.getOrInitRedirectPersistenceManager(r);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&rA(t)||this._popupRedirectResolver;In(r,this,"argument-error"),this.redirectPersistenceManager=await Ox.create(this,[rA(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===t?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(In(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof r=="function"){const c=t.addObserver(r,n,i);return()=>{a=!0,c()}}else{const c=t.addObserver(r);return()=>{a=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return In(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Cae(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var r;if(ld(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return t!=null&&t.error&&M4e(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ey(e){return es(e)}class cV{constructor(t){this.auth=t,this.observer=null,this.addObserver=_Ne(r=>this.observer=r)}get next(){return In(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YT={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function d5e(e){YT=e}function Nae(e){return YT.loadJS(e)}function f5e(){return YT.recaptchaEnterpriseScript}function h5e(){return YT.gapiScript}function A5e(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class p5e{constructor(){this.enterprise=new g5e}ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}class g5e{ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}const m5e="recaptcha-enterprise",Tae="NO_RECAPTCHA";class x5e{constructor(t){this.type=m5e,this.auth=Ey(t)}async verify(t="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{q4e(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new K4e(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,a(u.siteKey)}}).catch(c=>{l(c)})})}function i(s,a,l){const c=window.grecaptcha;iV(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:t}).then(u=>{a(u)}).catch(()=>{a(Tae)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new p5e().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{n(this.auth).then(l=>{if(!r&&iV(window.grecaptcha))i(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=f5e();c.length!==0&&(c+=l),Nae(c).then(()=>{i(l,s,a)}).catch(u=>{a(u)})}}).catch(l=>{a(l)})})}}async function uV(e,t,r,n=!1,i=!1){const s=new x5e(e);let a;if(i)a=Tae;else try{a=await s.verify(r)}catch{a=await s.verify(r,!0)}const l={...t};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function dV(e,t,r,n,i){var s;if((s=e._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await uV(e,t,r,r==="getOobCode");return n(e,a)}else return n(e,t).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await uV(e,t,r,r==="getOobCode");return n(e,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v5e(e,t){const r=Dp(e,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(xp(s,t??{}))return i;mf(i,"already-initialized")}return r.initialize({options:t})}function y5e(e,t){const r=(t==null?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(rA);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function w5e(e,t,r){const n=Ey(e);In(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const i=!!(r!=null&&r.disableWarnings),s=Bae(t),{host:a,port:l}=b5e(t),c=l===null?"":`:${l}`,u={url:`${s}//${a}${c}/`},d=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){In(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),In(xp(u,n.config.emulator)&&xp(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,Op(a)?(zR(`${s}//${a}${c}`),GR("Auth",!0)):_5e()}function Bae(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function b5e(e){const t=Bae(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:fV(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:fV(a)}}}function fV(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function _5e(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return tA("not implemented")}_getIdTokenResponse(t){return tA("not implemented")}_linkToIdToken(t,r){return tA("not implemented")}_getReauthenticationResolver(t){return tA("not implemented")}}async function E5e(e,t){return Lp(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S5e(e,t){return XT(e,"POST","/v1/accounts:signInWithPassword",Wm(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C5e(e,t){return XT(e,"POST","/v1/accounts:signInWithEmailLink",Wm(e,t))}async function N5e(e,t){return XT(e,"POST","/v1/accounts:signInWithEmailLink",Wm(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb extends ZR{constructor(t,r,n,i=null){super("password",n),this._email=t,this._password=r,this._tenantId=i}static _fromEmailAndPassword(t,r){return new Vb(t,r,"password")}static _fromEmailAndCode(t,r,n=null){return new Vb(t,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dV(t,r,"signInWithPassword",S5e);case"emailLink":return C5e(t,{email:this._email,oobCode:this._password});default:mf(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dV(t,n,"signUpPassword",E5e);case"emailLink":return N5e(t,{idToken:r,email:this._email,oobCode:this._password});default:mf(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dx(e,t){return XT(e,"POST","/v1/accounts:signInWithIdp",Wm(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5e="http://localhost";class Am extends ZR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new Am(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):mf("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:i,...s}=r;if(!n||!i)return null;const a=new Am(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const r=this.buildRequest();return Dx(t,r)}_linkToIdToken(t,r){const n=this.buildRequest();return n.idToken=r,Dx(t,n)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,Dx(t,r)}buildRequest(){const t={requestUri:T5e,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=wE(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B5e(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function I5e(e){const t=r2(n2(e)).link,r=t?r2(n2(t)).deep_link_id:null,n=r2(n2(e)).deep_link_id;return(n?r2(n2(n)).link:null)||n||r||t||e}class JR{constructor(t){const r=r2(n2(t)),n=r.apiKey??null,i=r.oobCode??null,s=B5e(r.mode??null);In(n&&i&&s,"argument-error"),this.apiKey=n,this.operation=s,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(t){const r=I5e(t);try{return new JR(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(){this.providerId=Sy.PROVIDER_ID}static credential(t,r){return Vb._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const n=JR.parseLink(r);return In(n,"argument-error"),Vb._fromEmailAndCode(t,n.code,n.tenantId)}}Sy.PROVIDER_ID="password";Sy.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sy.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iae{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE extends Iae{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0 extends EE{constructor(){super("facebook.com")}static credential(t){return Am._fromParams({providerId:v0.PROVIDER_ID,signInMethod:v0.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return v0.credentialFromTaggedObject(t)}static credentialFromError(t){return v0.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return v0.credential(t.oauthAccessToken)}catch{return null}}}v0.FACEBOOK_SIGN_IN_METHOD="facebook.com";v0.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0 extends EE{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Am._fromParams({providerId:y0.PROVIDER_ID,signInMethod:y0.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return y0.credentialFromTaggedObject(t)}static credentialFromError(t){return y0.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return y0.credential(r,n)}catch{return null}}}y0.GOOGLE_SIGN_IN_METHOD="google.com";y0.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0 extends EE{constructor(){super("github.com")}static credential(t){return Am._fromParams({providerId:w0.PROVIDER_ID,signInMethod:w0.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return w0.credentialFromTaggedObject(t)}static credentialFromError(t){return w0.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return w0.credential(t.oauthAccessToken)}catch{return null}}}w0.GITHUB_SIGN_IN_METHOD="github.com";w0.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0 extends EE{constructor(){super("twitter.com")}static credential(t,r){return Am._fromParams({providerId:b0.PROVIDER_ID,signInMethod:b0.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return b0.credentialFromTaggedObject(t)}static credentialFromError(t){return b0.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return b0.credential(r,n)}catch{return null}}}b0.TWITTER_SIGN_IN_METHOD="twitter.com";b0.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,n,i=!1){const s=await tf._fromIdTokenResponse(t,n,i),a=hV(n);return new bv({user:s,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(t,r,n){await t._updateTokensIfNecessary(n,!0);const i=hV(n);return new bv({user:t,providerId:i,_tokenResponse:n,operationType:r})}}function hV(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5 extends Td{constructor(t,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,s5.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,r,n,i){return new s5(t,r,n,i)}}function kae(e,t,r,n){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?s5._fromErrorAndOperation(e,s,t,n):s})}async function k5e(e,t,r=!1){const n=await $b(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return bv._forOperation(e,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j5e(e,t,r=!1){const{auth:n}=e;if(ld(n.app))return Promise.reject(np(n));const i="reauthenticate";try{const s=await $b(e,kae(n,i,t,e),r);In(s.idToken,n,"internal-error");const a=XR(s.idToken);In(a,n,"internal-error");const{sub:l}=a;return In(e.uid===l,n,"user-mismatch"),bv._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&mf(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jae(e,t,r=!1){if(ld(e.app))return Promise.reject(np(e));const n="signIn",i=await kae(e,n,t),s=await bv._fromIdTokenResponse(e,n,i);return r||await e._updateCurrentUser(s.user),s}async function P5e(e,t){return jae(Ey(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F5e(e){const t=Ey(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function O5e(e,t,r){return ld(e.app)?Promise.reject(np(e)):P5e(es(e),Sy.credential(t,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&F5e(e),n})}function D5e(e,t,r,n){return es(e).onIdTokenChanged(t,r,n)}function L5e(e,t,r){return es(e).beforeAuthStateChanged(t,r)}function R5e(e,t,r,n){return es(e).onAuthStateChanged(t,r,n)}function M5e(e){return es(e).signOut()}const a5="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pae{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(a5,"1"),this.storage.removeItem(a5),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5e=1e3,H5e=10;class Fae extends Pae{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Sae(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&t(r,i,n)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const n=t.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);s5e()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,H5e):i()}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:n}),!0)})},U5e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}Fae.type="LOCAL";const Q5e=Fae;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oae extends Pae{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}Oae.type="SESSION";const Dae=Oae;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5e(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(i=>i.isListeningto(t));if(r)return r;const n=new ZT(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:n,eventType:i,data:s}=r.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(a).map(async u=>u(r.origin,s)),c=await $5e(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ZT.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(e="",t=10){let r="";for(let n=0;n<t;n++)r+=Math.floor(Math.random()*10);return e+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5e{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((l,c)=>{const u=eM("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(h){const A=h;if(A.data.eventId===u)switch(A.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(A.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:u,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(){return window}function z5e(e){eh().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lae(){return typeof eh().WorkerGlobalScope<"u"&&typeof eh().importScripts=="function"}async function G5e(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function W5e(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function K5e(){return Lae()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rae="firebaseLocalStorageDb",q5e=1,o5="firebaseLocalStorage",Mae="fbase_key";class SE{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function JT(e,t){return e.transaction([o5],t?"readwrite":"readonly").objectStore(o5)}function X5e(){const e=indexedDB.deleteDatabase(Rae);return new SE(e).toPromise()}function n8(){const e=indexedDB.open(Rae,q5e);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const n=e.result;try{n.createObjectStore(o5,{keyPath:Mae})}catch(i){r(i)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(o5)?t(n):(n.close(),await X5e(),t(await n8()))})})}async function AV(e,t,r){const n=JT(e,!0).put({[Mae]:t,value:r});return new SE(n).toPromise()}async function Y5e(e,t){const r=JT(e,!1).get(t),n=await new SE(r).toPromise();return n===void 0?null:n.value}function pV(e,t){const r=JT(e,!0).delete(t);return new SE(r).toPromise()}const Z5e=800,J5e=3;class Uae{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await n8(),this.db)}async _withRetries(t){let r=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(r++>J5e)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Lae()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ZT._getInstance(K5e()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await G5e(),!this.activeServiceWorker)return;this.sender=new V5e(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(r=t[0])!=null&&r.fulfilled&&(n=t[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||W5e()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await n8();return await AV(t,a5,"1"),await pV(t,a5),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>AV(n,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(n=>Y5e(n,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>pV(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=JT(i,!1).getAll();return new SE(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Z5e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Uae.type="LOCAL";const e3e=Uae;new _E(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3e(e,t){return t?rA(t):(In(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM extends ZR{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Dx(t,this._buildIdpRequest())}_linkToIdToken(t,r){return Dx(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return Dx(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function r3e(e){return jae(e.auth,new tM(e),e.bypassAuthState)}function n3e(e){const{auth:t,user:r}=e;return In(r,t,"internal-error"),j5e(r,new tM(e),e.bypassAuthState)}async function i3e(e){const{auth:t,user:r}=e;return In(r,t,"internal-error"),k5e(r,new tM(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hae{constructor(t,r,n,i,s=!1){this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:a,type:l}=t;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return r3e;case"linkViaPopup":case"linkViaRedirect":return i3e;case"reauthViaPopup":case"reauthViaRedirect":return n3e;default:mf(this.auth,"internal-error")}}resolve(t){SA(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){SA(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3e=new _E(2e3,1e4);class hx extends Hae{constructor(t,r,n,i,s){super(t,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,hx.currentPopupAction&&hx.currentPopupAction.cancel(),hx.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return In(t,this.auth,"internal-error"),t}async onExecution(){SA(this.filter.length===1,"Popup operations only handle one event");const t=eM();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Jf(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Jf(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hx.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jf(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,s3e.get())};t()}}hx.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3e="pendingRedirect",YN=new Map;class o3e extends Hae{constructor(t,r,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let t=YN.get(this.auth._key());if(!t){try{const n=await l3e(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(r){t=()=>Promise.reject(r)}YN.set(this.auth._key(),t)}return this.bypassAuthState||YN.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function l3e(e,t){const r=d3e(t),n=u3e(e);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function c3e(e,t){YN.set(e._key(),t)}function u3e(e){return rA(e._redirectPersistence)}function d3e(e){return XN(a3e,e.config.apiKey,e.name)}async function f3e(e,t,r=!1){if(ld(e.app))return Promise.reject(np(e));const n=Ey(e),i=t3e(n,t),a=await new o3e(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3e=10*60*1e3;class A3e{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(r=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!p3e(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var n;if(t.error&&!Qae(t)){const i=((n=t.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(Jf(this.auth,i))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const n=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=h3e&&this.cachedEventUids.clear(),this.cachedEventUids.has(gV(t))}saveEventToCache(t){this.cachedEventUids.add(gV(t)),this.lastProcessedEventTime=Date.now()}}function gV(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Qae({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function p3e(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qae(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g3e(e,t={}){return Lp(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3e=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,x3e=/^https?/;async function v3e(e){if(e.config.emulator)return;const{authorizedDomains:t}=await g3e(e);for(const r of t)try{if(y3e(r))return}catch{}mf(e,"unauthorized-domain")}function y3e(e){const t=t8(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&n===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!x3e.test(r))return!1;if(m3e.test(e))return n===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3e=new _E(3e4,6e4);function mV(){const e=eh().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function b3e(e){return new Promise((t,r)=>{var i,s,a;function n(){mV(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{mV(),r(Jf(e,"network-request-failed"))},timeout:w3e.get()})}if((s=(i=eh().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)t(gapi.iframes.getContext());else if((a=eh().gapi)!=null&&a.load)n();else{const l=A5e("iframefcb");return eh()[l]=()=>{gapi.load?n():r(Jf(e,"network-request-failed"))},Nae(`${h5e()}?onload=${l}`).catch(c=>r(c))}}).catch(t=>{throw ZN=null,t})}let ZN=null;function _3e(e){return ZN=ZN||b3e(e),ZN}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3e=new _E(5e3,15e3),S3e="__/auth/iframe",C3e="emulator/auth/iframe",N3e={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T3e=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function B3e(e){const t=e.config;In(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?qR(t,C3e):`https://${e.config.authDomain}/${S3e}`,n={apiKey:t.apiKey,appName:e.name,v:Gm},i=T3e.get(e.config.apiHost);i&&(n.eid=i);const s=e._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${wE(n).slice(1)}`}async function I3e(e){const t=await _3e(e),r=eh().gapi;return In(r,e,"internal-error"),t.open({where:document.body,url:B3e(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:N3e,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=Jf(e,"network-request-failed"),l=eh().setTimeout(()=>{s(a)},E3e.get());function c(){eh().clearTimeout(l),i(n)}n.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3e={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},j3e=500,P3e=600,F3e="_blank",O3e="http://localhost";class xV{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function D3e(e,t,r,n=j3e,i=P3e){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c={...k3e,width:n.toString(),height:i.toString(),top:s,left:a},u=Zl().toLowerCase();r&&(l=yae(u)?F3e:r),xae(u)&&(t=t||O3e,c.scrollbars="yes");const d=Object.entries(c).reduce((A,[g,v])=>`${A}${g}=${v},`,"");if(i5e(u)&&l!=="_self")return L3e(t||"",l),new xV(null);const h=window.open(t||"",l,d);In(h,e,"popup-blocked");try{h.focus()}catch{}return new xV(h)}function L3e(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3e="__/auth/handler",M3e="emulator/auth/handler",U3e=encodeURIComponent("fac");async function vV(e,t,r,n,i,s){In(e.config.authDomain,e,"auth-domain-config-required"),In(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:Gm,eventId:i};if(t instanceof Iae){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",bNe(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,h]of Object.entries({}))a[d]=h}if(t instanceof EE){const d=t.getScopes().filter(h=>h!=="");d.length>0&&(a.scopes=d.join(","))}e.tenantId&&(a.tid=e.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await e._getAppCheckToken(),u=c?`#${U3e}=${encodeURIComponent(c)}`:"";return`${H3e(e)}?${wE(l).slice(1)}${u}`}function H3e({config:e}){return e.emulator?qR(e,M3e):`https://${e.authDomain}/${R3e}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj="webStorageSupport";class Q3e{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dae,this._completeRedirectFn=f3e,this._overrideRedirectResult=c3e}async _openPopup(t,r,n,i){var a;SA((a=this.eventManagers[t._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await vV(t,r,n,t8(),i);return D3e(t,s,eM())}async _openRedirect(t,r,n,i){await this._originValidation(t);const s=await vV(t,r,n,t8(),i);return z5e(s),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(SA(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(t);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(t){const r=await I3e(t),n=new A3e(t);return r.register("authEvent",i=>(In(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=r,n}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(xj,{type:xj},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[xj];s!==void 0&&r(!!s),mf(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=v3e(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return Sae()||vae()||YR()}}const $3e=Q3e;var yV="@firebase/auth",wV="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3e{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){In(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3e(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function G3e(e){gf(new Ed("auth",(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=n.options;In(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:a,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cae(e)},u=new u5e(n,i,s,c);return y5e(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,n)=>{t.getProvider("auth-internal").initialize()})),gf(new Ed("auth-internal",t=>{const r=Ey(t.getProvider("auth").getImmediate());return(n=>new V3e(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xc(yV,wV,z3e(e)),Xc(yV,wV,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3e=5*60,K3e=Jse("authIdTokenMaxAge")||W3e;let bV=null;const q3e=e=>async t=>{const r=t&&await t.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>K3e)return;const i=r==null?void 0:r.token;bV!==i&&(bV=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function X3e(e=bE()){const t=Dp(e,"auth");if(t.isInitialized())return t.getImmediate();const r=v5e(e,{popupRedirectResolver:$3e,persistence:[e3e,Q5e,Dae]}),n=Jse("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=q3e(s.toString());L5e(r,a,()=>a(r.currentUser)),D5e(r,l=>a(l))}}const i=Xse("auth");return i&&w5e(r,`http://${i}`),r}function Y3e(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}d5e({loadJS(e){return new Promise((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=i=>{const s=Jf("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",Y3e().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});G3e("Browser");var _V=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ip,$ae;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,P){function k(){}k.prototype=P.prototype,T.F=P.prototype,T.prototype=new k,T.prototype.constructor=T,T.D=function(R,O,M){for(var H=Array(arguments.length-2),K=2;K<arguments.length;K++)H[K-2]=arguments[K];return P.prototype[O].apply(R,H)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,P,k){k||(k=0);const R=Array(16);if(typeof P=="string")for(var O=0;O<16;++O)R[O]=P.charCodeAt(k++)|P.charCodeAt(k++)<<8|P.charCodeAt(k++)<<16|P.charCodeAt(k++)<<24;else for(O=0;O<16;++O)R[O]=P[k++]|P[k++]<<8|P[k++]<<16|P[k++]<<24;P=T.g[0],k=T.g[1],O=T.g[2];let M=T.g[3],H;H=P+(M^k&(O^M))+R[0]+3614090360&4294967295,P=k+(H<<7&4294967295|H>>>25),H=M+(O^P&(k^O))+R[1]+3905402710&4294967295,M=P+(H<<12&4294967295|H>>>20),H=O+(k^M&(P^k))+R[2]+606105819&4294967295,O=M+(H<<17&4294967295|H>>>15),H=k+(P^O&(M^P))+R[3]+3250441966&4294967295,k=O+(H<<22&4294967295|H>>>10),H=P+(M^k&(O^M))+R[4]+4118548399&4294967295,P=k+(H<<7&4294967295|H>>>25),H=M+(O^P&(k^O))+R[5]+1200080426&4294967295,M=P+(H<<12&4294967295|H>>>20),H=O+(k^M&(P^k))+R[6]+2821735955&4294967295,O=M+(H<<17&4294967295|H>>>15),H=k+(P^O&(M^P))+R[7]+4249261313&4294967295,k=O+(H<<22&4294967295|H>>>10),H=P+(M^k&(O^M))+R[8]+1770035416&4294967295,P=k+(H<<7&4294967295|H>>>25),H=M+(O^P&(k^O))+R[9]+2336552879&4294967295,M=P+(H<<12&4294967295|H>>>20),H=O+(k^M&(P^k))+R[10]+4294925233&4294967295,O=M+(H<<17&4294967295|H>>>15),H=k+(P^O&(M^P))+R[11]+2304563134&4294967295,k=O+(H<<22&4294967295|H>>>10),H=P+(M^k&(O^M))+R[12]+1804603682&4294967295,P=k+(H<<7&4294967295|H>>>25),H=M+(O^P&(k^O))+R[13]+4254626195&4294967295,M=P+(H<<12&4294967295|H>>>20),H=O+(k^M&(P^k))+R[14]+2792965006&4294967295,O=M+(H<<17&4294967295|H>>>15),H=k+(P^O&(M^P))+R[15]+1236535329&4294967295,k=O+(H<<22&4294967295|H>>>10),H=P+(O^M&(k^O))+R[1]+4129170786&4294967295,P=k+(H<<5&4294967295|H>>>27),H=M+(k^O&(P^k))+R[6]+3225465664&4294967295,M=P+(H<<9&4294967295|H>>>23),H=O+(P^k&(M^P))+R[11]+643717713&4294967295,O=M+(H<<14&4294967295|H>>>18),H=k+(M^P&(O^M))+R[0]+3921069994&4294967295,k=O+(H<<20&4294967295|H>>>12),H=P+(O^M&(k^O))+R[5]+3593408605&4294967295,P=k+(H<<5&4294967295|H>>>27),H=M+(k^O&(P^k))+R[10]+38016083&4294967295,M=P+(H<<9&4294967295|H>>>23),H=O+(P^k&(M^P))+R[15]+3634488961&4294967295,O=M+(H<<14&4294967295|H>>>18),H=k+(M^P&(O^M))+R[4]+3889429448&4294967295,k=O+(H<<20&4294967295|H>>>12),H=P+(O^M&(k^O))+R[9]+568446438&4294967295,P=k+(H<<5&4294967295|H>>>27),H=M+(k^O&(P^k))+R[14]+3275163606&4294967295,M=P+(H<<9&4294967295|H>>>23),H=O+(P^k&(M^P))+R[3]+4107603335&4294967295,O=M+(H<<14&4294967295|H>>>18),H=k+(M^P&(O^M))+R[8]+1163531501&4294967295,k=O+(H<<20&4294967295|H>>>12),H=P+(O^M&(k^O))+R[13]+2850285829&4294967295,P=k+(H<<5&4294967295|H>>>27),H=M+(k^O&(P^k))+R[2]+4243563512&4294967295,M=P+(H<<9&4294967295|H>>>23),H=O+(P^k&(M^P))+R[7]+1735328473&4294967295,O=M+(H<<14&4294967295|H>>>18),H=k+(M^P&(O^M))+R[12]+2368359562&4294967295,k=O+(H<<20&4294967295|H>>>12),H=P+(k^O^M)+R[5]+4294588738&4294967295,P=k+(H<<4&4294967295|H>>>28),H=M+(P^k^O)+R[8]+2272392833&4294967295,M=P+(H<<11&4294967295|H>>>21),H=O+(M^P^k)+R[11]+1839030562&4294967295,O=M+(H<<16&4294967295|H>>>16),H=k+(O^M^P)+R[14]+4259657740&4294967295,k=O+(H<<23&4294967295|H>>>9),H=P+(k^O^M)+R[1]+2763975236&4294967295,P=k+(H<<4&4294967295|H>>>28),H=M+(P^k^O)+R[4]+1272893353&4294967295,M=P+(H<<11&4294967295|H>>>21),H=O+(M^P^k)+R[7]+4139469664&4294967295,O=M+(H<<16&4294967295|H>>>16),H=k+(O^M^P)+R[10]+3200236656&4294967295,k=O+(H<<23&4294967295|H>>>9),H=P+(k^O^M)+R[13]+681279174&4294967295,P=k+(H<<4&4294967295|H>>>28),H=M+(P^k^O)+R[0]+3936430074&4294967295,M=P+(H<<11&4294967295|H>>>21),H=O+(M^P^k)+R[3]+3572445317&4294967295,O=M+(H<<16&4294967295|H>>>16),H=k+(O^M^P)+R[6]+76029189&4294967295,k=O+(H<<23&4294967295|H>>>9),H=P+(k^O^M)+R[9]+3654602809&4294967295,P=k+(H<<4&4294967295|H>>>28),H=M+(P^k^O)+R[12]+3873151461&4294967295,M=P+(H<<11&4294967295|H>>>21),H=O+(M^P^k)+R[15]+530742520&4294967295,O=M+(H<<16&4294967295|H>>>16),H=k+(O^M^P)+R[2]+3299628645&4294967295,k=O+(H<<23&4294967295|H>>>9),H=P+(O^(k|~M))+R[0]+4096336452&4294967295,P=k+(H<<6&4294967295|H>>>26),H=M+(k^(P|~O))+R[7]+1126891415&4294967295,M=P+(H<<10&4294967295|H>>>22),H=O+(P^(M|~k))+R[14]+2878612391&4294967295,O=M+(H<<15&4294967295|H>>>17),H=k+(M^(O|~P))+R[5]+4237533241&4294967295,k=O+(H<<21&4294967295|H>>>11),H=P+(O^(k|~M))+R[12]+1700485571&4294967295,P=k+(H<<6&4294967295|H>>>26),H=M+(k^(P|~O))+R[3]+2399980690&4294967295,M=P+(H<<10&4294967295|H>>>22),H=O+(P^(M|~k))+R[10]+4293915773&4294967295,O=M+(H<<15&4294967295|H>>>17),H=k+(M^(O|~P))+R[1]+2240044497&4294967295,k=O+(H<<21&4294967295|H>>>11),H=P+(O^(k|~M))+R[8]+1873313359&4294967295,P=k+(H<<6&4294967295|H>>>26),H=M+(k^(P|~O))+R[15]+4264355552&4294967295,M=P+(H<<10&4294967295|H>>>22),H=O+(P^(M|~k))+R[6]+2734768916&4294967295,O=M+(H<<15&4294967295|H>>>17),H=k+(M^(O|~P))+R[13]+1309151649&4294967295,k=O+(H<<21&4294967295|H>>>11),H=P+(O^(k|~M))+R[4]+4149444226&4294967295,P=k+(H<<6&4294967295|H>>>26),H=M+(k^(P|~O))+R[11]+3174756917&4294967295,M=P+(H<<10&4294967295|H>>>22),H=O+(P^(M|~k))+R[2]+718787259&4294967295,O=M+(H<<15&4294967295|H>>>17),H=k+(M^(O|~P))+R[9]+3951481745&4294967295,T.g[0]=T.g[0]+P&4294967295,T.g[1]=T.g[1]+(O+(H<<21&4294967295|H>>>11))&4294967295,T.g[2]=T.g[2]+O&4294967295,T.g[3]=T.g[3]+M&4294967295}n.prototype.v=function(T,P){P===void 0&&(P=T.length);const k=P-this.blockSize,R=this.C;let O=this.h,M=0;for(;M<P;){if(O==0)for(;M<=k;)i(this,T,M),M+=this.blockSize;if(typeof T=="string"){for(;M<P;)if(R[O++]=T.charCodeAt(M++),O==this.blockSize){i(this,R),O=0;break}}else for(;M<P;)if(R[O++]=T[M++],O==this.blockSize){i(this,R),O=0;break}}this.h=O,this.o+=P},n.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var P=1;P<T.length-8;++P)T[P]=0;P=this.o*8;for(var k=T.length-8;k<T.length;++k)T[k]=P&255,P/=256;for(this.v(T),T=Array(16),P=0,k=0;k<4;++k)for(let R=0;R<32;R+=8)T[P++]=this.g[k]>>>R&255;return T};function s(T,P){var k=l;return Object.prototype.hasOwnProperty.call(k,T)?k[T]:k[T]=P(T)}function a(T,P){this.h=P;const k=[];let R=!0;for(let O=T.length-1;O>=0;O--){const M=T[O]|0;R&&M==P||(k[O]=M,R=!1)}this.g=k}var l={};function c(T){return-128<=T&&T<128?s(T,function(P){return new a([P|0],P<0?-1:0)}):new a([T|0],T<0?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return h;if(T<0)return y(u(-T));const P=[];let k=1;for(let R=0;T>=k;R++)P[R]=T/k|0,k*=4294967296;return new a(P,0)}function d(T,P){if(T.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(T.charAt(0)=="-")return y(d(T.substring(1),P));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=u(Math.pow(P,8));let R=h;for(let M=0;M<T.length;M+=8){var O=Math.min(8,T.length-M);const H=parseInt(T.substring(M,M+O),P);O<8?(O=u(Math.pow(P,O)),R=R.j(O).add(u(H))):(R=R.j(k),R=R.add(u(H)))}return R}var h=c(0),A=c(1),g=c(16777216);e=a.prototype,e.m=function(){if(x(this))return-y(this).m();let T=0,P=1;for(let k=0;k<this.g.length;k++){const R=this.i(k);T+=(R>=0?R:4294967296+R)*P,P*=4294967296}return T},e.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(v(this))return"0";if(x(this))return"-"+y(this).toString(T);const P=u(Math.pow(T,6));var k=this;let R="";for(;;){const O=I(k,P).g;k=w(k,O.j(P));let M=((k.g.length>0?k.g[0]:k.h)>>>0).toString(T);if(k=O,v(k))return M+R;for(;M.length<6;)M="0"+M;R=M+R}},e.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function v(T){if(T.h!=0)return!1;for(let P=0;P<T.g.length;P++)if(T.g[P]!=0)return!1;return!0}function x(T){return T.h==-1}e.l=function(T){return T=w(this,T),x(T)?-1:v(T)?0:1};function y(T){const P=T.g.length,k=[];for(let R=0;R<P;R++)k[R]=~T.g[R];return new a(k,~T.h).add(A)}e.abs=function(){return x(this)?y(this):this},e.add=function(T){const P=Math.max(this.g.length,T.g.length),k=[];let R=0;for(let O=0;O<=P;O++){let M=R+(this.i(O)&65535)+(T.i(O)&65535),H=(M>>>16)+(this.i(O)>>>16)+(T.i(O)>>>16);R=H>>>16,M&=65535,H&=65535,k[O]=H<<16|M}return new a(k,k[k.length-1]&-2147483648?-1:0)};function w(T,P){return T.add(y(P))}e.j=function(T){if(v(this)||v(T))return h;if(x(this))return x(T)?y(this).j(y(T)):y(y(this).j(T));if(x(T))return y(this.j(y(T)));if(this.l(g)<0&&T.l(g)<0)return u(this.m()*T.m());const P=this.g.length+T.g.length,k=[];for(var R=0;R<2*P;R++)k[R]=0;for(R=0;R<this.g.length;R++)for(let O=0;O<T.g.length;O++){const M=this.i(R)>>>16,H=this.i(R)&65535,K=T.i(O)>>>16,Y=T.i(O)&65535;k[2*R+2*O]+=H*Y,_(k,2*R+2*O),k[2*R+2*O+1]+=M*Y,_(k,2*R+2*O+1),k[2*R+2*O+1]+=H*K,_(k,2*R+2*O+1),k[2*R+2*O+2]+=M*K,_(k,2*R+2*O+2)}for(T=0;T<P;T++)k[T]=k[2*T+1]<<16|k[2*T];for(T=P;T<2*P;T++)k[T]=0;return new a(k,0)};function _(T,P){for(;(T[P]&65535)!=T[P];)T[P+1]+=T[P]>>>16,T[P]&=65535,P++}function E(T,P){this.g=T,this.h=P}function I(T,P){if(v(P))throw Error("division by zero");if(v(T))return new E(h,h);if(x(T))return P=I(y(T),P),new E(y(P.g),y(P.h));if(x(P))return P=I(T,y(P)),new E(y(P.g),P.h);if(T.g.length>30){if(x(T)||x(P))throw Error("slowDivide_ only works with positive integers.");for(var k=A,R=P;R.l(T)<=0;)k=N(k),R=N(R);var O=j(k,1),M=j(R,1);for(R=j(R,2),k=j(k,2);!v(R);){var H=M.add(R);H.l(T)<=0&&(O=O.add(k),M=H),R=j(R,1),k=j(k,1)}return P=w(T,O.j(P)),new E(O,P)}for(O=h;T.l(P)>=0;){for(k=Math.max(1,Math.floor(T.m()/P.m())),R=Math.ceil(Math.log(k)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),M=u(k),H=M.j(P);x(H)||H.l(T)>0;)k-=R,M=u(k),H=M.j(P);v(M)&&(M=A),O=O.add(M),T=w(T,H)}return new E(O,T)}e.B=function(T){return I(this,T).h},e.and=function(T){const P=Math.max(this.g.length,T.g.length),k=[];for(let R=0;R<P;R++)k[R]=this.i(R)&T.i(R);return new a(k,this.h&T.h)},e.or=function(T){const P=Math.max(this.g.length,T.g.length),k=[];for(let R=0;R<P;R++)k[R]=this.i(R)|T.i(R);return new a(k,this.h|T.h)},e.xor=function(T){const P=Math.max(this.g.length,T.g.length),k=[];for(let R=0;R<P;R++)k[R]=this.i(R)^T.i(R);return new a(k,this.h^T.h)};function N(T){const P=T.g.length+1,k=[];for(let R=0;R<P;R++)k[R]=T.i(R)<<1|T.i(R-1)>>>31;return new a(k,T.h)}function j(T,P){const k=P>>5;P%=32;const R=T.g.length-k,O=[];for(let M=0;M<R;M++)O[M]=P>0?T.i(M+k)>>>P|T.i(M+k+1)<<32-P:T.i(M+k);return new a(O,T.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,$ae=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,ip=a}).apply(typeof _V<"u"?_V:typeof self<"u"?self:typeof window<"u"?window:{});var nC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vae,i2,zae,JN,i8,Gae,Wae,Kae;(function(){var e,t=Object.defineProperty;function r(F){F=[typeof globalThis=="object"&&globalThis,F,typeof window=="object"&&window,typeof self=="object"&&self,typeof nC=="object"&&nC];for(var Z=0;Z<F.length;++Z){var ie=F[Z];if(ie&&ie.Math==Math)return ie}throw Error("Cannot find global object")}var n=r(this);function i(F,Z){if(Z)e:{var ie=n;F=F.split(".");for(var Ce=0;Ce<F.length-1;Ce++){var tt=F[Ce];if(!(tt in ie))break e;ie=ie[tt]}F=F[F.length-1],Ce=ie[F],Z=Z(Ce),Z!=Ce&&Z!=null&&t(ie,F,{configurable:!0,writable:!0,value:Z})}}i("Symbol.dispose",function(F){return F||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(F){return F||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(F){return F||function(Z){var ie=[],Ce;for(Ce in Z)Object.prototype.hasOwnProperty.call(Z,Ce)&&ie.push([Ce,Z[Ce]]);return ie}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(F){var Z=typeof F;return Z=="object"&&F!=null||Z=="function"}function c(F,Z,ie){return F.call.apply(F.bind,arguments)}function u(F,Z,ie){return u=c,u.apply(null,arguments)}function d(F,Z){var ie=Array.prototype.slice.call(arguments,1);return function(){var Ce=ie.slice();return Ce.push.apply(Ce,arguments),F.apply(this,Ce)}}function h(F,Z){function ie(){}ie.prototype=Z.prototype,F.Z=Z.prototype,F.prototype=new ie,F.prototype.constructor=F,F.Ob=function(Ce,tt,At){for(var rr=Array(arguments.length-2),bn=2;bn<arguments.length;bn++)rr[bn-2]=arguments[bn];return Z.prototype[tt].apply(Ce,rr)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?F=>F&&AsyncContext.Snapshot.wrap(F):F=>F;function g(F){const Z=F.length;if(Z>0){const ie=Array(Z);for(let Ce=0;Ce<Z;Ce++)ie[Ce]=F[Ce];return ie}return[]}function v(F,Z){for(let Ce=1;Ce<arguments.length;Ce++){const tt=arguments[Ce];var ie=typeof tt;if(ie=ie!="object"?ie:tt?Array.isArray(tt)?"array":ie:"null",ie=="array"||ie=="object"&&typeof tt.length=="number"){ie=F.length||0;const At=tt.length||0;F.length=ie+At;for(let rr=0;rr<At;rr++)F[ie+rr]=tt[rr]}else F.push(tt)}}class x{constructor(Z,ie){this.i=Z,this.j=ie,this.h=0,this.g=null}get(){let Z;return this.h>0?(this.h--,Z=this.g,this.g=Z.next,Z.next=null):Z=this.i(),Z}}function y(F){a.setTimeout(()=>{throw F},0)}function w(){var F=T;let Z=null;return F.g&&(Z=F.g,F.g=F.g.next,F.g||(F.h=null),Z.next=null),Z}class _{constructor(){this.h=this.g=null}add(Z,ie){const Ce=E.get();Ce.set(Z,ie),this.h?this.h.next=Ce:this.g=Ce,this.h=Ce}}var E=new x(()=>new I,F=>F.reset());class I{constructor(){this.next=this.g=this.h=null}set(Z,ie){this.h=Z,this.g=ie,this.next=null}reset(){this.next=this.g=this.h=null}}let N,j=!1,T=new _,P=()=>{const F=Promise.resolve(void 0);N=()=>{F.then(k)}};function k(){for(var F;F=w();){try{F.h.call(F.g)}catch(ie){y(ie)}var Z=E;Z.j(F),Z.h<100&&(Z.h++,F.next=Z.g,Z.g=F)}j=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(F,Z){this.type=F,this.g=this.target=Z,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var F=!1,Z=Object.defineProperty({},"passive",{get:function(){F=!0}});try{const ie=()=>{};a.addEventListener("test",ie,Z),a.removeEventListener("test",ie,Z)}catch{}return F}();function H(F){return/^[\s\xa0]*$/.test(F)}function K(F,Z){O.call(this,F?F.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,F&&this.init(F,Z)}h(K,O),K.prototype.init=function(F,Z){const ie=this.type=F.type,Ce=F.changedTouches&&F.changedTouches.length?F.changedTouches[0]:null;this.target=F.target||F.srcElement,this.g=Z,Z=F.relatedTarget,Z||(ie=="mouseover"?Z=F.fromElement:ie=="mouseout"&&(Z=F.toElement)),this.relatedTarget=Z,Ce?(this.clientX=Ce.clientX!==void 0?Ce.clientX:Ce.pageX,this.clientY=Ce.clientY!==void 0?Ce.clientY:Ce.pageY,this.screenX=Ce.screenX||0,this.screenY=Ce.screenY||0):(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0),this.button=F.button,this.key=F.key||"",this.ctrlKey=F.ctrlKey,this.altKey=F.altKey,this.shiftKey=F.shiftKey,this.metaKey=F.metaKey,this.pointerId=F.pointerId||0,this.pointerType=F.pointerType,this.state=F.state,this.i=F,F.defaultPrevented&&K.Z.h.call(this)},K.prototype.h=function(){K.Z.h.call(this);const F=this.i;F.preventDefault?F.preventDefault():F.returnValue=!1};var Y="closure_listenable_"+(Math.random()*1e6|0),ne=0;function le(F,Z,ie,Ce,tt){this.listener=F,this.proxy=null,this.src=Z,this.type=ie,this.capture=!!Ce,this.ha=tt,this.key=++ne,this.da=this.fa=!1}function te(F){F.da=!0,F.listener=null,F.proxy=null,F.src=null,F.ha=null}function X(F,Z,ie){for(const Ce in F)Z.call(ie,F[Ce],Ce,F)}function ue(F,Z){for(const ie in F)Z.call(void 0,F[ie],ie,F)}function ve(F){const Z={};for(const ie in F)Z[ie]=F[ie];return Z}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q(F,Z){let ie,Ce;for(let tt=1;tt<arguments.length;tt++){Ce=arguments[tt];for(ie in Ce)F[ie]=Ce[ie];for(let At=0;At<V.length;At++)ie=V[At],Object.prototype.hasOwnProperty.call(Ce,ie)&&(F[ie]=Ce[ie])}}function ee(F){this.src=F,this.g={},this.h=0}ee.prototype.add=function(F,Z,ie,Ce,tt){const At=F.toString();F=this.g[At],F||(F=this.g[At]=[],this.h++);const rr=de(F,Z,Ce,tt);return rr>-1?(Z=F[rr],ie||(Z.fa=!1)):(Z=new le(Z,this.src,At,!!Ce,tt),Z.fa=ie,F.push(Z)),Z};function re(F,Z){const ie=Z.type;if(ie in F.g){var Ce=F.g[ie],tt=Array.prototype.indexOf.call(Ce,Z,void 0),At;(At=tt>=0)&&Array.prototype.splice.call(Ce,tt,1),At&&(te(Z),F.g[ie].length==0&&(delete F.g[ie],F.h--))}}function de(F,Z,ie,Ce){for(let tt=0;tt<F.length;++tt){const At=F[tt];if(!At.da&&At.listener==Z&&At.capture==!!ie&&At.ha==Ce)return tt}return-1}var Ae="closure_lm_"+(Math.random()*1e6|0),_e={};function ye(F,Z,ie,Ce,tt){if(Array.isArray(Z)){for(let At=0;At<Z.length;At++)ye(F,Z[At],ie,Ce,tt);return null}return ie=ke(ie),F&&F[Y]?F.J(Z,ie,l(Ce)?!!Ce.capture:!!Ce,tt):ce(F,Z,ie,!1,Ce,tt)}function ce(F,Z,ie,Ce,tt,At){if(!Z)throw Error("Invalid event type");const rr=l(tt)?!!tt.capture:!!tt;let bn=Fe(F);if(bn||(F[Ae]=bn=new ee(F)),ie=bn.add(Z,ie,Ce,rr,At),ie.proxy)return ie;if(Ce=Ne(),ie.proxy=Ce,Ce.src=F,Ce.listener=ie,F.addEventListener)M||(tt=rr),tt===void 0&&(tt=!1),F.addEventListener(Z.toString(),Ce,tt);else if(F.attachEvent)F.attachEvent(Re(Z.toString()),Ce);else if(F.addListener&&F.removeListener)F.addListener(Ce);else throw Error("addEventListener and attachEvent are unavailable.");return ie}function Ne(){function F(ie){return Z.call(F.src,F.listener,ie)}const Z=z;return F}function oe(F,Z,ie,Ce,tt){if(Array.isArray(Z))for(var At=0;At<Z.length;At++)oe(F,Z[At],ie,Ce,tt);else Ce=l(Ce)?!!Ce.capture:!!Ce,ie=ke(ie),F&&F[Y]?(F=F.i,At=String(Z).toString(),At in F.g&&(Z=F.g[At],ie=de(Z,ie,Ce,tt),ie>-1&&(te(Z[ie]),Array.prototype.splice.call(Z,ie,1),Z.length==0&&(delete F.g[At],F.h--)))):F&&(F=Fe(F))&&(Z=F.g[Z.toString()],F=-1,Z&&(F=de(Z,ie,Ce,tt)),(ie=F>-1?Z[F]:null)&&We(ie))}function We(F){if(typeof F!="number"&&F&&!F.da){var Z=F.src;if(Z&&Z[Y])re(Z.i,F);else{var ie=F.type,Ce=F.proxy;Z.removeEventListener?Z.removeEventListener(ie,Ce,F.capture):Z.detachEvent?Z.detachEvent(Re(ie),Ce):Z.addListener&&Z.removeListener&&Z.removeListener(Ce),(ie=Fe(Z))?(re(ie,F),ie.h==0&&(ie.src=null,Z[Ae]=null)):te(F)}}}function Re(F){return F in _e?_e[F]:_e[F]="on"+F}function z(F,Z){if(F.da)F=!0;else{Z=new K(Z,this);const ie=F.listener,Ce=F.ha||F.src;F.fa&&We(F),F=ie.call(Ce,Z)}return F}function Fe(F){return F=F[Ae],F instanceof ee?F:null}var He="__closure_events_fn_"+(Math.random()*1e9>>>0);function ke(F){return typeof F=="function"?F:(F[He]||(F[He]=function(Z){return F.handleEvent(Z)}),F[He])}function Te(){R.call(this),this.i=new ee(this),this.M=this,this.G=null}h(Te,R),Te.prototype[Y]=!0,Te.prototype.removeEventListener=function(F,Z,ie,Ce){oe(this,F,Z,ie,Ce)};function Ze(F,Z){var ie,Ce=F.G;if(Ce)for(ie=[];Ce;Ce=Ce.G)ie.push(Ce);if(F=F.M,Ce=Z.type||Z,typeof Z=="string")Z=new O(Z,F);else if(Z instanceof O)Z.target=Z.target||F;else{var tt=Z;Z=new O(Ce,F),q(Z,tt)}tt=!0;let At,rr;if(ie)for(rr=ie.length-1;rr>=0;rr--)At=Z.g=ie[rr],tt=ze(At,Ce,!0,Z)&&tt;if(At=Z.g=F,tt=ze(At,Ce,!0,Z)&&tt,tt=ze(At,Ce,!1,Z)&&tt,ie)for(rr=0;rr<ie.length;rr++)At=Z.g=ie[rr],tt=ze(At,Ce,!1,Z)&&tt}Te.prototype.N=function(){if(Te.Z.N.call(this),this.i){var F=this.i;for(const Z in F.g){const ie=F.g[Z];for(let Ce=0;Ce<ie.length;Ce++)te(ie[Ce]);delete F.g[Z],F.h--}}this.G=null},Te.prototype.J=function(F,Z,ie,Ce){return this.i.add(String(F),Z,!1,ie,Ce)},Te.prototype.K=function(F,Z,ie,Ce){return this.i.add(String(F),Z,!0,ie,Ce)};function ze(F,Z,ie,Ce){if(Z=F.i.g[String(Z)],!Z)return!0;Z=Z.concat();let tt=!0;for(let At=0;At<Z.length;++At){const rr=Z[At];if(rr&&!rr.da&&rr.capture==ie){const bn=rr.listener,ts=rr.ha||rr.src;rr.fa&&re(F.i,rr),tt=bn.call(ts,Ce)!==!1&&tt}}return tt&&!Ce.defaultPrevented}function Tt(F,Z){if(typeof F!="function")if(F&&typeof F.handleEvent=="function")F=u(F.handleEvent,F);else throw Error("Invalid listener argument");return Number(Z)>2147483647?-1:a.setTimeout(F,Z||0)}function Bt(F){F.g=Tt(()=>{F.g=null,F.i&&(F.i=!1,Bt(F))},F.l);const Z=F.h;F.h=null,F.m.apply(null,Z)}class mt extends R{constructor(Z,ie){super(),this.m=Z,this.l=ie,this.h=null,this.i=!1,this.g=null}j(Z){this.h=arguments,this.g?this.i=!0:Bt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _t(F){R.call(this),this.h=F,this.g={}}h(_t,R);var jt=[];function or(F){X(F.g,function(Z,ie){this.g.hasOwnProperty(ie)&&We(Z)},F),F.g={}}_t.prototype.N=function(){_t.Z.N.call(this),or(this)},_t.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var St=a.JSON.stringify,at=a.JSON.parse,Ut=class{stringify(F){return a.JSON.stringify(F,void 0)}parse(F){return a.JSON.parse(F,void 0)}};function qt(){}function Er(){}var Kt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xt(){O.call(this,"d")}h(xt,O);function pr(){O.call(this,"c")}h(pr,O);var Ke={},gt=null;function gr(){return gt=gt||new Te}Ke.Ia="serverreachability";function Ct(F){O.call(this,Ke.Ia,F)}h(Ct,O);function $t(F){const Z=gr();Ze(Z,new Ct(Z))}Ke.STAT_EVENT="statevent";function hr(F,Z){O.call(this,Ke.STAT_EVENT,F),this.stat=Z}h(hr,O);function mr(F){const Z=gr();Ze(Z,new hr(Z,F))}Ke.Ja="timingevent";function er(F,Z){O.call(this,Ke.Ja,F),this.size=Z}h(er,O);function sr(F,Z){if(typeof F!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){F()},Z)}function Zt(){this.g=!0}Zt.prototype.ua=function(){this.g=!1};function br(F,Z,ie,Ce,tt,At){F.info(function(){if(F.g)if(At){var rr="",bn=At.split("&");for(let ci=0;ci<bn.length;ci++){var ts=bn[ci].split("=");if(ts.length>1){const rs=ts[0];ts=ts[1];const La=rs.split("_");rr=La.length>=2&&La[1]=="type"?rr+(rs+"="+ts+"&"):rr+(rs+"=redacted&")}}}else rr=null;else rr=At;return"XMLHTTP REQ ("+Ce+") [attempt "+tt+"]: "+Z+`
`+ie+`
`+rr})}function Xr(F,Z,ie,Ce,tt,At,rr){F.info(function(){return"XMLHTTP RESP ("+Ce+") [ attempt "+tt+"]: "+Z+`
`+ie+`
`+At+" "+rr})}function Un(F,Z,ie,Ce){F.info(function(){return"XMLHTTP TEXT ("+Z+"): "+Zn(F,ie)+(Ce?" "+Ce:"")})}function Fr(F,Z){F.info(function(){return"TIMEOUT: "+Z})}Zt.prototype.info=function(){};function Zn(F,Z){if(!F.g)return Z;if(!Z)return null;try{const At=JSON.parse(Z);if(At){for(F=0;F<At.length;F++)if(Array.isArray(At[F])){var ie=At[F];if(!(ie.length<2)){var Ce=ie[1];if(Array.isArray(Ce)&&!(Ce.length<1)){var tt=Ce[0];if(tt!="noop"&&tt!="stop"&&tt!="close")for(let rr=1;rr<Ce.length;rr++)Ce[rr]=""}}}}return St(At)}catch{return Z}}var Mr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Jn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bi;function jn(){}h(jn,qt),jn.prototype.g=function(){return new XMLHttpRequest},bi=new jn;function li(F){return encodeURIComponent(String(F))}function xe(F){var Z=1;F=F.split(":");const ie=[];for(;Z>0&&F.length;)ie.push(F.shift()),Z--;return F.length&&ie.push(F.join(":")),ie}function Ee(F,Z,ie,Ce){this.j=F,this.i=Z,this.l=ie,this.S=Ce||1,this.V=new _t(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ie}function Ie(){this.i=null,this.g="",this.h=!1}var je={},De={};function Ue(F,Z,ie){F.M=1,F.A=Oa(ba(Z)),F.u=ie,F.R=!0,lt(F,null)}function lt(F,Z){F.F=Date.now(),ht(F),F.B=ba(F.A);var ie=F.B,Ce=F.S;Array.isArray(Ce)||(Ce=[String(Ce)]),Mi(ie.i,"t",Ce),F.C=0,ie=F.j.L,F.h=new Ie,F.g=Rr(F.j,ie?Z:null,!F.u),F.P>0&&(F.O=new mt(u(F.Y,F,F.g),F.P)),Z=F.V,ie=F.g,Ce=F.ba;var tt="readystatechange";Array.isArray(tt)||(tt&&(jt[0]=tt.toString()),tt=jt);for(let At=0;At<tt.length;At++){const rr=ye(ie,tt[At],Ce||Z.handleEvent,!1,Z.h||Z);if(!rr)break;Z.g[rr.key]=rr}Z=F.J?ve(F.J):{},F.u?(F.v||(F.v="POST"),Z["Content-Type"]="application/x-www-form-urlencoded",F.g.ea(F.B,F.v,F.u,Z)):(F.v="GET",F.g.ea(F.B,F.v,null,Z)),$t(),br(F.i,F.v,F.B,F.l,F.S,F.u)}Ee.prototype.ba=function(F){F=F.target;const Z=this.O;Z&&Wr(F)==3?Z.j():this.Y(F)},Ee.prototype.Y=function(F){try{if(F==this.g)e:{const bn=Wr(this.g),ts=this.g.ya(),ci=this.g.ca();if(!(bn<3)&&(bn!=3||this.g&&(this.h.h||this.g.la()||vn(this.g)))){this.K||bn!=4||ts==7||(ts==8||ci<=0?$t(3):$t(2)),tr(this);var Z=this.g.ca();this.X=Z;var ie=bt(this);if(this.o=Z==200,Xr(this.i,this.v,this.B,this.l,this.S,bn,Z),this.o){if(this.U&&!this.L){t:{if(this.g){var Ce,tt=this.g;if((Ce=tt.g?tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Ce)){var At=Ce;break t}}At=null}if(F=At)Un(this.i,this.l,F,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yr(this,F);else{this.o=!1,this.m=3,mr(12),ar(this),Jt(this);break e}}if(this.R){F=!0;let rs;for(;!this.K&&this.C<ie.length;)if(rs=ct(this,ie),rs==De){bn==4&&(this.m=4,mr(14),F=!1),Un(this.i,this.l,null,"[Incomplete Response]");break}else if(rs==je){this.m=4,mr(15),Un(this.i,this.l,ie,"[Invalid Chunk]"),F=!1;break}else Un(this.i,this.l,rs,null),yr(this,rs);if(it(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bn!=4||ie.length!=0||this.h.h||(this.m=1,mr(16),F=!1),this.o=this.o&&F,!F)Un(this.i,this.l,ie,"[Invalid Chunked Response]"),ar(this),Jt(this);else if(ie.length>0&&!this.W){this.W=!0;var rr=this.j;rr.g==this&&rr.aa&&!rr.P&&(rr.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),dt(rr),rr.P=!0,mr(11))}}else Un(this.i,this.l,ie,null),yr(this,ie);bn==4&&ar(this),this.o&&!this.K&&(bn==4?Oe(this.j,this):(this.o=!1,ht(this)))}else Hn(this.g),Z==400&&ie.indexOf("Unknown SID")>0?(this.m=3,mr(12)):(this.m=0,mr(13)),ar(this),Jt(this)}}}catch{}finally{}};function bt(F){if(!it(F))return F.g.la();const Z=vn(F.g);if(Z==="")return"";let ie="";const Ce=Z.length,tt=Wr(F.g)==4;if(!F.h.i){if(typeof TextDecoder>"u")return ar(F),Jt(F),"";F.h.i=new a.TextDecoder}for(let At=0;At<Ce;At++)F.h.h=!0,ie+=F.h.i.decode(Z[At],{stream:!(tt&&At==Ce-1)});return Z.length=0,F.h.g+=ie,F.C=0,F.h.g}function it(F){return F.g?F.v=="GET"&&F.M!=2&&F.j.Aa:!1}function ct(F,Z){var ie=F.C,Ce=Z.indexOf(`
`,ie);return Ce==-1?De:(ie=Number(Z.substring(ie,Ce)),isNaN(ie)?je:(Ce+=1,Ce+ie>Z.length?De:(Z=Z.slice(Ce,Ce+ie),F.C=Ce+ie,Z)))}Ee.prototype.cancel=function(){this.K=!0,ar(this)};function ht(F){F.T=Date.now()+F.H,Vt(F,F.H)}function Vt(F,Z){if(F.D!=null)throw Error("WatchDog timer not null");F.D=sr(u(F.aa,F),Z)}function tr(F){F.D&&(a.clearTimeout(F.D),F.D=null)}Ee.prototype.aa=function(){this.D=null;const F=Date.now();F-this.T>=0?(Fr(this.i,this.B),this.M!=2&&($t(),mr(17)),ar(this),this.m=2,Jt(this)):Vt(this,this.T-F)};function Jt(F){F.j.I==0||F.K||Oe(F.j,F)}function ar(F){tr(F);var Z=F.O;Z&&typeof Z.dispose=="function"&&Z.dispose(),F.O=null,or(F.V),F.g&&(Z=F.g,F.g=null,Z.abort(),Z.dispose())}function yr(F,Z){try{var ie=F.j;if(ie.I!=0&&(ie.g==F||oa(ie.h,F))){if(!F.L&&oa(ie.h,F)&&ie.I==3){try{var Ce=ie.Ba.g.parse(Z)}catch{Ce=null}if(Array.isArray(Ce)&&Ce.length==3){var tt=Ce;if(tt[0]==0){e:if(!ie.v){if(ie.g)if(ie.g.F+3e3<F.F)fe(ie),$n(ie);else break e;Da(ie),mr(18)}}else ie.xa=tt[1],0<ie.xa-ie.K&&tt[2]<37500&&ie.F&&ie.A==0&&!ie.C&&(ie.C=sr(u(ie.Va,ie),6e3));wn(ie.h)<=1&&ie.ta&&(ie.ta=void 0)}else nt(ie,11)}else if((F.L||ie.g==F)&&fe(ie),!H(Z))for(tt=ie.Ba.g.parse(Z),Z=0;Z<tt.length;Z++){let ci=tt[Z];const rs=ci[0];if(!(rs<=ie.K))if(ie.K=rs,ci=ci[1],ie.I==2)if(ci[0]=="c"){ie.M=ci[1],ie.ba=ci[2];const La=ci[3];La!=null&&(ie.ka=La,ie.j.info("VER="+ie.ka));const Qo=ci[4];Qo!=null&&(ie.za=Qo,ie.j.info("SVER="+ie.za));const Fi=ci[5];Fi!=null&&typeof Fi=="number"&&Fi>0&&(Ce=1.5*Fi,ie.O=Ce,ie.j.info("backChannelRequestTimeoutMs_="+Ce)),Ce=ie;const Ja=F.g;if(Ja){const Ic=Ja.g?Ja.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ic){var At=Ce.h;At.g||Ic.indexOf("spdy")==-1&&Ic.indexOf("quic")==-1&&Ic.indexOf("h2")==-1||(At.j=At.l,At.g=new Set,At.h&&(xo(At,At.h),At.h=null))}if(Ce.G){const rc=Ja.g?Ja.g.getResponseHeader("X-HTTP-Session-Id"):null;rc&&(Ce.wa=rc,un(Ce.J,Ce.G,rc))}}ie.I=3,ie.l&&ie.l.ra(),ie.aa&&(ie.T=Date.now()-F.F,ie.j.info("Handshake RTT: "+ie.T+"ms")),Ce=ie;var rr=F;if(Ce.na=Xt(Ce,Ce.L?Ce.ba:null,Ce.W),rr.L){On(Ce.h,rr);var bn=rr,ts=Ce.O;ts&&(bn.H=ts),bn.D&&(tr(bn),ht(bn)),Ce.g=rr}else Os(Ce);ie.i.length>0&&ti(ie)}else ci[0]!="stop"&&ci[0]!="close"||nt(ie,7);else ie.I==3&&(ci[0]=="stop"||ci[0]=="close"?ci[0]=="stop"?nt(ie,7):Ni(ie):ci[0]!="noop"&&ie.l&&ie.l.qa(ci),ie.A=0)}}$t(4)}catch{}}var tn=class{constructor(F,Z){this.g=F,this.map=Z}};function Nt(F){this.l=F||10,a.PerformanceNavigationTiming?(F=a.performance.getEntriesByType("navigation"),F=F.length>0&&(F[0].nextHopProtocol=="hq"||F[0].nextHopProtocol=="h2")):F=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=F?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ln(F){return F.h?!0:F.g?F.g.size>=F.j:!1}function wn(F){return F.h?1:F.g?F.g.size:0}function oa(F,Z){return F.h?F.h==Z:F.g?F.g.has(Z):!1}function xo(F,Z){F.g?F.g.add(Z):F.h=Z}function On(F,Z){F.h&&F.h==Z?F.h=null:F.g&&F.g.has(Z)&&F.g.delete(Z)}Nt.prototype.cancel=function(){if(this.i=Jr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const F of this.g.values())F.cancel();this.g.clear()}};function Jr(F){if(F.h!=null)return F.i.concat(F.h.G);if(F.g!=null&&F.g.size!==0){let Z=F.i;for(const ie of F.g.values())Z=Z.concat(ie.G);return Z}return g(F.i)}var xn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rn(F,Z){if(F){F=F.split("&");for(let ie=0;ie<F.length;ie++){const Ce=F[ie].indexOf("=");let tt,At=null;Ce>=0?(tt=F[ie].substring(0,Ce),At=F[ie].substring(Ce+1)):tt=F[ie],Z(tt,At?decodeURIComponent(At.replace(/\+/g," ")):"")}}}function wa(F){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let Z;F instanceof wa?(this.l=F.l,Pn(this,F.j),this.o=F.o,this.g=F.g,la(this,F.u),this.h=F.h,Mo(this,ru(F.i)),this.m=F.m):F&&(Z=String(F).match(xn))?(this.l=!1,Pn(this,Z[1]||"",!0),this.o=ca(Z[2]||""),this.g=ca(Z[3]||"",!0),la(this,Z[4]),this.h=ca(Z[5]||"",!0),Mo(this,Z[6]||"",!0),this.m=ca(Z[7]||"")):(this.l=!1,this.i=new Ps(null,this.l))}wa.prototype.toString=function(){const F=[];var Z=this.j;Z&&F.push(Ci(Z,ws,!0),":");var ie=this.g;return(ie||Z=="file")&&(F.push("//"),(Z=this.o)&&F.push(Ci(Z,ws,!0),"@"),F.push(li(ie).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),ie=this.u,ie!=null&&F.push(":",String(ie))),(ie=this.h)&&(this.g&&ie.charAt(0)!="/"&&F.push("/"),F.push(Ci(ie,ie.charAt(0)=="/"?Le:ut,!0))),(ie=this.i.toString())&&F.push("?",ie),(ie=this.m)&&F.push("#",Ci(ie,hs)),F.join("")},wa.prototype.resolve=function(F){const Z=ba(this);let ie=!!F.j;ie?Pn(Z,F.j):ie=!!F.o,ie?Z.o=F.o:ie=!!F.g,ie?Z.g=F.g:ie=F.u!=null;var Ce=F.h;if(ie)la(Z,F.u);else if(ie=!!F.h){if(Ce.charAt(0)!="/")if(this.g&&!this.h)Ce="/"+Ce;else{var tt=Z.h.lastIndexOf("/");tt!=-1&&(Ce=Z.h.slice(0,tt+1)+Ce)}if(tt=Ce,tt==".."||tt==".")Ce="";else if(tt.indexOf("./")!=-1||tt.indexOf("/.")!=-1){Ce=tt.lastIndexOf("/",0)==0,tt=tt.split("/");const At=[];for(let rr=0;rr<tt.length;){const bn=tt[rr++];bn=="."?Ce&&rr==tt.length&&At.push(""):bn==".."?((At.length>1||At.length==1&&At[0]!="")&&At.pop(),Ce&&rr==tt.length&&At.push("")):(At.push(bn),Ce=!0)}Ce=At.join("/")}else Ce=tt}return ie?Z.h=Ce:ie=F.i.toString()!=="",ie?Mo(Z,ru(F.i)):ie=!!F.m,ie&&(Z.m=F.m),Z};function ba(F){return new wa(F)}function Pn(F,Z,ie){F.j=ie?ca(Z,!0):Z,F.j&&(F.j=F.j.replace(/:$/,""))}function la(F,Z){if(Z){if(Z=Number(Z),isNaN(Z)||Z<0)throw Error("Bad port number "+Z);F.u=Z}else F.u=null}function Mo(F,Z,ie){Z instanceof Ps?(F.i=Z,vo(F.i,F.l)):(ie||(Z=Ci(Z,Lr)),F.i=new Ps(Z,F.l))}function un(F,Z,ie){F.i.set(Z,ie)}function Oa(F){return un(F,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),F}function ca(F,Z){return F?Z?decodeURI(F.replace(/%25/g,"%2525")):decodeURIComponent(F):""}function Ci(F,Z,ie){return typeof F=="string"?(F=encodeURI(F).replace(Z,ui),ie&&(F=F.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),F):null}function ui(F){return F=F.charCodeAt(0),"%"+(F>>4&15).toString(16)+(F&15).toString(16)}var ws=/[#\/\?@]/g,ut=/[#\?:]/g,Le=/[#\?]/g,Lr=/[#\?@]/g,hs=/#/g;function Ps(F,Z){this.h=this.g=null,this.i=F||null,this.j=!!Z}function Uo(F){F.g||(F.g=new Map,F.h=0,F.i&&Rn(F.i,function(Z,ie){F.add(decodeURIComponent(Z.replace(/\+/g," ")),ie)}))}e=Ps.prototype,e.add=function(F,Z){Uo(this),this.i=null,F=tc(this,F);let ie=this.g.get(F);return ie||this.g.set(F,ie=[]),ie.push(Z),this.h+=1,this};function al(F,Z){Uo(F),Z=tc(F,Z),F.g.has(Z)&&(F.i=null,F.h-=F.g.get(Z).length,F.g.delete(Z))}function Fs(F,Z){return Uo(F),Z=tc(F,Z),F.g.has(Z)}e.forEach=function(F,Z){Uo(this),this.g.forEach(function(ie,Ce){ie.forEach(function(tt){F.call(Z,tt,Ce,this)},this)},this)};function en(F,Z){Uo(F);let ie=[];if(typeof Z=="string")Fs(F,Z)&&(ie=ie.concat(F.g.get(tc(F,Z))));else for(F=Array.from(F.g.values()),Z=0;Z<F.length;Z++)ie=ie.concat(F[Z]);return ie}e.set=function(F,Z){return Uo(this),this.i=null,F=tc(this,F),Fs(this,F)&&(this.h-=this.g.get(F).length),this.g.set(F,[Z]),this.h+=1,this},e.get=function(F,Z){return F?(F=en(this,F),F.length>0?String(F[0]):Z):Z};function Mi(F,Z,ie){al(F,Z),ie.length>0&&(F.i=null,F.g.set(tc(F,Z),g(ie)),F.h+=ie.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const F=[],Z=Array.from(this.g.keys());for(let Ce=0;Ce<Z.length;Ce++){var ie=Z[Ce];const tt=li(ie);ie=en(this,ie);for(let At=0;At<ie.length;At++){let rr=tt;ie[At]!==""&&(rr+="="+li(ie[At])),F.push(rr)}}return this.i=F.join("&")};function ru(F){const Z=new Ps;return Z.i=F.i,F.g&&(Z.g=new Map(F.g),Z.h=F.h),Z}function tc(F,Z){return Z=String(Z),F.j&&(Z=Z.toLowerCase()),Z}function vo(F,Z){Z&&!F.j&&(Uo(F),F.i=null,F.g.forEach(function(ie,Ce){const tt=Ce.toLowerCase();Ce!=tt&&(al(this,Ce),Mi(this,tt,ie))},F)),F.j=Z}function Qu(F,Z){const ie=new Zt;if(a.Image){const Ce=new Image;Ce.onload=d(Ho,ie,"TestLoadImage: loaded",!0,Z,Ce),Ce.onerror=d(Ho,ie,"TestLoadImage: error",!1,Z,Ce),Ce.onabort=d(Ho,ie,"TestLoadImage: abort",!1,Z,Ce),Ce.ontimeout=d(Ho,ie,"TestLoadImage: timeout",!1,Z,Ce),a.setTimeout(function(){Ce.ontimeout&&Ce.ontimeout()},1e4),Ce.src=F}else Z(!1)}function El(F,Z){const ie=new Zt,Ce=new AbortController,tt=setTimeout(()=>{Ce.abort(),Ho(ie,"TestPingServer: timeout",!1,Z)},1e4);fetch(F,{signal:Ce.signal}).then(At=>{clearTimeout(tt),At.ok?Ho(ie,"TestPingServer: ok",!0,Z):Ho(ie,"TestPingServer: server error",!1,Z)}).catch(()=>{clearTimeout(tt),Ho(ie,"TestPingServer: error",!1,Z)})}function Ho(F,Z,ie,Ce,tt){try{tt&&(tt.onload=null,tt.onerror=null,tt.onabort=null,tt.ontimeout=null),Ce(ie)}catch{}}function bs(){this.g=new Ut}function an(F){this.i=F.Sb||null,this.h=F.ab||!1}h(an,qt),an.prototype.g=function(){return new yo(this.i,this.h)};function yo(F,Z){Te.call(this),this.H=F,this.o=Z,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(yo,Te),e=yo.prototype,e.open=function(F,Z){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=F,this.D=Z,this.readyState=1,on(this)},e.send=function(F){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const Z={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};F&&(Z.body=F),(this.H||a).fetch(new Request(this.D,Z)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Bc(this)),this.readyState=0},e.Pa=function(F){if(this.g&&(this.l=F,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=F.headers,this.readyState=2,on(this)),this.g&&(this.readyState=3,on(this),this.g)))if(this.responseType==="arraybuffer")F.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in F){if(this.j=F.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;rn(this)}else F.text().then(this.Oa.bind(this),this.ga.bind(this))};function rn(F){F.j.read().then(F.Ma.bind(F)).catch(F.ga.bind(F))}e.Ma=function(F){if(this.g){if(this.o&&F.value)this.response.push(F.value);else if(!this.o){var Z=F.value?F.value:new Uint8Array(0);(Z=this.B.decode(Z,{stream:!F.done}))&&(this.response=this.responseText+=Z)}F.done?Bc(this):on(this),this.readyState==3&&rn(this)}},e.Oa=function(F){this.g&&(this.response=this.responseText=F,Bc(this))},e.Na=function(F){this.g&&(this.response=F,Bc(this))},e.ga=function(){this.g&&Bc(this)};function Bc(F){F.readyState=4,F.l=null,F.j=null,F.B=null,on(F)}e.setRequestHeader=function(F,Z){this.A.append(F,Z)},e.getResponseHeader=function(F){return this.h&&this.h.get(F.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const F=[],Z=this.h.entries();for(var ie=Z.next();!ie.done;)ie=ie.value,F.push(ie[0]+": "+ie[1]),ie=Z.next();return F.join(`\r
`)};function on(F){F.onreadystatechange&&F.onreadystatechange.call(F)}Object.defineProperty(yo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(F){this.m=F?"include":"same-origin"}});function ki(F){let Z="";return X(F,function(ie,Ce){Z+=Ce,Z+=":",Z+=ie,Z+=`\r
`}),Z}function he(F,Z,ie){e:{for(Ce in ie){var Ce=!1;break e}Ce=!0}Ce||(ie=ki(ie),typeof F=="string"?ie!=null&&li(ie):un(F,Z,ie))}function Ge(F){Te.call(this),this.headers=new Map,this.L=F||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Ge,Te);var st=/^https?$/i,pt=["POST","PUT"];e=Ge.prototype,e.Fa=function(F){this.H=F},e.ea=function(F,Z,ie,Ce){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+F);Z=Z?Z.toUpperCase():"GET",this.D=F,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bi.g(),this.g.onreadystatechange=A(u(this.Ca,this));try{this.B=!0,this.g.open(Z,String(F),!0),this.B=!1}catch(At){fr(this,At);return}if(F=ie||"",ie=new Map(this.headers),Ce)if(Object.getPrototypeOf(Ce)===Object.prototype)for(var tt in Ce)ie.set(tt,Ce[tt]);else if(typeof Ce.keys=="function"&&typeof Ce.get=="function")for(const At of Ce.keys())ie.set(At,Ce.get(At));else throw Error("Unknown input type for opt_headers: "+String(Ce));Ce=Array.from(ie.keys()).find(At=>At.toLowerCase()=="content-type"),tt=a.FormData&&F instanceof a.FormData,!(Array.prototype.indexOf.call(pt,Z,void 0)>=0)||Ce||tt||ie.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[At,rr]of ie)this.g.setRequestHeader(At,rr);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(F),this.v=!1}catch(At){fr(this,At)}};function fr(F,Z){F.h=!1,F.g&&(F.j=!0,F.g.abort(),F.j=!1),F.l=Z,F.o=5,ur(F),lr(F)}function ur(F){F.A||(F.A=!0,Ze(F,"complete"),Ze(F,"error"))}e.abort=function(F){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=F||7,Ze(this,"complete"),Ze(this,"abort"),lr(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lr(this,!0)),Ge.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?dr(this):this.Xa())},e.Xa=function(){dr(this)};function dr(F){if(F.h&&typeof s<"u"){if(F.v&&Wr(F)==4)setTimeout(F.Ca.bind(F),0);else if(Ze(F,"readystatechange"),Wr(F)==4){F.h=!1;try{const At=F.ca();e:switch(At){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Z=!0;break e;default:Z=!1}var ie;if(!(ie=Z)){var Ce;if(Ce=At===0){let rr=String(F.D).match(xn)[1]||null;!rr&&a.self&&a.self.location&&(rr=a.self.location.protocol.slice(0,-1)),Ce=!st.test(rr?rr.toLowerCase():"")}ie=Ce}if(ie)Ze(F,"complete"),Ze(F,"success");else{F.o=6;try{var tt=Wr(F)>2?F.g.statusText:""}catch{tt=""}F.l=tt+" ["+F.ca()+"]",ur(F)}}finally{lr(F)}}}}function lr(F,Z){if(F.g){F.m&&(clearTimeout(F.m),F.m=null);const ie=F.g;F.g=null,Z||Ze(F,"ready");try{ie.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Wr(F){return F.g?F.g.readyState:0}e.ca=function(){try{return Wr(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(F){if(this.g){var Z=this.g.responseText;return F&&Z.indexOf(F)==0&&(Z=Z.substring(F.length)),at(Z)}};function vn(F){try{if(!F.g)return null;if("response"in F.g)return F.g.response;switch(F.F){case"":case"text":return F.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in F.g)return F.g.mozResponseArrayBuffer}return null}catch{return null}}function Hn(F){const Z={};F=(F.g&&Wr(F)>=2&&F.g.getAllResponseHeaders()||"").split(`\r
`);for(let Ce=0;Ce<F.length;Ce++){if(H(F[Ce]))continue;var ie=xe(F[Ce]);const tt=ie[0];if(ie=ie[1],typeof ie!="string")continue;ie=ie.trim();const At=Z[tt]||[];Z[tt]=At,At.push(ie)}ue(Z,function(Ce){return Ce.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wr(F,Z,ie){return ie&&ie.internalChannelParams&&ie.internalChannelParams[F]||Z}function ji(F){this.za=0,this.i=[],this.j=new Zt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wr("failFast",!1,F),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wr("baseRetryDelayMs",5e3,F),this.Za=wr("retryDelaySeedMs",1e4,F),this.Ta=wr("forwardChannelMaxRetries",2,F),this.va=wr("forwardChannelRequestTimeoutMs",2e4,F),this.ma=F&&F.xmlHttpFactory||void 0,this.Ua=F&&F.Rb||void 0,this.Aa=F&&F.useFetchStreams||!1,this.O=void 0,this.L=F&&F.supportsCrossDomainXhr||!1,this.M="",this.h=new Nt(F&&F.concurrentRequestLimit),this.Ba=new bs,this.S=F&&F.fastHandshake||!1,this.R=F&&F.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=F&&F.Pb||!1,F&&F.ua&&this.j.ua(),F&&F.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&F&&F.detectBufferingProxy||!1,this.ia=void 0,F&&F.longPollingTimeout&&F.longPollingTimeout>0&&(this.ia=F.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=ji.prototype,e.ka=8,e.I=1,e.connect=function(F,Z,ie,Ce){mr(0),this.W=F,this.H=Z||{},ie&&Ce!==void 0&&(this.H.OSID=ie,this.H.OAID=Ce),this.F=this.X,this.J=Xt(this,null,this.W),ti(this)};function Ni(F){if(Pi(F),F.I==3){var Z=F.V++,ie=ba(F.J);if(un(ie,"SID",F.M),un(ie,"RID",Z),un(ie,"TYPE","terminate"),Wi(F,ie),Z=new Ee(F,F.j,Z),Z.M=2,Z.A=Oa(ba(ie)),ie=!1,a.navigator&&a.navigator.sendBeacon)try{ie=a.navigator.sendBeacon(Z.A.toString(),"")}catch{}!ie&&a.Image&&(new Image().src=Z.A,ie=!0),ie||(Z.g=Rr(Z.j,null),Z.g.ea(Z.A)),Z.F=Date.now(),ht(Z)}Pt(F)}function $n(F){F.g&&(dt(F),F.g.cancel(),F.g=null)}function Pi(F){$n(F),F.v&&(a.clearTimeout(F.v),F.v=null),fe(F),F.h.cancel(),F.m&&(typeof F.m=="number"&&a.clearTimeout(F.m),F.m=null)}function ti(F){if(!Ln(F.h)&&!F.m){F.m=!0;var Z=F.Ea;N||P(),j||(N(),j=!0),T.add(Z,F),F.D=0}}function qs(F,Z){return wn(F.h)>=F.h.j-(F.m?1:0)?!1:F.m?(F.i=Z.G.concat(F.i),!0):F.I==1||F.I==2||F.D>=(F.Sa?0:F.Ta)?!1:(F.m=sr(u(F.Ea,F,Z),qe(F,F.D)),F.D++,!0)}e.Ea=function(F){if(this.m)if(this.m=null,this.I==1){if(!F){this.V=Math.floor(Math.random()*1e5),F=this.V++;const tt=new Ee(this,this.j,F);let At=this.o;if(this.U&&(At?(At=ve(At),q(At,this.U)):At=this.U),this.u!==null||this.R||(tt.J=At,At=null),this.S)e:{for(var Z=0,ie=0;ie<this.i.length;ie++){t:{var Ce=this.i[ie];if("__data__"in Ce.map&&(Ce=Ce.map.__data__,typeof Ce=="string")){Ce=Ce.length;break t}Ce=void 0}if(Ce===void 0)break;if(Z+=Ce,Z>4096){Z=ie;break e}if(Z===4096||ie===this.i.length-1){Z=ie+1;break e}}Z=1e3}else Z=1e3;Z=Ui(this,tt,Z),ie=ba(this.J),un(ie,"RID",F),un(ie,"CVER",22),this.G&&un(ie,"X-HTTP-Session-Id",this.G),Wi(this,ie),At&&(this.R?Z="headers="+li(ki(At))+"&"+Z:this.u&&he(ie,this.u,At)),xo(this.h,tt),this.Ra&&un(ie,"TYPE","init"),this.S?(un(ie,"$req",Z),un(ie,"SID","null"),tt.U=!0,Ue(tt,ie,null)):Ue(tt,ie,Z),this.I=2}}else this.I==3&&(F?yn(this,F):this.i.length==0||Ln(this.h)||yn(this))};function yn(F,Z){var ie;Z?ie=Z.l:ie=F.V++;const Ce=ba(F.J);un(Ce,"SID",F.M),un(Ce,"RID",ie),un(Ce,"AID",F.K),Wi(F,Ce),F.u&&F.o&&he(Ce,F.u,F.o),ie=new Ee(F,F.j,ie,F.D+1),F.u===null&&(ie.J=F.o),Z&&(F.i=Z.G.concat(F.i)),Z=Ui(F,ie,1e3),ie.H=Math.round(F.va*.5)+Math.round(F.va*.5*Math.random()),xo(F.h,ie),Ue(ie,Ce,Z)}function Wi(F,Z){F.H&&X(F.H,function(ie,Ce){un(Z,Ce,ie)}),F.l&&X({},function(ie,Ce){un(Z,Ce,ie)})}function Ui(F,Z,ie){ie=Math.min(F.i.length,ie);const Ce=F.l?u(F.l.Ka,F.l,F):null;e:{var tt=F.i;let bn=-1;for(;;){const ts=["count="+ie];bn==-1?ie>0?(bn=tt[0].g,ts.push("ofs="+bn)):bn=0:ts.push("ofs="+bn);let ci=!0;for(let rs=0;rs<ie;rs++){var At=tt[rs].g;const La=tt[rs].map;if(At-=bn,At<0)bn=Math.max(0,tt[rs].g-100),ci=!1;else try{At="req"+At+"_"||"";try{var rr=La instanceof Map?La:Object.entries(La);for(const[Qo,Fi]of rr){let Ja=Fi;l(Fi)&&(Ja=St(Fi)),ts.push(At+Qo+"="+encodeURIComponent(Ja))}}catch(Qo){throw ts.push(At+"type="+encodeURIComponent("_badmap")),Qo}}catch{Ce&&Ce(La)}}if(ci){rr=ts.join("&");break e}}rr=void 0}return F=F.i.splice(0,ie),Z.G=F,rr}function Os(F){if(!F.g&&!F.v){F.Y=1;var Z=F.Da;N||P(),j||(N(),j=!0),T.add(Z,F),F.A=0}}function Da(F){return F.g||F.v||F.A>=3?!1:(F.Y++,F.v=sr(u(F.Da,F),qe(F,F.A)),F.A++,!0)}e.Da=function(){if(this.v=null,G(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var F=4*this.T;this.j.info("BP detection timer enabled: "+F),this.B=sr(u(this.Wa,this),F)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,mr(10),$n(this),G(this))};function dt(F){F.B!=null&&(a.clearTimeout(F.B),F.B=null)}function G(F){F.g=new Ee(F,F.j,"rpc",F.Y),F.u===null&&(F.g.J=F.o),F.g.P=0;var Z=ba(F.na);un(Z,"RID","rpc"),un(Z,"SID",F.M),un(Z,"AID",F.K),un(Z,"CI",F.F?"0":"1"),!F.F&&F.ia&&un(Z,"TO",F.ia),un(Z,"TYPE","xmlhttp"),Wi(F,Z),F.u&&F.o&&he(Z,F.u,F.o),F.O&&(F.g.H=F.O);var ie=F.g;F=F.ba,ie.M=1,ie.A=Oa(ba(Z)),ie.u=null,ie.R=!0,lt(ie,F)}e.Va=function(){this.C!=null&&(this.C=null,$n(this),Da(this),mr(19))};function fe(F){F.C!=null&&(a.clearTimeout(F.C),F.C=null)}function Oe(F,Z){var ie=null;if(F.g==Z){fe(F),dt(F),F.g=null;var Ce=2}else if(oa(F.h,Z))ie=Z.G,On(F.h,Z),Ce=1;else return;if(F.I!=0){if(Z.o)if(Ce==1){ie=Z.u?Z.u.length:0,Z=Date.now()-Z.F;var tt=F.D;Ce=gr(),Ze(Ce,new er(Ce,ie)),ti(F)}else Os(F);else if(tt=Z.m,tt==3||tt==0&&Z.X>0||!(Ce==1&&qs(F,Z)||Ce==2&&Da(F)))switch(ie&&ie.length>0&&(Z=F.h,Z.i=Z.i.concat(ie)),tt){case 1:nt(F,5);break;case 4:nt(F,10);break;case 3:nt(F,6);break;default:nt(F,2)}}}function qe(F,Z){let ie=F.Qa+Math.floor(Math.random()*F.Za);return F.isActive()||(ie*=2),ie*Z}function nt(F,Z){if(F.j.info("Error code "+Z),Z==2){var ie=u(F.bb,F),Ce=F.Ua;const tt=!Ce;Ce=new wa(Ce||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Pn(Ce,"https"),Oa(Ce),tt?Qu(Ce.toString(),ie):El(Ce.toString(),ie)}else mr(2);F.I=0,F.l&&F.l.pa(Z),Pt(F),Pi(F)}e.bb=function(F){F?(this.j.info("Successfully pinged google.com"),mr(2)):(this.j.info("Failed to ping google.com"),mr(1))};function Pt(F){if(F.I=0,F.ja=[],F.l){const Z=Jr(F.h);(Z.length!=0||F.i.length!=0)&&(v(F.ja,Z),v(F.ja,F.i),F.h.i.length=0,g(F.i),F.i.length=0),F.l.oa()}}function Xt(F,Z,ie){var Ce=ie instanceof wa?ba(ie):new wa(ie);if(Ce.g!="")Z&&(Ce.g=Z+"."+Ce.g),la(Ce,Ce.u);else{var tt=a.location;Ce=tt.protocol,Z=Z?Z+"."+tt.hostname:tt.hostname,tt=+tt.port;const At=new wa(null);Ce&&Pn(At,Ce),Z&&(At.g=Z),tt&&la(At,tt),ie&&(At.h=ie),Ce=At}return ie=F.G,Z=F.wa,ie&&Z&&un(Ce,ie,Z),un(Ce,"VER",F.ka),Wi(F,Ce),Ce}function Rr(F,Z,ie){if(Z&&!F.L)throw Error("Can't create secondary domain capable XhrIo object.");return Z=F.Aa&&!F.ma?new Ge(new an({ab:ie})):new Ge(F.ma),Z.Fa(F.L),Z}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function _r(){}e=_r.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function dn(){}dn.prototype.g=function(F,Z){return new Ir(F,Z)};function Ir(F,Z){Te.call(this),this.g=new ji(Z),this.l=F,this.h=Z&&Z.messageUrlParams||null,F=Z&&Z.messageHeaders||null,Z&&Z.clientProtocolHeaderRequired&&(F?F["X-Client-Protocol"]="webchannel":F={"X-Client-Protocol":"webchannel"}),this.g.o=F,F=Z&&Z.initMessageHeaders||null,Z&&Z.messageContentType&&(F?F["X-WebChannel-Content-Type"]=Z.messageContentType:F={"X-WebChannel-Content-Type":Z.messageContentType}),Z&&Z.sa&&(F?F["X-WebChannel-Client-Profile"]=Z.sa:F={"X-WebChannel-Client-Profile":Z.sa}),this.g.U=F,(F=Z&&Z.Qb)&&!H(F)&&(this.g.u=F),this.A=Z&&Z.supportsCrossDomainXhr||!1,this.v=Z&&Z.sendRawJson||!1,(Z=Z&&Z.httpSessionIdParam)&&!H(Z)&&(this.g.G=Z,F=this.h,F!==null&&Z in F&&(F=this.h,Z in F&&delete F[Z])),this.j=new Dt(this)}h(Ir,Te),Ir.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ir.prototype.close=function(){Ni(this.g)},Ir.prototype.o=function(F){var Z=this.g;if(typeof F=="string"){var ie={};ie.__data__=F,F=ie}else this.v&&(ie={},ie.__data__=St(F),F=ie);Z.i.push(new tn(Z.Ya++,F)),Z.I==3&&ti(Z)},Ir.prototype.N=function(){this.g.l=null,delete this.j,Ni(this.g),delete this.g,Ir.Z.N.call(this)};function It(F){xt.call(this),F.__headers__&&(this.headers=F.__headers__,this.statusCode=F.__status__,delete F.__headers__,delete F.__status__);var Z=F.__sm__;if(Z){e:{for(const ie in Z){F=ie;break e}F=void 0}(this.i=F)&&(F=this.i,Z=Z!==null&&F in Z?Z[F]:void 0),this.data=Z}else this.data=F}h(It,xt);function cr(){pr.call(this),this.status=1}h(cr,pr);function Dt(F){this.g=F}h(Dt,_r),Dt.prototype.ra=function(){Ze(this.g,"a")},Dt.prototype.qa=function(F){Ze(this.g,new It(F))},Dt.prototype.pa=function(F){Ze(this.g,new cr)},Dt.prototype.oa=function(){Ze(this.g,"b")},dn.prototype.createWebChannel=dn.prototype.g,Ir.prototype.send=Ir.prototype.o,Ir.prototype.open=Ir.prototype.m,Ir.prototype.close=Ir.prototype.close,Kae=function(){return new dn},Wae=function(){return gr()},Gae=Ke,i8={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Mr.NO_ERROR=0,Mr.TIMEOUT=8,Mr.HTTP_ERROR=6,JN=Mr,Jn.COMPLETE="complete",zae=Jn,Er.EventType=Kt,Kt.OPEN="a",Kt.CLOSE="b",Kt.ERROR="c",Kt.MESSAGE="d",Te.prototype.listen=Te.prototype.J,i2=Er,Ge.prototype.listenOnce=Ge.prototype.K,Ge.prototype.getLastError=Ge.prototype.Ha,Ge.prototype.getLastErrorCode=Ge.prototype.ya,Ge.prototype.getStatus=Ge.prototype.ca,Ge.prototype.getResponseJson=Ge.prototype.La,Ge.prototype.getResponseText=Ge.prototype.la,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Fa,Vae=Ge}).apply(typeof nC<"u"?nC:typeof self<"u"?self:typeof window<"u"?window:{});const EV="@firebase/firestore",SV="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ul.UNAUTHENTICATED=new Ul(null),Ul.GOOGLE_CREDENTIALS=new Ul("google-credentials-uid"),Ul.FIRST_PARTY=new Ul("first-party-uid"),Ul.MOCK_USER=new Ul("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cy="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm=new qT("@firebase/firestore");function H1(){return pm.logLevel}function $r(e,...t){if(pm.logLevel<=vi.DEBUG){const r=t.map(rM);pm.debug(`Firestore (${Cy}): ${e}`,...r)}}function CA(e,...t){if(pm.logLevel<=vi.ERROR){const r=t.map(rM);pm.error(`Firestore (${Cy}): ${e}`,...r)}}function gm(e,...t){if(pm.logLevel<=vi.WARN){const r=t.map(rM);pm.warn(`Firestore (${Cy}): ${e}`,...r)}}function rM(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,qae(e,n,r)}function qae(e,t,r){let n=`FIRESTORE (${Cy}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw CA(n),new Error(n)}function Zi(e,t,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,e||qae(t,i,n)}function zn(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Dr extends Td{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xae{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Yae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Ul.UNAUTHENTICATED))}shutdown(){}}class Z3e{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class J3e{constructor(t){this.t=t,this.currentUser=Ul.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Zi(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let s=new oA;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new oA,t.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=s;t.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{$r("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):($r("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new oA)}},0),a()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?($r("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Zi(typeof n.accessToken=="string",31837,{l:n}),new Xae(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Zi(t===null||typeof t=="string",2055,{h:t}),new Ul(t)}}class eTe{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=Ul.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tTe{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new eTe(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(Ul.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CV{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rTe{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ld(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Zi(this.o===void 0,3512);const n=s=>{s.error!=null&&$r("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,$r("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>n(s))};const i=s=>{$r("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):$r("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new CV(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Zi(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new CV(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nTe(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=nTe(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=t.charAt(i[s]%62))}return n}}function yi(e,t){return e<t?-1:e>t?1:0}function s8(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const i=e.charAt(n),s=t.charAt(n);if(i!==s)return vj(i)===vj(s)?yi(i,s):vj(i)?1:-1}return yi(e.length,t.length)}const iTe=55296,sTe=57343;function vj(e){const t=e.charCodeAt(0);return t>=iTe&&t<=sTe}function _v(e,t,r){return e.length===t.length&&e.every((n,i)=>r(n,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV="__name__";class Ff{constructor(t,r,n){r===void 0?r=0:r>t.length&&kn(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&kn(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return Ff.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Ff?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let i=0;i<n;i++){const s=Ff.compareSegments(t.get(i),r.get(i));if(s!==0)return s}return yi(t.length,r.length)}static compareSegments(t,r){const n=Ff.isNumericId(t),i=Ff.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Ff.extractNumericId(t).compare(Ff.extractNumericId(r)):s8(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ip.fromString(t.substring(4,t.length-2))}}class Cs extends Ff{construct(t,r,n){return new Cs(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new Dr(Gt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Cs(r)}static emptyPath(){return new Cs([])}}const aTe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class el extends Ff{construct(t,r,n){return new el(t,r,n)}static isValidIdentifier(t){return aTe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),el.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===NV}static keyField(){return new el([NV])}static fromServerFormat(t){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new Dr(Gt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<t.length;){const l=t[i];if(l==="\\"){if(i+1===t.length)throw new Dr(Gt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Dr(Gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=c,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(n+=l,i++):(s(),i++)}if(s(),a)throw new Dr(Gt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new el(r)}static emptyPath(){return new el([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t){this.path=t}static fromPath(t){return new gn(Cs.fromString(t))}static fromName(t){return new gn(Cs.fromString(t).popFirst(5))}static empty(){return new gn(Cs.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Cs.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Cs.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gn(new Cs(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zae(e,t,r){if(!r)throw new Dr(Gt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Jae(e,t,r,n){if(t===!0&&n===!0)throw new Dr(Gt.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function TV(e){if(!gn.isDocumentKey(e))throw new Dr(Gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function BV(e){if(gn.isDocumentKey(e))throw new Dr(Gt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function eoe(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function tB(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":kn(12329,{type:typeof e})}function wc(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Dr(Gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=tB(e);throw new Dr(Gt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function oTe(e,t){if(t<=0)throw new Dr(Gt.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(e,t){const r={typeString:e};return t&&(r.value=t),r}function CE(e,t){if(!eoe(e))throw new Dr(Gt.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in t)if(t[n]){const i=t[n].typeString,s="value"in t[n]?{value:t[n].value}:void 0;if(!(n in e)){r=`JSON missing required field: '${n}'`;break}const a=e[n];if(i&&typeof a!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){r=`Expected '${n}' field to equal '${s.value}'`;break}}if(r)throw new Dr(Gt.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=-62135596800,kV=1e6;class fi{static now(){return fi.fromMillis(Date.now())}static fromDate(t){return fi.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*kV);return new fi(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Dr(Gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Dr(Gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<IV)throw new Dr(Gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Dr(Gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kV}_compareTo(t){return this.seconds===t.seconds?yi(this.nanoseconds,t.nanoseconds):yi(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:fi._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(CE(t,fi._jsonSchema))return new fi(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-IV;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}fi._jsonSchemaVersion="firestore/timestamp/1.0",fi._jsonSchema={type:ho("string",fi._jsonSchemaVersion),seconds:ho("number"),nanoseconds:ho("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{static fromTimestamp(t){return new Qn(t)}static min(){return new Qn(new fi(0,0))}static max(){return new Qn(new fi(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=-1;function lTe(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,i=Qn.fromTimestamp(n===1e9?new fi(r+1,0):new fi(r,n));return new vp(i,gn.empty(),t)}function cTe(e){return new vp(e.readTime,e.key,zb)}class vp{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new vp(Qn.min(),gn.empty(),zb)}static max(){return new vp(Qn.max(),gn.empty(),zb)}}function uTe(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=gn.comparator(e.documentKey,t.documentKey),r!==0?r:yi(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dTe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fTe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ny(e){if(e.code!==Gt.FAILED_PRECONDITION||e.message!==dTe)throw e;$r("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&kn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new Yt((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof Yt?r:Yt.resolve(r)}catch(r){return Yt.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):Yt.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):Yt.reject(r)}static resolve(t){return new Yt((r,n)=>{r(t)})}static reject(t){return new Yt((r,n)=>{n(t)})}static waitFor(t){return new Yt((r,n)=>{let i=0,s=0,a=!1;t.forEach(l=>{++i,l.next(()=>{++s,a&&s===i&&r()},c=>n(c))}),a=!0,s===i&&r()})}static or(t){let r=Yt.resolve(!1);for(const n of t)r=r.next(i=>i?Yt.resolve(i):n());return r}static forEach(t,r){const n=[];return t.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(t,r){return new Yt((n,i)=>{const s=t.length,a=new Array(s);let l=0;for(let c=0;c<s;c++){const u=c;r(t[u]).next(d=>{a[u]=d,++l,l===s&&n(a)},d=>i(d))}})}static doWhile(t,r){return new Yt((n,i)=>{const s=()=>{t()===!0?r().next(()=>{s()},i):n()};s()})}}function hTe(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Ty(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}rB.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=-1;function nB(e){return e==null}function l5(e){return e===0&&1/e==-1/0}function ATe(e){return typeof e=="number"&&Number.isInteger(e)&&!l5(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const toe="";function pTe(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=jV(t)),t=gTe(e.get(r),t);return jV(t)}function gTe(e,t){let r=t;const n=e.length;for(let i=0;i<n;i++){const s=e.charAt(i);switch(s){case"\0":r+="";break;case toe:r+="";break;default:r+=s}}return r}function jV(e){return e+toe+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function Rp(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function roe(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(t,r){this.comparator=t,this.root=r||gl.EMPTY}insert(t,r){return new ya(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,gl.BLACK,null,null))}remove(t){return new ya(this.comparator,this.root.remove(t,this.comparator).copy(null,null,gl.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new iC(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new iC(this.root,t,this.comparator,!1)}getReverseIterator(){return new iC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new iC(this.root,t,this.comparator,!0)}}class iC{constructor(t,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=r?n(t.key,r):1,r&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class gl{constructor(t,r,n,i,s){this.key=t,this.value=r,this.color=n??gl.RED,this.left=i??gl.EMPTY,this.right=s??gl.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,i,s){return new gl(t??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let i=this;const s=n(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(t,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gl.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,i=this;if(r(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(t,i.key)===0){if(i.right.isEmpty())return gl.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,gl.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,gl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw kn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw kn(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw kn(27949);return t+(this.isRed()?0:1)}}gl.EMPTY=null,gl.RED=!0,gl.BLACK=!1;gl.EMPTY=new class{constructor(){this.size=0}get key(){throw kn(57766)}get value(){throw kn(16141)}get color(){throw kn(16727)}get left(){throw kn(29726)}get right(){throw kn(36894)}copy(t,r,n,i,s){return this}insert(t,r,n){return new gl(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(t){this.comparator=t,this.data=new ya(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;r(i.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new FV(this.data.getIterator())}getIteratorFrom(t){return new FV(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof Oo)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Oo(this.comparator);return r.data=t,r}}class FV{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(t){this.fields=t,t.sort(el.comparator)}static empty(){return new Bu([])}unionWith(t){let r=new Oo(el.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new Bu(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return _v(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class noe extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new noe("Invalid base64 string: "+s):s}}(t);return new il(r)}static fromUint8Array(t){const r=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(t);return new il(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return yi(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}il.EMPTY_BYTE_STRING=new il("");const mTe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yp(e){if(Zi(!!e,39018),typeof e=="string"){let t=0;const r=mTe.exec(e);if(Zi(!!r,46558,{timestamp:e}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),t=Number(i)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:za(e.seconds),nanos:za(e.nanos)}}function za(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function wp(e){return typeof e=="string"?il.fromBase64String(e):il.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ioe="server_timestamp",soe="__type__",aoe="__previous_value__",ooe="__local_write_time__";function iM(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[soe])==null?void 0:n.stringValue)===ioe}function iB(e){const t=e.mapValue.fields[aoe];return iM(t)?iB(t):t}function Gb(e){const t=yp(e.mapValue.fields[ooe].timestampValue);return new fi(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xTe{constructor(t,r,n,i,s,a,l,c,u,d){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const c5="(default)";class Ev{constructor(t,r){this.projectId=t,this.database=r||c5}static empty(){return new Ev("","")}get isDefaultDatabase(){return this.database===c5}isEqual(t){return t instanceof Ev&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const loe="__type__",coe="__max__",sC={mapValue:{fields:{__type__:{stringValue:coe}}}},uoe="__vector__",u5="value";function bp(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?iM(e)?4:yTe(e)?9007199254740991:vTe(e)?10:11:kn(28295,{value:e})}function Ah(e,t){if(e===t)return!0;const r=bp(e);if(r!==bp(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Gb(e).isEqual(Gb(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=yp(i.timestampValue),l=yp(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return wp(i.bytesValue).isEqual(wp(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return za(i.geoPointValue.latitude)===za(s.geoPointValue.latitude)&&za(i.geoPointValue.longitude)===za(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return za(i.integerValue)===za(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=za(i.doubleValue),l=za(s.doubleValue);return a===l?l5(a)===l5(l):isNaN(a)&&isNaN(l)}return!1}(e,t);case 9:return _v(e.arrayValue.values||[],t.arrayValue.values||[],Ah);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},l=s.mapValue.fields||{};if(PV(a)!==PV(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Ah(a[c],l[c])))return!1;return!0}(e,t);default:return kn(52216,{left:e})}}function Wb(e,t){return(e.values||[]).find(r=>Ah(r,t))!==void 0}function Sv(e,t){if(e===t)return 0;const r=bp(e),n=bp(t);if(r!==n)return yi(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return yi(e.booleanValue,t.booleanValue);case 2:return function(s,a){const l=za(s.integerValue||s.doubleValue),c=za(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(e,t);case 3:return OV(e.timestampValue,t.timestampValue);case 4:return OV(Gb(e),Gb(t));case 5:return s8(e.stringValue,t.stringValue);case 6:return function(s,a){const l=wp(s),c=wp(a);return l.compareTo(c)}(e.bytesValue,t.bytesValue);case 7:return function(s,a){const l=s.split("/"),c=a.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=yi(l[u],c[u]);if(d!==0)return d}return yi(l.length,c.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,a){const l=yi(za(s.latitude),za(a.latitude));return l!==0?l:yi(za(s.longitude),za(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return DV(e.arrayValue,t.arrayValue);case 10:return function(s,a){var A,g,v,x;const l=s.fields||{},c=a.fields||{},u=(A=l[u5])==null?void 0:A.arrayValue,d=(g=c[u5])==null?void 0:g.arrayValue,h=yi(((v=u==null?void 0:u.values)==null?void 0:v.length)||0,((x=d==null?void 0:d.values)==null?void 0:x.length)||0);return h!==0?h:DV(u,d)}(e.mapValue,t.mapValue);case 11:return function(s,a){if(s===sC.mapValue&&a===sC.mapValue)return 0;if(s===sC.mapValue)return 1;if(a===sC.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),u=a.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const A=s8(c[h],d[h]);if(A!==0)return A;const g=Sv(l[c[h]],u[d[h]]);if(g!==0)return g}return yi(c.length,d.length)}(e.mapValue,t.mapValue);default:throw kn(23264,{he:r})}}function OV(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return yi(e,t);const r=yp(e),n=yp(t),i=yi(r.seconds,n.seconds);return i!==0?i:yi(r.nanos,n.nanos)}function DV(e,t){const r=e.values||[],n=t.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=Sv(r[i],n[i]);if(s)return s}return yi(r.length,n.length)}function Cv(e){return a8(e)}function a8(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=yp(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return wp(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return gn.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=a8(s);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${a8(r.fields[a])}`;return i+"}"}(e.mapValue):kn(61005,{value:e})}function e4(e){switch(bp(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=iB(e);return t?16+e4(t):16;case 5:return 2*e.stringValue.length;case 6:return wp(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,s)=>i+e4(s),0)}(e.arrayValue);case 10:case 11:return function(n){let i=0;return Rp(n.fields,(s,a)=>{i+=s.length+e4(a)}),i}(e.mapValue);default:throw kn(13486,{value:e})}}function LV(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function o8(e){return!!e&&"integerValue"in e}function sM(e){return!!e&&"arrayValue"in e}function RV(e){return!!e&&"nullValue"in e}function MV(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function t4(e){return!!e&&"mapValue"in e}function vTe(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[loe])==null?void 0:n.stringValue)===uoe}function L2(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Rp(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=L2(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=L2(e.arrayValue.values[r]);return t}return{...e}}function yTe(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===coe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t){this.value=t}static empty(){return new Qc({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!t4(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=L2(r)}setAll(t){let r=el.emptyPath(),n={},i=[];t.forEach((a,l)=>{if(!r.isImmediateParentOf(l)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=l.popLast()}a?n[l.lastSegment()]=L2(a):i.push(l.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(t){const r=this.field(t.popLast());t4(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Ah(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=r.mapValue.fields[t.get(n)];t4(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(t,r,n){Rp(r,(i,s)=>t[i]=s);for(const i of n)delete t[i]}clone(){return new Qc(L2(this.value))}}function doe(e){const t=[];return Rp(e.fields,(r,n)=>{const i=new el([r]);if(t4(n)){const s=doe(n.mapValue).fields;if(s.length===0)t.push(i);else for(const a of s)t.push(i.child(a))}else t.push(i)}),new Bu(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(t,r,n,i,s,a,l){this.key=t,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(t){return new zl(t,0,Qn.min(),Qn.min(),Qn.min(),Qc.empty(),0)}static newFoundDocument(t,r,n,i){return new zl(t,1,r,Qn.min(),n,i,0)}static newNoDocument(t,r){return new zl(t,2,r,Qn.min(),Qn.min(),Qc.empty(),0)}static newUnknownDocument(t,r){return new zl(t,3,r,Qn.min(),Qn.min(),Qc.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(Qn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Qc.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Qc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof zl&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new zl(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(t,r){this.position=t,this.inclusive=r}}function UV(e,t,r){let n=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(s.field.isKeyField()?n=gn.comparator(gn.fromName(a.referenceValue),r.key):n=Sv(a,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function HV(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!Ah(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(t,r="asc"){this.field=t,this.dir=r}}function wTe(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class foe{}class fo extends foe{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new _Te(t,r,n):r==="array-contains"?new CTe(t,n):r==="in"?new NTe(t,n):r==="not-in"?new TTe(t,n):r==="array-contains-any"?new BTe(t,n):new fo(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new ETe(t,n):new STe(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Sv(r,this.value)):r!==null&&bp(this.value)===bp(r)&&this.matchesComparison(Sv(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return kn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xf extends foe{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new xf(t,r)}matches(t){return hoe(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hoe(e){return e.op==="and"}function Aoe(e){return bTe(e)&&hoe(e)}function bTe(e){for(const t of e.filters)if(t instanceof xf)return!1;return!0}function l8(e){if(e instanceof fo)return e.field.canonicalString()+e.op.toString()+Cv(e.value);if(Aoe(e))return e.filters.map(t=>l8(t)).join(",");{const t=e.filters.map(r=>l8(r)).join(",");return`${e.op}(${t})`}}function poe(e,t){return e instanceof fo?function(n,i){return i instanceof fo&&n.op===i.op&&n.field.isEqual(i.field)&&Ah(n.value,i.value)}(e,t):e instanceof xf?function(n,i){return i instanceof xf&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,a,l)=>s&&poe(a,i.filters[l]),!0):!1}(e,t):void kn(19439)}function goe(e){return e instanceof fo?function(r){return`${r.field.canonicalString()} ${r.op} ${Cv(r.value)}`}(e):e instanceof xf?function(r){return r.op.toString()+" {"+r.getFilters().map(goe).join(" ,")+"}"}(e):"Filter"}class _Te extends fo{constructor(t,r,n){super(t,r,n),this.key=gn.fromName(n.referenceValue)}matches(t){const r=gn.comparator(t.key,this.key);return this.matchesComparison(r)}}class ETe extends fo{constructor(t,r){super(t,"in",r),this.keys=moe("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class STe extends fo{constructor(t,r){super(t,"not-in",r),this.keys=moe("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function moe(e,t){var r;return(((r=t.arrayValue)==null?void 0:r.values)||[]).map(n=>gn.fromName(n.referenceValue))}class CTe extends fo{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return sM(r)&&Wb(r.arrayValue,this.value)}}class NTe extends fo{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&Wb(this.value.arrayValue,r)}}class TTe extends fo{constructor(t,r){super(t,"not-in",r)}matches(t){if(Wb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Wb(this.value.arrayValue,r)}}class BTe extends fo{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!sM(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Wb(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ITe{constructor(t,r=null,n=[],i=[],s=null,a=null,l=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.Te=null}}function QV(e,t=null,r=[],n=[],i=null,s=null,a=null){return new ITe(e,t,r,n,i,s,a)}function aM(e){const t=zn(e);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>l8(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),nB(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>Cv(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>Cv(n)).join(",")),t.Te=r}return t.Te}function oM(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!wTe(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!poe(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!HV(e.startAt,t.startAt)&&HV(e.endAt,t.endAt)}function c8(e){return gn.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(t,r=null,n=[],i=[],s=null,a="F",l=null,c=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function kTe(e,t,r,n,i,s,a,l){return new By(e,t,r,n,i,s,a,l)}function sB(e){return new By(e)}function $V(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function xoe(e){return e.collectionGroup!==null}function R2(e){const t=zn(e);if(t.Ie===null){t.Ie=[];const r=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),r.add(s.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Oo(el.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(t).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||t.Ie.push(new Kb(s,n))}),r.has(el.keyField().canonicalString())||t.Ie.push(new Kb(el.keyField(),n))}return t.Ie}function th(e){const t=zn(e);return t.Ee||(t.Ee=jTe(t,R2(e))),t.Ee}function jTe(e,t){if(e.limitType==="F")return QV(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Kb(i.field,s)});const r=e.endAt?new d5(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new d5(e.startAt.position,e.startAt.inclusive):null;return QV(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function u8(e,t){const r=e.filters.concat([t]);return new By(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function f5(e,t,r){return new By(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function aB(e,t){return oM(th(e),th(t))&&e.limitType===t.limitType}function voe(e){return`${aM(th(e))}|lt:${e.limitType}`}function Q1(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>goe(i)).join(", ")}]`),nB(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Cv(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Cv(i)).join(",")),`Target(${n})`}(th(e))}; limitType=${e.limitType})`}function oB(e,t){return t.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):gn.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(e,t)&&function(n,i){for(const s of R2(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!function(a,l,c){const u=UV(a,l,c);return a.inclusive?u<=0:u<0}(n.startAt,R2(n),i)||n.endAt&&!function(a,l,c){const u=UV(a,l,c);return a.inclusive?u>=0:u>0}(n.endAt,R2(n),i))}(e,t)}function PTe(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function yoe(e){return(t,r)=>{let n=!1;for(const i of R2(e)){const s=FTe(i,t,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function FTe(e,t,r){const n=e.field.isKeyField()?gn.comparator(t.key,r.key):function(s,a,l){const c=a.data.field(s),u=l.data.field(s);return c!==null&&u!==null?Sv(c,u):kn(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return kn(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,r]);i.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Rp(this.inner,(r,n)=>{for(const[i,s]of n)t(i,s)})}isEmpty(){return roe(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OTe=new ya(gn.comparator);function NA(){return OTe}const woe=new ya(gn.comparator);function s2(...e){let t=woe;for(const r of e)t=t.insert(r.key,r);return t}function boe(e){let t=woe;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function Sg(){return M2()}function _oe(){return M2()}function M2(){return new Km(e=>e.toString(),(e,t)=>e.isEqual(t))}const DTe=new ya(gn.comparator),LTe=new Oo(gn.comparator);function wi(...e){let t=LTe;for(const r of e)t=t.add(r);return t}const RTe=new Oo(yi);function MTe(){return RTe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:l5(t)?"-0":t}}function Eoe(e){return{integerValue:""+e}}function UTe(e,t){return ATe(t)?Eoe(t):lM(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(){this._=void 0}}function HTe(e,t,r){return e instanceof qb?function(i,s){const a={fields:{[soe]:{stringValue:ioe},[ooe]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&iM(s)&&(s=iB(s)),s&&(a.fields[aoe]=s),{mapValue:a}}(r,t):e instanceof Xb?Coe(e,t):e instanceof Yb?Noe(e,t):function(i,s){const a=Soe(i,s),l=VV(a)+VV(i.Ae);return o8(a)&&o8(i.Ae)?Eoe(l):lM(i.serializer,l)}(e,t)}function QTe(e,t,r){return e instanceof Xb?Coe(e,t):e instanceof Yb?Noe(e,t):r}function Soe(e,t){return e instanceof h5?function(n){return o8(n)||function(s){return!!s&&"doubleValue"in s}(n)}(t)?t:{integerValue:0}:null}class qb extends lB{}class Xb extends lB{constructor(t){super(),this.elements=t}}function Coe(e,t){const r=Toe(t);for(const n of e.elements)r.some(i=>Ah(i,n))||r.push(n);return{arrayValue:{values:r}}}class Yb extends lB{constructor(t){super(),this.elements=t}}function Noe(e,t){let r=Toe(t);for(const n of e.elements)r=r.filter(i=>!Ah(i,n));return{arrayValue:{values:r}}}class h5 extends lB{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function VV(e){return za(e.integerValue||e.doubleValue)}function Toe(e){return sM(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Te{constructor(t,r){this.field=t,this.transform=r}}function VTe(e,t){return e.field.isEqual(t.field)&&function(n,i){return n instanceof Xb&&i instanceof Xb||n instanceof Yb&&i instanceof Yb?_v(n.elements,i.elements,Ah):n instanceof h5&&i instanceof h5?Ah(n.Ae,i.Ae):n instanceof qb&&i instanceof qb}(e.transform,t.transform)}class zTe{constructor(t,r){this.version=t,this.transformResults=r}}class xd{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new xd}static exists(t){return new xd(void 0,t)}static updateTime(t){return new xd(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function r4(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class cB{}function Boe(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new cM(e.key,xd.none()):new NE(e.key,e.data,xd.none());{const r=e.data,n=Qc.empty();let i=new Oo(el.comparator);for(let s of t.fields)if(!i.has(s)){let a=r.field(s);a===null&&s.length>1&&(s=s.popLast(),a=r.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new Mp(e.key,n,new Bu(i.toArray()),xd.none())}}function GTe(e,t,r){e instanceof NE?function(i,s,a){const l=i.value.clone(),c=GV(i.fieldTransforms,s,a.transformResults);l.setAll(c),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,r):e instanceof Mp?function(i,s,a){if(!r4(i.precondition,s))return void s.convertToUnknownDocument(a.version);const l=GV(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(Ioe(i)),c.setAll(l),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(e,t,r):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,r)}function U2(e,t,r,n){return e instanceof NE?function(s,a,l,c){if(!r4(s.precondition,a))return l;const u=s.value.clone(),d=WV(s.fieldTransforms,c,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(e,t,r,n):e instanceof Mp?function(s,a,l,c){if(!r4(s.precondition,a))return l;const u=WV(s.fieldTransforms,c,a),d=a.data;return d.setAll(Ioe(s)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(e,t,r,n):function(s,a,l){return r4(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(e,t,r)}function WTe(e,t){let r=null;for(const n of e.fieldTransforms){const i=t.data.field(n.field),s=Soe(n.transform,i||null);s!=null&&(r===null&&(r=Qc.empty()),r.set(n.field,s))}return r||null}function zV(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&_v(n,i,(s,a)=>VTe(s,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class NE extends cB{constructor(t,r,n,i=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Mp extends cB{constructor(t,r,n,i,s=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Ioe(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function GV(e,t,r){const n=new Map;Zi(e.length===r.length,32656,{Re:r.length,Ve:e.length});for(let i=0;i<r.length;i++){const s=e[i],a=s.transform,l=t.data.field(s.field);n.set(s.field,QTe(a,l,r[i]))}return n}function WV(e,t,r){const n=new Map;for(const i of e){const s=i.transform,a=r.data.field(i.field);n.set(i.field,HTe(s,a,t))}return n}class cM extends cB{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KTe extends cB{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qTe{constructor(t,r,n,i){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&GTe(s,t,n[i])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=U2(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=U2(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=_oe();return this.mutations.forEach(i=>{const s=t.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=r.has(i.key)?null:l;const c=Boe(a,l);c!==null&&n.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(Qn.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),wi())}isEqual(t){return this.batchId===t.batchId&&_v(this.mutations,t.mutations,(r,n)=>zV(r,n))&&_v(this.baseMutations,t.baseMutations,(r,n)=>zV(r,n))}}class uM{constructor(t,r,n,i){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(t,r,n){Zi(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let i=function(){return DTe}();const s=t.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new uM(t,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XTe=class{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YTe{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var no,Bi;function ZTe(e){switch(e){case Gt.OK:return kn(64938);case Gt.CANCELLED:case Gt.UNKNOWN:case Gt.DEADLINE_EXCEEDED:case Gt.RESOURCE_EXHAUSTED:case Gt.INTERNAL:case Gt.UNAVAILABLE:case Gt.UNAUTHENTICATED:return!1;case Gt.INVALID_ARGUMENT:case Gt.NOT_FOUND:case Gt.ALREADY_EXISTS:case Gt.PERMISSION_DENIED:case Gt.FAILED_PRECONDITION:case Gt.ABORTED:case Gt.OUT_OF_RANGE:case Gt.UNIMPLEMENTED:case Gt.DATA_LOSS:return!0;default:return kn(15467,{code:e})}}function koe(e){if(e===void 0)return CA("GRPC error has no .code"),Gt.UNKNOWN;switch(e){case no.OK:return Gt.OK;case no.CANCELLED:return Gt.CANCELLED;case no.UNKNOWN:return Gt.UNKNOWN;case no.DEADLINE_EXCEEDED:return Gt.DEADLINE_EXCEEDED;case no.RESOURCE_EXHAUSTED:return Gt.RESOURCE_EXHAUSTED;case no.INTERNAL:return Gt.INTERNAL;case no.UNAVAILABLE:return Gt.UNAVAILABLE;case no.UNAUTHENTICATED:return Gt.UNAUTHENTICATED;case no.INVALID_ARGUMENT:return Gt.INVALID_ARGUMENT;case no.NOT_FOUND:return Gt.NOT_FOUND;case no.ALREADY_EXISTS:return Gt.ALREADY_EXISTS;case no.PERMISSION_DENIED:return Gt.PERMISSION_DENIED;case no.FAILED_PRECONDITION:return Gt.FAILED_PRECONDITION;case no.ABORTED:return Gt.ABORTED;case no.OUT_OF_RANGE:return Gt.OUT_OF_RANGE;case no.UNIMPLEMENTED:return Gt.UNIMPLEMENTED;case no.DATA_LOSS:return Gt.DATA_LOSS;default:return kn(39323,{code:e})}}(Bi=no||(no={}))[Bi.OK=0]="OK",Bi[Bi.CANCELLED=1]="CANCELLED",Bi[Bi.UNKNOWN=2]="UNKNOWN",Bi[Bi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bi[Bi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bi[Bi.NOT_FOUND=5]="NOT_FOUND",Bi[Bi.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bi[Bi.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bi[Bi.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bi[Bi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bi[Bi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bi[Bi.ABORTED=10]="ABORTED",Bi[Bi.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bi[Bi.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bi[Bi.INTERNAL=13]="INTERNAL",Bi[Bi.UNAVAILABLE=14]="UNAVAILABLE",Bi[Bi.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JTe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eBe=new ip([4294967295,4294967295],0);function KV(e){const t=JTe().encode(e),r=new $ae;return r.update(t),new Uint8Array(r.digest())}function qV(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ip([r,n],0),new ip([i,s],0)]}class dM{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new a2(`Invalid padding: ${r}`);if(n<0)throw new a2(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new a2(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new a2(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=ip.fromNumber(this.ge)}ye(t,r,n){let i=t.add(r.multiply(ip.fromNumber(n)));return i.compare(eBe)===1&&(i=new ip([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=KV(t),[n,i]=qV(r);for(let s=0;s<this.hashCount;s++){const a=this.ye(n,i,s);if(!this.we(a))return!1}return!0}static create(t,r,n){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new dM(s,i,r);return n.forEach(l=>a.insert(l)),a}insert(t){if(this.ge===0)return;const r=KV(t),[n,i]=qV(r);for(let s=0;s<this.hashCount;s++){const a=this.ye(n,i,s);this.Se(a)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class a2 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(t,r,n,i,s){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const i=new Map;return i.set(t,TE.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new uB(Qn.min(),i,new ya(yi),NA(),wi())}}class TE{constructor(t,r,n,i,s){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new TE(n,r,wi(),wi(),wi())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(t,r,n,i){this.be=t,this.removedTargetIds=r,this.key=n,this.De=i}}class joe{constructor(t,r){this.targetId=t,this.Ce=r}}class Poe{constructor(t,r,n=il.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=i}}class XV{constructor(){this.ve=0,this.Fe=YV(),this.Me=il.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=wi(),r=wi(),n=wi();return this.Fe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:kn(38017,{changeType:s})}}),new TE(this.Me,this.xe,t,r,n)}qe(){this.Oe=!1,this.Fe=YV()}Qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Zi(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tBe{constructor(t){this.Ge=t,this.ze=new Map,this.je=NA(),this.Je=aC(),this.He=aC(),this.Ye=new ya(yi)}Ze(t){for(const r of t.be)t.De&&t.De.isFoundDocument()?this.Xe(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,r=>{const n=this.nt(r);switch(t.state){case 0:this.rt(r)&&n.Le(t.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(t.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(t.resumeToken));break;default:kn(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(t){const r=t.targetId,n=t.Ce.count,i=this.ot(r);if(i){const s=i.target;if(c8(s))if(n===0){const a=new gn(s.path);this.et(r,a,zl.newNoDocument(a,Qn.min()))}else Zi(n===1,20013,{expectedCount:n});else{const a=this._t(r);if(a!==n){const l=this.ut(t),c=l?this.ct(l,t,a):1;if(c!==0){this.it(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let a,l;try{a=wp(n).toUint8Array()}catch(c){if(c instanceof noe)return gm("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new dM(a,i,s)}catch(c){return gm(c instanceof a2?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(t,r,n){return r.Ce.count===n-this.Pt(t,r.targetId)?0:2}Pt(t,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.mightContain(l)||(this.et(r,s,null),i++)}),i}Tt(t){const r=new Map;this.ze.forEach((s,a)=>{const l=this.ot(a);if(l){if(s.current&&c8(l.target)){const c=new gn(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,zl.newNoDocument(c,t))}s.Be&&(r.set(a,s.ke()),s.qe())}});let n=wi();this.He.forEach((s,a)=>{let l=!0;a.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(n=n.add(s))}),this.je.forEach((s,a)=>a.setReadTime(t));const i=new uB(t,r,this.Ye,this.je,n);return this.je=NA(),this.Je=aC(),this.He=aC(),this.Ye=new ya(yi),i}Xe(t,r){if(!this.rt(t))return;const n=this.Et(t,r.key)?2:0;this.nt(t).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(t)),this.He=this.He.insert(r.key,this.dt(r.key).add(t))}et(t,r,n){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(t)),this.He=this.He.insert(r,this.dt(r).add(t)),n&&(this.je=this.je.insert(r,n))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let r=this.ze.get(t);return r||(r=new XV,this.ze.set(t,r)),r}dt(t){let r=this.He.get(t);return r||(r=new Oo(yi),this.He=this.He.insert(t,r)),r}It(t){let r=this.Je.get(t);return r||(r=new Oo(yi),this.Je=this.Je.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||$r("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new XV),this.Ge.getRemoteKeysForTarget(t).forEach(r=>{this.et(t,r,null)})}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function aC(){return new ya(gn.comparator)}function YV(){return new ya(gn.comparator)}const rBe={asc:"ASCENDING",desc:"DESCENDING"},nBe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iBe={and:"AND",or:"OR"};class sBe{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function d8(e,t){return e.useProto3Json||nB(t)?t:{value:t}}function A5(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Foe(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function aBe(e,t){return A5(e,t.toTimestamp())}function rh(e){return Zi(!!e,49232),Qn.fromTimestamp(function(r){const n=yp(r);return new fi(n.seconds,n.nanos)}(e))}function fM(e,t){return f8(e,t).canonicalString()}function f8(e,t){const r=function(i){return new Cs(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?r:r.child(t)}function Ooe(e){const t=Cs.fromString(e);return Zi(Uoe(t),10190,{key:t.toString()}),t}function h8(e,t){return fM(e.databaseId,t.path)}function yj(e,t){const r=Ooe(t);if(r.get(1)!==e.databaseId.projectId)throw new Dr(Gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Dr(Gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new gn(Loe(r))}function Doe(e,t){return fM(e.databaseId,t)}function oBe(e){const t=Ooe(e);return t.length===4?Cs.emptyPath():Loe(t)}function A8(e){return new Cs(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Loe(e){return Zi(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function ZV(e,t,r){return{name:h8(e,t),fields:r.value.mapValue.fields}}function lBe(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:kn(39313,{state:u})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Zi(d===void 0||typeof d=="string",58123),il.fromBase64String(d||"")):(Zi(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),il.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(u){const d=u.code===void 0?Gt.UNKNOWN:koe(u.code);return new Dr(d,u.message||"")}(a);r=new Poe(n,i,s,l||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const i=yj(e,n.document.name),s=rh(n.document.updateTime),a=n.document.createTime?rh(n.document.createTime):Qn.min(),l=new Qc({mapValue:{fields:n.document.fields}}),c=zl.newFoundDocument(i,s,a,l),u=n.targetIds||[],d=n.removedTargetIds||[];r=new n4(u,d,c.key,c)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const i=yj(e,n.document),s=n.readTime?rh(n.readTime):Qn.min(),a=zl.newNoDocument(i,s),l=n.removedTargetIds||[];r=new n4([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const i=yj(e,n.document),s=n.removedTargetIds||[];r=new n4([],s,i,null)}else{if(!("filter"in t))return kn(11601,{Rt:t});{t.filter;const n=t.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new YTe(i,s),l=n.targetId;r=new joe(l,a)}}return r}function cBe(e,t){let r;if(t instanceof NE)r={update:ZV(e,t.key,t.value)};else if(t instanceof cM)r={delete:h8(e,t.key)};else if(t instanceof Mp)r={update:ZV(e,t.key,t.data),updateMask:xBe(t.fieldMask)};else{if(!(t instanceof KTe))return kn(16599,{Vt:t.type});r={verify:h8(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(s,a){const l=a.transform;if(l instanceof qb)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Xb)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Yb)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof h5)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw kn(20930,{transform:a.transform})}(0,n))),t.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:aBe(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:kn(27497)}(e,t.precondition)),r}function uBe(e,t){return e&&e.length>0?(Zi(t!==void 0,14353),e.map(r=>function(i,s){let a=i.updateTime?rh(i.updateTime):rh(s);return a.isEqual(Qn.min())&&(a=rh(s)),new zTe(a,i.transformResults||[])}(r,t))):[]}function dBe(e,t){return{documents:[Doe(e,t.path)]}}function fBe(e,t){const r={structuredQuery:{}},n=t.path;let i;t.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=Doe(e,i);const s=function(u){if(u.length!==0)return Moe(xf.create(u,"and"))}(t.filters);s&&(r.structuredQuery.where=s);const a=function(u){if(u.length!==0)return u.map(d=>function(A){return{field:$1(A.field),direction:pBe(A.dir)}}(d))}(t.orderBy);a&&(r.structuredQuery.orderBy=a);const l=d8(e,t.limit);return l!==null&&(r.structuredQuery.limit=l),t.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{ft:r,parent:i}}function hBe(e){let t=oBe(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Zi(n===1,65062);const d=r.from[0];d.allDescendants?i=d.collectionId:t=t.child(d.collectionId)}let s=[];r.where&&(s=function(h){const A=Roe(h);return A instanceof xf&&Aoe(A)?A.getFilters():[A]}(r.where));let a=[];r.orderBy&&(a=function(h){return h.map(A=>function(v){return new Kb(V1(v.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(A))}(r.orderBy));let l=null;r.limit&&(l=function(h){let A;return A=typeof h=="object"?h.value:h,nB(A)?null:A}(r.limit));let c=null;r.startAt&&(c=function(h){const A=!!h.before,g=h.values||[];return new d5(g,A)}(r.startAt));let u=null;return r.endAt&&(u=function(h){const A=!h.before,g=h.values||[];return new d5(g,A)}(r.endAt)),kTe(t,i,a,s,l,"F",c,u)}function ABe(e,t){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return kn(28987,{purpose:i})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function Roe(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=V1(r.unaryFilter.field);return fo.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=V1(r.unaryFilter.field);return fo.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=V1(r.unaryFilter.field);return fo.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=V1(r.unaryFilter.field);return fo.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return kn(61313);default:return kn(60726)}}(e):e.fieldFilter!==void 0?function(r){return fo.create(V1(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return kn(58110);default:return kn(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return xf.create(r.compositeFilter.filters.map(n=>Roe(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return kn(1026)}}(r.compositeFilter.op))}(e):kn(30097,{filter:e})}function pBe(e){return rBe[e]}function gBe(e){return nBe[e]}function mBe(e){return iBe[e]}function $1(e){return{fieldPath:e.canonicalString()}}function V1(e){return el.fromServerFormat(e.fieldPath)}function Moe(e){return e instanceof fo?function(r){if(r.op==="=="){if(MV(r.value))return{unaryFilter:{field:$1(r.field),op:"IS_NAN"}};if(RV(r.value))return{unaryFilter:{field:$1(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(MV(r.value))return{unaryFilter:{field:$1(r.field),op:"IS_NOT_NAN"}};if(RV(r.value))return{unaryFilter:{field:$1(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$1(r.field),op:gBe(r.op),value:r.value}}}(e):e instanceof xf?function(r){const n=r.getFilters().map(i=>Moe(i));return n.length===1?n[0]:{compositeFilter:{op:mBe(r.op),filters:n}}}(e):kn(54877,{filter:e})}function xBe(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function Uoe(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(t,r,n,i,s=Qn.min(),a=Qn.min(),l=il.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(t){return new P0(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new P0(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new P0(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new P0(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vBe{constructor(t){this.yt=t}}function yBe(e){const t=hBe({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?f5(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wBe{constructor(){this.Cn=new bBe}addToCollectionParentIndex(t,r){return this.Cn.add(r),Yt.resolve()}getCollectionParents(t,r){return Yt.resolve(this.Cn.getEntries(r))}addFieldIndex(t,r){return Yt.resolve()}deleteFieldIndex(t,r){return Yt.resolve()}deleteAllFieldIndexes(t){return Yt.resolve()}createTargetIndexes(t,r){return Yt.resolve()}getDocumentsMatchingTarget(t,r){return Yt.resolve(null)}getIndexType(t,r){return Yt.resolve(0)}getFieldIndexes(t,r){return Yt.resolve([])}getNextCollectionGroupToUpdate(t){return Yt.resolve(null)}getMinOffset(t,r){return Yt.resolve(vp.min())}getMinOffsetFromCollectionGroup(t,r){return Yt.resolve(vp.min())}updateCollectionGroup(t,r,n){return Yt.resolve()}updateIndexEntries(t,r){return Yt.resolve()}}class bBe{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r]||new Oo(Cs.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(t){return(this.index[t]||new Oo(Cs.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Hoe=41943040;class Lc{static withCacheSize(t){return new Lc(t,Lc.DEFAULT_COLLECTION_PERCENTILE,Lc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lc.DEFAULT_COLLECTION_PERCENTILE=10,Lc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lc.DEFAULT=new Lc(Hoe,Lc.DEFAULT_COLLECTION_PERCENTILE,Lc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lc.DISABLED=new Lc(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Nv(0)}static cr(){return new Nv(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez="LruGarbageCollector",_Be=1048576;function tz([e,t],[r,n]){const i=yi(e,r);return i===0?yi(t,n):i}class EBe{constructor(t){this.Ir=t,this.buffer=new Oo(tz),this.Er=0}dr(){return++this.Er}Ar(t){const r=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();tz(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class SBe{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){$r(ez,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Ty(r)?$r(ez,"Ignoring IndexedDB error during garbage collection: ",r):await Ny(r)}await this.Vr(3e5)})}}class CBe{constructor(t,r){this.mr=t,this.params=r}calculateTargetCount(t,r){return this.mr.gr(t).next(n=>Math.floor(r/100*n))}nthSequenceNumber(t,r){if(r===0)return Yt.resolve(rB.ce);const n=new EBe(r);return this.mr.forEachTarget(t,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(t,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.mr.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.mr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?($r("LruGarbageCollector","Garbage collection skipped; disabled"),Yt.resolve(JV)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?($r("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JV):this.yr(t,r))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,r){let n,i,s,a,l,c,u;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?($r("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,a=Date.now(),this.nthSequenceNumber(t,i))).next(h=>(n=h,l=Date.now(),this.removeTargets(t,n,r))).next(h=>(s=h,c=Date.now(),this.removeOrphanedDocuments(t,n))).next(h=>(u=Date.now(),H1()<=vi.DEBUG&&$r("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${i} in `+(l-a)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${h} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),Yt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function NBe(e,t){return new CBe(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TBe{constructor(){this.changes=new Km(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,zl.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Yt.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BBe{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IBe{constructor(t,r,n,i){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(t,r))).next(i=>(n!==null&&U2(n.mutation,i,Bu.empty(),fi.now()),i))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,wi()).next(()=>n))}getLocalViewOfDocuments(t,r,n=wi()){const i=Sg();return this.populateOverlays(t,i,r).next(()=>this.computeViews(t,r,i,n).next(s=>{let a=s2();return s.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(t,r){const n=Sg();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,wi()))}populateOverlays(t,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((a,l)=>{r.set(a,l)})})}computeViews(t,r,n,i){let s=NA();const a=M2(),l=function(){return M2()}();return r.forEach((c,u)=>{const d=n.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Mp)?s=s.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),U2(d.mutation,u,d.mutation.getFieldMask(),fi.now())):a.set(u.key,Bu.empty())}),this.recalculateAndSaveOverlays(t,s).next(c=>(c.forEach((u,d)=>a.set(u,d)),r.forEach((u,d)=>l.set(u,new BBe(d,a.get(u)??null))),l))}recalculateAndSaveOverlays(t,r){const n=M2();let i=new ya((a,l)=>a-l),s=wi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(a=>{for(const l of a)l.keys().forEach(c=>{const u=r.get(c);if(u===null)return;let d=n.get(c)||Bu.empty();d=l.applyToLocalView(u,d),n.set(c,d);const h=(i.get(l.batchId)||wi()).add(c);i=i.insert(l.batchId,h)})}).next(()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,h=_oe();d.forEach(A=>{if(!s.has(A)){const g=Boe(r.get(A),n.get(A));g!==null&&h.set(A,g),s=s.add(A)}}),a.push(this.documentOverlayCache.saveOverlays(t,u,h))}return Yt.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,i){return function(a){return gn.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):xoe(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,i):this.getDocumentsMatchingCollectionQuery(t,r,n,i)}getNextDocuments(t,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,i-s.size):Yt.resolve(Sg());let l=zb,c=s;return a.next(u=>Yt.forEach(u,(d,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),s.get(d)?Yt.resolve():this.remoteDocumentCache.getEntry(t,d).next(A=>{c=c.insert(d,A)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,c,u,wi())).next(d=>({batchId:l,changes:boe(d)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new gn(r)).next(n=>{let i=s2();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(t,r,n,i){const s=r.collectionGroup;let a=s2();return this.indexManager.getCollectionParents(t,s).next(l=>Yt.forEach(l,c=>{const u=function(h,A){return new By(A,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(r,c.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,n,i).next(d=>{d.forEach((h,A)=>{a=a.insert(h,A)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,s,i))).next(a=>{s.forEach((c,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,zl.newInvalidDocument(d)))});let l=s2();return a.forEach((c,u)=>{const d=s.get(c);d!==void 0&&U2(d.mutation,u,Bu.empty(),fi.now()),oB(r,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kBe{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,r){return Yt.resolve(this.Lr.get(r))}saveBundleMetadata(t,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:rh(i.createTime)}}(r)),Yt.resolve()}getNamedQuery(t,r){return Yt.resolve(this.kr.get(r))}saveNamedQuery(t,r){return this.kr.set(r.name,function(i){return{name:i.name,query:yBe(i.bundledQuery),readTime:rh(i.readTime)}}(r)),Yt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jBe{constructor(){this.overlays=new ya(gn.comparator),this.qr=new Map}getOverlay(t,r){return Yt.resolve(this.overlays.get(r))}getOverlays(t,r){const n=Sg();return Yt.forEach(r,i=>this.getOverlay(t,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((i,s)=>{this.St(t,r,s)}),Yt.resolve()}removeOverlaysForBatchId(t,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(n)),Yt.resolve()}getOverlaysForCollection(t,r,n){const i=Sg(),s=r.length+1,a=new gn(r.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>n&&i.set(c.getKey(),c)}return Yt.resolve(i)}getOverlaysForCollectionGroup(t,r,n,i){let s=new ya((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=s.get(u.largestBatchId);d===null&&(d=Sg(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=Sg(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=i)););return Yt.resolve(l)}St(t,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new XTe(r,n));let s=this.qr.get(r);s===void 0&&(s=wi(),this.qr.set(r,s)),this.qr.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PBe{constructor(){this.sessionToken=il.EMPTY_BYTE_STRING}getSessionToken(t){return Yt.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,Yt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(){this.Qr=new Oo(Ko.$r),this.Ur=new Oo(Ko.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,r){const n=new Ko(t,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Gr(new Ko(t,r))}zr(t,r){t.forEach(n=>this.removeReference(n,r))}jr(t){const r=new gn(new Cs([])),n=new Ko(r,t),i=new Ko(r,t+1),s=[];return this.Ur.forEachInRange([n,i],a=>{this.Gr(a),s.push(a.key)}),s}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const r=new gn(new Cs([])),n=new Ko(r,t),i=new Ko(r,t+1);let s=wi();return this.Ur.forEachInRange([n,i],a=>{s=s.add(a.key)}),s}containsKey(t){const r=new Ko(t,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class Ko{constructor(t,r){this.key=t,this.Yr=r}static $r(t,r){return gn.comparator(t.key,r.key)||yi(t.Yr,r.Yr)}static Kr(t,r){return yi(t.Yr,r.Yr)||gn.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FBe{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Oo(Ko.$r)}checkEmpty(t){return Yt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new qTe(s,r,n,i);this.mutationQueue.push(a);for(const l of i)this.Zr=this.Zr.add(new Ko(l.key,s)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return Yt.resolve(a)}lookupMutationBatch(t,r){return Yt.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,i=this.ei(n),s=i<0?0:i;return Yt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Yt.resolve(this.mutationQueue.length===0?nM:this.tr-1)}getAllMutationBatches(t){return Yt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new Ko(r,0),i=new Ko(r,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,i],a=>{const l=this.Xr(a.Yr);s.push(l)}),Yt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new Oo(yi);return r.forEach(i=>{const s=new Ko(i,0),a=new Ko(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],l=>{n=n.add(l.Yr)})}),Yt.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,i=n.length+1;let s=n;gn.isDocumentKey(s)||(s=s.child(""));const a=new Ko(new gn(s),0);let l=new Oo(yi);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.Yr)),!0)},a),Yt.resolve(this.ti(l))}ti(t){const r=[];return t.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(t,r){Zi(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return Yt.forEach(r.mutations,i=>{const s=new Ko(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Zr=n})}ir(t){}containsKey(t,r){const n=new Ko(r,0),i=this.Zr.firstAfterOrEqual(n);return Yt.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Yt.resolve()}ni(t,r){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const r=this.ei(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OBe{constructor(t){this.ri=t,this.docs=function(){return new ya(gn.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,a=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return Yt.resolve(n?n.document.mutableCopy():zl.newInvalidDocument(r))}getEntries(t,r){let n=NA();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():zl.newInvalidDocument(i))}),Yt.resolve(n)}getDocumentsMatchingQuery(t,r,n,i){let s=NA();const a=r.path,l=new gn(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||uTe(cTe(d),n)<=0||(i.has(d.key)||oB(r,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Yt.resolve(s)}getAllFromCollectionGroup(t,r,n,i){kn(9500)}ii(t,r){return Yt.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new DBe(this)}getSize(t){return Yt.resolve(this.size)}}class DBe extends TBe{constructor(t){super(),this.Nr=t}applyChanges(t){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(n)}),Yt.waitFor(r)}getFromCache(t,r){return this.Nr.getEntry(t,r)}getAllFromCache(t,r){return this.Nr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LBe{constructor(t){this.persistence=t,this.si=new Km(r=>aM(r),oM),this.lastRemoteSnapshotVersion=Qn.min(),this.highestTargetId=0,this.oi=0,this._i=new hM,this.targetCount=0,this.ai=Nv.ur()}forEachTarget(t,r){return this.si.forEach((n,i)=>r(i)),Yt.resolve()}getLastRemoteSnapshotVersion(t){return Yt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Yt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Yt.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),Yt.resolve()}Pr(t){this.si.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ai=new Nv(r),this.highestTargetId=r),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,r){return this.Pr(r),this.targetCount+=1,Yt.resolve()}updateTargetData(t,r){return this.Pr(r),Yt.resolve()}removeTargetData(t,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,Yt.resolve()}removeTargets(t,r,n){let i=0;const s=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(t,l.targetId)),i++)}),Yt.waitFor(s).next(()=>i)}getTargetCount(t){return Yt.resolve(this.targetCount)}getTargetData(t,r){const n=this.si.get(r)||null;return Yt.resolve(n)}addMatchingKeys(t,r,n){return this._i.Wr(r,n),Yt.resolve()}removeMatchingKeys(t,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(a=>{s.push(i.markPotentiallyOrphaned(t,a))}),Yt.waitFor(s)}removeMatchingKeysForTargetId(t,r){return this._i.jr(r),Yt.resolve()}getMatchingKeysForTargetId(t,r){const n=this._i.Hr(r);return Yt.resolve(n)}containsKey(t,r){return Yt.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qoe{constructor(t,r){this.ui={},this.overlays={},this.ci=new rB(0),this.li=!1,this.li=!0,this.hi=new PBe,this.referenceDelegate=t(this),this.Pi=new LBe(this),this.indexManager=new wBe,this.remoteDocumentCache=function(i){return new OBe(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new vBe(r),this.Ii=new kBe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new jBe,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ui[t.toKey()];return n||(n=new FBe(r,this.referenceDelegate),this.ui[t.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,r,n){$r("MemoryPersistence","Starting transaction:",t);const i=new RBe(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(t,r){return Yt.or(Object.values(this.ui).map(n=>()=>n.containsKey(t,r)))}}class RBe extends fTe{constructor(t){super(),this.currentSequenceNumber=t}}class AM{constructor(t){this.persistence=t,this.Ri=new hM,this.Vi=null}static mi(t){return new AM(t)}get fi(){if(this.Vi)return this.Vi;throw kn(60996)}addReference(t,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),Yt.resolve()}removeReference(t,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),Yt.resolve()}markPotentiallyOrphaned(t,r){return this.fi.add(r.toString()),Yt.resolve()}removeTarget(t,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>n.removeTargetData(t,r))}Ei(){this.Vi=new Set}di(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Yt.forEach(this.fi,n=>{const i=gn.fromPath(n);return this.gi(t,i).next(s=>{s||r.removeEntry(i,Qn.min())})}).next(()=>(this.Vi=null,r.apply(t)))}updateLimboDocument(t,r){return this.gi(t,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(t){return 0}gi(t,r){return Yt.or([()=>Yt.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ai(t,r)])}}class p5{constructor(t,r){this.persistence=t,this.pi=new Km(n=>pTe(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=NBe(this,r)}static mi(t,r){return new p5(t,r)}Ei(){}di(t){return Yt.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}gr(t){const r=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>r.next(i=>n+i))}wr(t){let r=0;return this.pr(t,n=>{r++}).next(()=>r)}pr(t,r){return Yt.forEach(this.pi,(n,i)=>this.br(t,n,i).next(s=>s?Yt.resolve():r(i)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(t,a=>this.br(t,a,r).next(l=>{l||(n++,s.removeEntry(a,Qn.min()))})).next(()=>s.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.pi.set(r,t.currentSequenceNumber),Yt.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),Yt.resolve()}removeReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),Yt.resolve()}updateLimboDocument(t,r){return this.pi.set(r,t.currentSequenceNumber),Yt.resolve()}Ti(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=e4(t.data.value)),r}br(t,r,n){return Yt.or([()=>this.persistence.Ai(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const i=this.pi.get(r);return Yt.resolve(i!==void 0&&i>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(t,r,n,i){this.targetId=t,this.fromCache=r,this.Es=n,this.ds=i}static As(t,r){let n=wi(),i=wi();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new pM(t,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MBe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UBe{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return mNe()?8:hTe(Zl())>0?6:4}()}initialize(t,r){this.ps=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,n,i){const s={result:null};return this.ys(t,r).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ws(t,r,i,n).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new MBe;return this.Ss(t,r,a).next(l=>{if(s.result=l,this.Vs)return this.bs(t,r,a,l.size)})}).next(()=>s.result)}bs(t,r,n,i){return n.documentReadCount<this.fs?(H1()<=vi.DEBUG&&$r("QueryEngine","SDK will not create cache indexes for query:",Q1(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Yt.resolve()):(H1()<=vi.DEBUG&&$r("QueryEngine","Query:",Q1(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(H1()<=vi.DEBUG&&$r("QueryEngine","The SDK decides to create cache indexes for query:",Q1(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,th(r))):Yt.resolve())}ys(t,r){if($V(r))return Yt.resolve(null);let n=th(r);return this.indexManager.getIndexType(t,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=f5(r,null,"F"),n=th(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(s=>{const a=wi(...s);return this.ps.getDocuments(t,a).next(l=>this.indexManager.getMinOffset(t,n).next(c=>{const u=this.Ds(r,l);return this.Cs(r,u,a,c.readTime)?this.ys(t,f5(r,null,"F")):this.vs(t,u,r,c)}))})))}ws(t,r,n,i){return $V(r)||i.isEqual(Qn.min())?Yt.resolve(null):this.ps.getDocuments(t,n).next(s=>{const a=this.Ds(r,s);return this.Cs(r,a,n,i)?Yt.resolve(null):(H1()<=vi.DEBUG&&$r("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Q1(r)),this.vs(t,a,r,lTe(i,zb)).next(l=>l))})}Ds(t,r){let n=new Oo(yoe(t));return r.forEach((i,s)=>{oB(t,s)&&(n=n.add(s))}),n}Cs(t,r,n,i){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const s=t.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(t,r,n){return H1()<=vi.DEBUG&&$r("QueryEngine","Using full collection scan to execute query:",Q1(r)),this.ps.getDocumentsMatchingQuery(t,r,vp.min(),n)}vs(t,r,n,i){return this.ps.getDocumentsMatchingQuery(t,n,i).next(s=>(r.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM="LocalStore",HBe=3e8;class QBe{constructor(t,r,n,i){this.persistence=t,this.Fs=r,this.serializer=i,this.Ms=new ya(yi),this.xs=new Km(s=>aM(s),oM),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(n)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new IBe(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ms))}}function $Be(e,t,r,n){return new QBe(e,t,r,n)}async function $oe(e,t){const r=zn(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.Bs(t),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const a=[],l=[];let c=wi();for(const u of i){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of s){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return r.localDocuments.getDocuments(n,c).next(u=>({Ls:u,removedBatchIds:a,addedBatchIds:l}))})})}function VBe(e,t){const r=zn(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=t.batch.keys(),s=r.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const h=u.batch,A=h.keys();let g=Yt.resolve();return A.forEach(v=>{g=g.next(()=>d.getEntry(c,v)).next(x=>{const y=u.docVersions.get(v);Zi(y!==null,48541),x.version.compareTo(y)<0&&(h.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),d.addEntry(x)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(r,n,t,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let c=wi();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(t))).next(()=>r.localDocuments.getDocuments(n,i))})}function Voe(e){const t=zn(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Pi.getLastRemoteSnapshotVersion(r))}function zBe(e,t){const r=zn(e),n=t.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const l=[];t.targetChanges.forEach((d,h)=>{const A=i.get(h);if(!A)return;l.push(r.Pi.removeMatchingKeys(s,d.removedDocuments,h).next(()=>r.Pi.addMatchingKeys(s,d.addedDocuments,h)));let g=A.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(h)!==null?g=g.withResumeToken(il.EMPTY_BYTE_STRING,Qn.min()).withLastLimboFreeSnapshotVersion(Qn.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,n)),i=i.insert(h,g),function(x,y,w){return x.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=HBe?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(A,g,d)&&l.push(r.Pi.updateTargetData(s,g))});let c=NA(),u=wi();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(GBe(s,a,t.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!n.isEqual(Qn.min())){const d=r.Pi.getLastRemoteSnapshotVersion(s).next(h=>r.Pi.setTargetsMetadata(s,s.currentSequenceNumber,n));l.push(d)}return Yt.waitFor(l).next(()=>a.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(r.Ms=i,s))}function GBe(e,t,r){let n=wi(),i=wi();return r.forEach(s=>n=n.add(s)),t.getEntries(e,n).next(s=>{let a=NA();return r.forEach((l,c)=>{const u=s.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Qn.min())?(t.removeEntry(l,c.readTime),a=a.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(c),a=a.insert(l,c)):$r(gM,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{ks:a,qs:i}})}function WBe(e,t){const r=zn(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=nM),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function KBe(e,t){const r=zn(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,t).next(s=>s?(i=s,Yt.resolve(i)):r.Pi.allocateTargetId(n).next(a=>(i=new P0(t,a,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(t,n.targetId)),n})}async function p8(e,t,r){const n=zn(e),i=n.Ms.get(t),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Ty(a))throw a;$r(gM,`Failed to update sequence numbers for target ${t}: ${a}`)}n.Ms=n.Ms.remove(t),n.xs.delete(i.target)}function rz(e,t,r){const n=zn(e);let i=Qn.min(),s=wi();return n.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,d){const h=zn(c),A=h.xs.get(d);return A!==void 0?Yt.resolve(h.Ms.get(A)):h.Pi.getTargetData(u,d)}(n,a,th(t)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(a,l.targetId).next(c=>{s=c})}).next(()=>n.Fs.getDocumentsMatchingQuery(a,t,r?i:Qn.min(),r?s:wi())).next(l=>(qBe(n,PTe(t),l),{documents:l,Qs:s})))}function qBe(e,t,r){let n=e.Os.get(t)||Qn.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),e.Os.set(t,n)}class nz{constructor(){this.activeTargetIds=MTe()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class XBe{constructor(){this.Mo=new nz,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,r,n){this.xo[t]=r}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new nz,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YBe{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz="ConnectivityMonitor";class sz{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){$r(iz,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){$r(iz,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oC=null;function g8(){return oC===null?oC=function(){return 268435456+Math.round(2147483648*Math.random())}():oC++,"0x"+oC.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj="RestConnection",ZBe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JBe{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+t.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===c5?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(t,r,n,i,s){const a=g8(),l=this.zo(t,r.toUriEncodedString());$r(wj,`Sending RPC '${t}' ${a}:`,l,n);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);const{host:u}=new URL(l),d=Op(u);return this.Jo(t,l,c,n,d).then(h=>($r(wj,`Received RPC '${t}' ${a}: `,h),h),h=>{throw gm(wj,`RPC '${t}' ${a} failed with error: `,h,"url: ",l,"request:",n),h})}Ho(t,r,n,i,s,a){return this.Go(t,r,n,i,s)}jo(t,r,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cy}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,s)=>t[s]=i),n&&n.headers.forEach((i,s)=>t[s]=i)}zo(t,r){const n=ZBe[t];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eIe{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il="WebChannelConnection";class tIe extends JBe{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,r,n,i,s){const a=g8();return new Promise((l,c)=>{const u=new Vae;u.setWithCredentials(!0),u.listenOnce(zae.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case JN.NO_ERROR:const h=u.getResponseJson();$r(Il,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(h)),l(h);break;case JN.TIMEOUT:$r(Il,`RPC '${t}' ${a} timed out`),c(new Dr(Gt.DEADLINE_EXCEEDED,"Request time out"));break;case JN.HTTP_ERROR:const A=u.getStatus();if($r(Il,`RPC '${t}' ${a} failed with status:`,A,"response text:",u.getResponseText()),A>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g==null?void 0:g.error;if(v&&v.status&&v.message){const x=function(w){const _=w.toLowerCase().replace(/_/g,"-");return Object.values(Gt).indexOf(_)>=0?_:Gt.UNKNOWN}(v.status);c(new Dr(x,v.message))}else c(new Dr(Gt.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Dr(Gt.UNAVAILABLE,"Connection failed."));break;default:kn(9055,{l_:t,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{$r(Il,`RPC '${t}' ${a} completed.`)}});const d=JSON.stringify(i);$r(Il,`RPC '${t}' ${a} sending request:`,i),u.send(r,"POST",d,n,15)})}T_(t,r,n){const i=g8(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=Kae(),l=Wae(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const d=s.join("");$r(Il,`Creating RPC '${t}' stream ${i}: ${d}`,c);const h=a.createWebChannel(d,c);this.I_(h);let A=!1,g=!1;const v=new eIe({Yo:y=>{g?$r(Il,`Not sending because RPC '${t}' stream ${i} is closed:`,y):(A||($r(Il,`Opening RPC '${t}' stream ${i} transport.`),h.open(),A=!0),$r(Il,`RPC '${t}' stream ${i} sending:`,y),h.send(y))},Zo:()=>h.close()}),x=(y,w,_)=>{y.listen(w,E=>{try{_(E)}catch(I){setTimeout(()=>{throw I},0)}})};return x(h,i2.EventType.OPEN,()=>{g||($r(Il,`RPC '${t}' stream ${i} transport opened.`),v.o_())}),x(h,i2.EventType.CLOSE,()=>{g||(g=!0,$r(Il,`RPC '${t}' stream ${i} transport closed`),v.a_(),this.E_(h))}),x(h,i2.EventType.ERROR,y=>{g||(g=!0,gm(Il,`RPC '${t}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),v.a_(new Dr(Gt.UNAVAILABLE,"The operation could not be completed")))}),x(h,i2.EventType.MESSAGE,y=>{var w;if(!g){const _=y.data[0];Zi(!!_,16349);const E=_,I=(E==null?void 0:E.error)||((w=E[0])==null?void 0:w.error);if(I){$r(Il,`RPC '${t}' stream ${i} received error:`,I);const N=I.status;let j=function(k){const R=no[k];if(R!==void 0)return koe(R)}(N),T=I.message;j===void 0&&(j=Gt.INTERNAL,T="Unknown error status: "+N+" with message "+I.message),g=!0,v.a_(new Dr(j,T)),h.close()}else $r(Il,`RPC '${t}' stream ${i} received:`,_),v.u_(_)}}),x(l,Gae.STAT_EVENT,y=>{y.stat===i8.PROXY?$r(Il,`RPC '${t}' stream ${i} detected buffering proxy`):y.stat===i8.NOPROXY&&$r(Il,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.__()},0),v}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(r=>r===t)}}function bj(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(e){return new sBe(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zoe{constructor(t,r,n=1e3,i=1.5,s=6e4){this.Mi=t,this.timerId=r,this.d_=n,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&$r("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const az="PersistentStream";class Goe{constructor(t,r,n,i,s,a,l,c){this.Mi=t,this.S_=n,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zoe(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===Gt.RESOURCE_EXHAUSTED?(CA(r.toString()),CA("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Gt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(r)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{t(()=>{const i=new Dr(Gt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(t,r){const n=this.W_(this.D_);this.stream=this.j_(t,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return $r(az,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return r=>{this.Mi.enqueueAndForget(()=>this.D_===t?r():($r(az,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rIe extends Goe{constructor(t,r,n,i,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}j_(t,r){return this.connection.T_("Listen",t,r)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=lBe(this.serializer,t),n=function(s){if(!("targetChange"in s))return Qn.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Qn.min():a.readTime?rh(a.readTime):Qn.min()}(t);return this.listener.H_(r,n)}Y_(t){const r={};r.database=A8(this.serializer),r.addTarget=function(s,a){let l;const c=a.target;if(l=c8(c)?{documents:dBe(s,c)}:{query:fBe(s,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=Foe(s,a.resumeToken);const u=d8(s,a.expectedCount);u!==null&&(l.expectedCount=u)}else if(a.snapshotVersion.compareTo(Qn.min())>0){l.readTime=A5(s,a.snapshotVersion.toTimestamp());const u=d8(s,a.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,t);const n=ABe(this.serializer,t);n&&(r.labels=n),this.q_(r)}Z_(t){const r={};r.database=A8(this.serializer),r.removeTarget=t,this.q_(r)}}class nIe extends Goe{constructor(t,r,n,i,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}J_(t){return Zi(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Zi(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Zi(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=uBe(t.writeResults,t.commitTime),n=rh(t.commitTime);return this.listener.na(n,r)}ra(){const t={};t.database=A8(this.serializer),this.q_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>cBe(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iIe{}class sIe extends iIe{constructor(t,r,n,i){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Dr(Gt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Go(t,f8(r,n),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Dr(Gt.UNKNOWN,s.toString())})}Ho(t,r,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(t,f8(r,n),i,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Dr(Gt.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class aIe{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(CA(r),this.aa=!1):$r("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="RemoteStore";class oIe{constructor(t,r,n,i,s){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(a=>{n.enqueueAndForget(async()=>{qm(this)&&($r(mm,"Restarting streams for network reachability change."),await async function(c){const u=zn(c);u.Ea.add(4),await BE(u),u.Ra.set("Unknown"),u.Ea.delete(4),await fB(u)}(this))})}),this.Ra=new aIe(n,i)}}async function fB(e){if(qm(e))for(const t of e.da)await t(!0)}async function BE(e){for(const t of e.da)await t(!1)}function Woe(e,t){const r=zn(e);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),yM(r)?vM(r):Iy(r).O_()&&xM(r,t))}function mM(e,t){const r=zn(e),n=Iy(r);r.Ia.delete(t),n.O_()&&Koe(r,t),r.Ia.size===0&&(n.O_()?n.L_():qm(r)&&r.Ra.set("Unknown"))}function xM(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Qn.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Iy(e).Y_(t)}function Koe(e,t){e.Va.Ue(t),Iy(e).Z_(t)}function vM(e){e.Va=new tBe({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Iy(e).start(),e.Ra.ua()}function yM(e){return qm(e)&&!Iy(e).x_()&&e.Ia.size>0}function qm(e){return zn(e).Ea.size===0}function qoe(e){e.Va=void 0}async function lIe(e){e.Ra.set("Online")}async function cIe(e){e.Ia.forEach((t,r)=>{xM(e,t)})}async function uIe(e,t){qoe(e),yM(e)?(e.Ra.ha(t),vM(e)):e.Ra.set("Unknown")}async function dIe(e,t,r){if(e.Ra.set("Online"),t instanceof Poe&&t.state===2&&t.cause)try{await async function(i,s){const a=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.Ia.delete(l),i.Va.removeTarget(l))}(e,t)}catch(n){$r(mm,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await g5(e,n)}else if(t instanceof n4?e.Va.Ze(t):t instanceof joe?e.Va.st(t):e.Va.tt(t),!r.isEqual(Qn.min()))try{const n=await Voe(e.localStore);r.compareTo(n)>=0&&await function(s,a){const l=s.Va.Tt(a);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=s.Ia.get(u);d&&s.Ia.set(u,d.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,u)=>{const d=s.Ia.get(c);if(!d)return;s.Ia.set(c,d.withResumeToken(il.EMPTY_BYTE_STRING,d.snapshotVersion)),Koe(s,c);const h=new P0(d.target,c,u,d.sequenceNumber);xM(s,h)}),s.remoteSyncer.applyRemoteEvent(l)}(e,r)}catch(n){$r(mm,"Failed to raise snapshot:",n),await g5(e,n)}}async function g5(e,t,r){if(!Ty(t))throw t;e.Ea.add(1),await BE(e),e.Ra.set("Offline"),r||(r=()=>Voe(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{$r(mm,"Retrying IndexedDB access"),await r(),e.Ea.delete(1),await fB(e)})}function Xoe(e,t){return t().catch(r=>g5(e,r,t))}async function hB(e){const t=zn(e),r=_p(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:nM;for(;fIe(t);)try{const i=await WBe(t.localStore,n);if(i===null){t.Ta.length===0&&r.L_();break}n=i.batchId,hIe(t,i)}catch(i){await g5(t,i)}Yoe(t)&&Zoe(t)}function fIe(e){return qm(e)&&e.Ta.length<10}function hIe(e,t){e.Ta.push(t);const r=_p(e);r.O_()&&r.X_&&r.ea(t.mutations)}function Yoe(e){return qm(e)&&!_p(e).x_()&&e.Ta.length>0}function Zoe(e){_p(e).start()}async function AIe(e){_p(e).ra()}async function pIe(e){const t=_p(e);for(const r of e.Ta)t.ea(r.mutations)}async function gIe(e,t,r){const n=e.Ta.shift(),i=uM.from(n,t,r);await Xoe(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await hB(e)}async function mIe(e,t){t&&_p(e).X_&&await async function(n,i){if(function(a){return ZTe(a)&&a!==Gt.ABORTED}(i.code)){const s=n.Ta.shift();_p(n).B_(),await Xoe(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await hB(n)}}(e,t),Yoe(e)&&Zoe(e)}async function oz(e,t){const r=zn(e);r.asyncQueue.verifyOperationInProgress(),$r(mm,"RemoteStore received new credentials");const n=qm(r);r.Ea.add(3),await BE(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await fB(r)}async function xIe(e,t){const r=zn(e);t?(r.Ea.delete(2),await fB(r)):t||(r.Ea.add(2),await BE(r),r.Ra.set("Unknown"))}function Iy(e){return e.ma||(e.ma=function(r,n,i){const s=zn(r);return s.sa(),new rIe(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Xo:lIe.bind(null,e),t_:cIe.bind(null,e),r_:uIe.bind(null,e),H_:dIe.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),yM(e)?vM(e):e.Ra.set("Unknown")):(await e.ma.stop(),qoe(e))})),e.ma}function _p(e){return e.fa||(e.fa=function(r,n,i){const s=zn(r);return s.sa(),new nIe(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:AIe.bind(null,e),r_:mIe.bind(null,e),ta:pIe.bind(null,e),na:gIe.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await hB(e)):(await e.fa.stop(),e.Ta.length>0&&($r(mm,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(t,r,n,i,s){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new oA,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,i,s){const a=Date.now()+n,l=new wM(t,r,a,i,s);return l.start(n),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Dr(Gt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bM(e,t){if(CA("AsyncQueue",`${t}: ${e}`),Ty(e))return new Dr(Gt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{static emptySet(t){return new Lx(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||gn.comparator(r.key,n.key):(r,n)=>gn.comparator(r.key,n.key),this.keyedMap=s2(),this.sortedSet=new ya(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof Lx)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new Lx;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(){this.ga=new ya(gn.comparator)}track(t){const r=t.doc.key,n=this.ga.get(r);n?t.type!==0&&n.type===3?this.ga=this.ga.insert(r,t):t.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.ga=this.ga.remove(r):t.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):kn(63341,{Rt:t,pa:n}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal((r,n)=>{t.push(n)}),t}}class Tv{constructor(t,r,n,i,s,a,l,c,u){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(t,r,n,i,s){const a=[];return r.forEach(l=>{a.push({type:0,doc:l})}),new Tv(t,r,Lx.emptySet(r),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&aB(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vIe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class yIe{constructor(){this.queries=cz(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=zn(r),s=i.queries;i.queries=cz(),s.forEach((a,l)=>{for(const c of l.Sa)c.onError(n)})})(this,new Dr(Gt.ABORTED,"Firestore shutting down"))}}function cz(){return new Km(e=>voe(e),aB)}async function _M(e,t){const r=zn(e);let n=3;const i=t.query;let s=r.queries.get(i);s?!s.ba()&&t.Da()&&(n=2):(s=new vIe,n=t.Da()?0:1);try{switch(n){case 0:s.wa=await r.onListen(i,!0);break;case 1:s.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const l=bM(a,`Initialization of query '${Q1(t.query)}' failed`);return void t.onError(l)}r.queries.set(i,s),s.Sa.push(t),t.va(r.onlineState),s.wa&&t.Fa(s.wa)&&SM(r)}async function EM(e,t){const r=zn(e),n=t.query;let i=3;const s=r.queries.get(n);if(s){const a=s.Sa.indexOf(t);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=t.Da()?0:1:!s.ba()&&t.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function wIe(e,t){const r=zn(e);let n=!1;for(const i of t){const s=i.query,a=r.queries.get(s);if(a){for(const l of a.Sa)l.Fa(i)&&(n=!0);a.wa=i}}n&&SM(r)}function bIe(e,t,r){const n=zn(e),i=n.queries.get(t);if(i)for(const s of i.Sa)s.onError(r);n.queries.delete(t)}function SM(e){e.Ca.forEach(t=>{t.next()})}var m8,uz;(uz=m8||(m8={})).Ma="default",uz.Cache="cache";class CM{constructor(t,r,n){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const n=[];for(const i of t.docChanges)i.type!==3&&n.push(i);t=new Tv(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=Tv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==m8.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Joe{constructor(t){this.key=t}}class ele{constructor(t){this.key=t}}class _Ie{constructor(t,r){this.query=t,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=wi(),this.mutatedKeys=wi(),this.eu=yoe(t),this.tu=new Lx(this.eu)}get nu(){return this.Ya}ru(t,r){const n=r?r.iu:new lz,i=r?r.tu:this.tu;let s=r?r.mutatedKeys:this.mutatedKeys,a=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((d,h)=>{const A=i.get(d),g=oB(this.query,h)?h:null,v=!!A&&this.mutatedKeys.has(A.key),x=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let y=!1;A&&g?A.data.isEqual(g.data)?v!==x&&(n.track({type:3,doc:g}),y=!0):this.su(A,g)||(n.track({type:2,doc:g}),y=!0,(c&&this.eu(g,c)>0||u&&this.eu(g,u)<0)&&(l=!0)):!A&&g?(n.track({type:0,doc:g}),y=!0):A&&!g&&(n.track({type:1,doc:A}),y=!0,(c||u)&&(l=!0)),y&&(g?(a=a.add(g),s=x?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),n.track({type:1,doc:d})}return{tu:a,iu:n,Cs:l,mutatedKeys:s}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,i){const s=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const a=t.iu.ya();a.sort((d,h)=>function(g,v){const x=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return kn(20277,{Rt:y})}};return x(g)-x(v)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(n),i=i??!1;const l=r&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,u=c!==this.Za;return this.Za=c,a.length!==0||u?{snapshot:new Tv(this.query,t.tu,s,a,t.mutatedKeys,c===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lz,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=wi(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return t.forEach(n=>{this.Xa.has(n)||r.push(new ele(n))}),this.Xa.forEach(n=>{t.has(n)||r.push(new Joe(n))}),r}cu(t){this.Ya=t.Qs,this.Xa=wi();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return Tv.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const NM="SyncEngine";class EIe{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class SIe{constructor(t){this.key=t,this.hu=!1}}class CIe{constructor(t,r,n,i,s,a){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Km(l=>voe(l),aB),this.Iu=new Map,this.Eu=new Set,this.du=new ya(gn.comparator),this.Au=new Map,this.Ru=new hM,this.Vu={},this.mu=new Map,this.fu=Nv.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function NIe(e,t,r=!0){const n=ale(e);let i;const s=n.Tu.get(t);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await tle(n,t,r,!0),i}async function TIe(e,t){const r=ale(e);await tle(r,t,!0,!1)}async function tle(e,t,r,n){const i=await KBe(e.localStore,th(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,r);let l;return n&&(l=await BIe(e,t,s,a==="current",i.resumeToken)),e.isPrimaryClient&&r&&Woe(e.remoteStore,i),l}async function BIe(e,t,r,n,i){e.pu=(h,A,g)=>async function(x,y,w,_){let E=y.view.ru(w);E.Cs&&(E=await rz(x.localStore,y.query,!1).then(({documents:T})=>y.view.ru(T,E)));const I=_&&_.targetChanges.get(y.targetId),N=_&&_.targetMismatches.get(y.targetId)!=null,j=y.view.applyChanges(E,x.isPrimaryClient,I,N);return fz(x,y.targetId,j.au),j.snapshot}(e,h,A,g);const s=await rz(e.localStore,t,!0),a=new _Ie(t,s.Qs),l=a.ru(s.documents),c=TE.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",i),u=a.applyChanges(l,e.isPrimaryClient,c);fz(e,r,u.au);const d=new EIe(t,r,a);return e.Tu.set(t,d),e.Iu.has(r)?e.Iu.get(r).push(t):e.Iu.set(r,[t]),u.snapshot}async function IIe(e,t,r){const n=zn(e),i=n.Tu.get(t),s=n.Iu.get(i.targetId);if(s.length>1)return n.Iu.set(i.targetId,s.filter(a=>!aB(a,t))),void n.Tu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await p8(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&mM(n.remoteStore,i.targetId),x8(n,i.targetId)}).catch(Ny)):(x8(n,i.targetId),await p8(n.localStore,i.targetId,!0))}async function kIe(e,t){const r=zn(e),n=r.Tu.get(t),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),mM(r.remoteStore,n.targetId))}async function jIe(e,t,r){const n=MIe(e);try{const i=await function(a,l){const c=zn(a),u=fi.now(),d=l.reduce((g,v)=>g.add(v.key),wi());let h,A;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=NA(),x=wi();return c.Ns.getEntries(g,d).next(y=>{v=y,v.forEach((w,_)=>{_.isValidDocument()||(x=x.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,v)).next(y=>{h=y;const w=[];for(const _ of l){const E=WTe(_,h.get(_.key).overlayedDocument);E!=null&&w.push(new Mp(_.key,E,doe(E.value.mapValue),xd.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,w,l)}).next(y=>{A=y;const w=y.applyToLocalDocumentSet(h,x);return c.documentOverlayCache.saveOverlays(g,y.batchId,w)})}).then(()=>({batchId:A.batchId,changes:boe(h)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(i.batchId),function(a,l,c){let u=a.Vu[a.currentUser.toKey()];u||(u=new ya(yi)),u=u.insert(l,c),a.Vu[a.currentUser.toKey()]=u}(n,i.batchId,r),await IE(n,i.changes),await hB(n.remoteStore)}catch(i){const s=bM(i,"Failed to persist write");r.reject(s)}}async function rle(e,t){const r=zn(e);try{const n=await zBe(r.localStore,t);t.targetChanges.forEach((i,s)=>{const a=r.Au.get(s);a&&(Zi(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?Zi(a.hu,14607):i.removedDocuments.size>0&&(Zi(a.hu,42227),a.hu=!1))}),await IE(r,n,t)}catch(n){await Ny(n)}}function dz(e,t,r){const n=zn(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((s,a)=>{const l=a.view.va(t);l.snapshot&&i.push(l.snapshot)}),function(a,l){const c=zn(a);c.onlineState=l;let u=!1;c.queries.forEach((d,h)=>{for(const A of h.Sa)A.va(l)&&(u=!0)}),u&&SM(c)}(n.eventManager,t),i.length&&n.Pu.H_(i),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function PIe(e,t,r){const n=zn(e);n.sharedClientState.updateQueryState(t,"rejected",r);const i=n.Au.get(t),s=i&&i.key;if(s){let a=new ya(gn.comparator);a=a.insert(s,zl.newNoDocument(s,Qn.min()));const l=wi().add(s),c=new uB(Qn.min(),new Map,new ya(yi),a,l);await rle(n,c),n.du=n.du.remove(s),n.Au.delete(t),TM(n)}else await p8(n.localStore,t,!1).then(()=>x8(n,t,r)).catch(Ny)}async function FIe(e,t){const r=zn(e),n=t.batch.batchId;try{const i=await VBe(r.localStore,t);ile(r,n,null),nle(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await IE(r,i)}catch(i){await Ny(i)}}async function OIe(e,t,r){const n=zn(e);try{const i=await function(a,l){const c=zn(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(h=>(Zi(h!==null,37113),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(n.localStore,t);ile(n,t,r),nle(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await IE(n,i)}catch(i){await Ny(i)}}function nle(e,t){(e.mu.get(t)||[]).forEach(r=>{r.resolve()}),e.mu.delete(t)}function ile(e,t,r){const n=zn(e);let i=n.Vu[n.currentUser.toKey()];if(i){const s=i.get(t);s&&(r?s.reject(r):s.resolve(),i=i.remove(t)),n.Vu[n.currentUser.toKey()]=i}}function x8(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Iu.get(t))e.Tu.delete(n),r&&e.Pu.yu(n,r);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(n=>{e.Ru.containsKey(n)||sle(e,n)})}function sle(e,t){e.Eu.delete(t.path.canonicalString());const r=e.du.get(t);r!==null&&(mM(e.remoteStore,r),e.du=e.du.remove(t),e.Au.delete(r),TM(e))}function fz(e,t,r){for(const n of r)n instanceof Joe?(e.Ru.addReference(n.key,t),DIe(e,n)):n instanceof ele?($r(NM,"Document no longer in limbo: "+n.key),e.Ru.removeReference(n.key,t),e.Ru.containsKey(n.key)||sle(e,n.key)):kn(19791,{wu:n})}function DIe(e,t){const r=t.key,n=r.path.canonicalString();e.du.get(r)||e.Eu.has(n)||($r(NM,"New document in limbo: "+r),e.Eu.add(n),TM(e))}function TM(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const r=new gn(Cs.fromString(t)),n=e.fu.next();e.Au.set(n,new SIe(r)),e.du=e.du.insert(r,n),Woe(e.remoteStore,new P0(th(sB(r.path)),n,"TargetPurposeLimboResolution",rB.ce))}}async function IE(e,t,r){const n=zn(e),i=[],s=[],a=[];n.Tu.isEmpty()||(n.Tu.forEach((l,c)=>{a.push(n.pu(c,t,r).then(u=>{var d;if((u||r)&&n.isPrimaryClient){const h=u?!u.fromCache:(d=r==null?void 0:r.targetChanges.get(c.targetId))==null?void 0:d.current;n.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){i.push(u);const h=pM.As(c.targetId,u);s.push(h)}}))}),await Promise.all(a),n.Pu.H_(i),await async function(c,u){const d=zn(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Yt.forEach(u,A=>Yt.forEach(A.Es,g=>d.persistence.referenceDelegate.addReference(h,A.targetId,g)).next(()=>Yt.forEach(A.ds,g=>d.persistence.referenceDelegate.removeReference(h,A.targetId,g)))))}catch(h){if(!Ty(h))throw h;$r(gM,"Failed to update sequence numbers: "+h)}for(const h of u){const A=h.targetId;if(!h.fromCache){const g=d.Ms.get(A),v=g.snapshotVersion,x=g.withLastLimboFreeSnapshotVersion(v);d.Ms=d.Ms.insert(A,x)}}}(n.localStore,s))}async function LIe(e,t){const r=zn(e);if(!r.currentUser.isEqual(t)){$r(NM,"User change. New user:",t.toKey());const n=await $oe(r.localStore,t);r.currentUser=t,function(s,a){s.mu.forEach(l=>{l.forEach(c=>{c.reject(new Dr(Gt.CANCELLED,a))})}),s.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await IE(r,n.Ls)}}function RIe(e,t){const r=zn(e),n=r.Au.get(t);if(n&&n.hu)return wi().add(n.key);{let i=wi();const s=r.Iu.get(t);if(!s)return i;for(const a of s){const l=r.Tu.get(a);i=i.unionWith(l.view.nu)}return i}}function ale(e){const t=zn(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=rle.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=RIe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=PIe.bind(null,t),t.Pu.H_=wIe.bind(null,t.eventManager),t.Pu.yu=bIe.bind(null,t.eventManager),t}function MIe(e){const t=zn(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=FIe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=OIe.bind(null,t),t}class m5{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=dB(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return $Be(this.persistence,new UBe,t.initialUser,this.serializer)}Cu(t){return new Qoe(AM.mi,this.serializer)}Du(t){return new XBe}async terminate(){var t,r;(t=this.gcScheduler)==null||t.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}m5.provider={build:()=>new m5};class UIe extends m5{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){Zi(this.persistence.referenceDelegate instanceof p5,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new SBe(n,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?Lc.withCacheSize(this.cacheSizeBytes):Lc.DEFAULT;return new Qoe(n=>p5.mi(n,r),this.serializer)}}class v8{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>dz(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=LIe.bind(null,this.syncEngine),await xIe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new yIe}()}createDatastore(t){const r=dB(t.databaseInfo.databaseId),n=function(s){return new tIe(s)}(t.databaseInfo);return function(s,a,l,c){return new sIe(s,a,l,c)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,i,s,a,l){return new oIe(n,i,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,r=>dz(this.syncEngine,r,0),function(){return sz.v()?new sz:new YBe}())}createSyncEngine(t,r){return function(i,s,a,l,c,u,d){const h=new CIe(i,s,a,l,c,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(i){const s=zn(i);$r(mm,"RemoteStore shutting down."),s.Ea.add(5),await BE(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(r=this.eventManager)==null||r.terminate()}}v8.provider={build:()=>new v8};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):CA("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="FirestoreClient";class HIe{constructor(t,r,n,i,s){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Ul.UNAUTHENTICATED,this.clientId=eB.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async a=>{$r(Ep,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>($r(Ep,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new oA;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=bM(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function _j(e,t){e.asyncQueue.verifyOperationInProgress(),$r(Ep,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async i=>{n.isEqual(i)||(await $oe(t.localStore,i),n=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function hz(e,t){e.asyncQueue.verifyOperationInProgress();const r=await QIe(e);$r(Ep,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>oz(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,i)=>oz(t.remoteStore,i)),e._onlineComponents=t}async function QIe(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){$r(Ep,"Using user provided OfflineComponentProvider");try{await _j(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(i){return i.name==="FirebaseError"?i.code===Gt.FAILED_PRECONDITION||i.code===Gt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;gm("Error using user provided cache. Falling back to memory cache: "+r),await _j(e,new m5)}}else $r(Ep,"Using default OfflineComponentProvider"),await _j(e,new UIe(void 0));return e._offlineComponents}async function ole(e){return e._onlineComponents||(e._uninitializedComponentsProvider?($r(Ep,"Using user provided OnlineComponentProvider"),await hz(e,e._uninitializedComponentsProvider._online)):($r(Ep,"Using default OnlineComponentProvider"),await hz(e,new v8))),e._onlineComponents}function $Ie(e){return ole(e).then(t=>t.syncEngine)}async function x5(e){const t=await ole(e),r=t.eventManager;return r.onListen=NIe.bind(null,t.syncEngine),r.onUnlisten=IIe.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=TIe.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=kIe.bind(null,t.syncEngine),r}function VIe(e,t,r={}){const n=new oA;return e.asyncQueue.enqueueAndForget(async()=>function(s,a,l,c,u){const d=new BM({next:A=>{d.Nu(),a.enqueueAndForget(()=>EM(s,h));const g=A.docs.has(l);!g&&A.fromCache?u.reject(new Dr(Gt.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&A.fromCache&&c&&c.source==="server"?u.reject(new Dr(Gt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(A)},error:A=>u.reject(A)}),h=new CM(sB(l.path),d,{includeMetadataChanges:!0,qa:!0});return _M(s,h)}(await x5(e),e.asyncQueue,t,r,n)),n.promise}function zIe(e,t,r={}){const n=new oA;return e.asyncQueue.enqueueAndForget(async()=>function(s,a,l,c,u){const d=new BM({next:A=>{d.Nu(),a.enqueueAndForget(()=>EM(s,h)),A.fromCache&&c.source==="server"?u.reject(new Dr(Gt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(A)},error:A=>u.reject(A)}),h=new CM(l,d,{includeMetadataChanges:!0,qa:!0});return _M(s,h)}(await x5(e),e.asyncQueue,t,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lle(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Az=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cle="firestore.googleapis.com",pz=!0;class gz{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Dr(Gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cle,this.ssl=pz}else this.host=t.host,this.ssl=t.ssl??pz;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Hoe;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<_Be)throw new Dr(Gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Jae("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lle(t.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Dr(Gt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Dr(Gt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Dr(Gt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class AB{constructor(t,r,n,i){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gz({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Dr(Gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Dr(Gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gz(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Yae;switch(n.type){case"firstParty":return new tTe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Dr(Gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=Az.get(r);n&&($r("ComponentProvider","Removing Datastore"),Az.delete(r),n.terminate())}(this),Promise.resolve()}}function ule(e,t,r,n={}){var u;e=wc(e,AB);const i=Op(t),s=e._getSettings(),a={...s,emulatorOptions:e._getEmulatorOptions()},l=`${t}:${r}`;i&&(zR(`https://${l}`),GR("Firestore",!0)),s.host!==cle&&s.host!==l&&gm("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:l,ssl:i,emulatorOptions:n};if(!xp(c,a)&&(e._setSettings(c),n.mockUserToken)){let d,h;if(typeof n.mockUserToken=="string")d=n.mockUserToken,h=Ul.MOCK_USER;else{d=eae(n.mockUserToken,(u=e._app)==null?void 0:u.options.projectId);const A=n.mockUserToken.sub||n.mockUserToken.user_id;if(!A)throw new Dr(Gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ul(A)}e._authCredentials=new Z3e(new Xae(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new yh(this.firestore,t,this._query)}}class Aa{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lA(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Aa(this.firestore,t,this._key)}toJSON(){return{type:Aa._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,n){if(CE(r,Aa._jsonSchema))return new Aa(t,n||null,new gn(Cs.fromString(r.referencePath)))}}Aa._jsonSchemaVersion="firestore/documentReference/1.0",Aa._jsonSchema={type:ho("string",Aa._jsonSchemaVersion),referencePath:ho("string")};class lA extends yh{constructor(t,r,n){super(t,r,sB(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Aa(this.firestore,null,new gn(t))}withConverter(t){return new lA(this.firestore,t,this._path)}}function jr(e,t,...r){if(e=es(e),Zae("collection","path",t),e instanceof AB){const n=Cs.fromString(t,...r);return BV(n),new lA(e,null,n)}{if(!(e instanceof Aa||e instanceof lA))throw new Dr(Gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Cs.fromString(t,...r));return BV(n),new lA(e.firestore,null,n)}}function pn(e,t,...r){if(e=es(e),arguments.length===1&&(t=eB.newId()),Zae("doc","path",t),e instanceof AB){const n=Cs.fromString(t,...r);return TV(n),new Aa(e,null,new gn(n))}{if(!(e instanceof Aa||e instanceof lA))throw new Dr(Gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Cs.fromString(t,...r));return TV(n),new Aa(e.firestore,e instanceof lA?e.converter:null,new gn(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz="AsyncQueue";class xz{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zoe(this,"async_queue_retry"),this._c=()=>{const n=bj();n&&$r(mz,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=t;const r=bj();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=bj();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const r=new oA;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Ty(t))throw t;$r(mz,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const r=this.ac.then(()=>(this.rc=!0,t().catch(n=>{throw this.nc=n,this.rc=!1,CA("INTERNAL UNHANDLED ERROR: ",vz(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(t,r,n){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const i=wM.createAndSchedule(this,t,r,n,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&kn(47125,{Pc:vz(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function vz(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yz(e){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(e,["next","error","complete"])}class ph extends AB{constructor(t,r,n,i){super(t,r,n,i),this.type="firestore",this._queue=new xz,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new xz(t),this._firestoreClient=void 0,await t}}}function dle(e,t){const r=typeof e=="object"?e:bE(),n=typeof e=="string"?e:c5,i=Dp(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=Yse("firestore");s&&ule(i,...s)}return i}function kE(e){if(e._terminated)throw new Dr(Gt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||GIe(e),e._firestoreClient}function GIe(e){var n,i,s;const t=e._freezeSettings(),r=function(l,c,u,d){return new xTe(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,lle(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(e._databaseId,((n=e._app)==null?void 0:n.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(i=t.localCache)!=null&&i._offlineComponentProvider&&((s=t.localCache)!=null&&s._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new HIe(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(t){this._byteString=t}static fromBase64String(t){try{return new _u(il.fromBase64String(t))}catch(r){throw new Dr(Gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new _u(il.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:_u._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(CE(t,_u._jsonSchema))return _u.fromBase64String(t.bytes)}}_u._jsonSchemaVersion="firestore/bytes/1.0",_u._jsonSchema={type:ho("string",_u._jsonSchemaVersion),bytes:ho("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Dr(Gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new el(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Dr(Gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Dr(Gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return yi(this._lat,t._lat)||yi(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:cf._jsonSchemaVersion}}static fromJSON(t){if(CE(t,cf._jsonSchema))return new cf(t.latitude,t.longitude)}}cf._jsonSchemaVersion="firestore/geoPoint/1.0",cf._jsonSchema={type:ho("string",cf._jsonSchemaVersion),latitude:ho("number"),longitude:ho("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,t._values)}toJSON(){return{type:uf._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(CE(t,uf._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(r=>typeof r=="number"))return new uf(t.vectorValues);throw new Dr(Gt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}uf._jsonSchemaVersion="firestore/vectorValue/1.0",uf._jsonSchema={type:ho("string",uf._jsonSchemaVersion),vectorValues:ho("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIe=/^__.*__$/;class KIe{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new Mp(t,this.data,this.fieldMask,r,this.fieldTransforms):new NE(t,this.data,r,this.fieldTransforms)}}class fle{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new Mp(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function hle(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw kn(40011,{Ac:e})}}class IM{constructor(t,r,n,i,s,a){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new IM({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var i;const r=(i=this.path)==null?void 0:i.child(t),n=this.Vc({path:r,fc:!1});return n.gc(t),n}yc(t){var i;const r=(i=this.path)==null?void 0:i.child(t),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return v5(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(hle(this.Ac)&&WIe.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class qIe{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||dB(t)}Cc(t,r,n,i=!1){return new IM({Ac:t,methodName:r,Dc:n,path:el.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pB(e){const t=e._freezeSettings(),r=dB(e._databaseId);return new qIe(e._databaseId,!!t.ignoreUndefinedProperties,r)}function Ale(e,t,r,n,i,s={}){const a=e.Cc(s.merge||s.mergeFields?2:0,t,r,i);jM("Data must be an object, but it was:",a,n);const l=ple(n,a);let c,u;if(s.merge)c=new Bu(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const A=y8(t,h,r);if(!a.contains(A))throw new Dr(Gt.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);mle(d,A)||d.push(A)}c=new Bu(d),u=a.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=a.fieldTransforms;return new KIe(new Qc(l),c,u)}class gB extends PE{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof gB}}class kM extends PE{_toFieldTransform(t){return new $Te(t.path,new qb)}isEqual(t){return t instanceof kM}}function XIe(e,t,r,n){const i=e.Cc(1,t,r);jM("Data must be an object, but it was:",i,n);const s=[],a=Qc.empty();Rp(n,(c,u)=>{const d=PM(t,c,r);u=es(u);const h=i.yc(d);if(u instanceof gB)s.push(d);else{const A=FE(u,h);A!=null&&(s.push(d),a.set(d,A))}});const l=new Bu(s);return new fle(a,l,i.fieldTransforms)}function YIe(e,t,r,n,i,s){const a=e.Cc(1,t,r),l=[y8(t,n,r)],c=[i];if(s.length%2!=0)throw new Dr(Gt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<s.length;A+=2)l.push(y8(t,s[A])),c.push(s[A+1]);const u=[],d=Qc.empty();for(let A=l.length-1;A>=0;--A)if(!mle(u,l[A])){const g=l[A];let v=c[A];v=es(v);const x=a.yc(g);if(v instanceof gB)u.push(g);else{const y=FE(v,x);y!=null&&(u.push(g),d.set(g,y))}}const h=new Bu(u);return new fle(d,h,a.fieldTransforms)}function ZIe(e,t,r,n=!1){return FE(r,e.Cc(n?4:3,t))}function FE(e,t){if(gle(e=es(e)))return jM("Unsupported field value:",t,e),ple(e,t);if(e instanceof PE)return function(n,i){if(!hle(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(n,i){const s=[];let a=0;for(const l of n){let c=FE(l,i.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}}(e,t)}return function(n,i){if((n=es(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return UTe(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=fi.fromDate(n);return{timestampValue:A5(i.serializer,s)}}if(n instanceof fi){const s=new fi(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:A5(i.serializer,s)}}if(n instanceof cf)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof _u)return{bytesValue:Foe(i.serializer,n._byteString)};if(n instanceof Aa){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:fM(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof uf)return function(a,l){return{mapValue:{fields:{[loe]:{stringValue:uoe},[u5]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw l.Sc("VectorValues must only contain numeric values.");return lM(l.serializer,u)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${tB(n)}`)}(e,t)}function ple(e,t){const r={};return roe(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Rp(e,(n,i)=>{const s=FE(i,t.mc(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function gle(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof fi||e instanceof cf||e instanceof _u||e instanceof Aa||e instanceof PE||e instanceof uf)}function jM(e,t,r){if(!gle(r)||!eoe(r)){const n=tB(r);throw n==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+n)}}function y8(e,t,r){if((t=es(t))instanceof jE)return t._internalPath;if(typeof t=="string")return PM(e,t);throw v5("Field path arguments must be of type string or ",e,!1,void 0,r)}const JIe=new RegExp("[~\\*/\\[\\]]");function PM(e,t,r){if(t.search(JIe)>=0)throw v5(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new jE(...t.split("."))._internalPath}catch{throw v5(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function v5(e,t,r,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let l=`Function ${t}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${n}`),a&&(c+=` in document ${i}`),c+=")"),new Dr(Gt.INVALID_ARGUMENT,l+e+c)}function mle(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xle{constructor(t,r,n,i,s){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Aa(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new eke(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(mB("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class eke extends xle{data(){return super.data()}}function mB(e,t){return typeof t=="string"?PM(e,t):t instanceof jE?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vle(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Dr(Gt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FM{}class xB extends FM{}function Ai(e,t,...r){let n=[];t instanceof FM&&n.push(t),n=n.concat(r),function(s){const a=s.filter(c=>c instanceof vB).length,l=s.filter(c=>c instanceof OE).length;if(a>1||a>0&&l>0)throw new Dr(Gt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)e=i._apply(e);return e}class OE extends xB{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new OE(t,r,n)}_apply(t){const r=this._parse(t);return yle(t._query,r),new yh(t.firestore,t.converter,u8(t._query,r))}_parse(t){const r=pB(t.firestore);return function(s,a,l,c,u,d,h){let A;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Dr(Gt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){bz(h,d);const v=[];for(const x of h)v.push(wz(c,s,x));A={arrayValue:{values:v}}}else A=wz(c,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||bz(h,d),A=ZIe(l,a,h,d==="in"||d==="not-in");return fo.create(u,d,A)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function Xa(e,t,r){const n=t,i=mB("where",e);return OE._create(i,n,r)}class vB extends FM{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new vB(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:xf.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(i,s){let a=i;const l=s.getFlattenedFilters();for(const c of l)yle(a,c),a=u8(a,c)}(t._query,r),new yh(t.firestore,t.converter,u8(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yB extends xB{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new yB(t,r)}_apply(t){const r=function(i,s,a){if(i.startAt!==null)throw new Dr(Gt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Dr(Gt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Kb(s,a)}(t._query,this._field,this._direction);return new yh(t.firestore,t.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new By(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,r))}}function ia(e,t="asc"){const r=t,n=mB("orderBy",e);return yB._create(n,r)}class wB extends xB{constructor(t,r,n){super(),this.type=t,this._limit=r,this._limitType=n}static _create(t,r,n){return new wB(t,r,n)}_apply(t){return new yh(t.firestore,t.converter,f5(t._query,this._limit,this._limitType))}}function OM(e){return oTe("limit",e),wB._create("limit",e,"F")}function wz(e,t,r){if(typeof(r=es(r))=="string"){if(r==="")throw new Dr(Gt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xoe(t)&&r.indexOf("/")!==-1)throw new Dr(Gt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(Cs.fromString(r));if(!gn.isDocumentKey(n))throw new Dr(Gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return LV(e,new gn(n))}if(r instanceof Aa)return LV(e,r._key);throw new Dr(Gt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tB(r)}.`)}function bz(e,t){if(!Array.isArray(e)||e.length===0)throw new Dr(Gt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function yle(e,t){const r=function(i,s){for(const a of i)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Dr(Gt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Dr(Gt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class wle{convertValue(t,r="none"){switch(bp(t)){case 0:return null;case 1:return t.booleanValue;case 2:return za(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(wp(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw kn(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return Rp(t,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(t){var n,i,s;const r=(s=(i=(n=t.fields)==null?void 0:n[u5].arrayValue)==null?void 0:i.values)==null?void 0:s.map(a=>za(a.doubleValue));return new uf(r)}convertGeoPoint(t){return new cf(za(t.latitude),za(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=iB(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Gb(t));default:return null}}convertTimestamp(t){const r=yp(t);return new fi(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=Cs.fromString(t);Zi(Uoe(n),9688,{name:t});const i=new Ev(n.get(1),n.get(3)),s=new gn(n.popFirst(5));return i.isEqual(r)||CA(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ble(e,t,r){let n;return n=e?e.toFirestore(t):t,n}class Ax{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class sp extends xle{constructor(t,r,n,i,s,a){super(t,r,n,i,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new H2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(mB("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Dr(Gt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=sp._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}sp._jsonSchemaVersion="firestore/documentSnapshot/1.0",sp._jsonSchema={type:ho("string",sp._jsonSchemaVersion),bundleSource:ho("string","DocumentSnapshot"),bundleName:ho("string"),bundle:ho("string")};class H2 extends sp{data(t={}){return super.data(t)}}class ap{constructor(t,r,n,i){this._firestore=t,this._userDataWriter=r,this._snapshot=i,this.metadata=new Ax(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new H2(this._firestore,this._userDataWriter,n.key,n,new Ax(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Dr(Gt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(l=>{const c=new H2(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ax(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new H2(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ax(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return l.type!==0&&(u=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:tke(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Dr(Gt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ap._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=eB.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(r.push(s._document),n.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function tke(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return kn(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(e){e=wc(e,Aa);const t=wc(e.firestore,ph);return VIe(kE(t),e._key).then(r=>_le(t,e,r))}ap._jsonSchemaVersion="firestore/querySnapshot/1.0",ap._jsonSchema={type:ho("string",ap._jsonSchemaVersion),bundleSource:ho("string","QuerySnapshot"),bundleName:ho("string"),bundle:ho("string")};class DM extends wle{constructor(t){super(),this.firestore=t}convertBytes(t){return new _u(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Aa(this.firestore,null,r)}}function Si(e){e=wc(e,yh);const t=wc(e.firestore,ph),r=kE(t),n=new DM(t);return vle(e._query),zIe(r,e._query).then(i=>new ap(t,n,e,i))}function LM(e,t,r){e=wc(e,Aa);const n=wc(e.firestore,ph),i=ble(e.converter,t);return DE(n,[Ale(pB(n),"setDoc",e._key,i,e.converter!==null,r).toMutation(e._key,xd.none())])}function Ns(e,t,r,...n){e=wc(e,Aa);const i=wc(e.firestore,ph),s=pB(i);let a;return a=typeof(t=es(t))=="string"||t instanceof jE?YIe(s,"updateDoc",e._key,t,r,n):XIe(s,"updateDoc",e._key,t),DE(i,[a.toMutation(e._key,xd.exists(!0))])}function Yc(e){return DE(wc(e.firestore,ph),[new cM(e._key,xd.none())])}function ka(e,t){const r=wc(e.firestore,ph),n=pn(e),i=ble(e.converter,t);return DE(r,[Ale(pB(e.firestore),"addDoc",n._key,i,e.converter!==null,{}).toMutation(n._key,xd.exists(!1))]).then(()=>n)}function vs(e,...t){var c,u,d;e=es(e);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof t[n]!="object"||yz(t[n])||(r=t[n++]);const i={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(yz(t[n])){const h=t[n];t[n]=(c=h.next)==null?void 0:c.bind(h),t[n+1]=(u=h.error)==null?void 0:u.bind(h),t[n+2]=(d=h.complete)==null?void 0:d.bind(h)}let s,a,l;if(e instanceof Aa)a=wc(e.firestore,ph),l=sB(e._key.path),s={next:h=>{t[n]&&t[n](_le(a,e,h))},error:t[n+1],complete:t[n+2]};else{const h=wc(e,yh);a=wc(h.firestore,ph),l=h._query;const A=new DM(a);s={next:g=>{t[n]&&t[n](new ap(a,A,h,g))},error:t[n+1],complete:t[n+2]},vle(e._query)}return function(A,g,v,x){const y=new BM(x),w=new CM(g,y,v);return A.asyncQueue.enqueueAndForget(async()=>_M(await x5(A),w)),()=>{y.Nu(),A.asyncQueue.enqueueAndForget(async()=>EM(await x5(A),w))}}(kE(a),l,i,s)}function DE(e,t){return function(n,i){const s=new oA;return n.asyncQueue.enqueueAndForget(async()=>jIe(await $Ie(n),i,s)),s.promise}(kE(e),t)}function _le(e,t,r){const n=r.docs.get(t._key),i=new DM(e);return new sp(e,i,t._key,n,new Ax(r.hasPendingWrites,r.fromCache),t.converter)}function Yi(){return new kM("serverTimestamp")}(function(t,r=!0){(function(i){Cy=i})(Gm),gf(new Ed("firestore",(n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),l=new ph(new J3e(n.getProvider("auth-internal")),new rTe(a,n.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Dr(Gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ev(u.options.projectId,d)}(a,i),a);return s={useFetchStreams:r,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Xc(EV,SV,t),Xc(EV,SV,"esm2020")})();const f0=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:wle,Bytes:_u,CollectionReference:lA,DocumentReference:Aa,DocumentSnapshot:sp,FieldPath:jE,FieldValue:PE,Firestore:ph,FirestoreError:Dr,GeoPoint:cf,Query:yh,QueryCompositeFilterConstraint:vB,QueryConstraint:xB,QueryDocumentSnapshot:H2,QueryFieldFilterConstraint:OE,QueryLimitConstraint:wB,QueryOrderByConstraint:yB,QuerySnapshot:ap,SnapshotMetadata:Ax,Timestamp:fi,VectorValue:uf,_AutoId:eB,_ByteString:il,_DatabaseId:Ev,_DocumentKey:gn,_EmptyAuthCredentialsProvider:Yae,_FieldPath:el,_cast:wc,_logWarn:gm,_validateIsNotUsedTogether:Jae,addDoc:ka,collection:jr,connectFirestoreEmulator:ule,deleteDoc:Yc,doc:pn,ensureFirestoreConfigured:kE,executeWrite:DE,getDoc:ql,getDocs:Si,getFirestore:dle,limit:OM,onSnapshot:vs,orderBy:ia,query:Ai,serverTimestamp:Yi,setDoc:LM,updateDoc:Ns,where:Xa},Symbol.toStringTag,{value:"Module"}));var rke="firebase",nke="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xc(rke,nke,"app");const Ele="@firebase/installations",RM="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sle=1e4,Cle=`w:${RM}`,Nle="FIS_v2",ike="https://firebaseinstallations.googleapis.com/v1",ske=60*60*1e3,ake="installations",oke="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lke={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},xm=new zm(ake,oke,lke);function Tle(e){return e instanceof Td&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ble({projectId:e}){return`${ike}/projects/${e}/installations`}function Ile(e){return{token:e.token,requestStatus:2,expiresIn:uke(e.expiresIn),creationTime:Date.now()}}async function kle(e,t){const n=(await t.json()).error;return xm.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function jle({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function cke(e,{refreshToken:t}){const r=jle(e);return r.append("Authorization",dke(t)),r}async function Ple(e){const t=await e();return t.status>=500&&t.status<600?e():t}function uke(e){return Number(e.replace("s","000"))}function dke(e){return`${Nle} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fke({appConfig:e,heartbeatServiceProvider:t},{fid:r}){const n=Ble(e),i=jle(e),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={fid:r,authVersion:Nle,appId:e.appId,sdkVersion:Cle},l={method:"POST",headers:i,body:JSON.stringify(a)},c=await Ple(()=>fetch(n,l));if(c.ok){const u=await c.json();return{fid:u.fid||r,registrationStatus:2,refreshToken:u.refreshToken,authToken:Ile(u.authToken)}}else throw await kle("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fle(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hke(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ake=/^[cdef][\w-]{21}$/,w8="";function pke(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const r=gke(e);return Ake.test(r)?r:w8}catch{return w8}}function gke(e){return hke(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bB(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ole=new Map;function Dle(e,t){const r=bB(e);Lle(r,t),mke(r,t)}function Lle(e,t){const r=Ole.get(e);if(r)for(const n of r)n(t)}function mke(e,t){const r=xke();r&&r.postMessage({key:e,fid:t}),vke()}let Cg=null;function xke(){return!Cg&&"BroadcastChannel"in self&&(Cg=new BroadcastChannel("[Firebase] FID Change"),Cg.onmessage=e=>{Lle(e.data.key,e.data.fid)}),Cg}function vke(){Ole.size===0&&Cg&&(Cg.close(),Cg=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yke="firebase-installations-database",wke=1,vm="firebase-installations-store";let Ej=null;function MM(){return Ej||(Ej=aae(yke,wke,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(vm)}}})),Ej}async function y5(e,t){const r=bB(e),i=(await MM()).transaction(vm,"readwrite"),s=i.objectStore(vm),a=await s.get(r);return await s.put(t,r),await i.done,(!a||a.fid!==t.fid)&&Dle(e,t.fid),t}async function Rle(e){const t=bB(e),n=(await MM()).transaction(vm,"readwrite");await n.objectStore(vm).delete(t),await n.done}async function _B(e,t){const r=bB(e),i=(await MM()).transaction(vm,"readwrite"),s=i.objectStore(vm),a=await s.get(r),l=t(a);return l===void 0?await s.delete(r):await s.put(l,r),await i.done,l&&(!a||a.fid!==l.fid)&&Dle(e,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UM(e){let t;const r=await _B(e.appConfig,n=>{const i=bke(n),s=_ke(e,i);return t=s.registrationPromise,s.installationEntry});return r.fid===w8?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function bke(e){const t=e||{fid:pke(),registrationStatus:0};return Mle(t)}function _ke(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(xm.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=Eke(e,r);return{installationEntry:r,registrationPromise:n}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Ske(e)}:{installationEntry:t}}async function Eke(e,t){try{const r=await fke(e,t);return y5(e.appConfig,r)}catch(r){throw Tle(r)&&r.customData.serverCode===409?await Rle(e.appConfig):await y5(e.appConfig,{fid:t.fid,registrationStatus:0}),r}}async function Ske(e){let t=await _z(e.appConfig);for(;t.registrationStatus===1;)await Fle(100),t=await _z(e.appConfig);if(t.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await UM(e);return n||r}return t}function _z(e){return _B(e,t=>{if(!t)throw xm.create("installation-not-found");return Mle(t)})}function Mle(e){return Cke(e)?{fid:e.fid,registrationStatus:0}:e}function Cke(e){return e.registrationStatus===1&&e.registrationTime+Sle<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nke({appConfig:e,heartbeatServiceProvider:t},r){const n=Tke(e,r),i=cke(e,r),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={installation:{sdkVersion:Cle,appId:e.appId}},l={method:"POST",headers:i,body:JSON.stringify(a)},c=await Ple(()=>fetch(n,l));if(c.ok){const u=await c.json();return Ile(u)}else throw await kle("Generate Auth Token",c)}function Tke(e,{fid:t}){return`${Ble(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HM(e,t=!1){let r;const n=await _B(e.appConfig,s=>{if(!Ule(s))throw xm.create("not-registered");const a=s.authToken;if(!t&&kke(a))return s;if(a.requestStatus===1)return r=Bke(e,t),s;{if(!navigator.onLine)throw xm.create("app-offline");const l=Pke(s);return r=Ike(e,l),l}});return r?await r:n.authToken}async function Bke(e,t){let r=await Ez(e.appConfig);for(;r.authToken.requestStatus===1;)await Fle(100),r=await Ez(e.appConfig);const n=r.authToken;return n.requestStatus===0?HM(e,t):n}function Ez(e){return _B(e,t=>{if(!Ule(t))throw xm.create("not-registered");const r=t.authToken;return Fke(r)?{...t,authToken:{requestStatus:0}}:t})}async function Ike(e,t){try{const r=await Nke(e,t),n={...t,authToken:r};return await y5(e.appConfig,n),r}catch(r){if(Tle(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await Rle(e.appConfig);else{const n={...t,authToken:{requestStatus:0}};await y5(e.appConfig,n)}throw r}}function Ule(e){return e!==void 0&&e.registrationStatus===2}function kke(e){return e.requestStatus===2&&!jke(e)}function jke(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+ske}function Pke(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function Fke(e){return e.requestStatus===1&&e.requestTime+Sle<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oke(e){const t=e,{installationEntry:r,registrationPromise:n}=await UM(t);return n?n.catch(console.error):HM(t).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dke(e,t=!1){const r=e;return await Lke(r),(await HM(r,t)).token}async function Lke(e){const{registrationPromise:t}=await UM(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rke(e){if(!e||!e.options)throw Sj("App Configuration");if(!e.name)throw Sj("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!e.options[r])throw Sj(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Sj(e){return xm.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hle="installations",Mke="installations-internal",Uke=e=>{const t=e.getProvider("app").getImmediate(),r=Rke(t),n=Dp(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},Hke=e=>{const t=e.getProvider("app").getImmediate(),r=Dp(t,Hle).getImmediate();return{getId:()=>Oke(r),getToken:i=>Dke(r,i)}};function Qke(){gf(new Ed(Hle,Uke,"PUBLIC")),gf(new Ed(Mke,Hke,"PRIVATE"))}Qke();Xc(Ele,RM);Xc(Ele,RM,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5="analytics",$ke="firebase_id",Vke="origin",zke=60*1e3,Gke="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",QM="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new qT("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wke={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Fu=new zm("analytics","Analytics",Wke);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kke(e){if(!e.startsWith(QM)){const t=Fu.create("invalid-gtag-resource",{gtagURL:e});return bc.warn(t.message),""}return e}function Qle(e){return Promise.all(e.map(t=>t.catch(r=>r)))}function qke(e,t){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(e,t)),r}function Xke(e,t){const r=qke("firebase-js-sdk-policy",{createScriptURL:Kke}),n=document.createElement("script"),i=`${QM}?l=${e}&id=${t}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function Yke(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function Zke(e,t,r,n,i,s){const a=n[i];try{if(a)await t[a];else{const c=(await Qle(r)).find(u=>u.measurementId===i);c&&await t[c.appId]}}catch(l){bc.error(l)}e("config",i,s)}async function Jke(e,t,r,n,i){try{let s=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const l=await Qle(r);for(const c of a){const u=l.find(h=>h.measurementId===c),d=u&&t[u.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(t)),await Promise.all(s),e("event",n,i||{})}catch(s){bc.error(s)}}function eje(e,t,r,n){async function i(s,...a){try{if(s==="event"){const[l,c]=a;await Jke(e,t,r,l,c)}else if(s==="config"){const[l,c]=a;await Zke(e,t,r,n,l,c)}else if(s==="consent"){const[l,c]=a;e("consent",l,c)}else if(s==="get"){const[l,c,u]=a;e("get",l,c,u)}else if(s==="set"){const[l]=a;e("set",l)}else e(s,...a)}catch(l){bc.error(l)}}return i}function tje(e,t,r,n,i){let s=function(...a){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=eje(s,e,t,r),{gtagCore:s,wrappedGtag:window[i]}}function rje(e){const t=window.document.getElementsByTagName("script");for(const r of Object.values(t))if(r.src&&r.src.includes(QM)&&r.src.includes(e))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nje=30,ije=1e3;class sje{constructor(t={},r=ije){this.throttleMetadata=t,this.intervalMillis=r}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,r){this.throttleMetadata[t]=r}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const $le=new sje;function aje(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function oje(e){var a;const{appId:t,apiKey:r}=e,n={method:"GET",headers:aje(r)},i=Gke.replace("{app-id}",t),s=await fetch(i,n);if(s.status!==200&&s.status!==304){let l="";try{const c=await s.json();(a=c.error)!=null&&a.message&&(l=c.error.message)}catch{}throw Fu.create("config-fetch-failed",{httpStatus:s.status,responseMessage:l})}return s.json()}async function lje(e,t=$le,r){const{appId:n,apiKey:i,measurementId:s}=e.options;if(!n)throw Fu.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:n};throw Fu.create("no-api-key")}const a=t.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new dje;return setTimeout(async()=>{l.abort()},zke),Vle({appId:n,apiKey:i,measurementId:s},a,l,t)}async function Vle(e,{throttleEndTimeMillis:t,backoffCount:r},n,i=$le){var l;const{appId:s,measurementId:a}=e;try{await cje(n,t)}catch(c){if(a)return bc.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:s,measurementId:a};throw c}try{const c=await oje(e);return i.deleteThrottleMetadata(s),c}catch(c){const u=c;if(!uje(u)){if(i.deleteThrottleMetadata(s),a)return bc.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:a};throw c}const d=Number((l=u==null?void 0:u.customData)==null?void 0:l.httpStatus)===503?K$(r,i.intervalMillis,nje):K$(r,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:r+1};return i.setThrottleMetadata(s,h),bc.debug(`Calling attemptFetch again in ${d} millis`),Vle(e,h,n,i)}}function cje(e,t){return new Promise((r,n)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(r,i);e.addEventListener(()=>{clearTimeout(s),n(Fu.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function uje(e){if(!(e instanceof Td)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class dje{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function fje(e,t,r,n,i){if(i&&i.global){e("event",r,n);return}else{const s=await t,a={...n,send_to:s};e("event",r,a)}}async function hje(e,t,r,n){if(n&&n.global){const i={};for(const s of Object.keys(r))i[`user_properties.${s}`]=r[s];return e("set",i),Promise.resolve()}else{const i=await t;e("config",i,{update:!0,user_properties:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aje(){if(rae())try{await nae()}catch(e){return bc.warn(Fu.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return bc.warn(Fu.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function pje(e,t,r,n,i,s,a){const l=lje(e);l.then(A=>{r[A.measurementId]=A.appId,e.options.measurementId&&A.measurementId!==e.options.measurementId&&bc.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${A.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(A=>bc.error(A)),t.push(l);const c=Aje().then(A=>{if(A)return n.getId()}),[u,d]=await Promise.all([l,c]);rje(s)||Xke(s,u.measurementId),i("js",new Date);const h=(a==null?void 0:a.config)??{};return h[Vke]="firebase",h.update=!0,d!=null&&(h[$ke]=d),i("config",u.measurementId,h),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gje{constructor(t){this.app=t}_delete(){return delete Rx[this.app.options.appId],Promise.resolve()}}let Rx={},Sz=[];const Cz={};let Cj="dataLayer",mje="gtag",Nz,$M,Tz=!1;function xje(){const e=[];if(tae()&&e.push("This is a browser extension environment."),xNe()||e.push("Cookies are not available."),e.length>0){const t=e.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=Fu.create("invalid-analytics-context",{errorInfo:t});bc.warn(r.message)}}function vje(e,t,r){xje();const n=e.options.appId;if(!n)throw Fu.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)bc.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Fu.create("no-api-key");if(Rx[n]!=null)throw Fu.create("already-exists",{id:n});if(!Tz){Yke(Cj);const{wrappedGtag:s,gtagCore:a}=tje(Rx,Sz,Cz,Cj,mje);$M=s,Nz=a,Tz=!0}return Rx[n]=pje(e,Sz,Cz,t,Nz,Cj,r),new gje(e)}function yje(e=bE()){e=es(e);const t=Dp(e,w5);return t.isInitialized()?t.getImmediate():wje(e)}function wje(e,t={}){const r=Dp(e,w5);if(r.isInitialized()){const i=r.getImmediate();if(xp(t,r.getOptions()))return i;throw Fu.create("already-initialized")}return r.initialize({options:t})}function bje(e,t,r){e=es(e),hje($M,Rx[e.app.options.appId],t,r).catch(n=>bc.error(n))}function _je(e,t,r,n){e=es(e),fje($M,Rx[e.app.options.appId],t,r,n).catch(i=>bc.error(i))}const Bz="@firebase/analytics",Iz="0.10.19";function Eje(){gf(new Ed(w5,(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return vje(n,i,r)},"PUBLIC")),gf(new Ed("analytics-internal",e,"PRIVATE")),Xc(Bz,Iz),Xc(Bz,Iz,"esm2020");function e(t){try{const r=t.getProvider(w5).getImmediate();return{logEvent:(n,i,s)=>_je(r,n,i,s),setUserProperties:(n,i)=>bje(r,n,i)}}catch(r){throw Fu.create("interop-component-reg-failed",{reason:r})}}}Eje();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zle="firebasestorage.googleapis.com",Gle="storageBucket",Sje=2*60*1e3,Cje=10*60*1e3,Nje=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends Td{constructor(t,r,n=0){super(Nj(t),`Firebase Storage: ${r} (${Nj(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,aa.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Nj(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var js;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(js||(js={}));function Nj(e){return"storage/"+e}function VM(){const e="An unknown error occurred, please check the error payload for server response.";return new aa(js.UNKNOWN,e)}function Tje(e){return new aa(js.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function Bje(e){return new aa(js.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Ije(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new aa(js.UNAUTHENTICATED,e)}function kje(){return new aa(js.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function jje(e){return new aa(js.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function Wle(){return new aa(js.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Kle(){return new aa(js.CANCELED,"User canceled the upload/download.")}function Pje(e){return new aa(js.INVALID_URL,"Invalid URL '"+e+"'.")}function Fje(e){return new aa(js.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function Oje(){return new aa(js.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Gle+"' property when initializing the app?")}function qle(){return new aa(js.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Dje(){return new aa(js.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Lje(){return new aa(js.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Rje(e){return new aa(js.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function b5(e){return new aa(js.INVALID_ARGUMENT,e)}function Xle(){return new aa(js.APP_DELETED,"The Firebase app was deleted.")}function Yle(e){return new aa(js.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Q2(e,t){return new aa(js.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Sw(e){throw new aa(js.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let n;try{n=Kl.makeFromUrl(t,r)}catch{return new Kl(t,"")}if(n.path==="")return n;throw Fje(t)}static makeFromUrl(t,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function s(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function u(I){I.path_=decodeURIComponent(I.path)}const d="v[A-Za-z0-9_]+",h=r.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${d}/b/${i}/o${A}`,"i"),v={bucket:1,path:3},x=r===zle?"(?:storage.googleapis.com|storage.cloud.google.com)":r,y="([^?#]*)",w=new RegExp(`^https?://${x}/${i}/${y}`,"i"),E=[{regex:l,indices:c,postModify:s},{regex:g,indices:v,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let I=0;I<E.length;I++){const N=E[I],j=N.regex.exec(t);if(j){const T=j[N.indices.bucket];let P=j[N.indices.path];P||(P=""),n=new Kl(T,P),N.postModify(n);break}}if(n==null)throw Pje(t);return n}}class Mje{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uje(e,t,r){let n=1,i=null,s=null,a=!1,l=0;function c(){return l===2}let u=!1;function d(...y){u||(u=!0,t.apply(null,y))}function h(y){i=setTimeout(()=>{i=null,e(g,c())},y)}function A(){s&&clearTimeout(s)}function g(y,...w){if(u){A();return}if(y){A(),d.call(null,y,...w);return}if(c()||a){A(),d.call(null,y,...w);return}n<64&&(n*=2);let E;l===1?(l=2,E=0):E=(n+Math.random())*1e3,h(E)}let v=!1;function x(y){v||(v=!0,A(),!u&&(i!==null?(y||(l=2),clearTimeout(i),h(0)):y||(l=1)))}return h(0),s=setTimeout(()=>{a=!0,x(!0)},r),x}function Hje(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qje(e){return e!==void 0}function $je(e){return typeof e=="function"}function Vje(e){return typeof e=="object"&&!Array.isArray(e)}function EB(e){return typeof e=="string"||e instanceof String}function kz(e){return zM()&&e instanceof Blob}function zM(){return typeof Blob<"u"}function b8(e,t,r,n){if(n<t)throw b5(`Invalid value for '${e}'. Expected ${t} or greater.`);if(n>r)throw b5(`Invalid value for '${e}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(e,t,r){let n=t;return r==null&&(n=`https://${t}`),`${r}://${n}/v0${e}`}function Zle(e){const t=encodeURIComponent;let r="?";for(const n in e)if(e.hasOwnProperty(n)){const i=t(n)+"="+t(e[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Kg;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Kg||(Kg={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jle(e,t){const r=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return r||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zje{constructor(t,r,n,i,s,a,l,c,u,d,h,A=!0,g=!1){this.url_=t,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=A,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,x)=>{this.resolve_=v,this.reject_=x,this.start_()})}start_(){const t=(n,i)=>{if(i){n(!1,new lC(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const l=s.getErrorCode()===Kg.NO_ERROR,c=s.getStatus();if(!l||Jle(c,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===Kg.ABORT;n(!1,new lC(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;n(!0,new lC(u,s))})},r=(n,i)=>{const s=this.resolve_,a=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());Qje(c)?s(c):s()}catch(c){a(c)}else if(l!==null){const c=VM();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(i.canceled){const c=this.appDelete_?Xle():Kle();a(c)}else{const c=Wle();a(c)}};this.canceled_?r(!1,new lC(!1,null,!0)):this.backoffId_=Uje(t,r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Hje(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class lC{constructor(t,r,n){this.wasSuccessCode=t,this.connection=r,this.canceled=!!n}}function Gje(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Wje(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Kje(e,t){t&&(e["X-Firebase-GMPID"]=t)}function qje(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Xje(e,t,r,n,i,s,a=!0,l=!1){const c=Zle(e.urlParams),u=e.url+c,d=Object.assign({},e.headers);return Kje(d,t),Gje(d,r),Wje(d,s),qje(d,n),new zje(u,e.method,d,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yje(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Zje(...e){const t=Yje();if(t!==void 0){const r=new t;for(let n=0;n<e.length;n++)r.append(e[n]);return r.getBlob()}else{if(zM())return new Blob(e);throw new aa(js.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Jje(e,t,r){return e.webkitSlice?e.webkitSlice(t,r):e.mozSlice?e.mozSlice(t,r):e.slice?e.slice(t,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6e(e){if(typeof atob>"u")throw Rje("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Tj{constructor(t,r){this.data=t,this.contentType=r||null}}function ece(e,t){switch(e){case rf.RAW:return new Tj(tce(t));case rf.BASE64:case rf.BASE64URL:return new Tj(rce(e,t));case rf.DATA_URL:return new Tj(r6e(t),n6e(t))}throw VM()}function tce(e){const t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(n<=127)t.push(n);else if(n<=2047)t.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<e.length-1&&(e.charCodeAt(r+1)&64512)===56320))t.push(239,191,189);else{const s=n,a=e.charCodeAt(++r);n=65536|(s&1023)<<10|a&1023,t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?t.push(239,191,189):t.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(t)}function t6e(e){let t;try{t=decodeURIComponent(e)}catch{throw Q2(rf.DATA_URL,"Malformed data URL.")}return tce(t)}function rce(e,t){switch(e){case rf.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw Q2(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case rf.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw Q2(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=e6e(t)}catch(i){throw i.message.includes("polyfill")?i:Q2(e,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class nce{constructor(t){this.base64=!1,this.contentType=null;const r=t.match(/^data:([^,]+)?,/);if(r===null)throw Q2(rf.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=i6e(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=t.substring(t.indexOf(",")+1)}}function r6e(e){const t=new nce(e);return t.base64?rce(rf.BASE64,t.rest):t6e(t.rest)}function n6e(e){return new nce(e).contentType}function i6e(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(t,r){let n=0,i="";kz(t)?(this.data_=t,n=t.size,i=t.type):t instanceof ArrayBuffer?(r?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(r?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,r){if(kz(this.data_)){const n=this.data_,i=Jje(n,t,r);return i===null?null:new Uf(i)}else{const n=new Uint8Array(this.data_.buffer,t,r-t);return new Uf(n,!0)}}static getBlob(...t){if(zM()){const r=t.map(n=>n instanceof Uf?n.data_:n);return new Uf(Zje.apply(null,r))}else{const r=t.map(a=>EB(a)?ece(rf.RAW,a).data:a.data_);let n=0;r.forEach(a=>{n+=a.byteLength});const i=new Uint8Array(n);let s=0;return r.forEach(a=>{for(let l=0;l<a.length;l++)i[s++]=a[l]}),new Uf(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(e){let t;try{t=JSON.parse(e)}catch{return null}return Vje(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6e(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function a6e(e,t){const r=t.split("/").filter(n=>n.length>0).join("/");return e.length===0?r:e+"/"+r}function ice(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6e(e,t){return t}class oc{constructor(t,r,n,i){this.server=t,this.local=r||t,this.writable=!!n,this.xform=i||o6e}}let cC=null;function l6e(e){return!EB(e)||e.length<2?e:ice(e)}function SB(){if(cC)return cC;const e=[];e.push(new oc("bucket")),e.push(new oc("generation")),e.push(new oc("metageneration")),e.push(new oc("name","fullPath",!0));function t(s,a){return l6e(a)}const r=new oc("name");r.xform=t,e.push(r);function n(s,a){return a!==void 0?Number(a):a}const i=new oc("size");return i.xform=n,e.push(i),e.push(new oc("timeCreated")),e.push(new oc("updated")),e.push(new oc("md5Hash",null,!0)),e.push(new oc("cacheControl",null,!0)),e.push(new oc("contentDisposition",null,!0)),e.push(new oc("contentEncoding",null,!0)),e.push(new oc("contentLanguage",null,!0)),e.push(new oc("contentType",null,!0)),e.push(new oc("metadata","customMetadata",!0)),cC=e,cC}function c6e(e,t){function r(){const n=e.bucket,i=e.fullPath,s=new Kl(n,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:r})}function u6e(e,t,r){const n={};n.type="file";const i=r.length;for(let s=0;s<i;s++){const a=r[s];n[a.local]=a.xform(n,t[a.server])}return c6e(n,e),n}function sce(e,t,r){const n=GM(t);return n===null?null:u6e(e,n,r)}function d6e(e,t,r,n){const i=GM(t);if(i===null||!EB(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(u=>{const d=e.bucket,h=e.fullPath,A="/b/"+a(d)+"/o/"+a(h),g=Xm(A,r,n),v=Zle({alt:"media",token:u});return g+v})[0]}function ace(e,t){const r={},n=t.length;for(let i=0;i<n;i++){const s=t[i];s.writable&&(r[s.server]=e[s.local])}return JSON.stringify(r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz="prefixes",Pz="items";function f6e(e,t,r){const n={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r[jz])for(const i of r[jz]){const s=i.replace(/\/$/,""),a=e._makeStorageReference(new Kl(t,s));n.prefixes.push(a)}if(r[Pz])for(const i of r[Pz]){const s=e._makeStorageReference(new Kl(t,i.name));n.items.push(s)}return n}function h6e(e,t,r){const n=GM(r);return n===null?null:f6e(e,t,n)}class Up{constructor(t,r,n,i){this.url=t,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(e){if(!e)throw VM()}function WM(e,t){function r(n,i){const s=sce(e,i,t);return nh(s!==null),s}return r}function A6e(e,t){function r(n,i){const s=h6e(e,t,i);return nh(s!==null),s}return r}function p6e(e,t){function r(n,i){const s=sce(e,i,t);return nh(s!==null),d6e(s,i,e.host,e._protocol)}return r}function ky(e){function t(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=kje():i=Ije():r.getStatus()===402?i=Bje(e.bucket):r.getStatus()===403?i=jje(e.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return t}function KM(e){const t=ky(e);function r(n,i){let s=t(n,i);return n.getStatus()===404&&(s=Tje(e.path)),s.serverResponse=i.serverResponse,s}return r}function oce(e,t,r){const n=t.fullServerUrl(),i=Xm(n,e.host,e._protocol),s="GET",a=e.maxOperationRetryTime,l=new Up(i,s,WM(e,r),a);return l.errorHandler=KM(t),l}function g6e(e,t,r,n,i){const s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",r.length>0&&(s.delimiter=r),n&&(s.pageToken=n),i&&(s.maxResults=i);const a=t.bucketOnlyServerUrl(),l=Xm(a,e.host,e._protocol),c="GET",u=e.maxOperationRetryTime,d=new Up(l,c,A6e(e,t.bucket),u);return d.urlParams=s,d.errorHandler=ky(t),d}function m6e(e,t,r){const n=t.fullServerUrl(),i=Xm(n,e.host,e._protocol),s="GET",a=e.maxOperationRetryTime,l=new Up(i,s,p6e(e,r),a);return l.errorHandler=KM(t),l}function x6e(e,t){const r=t.fullServerUrl(),n=Xm(r,e.host,e._protocol),i="DELETE",s=e.maxOperationRetryTime;function a(c,u){}const l=new Up(n,i,a,s);return l.successCodes=[200,204],l.errorHandler=KM(t),l}function v6e(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function lce(e,t,r){const n=Object.assign({},r);return n.fullPath=e.path,n.size=t.size(),n.contentType||(n.contentType=v6e(null,t)),n}function cce(e,t,r,n,i){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){let E="";for(let I=0;I<2;I++)E=E+Math.random().toString().slice(2);return E}const c=l();a["Content-Type"]="multipart/related; boundary="+c;const u=lce(t,n,i),d=ace(u,r),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,A=`\r
--`+c+"--",g=Uf.getBlob(h,n,A);if(g===null)throw qle();const v={name:u.fullPath},x=Xm(s,e.host,e._protocol),y="POST",w=e.maxUploadRetryTime,_=new Up(x,y,WM(e,r),w);return _.urlParams=v,_.headers=a,_.body=g.uploadData(),_.errorHandler=ky(t),_}class _5{constructor(t,r,n,i){this.current=t,this.total=r,this.finalized=!!n,this.metadata=i||null}}function qM(e,t){let r=null;try{r=e.getResponseHeader("X-Goog-Upload-Status")}catch{nh(!1)}return nh(!!r&&(t||["active"]).indexOf(r)!==-1),r}function y6e(e,t,r,n,i){const s=t.bucketOnlyServerUrl(),a=lce(t,n,i),l={name:a.fullPath},c=Xm(s,e.host,e._protocol),u="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},h=ace(a,r),A=e.maxUploadRetryTime;function g(x){qM(x);let y;try{y=x.getResponseHeader("X-Goog-Upload-URL")}catch{nh(!1)}return nh(EB(y)),y}const v=new Up(c,u,g,A);return v.urlParams=l,v.headers=d,v.body=h,v.errorHandler=ky(t),v}function w6e(e,t,r,n){const i={"X-Goog-Upload-Command":"query"};function s(u){const d=qM(u,["active","final"]);let h=null;try{h=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{nh(!1)}h||nh(!1);const A=Number(h);return nh(!isNaN(A)),new _5(A,n.size(),d==="final")}const a="POST",l=e.maxUploadRetryTime,c=new Up(r,a,s,l);return c.headers=i,c.errorHandler=ky(t),c}const Fz=256*1024;function b6e(e,t,r,n,i,s,a,l){const c=new _5(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=n.size()),n.size()!==c.total)throw Dje();const u=c.total-c.current;let d=u;i>0&&(d=Math.min(d,i));const h=c.current,A=h+d;let g="";d===0?g="finalize":u===d?g="upload, finalize":g="upload";const v={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":`${c.current}`},x=n.slice(h,A);if(x===null)throw qle();function y(I,N){const j=qM(I,["active","final"]),T=c.current+d,P=n.size();let k;return j==="final"?k=WM(t,s)(I,N):k=null,new _5(T,P,j==="final",k)}const w="POST",_=t.maxUploadRetryTime,E=new Up(r,w,y,_);return E.headers=v,E.body=x.uploadData(),E.progressCallback=l||null,E.errorHandler=ky(e),E}const dc={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Bj(e){switch(e){case"running":case"pausing":case"canceling":return dc.RUNNING;case"paused":return dc.PAUSED;case"success":return dc.SUCCESS;case"canceled":return dc.CANCELED;case"error":return dc.ERROR;default:return dc.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6e{constructor(t,r,n){if($je(t)||r!=null||n!=null)this.next=t,this.error=r??void 0,this.complete=n??void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(e){return(...t)=>{Promise.resolve().then(()=>e(...t))}}class E6e{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Kg.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Kg.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Kg.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,r,n,i,s){if(this.sent_)throw Sw("cannot .send() more than once");if(Op(t)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(r,t,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Sw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Sw("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Sw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Sw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class S6e extends E6e{initXhr(){this.xhr_.responseType="text"}}function Hf(){return new S6e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uce{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(t,r,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=r,this._metadata=n,this._mappings=SB(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(js.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(Jle(i.status,[]))if(s)i=Wle();else{this.sleepTime=Math.max(this.sleepTime*2,Nje),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(js.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return r=>this._updateProgress(t+r)}_shouldDoResumable(t){return t.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([r,n])=>{switch(this._state){case"running":t(r,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((t,r)=>{const n=y6e(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,Hf,t,r);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((r,n)=>{const i=w6e(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(i,Hf,r,n);this._request=s,s.getPromise().then(a=>{a=a,this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=Fz*this._chunkMultiplier,r=new _5(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((i,s)=>{let a;try{a=b6e(this._ref._location,this._ref.storage,n,this._blob,t,this._mappings,r,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}const l=this._ref.storage._makeRequest(a,Hf,i,s,!1);this._request=l,l.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Fz*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,r)=>{const n=oce(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(n,Hf,t,r);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,r)=>{const n=cce(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,Hf,t,r);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const r=this._transferred;this._transferred=t,this._transferred!==r&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const r=this._state==="paused";this._state=t,r&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Kle(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const t=Bj(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,r,n,i){const s=new _6e(r||void 0,n||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,r){return this._promise.then(t,r)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const r=this._observers.indexOf(t);r!==-1&&this._observers.splice(r,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(r=>{this._notifyObserver(r)})}_finishPromise(){if(this._resolve!==void 0){let t=!0;switch(Bj(this._state)){case dc.SUCCESS:m1(this._resolve.bind(null,this.snapshot))();break;case dc.CANCELED:case dc.ERROR:const r=this._reject;m1(r.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(Bj(this._state)){case dc.RUNNING:case dc.PAUSED:t.next&&m1(t.next.bind(t,this.snapshot))();break;case dc.SUCCESS:t.complete&&m1(t.complete.bind(t))();break;case dc.CANCELED:case dc.ERROR:t.error&&m1(t.error.bind(t,this._error))();break;default:t.error&&m1(t.error.bind(t,this._error))()}}resume(){const t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t}pause(){const t=this._state==="running";return t&&this._transition("pausing"),t}cancel(){const t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(t,r){this._service=t,r instanceof Kl?this._location=r:this._location=Kl.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new ym(t,r)}get root(){const t=new Kl(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ice(this._location.path)}get storage(){return this._service}get parent(){const t=s6e(this._location.path);if(t===null)return null;const r=new Kl(this._location.bucket,t);return new ym(this._service,r)}_throwIfRoot(t){if(this._location.path==="")throw Yle(t)}}function C6e(e,t,r){e._throwIfRoot("uploadBytes");const n=cce(e.storage,e._location,SB(),new Uf(t,!0),r);return e.storage.makeRequestWithTokens(n,Hf).then(i=>({metadata:i,ref:e}))}function N6e(e,t,r){return e._throwIfRoot("uploadBytesResumable"),new uce(e,new Uf(t),r)}function T6e(e){const t={prefixes:[],items:[]};return dce(e,t).then(()=>t)}async function dce(e,t,r){const i=await B6e(e,{pageToken:r});t.prefixes.push(...i.prefixes),t.items.push(...i.items),i.nextPageToken!=null&&await dce(e,t,i.nextPageToken)}function B6e(e,t){t!=null&&typeof t.maxResults=="number"&&b8("options.maxResults",1,1e3,t.maxResults);const r=t||{},n=g6e(e.storage,e._location,"/",r.pageToken,r.maxResults);return e.storage.makeRequestWithTokens(n,Hf)}function I6e(e){e._throwIfRoot("getMetadata");const t=oce(e.storage,e._location,SB());return e.storage.makeRequestWithTokens(t,Hf)}function k6e(e){e._throwIfRoot("getDownloadURL");const t=m6e(e.storage,e._location,SB());return e.storage.makeRequestWithTokens(t,Hf).then(r=>{if(r===null)throw Lje();return r})}function j6e(e){e._throwIfRoot("deleteObject");const t=x6e(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Hf)}function P6e(e,t){const r=a6e(e._location.path,t),n=new Kl(e._location.bucket,r);return new ym(e.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6e(e){return/^[A-Za-z]+:\/\//.test(e)}function O6e(e,t){return new ym(e,t)}function fce(e,t){if(e instanceof XM){const r=e;if(r._bucket==null)throw Oje();const n=new ym(r,r._bucket);return t!=null?fce(n,t):n}else return t!==void 0?P6e(e,t):e}function D6e(e,t){if(t&&F6e(t)){if(e instanceof XM)return O6e(e,t);throw b5("To use ref(service, url), the first argument must be a Storage instance.")}else return fce(e,t)}function Oz(e,t){const r=t==null?void 0:t[Gle];return r==null?null:Kl.makeFromBucketSpec(r,e)}function L6e(e,t,r,n={}){e.host=`${t}:${r}`;const i=Op(t);i&&(zR(`https://${e.host}/b`),GR("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:s}=n;s&&(e._overrideAuthToken=typeof s=="string"?s:eae(s,e.app.options.projectId))}class XM{constructor(t,r,n,i,s,a=!1){this.app=t,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=zle,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Sje,this._maxUploadRetryTime=Cje,this._requests=new Set,i!=null?this._bucket=Kl.makeFromBucketSpec(i,this._host):this._bucket=Oz(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Kl.makeFromBucketSpec(this._url,t):this._bucket=Oz(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){b8("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){b8("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const r=await t.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(ld(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ym(this,t)}_makeRequest(t,r,n,i,s=!0){if(this._deleted)return new Mje(Xle());{const a=Xje(t,this._appId,n,i,r,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(t,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,r,n,i).getPromise()}}const Dz="@firebase/storage",Lz="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hce="storage";function Bv(e,t,r){return e=es(e),C6e(e,t,r)}function _8(e,t,r){return e=es(e),N6e(e,t,r)}function Ace(e){return e=es(e),I6e(e)}function pce(e){return e=es(e),T6e(e)}function nf(e){return e=es(e),k6e(e)}function Iv(e){return e=es(e),j6e(e)}function pc(e,t){return e=es(e),D6e(e,t)}function gce(e=bE(),t){e=es(e);const n=Dp(e,hce).getImmediate({identifier:t}),i=Yse("storage");return i&&mce(n,...i),n}function mce(e,t,r,n={}){L6e(e,t,r,n)}function R6e(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),n=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new XM(r,n,i,t,Gm)}function M6e(){gf(new Ed(hce,R6e,"PUBLIC").setMultipleInstances(!0)),Xc(Dz,Lz,""),Xc(Dz,Lz,"esm2020")}M6e();const U6e=Object.freeze(Object.defineProperty({__proto__:null,StorageError:aa,get StorageErrorCode(){return js},StringFormat:rf,_FbsBlob:Uf,_Location:Kl,_TaskState:dc,_UploadTask:uce,_dataFromString:ece,_invalidArgument:b5,_invalidRootOperation:Yle,connectStorageEmulator:mce,deleteObject:Iv,getDownloadURL:nf,getMetadata:Ace,getStorage:gce,listAll:pce,ref:pc,uploadBytes:Bv,uploadBytesResumable:_8},Symbol.toStringTag,{value:"Module"})),xce={apiKey:"AIzaSyB157Scv_vGJC9vc5fTAPF0g2xQlRx5nL8",authDomain:"datta-enterprises.firebaseapp.com",projectId:"datta-enterprises",storageBucket:"datta-enterprises.firebasestorage.app",messagingSenderId:"200799303242",appId:"1:200799303242:web:ef10069d521647b19158b3",measurementId:"G-ZWEJSZY6JX"},CB=N4e().length?bE():oae(xce),Et=dle(CB),Js=gce(CB),Ij=X3e(CB);console.log(" Firebase Storage initialized with bucket:",xce.storageBucket);yje(CB);const vce=C.createContext(void 0),H6e=({children:e})=>{const[t,r]=C.useState(!1),[n,i]=C.useState(null),[s,a]=C.useState(null),[l,c]=C.useState(null),[u,d]=C.useState(!0),h=ds(),A=()=>{sessionStorage.removeItem("tempUserRole"),sessionStorage.removeItem("tempUserName"),sessionStorage.removeItem("tempSession")},g=y=>y==="admin@dattaenterprises.com"?{role:"superadmin",name:"Super Admin"}:y==="dattaenterprises@jath.com"?{role:"jath",name:"Jath Office"}:y==="sangli@dattaenterprises.com"?{role:"sangli",name:"Sangli Office"}:y==="latur@dattaenterprises.com"?{role:"latur",name:"Latur Office"}:{role:"user",name:"User"};C.useEffect(()=>{const y=()=>{const E=localStorage.getItem("isAuthenticated"),I=localStorage.getItem("isLoggedIn"),N=localStorage.getItem("userRole"),j=localStorage.getItem("userName");return E||I?(r(!0),i(N||"user"),a(j||"User"),console.log(" User authenticated from localStorage:",{role:N,name:j}),d(!1),!0):!1};if(y())return;const w=R5e(Ij,E=>{if(A(),E&&E.email){console.log(" Firebase user authenticated:",E.email);const{role:I,name:N}=g(E.email);c(E),r(!0),i(I),a(N),console.log(" User role set:",{email:E.email,role:I,name:N})}else console.log(" No user authenticated"),c(null),r(!1),i(null),a(null);d(!1)}),_=()=>{console.log(" Storage changed, reloading auth state"),y()};return window.addEventListener("authStateChanged",_),()=>{w(),window.removeEventListener("authStateChanged",_)}},[]);const v=async(y,w)=>{try{const E=(await O5e(Ij,y,w)).user,I=await ql(pn(Et,"users",E.uid));let N="user",j=E.email||"User";if(I.exists()){const P=I.data();N=P.role||"user",j=P.name||E.email||"User"}const T=`${E.uid}_${Date.now()}`;return await LM(pn(Et,"login_history",T),{userId:E.uid,email:E.email,role:N,loginTime:new Date,status:"active",sessionId:T}),console.log(" User logged in successfully:",{email:y,role:N,name:j}),{success:!0,role:N,name:j}}catch(_){return console.error(" Login failed:",_),{success:!1,error:_.message}}},x=async()=>{try{if(l){const _=await ml(async()=>{const{query:N,collection:j,where:T,getDocs:P,updateDoc:k,serverTimestamp:R}=await Promise.resolve().then(()=>f0);return{query:N,collection:j,where:T,getDocs:P,updateDoc:k,serverTimestamp:R}},void 0).then(({query:N,collection:j,where:T,getDocs:P,updateDoc:k,serverTimestamp:R})=>P(N(j(Et,"login_history"),T("userId","==",l.uid),T("status","==","active")))),{updateDoc:E,serverTimestamp:I}=await ml(async()=>{const{updateDoc:N,serverTimestamp:j}=await Promise.resolve().then(()=>f0);return{updateDoc:N,serverTimestamp:j}},void 0);_.forEach(async N=>{await E(N.ref,{logoutTime:I(),status:"completed"})})}const y=localStorage.getItem("userRole"),w=localStorage.getItem("loginTime");if(y&&w){const _=JSON.parse(localStorage.getItem("loginSessions")||"[]"),E=new Date(w),I=new Date,N=_.findIndex(j=>j.role===y&&j.logoutTime===null&&j.date===E.toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"2-digit"}));if(N!==-1){const j=Math.floor((I.getTime()-E.getTime())/6e4),T=Math.floor(j/60),P=j%60;_[N].logoutTime=I.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}),_[N].duration=T>0?`${T}h ${P}m`:`${P}m`,localStorage.setItem("loginSessions",JSON.stringify(_))}}localStorage.removeItem("isAuthenticated"),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userRole"),localStorage.removeItem("userName"),localStorage.removeItem("loginTime"),await M5e(Ij),console.log(" User logged out successfully"),r(!1),i(null),a(null),c(null),h("/login",{replace:!0})}catch(y){console.error(" Logout failed:",y)}};return o.jsx(vce.Provider,{value:{isAuthenticated:t,userRole:n,userName:s,user:l,loading:u,loginWithEmail:v,logout:x},children:e})},jy=()=>{const e=C.useContext(vce);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},YM=pE("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-gradient-to-r from-primary to-primary-glow text-primary-foreground hover:shadow-[var(--shadow-hover)] hover:scale-105",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),et=C.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},s)=>{const a=n?v2e:"button";return o.jsx(a,{className:Zr(YM({variant:t,size:r,className:e})),ref:s,...i})});et.displayName="Button";const Q6e=({children:e})=>{var Y;const t=ds(),{userRole:r,userName:n,logout:i}=jy(),[s,a]=C.useState(!0),[l,c]=C.useState(!1),[u,d]=C.useState(!1),[h,A]=C.useState(0),[g,v]=C.useState(0),[x,y]=C.useState(0),[w,_]=C.useState(0),[E,I]=C.useState(0),[N,j]=C.useState(0),[T,P]=C.useState(0),k=Vm();C.useEffect(()=>{const ne=localStorage.getItem("isAuthenticated"),le=localStorage.getItem("isLoggedIn");if(!ne&&!le)console.log(" Not authenticated, redirecting to login"),t("/");else{console.log(" User is authenticated");const te=r||localStorage.getItem("userRole"),X=localStorage.getItem("isBillingUser")==="true";(k.pathname==="/"||k.pathname==="/login"||k.pathname==="/billing-login")&&(console.log(" Checking redirect for role:",te,"isBillingUser:",X),te==="billing"||te==="billing_admin"||X?(console.log(" Billing user detected, redirecting to billing dashboard"),t("/billing/dashboard")):te==="superadmin"?(console.log(" Admin detected, redirecting to dashboard"),t("/dashboard")):te==="latur"?(console.log(" Latur user detected, redirecting to latur-operator"),t("/latur-operator")):te==="sangli"?(console.log(" Sangli user detected, redirecting to sangli-operator"),t("/sangli-operator")):te==="jath"?(console.log(" Jath user detected, redirecting to jath-operator"),t("/jath-operator")):(console.log(" Default user, redirecting to dashboard"),t("/dashboard")))}},[t,r,k.pathname]);const R=async()=>{console.log(" Logging out user..."),await i(),window.location.href="https://shreedattaenterprises.com/superadmin"};C.useEffect(()=>{const ne=jr(Et,"latur_operator_tharvas"),le=Ai(ne,Xa("read","==",!1)),te=Ai(ne,Xa("bidNumber","!=",null)),X=Ai(ne,ia("createdAt","desc")),ue=vs(le,de=>{A(de.size)}),ve=vs(te,de=>{j(de.size)}),V=vs(X,de=>{let Ae=0,_e=0,ye=0,ce=0;console.log(" Firebase Snapshot - Total docs:",de.size),de.forEach(Ne=>{const oe=Ne.data(),We=oe.downloaded===!0,Re=oe.type==="direct_khardi";console.log(" Doc:",Ne.id,"Type:",oe.type||"regular","Downloaded:",We,"Village:",oe.village),Re?(ce++,We||ye++):(_e++,We||Ae++)}),v(Ae),y(_e),_(ye),I(ce),console.log(" Regular THARVAs:",Ae,"/",_e),console.log(" Direct Khardi:",ye,"/",ce),console.log(" Total undownloaded:",Ae+ye)}),q=jr(Et,"Enquiries"),ee=Ai(q,Xa("status","==","submitted")),re=vs(ee,de=>{P(de.size),console.log(" Pending enquiries count:",de.size)});return()=>{ue(),ve(),re(),V()}},[]);let O=[];const M=r||localStorage.getItem("userRole"),H=localStorage.getItem("isBillingUser")==="true";if(console.log("AdminLayout userRole:",r,"currentRole:",M,"type:",typeof M),console.log(" localStorage check:",{userRole:localStorage.getItem("userRole"),userName:localStorage.getItem("userName"),isAuthenticated:localStorage.getItem("isAuthenticated"),isBillingUser:localStorage.getItem("isBillingUser")}),M==="billing"||M==="billing_admin"||H)O=[{path:"/billing/software",label:"BILLING SOFTWARE",icon:ja,badge:null},{path:"/billing/dashboard",label:"BILLING DASHBOARD",icon:bw,badge:null},{path:"/delivery-boys",label:"DELIVERY BOYS",icon:fh,badge:null}];else if(M==="sangli")O=[{path:"/dashboard",label:"DASHBOARD",icon:bw,badge:null},{path:"/lgd-info",label:"SHREE",icon:P2,badge:null},{path:"/sales-history",label:"SALES HISTORY",icon:GN,badge:null},{path:"/bid-status",label:"SUBMITTED BIDS",icon:Is,badge:N||null}];else if(M==="jath")O=[{path:"/dashboard",label:"DASHBOARD",icon:bw,badge:null},{path:"/lgd-info",label:"SHREE",icon:P2,badge:null},{path:"/sales-history",label:"SALES HISTORY",icon:GN,badge:null},{path:"/bid-status",label:"SUBMITTED BIDS",icon:Is,badge:N||null}];else if(M==="latur"){const ne=g+w;console.log(" Latur Badge - Undownloaded:",ne,"Regular:",g,"Direct:",w),O=[{path:"/latur-operator",label:"LATUR OPERATOR",icon:ZS,badge:ne>0?ne:null},{path:"/bid-status",label:"BID STATUS",icon:Is,badge:N||null}]}else if(M==="superadmin"){const ne=g+w;console.log(" Superadmin Badge - Undownloaded:",ne,"Regular:",g,"Direct:",w),O=[{path:"/dashboard",label:"DASHBOARD",icon:bw,badge:null},{path:"/inquiries",label:"INQUIRIES",icon:dm,badge:T||null},{path:"/lgd-info",label:"SHREE",icon:P2,badge:null},{path:"/sales-history",label:"SALES HISTORY",icon:GN,badge:null},{path:"/bid-status",label:"SUBMITTED BIDS",icon:Is,badge:N||null},{path:"/sangli-office",label:"SANGLI OFFICE",icon:ZS,badge:null},{path:"/jath-office",label:"JATH OFFICE",icon:ZS,badge:null},{path:"/latur-office",label:"LATUR OFFICE",icon:ZS,badge:ne>0?ne:null},{path:"/certifications",label:"CERTIFICATIONS",icon:ube,badge:null},{path:"/delivery-boys",label:"DELIVERY BOYS",icon:fh,badge:null},{path:"/location-tracker",label:"LOCATION TRACKER",icon:TR,badge:null},{path:"/billing/software",label:"SOFTWARE BILLING",icon:ja,badge:null}]}else O=[{path:"/dashboard",label:"DASHBOARD",icon:bw,badge:null},{path:"/bid-status",label:"SUBMITTED BIDS",icon:Is,badge:N||null}];const K=ne=>k.pathname===ne;return o.jsxs("div",{className:"flex h-screen overflow-hidden",style:{background:"linear-gradient(135deg, #F5F9FF 0%, #EBF2FA 100%)"},children:[o.jsx("div",{className:"parallax-blob parallax-blob-1",style:{position:"fixed"}}),o.jsx("div",{className:"parallax-blob parallax-blob-2",style:{position:"fixed"}}),o.jsx("div",{className:"parallax-blob parallax-blob-3",style:{position:"fixed"}}),o.jsxs("aside",{className:`premium-sidebar hidden lg:flex flex-col transition-all duration-500 ease-in-out z-10 h-full flex-shrink-0 ${s?"w-48":"w-14"}`,children:[o.jsx("div",{className:"relative flex items-center justify-between p-3 border-b border-white/20 flex-shrink-0",children:s?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-center w-full py-2 relative",children:[o.jsx("div",{className:"absolute inset-0 rounded-lg",style:{background:"linear-gradient(135deg, rgba(180, 130, 50, 0.15), rgba(160, 110, 40, 0.2), rgba(180, 130, 50, 0.15))"}}),o.jsx("img",{src:"/superadmin/Screenshot 2025-11-27 130112.png",alt:"Shree Datta Enterprises",className:"w-full h-auto max-h-24 object-contain transform hover:scale-105 transition-all duration-300 relative z-10",onError:ne=>{ne.currentTarget.src="/superadmin/Screenshot 2025-12-02 181035.png"}})]}),o.jsx(et,{variant:"ghost",size:"icon",onClick:()=>a(!1),className:"h-10 w-10 rounded-xl hover:bg-white/50 transition-all premium-icon",children:o.jsx(kie,{className:"h-5 w-5"})})]}):o.jsx(et,{variant:"ghost",size:"icon",onClick:()=>a(!0),className:"h-10 w-10 mx-auto rounded-xl hover:bg-white/50 transition-all premium-icon",children:o.jsx(jie,{className:"h-5 w-5"})})}),o.jsx("nav",{className:"flex-1 p-2 space-y-1 overflow-y-auto min-h-0",children:O.map(ne=>{const le=ne.icon,te=K(ne.path);return o.jsxs(YCe,{to:ne.path,onTouchEnd:X=>{X.preventDefault(),X.stopPropagation(),window.location.href=ne.path},className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all duration-300 group relative ${te?"text-white shadow-lg":"text-[#64748B] hover:bg-white/60 hover:text-[#1E293B]"} ${!s&&"justify-center"}`,style:te?{background:"linear-gradient(135deg, #A5B4FC, #C4B5FD)",touchAction:"manipulation"}:{touchAction:"manipulation"},children:[te&&o.jsx("div",{className:"absolute inset-0 rounded-lg blur-md opacity-20",style:{background:"linear-gradient(135deg, #A5B4FC, #C4B5FD)"}}),o.jsx(le,{className:`h-4 w-4 relative z-10 transition-transform group-hover:scale-110 ${te?"text-white":""}`}),s&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"flex-1 font-semibold text-xs relative z-10 truncate",children:ne.label}),ne.badge&&o.jsx("span",{className:"relative z-10 px-2 py-0.5 text-xs font-bold rounded-full bg-gradient-to-r from-[#EF4444] to-[#F97316] text-white shadow-md animate-pulse",children:ne.badge})]})]},ne.path)})}),o.jsxs("div",{className:"relative p-2 border-t border-white/20 space-y-0.5 flex-shrink-0",children:[o.jsxs(et,{variant:"ghost",size:"sm",className:`w-full rounded-lg hover:bg-white/60 transition-all text-[#64748B] hover:text-[#1E293B] font-medium h-8 ${!s&&"justify-center"}`,onClick:()=>d(!u),children:[u?o.jsx(Uie,{className:"h-4 w-4"}):o.jsx(Lie,{className:"h-4 w-4"}),s&&o.jsx("span",{className:"ml-2 text-xs",children:"Theme"})]}),o.jsxs(et,{variant:"ghost",size:"sm",className:`w-full rounded-lg hover:bg-white/60 transition-all text-[#64748B] hover:text-[#1E293B] font-medium h-8 ${!s&&"justify-center"}`,children:[o.jsx(xE,{className:"h-4 w-4"}),s&&o.jsx("span",{className:"ml-2 text-xs",children:"Settings"})]}),o.jsxs(et,{variant:"ghost",size:"sm",className:`w-full rounded-lg hover:bg-red-50 transition-all text-red-600 hover:text-red-700 font-medium h-8 ${!s&&"justify-center"}`,onClick:R,children:[o.jsx(u$,{className:"h-4 w-4"}),s&&o.jsx("span",{className:"ml-2 text-xs",children:"Logout"})]})]})]}),l&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-40 lg:hidden premium-modal-overlay",onClick:()=>c(!1),onTouchEnd:ne=>{ne.preventDefault(),c(!1)},style:{touchAction:"manipulation"}}),o.jsxs("aside",{className:"fixed left-0 top-0 bottom-0 w-80 z-50 lg:hidden premium-sidebar shadow-2xl flex flex-col",style:{animation:"slideInRight 0.4s ease-out"},children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/20",children:[o.jsxs("div",{className:"flex items-center justify-center flex-1 py-4 relative",children:[o.jsx("div",{className:"absolute inset-0 rounded-xl",style:{background:"linear-gradient(135deg, rgba(180, 130, 50, 0.15), rgba(160, 110, 40, 0.2), rgba(180, 130, 50, 0.15))"}}),o.jsx("img",{src:"/superadmin/Screenshot 2025-11-27 130112.png",alt:"Shree Datta Enterprises",className:"w-full h-auto max-h-40 object-contain transform hover:scale-105 transition-all duration-300 relative z-10",onError:ne=>{ne.currentTarget.src="/superadmin/Screenshot 2025-12-02 181035.png"}})]}),o.jsx(et,{variant:"ghost",size:"icon",className:"rounded-xl",onClick:()=>c(!1),onTouchEnd:ne=>{ne.preventDefault(),c(!1)},style:{touchAction:"manipulation"},children:o.jsx(ef,{className:"h-5 w-5"})})]}),o.jsx("nav",{className:"p-4 space-y-1 flex-1 overflow-y-auto",children:O.map(ne=>{const le=ne.icon,te=K(ne.path),X=()=>{console.log("Navigating to:",ne.path),c(!1),setTimeout(()=>{t(ne.path)},100)};return o.jsxs("div",{onClick:X,onTouchStart:ue=>{ue.currentTarget.style.opacity="0.7"},onTouchEnd:ue=>{ue.currentTarget.style.opacity="1",X()},className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-300 relative cursor-pointer ${te?"bg-gradient-to-r from-[#4F46E5] to-[#06B6D4] text-white shadow-lg":"text-[#64748B] hover:bg-white/60 hover:text-[#1E293B]"}`,style:{touchAction:"manipulation",userSelect:"none",WebkitTapHighlightColor:"rgba(59, 130, 246, 0.3)"},children:[te&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#4F46E5] to-[#06B6D4] rounded-xl blur-md opacity-30"}),o.jsx(le,{className:`h-5 w-5 relative z-10 ${te?"text-white":""}`}),o.jsx("span",{className:"flex-1 font-semibold text-sm relative z-10",children:ne.label}),ne.badge&&o.jsx("span",{className:"relative z-10 px-2.5 py-1 text-xs font-bold rounded-full bg-gradient-to-r from-[#EF4444] to-[#F97316] text-white shadow-md animate-pulse",children:ne.badge})]},ne.path)})}),o.jsx("div",{className:"p-4 border-t border-white/20",children:o.jsxs("div",{onClick:()=>{console.log("Mobile Logout clicked"),c(!1),setTimeout(()=>{i()},100)},onTouchStart:ne=>{ne.currentTarget.style.opacity="0.7"},onTouchEnd:ne=>{ne.currentTarget.style.opacity="1",c(!1),setTimeout(()=>{i()},100)},className:"flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-300 cursor-pointer bg-gradient-to-r from-red-500 to-red-600 text-white shadow-lg hover:from-red-600 hover:to-red-700",style:{touchAction:"manipulation",userSelect:"none",WebkitTapHighlightColor:"rgba(239, 68, 68, 0.3)"},children:[o.jsx(u$,{className:"h-5 w-5"}),o.jsx("span",{className:"flex-1 font-semibold text-sm",children:"LOGOUT"})]})})]})]}),o.jsxs("div",{className:`main-wrapper flex-1 flex flex-col overflow-hidden relative ${s?"sidebar-open":"sidebar-collapsed"}`,children:[o.jsx("header",{className:"premium-glass-card flex-shrink-0 z-20",style:{borderRadius:0,padding:"1rem 1.5rem",margin:0},children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(et,{variant:"ghost",size:"icon",className:"lg:hidden rounded-xl premium-icon",onClick:()=>{console.log("Hamburger clicked!"),c(!0)},onTouchEnd:ne=>{ne.preventDefault(),ne.stopPropagation(),console.log("Hamburger touched!"),c(!0)},style:{touchAction:"manipulation",backgroundColor:"#3B82F6",color:"white",zIndex:9999,position:"relative"},children:o.jsx(Die,{className:"h-6 w-6"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",style:{color:"#1E293B"},children:((Y=O.find(ne=>ne.path===k.pathname))==null?void 0:Y.label)||"Dashboard"}),o.jsxs("p",{className:"text-sm font-medium mt-1",style:{color:"#64748B"},children:["Welcome back, ",n," (",r,")"]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx(et,{variant:"ghost",size:"icon",className:"rounded-xl hover:bg-white/60 transition-all text-[#64748B] hover:text-[#1E293B]",children:o.jsx(dm,{className:"h-5 w-5"})}),h+N>0&&o.jsx("span",{className:"absolute top-1 right-1 h-2.5 w-2.5 rounded-full animate-pulse border-2 border-white shadow-md bg-gradient-to-r from-[#EF4444] to-[#F97316]"})]}),o.jsxs("div",{className:"relative group",children:[o.jsx("div",{className:"absolute inset-0 rounded-xl blur-md opacity-30 group-hover:opacity-50 transition-opacity",style:{background:"linear-gradient(135deg, #A5B4FC, #C4B5FD)"}}),o.jsx("div",{className:"relative w-11 h-11 rounded-xl flex items-center justify-center text-white font-bold cursor-pointer transform group-hover:scale-105 transition-transform shadow-lg",style:{background:"linear-gradient(135deg, #A5B4FC, #C4B5FD)"},children:"A"})]})]})]})}),o.jsx("main",{className:"flex-1 overflow-y-auto p-4 relative",children:o.jsx("div",{className:"w-full",style:{animation:"fadeIn 0.6s ease-out"},children:e})})]})]})},Sr=C.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Zr("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Sr.displayName="Card";const fn=C.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Zr("flex flex-col space-y-1.5 p-6",e),...t}));fn.displayName="CardHeader";const hn=C.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:Zr("text-2xl font-semibold leading-none tracking-tight",e),...t}));hn.displayName="CardTitle";const _n=C.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:Zr("text-sm text-muted-foreground",e),...t}));_n.displayName="CardDescription";const Pr=C.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Zr("p-6 pt-0",e),...t}));Pr.displayName="CardContent";const $6e=C.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Zr("flex items-center p-6 pt-0",e),...t}));$6e.displayName="CardFooter";const V6e=pE("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function cn({className:e,variant:t,...r}){return o.jsx("div",{className:Zr(V6e({variant:t}),e),...r})}function uC({title:e,value:t,description:r,icon:n,trend:i,className:s,onClick:a}){return o.jsx(Sr,{className:`group relative p-6 transition-all duration-200 hover:shadow-lg hover:-translate-y-1 premium-glass-card ${a?"cursor-pointer":""} ${s}`,onClick:a,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:e}),o.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:t}),r&&o.jsx("p",{className:"text-sm text-gray-500",children:r}),i&&o.jsxs("p",{className:"text-sm flex items-center gap-2 text-gray-500 mt-2",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"}),o.jsx("span",{children:i})]})]}),o.jsx("div",{className:"p-3 rounded-lg bg-blue-50 border border-blue-100",children:o.jsx(n,{className:"h-6 w-6 text-blue-600"})})]})})}var kj="focusScope.autoFocusOnMount",jj="focusScope.autoFocusOnUnmount",Rz={bubbles:!1,cancelable:!0},z6e="FocusScope",ZM=C.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=e,[l,c]=C.useState(null),u=_d(i),d=_d(s),h=C.useRef(null),A=Ji(t,x=>c(x)),g=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(n){let x=function(E){if(g.paused||!l)return;const I=E.target;l.contains(I)?h.current=I:s0(h.current,{select:!0})},y=function(E){if(g.paused||!l)return;const I=E.relatedTarget;I!==null&&(l.contains(I)||s0(h.current,{select:!0}))},w=function(E){if(document.activeElement===document.body)for(const N of E)N.removedNodes.length>0&&s0(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",y);const _=new MutationObserver(w);return l&&_.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",y),_.disconnect()}}},[n,l,g.paused]),C.useEffect(()=>{if(l){Uz.add(g);const x=document.activeElement;if(!l.contains(x)){const w=new CustomEvent(kj,Rz);l.addEventListener(kj,u),l.dispatchEvent(w),w.defaultPrevented||(G6e(Y6e(yce(l)),{select:!0}),document.activeElement===x&&s0(l))}return()=>{l.removeEventListener(kj,u),setTimeout(()=>{const w=new CustomEvent(jj,Rz);l.addEventListener(jj,d),l.dispatchEvent(w),w.defaultPrevented||s0(x??document.body,{select:!0}),l.removeEventListener(jj,d),Uz.remove(g)},0)}}},[l,u,d,g]);const v=C.useCallback(x=>{if(!r&&!n||g.paused)return;const y=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,w=document.activeElement;if(y&&w){const _=x.currentTarget,[E,I]=W6e(_);E&&I?!x.shiftKey&&w===I?(x.preventDefault(),r&&s0(E,{select:!0})):x.shiftKey&&w===E&&(x.preventDefault(),r&&s0(I,{select:!0})):w===_&&x.preventDefault()}},[r,n,g.paused]);return o.jsx(Yn.div,{tabIndex:-1,...a,ref:A,onKeyDown:v})});ZM.displayName=z6e;function G6e(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(s0(n,{select:t}),document.activeElement!==r)return}function W6e(e){const t=yce(e),r=Mz(t,e),n=Mz(t.reverse(),e);return[r,n]}function yce(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Mz(e,t){for(const r of e)if(!K6e(r,{upTo:t}))return r}function K6e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function q6e(e){return e instanceof HTMLInputElement&&"select"in e}function s0(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&q6e(e)&&t&&e.select()}}var Uz=X6e();function X6e(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Hz(e,t),e.unshift(t)},remove(t){var r;e=Hz(e,t),(r=e[0])==null||r.resume()}}}function Hz(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Y6e(e){return e.filter(t=>t.tagName!=="A")}var Pj=0;function wce(){C.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Qz()),document.body.insertAdjacentElement("beforeend",e[1]??Qz()),Pj++,()=>{Pj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Pj--}},[])}function Qz(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Qf=function(){return Qf=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Qf.apply(this,arguments)};function bce(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Z6e(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var i4="right-scroll-bar-position",s4="width-before-scroll-bar",J6e="with-scroll-bars-hidden",ePe="--removed-body-scroll-bar-size";function Fj(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function tPe(e,t){var r=C.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var rPe=typeof window<"u"?C.useLayoutEffect:C.useEffect,$z=new WeakMap;function nPe(e,t){var r=tPe(null,function(n){return e.forEach(function(i){return Fj(i,n)})});return rPe(function(){var n=$z.get(r);if(n){var i=new Set(n),s=new Set(e),a=r.current;i.forEach(function(l){s.has(l)||Fj(l,null)}),s.forEach(function(l){i.has(l)||Fj(l,a)})}$z.set(r,e)},[e]),r}function iPe(e){return e}function sPe(e,t){t===void 0&&(t=iPe);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var a=t(s,n);return r.push(a),function(){r=r.filter(function(l){return l!==a})}},assignSyncMedium:function(s){for(n=!0;r.length;){var a=r;r=[],a.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var a=[];if(r.length){var l=r;r=[],l.forEach(s),a=r}var c=function(){var d=a;a=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),r}}}};return i}function aPe(e){e===void 0&&(e={});var t=sPe(null);return t.options=Qf({async:!0,ssr:!1},e),t}var _ce=function(e){var t=e.sideCar,r=bce(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return C.createElement(n,Qf({},r))};_ce.isSideCarExport=!0;function oPe(e,t){return e.useMedium(t),_ce}var Ece=aPe(),Oj=function(){},NB=C.forwardRef(function(e,t){var r=C.useRef(null),n=C.useState({onScrollCapture:Oj,onWheelCapture:Oj,onTouchMoveCapture:Oj}),i=n[0],s=n[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,A=e.sideCar,g=e.noRelative,v=e.noIsolation,x=e.inert,y=e.allowPinchZoom,w=e.as,_=w===void 0?"div":w,E=e.gapMode,I=bce(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=A,j=nPe([r,t]),T=Qf(Qf({},I),i);return C.createElement(C.Fragment,null,d&&C.createElement(N,{sideCar:Ece,removeScrollBar:u,shards:h,noRelative:g,noIsolation:v,inert:x,setCallbacks:s,allowPinchZoom:!!y,lockRef:r,gapMode:E}),a?C.cloneElement(C.Children.only(l),Qf(Qf({},T),{ref:j})):C.createElement(_,Qf({},T,{className:c,ref:j}),l))});NB.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};NB.classNames={fullWidth:s4,zeroRight:i4};var lPe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function cPe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=lPe();return t&&e.setAttribute("nonce",t),e}function uPe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function dPe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var fPe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=cPe())&&(uPe(t,r),dPe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},hPe=function(){var e=fPe();return function(t,r){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Sce=function(){var e=hPe(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},APe={left:0,top:0,right:0,gap:0},Dj=function(e){return parseInt(e||"",10)||0},pPe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Dj(r),Dj(n),Dj(i)]},gPe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return APe;var t=pPe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},mPe=Sce(),Mx="data-scroll-locked",xPe=function(e,t,r,n){var i=e.left,s=e.top,a=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(J6e,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Mx,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(i4,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(s4,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(i4," .").concat(i4,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(s4," .").concat(s4,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Mx,`] {
    `).concat(ePe,": ").concat(l,`px;
  }
`)},Vz=function(){var e=parseInt(document.body.getAttribute(Mx)||"0",10);return isFinite(e)?e:0},vPe=function(){C.useEffect(function(){return document.body.setAttribute(Mx,(Vz()+1).toString()),function(){var e=Vz()-1;e<=0?document.body.removeAttribute(Mx):document.body.setAttribute(Mx,e.toString())}},[])},yPe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;vPe();var s=C.useMemo(function(){return gPe(i)},[i]);return C.createElement(mPe,{styles:xPe(s,!t,i,r?"":"!important")})},E8=!1;if(typeof window<"u")try{var dC=Object.defineProperty({},"passive",{get:function(){return E8=!0,!0}});window.addEventListener("test",dC,dC),window.removeEventListener("test",dC,dC)}catch{E8=!1}var x1=E8?{passive:!1}:!1,wPe=function(e){return e.tagName==="TEXTAREA"},Cce=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!wPe(e)&&r[t]==="visible")},bPe=function(e){return Cce(e,"overflowY")},_Pe=function(e){return Cce(e,"overflowX")},zz=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=Nce(e,n);if(i){var s=Tce(e,n),a=s[1],l=s[2];if(a>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},EPe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},SPe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Nce=function(e,t){return e==="v"?bPe(t):_Pe(t)},Tce=function(e,t){return e==="v"?EPe(t):SPe(t)},CPe=function(e,t){return e==="h"&&t==="rtl"?-1:1},NPe=function(e,t,r,n,i){var s=CPe(e,window.getComputedStyle(t).direction),a=s*n,l=r.target,c=t.contains(l),u=!1,d=a>0,h=0,A=0;do{if(!l)break;var g=Tce(e,l),v=g[0],x=g[1],y=g[2],w=x-y-s*v;(v||w)&&Nce(e,l)&&(h+=w,A+=v);var _=l.parentNode;l=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(h)<1||!i)||!d&&(Math.abs(A)<1||!i))&&(u=!0),u},fC=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Gz=function(e){return[e.deltaX,e.deltaY]},Wz=function(e){return e&&"current"in e?e.current:e},TPe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},BPe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},IPe=0,v1=[];function kPe(e){var t=C.useRef([]),r=C.useRef([0,0]),n=C.useRef(),i=C.useState(IPe++)[0],s=C.useState(Sce)[0],a=C.useRef(e);C.useEffect(function(){a.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var x=Z6e([e.lockRef.current],(e.shards||[]).map(Wz),!0).filter(Boolean);return x.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=C.useCallback(function(x,y){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!a.current.allowPinchZoom;var w=fC(x),_=r.current,E="deltaX"in x?x.deltaX:_[0]-w[0],I="deltaY"in x?x.deltaY:_[1]-w[1],N,j=x.target,T=Math.abs(E)>Math.abs(I)?"h":"v";if("touches"in x&&T==="h"&&j.type==="range")return!1;var P=zz(T,j);if(!P)return!0;if(P?N=T:(N=T==="v"?"h":"v",P=zz(T,j)),!P)return!1;if(!n.current&&"changedTouches"in x&&(E||I)&&(n.current=N),!N)return!0;var k=n.current||N;return NPe(k,y,x,k==="h"?E:I,!0)},[]),c=C.useCallback(function(x){var y=x;if(!(!v1.length||v1[v1.length-1]!==s)){var w="deltaY"in y?Gz(y):fC(y),_=t.current.filter(function(N){return N.name===y.type&&(N.target===y.target||y.target===N.shadowParent)&&TPe(N.delta,w)})[0];if(_&&_.should){y.cancelable&&y.preventDefault();return}if(!_){var E=(a.current.shards||[]).map(Wz).filter(Boolean).filter(function(N){return N.contains(y.target)}),I=E.length>0?l(y,E[0]):!a.current.noIsolation;I&&y.cancelable&&y.preventDefault()}}},[]),u=C.useCallback(function(x,y,w,_){var E={name:x,delta:y,target:w,should:_,shadowParent:jPe(w)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(I){return I!==E})},1)},[]),d=C.useCallback(function(x){r.current=fC(x),n.current=void 0},[]),h=C.useCallback(function(x){u(x.type,Gz(x),x.target,l(x,e.lockRef.current))},[]),A=C.useCallback(function(x){u(x.type,fC(x),x.target,l(x,e.lockRef.current))},[]);C.useEffect(function(){return v1.push(s),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:A}),document.addEventListener("wheel",c,x1),document.addEventListener("touchmove",c,x1),document.addEventListener("touchstart",d,x1),function(){v1=v1.filter(function(x){return x!==s}),document.removeEventListener("wheel",c,x1),document.removeEventListener("touchmove",c,x1),document.removeEventListener("touchstart",d,x1)}},[]);var g=e.removeScrollBar,v=e.inert;return C.createElement(C.Fragment,null,v?C.createElement(s,{styles:BPe(i)}):null,g?C.createElement(yPe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function jPe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const PPe=oPe(Ece,kPe);var JM=C.forwardRef(function(e,t){return C.createElement(NB,Qf({},e,{ref:t,sideCar:PPe}))});JM.classNames=NB.classNames;var FPe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},y1=new WeakMap,hC=new WeakMap,AC={},Lj=0,Bce=function(e){return e&&(e.host||Bce(e.parentNode))},OPe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Bce(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},DPe=function(e,t,r,n){var i=OPe(t,Array.isArray(e)?e:[e]);AC[r]||(AC[r]=new WeakMap);var s=AC[r],a=[],l=new Set,c=new Set(i),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};i.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(A){if(l.has(A))d(A);else try{var g=A.getAttribute(n),v=g!==null&&g!=="false",x=(y1.get(A)||0)+1,y=(s.get(A)||0)+1;y1.set(A,x),s.set(A,y),a.push(A),x===1&&v&&hC.set(A,!0),y===1&&A.setAttribute(r,"true"),v||A.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",A,w)}})};return d(t),l.clear(),Lj++,function(){a.forEach(function(h){var A=y1.get(h)-1,g=s.get(h)-1;y1.set(h,A),s.set(h,g),A||(hC.has(h)||h.removeAttribute(n),hC.delete(h)),g||h.removeAttribute(r)}),Lj--,Lj||(y1=new WeakMap,y1=new WeakMap,hC=new WeakMap,AC={})}},Ice=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=FPe(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),DPe(n,i,r,"aria-hidden")):function(){return null}},TB="Dialog",[kce,jce]=xh(TB),[LPe,yf]=kce(TB),Pce=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:a=!0}=e,l=C.useRef(null),c=C.useRef(null),[u,d]=um({prop:n,defaultProp:i??!1,onChange:s,caller:TB});return o.jsx(LPe,{scope:t,triggerRef:l,contentRef:c,contentId:J0(),titleId:J0(),descriptionId:J0(),open:u,onOpenChange:d,onOpenToggle:C.useCallback(()=>d(h=>!h),[d]),modal:a,children:r})};Pce.displayName=TB;var Fce="DialogTrigger",Oce=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=yf(Fce,r),s=Ji(t,i.triggerRef);return o.jsx(Yn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":rU(i.open),...n,ref:s,onClick:Cn(e.onClick,i.onOpenToggle)})});Oce.displayName=Fce;var eU="DialogPortal",[RPe,Dce]=kce(eU,{forceMount:void 0}),Lce=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,s=yf(eU,t);return o.jsx(RPe,{scope:t,forceMount:r,children:C.Children.map(n,a=>o.jsx(Um,{present:r||s.open,children:o.jsx(PT,{asChild:!0,container:i,children:a})}))})};Lce.displayName=eU;var E5="DialogOverlay",Rce=C.forwardRef((e,t)=>{const r=Dce(E5,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,s=yf(E5,e.__scopeDialog);return s.modal?o.jsx(Um,{present:n||s.open,children:o.jsx(UPe,{...i,ref:t})}):null});Rce.displayName=E5;var MPe=xv("DialogOverlay.RemoveScroll"),UPe=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=yf(E5,r);return o.jsx(JM,{as:MPe,allowPinchZoom:!0,shards:[i.contentRef],children:o.jsx(Yn.div,{"data-state":rU(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),wm="DialogContent",Mce=C.forwardRef((e,t)=>{const r=Dce(wm,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,s=yf(wm,e.__scopeDialog);return o.jsx(Um,{present:n||s.open,children:s.modal?o.jsx(HPe,{...i,ref:t}):o.jsx(QPe,{...i,ref:t})})});Mce.displayName=wm;var HPe=C.forwardRef((e,t)=>{const r=yf(wm,e.__scopeDialog),n=C.useRef(null),i=Ji(t,r.contentRef,n);return C.useEffect(()=>{const s=n.current;if(s)return Ice(s)},[]),o.jsx(Uce,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Cn(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Cn(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&s.preventDefault()}),onFocusOutside:Cn(e.onFocusOutside,s=>s.preventDefault())})}),QPe=C.forwardRef((e,t)=>{const r=yf(wm,e.__scopeDialog),n=C.useRef(!1),i=C.useRef(!1);return o.jsx(Uce,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),Uce=C.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=e,l=yf(wm,r),c=C.useRef(null),u=Ji(t,c);return wce(),o.jsxs(o.Fragment,{children:[o.jsx(ZM,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:o.jsx(hE,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":rU(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(VPe,{titleId:l.titleId}),o.jsx(GPe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),tU="DialogTitle",Hce=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=yf(tU,r);return o.jsx(Yn.h2,{id:i.titleId,...n,ref:t})});Hce.displayName=tU;var Qce="DialogDescription",$ce=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=yf(Qce,r);return o.jsx(Yn.p,{id:i.descriptionId,...n,ref:t})});$ce.displayName=Qce;var Vce="DialogClose",zce=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=yf(Vce,r);return o.jsx(Yn.button,{type:"button",...n,ref:t,onClick:Cn(e.onClick,()=>i.onOpenChange(!1))})});zce.displayName=Vce;function rU(e){return e?"open":"closed"}var Gce="DialogTitleWarning",[$Pe,Wce]=m2e(Gce,{contentName:wm,titleName:tU,docsSlug:"dialog"}),VPe=({titleId:e})=>{const t=Wce(Gce),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return C.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},zPe="DialogDescriptionWarning",GPe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Wce(zPe).contentName}}.`;return C.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Kce=Pce,qce=Oce,Xce=Lce,nU=Rce,iU=Mce,sU=Hce,aU=$ce,oU=zce;const Py=Kce,LE=qce,WPe=Xce,Yce=C.forwardRef(({className:e,...t},r)=>o.jsx(nU,{ref:r,className:Zr("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Yce.displayName=nU.displayName;const Ym=C.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(WPe,{children:[o.jsx(Yce,{}),o.jsxs(iU,{ref:n,className:Zr("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(oU,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(ef,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ym.displayName=iU.displayName;const Fy=({className:e,...t})=>o.jsx("div",{className:Zr("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Fy.displayName="DialogHeader";const lU=({className:e,...t})=>o.jsx("div",{className:Zr("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});lU.displayName="DialogFooter";const Oy=C.forwardRef(({className:e,...t},r)=>o.jsx(sU,{ref:r,className:Zr("text-lg font-semibold leading-none tracking-tight",e),...t}));Oy.displayName=sU.displayName;const RE=C.forwardRef(({className:e,...t},r)=>o.jsx(aU,{ref:r,className:Zr("text-sm text-muted-foreground",e),...t}));RE.displayName=aU.displayName;const Or=C.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:Zr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Or.displayName="Input";var KPe="Label",Zce=C.forwardRef((e,t)=>o.jsx(Yn.label,{...e,ref:t,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Zce.displayName=KPe;var Jce=Zce;const qPe=pE("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),xr=C.forwardRef(({className:e,...t},r)=>o.jsx(Jce,{ref:r,className:Zr(qPe(),e),...t}));xr.displayName=Jce.displayName;const XPe=async e=>{try{const t=pc(Js,e);await Iv(t)}catch(t){console.error("Error deleting image:",t)}},S8=e=>{if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(e.type))return{isValid:!1,error:"Please select a valid image file (JPEG, PNG, or WebP)"};const r=10*1024*1024;return e.size>r?{isValid:!1,error:"Image size must be less than 10MB (will be compressed to under 1MB)"}:{isValid:!0}},C8=(e,t=600,r=600,n=.7)=>new Promise(i=>{if(e.size<200*1024){console.log("Image already small, skipping resize"),i(e);return}const s=document.createElement("canvas"),a=s.getContext("2d"),l=new Image;l.onload=()=>{let{width:c,height:u}=l;c>u?c>t&&(u=Math.round(u*t/c),c=t):u>r&&(c=Math.round(c*r/u),u=r),s.width=c,s.height=u,a&&(a.imageSmoothingEnabled=!0,a.imageSmoothingQuality="high",a.drawImage(l,0,0,c,u));const d="image/webp";s.toBlob(h=>{if(h){const A=new File([h],e.name.replace(/\.[^/.]+$/,".webp"),{type:d,lastModified:Date.now()});console.log(`Image resized: ${(e.size/1024).toFixed(0)}KB  ${(A.size/1024).toFixed(0)}KB`),i(A)}else i(e)},d,n)},l.onerror=()=>{console.error("Failed to load image for resizing"),i(e)},l.src=URL.createObjectURL(e)}),S5=({onImageSelect:e,currentImage:t,onImageRemove:r,disabled:n})=>{const[i,s]=C.useState(t||null),[a,l]=C.useState(!1),c=C.useRef(null),{toast:u}=Lo();C.useEffect(()=>{s(t||null)},[t]);const d=async g=>{var y;const v=(y=g.target.files)==null?void 0:y[0];if(!v)return;const x=S8(v);if(!x.isValid){u({title:"Invalid Image",description:x.error,variant:"destructive"});return}l(!0);try{const w=await C8(v),_=URL.createObjectURL(w);s(_),e(w),u({title:"Image Selected",description:"Image ready for upload"})}catch(w){console.error("Error processing image:",w),u({title:"Error",description:"Failed to process image",variant:"destructive"})}finally{l(!1)}},h=()=>{s(null),c.current&&(c.current.value=""),r==null||r()},A=()=>{var g;(g=c.current)==null||g.click()};return o.jsxs("div",{className:"space-y-4",children:[o.jsx("input",{ref:c,type:"file",accept:"image/*",onChange:d,className:"hidden",disabled:n||a}),i?o.jsx("div",{className:"relative group",children:o.jsxs("div",{className:"relative w-full h-48 bg-gray-100 rounded-lg overflow-hidden border-2 border-dashed border-gray-300",children:[o.jsx("img",{src:i,alt:"Item preview",className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200 flex items-center justify-center",children:o.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex gap-2",children:[o.jsxs(et,{type:"button",variant:"secondary",size:"sm",onClick:A,disabled:n||a,children:[o.jsx(Wg,{className:"h-4 w-4 mr-1"}),"Change"]}),o.jsxs(et,{type:"button",variant:"destructive",size:"sm",onClick:h,disabled:n||a,children:[o.jsx(ef,{className:"h-4 w-4 mr-1"}),"Remove"]})]})})]})}):o.jsxs("div",{onClick:A,className:`w-full h-48 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-primary hover:bg-primary/5 transition-colors ${n||a?"opacity-50 cursor-not-allowed":""}`,children:[o.jsx(Pb,{className:"h-12 w-12 text-gray-400 mb-4"}),o.jsx("p",{className:"text-sm text-gray-600 text-center",children:a?"Processing image...":"Click to upload item image"}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"JPEG, PNG, WebP (max 5MB)"})]})]})},uu="items",xa={async testStorageConnection(){try{console.log("=== STORAGE CONNECTION TEST ==="),console.log("Storage instance:",Js),console.log("Project ID:",Js.app.options.projectId),console.log("Storage bucket:",Js.app.options.storageBucket);const e=pc(Js,"test/connection-test.txt");console.log("Test reference created:",e.fullPath);const t=new Blob(["Storage connection test"],{type:"text/plain"});console.log("Attempting blob upload...");const r=await Bv(e,t);console.log("Upload successful:",r.ref.fullPath);const n=await nf(r.ref);console.log("Download URL obtained:",n.substring(0,50)+"...");try{await Iv(e),console.log("Test file cleaned up successfully")}catch(i){console.warn("Could not clean up test file (not critical):",i)}return console.log("=== STORAGE CONNECTION SUCCESS ==="),!0}catch(e){return console.error("=== STORAGE CONNECTION FAILED ==="),console.error("Full error object:",e),console.error("Error code:",e.code),console.error("Error message:",e.message),e.code==="storage/unauthorized"?(console.error(" UNAUTHORIZED: Storage rules are blocking access"),console.error(" SOLUTION: Update Firebase Storage rules"),console.error(" Go to: Firebase Console  Storage  Rules"),console.error(" Set: allow read, write: if true;")):e.code==="storage/unknown"?(console.error(" UNKNOWN ERROR: Storage service issue"),console.error(" SOLUTION: Check if Storage is enabled"),console.error(" Go to: Firebase Console  Storage"),console.error(' If you see "Get started", enable Storage')):e.code==="storage/network-error"?(console.error(" NETWORK ERROR: Connection issue"),console.error(" SOLUTION: Check internet connection")):e.code==="storage/quota-exceeded"?(console.error(" QUOTA EXCEEDED: Storage limit reached"),console.error(" SOLUTION: Check Firebase usage limits")):(console.error(" OTHER ERROR:",e.code||"No error code"),console.error(" Check Firebase configuration and network")),!1}},async uploadProductImage(e,t){try{console.log("=== PRODUCT IMAGE UPLOAD DEBUG ==="),console.log("Storage instance:",Js),console.log("Storage app:",Js.app),console.log("File details:",{name:e.name,size:e.size,type:e.type,sizeInMB:(e.size/(1024*1024)).toFixed(2)+"MB"});const r=Date.now(),n=`${t.replace(/[^a-zA-Z0-9]/g,"_")}_${r}.${e.name.split(".").pop()}`,i=pc(Js,`items/${n}`);console.log("Storage reference:",i),console.log("Upload path:",`items/${n}`),console.log("Starting product image upload...");const s=await Bv(i,e);console.log("Upload completed, snapshot:",s),console.log("Getting download URL...");const a=await nf(s.ref);return console.log("Image uploaded successfully:",a),console.log("=== UPLOAD SUCCESS ==="),{url:a,path:`items/${n}`}}catch(r){console.error("=== STORAGE UPLOAD ERROR ==="),console.error("Full error object:",r),console.error("Error code:",r.code),console.error("Error message:",r.message),console.error("Error name:",r.name),console.error("Error stack:",r.stack),console.error("File details:",{name:e.name,size:e.size,type:e.type}),console.error("Storage config:",{bucket:Js.app.options.storageBucket,projectId:Js.app.options.projectId});let n="Failed to upload image. ";throw r.code==="storage/unauthorized"?n+="Permission denied. Update Firebase Storage rules to allow uploads.":r.code==="storage/canceled"?n+="Upload was canceled.":r.code==="storage/unknown"?n+="Unknown storage error. Check Firebase configuration.":r.code==="storage/invalid-format"?n+="Invalid file format. Use JPEG, PNG, or WebP.":r.code==="storage/quota-exceeded"?n+="Storage quota exceeded.":r.code==="storage/unauthenticated"?n+="Authentication required.":r.code==="storage/retry-limit-exceeded"?n+="Upload retry limit exceeded.":r.code==="storage/invalid-checksum"?n+="File checksum mismatch.":n+=r.message||"Please check console for details.",new Error(n)}},async uploadImageWithProgress(e,t,r){try{const n=`${t}.${e.name.split(".").pop()}`,i=pc(Js,`items/${n}`);console.log(" Uploading product image with ID:",n);const s=_8(i,e);return new Promise((a,l)=>{s.on("state_changed",c=>{const u=c.bytesTransferred/c.totalBytes*100;console.log("Upload progress:",u+"%"),r&&r(u)},c=>{console.error("Upload error:",c),l(c)},async()=>{try{const c=await nf(s.snapshot.ref);console.log("Image uploaded successfully:",c),a({url:c,path:`items/${n}`})}catch(c){l(c)}})})}catch(n){throw console.error("Error uploading image:",n),new Error("Failed to upload image. Please try again.")}},async uploadDescriptionImageWithProgress(e,t,r){try{const n=`${t}_desc.${e.name.split(".").pop()}`,i=pc(Js,`items/${n}`);console.log(" Uploading description image with ID:",n);const s=_8(i,e);return new Promise((a,l)=>{s.on("state_changed",c=>{const u=c.bytesTransferred/c.totalBytes*100;console.log("Description image upload progress:",u+"%"),r&&r(u)},c=>{console.error("Description image upload error:",c),l(c)},async()=>{try{const c=await nf(s.snapshot.ref);console.log("Description image uploaded successfully:",c),a({url:c,path:`items/${n}`})}catch(c){l(c)}})})}catch(n){throw console.error("Error uploading description image:",n),new Error("Failed to upload description image. Please try again.")}},async deleteImage(e){try{if(!e)return;const t=pc(Js,e);await Iv(t),console.log("Image deleted successfully:",e)}catch(t){console.error("Error deleting image:",t)}},async addItemWithImage(e,t,r){try{let n="",i="";if(t){const l=await this.uploadImageWithProgress(t,e.name,r);n=l.url,i=l.path}const s=fi.now(),a=await ka(jr(Et,uu),{...e,image_url:n,image_path:i,created_at:s,updated_at:s});return console.log("Item added successfully with ID:",a.id),a.id}catch(n){throw console.error("Error adding item with image:",n),n}},async addItemWithImages(e,t,r,n){try{const i=Date.now(),s=`${e.name.replace(/[^a-zA-Z0-9]/g,"_")}_${i}`;console.log(" Creating product with unique ID:",s);let a="",l="",c="",u="";if(t){console.log(" Uploading product image for:",s);const A=await this.uploadImageWithProgress(t,s,n);a=A.url,l=A.path,console.log(" Product image uploaded:",l)}if(r){console.log(" Uploading description image for:",s);const A=await this.uploadDescriptionImageWithProgress(r,s,n);c=A.url,u=A.path,console.log(" Description image uploaded:",u)}const d=fi.now(),h=await ka(jr(Et,uu),{...e,product_id:s,image_url:a,image_path:l,description_image_url:c,description_image_path:u,created_at:d,updated_at:d});return console.log(" Item added successfully with linked images:",{firestore_id:h.id,product_id:s,product_image:l,description_image:u}),h.id}catch(i){throw console.error("Error adding item with images:",i),i}},async addItem(e){try{const t=fi.now();return(await ka(jr(Et,uu),{...e,created_at:t,updated_at:t})).id}catch(t){throw console.error("Error adding item:",t),t}},async getItems(){const e=Ai(jr(Et,uu),ia("created_at","desc"));return(await Si(e)).docs.map(r=>({id:r.id,...r.data()}))},async getItemById(e){try{const t=await Si(Ai(jr(Et,uu),Xa("__name__","==",e)));if(t.empty)return null;const r=t.docs[0];return{id:r.id,...r.data()}}catch(t){return console.error("Error getting item by ID:",t),null}},async findItem(e){const t=Ai(jr(Et,uu),Xa("barcode_id","==",e)),r=await Si(t);if(!r.empty){const a=r.docs[0];return{id:a.id,...a.data()}}const n=Ai(jr(Et,uu)),s=(await Si(n)).docs.find(a=>a.data().name.toLowerCase().includes(e.toLowerCase()));return s?{id:s.id,...s.data()}:null},async updateItem(e,t){const r=pn(Et,uu,e);await Ns(r,{...t,updated_at:fi.now()})},async updateItemWithImage(e,t,r,n){try{let i="",s="";if(r){const l=await this.getItemById(e);l!=null&&l.image_path&&await this.deleteImage(l.image_path);const c=await this.uploadImageWithProgress(r,t.name||"item",n);i=c.url,s=c.path}const a=pn(Et,uu,e);await Ns(a,{...t,image_url:i,image_path:s,updated_at:fi.now()}),console.log("Item updated successfully with image")}catch(i){throw console.error("Error updating item with image:",i),i}},async updateItemWithImages(e,t,r,n,i){try{const s=await this.getItemById(e);let a=(s==null?void 0:s.image_url)||"",l=(s==null?void 0:s.image_path)||"",c=(s==null?void 0:s.description_image_url)||"",u=(s==null?void 0:s.description_image_path)||"";if(r===null)s!=null&&s.image_path&&await this.deleteImage(s.image_path),a="",l="";else if(r){s!=null&&s.image_path&&await this.deleteImage(s.image_path);const h=await this.uploadImageWithProgress(r,t.name||"item",i);a=h.url,l=h.path}if(n===null)s!=null&&s.description_image_path&&await this.deleteImage(s.description_image_path),c="",u="";else if(n){s!=null&&s.description_image_path&&await this.deleteImage(s.description_image_path);const h=await this.uploadDescriptionImageWithProgress(n,t.name||"item",i);c=h.url,u=h.path}const d=pn(Et,uu,e);await Ns(d,{...t,image_url:a,image_path:l,description_image_url:c,description_image_path:u,updated_at:fi.now()}),console.log("Item updated successfully with images")}catch(s){throw console.error("Error updating item with images:",s),s}},async deleteItem(e){try{const t=await this.getItemById(e);t!=null&&t.image_path&&await this.deleteImage(t.image_path),await Yc(pn(Et,uu,e)),console.log("Item and associated image deleted successfully")}catch(t){throw console.error("Error deleting item:",t),t}},async dispatchItem(e,t,r){try{const n=await this.getItemById(e);if(!n)throw new Error("Item not found");if(n.quantity<1)throw new Error("Item is out of stock");const i=new Date,s={lat:t.lat,lng:t.lng,address:r||"",timestamp:i,status:"Dispatched"},a=pn(Et,uu,e),l=r||`${t.lat.toFixed(6)}, ${t.lng.toFixed(6)}`;await Ns(a,{quantity:n.quantity-1,gps:{...t,timestamp:i},current_address:r||"",locationHistory:[...n.locationHistory||[],s],updated_at:fi.now()}),console.log("Item dispatched successfully")}catch(n){throw console.error("Error dispatching item:",n),n}},subscribeToItems(e){const t=Ai(jr(Et,uu),ia("created_at","desc"));return vs(t,r=>{const n=r.docs.map(i=>({id:i.id,...i.data()}));e(n)})}},YPe=()=>{const[e,t]=C.useState(!1),[r,n]=C.useState(null),{toast:i}=Lo(),s=async()=>{t(!0);try{console.log("=== MANUAL STORAGE TEST ===");const c=await xa.testStorageConnection();n(c),i(c?{title:"Storage Test Passed ",description:"Firebase Storage is working correctly! You can now upload images."}:{title:"Storage Connection Error ",description:"Cannot connect to Firebase Storage. Check Firebase Console  Storage  Rules",variant:"destructive"})}catch(c){console.error("Storage test error:",c),n(!1);let u="Check console for detailed error information.";(c==null?void 0:c.code)==="storage/unauthorized"?u="Storage rules are too restrictive. Update Firebase Storage rules.":(c==null?void 0:c.code)==="storage/unknown"&&(u="Storage not enabled or network issue. Check Firebase Console."),i({title:"Storage Connection Error ",description:u,variant:"destructive"})}finally{t(!1)}},a=()=>e?o.jsx(WN,{className:"h-4 w-4 animate-spin"}):r===null?o.jsx(Sbe,{className:"h-4 w-4"}):r?o.jsx(id,{className:"h-4 w-4 text-green-500"}):o.jsx(LT,{className:"h-4 w-4 text-red-500"}),l=()=>e?o.jsx(cn,{variant:"secondary",children:"Testing..."}):r===null?o.jsx(cn,{variant:"outline",children:"Not Tested"}):r?o.jsx(cn,{className:"bg-green-500 hover:bg-green-600",children:"Connected"}):o.jsx(cn,{variant:"destructive",children:"Failed"});return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(et,{variant:"outline",size:"sm",onClick:s,disabled:e,className:"gap-2",children:[a(),"Test Storage"]}),l()]})},ZPe=()=>{const[e,t]=C.useState(!1),[r,n]=C.useState([]),{toast:i}=Lo(),s=async()=>{t(!0),n([]);const c=[];try{c.push({test:"Firebase Configuration",status:"success",message:"Firebase config loaded successfully",details:`Project: ${Js.app.options.projectId}, Bucket: ${Js.app.options.storageBucket}`})}catch(h){c.push({test:"Firebase Configuration",status:"error",message:"Firebase configuration error",details:h.message})}try{const h=pc(Js,"diagnostic/test.txt");c.push({test:"Storage Reference",status:"success",message:"Storage reference created successfully",details:`Path: ${h.fullPath}`})}catch(h){c.push({test:"Storage Reference",status:"error",message:"Failed to create storage reference",details:h.message})}try{const h=pc(Js,"diagnostic/test.txt"),A=new Blob(["diagnostic test"],{type:"text/plain"}),g=await Bv(h,A);c.push({test:"File Upload",status:"success",message:"File uploaded successfully",details:`Uploaded to: ${g.ref.fullPath}`});try{const v=await nf(h);c.push({test:"Download URL",status:"success",message:"Download URL generated successfully",details:v.substring(0,50)+"..."})}catch(v){c.push({test:"Download URL",status:"error",message:"Failed to get download URL",details:v.message})}try{await Iv(h),c.push({test:"File Deletion",status:"success",message:"Test file deleted successfully",details:"Cleanup completed"})}catch(v){c.push({test:"File Deletion",status:"warning",message:"Could not delete test file",details:v.message})}}catch(h){c.push({test:"File Upload",status:"error",message:"File upload failed",details:`Error: ${h.code} - ${h.message}`}),h.code==="storage/unauthorized"?c.push({test:"Solution",status:"warning",message:"Storage rules are too restrictive",details:"Go to Firebase Console  Storage  Rules and set: allow read, write: if true;"}):h.code==="storage/unknown"&&c.push({test:"Solution",status:"warning",message:"Storage may not be enabled",details:"Go to Firebase Console  Storage and enable Storage service"})}n(c),t(!1);const u=c.filter(h=>h.status==="error").length,d=c.filter(h=>h.status==="warning").length;i(u===0&&d===0?{title:"All Tests Passed! ",description:"Firebase Storage is working correctly"}:{title:"Diagnostic Complete",description:`${u} errors, ${d} warnings found`,variant:u>0?"destructive":"default"})},a=c=>{switch(c){case"success":return o.jsx(id,{className:"h-4 w-4 text-green-500"});case"error":return o.jsx(LT,{className:"h-4 w-4 text-red-500"});case"warning":return o.jsx(V4,{className:"h-4 w-4 text-yellow-500"});default:return o.jsx(WN,{className:"h-4 w-4"})}},l=c=>{switch(c){case"success":return o.jsx(cn,{className:"bg-green-500",children:"Pass"});case"error":return o.jsx(cn,{variant:"destructive",children:"Fail"});case"warning":return o.jsx(cn,{variant:"secondary",className:"bg-yellow-500 text-white",children:"Warning"});default:return o.jsx(cn,{variant:"outline",children:"Unknown"})}};return o.jsxs(Sr,{className:"w-full",children:[o.jsxs(fn,{children:[o.jsxs(hn,{className:"flex items-center gap-2",children:[o.jsx(WN,{className:`h-5 w-5 ${e?"animate-spin":""}`}),"Firebase Storage Diagnostic"]}),o.jsx(_n,{children:"Comprehensive test of Firebase Storage functionality"})]}),o.jsxs(Pr,{className:"space-y-4",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx(et,{onClick:s,disabled:e,className:"gap-2",children:e?o.jsxs(o.Fragment,{children:[o.jsx(WN,{className:"h-4 w-4 animate-spin"}),"Running Tests..."]}):"Run Full Diagnostic"}),o.jsxs(et,{variant:"outline",onClick:()=>window.open("https://console.firebase.google.com/project/inventory-37c91/storage","_blank"),className:"gap-2",children:[o.jsx(Pie,{className:"h-4 w-4"}),"Firebase Console"]})]}),r.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-semibold",children:"Diagnostic Results:"}),r.map((c,u)=>o.jsx("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:o.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[a(c.status),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"font-medium",children:c.test}),l(c.status)]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:c.message}),c.details&&o.jsx("p",{className:"text-xs text-muted-foreground mt-1 font-mono bg-muted p-1 rounded",children:c.details})]})]})},u))]})]})]})},JPe=()=>{const[e,t]=C.useState(!1),[r,n]=C.useState(!1),{toast:i}=Lo(),s=`rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    match /{allPaths=**} {
      allow read, write: if true;
    }
  }
}`,a=async()=>{try{await navigator.clipboard.writeText(s),t(!0),i({title:"Rules Copied! ",description:"Paste these rules in Firebase Console  Storage  Rules"}),setTimeout(()=>t(!1),3e3)}catch{i({title:"Copy Failed",description:"Please manually copy the rules below",variant:"destructive"})}},l=()=>{window.open("https://console.firebase.google.com/project/inventory-37c91/storage/inventory-37c91.firebasestorage.app/rules","_blank")};return o.jsxs(Sr,{className:"border-red-200 bg-red-50/50",children:[o.jsxs(fn,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Gg,{className:"h-5 w-5 text-red-600"}),o.jsx(hn,{className:"text-red-800",children:"Storage Connection Error"})]}),o.jsx(_n,{className:"text-red-700",children:"Firebase Storage rules are blocking access. Follow these steps to fix:"})]}),o.jsxs(Pr,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(cn,{variant:"outline",className:"bg-red-100 text-red-800 border-red-300",children:"Step 1"}),o.jsx("span",{className:"text-sm font-medium",children:"Open Firebase Console"})]}),o.jsxs(et,{variant:"outline",size:"sm",onClick:l,className:"gap-2 text-blue-600 border-blue-200 hover:bg-blue-50",children:[o.jsx(Pie,{className:"h-4 w-4"}),"Open Firebase Storage Rules"]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(cn,{variant:"outline",className:"bg-red-100 text-red-800 border-red-300",children:"Step 2"}),o.jsx("span",{className:"text-sm font-medium",children:"Copy & Paste These Rules"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("pre",{className:"bg-[#3B82F6] text-green-400 p-4 rounded-lg text-xs overflow-x-auto",children:o.jsx("code",{children:s})}),o.jsx(et,{variant:"outline",size:"sm",onClick:a,className:"absolute top-2 right-2 gap-2",children:e?o.jsxs(o.Fragment,{children:[o.jsx(id,{className:"h-4 w-4 text-green-600"}),"Copied!"]}):o.jsxs(o.Fragment,{children:[o.jsx(z4,{className:"h-4 w-4"}),"Copy Rules"]})})]})]}),o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(cn,{variant:"outline",className:"bg-red-100 text-red-800 border-red-300",children:"Step 3"}),o.jsx("span",{className:"text-sm font-medium",children:'Click "Publish" in Firebase Console'})]})}),o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(cn,{variant:"outline",className:"bg-green-100 text-green-800 border-green-300",children:"Step 4"}),o.jsx("span",{className:"text-sm font-medium",children:"Test storage connection again"})]})}),o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:o.jsxs("p",{className:"text-sm text-yellow-800",children:[o.jsx("strong",{children:"Note:"})," These are temporary testing rules. Once uploads work, you can use more secure production rules."]})}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h4",{className:"font-semibold",children:"Advanced Debugging"}),o.jsxs(et,{variant:"outline",size:"sm",onClick:()=>n(!r),className:"gap-2",children:[o.jsx(xE,{className:"h-4 w-4"}),r?"Hide":"Show"," Diagnostic"]})]}),r&&o.jsx(ZPe,{})]})]})]})},Kz="AIzaSyB157Scv_vGJC9vc5fTAPF0g2xQlRx5nL8",eFe=()=>new Promise((e,t)=>{if(!navigator.geolocation){t(new Error("Geolocation is not supported by your browser"));return}navigator.geolocation.getCurrentPosition(r=>{e({lat:r.coords.latitude,lng:r.coords.longitude,accuracy:r.coords.accuracy,timestamp:new Date})},r=>{let n="Failed to get location";switch(r.code){case r.PERMISSION_DENIED:n="Location permission denied. Please enable location access in browser settings.";break;case r.POSITION_UNAVAILABLE:n="Location information unavailable.";break;case r.TIMEOUT:n="Location request timed out.";break}t(new Error(n))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}),tFe=async(e,t)=>{try{const n=await(await fetch(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${e},${t}&key=${Kz}`)).json();if(n.status==="OK"&&n.results.length>0)return n.results[0].formatted_address;console.warn("Google Geocoding API failed (Status: "+n.status+"). trying fallback...")}catch(r){console.error("Google Geocoding error:",r)}try{console.log("Using OpenStreetMap fallback for address...");const n=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${e}&lon=${t}`)).json();if(n&&n.display_name)return n.display_name}catch(r){console.error("Nominatim Geocoding error:",r)}return`${e.toFixed(6)}, ${t.toFixed(6)}`},eue=async()=>{const e=await eFe(),t=await tFe(e.lat,e.lng);return{gps:e,address:t}};function tue({onLocationCaptured:e,disabled:t}){const[r,n]=C.useState(!1),[i,s]=C.useState(!1),{toast:a}=Lo(),l=async()=>{n(!0),s(!1);try{const c=await eue();e(c.gps,c.address||""),s(!0),a({title:"Location Captured! ",description:c.address||`GPS: ${c.gps.lat.toFixed(6)}, ${c.gps.lng.toFixed(6)}`}),setTimeout(()=>s(!1),3e3)}catch(c){a({title:"Location Capture Failed",description:c.message||"Please enable location access in your browser.",variant:"destructive"})}finally{n(!1)}};return o.jsx(et,{type:"button",variant:"outline",onClick:l,disabled:r||t,className:`gap-2 ${i?"border-green-500 bg-green-50":""}`,children:r?o.jsxs(o.Fragment,{children:[o.jsx(uh,{className:"h-4 w-4 animate-spin"}),"Capturing GPS..."]}):i?o.jsxs(o.Fragment,{children:[o.jsx(jb,{className:"h-4 w-4 text-green-600"}),"Location Captured!"]}):o.jsxs(o.Fragment,{children:[o.jsx(Jd,{className:"h-4 w-4"})," Capture GPS Location"]})})}const sg="delivery_tracking",h0={async startTracking(e){try{const t=Yi(),r=await ka(jr(Et,sg),{...e,dispatched_at:t,last_updated:t,delivered_at:null,status:e.status||"pending",locationHistory:[{lat:e.current_latitude,lng:e.current_longitude,address:e.current_location_name,timestamp:new Date}]});return console.log(" Delivery tracking started:",r.id),r.id}catch(t){throw console.error(" Error starting tracking:",t),t}},async getTrackingById(e){try{const t=pn(Et,sg,e),r=await ql(t);return r.exists()?{id:r.id,...r.data()}:null}catch(t){return console.error(" Error getting tracking by ID:",t),null}},async updateLocation(e,t,r,n){try{const i=pn(Et,sg,e),s=await ql(i),a=s.exists()?s.data().locationHistory||[]:[];await Ns(i,{current_latitude:t,current_longitude:r,current_location_name:n,currentLocationDisplay:` ${n}`,last_updated:Yi(),locationHistory:[...a,{lat:t,lng:r,address:n,timestamp:new Date}]}),console.log(" Location updated for:",e)}catch(i){throw console.error(" Error updating location:",i),i}},async updateStatus(e,t){try{const r=pn(Et,sg,e);await Ns(r,{status:t,last_updated:Yi()}),console.log(" Status updated to:",t)}catch(r){throw console.error(" Error updating status:",r),r}},async markAsDelivered(e){try{const t=pn(Et,sg,e);await Ns(t,{status:"delivered",delivered_at:Yi(),last_updated:Yi()}),console.log(" Delivery marked as completed:",e)}catch(t){throw console.error(" Error marking as delivered:",t),t}},async getTrackingBySaleId(e){try{const t=Ai(jr(Et,sg),Xa("sale_id","==",e)),r=await Si(t);if(r.empty)return null;const n=r.docs[0];return{id:n.id,...n.data()}}catch(t){return console.error(" Error getting tracking:",t),null}},subscribeToTracking(e,t){const r=pn(Et,sg,e);return vs(r,n=>{n.exists()&&t({id:n.id,...n.data()})})}},rFe=Object.freeze(Object.defineProperty({__proto__:null,trackingService:h0},Symbol.toStringTag,{value:"Module"}));function qz({onSuccess:e}){const[t,r]=C.useState(!1),[n,i]=C.useState(!1),[s,a]=C.useState({name:"",category:"",hsnSac:"",quantity:"",unit:"Kg",description:"",location:""}),[l,c]=C.useState(null),[u,d]=C.useState(null),[h,A]=C.useState(0),[g,v]=C.useState(!1),[x,y]=C.useState(null),[w,_]=C.useState(""),{toast:E}=Lo(),I=()=>{a({name:"",category:"",hsnSac:"",quantity:"",unit:"Kg",description:"",location:""}),c(null),d(null),v(!1),A(0),y(null),_(""),i(!1)},N=P=>{r(P),i(!1),P||I()},j=()=>`INV${Date.now()}${Math.floor(Math.random()*1e3)}`,T=async P=>{var k,R;if(P.preventDefault(),!n){if(!s.name.trim()){E({title:"Validation Error",description:"Item name is required.",variant:"destructive"});return}if(!s.quantity||parseInt(s.quantity)<0){E({title:"Validation Error",description:"Please enter a valid quantity.",variant:"destructive"});return}if(!s.hsnSac.trim()){E({title:"Validation Error",description:"HSN/SAC Code is required.",variant:"destructive"});return}i(!0);try{const O=j();let M={name:s.name.trim(),category:s.category.trim()||null,hsnSac:s.hsnSac.trim(),quantity:parseInt(s.quantity),unit:s.unit,price:0,barcode_id:O,location:s.location.trim()||null,current_address:w||(x?`${x.lat.toFixed(6)}, ${x.lng.toFixed(6)}`:null),gps:x||void 0};s.description.trim()&&(M.description=s.description.trim());let H;if(l){console.log("=== STORAGE DEBUG INFO ==="),console.log("Selected image:",{name:l.name,size:l.size,type:l.type,sizeInMB:(l.size/(1024*1024)).toFixed(2)+"MB"});const{isValid:ne,error:le}=S8(l);if(!ne){E({title:"Invalid Image",description:le,variant:"destructive"}),i(!1);return}H=await C8(l,600,600,.7),console.log("Image after resize:",{name:H.name,size:H.size,type:H.type,sizeInMB:(H.size/(1024*1024)).toFixed(2)+"MB"})}let K;if(u){const{isValid:ne,error:le}=S8(u);if(!ne){E({title:"Invalid Description Image",description:le,variant:"destructive"}),i(!1);return}K=await C8(u,800,800,.8)}console.log("Adding item with data:",M),console.log("Selected product image:",l?{name:l.name,size:l.size}:"No image"),console.log("Selected description image:",u?{name:u.name,size:u.size}:"No image");let Y;try{Y=await xa.addItemWithImages(M,H,K,ne=>{console.log("Upload progress:",ne+"%"),A(ne)})}catch(ne){if(console.warn("Storage upload failed, adding item without image:",ne),(k=ne.message)!=null&&k.includes("CORS")||(R=ne.message)!=null&&R.includes("unauthorized"))E({title:"Storage Not Configured",description:"Adding item without image. Please configure Firebase Storage rules.",variant:"destructive"}),Y=await xa.addItem(M);else throw ne}E({title:"Stock Added Successfully",description:`${s.name} has been added to inventory with barcode ${O}`}),r(!1),e();try{await h0.startTracking({id:`tracking_${Date.now()}_${O}`,sale_id:O,product_name:s.name.trim(),customer_name:"Warehouse (Initial Stock)",customer_mobile:"-",delivery_address:s.location.trim()||"Warehouse",current_latitude:(x==null?void 0:x.lat)||0,current_longitude:(x==null?void 0:x.lng)||0,current_location_name:w||"Stock Entry Point",currentLocationDisplay:` ${w||"In Warehouse"}`}),console.log(" Initial product location saved in delivery_tracking node")}catch(ne){console.error("Error saving initial location to delivery_tracking:",ne)}I()}catch(O){console.error("Detailed error adding stock:",O);let M="Failed to add stock. Please try again.";(O==null?void 0:O.code)==="permission-denied"?M="Permission denied. Please check Firestore security rules.":(O==null?void 0:O.code)==="unavailable"?M="Firebase service is currently unavailable. Please try again later.":O!=null&&O.message&&(M=`Error: ${O.message}`),E({title:"Error Adding Stock",description:M,variant:"destructive"}),(M.toLowerCase().includes("permission")||M.toLowerCase().includes("unauthorized"))&&v(!0)}finally{i(!1)}}};return o.jsxs(Py,{open:t,onOpenChange:N,children:[o.jsx(LE,{asChild:!0,children:o.jsxs(et,{size:"sm",variant:"outline",className:"gap-1.5 h-8 px-3 border-2 border-[#3B82F6]/30 hover:bg-[#3B82F6] hover:text-white hover:border-[#3B82F6] transition-all duration-300 shadow-md shadow-[#3B82F6]/10 min-w-[100px]",children:[o.jsx(dh,{className:"h-3.5 w-3.5"}),o.jsx("span",{className:"text-xs font-semibold",children:"Stock In"})]})}),o.jsx(Ym,{className:"w-[95vw] max-w-[500px] max-h-[90vh] overflow-y-auto border-2 shadow-xl mx-4",children:o.jsxs("form",{onSubmit:T,children:[o.jsxs(Fy,{className:"space-y-3",children:[o.jsx(Oy,{className:"text-2xl font-bold gradient-text",children:"Add New Stock"}),o.jsx(RE,{className:"text-base",children:"Enter item details. A unique barcode will be generated automatically."})]}),o.jsxs("div",{className:"grid gap-6 py-6",children:[o.jsxs("div",{className:"grid gap-3",children:[o.jsx(xr,{htmlFor:"name",className:"text-sm font-semibold",children:"Item Name *"}),o.jsx(Or,{id:"name",value:s.name,onChange:P=>a({...s,name:P.target.value}),required:!0,placeholder:"Enter item name",className:"h-12 text-base border-2 focus:border-primary transition-colors"})]}),o.jsxs("div",{className:"grid gap-3",children:[o.jsx(xr,{htmlFor:"category",className:"text-sm font-semibold",children:"Category"}),o.jsx(Or,{id:"category",value:s.category,onChange:P=>a({...s,category:P.target.value}),placeholder:"e.g., Electronics, Clothing",className:"h-12 text-base border-2 focus:border-primary transition-colors"})]}),o.jsxs("div",{className:"grid gap-3",children:[o.jsx(xr,{htmlFor:"hsnSac",className:"text-sm font-semibold",children:"HSN/SAC Code *"}),o.jsx(Or,{id:"hsnSac",value:s.hsnSac,onChange:P=>a({...s,hsnSac:P.target.value}),required:!0,placeholder:"Enter HSN/SAC Code",className:"h-12 text-base border-2 focus:border-primary transition-colors"})]}),o.jsxs("div",{className:"grid gap-3",children:[o.jsx(xr,{htmlFor:"quantity",className:"text-sm font-semibold",children:"Quantity *"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Or,{id:"quantity",type:"number",min:"0",step:"0.01",value:s.quantity,onChange:P=>a({...s,quantity:P.target.value}),required:!0,placeholder:"Enter quantity",className:"flex-1 h-12 text-base border-2 focus:border-primary transition-colors"}),o.jsxs("select",{value:s.unit,onChange:P=>a({...s,unit:P.target.value}),className:"w-28 h-12 px-3 py-2 text-base font-semibold border-2 rounded-md bg-gray-50 focus:border-primary focus:outline-none transition-colors",children:[o.jsx("option",{value:"Bag",children:"BAGS (Bag)"}),o.jsx("option",{value:"Btl",children:"BOTTLES (Btl)"}),o.jsx("option",{value:"Box",children:"BOX (Box)"}),o.jsx("option",{value:"Bdl",children:"BUNDLES (Bdl)"}),o.jsx("option",{value:"Can",children:"CANS (Can)"}),o.jsx("option",{value:"Ctn",children:"CARTONS (Ctn)"}),o.jsx("option",{value:"Dzn",children:"DOZENS (Dzn)"}),o.jsx("option",{value:"Gm",children:"GRAMMES (Gm)"}),o.jsx("option",{value:"Kg",children:"KILOGRAMS (Kg)"}),o.jsx("option",{value:"Ltr",children:"LITRE (Ltr)"}),o.jsx("option",{value:"Mtr",children:"METERS (Mtr)"}),o.jsx("option",{value:"Ml",children:"MILILITRE (Ml)"}),o.jsx("option",{value:"Nos",children:"NUMBERS (Nos)"}),o.jsx("option",{value:"Pac",children:"PACKS (Pac)"}),o.jsx("option",{value:"Prs",children:"PAIRS (Prs)"}),o.jsx("option",{value:"Pcs",children:"PIECES (Pcs)"}),o.jsx("option",{value:"Qtl",children:"QUINTAL (Qtl)"}),o.jsx("option",{value:"Rol",children:"ROLLS (Rol)"}),o.jsx("option",{value:"Sqf",children:"SQUARE FEET (Sqf)"})]})]})]}),o.jsxs("div",{className:"grid gap-3",children:[o.jsx(xr,{htmlFor:"location",className:"text-sm font-semibold",children:"Storage Location"}),o.jsx(Or,{id:"location",value:s.location,onChange:P=>a({...s,location:P.target.value}),placeholder:"e.g., Shelf A1, Warehouse B",className:"h-12 text-base border-2 focus:border-primary transition-colors"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx(tue,{onLocationCaptured:(P,k)=>{y(P),_(k),a({...s,location:k||`${P.lat.toFixed(6)}, ${P.lng.toFixed(6)}`})},disabled:n}),(w||x)&&o.jsxs("span",{className:"text-xs text-green-600 font-medium",children:[" ",w||`GPS: ${x==null?void 0:x.lat.toFixed(4)}, ${x==null?void 0:x.lng.toFixed(4)}`]})]})]}),o.jsxs("div",{className:"grid gap-3",children:[o.jsx(xr,{htmlFor:"description",className:"text-sm font-semibold",children:"Description"}),o.jsx("textarea",{id:"description",value:s.description,onChange:P=>a({...s,description:P.target.value}),placeholder:"Enter item description or specifications",className:"min-h-[80px] w-full rounded-md border-2 border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 focus:border-primary transition-colors",rows:3})]}),o.jsxs("div",{className:"grid gap-3",children:[o.jsx(xr,{className:"text-sm font-semibold",children:"Description Image (Optional)"}),o.jsx(S5,{onImageSelect:d,onImageRemove:()=>d(null),disabled:n}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload an image for the description (e.g., specifications sheet)"})]}),o.jsxs("div",{className:"grid gap-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(xr,{className:"text-sm font-semibold",children:"Item Image (Optional)"}),o.jsx(YPe,{})]}),o.jsx(S5,{onImageSelect:c,onImageRemove:()=>c(null),disabled:n}),g&&o.jsx("div",{className:"mt-4",children:o.jsx(JPe,{})})]})]}),o.jsxs(lU,{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[o.jsx(et,{type:"button",variant:"outline",onClick:()=>{I(),r(!1)},className:"h-12 w-full sm:w-auto order-2 sm:order-1",children:"Cancel"}),o.jsx(et,{type:"submit",disabled:n||!s.name||!s.quantity||!s.hsnSac,className:"h-12 w-full sm:w-auto bg-gradient-to-r from-primary to-primary-glow hover:from-primary-glow hover:to-primary text-white border-0 shadow-lg button-glow order-1 sm:order-2",children:n?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Adding..."]}):"Add Stock"})]})]})})]})}var cU={},BB={},Tc={};Object.defineProperty(Tc,"__esModule",{value:!0});function nFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var iFe=function e(t,r){nFe(this,e),this.data=t,this.text=r.text||t,this.options=r};Tc.default=iFe;Object.defineProperty(BB,"__esModule",{value:!0});BB.CODE39=void 0;var sFe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),aFe=Tc,oFe=lFe(aFe);function lFe(e){return e&&e.__esModule?e:{default:e}}function cFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uFe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function dFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var fFe=function(e){dFe(t,e);function t(r,n){return cFe(this,t),r=r.toUpperCase(),n.mod43&&(r+=pFe(gFe(r))),uFe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return sFe(t,[{key:"encode",value:function(){for(var n=Rj("*"),i=0;i<this.data.length;i++)n+=Rj(this.data[i])+"0";return n+=Rj("*"),{data:n,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),t}(oFe.default),rue=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],hFe=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function Rj(e){return AFe(nue(e))}function AFe(e){return hFe[e].toString(2)}function pFe(e){return rue[e]}function nue(e){return rue.indexOf(e)}function gFe(e){for(var t=0,r=0;r<e.length;r++)t+=nue(e[r]);return t=t%43,t}BB.CODE39=fFe;var zf={},uU={},Dy={},Ks={};Object.defineProperty(Ks,"__esModule",{value:!0});var Cw;function Mj(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var iue=Ks.SET_A=0,sue=Ks.SET_B=1,aue=Ks.SET_C=2;Ks.SHIFT=98;var mFe=Ks.START_A=103,xFe=Ks.START_B=104,vFe=Ks.START_C=105;Ks.MODULO=103;Ks.STOP=106;Ks.FNC1=207;Ks.SET_BY_CODE=(Cw={},Mj(Cw,mFe,iue),Mj(Cw,xFe,sue),Mj(Cw,vFe,aue),Cw);Ks.SWAP={101:iue,100:sue,99:aue};Ks.A_START_CHAR="";Ks.B_START_CHAR="";Ks.C_START_CHAR="";Ks.A_CHARS="[\0-_-]";Ks.B_CHARS="[ --]";Ks.C_CHARS="(*[0-9]{2}*)";Ks.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011];Object.defineProperty(Dy,"__esModule",{value:!0});var yFe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),wFe=Tc,bFe=_Fe(wFe),du=Ks;function _Fe(e){return e&&e.__esModule?e:{default:e}}function EFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SFe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function CFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var NFe=function(e){CFe(t,e);function t(r,n){EFe(this,t);var i=SFe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r.substring(1),n));return i.bytes=r.split("").map(function(s){return s.charCodeAt(0)}),i}return yFe(t,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var n=this.bytes,i=n.shift()-105,s=du.SET_BY_CODE[i];if(s===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&n.unshift(du.FNC1);var a=t.next(n,1,s);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:t.getBar(i)+a.result+t.getBar((a.checksum+i)%du.MODULO)+t.getBar(du.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var n=this.options.ean128||!1;return typeof n=="string"&&(n=n.toLowerCase()==="true"),n}}],[{key:"getBar",value:function(n){return du.BARS[n]?du.BARS[n].toString():""}},{key:"correctIndex",value:function(n,i){if(i===du.SET_A){var s=n.shift();return s<32?s+64:s-32}else return i===du.SET_B?n.shift()-32:(n.shift()-48)*10+n.shift()-48}},{key:"next",value:function(n,i,s){if(!n.length)return{result:"",checksum:0};var a=void 0,l=void 0;if(n[0]>=200){l=n.shift()-105;var c=du.SWAP[l];c!==void 0?a=t.next(n,i+1,c):((s===du.SET_A||s===du.SET_B)&&l===du.SHIFT&&(n[0]=s===du.SET_A?n[0]>95?n[0]-96:n[0]:n[0]<32?n[0]+96:n[0]),a=t.next(n,i+1,s))}else l=t.correctIndex(n,s),a=t.next(n,i+1,s);var u=t.getBar(l),d=l*i;return{result:u+a.result,checksum:d+a.checksum}}}]),t}(bFe.default);Dy.default=NFe;var dU={};Object.defineProperty(dU,"__esModule",{value:!0});var op=Ks,oue=function(t){return t.match(new RegExp("^"+op.A_CHARS+"*"))[0].length},lue=function(t){return t.match(new RegExp("^"+op.B_CHARS+"*"))[0].length},cue=function(t){return t.match(new RegExp("^"+op.C_CHARS+"*"))[0]};function fU(e,t){var r=t?op.A_CHARS:op.B_CHARS,n=e.match(new RegExp("^("+r+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(n)return n[1]+""+uue(e.substring(n[1].length));var i=e.match(new RegExp("^"+r+"+"))[0];return i.length===e.length?e:i+String.fromCharCode(t?205:206)+fU(e.substring(i.length),!t)}function uue(e){var t=cue(e),r=t.length;if(r===e.length)return e;e=e.substring(r);var n=oue(e)>=lue(e);return t+String.fromCharCode(n?206:205)+fU(e,n)}dU.default=function(e){var t=void 0,r=cue(e).length;if(r>=2)t=op.C_START_CHAR+uue(e);else{var n=oue(e)>lue(e);t=(n?op.A_START_CHAR:op.B_START_CHAR)+fU(e,n)}return t.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(i,s){return""+s})};Object.defineProperty(uU,"__esModule",{value:!0});var TFe=Dy,BFe=due(TFe),IFe=dU,kFe=due(IFe);function due(e){return e&&e.__esModule?e:{default:e}}function jFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uj(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function PFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var FFe=function(e){PFe(t,e);function t(r,n){if(jFe(this,t),/^[\x00-\x7F\xC8-\xD3]+$/.test(r))var i=Uj(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,(0,kFe.default)(r),n));else var i=Uj(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));return Uj(i)}return t}(BFe.default);uU.default=FFe;var hU={};Object.defineProperty(hU,"__esModule",{value:!0});var OFe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),DFe=Dy,LFe=RFe(DFe),Xz=Ks;function RFe(e){return e&&e.__esModule?e:{default:e}}function MFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UFe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function HFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var QFe=function(e){HFe(t,e);function t(r,n){return MFe(this,t),UFe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Xz.A_START_CHAR+r,n))}return OFe(t,[{key:"valid",value:function(){return new RegExp("^"+Xz.A_CHARS+"+$").test(this.data)}}]),t}(LFe.default);hU.default=QFe;var AU={};Object.defineProperty(AU,"__esModule",{value:!0});var $Fe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),VFe=Dy,zFe=GFe(VFe),Yz=Ks;function GFe(e){return e&&e.__esModule?e:{default:e}}function WFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KFe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function qFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var XFe=function(e){qFe(t,e);function t(r,n){return WFe(this,t),KFe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Yz.B_START_CHAR+r,n))}return $Fe(t,[{key:"valid",value:function(){return new RegExp("^"+Yz.B_CHARS+"+$").test(this.data)}}]),t}(zFe.default);AU.default=XFe;var pU={};Object.defineProperty(pU,"__esModule",{value:!0});var YFe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),ZFe=Dy,JFe=e8e(ZFe),Zz=Ks;function e8e(e){return e&&e.__esModule?e:{default:e}}function t8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r8e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function n8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i8e=function(e){n8e(t,e);function t(r,n){return t8e(this,t),r8e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Zz.C_START_CHAR+r,n))}return YFe(t,[{key:"valid",value:function(){return new RegExp("^"+Zz.C_CHARS+"+$").test(this.data)}}]),t}(JFe.default);pU.default=i8e;Object.defineProperty(zf,"__esModule",{value:!0});zf.CODE128C=zf.CODE128B=zf.CODE128A=zf.CODE128=void 0;var s8e=uU,a8e=IB(s8e),o8e=hU,l8e=IB(o8e),c8e=AU,u8e=IB(c8e),d8e=pU,f8e=IB(d8e);function IB(e){return e&&e.__esModule?e:{default:e}}zf.CODE128=a8e.default;zf.CODE128A=l8e.default;zf.CODE128B=u8e.default;zf.CODE128C=f8e.default;var Uc={},gU={},Bd={};Object.defineProperty(Bd,"__esModule",{value:!0});Bd.SIDE_BIN="101";Bd.MIDDLE_BIN="01010";Bd.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]};Bd.EAN2_STRUCTURE=["LL","LG","GL","GG"];Bd.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"];Bd.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"];var kB={},Zm={};Object.defineProperty(Zm,"__esModule",{value:!0});var h8e=Bd,A8e=function(t,r,n){var i=t.split("").map(function(a,l){return h8e.BINARIES[r[l]]}).map(function(a,l){return a?a[t[l]]:""});if(n){var s=t.length-1;i=i.map(function(a,l){return l<s?a+n:a})}return i.join("")};Zm.default=A8e;Object.defineProperty(kB,"__esModule",{value:!0});var p8e=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),w1=Bd,g8e=Zm,Jz=fue(g8e),m8e=Tc,x8e=fue(m8e);function fue(e){return e&&e.__esModule?e:{default:e}}function v8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y8e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function w8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b8e=function(e){w8e(t,e);function t(r,n){v8e(this,t);var i=y8e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));return i.fontSize=!n.flat&&n.fontSize>n.width*10?n.width*10:n.fontSize,i.guardHeight=n.height+i.fontSize/2+n.textMargin,i}return p8e(t,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(n,i){return this.text.substr(n,i)}},{key:"leftEncode",value:function(n,i){return(0,Jz.default)(n,i)}},{key:"rightText",value:function(n,i){return this.text.substr(n,i)}},{key:"rightEncode",value:function(n,i){return(0,Jz.default)(n,i)}},{key:"encodeGuarded",value:function(){var n={fontSize:this.fontSize},i={height:this.guardHeight};return[{data:w1.SIDE_BIN,options:i},{data:this.leftEncode(),text:this.leftText(),options:n},{data:w1.MIDDLE_BIN,options:i},{data:this.rightEncode(),text:this.rightText(),options:n},{data:w1.SIDE_BIN,options:i}]}},{key:"encodeFlat",value:function(){var n=[w1.SIDE_BIN,this.leftEncode(),w1.MIDDLE_BIN,this.rightEncode(),w1.SIDE_BIN];return{data:n.join(""),text:this.text}}}]),t}(x8e.default);kB.default=b8e;Object.defineProperty(gU,"__esModule",{value:!0});var _8e=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Nw=function e(t,r,n){t===null&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(i===void 0){var s=Object.getPrototypeOf(t);return s===null?void 0:e(s,r,n)}else{if("value"in i)return i.value;var a=i.get;return a===void 0?void 0:a.call(n)}},E8e=Bd,S8e=kB,C8e=N8e(S8e);function N8e(e){return e&&e.__esModule?e:{default:e}}function T8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B8e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function I8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var eG=function(t){var r=t.substr(0,12).split("").map(function(n){return+n}).reduce(function(n,i,s){return s%2?n+i*3:n+i},0);return(10-r%10)%10},k8e=function(e){I8e(t,e);function t(r,n){T8e(this,t),r.search(/^[0-9]{12}$/)!==-1&&(r+=eG(r));var i=B8e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));return i.lastChar=n.lastChar,i}return _8e(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===eG(this.data)}},{key:"leftText",value:function(){return Nw(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var n=this.data.substr(1,6),i=E8e.EAN13_STRUCTURE[this.data[0]];return Nw(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,n,i)}},{key:"rightText",value:function(){return Nw(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var n=this.data.substr(7,6);return Nw(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,n,"RRRRRR")}},{key:"encodeGuarded",value:function(){var n=Nw(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(n.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(n.push({data:"00"}),n.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),n}}]),t}(C8e.default);gU.default=k8e;var mU={};Object.defineProperty(mU,"__esModule",{value:!0});var j8e=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),pC=function e(t,r,n){t===null&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(i===void 0){var s=Object.getPrototypeOf(t);return s===null?void 0:e(s,r,n)}else{if("value"in i)return i.value;var a=i.get;return a===void 0?void 0:a.call(n)}},P8e=kB,F8e=O8e(P8e);function O8e(e){return e&&e.__esModule?e:{default:e}}function D8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L8e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function R8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var tG=function(t){var r=t.substr(0,7).split("").map(function(n){return+n}).reduce(function(n,i,s){return s%2?n+i:n+i*3},0);return(10-r%10)%10},M8e=function(e){R8e(t,e);function t(r,n){return D8e(this,t),r.search(/^[0-9]{7}$/)!==-1&&(r+=tG(r)),L8e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return j8e(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===tG(this.data)}},{key:"leftText",value:function(){return pC(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var n=this.data.substr(0,4);return pC(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,n,"LLLL")}},{key:"rightText",value:function(){return pC(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var n=this.data.substr(4,4);return pC(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,n,"RRRR")}}]),t}(F8e.default);mU.default=M8e;var xU={};Object.defineProperty(xU,"__esModule",{value:!0});var U8e=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),H8e=Bd,Q8e=Zm,$8e=hue(Q8e),V8e=Tc,z8e=hue(V8e);function hue(e){return e&&e.__esModule?e:{default:e}}function G8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W8e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function K8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var q8e=function(t){var r=t.split("").map(function(n){return+n}).reduce(function(n,i,s){return s%2?n+i*9:n+i*3},0);return r%10},X8e=function(e){K8e(t,e);function t(r,n){return G8e(this,t),W8e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return U8e(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var n=H8e.EAN5_STRUCTURE[q8e(this.data)];return{data:"1011"+(0,$8e.default)(this.data,n,"01"),text:this.text}}}]),t}(z8e.default);xU.default=X8e;var vU={};Object.defineProperty(vU,"__esModule",{value:!0});var Y8e=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Z8e=Bd,J8e=Zm,eOe=Aue(J8e),tOe=Tc,rOe=Aue(tOe);function Aue(e){return e&&e.__esModule?e:{default:e}}function nOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iOe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function sOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var aOe=function(e){sOe(t,e);function t(r,n){return nOe(this,t),iOe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return Y8e(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var n=Z8e.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,eOe.default)(this.data,n,"01"),text:this.text}}}]),t}(rOe.default);vU.default=aOe;var ME={};Object.defineProperty(ME,"__esModule",{value:!0});var oOe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();ME.checksum=N8;var lOe=Zm,b1=pue(lOe),cOe=Tc,uOe=pue(cOe);function pue(e){return e&&e.__esModule?e:{default:e}}function dOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fOe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function hOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var AOe=function(e){hOe(t,e);function t(r,n){dOe(this,t),r.search(/^[0-9]{11}$/)!==-1&&(r+=N8(r));var i=fOe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));return i.displayValue=n.displayValue,n.fontSize>n.width*10?i.fontSize=n.width*10:i.fontSize=n.fontSize,i.guardHeight=n.height+i.fontSize/2+n.textMargin,i}return oOe(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==N8(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var n="";return n+="101",n+=(0,b1.default)(this.data.substr(0,6),"LLLLLL"),n+="01010",n+=(0,b1.default)(this.data.substr(6,6),"RRRRRR"),n+="101",{data:n,text:this.text}}},{key:"guardedEncoding",value:function(){var n=[];return this.displayValue&&n.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),n.push({data:"101"+(0,b1.default)(this.data[0],"L"),options:{height:this.guardHeight}}),n.push({data:(0,b1.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),n.push({data:"01010",options:{height:this.guardHeight}}),n.push({data:(0,b1.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),n.push({data:(0,b1.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&n.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),n}}]),t}(uOe.default);function N8(e){var t=0,r;for(r=1;r<11;r+=2)t+=parseInt(e[r]);for(r=0;r<11;r+=2)t+=parseInt(e[r])*3;return(10-t%10)%10}ME.default=AOe;var yU={};Object.defineProperty(yU,"__esModule",{value:!0});var pOe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),gOe=Zm,mOe=gue(gOe),xOe=Tc,vOe=gue(xOe),yOe=ME;function gue(e){return e&&e.__esModule?e:{default:e}}function wOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hj(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function bOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _Oe=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],EOe=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],SOe=function(e){bOe(t,e);function t(r,n){wOe(this,t);var i=Hj(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));if(i.isValid=!1,r.search(/^[0-9]{6}$/)!==-1)i.middleDigits=r,i.upcA=rG(r,"0"),i.text=n.text||""+i.upcA[0]+r+i.upcA[i.upcA.length-1],i.isValid=!0;else if(r.search(/^[01][0-9]{7}$/)!==-1)if(i.middleDigits=r.substring(1,r.length-1),i.upcA=rG(i.middleDigits,r[0]),i.upcA[i.upcA.length-1]===r[r.length-1])i.isValid=!0;else return Hj(i);else return Hj(i);return i.displayValue=n.displayValue,n.fontSize>n.width*10?i.fontSize=n.width*10:i.fontSize=n.fontSize,i.guardHeight=n.height+i.fontSize/2+n.textMargin,i}return pOe(t,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var n="";return n+="101",n+=this.encodeMiddleDigits(),n+="010101",{data:n,text:this.text}}},{key:"guardedEncoding",value:function(){var n=[];return this.displayValue&&n.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),n.push({data:"101",options:{height:this.guardHeight}}),n.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),n.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&n.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),n}},{key:"encodeMiddleDigits",value:function(){var n=this.upcA[0],i=this.upcA[this.upcA.length-1],s=EOe[parseInt(i)][parseInt(n)];return(0,mOe.default)(this.middleDigits,s)}}]),t}(vOe.default);function rG(e,t){for(var r=parseInt(e[e.length-1]),n=_Oe[r],i="",s=0,a=0;a<n.length;a++){var l=n[a];l==="X"?i+=e[s++]:i+=l}return i=""+t+i,""+i+(0,yOe.checksum)(i)}yU.default=SOe;Object.defineProperty(Uc,"__esModule",{value:!0});Uc.UPCE=Uc.UPC=Uc.EAN2=Uc.EAN5=Uc.EAN8=Uc.EAN13=void 0;var COe=gU,NOe=Ly(COe),TOe=mU,BOe=Ly(TOe),IOe=xU,kOe=Ly(IOe),jOe=vU,POe=Ly(jOe),FOe=ME,OOe=Ly(FOe),DOe=yU,LOe=Ly(DOe);function Ly(e){return e&&e.__esModule?e:{default:e}}Uc.EAN13=NOe.default;Uc.EAN8=BOe.default;Uc.EAN5=kOe.default;Uc.EAN2=POe.default;Uc.UPC=OOe.default;Uc.UPCE=LOe.default;var kv={},jB={},UE={};Object.defineProperty(UE,"__esModule",{value:!0});UE.START_BIN="1010";UE.END_BIN="11101";UE.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"];Object.defineProperty(jB,"__esModule",{value:!0});var ROe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),gC=UE,MOe=Tc,UOe=HOe(MOe);function HOe(e){return e&&e.__esModule?e:{default:e}}function QOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $Oe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function VOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var zOe=function(e){VOe(t,e);function t(){return QOe(this,t),$Oe(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ROe(t,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var n=this,i=this.data.match(/.{2}/g).map(function(s){return n.encodePair(s)}).join("");return{data:gC.START_BIN+i+gC.END_BIN,text:this.text}}},{key:"encodePair",value:function(n){var i=gC.BINARIES[n[1]];return gC.BINARIES[n[0]].split("").map(function(s,a){return(s==="1"?"111":"1")+(i[a]==="1"?"000":"0")}).join("")}}]),t}(UOe.default);jB.default=zOe;var wU={};Object.defineProperty(wU,"__esModule",{value:!0});var GOe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),WOe=jB,KOe=qOe(WOe);function qOe(e){return e&&e.__esModule?e:{default:e}}function XOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YOe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function ZOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var nG=function(t){var r=t.substr(0,13).split("").map(function(n){return parseInt(n,10)}).reduce(function(n,i,s){return n+i*(3-s%2*2)},0);return Math.ceil(r/10)*10-r},JOe=function(e){ZOe(t,e);function t(r,n){return XOe(this,t),r.search(/^[0-9]{13}$/)!==-1&&(r+=nG(r)),YOe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return GOe(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===nG(this.data)}}]),t}(KOe.default);wU.default=JOe;Object.defineProperty(kv,"__esModule",{value:!0});kv.ITF14=kv.ITF=void 0;var eDe=jB,tDe=mue(eDe),rDe=wU,nDe=mue(rDe);function mue(e){return e&&e.__esModule?e:{default:e}}kv.ITF=tDe.default;kv.ITF14=nDe.default;var cd={},Jm={};Object.defineProperty(Jm,"__esModule",{value:!0});var iDe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),sDe=Tc,aDe=oDe(sDe);function oDe(e){return e&&e.__esModule?e:{default:e}}function lDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cDe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function uDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var dDe=function(e){uDe(t,e);function t(r,n){return lDe(this,t),cDe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return iDe(t,[{key:"encode",value:function(){for(var n="110",i=0;i<this.data.length;i++){var s=parseInt(this.data[i]),a=s.toString(2);a=fDe(a,4-a.length);for(var l=0;l<a.length;l++)n+=a[l]=="0"?"100":"110"}return n+="1001",{data:n,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),t}(aDe.default);function fDe(e,t){for(var r=0;r<t;r++)e="0"+e;return e}Jm.default=dDe;var bU={},e1={};Object.defineProperty(e1,"__esModule",{value:!0});e1.mod10=hDe;e1.mod11=ADe;function hDe(e){for(var t=0,r=0;r<e.length;r++){var n=parseInt(e[r]);(r+e.length)%2===0?t+=n:t+=n*2%10+Math.floor(n*2/10)}return(10-t%10)%10}function ADe(e){for(var t=0,r=[2,3,4,5,6,7],n=0;n<e.length;n++){var i=parseInt(e[e.length-1-n]);t+=r[n%r.length]*i}return(11-t%11)%11}Object.defineProperty(bU,"__esModule",{value:!0});var pDe=Jm,gDe=xDe(pDe),mDe=e1;function xDe(e){return e&&e.__esModule?e:{default:e}}function vDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yDe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function wDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var bDe=function(e){wDe(t,e);function t(r,n){return vDe(this,t),yDe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r+(0,mDe.mod10)(r),n))}return t}(gDe.default);bU.default=bDe;var _U={};Object.defineProperty(_U,"__esModule",{value:!0});var _De=Jm,EDe=CDe(_De),SDe=e1;function CDe(e){return e&&e.__esModule?e:{default:e}}function NDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TDe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function BDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var IDe=function(e){BDe(t,e);function t(r,n){return NDe(this,t),TDe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r+(0,SDe.mod11)(r),n))}return t}(EDe.default);_U.default=IDe;var EU={};Object.defineProperty(EU,"__esModule",{value:!0});var kDe=Jm,jDe=PDe(kDe),iG=e1;function PDe(e){return e&&e.__esModule?e:{default:e}}function FDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ODe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function DDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var LDe=function(e){DDe(t,e);function t(r,n){return FDe(this,t),r+=(0,iG.mod10)(r),r+=(0,iG.mod10)(r),ODe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return t}(jDe.default);EU.default=LDe;var SU={};Object.defineProperty(SU,"__esModule",{value:!0});var RDe=Jm,MDe=UDe(RDe),sG=e1;function UDe(e){return e&&e.__esModule?e:{default:e}}function HDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QDe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function $De(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var VDe=function(e){$De(t,e);function t(r,n){return HDe(this,t),r+=(0,sG.mod11)(r),r+=(0,sG.mod10)(r),QDe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return t}(MDe.default);SU.default=VDe;Object.defineProperty(cd,"__esModule",{value:!0});cd.MSI1110=cd.MSI1010=cd.MSI11=cd.MSI10=cd.MSI=void 0;var zDe=Jm,GDe=HE(zDe),WDe=bU,KDe=HE(WDe),qDe=_U,XDe=HE(qDe),YDe=EU,ZDe=HE(YDe),JDe=SU,eLe=HE(JDe);function HE(e){return e&&e.__esModule?e:{default:e}}cd.MSI=GDe.default;cd.MSI10=KDe.default;cd.MSI11=XDe.default;cd.MSI1010=ZDe.default;cd.MSI1110=eLe.default;var PB={};Object.defineProperty(PB,"__esModule",{value:!0});PB.pharmacode=void 0;var tLe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),rLe=Tc,nLe=iLe(rLe);function iLe(e){return e&&e.__esModule?e:{default:e}}function sLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aLe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function oLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var lLe=function(e){oLe(t,e);function t(r,n){sLe(this,t);var i=aLe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));return i.number=parseInt(r,10),i}return tLe(t,[{key:"encode",value:function(){for(var n=this.number,i="";!isNaN(n)&&n!=0;)n%2===0?(i="11100"+i,n=(n-2)/2):(i="100"+i,n=(n-1)/2);return i=i.slice(0,-2),{data:i,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),t}(nLe.default);PB.pharmacode=lLe;var FB={};Object.defineProperty(FB,"__esModule",{value:!0});FB.codabar=void 0;var cLe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),uLe=Tc,dLe=fLe(uLe);function fLe(e){return e&&e.__esModule?e:{default:e}}function hLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ALe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function pLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var gLe=function(e){pLe(t,e);function t(r,n){hLe(this,t),r.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(r="A"+r+"A");var i=ALe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r.toUpperCase(),n));return i.text=i.options.text||i.text.replace(/[A-D]/g,""),i}return cLe(t,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var n=[],i=this.getEncodings(),s=0;s<this.data.length;s++)n.push(i[this.data.charAt(s)]),s!==this.data.length-1&&n.push("0");return{text:this.text,data:n.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),t}(dLe.default);FB.codabar=gLe;var jv={},OB={},QE={};Object.defineProperty(QE,"__esModule",{value:!0});QE.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""];QE.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"];QE.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]};Object.defineProperty(OB,"__esModule",{value:!0});var mLe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),mC=QE,xLe=Tc,vLe=yLe(xLe);function yLe(e){return e&&e.__esModule?e:{default:e}}function wLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bLe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function _Le(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ELe=function(e){_Le(t,e);function t(r,n){return wLe(this,t),bLe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return mLe(t,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var n=this.data.split("").flatMap(function(l){return mC.MULTI_SYMBOLS[l]||l}),i=n.map(function(l){return t.getEncoding(l)}).join(""),s=t.checksum(n,20),a=t.checksum(n.concat(s),15);return{text:this.text,data:t.getEncoding("")+i+t.getEncoding(s)+t.getEncoding(a)+t.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(n){return mC.BINARIES[t.symbolValue(n)]}},{key:"getSymbol",value:function(n){return mC.SYMBOLS[n]}},{key:"symbolValue",value:function(n){return mC.SYMBOLS.indexOf(n)}},{key:"checksum",value:function(n,i){var s=n.slice().reverse().reduce(function(a,l,c){var u=c%i+1;return a+t.symbolValue(l)*u},0);return t.getSymbol(s%47)}}]),t}(vLe.default);OB.default=ELe;var CU={};Object.defineProperty(CU,"__esModule",{value:!0});var SLe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),CLe=OB,NLe=TLe(CLe);function TLe(e){return e&&e.__esModule?e:{default:e}}function BLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ILe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function kLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var jLe=function(e){kLe(t,e);function t(r,n){return BLe(this,t),ILe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return SLe(t,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),t}(NLe.default);CU.default=jLe;Object.defineProperty(jv,"__esModule",{value:!0});jv.CODE93FullASCII=jv.CODE93=void 0;var PLe=OB,FLe=xue(PLe),OLe=CU,DLe=xue(OLe);function xue(e){return e&&e.__esModule?e:{default:e}}jv.CODE93=FLe.default;jv.CODE93FullASCII=DLe.default;var DB={};Object.defineProperty(DB,"__esModule",{value:!0});DB.GenericBarcode=void 0;var LLe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),RLe=Tc,MLe=ULe(RLe);function ULe(e){return e&&e.__esModule?e:{default:e}}function HLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QLe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function $Le(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var VLe=function(e){$Le(t,e);function t(r,n){return HLe(this,t),QLe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return LLe(t,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),t}(MLe.default);DB.GenericBarcode=VLe;Object.defineProperty(cU,"__esModule",{value:!0});var zLe=BB,xC=zf,_1=Uc,aG=kv,Tw=cd,GLe=PB,WLe=FB,oG=jv,KLe=DB;cU.default={CODE39:zLe.CODE39,CODE128:xC.CODE128,CODE128A:xC.CODE128A,CODE128B:xC.CODE128B,CODE128C:xC.CODE128C,EAN13:_1.EAN13,EAN8:_1.EAN8,EAN5:_1.EAN5,EAN2:_1.EAN2,UPC:_1.UPC,UPCE:_1.UPCE,ITF14:aG.ITF14,ITF:aG.ITF,MSI:Tw.MSI,MSI10:Tw.MSI10,MSI11:Tw.MSI11,MSI1010:Tw.MSI1010,MSI1110:Tw.MSI1110,pharmacode:GLe.pharmacode,codabar:WLe.codabar,CODE93:oG.CODE93,CODE93FullASCII:oG.CODE93FullASCII,GenericBarcode:KLe.GenericBarcode};var Ry={};Object.defineProperty(Ry,"__esModule",{value:!0});var qLe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};Ry.default=function(e,t){return qLe({},e,t)};var NU={};Object.defineProperty(NU,"__esModule",{value:!0});NU.default=XLe;function XLe(e){var t=[];function r(n){if(Array.isArray(n))for(var i=0;i<n.length;i++)r(n[i]);else n.text=n.text||"",n.data=n.data||"",t.push(n)}return r(e),t}var TU={};Object.defineProperty(TU,"__esModule",{value:!0});TU.default=YLe;function YLe(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}var BU={},IU={},LB={};Object.defineProperty(LB,"__esModule",{value:!0});LB.default=ZLe;function ZLe(e){var t=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var r in t)t.hasOwnProperty(r)&&(r=t[r],typeof e[r]=="string"&&(e[r]=parseInt(e[r],10)));return typeof e.displayValue=="string"&&(e.displayValue=e.displayValue!="false"),e}var RB={};Object.defineProperty(RB,"__esModule",{value:!0});var JLe={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};RB.default=JLe;Object.defineProperty(IU,"__esModule",{value:!0});var eRe=LB,tRe=vue(eRe),rRe=RB,lG=vue(rRe);function vue(e){return e&&e.__esModule?e:{default:e}}function nRe(e){var t={};for(var r in lG.default)lG.default.hasOwnProperty(r)&&(e.hasAttribute("jsbarcode-"+r.toLowerCase())&&(t[r]=e.getAttribute("jsbarcode-"+r.toLowerCase())),e.hasAttribute("data-"+r.toLowerCase())&&(t[r]=e.getAttribute("data-"+r.toLowerCase())));return t.value=e.getAttribute("jsbarcode-value")||e.getAttribute("data-value"),t=(0,tRe.default)(t),t}IU.default=nRe;var kU={},jU={},Eu={};Object.defineProperty(Eu,"__esModule",{value:!0});Eu.getTotalWidthOfEncodings=Eu.calculateEncodingAttributes=Eu.getBarcodePadding=Eu.getEncodingHeight=Eu.getMaximumHeightOfEncodings=void 0;var iRe=Ry,sRe=aRe(iRe);function aRe(e){return e&&e.__esModule?e:{default:e}}function yue(e,t){return t.height+(t.displayValue&&e.text.length>0?t.fontSize+t.textMargin:0)+t.marginTop+t.marginBottom}function wue(e,t,r){if(r.displayValue&&t<e){if(r.textAlign=="center")return Math.floor((e-t)/2);if(r.textAlign=="left")return 0;if(r.textAlign=="right")return Math.floor(e-t)}return 0}function oRe(e,t,r){for(var n=0;n<e.length;n++){var i=e[n],s=(0,sRe.default)(t,i.options),a;s.displayValue?a=uRe(i.text,s,r):a=0;var l=i.data.length*s.width;i.width=Math.ceil(Math.max(a,l)),i.height=yue(i,s),i.barcodePadding=wue(a,l,s)}}function lRe(e){for(var t=0,r=0;r<e.length;r++)t+=e[r].width;return t}function cRe(e){for(var t=0,r=0;r<e.length;r++)e[r].height>t&&(t=e[r].height);return t}function uRe(e,t,r){var n;if(r)n=r;else if(typeof document<"u")n=document.createElement("canvas").getContext("2d");else return 0;n.font=t.fontOptions+" "+t.fontSize+"px "+t.font;var i=n.measureText(e);if(!i)return 0;var s=i.width;return s}Eu.getMaximumHeightOfEncodings=cRe;Eu.getEncodingHeight=yue;Eu.getBarcodePadding=wue;Eu.calculateEncodingAttributes=oRe;Eu.getTotalWidthOfEncodings=lRe;Object.defineProperty(jU,"__esModule",{value:!0});var dRe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),fRe=Ry,hRe=ARe(fRe),Qj=Eu;function ARe(e){return e&&e.__esModule?e:{default:e}}function pRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var gRe=function(){function e(t,r,n){pRe(this,e),this.canvas=t,this.encodings=r,this.options=n}return dRe(e,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var r=0;r<this.encodings.length;r++){var n=(0,hRe.default)(this.options,this.encodings[r].options);this.drawCanvasBarcode(n,this.encodings[r]),this.drawCanvasText(n,this.encodings[r]),this.moveCanvasDrawing(this.encodings[r])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var r=this.canvas.getContext("2d");r.save(),(0,Qj.calculateEncodingAttributes)(this.encodings,this.options,r);var n=(0,Qj.getTotalWidthOfEncodings)(this.encodings),i=(0,Qj.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=n+this.options.marginLeft+this.options.marginRight,this.canvas.height=i,r.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(r.fillStyle=this.options.background,r.fillRect(0,0,this.canvas.width,this.canvas.height)),r.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(r,n){var i=this.canvas.getContext("2d"),s=n.data,a;r.textPosition=="top"?a=r.marginTop+r.fontSize+r.textMargin:a=r.marginTop,i.fillStyle=r.lineColor;for(var l=0;l<s.length;l++){var c=l*r.width+n.barcodePadding;s[l]==="1"?i.fillRect(c,a,r.width,r.height):s[l]&&i.fillRect(c,a,r.width,r.height*s[l])}}},{key:"drawCanvasText",value:function(r,n){var i=this.canvas.getContext("2d"),s=r.fontOptions+" "+r.fontSize+"px "+r.font;if(r.displayValue){var a,l;r.textPosition=="top"?l=r.marginTop+r.fontSize-r.textMargin:l=r.height+r.textMargin+r.marginTop+r.fontSize,i.font=s,r.textAlign=="left"||n.barcodePadding>0?(a=0,i.textAlign="left"):r.textAlign=="right"?(a=n.width-1,i.textAlign="right"):(a=n.width/2,i.textAlign="center"),i.fillText(n.text,a,l)}}},{key:"moveCanvasDrawing",value:function(r){var n=this.canvas.getContext("2d");n.translate(r.width,0)}},{key:"restoreCanvas",value:function(){var r=this.canvas.getContext("2d");r.restore()}}]),e}();jU.default=gRe;var PU={};Object.defineProperty(PU,"__esModule",{value:!0});var mRe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),xRe=Ry,vRe=yRe(xRe),$j=Eu;function yRe(e){return e&&e.__esModule?e:{default:e}}function wRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var vC="http://www.w3.org/2000/svg",bRe=function(){function e(t,r,n){wRe(this,e),this.svg=t,this.encodings=r,this.options=n,this.document=n.xmlDocument||document}return mRe(e,[{key:"render",value:function(){var r=this.options.marginLeft;this.prepareSVG();for(var n=0;n<this.encodings.length;n++){var i=this.encodings[n],s=(0,vRe.default)(this.options,i.options),a=this.createGroup(r,s.marginTop,this.svg);this.setGroupOptions(a,s),this.drawSvgBarcode(a,s,i),this.drawSVGText(a,s,i),r+=i.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,$j.calculateEncodingAttributes)(this.encodings,this.options);var r=(0,$j.getTotalWidthOfEncodings)(this.encodings),n=(0,$j.getMaximumHeightOfEncodings)(this.encodings),i=r+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(i,n),this.options.background&&this.drawRect(0,0,i,n,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(r,n,i){var s=i.data,a;n.textPosition=="top"?a=n.fontSize+n.textMargin:a=0;for(var l=0,c=0,u=0;u<s.length;u++)c=u*n.width+i.barcodePadding,s[u]==="1"?l++:l>0&&(this.drawRect(c-n.width*l,a,n.width*l,n.height,r),l=0);l>0&&this.drawRect(c-n.width*(l-1),a,n.width*l,n.height,r)}},{key:"drawSVGText",value:function(r,n,i){var s=this.document.createElementNS(vC,"text");if(n.displayValue){var a,l;s.setAttribute("style","font:"+n.fontOptions+" "+n.fontSize+"px "+n.font),n.textPosition=="top"?l=n.fontSize-n.textMargin:l=n.height+n.textMargin+n.fontSize,n.textAlign=="left"||i.barcodePadding>0?(a=0,s.setAttribute("text-anchor","start")):n.textAlign=="right"?(a=i.width-1,s.setAttribute("text-anchor","end")):(a=i.width/2,s.setAttribute("text-anchor","middle")),s.setAttribute("x",a),s.setAttribute("y",l),s.appendChild(this.document.createTextNode(i.text)),r.appendChild(s)}}},{key:"setSvgAttributes",value:function(r,n){var i=this.svg;i.setAttribute("width",r+"px"),i.setAttribute("height",n+"px"),i.setAttribute("x","0px"),i.setAttribute("y","0px"),i.setAttribute("viewBox","0 0 "+r+" "+n),i.setAttribute("xmlns",vC),i.setAttribute("version","1.1"),i.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(r,n,i){var s=this.document.createElementNS(vC,"g");return s.setAttribute("transform","translate("+r+", "+n+")"),i.appendChild(s),s}},{key:"setGroupOptions",value:function(r,n){r.setAttribute("style","fill:"+n.lineColor+";")}},{key:"drawRect",value:function(r,n,i,s,a){var l=this.document.createElementNS(vC,"rect");return l.setAttribute("x",r),l.setAttribute("y",n),l.setAttribute("width",i),l.setAttribute("height",s),a.appendChild(l),l}}]),e}();PU.default=bRe;var FU={};Object.defineProperty(FU,"__esModule",{value:!0});var _Re=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function ERe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var SRe=function(){function e(t,r,n){ERe(this,e),this.object=t,this.encodings=r,this.options=n}return _Re(e,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),e}();FU.default=SRe;Object.defineProperty(kU,"__esModule",{value:!0});var CRe=jU,NRe=OU(CRe),TRe=PU,BRe=OU(TRe),IRe=FU,kRe=OU(IRe);function OU(e){return e&&e.__esModule?e:{default:e}}kU.default={CanvasRenderer:NRe.default,SVGRenderer:BRe.default,ObjectRenderer:kRe.default};var My={};Object.defineProperty(My,"__esModule",{value:!0});function DU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LU(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function RU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var jRe=function(e){RU(t,e);function t(r,n){DU(this,t);var i=LU(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.name="InvalidInputException",i.symbology=r,i.input=n,i.message='"'+i.input+'" is not a valid input for '+i.symbology,i}return t}(Error),PRe=function(e){RU(t,e);function t(){DU(this,t);var r=LU(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.name="InvalidElementException",r.message="Not supported type to render on",r}return t}(Error),FRe=function(e){RU(t,e);function t(){DU(this,t);var r=LU(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.name="NoElementException",r.message="No element to render on.",r}return t}(Error);My.InvalidInputException=jRe;My.InvalidElementException=PRe;My.NoElementException=FRe;Object.defineProperty(BU,"__esModule",{value:!0});var ORe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DRe=IU,T8=bue(DRe),LRe=kU,o2=bue(LRe),RRe=My;function bue(e){return e&&e.__esModule?e:{default:e}}function MU(e){if(typeof e=="string")return MRe(e);if(Array.isArray(e)){for(var t=[],r=0;r<e.length;r++)t.push(MU(e[r]));return t}else{if(typeof HTMLCanvasElement<"u"&&e instanceof HTMLImageElement)return URe(e);if(e&&e.nodeName&&e.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&e instanceof SVGElement)return{element:e,options:(0,T8.default)(e),renderer:o2.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement)return{element:e,options:(0,T8.default)(e),renderer:o2.default.CanvasRenderer};if(e&&e.getContext)return{element:e,renderer:o2.default.CanvasRenderer};if(e&&(typeof e>"u"?"undefined":ORe(e))==="object"&&!e.nodeName)return{element:e,renderer:o2.default.ObjectRenderer};throw new RRe.InvalidElementException}}function MRe(e){var t=document.querySelectorAll(e);if(t.length!==0){for(var r=[],n=0;n<t.length;n++)r.push(MU(t[n]));return r}}function URe(e){var t=document.createElement("canvas");return{element:t,options:(0,T8.default)(e),renderer:o2.default.CanvasRenderer,afterRender:function(){e.setAttribute("src",t.toDataURL())}}}BU.default=MU;var UU={};Object.defineProperty(UU,"__esModule",{value:!0});var HRe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function QRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var $Re=function(){function e(t){QRe(this,e),this.api=t}return HRe(e,[{key:"handleCatch",value:function(r){if(r.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw r.message;else throw r;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(r){try{var n=r.apply(void 0,arguments);return this.api._options.valid(!0),n}catch(i){return this.handleCatch(i),this.api}}}]),e}();UU.default=$Re;var VRe=cU,qg=Hp(VRe),zRe=Ry,$E=Hp(zRe),GRe=NU,_ue=Hp(GRe),WRe=TU,cG=Hp(WRe),KRe=BU,qRe=Hp(KRe),XRe=LB,YRe=Hp(XRe),ZRe=UU,JRe=Hp(ZRe),Eue=My,eMe=RB,Sue=Hp(eMe);function Hp(e){return e&&e.__esModule?e:{default:e}}var cA=function(){},MB=function(t,r,n){var i=new cA;if(typeof t>"u")throw Error("No element to render on was provided.");return i._renderProperties=(0,qRe.default)(t),i._encodings=[],i._options=Sue.default,i._errorHandler=new JRe.default(i),typeof r<"u"&&(n=n||{},n.format||(n.format=Nue()),i.options(n)[n.format](r,n).render()),i};MB.getModule=function(e){return qg.default[e]};for(var uG in qg.default)qg.default.hasOwnProperty(uG)&&tMe(qg.default,uG);function tMe(e,t){cA.prototype[t]=cA.prototype[t.toUpperCase()]=cA.prototype[t.toLowerCase()]=function(r,n){var i=this;return i._errorHandler.wrapBarcodeCall(function(){n.text=typeof n.text>"u"?void 0:""+n.text;var s=(0,$E.default)(i._options,n);s=(0,YRe.default)(s);var a=e[t],l=Cue(r,a,s);return i._encodings.push(l),i})}}function Cue(e,t,r){e=""+e;var n=new t(e,r);if(!n.valid())throw new Eue.InvalidInputException(n.constructor.name,e);var i=n.encode();i=(0,_ue.default)(i);for(var s=0;s<i.length;s++)i[s].options=(0,$E.default)(r,i[s].options);return i}function Nue(){return qg.default.CODE128?"CODE128":Object.keys(qg.default)[0]}cA.prototype.options=function(e){return this._options=(0,$E.default)(this._options,e),this};cA.prototype.blank=function(e){var t=new Array(e+1).join("0");return this._encodings.push({data:t}),this};cA.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var e;for(var t in this._renderProperties){e=this._renderProperties[t];var r=(0,$E.default)(this._options,e.options);r.format=="auto"&&(r.format=Nue()),this._errorHandler.wrapBarcodeCall(function(){var n=r.value,i=qg.default[r.format.toUpperCase()],s=Cue(n,i,r);B8(e,s,r)})}}};cA.prototype.render=function(){if(!this._renderProperties)throw new Eue.NoElementException;if(Array.isArray(this._renderProperties))for(var e=0;e<this._renderProperties.length;e++)B8(this._renderProperties[e],this._encodings,this._options);else B8(this._renderProperties,this._encodings,this._options);return this};cA.prototype._defaults=Sue.default;function B8(e,t,r){t=(0,_ue.default)(t);for(var n=0;n<t.length;n++)t[n].options=(0,$E.default)(r,t[n].options),(0,cG.default)(t[n].options);(0,cG.default)(r);var i=e.renderer,s=new i(e.element,t,r);s.render(),e.afterRender&&e.afterRender()}typeof window<"u"&&(window.JsBarcode=MB);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(e,t){var r=[];return jQuery(this).each(function(){r.push(this)}),MB(r,e,t)});var rMe=MB,Tue={exports:{}},nMe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",iMe=nMe,sMe=iMe;function Bue(){}function Iue(){}Iue.resetWarningCache=Bue;var aMe=function(){function e(n,i,s,a,l,c){if(c!==sMe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Iue,resetWarningCache:Bue};return r.PropTypes=r,r};Tue.exports=aMe();var kue=Tue.exports;const qi=Gi(kue);function a4(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?a4=function(r){return typeof r}:a4=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},a4(e)}var z1=HU(C),oMe=HU(rMe),da=HU(kue);function HU(e){return e&&e.__esModule?e:{default:e}}function lMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function uMe(e,t,r){return t&&cMe(e.prototype,t),e}function dMe(e,t){return t&&(a4(t)==="object"||typeof t=="function")?t:jue(e)}function I8(e){return I8=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},I8(e)}function jue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k8(e,t)}function k8(e,t){return k8=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},k8(e,t)}var j8,Vj=z1.default.version.split(/[.-]/);Vj[0]==="0"&&(Vj[1]==="13"||Vj[1]==="12")?j8=function(t){return t.getDOMNode()}:j8=function(t){return t};var QU=function(e){fMe(t,e);function t(r){var n;return lMe(this,t),n=dMe(this,I8(t).call(this,r)),n.renderElementRef=z1.default.createRef(),n.update=n.update.bind(jue(n)),n}return uMe(t,[{key:"shouldComponentUpdate",value:function(n){var i=this;return Object.keys(t.propTypes).some(function(s){return i.props[s]!==n[s]})}},{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var n=j8(this.renderElementRef.current);try{new oMe.default(n,this.props.value,Object.assign({text:this.props.text||this.props.value},this.props))}catch(i){window.console.error(i)}}},{key:"render",value:function(){var n=this.props,i=n.id,s=n.className;if(this.props.renderer==="svg")return z1.default.createElement("svg",{ref:this.renderElementRef,id:i,className:s});if(this.props.renderer==="canvas")return z1.default.createElement("canvas",{ref:this.renderElementRef,id:i,className:s});if(this.props.renderer==="img")return z1.default.createElement("img",{ref:this.renderElementRef,id:i,className:s})}}]),t}(z1.default.Component);QU.propTypes={value:da.default.string.isRequired,text:da.default.string,renderer:da.default.string,format:da.default.string,width:da.default.number,height:da.default.number,displayValue:da.default.bool,fontOptions:da.default.string,font:da.default.string,textAlign:da.default.string,textPosition:da.default.string,textMargin:da.default.number,fontSize:da.default.number,background:da.default.string,lineColor:da.default.string,margin:da.default.number,marginTop:da.default.number,marginBottom:da.default.number,marginLeft:da.default.number,marginRight:da.default.number,id:da.default.string,className:da.default.string,ean128:da.default.bool};QU.defaultProps={format:"CODE128",renderer:"svg",width:2,height:100,displayValue:!0,fontOptions:"",font:"monospace",textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,className:"",ean128:!1};var hMe=QU;const $U=Gi(hMe),Bw="delivery_boys",px={async addDeliveryBoy(e,t){try{return{id:(await ka(jr(Et,Bw),{name:e,mobile:t,status:"active",createdAt:Yi()})).id,success:!0}}catch(r){throw console.error("Error adding delivery boy: ",r),r}},async getAllDeliveryBoys(){try{const e=Ai(jr(Et,Bw),ia("createdAt","desc")),t=await Si(e),r=[];return t.forEach(n=>{r.push({id:n.id,...n.data()})}),r}catch(e){throw console.error("Error getting delivery boys: ",e),e}},async updateDeliveryBoy(e,t,r){try{const n=pn(Et,Bw,e);return await Ns(n,{name:t,mobile:r,updatedAt:Yi()}),{success:!0}}catch(n){throw console.error("Error updating delivery boy: ",n),n}},async deleteDeliveryBoy(e){try{const t=pn(Et,Bw,e);return await Yc(t),{success:!0}}catch(t){throw console.error("Error deleting delivery boy: ",t),t}},async toggleStatus(e,t){try{const r=pn(Et,Bw,e);return await Ns(r,{status:t==="active"?"inactive":"active",updatedAt:Yi()}),{success:!0}}catch(r){throw console.error("Error toggling status: ",r),r}}};var Vr;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Vr||(Vr={}));var dG=new Map([[Vr.QR_CODE,"QR_CODE"],[Vr.AZTEC,"AZTEC"],[Vr.CODABAR,"CODABAR"],[Vr.CODE_39,"CODE_39"],[Vr.CODE_93,"CODE_93"],[Vr.CODE_128,"CODE_128"],[Vr.DATA_MATRIX,"DATA_MATRIX"],[Vr.MAXICODE,"MAXICODE"],[Vr.ITF,"ITF"],[Vr.EAN_13,"EAN_13"],[Vr.EAN_8,"EAN_8"],[Vr.PDF_417,"PDF_417"],[Vr.RSS_14,"RSS_14"],[Vr.RSS_EXPANDED,"RSS_EXPANDED"],[Vr.UPC_A,"UPC_A"],[Vr.UPC_E,"UPC_E"],[Vr.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),fG;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(fG||(fG={}));function AMe(e){return Object.values(Vr).includes(e)}var C5;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(C5||(C5={}));var pMe=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[C5.SCAN_TYPE_CAMERA,C5.SCAN_TYPE_FILE],e}(),Pue=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!dG.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,dG.get(t))},e}(),hG=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),P8;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(P8||(P8={}));var gMe=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:P8.UNKWOWN_ERROR}},e}(),mMe=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function zh(e){return typeof e>"u"||e===null}var gx=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Fue=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(i),a=Object.keys(t),l=0,c=a;l<c.length;l++){var u=c[l];if(s.has(u))return r.logError("".concat(u," is not supported videoConstaints."),!0),!1}return!0},e}(),F8={exports:{}};(function(e,t){(function(r,n){n(t)})(Zh,function(r){function n(pe){return pe==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(pe,f){pe.__proto__=f}||function(pe,f){for(var p in f)f.hasOwnProperty(p)&&(pe[p]=f[p])};function s(pe,f){i(pe,f);function p(){this.constructor=pe}pe.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}function a(pe,f){var p=Object.setPrototypeOf;p?p(pe,f):pe.__proto__=f}function l(pe,f){f===void 0&&(f=pe.constructor);var p=Error.captureStackTrace;p&&p(pe,f)}var c=function(pe){s(f,pe);function f(p){var m=this.constructor,b=pe.call(this,p)||this;return Object.defineProperty(b,"name",{value:m.name,enumerable:!1}),a(b,m.prototype),l(b),b}return f}(Error);class u extends c{constructor(f=void 0){super(f),this.message=f}getKind(){return this.constructor.kind}}u.kind="Exception";class d extends u{}d.kind="ArgumentException";class h extends u{}h.kind="IllegalArgumentException";class A{constructor(f){if(this.binarizer=f,f===null)throw new h("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(f,p){return this.binarizer.getBlackRow(f,p)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(f,p,m,b){const S=this.binarizer.getLuminanceSource().crop(f,p,m,b);return new A(this.binarizer.createBinarizer(S))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const f=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new A(this.binarizer.createBinarizer(f))}rotateCounterClockwise45(){const f=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new A(this.binarizer.createBinarizer(f))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class g extends u{static getChecksumInstance(){return new g}}g.kind="ChecksumException";class v{constructor(f){this.source=f}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class x{static arraycopy(f,p,m,b,S){for(;S--;)m[b++]=f[p++]}static currentTimeMillis(){return Date.now()}}class y extends u{}y.kind="IndexOutOfBoundsException";class w extends y{constructor(f=void 0,p=void 0){super(p),this.index=f,this.message=p}}w.kind="ArrayIndexOutOfBoundsException";class _{static fill(f,p){for(let m=0,b=f.length;m<b;m++)f[m]=p}static fillWithin(f,p,m,b){_.rangeCheck(f.length,p,m);for(let S=p;S<m;S++)f[S]=b}static rangeCheck(f,p,m){if(p>m)throw new h("fromIndex("+p+") > toIndex("+m+")");if(p<0)throw new w(p);if(m>f)throw new w(m)}static asList(...f){return f}static create(f,p,m){return Array.from({length:f}).map(S=>Array.from({length:p}).fill(m))}static createInt32Array(f,p,m){return Array.from({length:f}).map(S=>Int32Array.from({length:p}).fill(m))}static equals(f,p){if(!f||!p||!f.length||!p.length||f.length!==p.length)return!1;for(let m=0,b=f.length;m<b;m++)if(f[m]!==p[m])return!1;return!0}static hashCode(f){if(f===null)return 0;let p=1;for(const m of f)p=31*p+m;return p}static fillUint8Array(f,p){for(let m=0;m!==f.length;m++)f[m]=p}static copyOf(f,p){return f.slice(0,p)}static copyOfUint8Array(f,p){if(f.length<=p){const m=new Uint8Array(p);return m.set(f),m}return f.slice(0,p)}static copyOfRange(f,p,m){const b=m-p,S=new Int32Array(b);return x.arraycopy(f,p,S,0,b),S}static binarySearch(f,p,m){m===void 0&&(m=_.numberComparator);let b=0,S=f.length-1;for(;b<=S;){const B=S+b>>1,L=m(p,f[B]);if(L>0)b=B+1;else if(L<0)S=B-1;else return B}return-b-1}static numberComparator(f,p){return f-p}}class E{static numberOfTrailingZeros(f){let p;if(f===0)return 32;let m=31;return p=f<<16,p!==0&&(m-=16,f=p),p=f<<8,p!==0&&(m-=8,f=p),p=f<<4,p!==0&&(m-=4,f=p),p=f<<2,p!==0&&(m-=2,f=p),m-(f<<1>>>31)}static numberOfLeadingZeros(f){if(f===0)return 32;let p=1;return f>>>16||(p+=16,f<<=16),f>>>24||(p+=8,f<<=8),f>>>28||(p+=4,f<<=4),f>>>30||(p+=2,f<<=2),p-=f>>>31,p}static toHexString(f){return f.toString(16)}static toBinaryString(f){return String(parseInt(String(f),2))}static bitCount(f){return f=f-(f>>>1&1431655765),f=(f&858993459)+(f>>>2&858993459),f=f+(f>>>4)&252645135,f=f+(f>>>8),f=f+(f>>>16),f&63}static truncDivision(f,p){return Math.trunc(f/p)}static parseInt(f,p=void 0){return parseInt(f,p)}}E.MIN_VALUE_32_BITS=-2147483648,E.MAX_VALUE=Number.MAX_SAFE_INTEGER;class I{constructor(f,p){f===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=f,p==null?this.bits=I.makeArray(f):this.bits=p)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(f){if(f>this.bits.length*32){const p=I.makeArray(f);x.arraycopy(this.bits,0,p,0,this.bits.length),this.bits=p}}get(f){return(this.bits[Math.floor(f/32)]&1<<(f&31))!==0}set(f){this.bits[Math.floor(f/32)]|=1<<(f&31)}flip(f){this.bits[Math.floor(f/32)]^=1<<(f&31)}getNextSet(f){const p=this.size;if(f>=p)return p;const m=this.bits;let b=Math.floor(f/32),S=m[b];S&=~((1<<(f&31))-1);const B=m.length;for(;S===0;){if(++b===B)return p;S=m[b]}const L=b*32+E.numberOfTrailingZeros(S);return L>p?p:L}getNextUnset(f){const p=this.size;if(f>=p)return p;const m=this.bits;let b=Math.floor(f/32),S=~m[b];S&=~((1<<(f&31))-1);const B=m.length;for(;S===0;){if(++b===B)return p;S=~m[b]}const L=b*32+E.numberOfTrailingZeros(S);return L>p?p:L}setBulk(f,p){this.bits[Math.floor(f/32)]=p}setRange(f,p){if(p<f||f<0||p>this.size)throw new h;if(p===f)return;p--;const m=Math.floor(f/32),b=Math.floor(p/32),S=this.bits;for(let B=m;B<=b;B++){const L=B>m?0:f&31,W=(2<<(B<b?31:p&31))-(1<<L);S[B]|=W}}clear(){const f=this.bits.length,p=this.bits;for(let m=0;m<f;m++)p[m]=0}isRange(f,p,m){if(p<f||f<0||p>this.size)throw new h;if(p===f)return!0;p--;const b=Math.floor(f/32),S=Math.floor(p/32),B=this.bits;for(let L=b;L<=S;L++){const Q=L>b?0:f&31,se=(2<<(L<S?31:p&31))-(1<<Q)&4294967295;if((B[L]&se)!==(m?se:0))return!1}return!0}appendBit(f){this.ensureCapacity(this.size+1),f&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(f,p){if(p<0||p>32)throw new h("Num bits must be between 0 and 32");this.ensureCapacity(this.size+p);for(let m=p;m>0;m--)this.appendBit((f>>m-1&1)===1)}appendBitArray(f){const p=f.size;this.ensureCapacity(this.size+p);for(let m=0;m<p;m++)this.appendBit(f.get(m))}xor(f){if(this.size!==f.size)throw new h("Sizes don't match");const p=this.bits;for(let m=0,b=p.length;m<b;m++)p[m]^=f.bits[m]}toBytes(f,p,m,b){for(let S=0;S<b;S++){let B=0;for(let L=0;L<8;L++)this.get(f)&&(B|=1<<7-L),f++;p[m+S]=B}}getBitArray(){return this.bits}reverse(){const f=new Int32Array(this.bits.length),p=Math.floor((this.size-1)/32),m=p+1,b=this.bits;for(let S=0;S<m;S++){let B=b[S];B=B>>1&1431655765|(B&1431655765)<<1,B=B>>2&858993459|(B&858993459)<<2,B=B>>4&252645135|(B&252645135)<<4,B=B>>8&16711935|(B&16711935)<<8,B=B>>16&65535|(B&65535)<<16,f[p-S]=B}if(this.size!==m*32){const S=m*32-this.size;let B=f[0]>>>S;for(let L=1;L<m;L++){const Q=f[L];B|=Q<<32-S,f[L-1]=B,B=Q>>>S}f[m-1]=B}this.bits=f}static makeArray(f){return new Int32Array(Math.floor((f+31)/32))}equals(f){if(!(f instanceof I))return!1;const p=f;return this.size===p.size&&_.equals(this.bits,p.bits)}hashCode(){return 31*this.size+_.hashCode(this.bits)}toString(){let f="";for(let p=0,m=this.size;p<m;p++)p&7||(f+=" "),f+=this.get(p)?"X":".";return f}clone(){return new I(this.size,this.bits.slice())}}var N;(function(pe){pe[pe.OTHER=0]="OTHER",pe[pe.PURE_BARCODE=1]="PURE_BARCODE",pe[pe.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",pe[pe.TRY_HARDER=3]="TRY_HARDER",pe[pe.CHARACTER_SET=4]="CHARACTER_SET",pe[pe.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",pe[pe.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",pe[pe.ASSUME_GS1=7]="ASSUME_GS1",pe[pe.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",pe[pe.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",pe[pe.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(N||(N={}));var j=N;class T extends u{static getFormatInstance(){return new T}}T.kind="FormatException";var P;(function(pe){pe[pe.Cp437=0]="Cp437",pe[pe.ISO8859_1=1]="ISO8859_1",pe[pe.ISO8859_2=2]="ISO8859_2",pe[pe.ISO8859_3=3]="ISO8859_3",pe[pe.ISO8859_4=4]="ISO8859_4",pe[pe.ISO8859_5=5]="ISO8859_5",pe[pe.ISO8859_6=6]="ISO8859_6",pe[pe.ISO8859_7=7]="ISO8859_7",pe[pe.ISO8859_8=8]="ISO8859_8",pe[pe.ISO8859_9=9]="ISO8859_9",pe[pe.ISO8859_10=10]="ISO8859_10",pe[pe.ISO8859_11=11]="ISO8859_11",pe[pe.ISO8859_13=12]="ISO8859_13",pe[pe.ISO8859_14=13]="ISO8859_14",pe[pe.ISO8859_15=14]="ISO8859_15",pe[pe.ISO8859_16=15]="ISO8859_16",pe[pe.SJIS=16]="SJIS",pe[pe.Cp1250=17]="Cp1250",pe[pe.Cp1251=18]="Cp1251",pe[pe.Cp1252=19]="Cp1252",pe[pe.Cp1256=20]="Cp1256",pe[pe.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",pe[pe.UTF8=22]="UTF8",pe[pe.ASCII=23]="ASCII",pe[pe.Big5=24]="Big5",pe[pe.GB18030=25]="GB18030",pe[pe.EUC_KR=26]="EUC_KR"})(P||(P={}));class k{constructor(f,p,m,...b){this.valueIdentifier=f,this.name=m,typeof p=="number"?this.values=Int32Array.from([p]):this.values=p,this.otherEncodingNames=b,k.VALUE_IDENTIFIER_TO_ECI.set(f,this),k.NAME_TO_ECI.set(m,this);const S=this.values;for(let B=0,L=S.length;B!==L;B++){const Q=S[B];k.VALUES_TO_ECI.set(Q,this)}for(const B of b)k.NAME_TO_ECI.set(B,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(f){if(f<0||f>=900)throw new T("incorect value");const p=k.VALUES_TO_ECI.get(f);if(p===void 0)throw new T("incorect value");return p}static getCharacterSetECIByName(f){const p=k.NAME_TO_ECI.get(f);if(p===void 0)throw new T("incorect value");return p}equals(f){if(!(f instanceof k))return!1;const p=f;return this.getName()===p.getName()}}k.VALUE_IDENTIFIER_TO_ECI=new Map,k.VALUES_TO_ECI=new Map,k.NAME_TO_ECI=new Map,k.Cp437=new k(P.Cp437,Int32Array.from([0,2]),"Cp437"),k.ISO8859_1=new k(P.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),k.ISO8859_2=new k(P.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),k.ISO8859_3=new k(P.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),k.ISO8859_4=new k(P.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),k.ISO8859_5=new k(P.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),k.ISO8859_6=new k(P.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),k.ISO8859_7=new k(P.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),k.ISO8859_8=new k(P.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),k.ISO8859_9=new k(P.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),k.ISO8859_10=new k(P.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),k.ISO8859_11=new k(P.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),k.ISO8859_13=new k(P.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),k.ISO8859_14=new k(P.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),k.ISO8859_15=new k(P.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),k.ISO8859_16=new k(P.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),k.SJIS=new k(P.SJIS,20,"SJIS","Shift_JIS"),k.Cp1250=new k(P.Cp1250,21,"Cp1250","windows-1250"),k.Cp1251=new k(P.Cp1251,22,"Cp1251","windows-1251"),k.Cp1252=new k(P.Cp1252,23,"Cp1252","windows-1252"),k.Cp1256=new k(P.Cp1256,24,"Cp1256","windows-1256"),k.UnicodeBigUnmarked=new k(P.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),k.UTF8=new k(P.UTF8,26,"UTF8","UTF-8"),k.ASCII=new k(P.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),k.Big5=new k(P.Big5,28,"Big5"),k.GB18030=new k(P.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),k.EUC_KR=new k(P.EUC_KR,30,"EUC_KR","EUC-KR");class R extends u{}R.kind="UnsupportedOperationException";class O{static decode(f,p){const m=this.encodingName(p);return this.customDecoder?this.customDecoder(f,m):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(m)?this.decodeFallback(f,m):new TextDecoder(m).decode(f)}static shouldDecodeOnFallback(f){return!O.isBrowser()&&f==="ISO-8859-1"}static encode(f,p){const m=this.encodingName(p);return this.customEncoder?this.customEncoder(f,m):typeof TextEncoder>"u"?this.encodeFallback(f):new TextEncoder().encode(f)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(f){return typeof f=="string"?f:f.getName()}static encodingCharacterSet(f){return f instanceof k?f:k.getCharacterSetECIByName(f)}static decodeFallback(f,p){const m=this.encodingCharacterSet(p);if(O.isDecodeFallbackSupported(m)){let b="";for(let S=0,B=f.length;S<B;S++){let L=f[S].toString(16);L.length<2&&(L="0"+L),b+="%"+L}return decodeURIComponent(b)}if(m.equals(k.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(f.buffer));throw new R(`Encoding ${this.encodingName(p)} not supported by fallback.`)}static isDecodeFallbackSupported(f){return f.equals(k.UTF8)||f.equals(k.ISO8859_1)||f.equals(k.ASCII)}static encodeFallback(f){const m=btoa(unescape(encodeURIComponent(f))).split(""),b=[];for(let S=0;S<m.length;S++)b.push(m[S].charCodeAt(0));return new Uint8Array(b)}}class M{static castAsNonUtf8Char(f,p=null){const m=p?p.getName():this.ISO88591;return O.decode(new Uint8Array([f]),m)}static guessEncoding(f,p){if(p!=null&&p.get(j.CHARACTER_SET)!==void 0)return p.get(j.CHARACTER_SET).toString();const m=f.length;let b=!0,S=!0,B=!0,L=0,Q=0,W=0,se=0,ge=0,we=0,Qe=0,Xe=0,Ye=0,ot=0,wt=0;const Mt=f.length>3&&f[0]===239&&f[1]===187&&f[2]===191;for(let zt=0;zt<m&&(b||S||B);zt++){const Ht=f[zt]&255;B&&(L>0?Ht&128?L--:B=!1:Ht&128&&(Ht&64?(L++,Ht&32?(L++,Ht&16?(L++,Ht&8?B=!1:se++):W++):Q++):B=!1)),b&&(Ht>127&&Ht<160?b=!1:Ht>159&&(Ht<192||Ht===215||Ht===247)&&wt++),S&&(ge>0?Ht<64||Ht===127||Ht>252?S=!1:ge--:Ht===128||Ht===160||Ht>239?S=!1:Ht>160&&Ht<224?(we++,Xe=0,Qe++,Qe>Ye&&(Ye=Qe)):Ht>127?(ge++,Qe=0,Xe++,Xe>ot&&(ot=Xe)):(Qe=0,Xe=0))}return B&&L>0&&(B=!1),S&&ge>0&&(S=!1),B&&(Mt||Q+W+se>0)?M.UTF8:S&&(M.ASSUME_SHIFT_JIS||Ye>=3||ot>=3)?M.SHIFT_JIS:b&&S?Ye===2&&we===2||wt*10>=m?M.SHIFT_JIS:M.ISO88591:b?M.ISO88591:S?M.SHIFT_JIS:B?M.UTF8:M.PLATFORM_DEFAULT_ENCODING}static format(f,...p){let m=-1;function b(B,L,Q,W,se,ge){if(B==="%%")return"%";if(p[++m]===void 0)return;B=W?parseInt(W.substr(1)):void 0;let we=se?parseInt(se.substr(1)):void 0,Qe;switch(ge){case"s":Qe=p[m];break;case"c":Qe=p[m][0];break;case"f":Qe=parseFloat(p[m]).toFixed(B);break;case"p":Qe=parseFloat(p[m]).toPrecision(B);break;case"e":Qe=parseFloat(p[m]).toExponential(B);break;case"x":Qe=parseInt(p[m]).toString(we||16);break;case"d":Qe=parseFloat(parseInt(p[m],we||10).toPrecision(B)).toFixed(0);break}Qe=typeof Qe=="object"?JSON.stringify(Qe):(+Qe).toString(we);let Xe=parseInt(Q),Ye=Q&&Q[0]+""=="0"?"0":" ";for(;Qe.length<Xe;)Qe=L!==void 0?Qe+Ye:Ye+Qe;return Qe}let S=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return f.replace(S,b)}static getBytes(f,p){return O.encode(f,p)}static getCharCode(f,p=0){return f.charCodeAt(p)}static getCharAt(f){return String.fromCharCode(f)}}M.SHIFT_JIS=k.SJIS.getName(),M.GB2312="GB2312",M.ISO88591=k.ISO8859_1.getName(),M.EUC_JP="EUC_JP",M.UTF8=k.UTF8.getName(),M.PLATFORM_DEFAULT_ENCODING=M.UTF8,M.ASSUME_SHIFT_JIS=!1;class H{constructor(f=""){this.value=f}enableDecoding(f){return this.encoding=f,this}append(f){return typeof f=="string"?this.value+=f.toString():this.encoding?this.value+=M.castAsNonUtf8Char(f,this.encoding):this.value+=String.fromCharCode(f),this}appendChars(f,p,m){for(let b=p;p<p+m;b++)this.append(f[b]);return this}length(){return this.value.length}charAt(f){return this.value.charAt(f)}deleteCharAt(f){this.value=this.value.substr(0,f)+this.value.substring(f+1)}setCharAt(f,p){this.value=this.value.substr(0,f)+p+this.value.substr(f+1)}substring(f,p){return this.value.substring(f,p)}setLengthToZero(){this.value=""}toString(){return this.value}insert(f,p){this.value=this.value.substr(0,f)+p+this.value.substr(f+p.length)}}class K{constructor(f,p,m,b){if(this.width=f,this.height=p,this.rowSize=m,this.bits=b,p==null&&(p=f),this.height=p,f<1||p<1)throw new h("Both dimensions must be greater than 0");m==null&&(m=Math.floor((f+31)/32)),this.rowSize=m,b==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(f){const p=f.length,m=f[0].length,b=new K(m,p);for(let S=0;S<p;S++){const B=f[S];for(let L=0;L<m;L++)B[L]&&b.set(L,S)}return b}static parseFromString(f,p,m){if(f===null)throw new h("stringRepresentation cannot be null");const b=new Array(f.length);let S=0,B=0,L=-1,Q=0,W=0;for(;W<f.length;)if(f.charAt(W)===`
`||f.charAt(W)==="\r"){if(S>B){if(L===-1)L=S-B;else if(S-B!==L)throw new h("row lengths do not match");B=S,Q++}W++}else if(f.substring(W,W+p.length)===p)W+=p.length,b[S]=!0,S++;else if(f.substring(W,W+m.length)===m)W+=m.length,b[S]=!1,S++;else throw new h("illegal character encountered: "+f.substring(W));if(S>B){if(L===-1)L=S-B;else if(S-B!==L)throw new h("row lengths do not match");Q++}const se=new K(L,Q);for(let ge=0;ge<S;ge++)b[ge]&&se.set(Math.floor(ge%L),Math.floor(ge/L));return se}get(f,p){const m=p*this.rowSize+Math.floor(f/32);return(this.bits[m]>>>(f&31)&1)!==0}set(f,p){const m=p*this.rowSize+Math.floor(f/32);this.bits[m]|=1<<(f&31)&4294967295}unset(f,p){const m=p*this.rowSize+Math.floor(f/32);this.bits[m]&=~(1<<(f&31)&4294967295)}flip(f,p){const m=p*this.rowSize+Math.floor(f/32);this.bits[m]^=1<<(f&31)&4294967295}xor(f){if(this.width!==f.getWidth()||this.height!==f.getHeight()||this.rowSize!==f.getRowSize())throw new h("input matrix dimensions do not match");const p=new I(Math.floor(this.width/32)+1),m=this.rowSize,b=this.bits;for(let S=0,B=this.height;S<B;S++){const L=S*m,Q=f.getRow(S,p).getBitArray();for(let W=0;W<m;W++)b[L+W]^=Q[W]}}clear(){const f=this.bits,p=f.length;for(let m=0;m<p;m++)f[m]=0}setRegion(f,p,m,b){if(p<0||f<0)throw new h("Left and top must be nonnegative");if(b<1||m<1)throw new h("Height and width must be at least 1");const S=f+m,B=p+b;if(B>this.height||S>this.width)throw new h("The region must fit inside the matrix");const L=this.rowSize,Q=this.bits;for(let W=p;W<B;W++){const se=W*L;for(let ge=f;ge<S;ge++)Q[se+Math.floor(ge/32)]|=1<<(ge&31)&4294967295}}getRow(f,p){p==null||p.getSize()<this.width?p=new I(this.width):p.clear();const m=this.rowSize,b=this.bits,S=f*m;for(let B=0;B<m;B++)p.setBulk(B*32,b[S+B]);return p}setRow(f,p){x.arraycopy(p.getBitArray(),0,this.bits,f*this.rowSize,this.rowSize)}rotate180(){const f=this.getWidth(),p=this.getHeight();let m=new I(f),b=new I(f);for(let S=0,B=Math.floor((p+1)/2);S<B;S++)m=this.getRow(S,m),b=this.getRow(p-1-S,b),m.reverse(),b.reverse(),this.setRow(S,b),this.setRow(p-1-S,m)}getEnclosingRectangle(){const f=this.width,p=this.height,m=this.rowSize,b=this.bits;let S=f,B=p,L=-1,Q=-1;for(let W=0;W<p;W++)for(let se=0;se<m;se++){const ge=b[W*m+se];if(ge!==0){if(W<B&&(B=W),W>Q&&(Q=W),se*32<S){let we=0;for(;!(ge<<31-we&4294967295);)we++;se*32+we<S&&(S=se*32+we)}if(se*32+31>L){let we=31;for(;!(ge>>>we);)we--;se*32+we>L&&(L=se*32+we)}}}return L<S||Q<B?null:Int32Array.from([S,B,L-S+1,Q-B+1])}getTopLeftOnBit(){const f=this.rowSize,p=this.bits;let m=0;for(;m<p.length&&p[m]===0;)m++;if(m===p.length)return null;const b=m/f;let S=m%f*32;const B=p[m];let L=0;for(;!(B<<31-L&4294967295);)L++;return S+=L,Int32Array.from([S,b])}getBottomRightOnBit(){const f=this.rowSize,p=this.bits;let m=p.length-1;for(;m>=0&&p[m]===0;)m--;if(m<0)return null;const b=Math.floor(m/f);let S=Math.floor(m%f)*32;const B=p[m];let L=31;for(;!(B>>>L);)L--;return S+=L,Int32Array.from([S,b])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(f){if(!(f instanceof K))return!1;const p=f;return this.width===p.width&&this.height===p.height&&this.rowSize===p.rowSize&&_.equals(this.bits,p.bits)}hashCode(){let f=this.width;return f=31*f+this.width,f=31*f+this.height,f=31*f+this.rowSize,f=31*f+_.hashCode(this.bits),f}toString(f="X ",p="  ",m=`
`){return this.buildToString(f,p,m)}buildToString(f,p,m){let b=new H;for(let S=0,B=this.height;S<B;S++){for(let L=0,Q=this.width;L<Q;L++)b.append(this.get(L,S)?f:p);b.append(m)}return b.toString()}clone(){return new K(this.width,this.height,this.rowSize,this.bits.slice())}}class Y extends u{static getNotFoundInstance(){return new Y}}Y.kind="NotFoundException";class ne extends v{constructor(f){super(f),this.luminances=ne.EMPTY,this.buckets=new Int32Array(ne.LUMINANCE_BUCKETS)}getBlackRow(f,p){const m=this.getLuminanceSource(),b=m.getWidth();p==null||p.getSize()<b?p=new I(b):p.clear(),this.initArrays(b);const S=m.getRow(f,this.luminances),B=this.buckets;for(let Q=0;Q<b;Q++)B[(S[Q]&255)>>ne.LUMINANCE_SHIFT]++;const L=ne.estimateBlackPoint(B);if(b<3)for(let Q=0;Q<b;Q++)(S[Q]&255)<L&&p.set(Q);else{let Q=S[0]&255,W=S[1]&255;for(let se=1;se<b-1;se++){const ge=S[se+1]&255;(W*4-Q-ge)/2<L&&p.set(se),Q=W,W=ge}}return p}getBlackMatrix(){const f=this.getLuminanceSource(),p=f.getWidth(),m=f.getHeight(),b=new K(p,m);this.initArrays(p);const S=this.buckets;for(let Q=1;Q<5;Q++){const W=Math.floor(m*Q/5),se=f.getRow(W,this.luminances),ge=Math.floor(p*4/5);for(let we=Math.floor(p/5);we<ge;we++){const Qe=se[we]&255;S[Qe>>ne.LUMINANCE_SHIFT]++}}const B=ne.estimateBlackPoint(S),L=f.getMatrix();for(let Q=0;Q<m;Q++){const W=Q*p;for(let se=0;se<p;se++)(L[W+se]&255)<B&&b.set(se,Q)}return b}createBinarizer(f){return new ne(f)}initArrays(f){this.luminances.length<f&&(this.luminances=new Uint8ClampedArray(f));const p=this.buckets;for(let m=0;m<ne.LUMINANCE_BUCKETS;m++)p[m]=0}static estimateBlackPoint(f){const p=f.length;let m=0,b=0,S=0;for(let se=0;se<p;se++)f[se]>S&&(b=se,S=f[se]),f[se]>m&&(m=f[se]);let B=0,L=0;for(let se=0;se<p;se++){const ge=se-b,we=f[se]*ge*ge;we>L&&(B=se,L=we)}if(b>B){const se=b;b=B,B=se}if(B-b<=p/16)throw new Y;let Q=B-1,W=-1;for(let se=B-1;se>b;se--){const ge=se-b,we=ge*ge*(B-se)*(m-f[se]);we>W&&(Q=se,W=we)}return Q<<ne.LUMINANCE_SHIFT}}ne.LUMINANCE_BITS=5,ne.LUMINANCE_SHIFT=8-ne.LUMINANCE_BITS,ne.LUMINANCE_BUCKETS=1<<ne.LUMINANCE_BITS,ne.EMPTY=Uint8ClampedArray.from([0]);class le extends ne{constructor(f){super(f),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const f=this.getLuminanceSource(),p=f.getWidth(),m=f.getHeight();if(p>=le.MINIMUM_DIMENSION&&m>=le.MINIMUM_DIMENSION){const b=f.getMatrix();let S=p>>le.BLOCK_SIZE_POWER;p&le.BLOCK_SIZE_MASK&&S++;let B=m>>le.BLOCK_SIZE_POWER;m&le.BLOCK_SIZE_MASK&&B++;const L=le.calculateBlackPoints(b,S,B,p,m),Q=new K(p,m);le.calculateThresholdForBlock(b,S,B,p,m,L,Q),this.matrix=Q}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(f){return new le(f)}static calculateThresholdForBlock(f,p,m,b,S,B,L){const Q=S-le.BLOCK_SIZE,W=b-le.BLOCK_SIZE;for(let se=0;se<m;se++){let ge=se<<le.BLOCK_SIZE_POWER;ge>Q&&(ge=Q);const we=le.cap(se,2,m-3);for(let Qe=0;Qe<p;Qe++){let Xe=Qe<<le.BLOCK_SIZE_POWER;Xe>W&&(Xe=W);const Ye=le.cap(Qe,2,p-3);let ot=0;for(let Mt=-2;Mt<=2;Mt++){const zt=B[we+Mt];ot+=zt[Ye-2]+zt[Ye-1]+zt[Ye]+zt[Ye+1]+zt[Ye+2]}const wt=ot/25;le.thresholdBlock(f,Xe,ge,wt,b,L)}}}static cap(f,p,m){return f<p?p:f>m?m:f}static thresholdBlock(f,p,m,b,S,B){for(let L=0,Q=m*S+p;L<le.BLOCK_SIZE;L++,Q+=S)for(let W=0;W<le.BLOCK_SIZE;W++)(f[Q+W]&255)<=b&&B.set(p+W,m+L)}static calculateBlackPoints(f,p,m,b,S){const B=S-le.BLOCK_SIZE,L=b-le.BLOCK_SIZE,Q=new Array(m);for(let W=0;W<m;W++){Q[W]=new Int32Array(p);let se=W<<le.BLOCK_SIZE_POWER;se>B&&(se=B);for(let ge=0;ge<p;ge++){let we=ge<<le.BLOCK_SIZE_POWER;we>L&&(we=L);let Qe=0,Xe=255,Ye=0;for(let wt=0,Mt=se*b+we;wt<le.BLOCK_SIZE;wt++,Mt+=b){for(let zt=0;zt<le.BLOCK_SIZE;zt++){const Ht=f[Mt+zt]&255;Qe+=Ht,Ht<Xe&&(Xe=Ht),Ht>Ye&&(Ye=Ht)}if(Ye-Xe>le.MIN_DYNAMIC_RANGE)for(wt++,Mt+=b;wt<le.BLOCK_SIZE;wt++,Mt+=b)for(let zt=0;zt<le.BLOCK_SIZE;zt++)Qe+=f[Mt+zt]&255}let ot=Qe>>le.BLOCK_SIZE_POWER*2;if(Ye-Xe<=le.MIN_DYNAMIC_RANGE&&(ot=Xe/2,W>0&&ge>0)){const wt=(Q[W-1][ge]+2*Q[W][ge-1]+Q[W-1][ge-1])/4;Xe<wt&&(ot=wt)}Q[W][ge]=ot}}return Q}}le.BLOCK_SIZE_POWER=3,le.BLOCK_SIZE=1<<le.BLOCK_SIZE_POWER,le.BLOCK_SIZE_MASK=le.BLOCK_SIZE-1,le.MINIMUM_DIMENSION=le.BLOCK_SIZE*5,le.MIN_DYNAMIC_RANGE=24;class te{constructor(f,p){this.width=f,this.height=p}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(f,p,m,b){throw new R("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new R("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new R("This luminance source does not support rotation by 45 degrees.")}toString(){const f=new Uint8ClampedArray(this.width);let p=new H;for(let m=0;m<this.height;m++){const b=this.getRow(m,f);for(let S=0;S<this.width;S++){const B=b[S]&255;let L;B<64?L="#":B<128?L="+":B<192?L=".":L=" ",p.append(L)}p.append(`
`)}return p.toString()}}class X extends te{constructor(f){super(f.getWidth(),f.getHeight()),this.delegate=f}getRow(f,p){const m=this.delegate.getRow(f,p),b=this.getWidth();for(let S=0;S<b;S++)m[S]=255-(m[S]&255);return m}getMatrix(){const f=this.delegate.getMatrix(),p=this.getWidth()*this.getHeight(),m=new Uint8ClampedArray(p);for(let b=0;b<p;b++)m[b]=255-(f[b]&255);return m}isCropSupported(){return this.delegate.isCropSupported()}crop(f,p,m,b){return new X(this.delegate.crop(f,p,m,b))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new X(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new X(this.delegate.rotateCounterClockwise45())}}class ue extends te{constructor(f){super(f.width,f.height),this.canvas=f,this.tempCanvasElement=null,this.buffer=ue.makeBufferFromCanvasImageData(f)}static makeBufferFromCanvasImageData(f){const p=f.getContext("2d").getImageData(0,0,f.width,f.height);return ue.toGrayscaleBuffer(p.data,f.width,f.height)}static toGrayscaleBuffer(f,p,m){const b=new Uint8ClampedArray(p*m);for(let S=0,B=0,L=f.length;S<L;S+=4,B++){let Q;if(f[S+3]===0)Q=255;else{const se=f[S],ge=f[S+1],we=f[S+2];Q=306*se+601*ge+117*we+512>>10}b[B]=Q}return b}getRow(f,p){if(f<0||f>=this.getHeight())throw new h("Requested row is outside the image: "+f);const m=this.getWidth(),b=f*m;return p===null?p=this.buffer.slice(b,b+m):(p.length<m&&(p=new Uint8ClampedArray(m)),p.set(this.buffer.slice(b,b+m))),p}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(f,p,m,b){return super.crop(f,p,m,b),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const f=this.canvas.ownerDocument.createElement("canvas");f.width=this.canvas.width,f.height=this.canvas.height,this.tempCanvasElement=f}return this.tempCanvasElement}rotate(f){const p=this.getTempCanvasElement(),m=p.getContext("2d"),b=f*ue.DEGREE_TO_RADIANS,S=this.canvas.width,B=this.canvas.height,L=Math.ceil(Math.abs(Math.cos(b))*S+Math.abs(Math.sin(b))*B),Q=Math.ceil(Math.abs(Math.sin(b))*S+Math.abs(Math.cos(b))*B);return p.width=L,p.height=Q,m.translate(L/2,Q/2),m.rotate(b),m.drawImage(this.canvas,S/-2,B/-2),this.buffer=ue.makeBufferFromCanvasImageData(p),this}invert(){return new X(this)}}ue.DEGREE_TO_RADIANS=Math.PI/180;class ve{constructor(f,p,m){this.deviceId=f,this.label=p,this.kind="videoinput",this.groupId=m||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var V=(globalThis||Zh||self||window||void 0)&&(globalThis||Zh||self||window||void 0).__awaiter||function(pe,f,p,m){function b(S){return S instanceof p?S:new p(function(B){B(S)})}return new(p||(p=Promise))(function(S,B){function L(se){try{W(m.next(se))}catch(ge){B(ge)}}function Q(se){try{W(m.throw(se))}catch(ge){B(ge)}}function W(se){se.done?S(se.value):b(se.value).then(L,Q)}W((m=m.apply(pe,f||[])).next())})};class q{constructor(f,p=500,m){this.reader=f,this.timeBetweenScansMillis=p,this._hints=m,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(f){this._timeBetweenDecodingAttempts=f<0?0:f}set hints(f){this._hints=f||null}get hints(){return this._hints}listVideoInputDevices(){return V(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const f=yield navigator.mediaDevices.enumerateDevices(),p=[];for(const m of f){const b=m.kind==="video"?"videoinput":m.kind;if(b!=="videoinput")continue;const S=m.deviceId||m.id,B=m.label||`Video device ${p.length+1}`,L=m.groupId,Q={deviceId:S,label:B,kind:b,groupId:L};p.push(Q)}return p})}getVideoInputDevices(){return V(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(p=>new ve(p.deviceId,p.label))})}findDeviceById(f){return V(this,void 0,void 0,function*(){const p=yield this.listVideoInputDevices();return p?p.find(m=>m.deviceId===f):null})}decodeFromInputVideoDevice(f,p){return V(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(f,p)})}decodeOnceFromVideoDevice(f,p){return V(this,void 0,void 0,function*(){this.reset();let m;f?m={deviceId:{exact:f}}:m={facingMode:"environment"};const b={video:m};return yield this.decodeOnceFromConstraints(b,p)})}decodeOnceFromConstraints(f,p){return V(this,void 0,void 0,function*(){const m=yield navigator.mediaDevices.getUserMedia(f);return yield this.decodeOnceFromStream(m,p)})}decodeOnceFromStream(f,p){return V(this,void 0,void 0,function*(){this.reset();const m=yield this.attachStreamToVideo(f,p);return yield this.decodeOnce(m)})}decodeFromInputVideoDeviceContinuously(f,p,m){return V(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(f,p,m)})}decodeFromVideoDevice(f,p,m){return V(this,void 0,void 0,function*(){let b;f?b={deviceId:{exact:f}}:b={facingMode:"environment"};const S={video:b};return yield this.decodeFromConstraints(S,p,m)})}decodeFromConstraints(f,p,m){return V(this,void 0,void 0,function*(){const b=yield navigator.mediaDevices.getUserMedia(f);return yield this.decodeFromStream(b,p,m)})}decodeFromStream(f,p,m){return V(this,void 0,void 0,function*(){this.reset();const b=yield this.attachStreamToVideo(f,p);return yield this.decodeContinuously(b,m)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(f,p){return V(this,void 0,void 0,function*(){const m=this.prepareVideoElement(p);return this.addVideoSource(m,f),this.videoElement=m,this.stream=f,yield this.playVideoOnLoadAsync(m),m})}playVideoOnLoadAsync(f){return new Promise((p,m)=>this.playVideoOnLoad(f,()=>p()))}playVideoOnLoad(f,p){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(f),f.addEventListener("ended",this.videoEndedListener),f.addEventListener("canplay",this.videoCanPlayListener),f.addEventListener("playing",p),this.tryPlayVideo(f)}isVideoPlaying(f){return f.currentTime>0&&!f.paused&&!f.ended&&f.readyState>2}tryPlayVideo(f){return V(this,void 0,void 0,function*(){if(this.isVideoPlaying(f)){console.warn("Trying to play video that is already playing.");return}try{yield f.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(f,p){const m=document.getElementById(f);if(!m)throw new d(`element with id '${f}' not found`);if(m.nodeName.toLowerCase()!==p.toLowerCase())throw new d(`element with id '${f}' must be an ${p} element`);return m}decodeFromImage(f,p){if(!f&&!p)throw new d("either imageElement with a src set or an url must be provided");return p&&!f?this.decodeFromImageUrl(p):this.decodeFromImageElement(f)}decodeFromVideo(f,p){if(!f&&!p)throw new d("Either an element with a src set or an URL must be provided");return p&&!f?this.decodeFromVideoUrl(p):this.decodeFromVideoElement(f)}decodeFromVideoContinuously(f,p,m){if(f===void 0&&p===void 0)throw new d("Either an element with a src set or an URL must be provided");return p&&!f?this.decodeFromVideoUrlContinuously(p,m):this.decodeFromVideoElementContinuously(f,m)}decodeFromImageElement(f){if(!f)throw new d("An image element must be provided.");this.reset();const p=this.prepareImageElement(f);this.imageElement=p;let m;return this.isImageLoaded(p)?m=this.decodeOnce(p,!1,!0):m=this._decodeOnLoadImage(p),m}decodeFromVideoElement(f){const p=this._decodeFromVideoElementSetup(f);return this._decodeOnLoadVideo(p)}decodeFromVideoElementContinuously(f,p){const m=this._decodeFromVideoElementSetup(f);return this._decodeOnLoadVideoContinuously(m,p)}_decodeFromVideoElementSetup(f){if(!f)throw new d("A video element must be provided.");this.reset();const p=this.prepareVideoElement(f);return this.videoElement=p,p}decodeFromImageUrl(f){if(!f)throw new d("An URL must be provided.");this.reset();const p=this.prepareImageElement();this.imageElement=p;const m=this._decodeOnLoadImage(p);return p.src=f,m}decodeFromVideoUrl(f){if(!f)throw new d("An URL must be provided.");this.reset();const p=this.prepareVideoElement(),m=this.decodeFromVideoElement(p);return p.src=f,m}decodeFromVideoUrlContinuously(f,p){if(!f)throw new d("An URL must be provided.");this.reset();const m=this.prepareVideoElement(),b=this.decodeFromVideoElementContinuously(m,p);return m.src=f,b}_decodeOnLoadImage(f){return new Promise((p,m)=>{this.imageLoadedListener=()=>this.decodeOnce(f,!1,!0).then(p,m),f.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(f){return V(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(f),yield this.decodeOnce(f)})}_decodeOnLoadVideoContinuously(f,p){return V(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(f),this.decodeContinuously(f,p)})}isImageLoaded(f){return!(!f.complete||f.naturalWidth===0)}prepareImageElement(f){let p;return typeof f>"u"&&(p=document.createElement("img"),p.width=200,p.height=200),typeof f=="string"&&(p=this.getMediaElement(f,"img")),f instanceof HTMLImageElement&&(p=f),p}prepareVideoElement(f){let p;return!f&&typeof document<"u"&&(p=document.createElement("video"),p.width=200,p.height=200),typeof f=="string"&&(p=this.getMediaElement(f,"video")),f instanceof HTMLVideoElement&&(p=f),p.setAttribute("autoplay","true"),p.setAttribute("muted","true"),p.setAttribute("playsinline","true"),p}decodeOnce(f,p=!0,m=!0){this._stopAsyncDecode=!1;const b=(S,B)=>{if(this._stopAsyncDecode){B(new Y("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const L=this.decode(f);S(L)}catch(L){const Q=p&&L instanceof Y,se=(L instanceof g||L instanceof T)&&m;if(Q||se)return setTimeout(b,this._timeBetweenDecodingAttempts,S,B);B(L)}};return new Promise((S,B)=>b(S,B))}decodeContinuously(f,p){this._stopContinuousDecode=!1;const m=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const b=this.decode(f);p(b,null),setTimeout(m,this.timeBetweenScansMillis)}catch(b){p(null,b);const S=b instanceof g||b instanceof T,B=b instanceof Y;(S||B)&&setTimeout(m,this._timeBetweenDecodingAttempts)}};m()}decode(f){const p=this.createBinaryBitmap(f);return this.decodeBitmap(p)}_isHTMLVideoElement(f){return f.videoWidth!==0}drawFrameOnCanvas(f,p,m){p||(p={sx:0,sy:0,sWidth:f.videoWidth,sHeight:f.videoHeight,dx:0,dy:0,dWidth:f.videoWidth,dHeight:f.videoHeight}),m||(m=this.captureCanvasContext),m.drawImage(f,p.sx,p.sy,p.sWidth,p.sHeight,p.dx,p.dy,p.dWidth,p.dHeight)}drawImageOnCanvas(f,p,m=this.captureCanvasContext){p||(p={sx:0,sy:0,sWidth:f.naturalWidth,sHeight:f.naturalHeight,dx:0,dy:0,dWidth:f.naturalWidth,dHeight:f.naturalHeight}),m||(m=this.captureCanvasContext),m.drawImage(f,p.sx,p.sy,p.sWidth,p.sHeight,p.dx,p.dy,p.dWidth,p.dHeight)}createBinaryBitmap(f){this.getCaptureCanvasContext(f),this._isHTMLVideoElement(f)?this.drawFrameOnCanvas(f):this.drawImageOnCanvas(f);const p=this.getCaptureCanvas(f),m=new ue(p),b=new le(m);return new A(b)}getCaptureCanvasContext(f){if(!this.captureCanvasContext){const m=this.getCaptureCanvas(f).getContext("2d");this.captureCanvasContext=m}return this.captureCanvasContext}getCaptureCanvas(f){if(!this.captureCanvas){const p=this.createCaptureCanvas(f);this.captureCanvas=p}return this.captureCanvas}decodeBitmap(f){return this.reader.decode(f,this._hints)}createCaptureCanvas(f){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const p=document.createElement("canvas");let m,b;return typeof f<"u"&&(f instanceof HTMLVideoElement?(m=f.videoWidth,b=f.videoHeight):f instanceof HTMLImageElement&&(m=f.naturalWidth||f.width,b=f.naturalHeight||f.height)),p.style.width=m+"px",p.style.height=b+"px",p.width=m,p.height=b,p}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(f=>f.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(f,p){try{f.srcObject=p}catch{f.src=URL.createObjectURL(p)}}cleanVideoSource(f){try{f.srcObject=null}catch{f.src=""}this.videoElement.removeAttribute("src")}}class ee{constructor(f,p,m=p==null?0:8*p.length,b,S,B=x.currentTimeMillis()){this.text=f,this.rawBytes=p,this.numBits=m,this.resultPoints=b,this.format=S,this.timestamp=B,this.text=f,this.rawBytes=p,m==null?this.numBits=p==null?0:8*p.length:this.numBits=m,this.resultPoints=b,this.format=S,this.resultMetadata=null,B==null?this.timestamp=x.currentTimeMillis():this.timestamp=B}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(f,p){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(f,p)}putAllMetadata(f){f!==null&&(this.resultMetadata===null?this.resultMetadata=f:this.resultMetadata=new Map(f))}addResultPoints(f){const p=this.resultPoints;if(p===null)this.resultPoints=f;else if(f!==null&&f.length>0){const m=new Array(p.length+f.length);x.arraycopy(p,0,m,0,p.length),x.arraycopy(f,0,m,p.length,f.length),this.resultPoints=m}}getTimestamp(){return this.timestamp}toString(){return this.text}}var re;(function(pe){pe[pe.AZTEC=0]="AZTEC",pe[pe.CODABAR=1]="CODABAR",pe[pe.CODE_39=2]="CODE_39",pe[pe.CODE_93=3]="CODE_93",pe[pe.CODE_128=4]="CODE_128",pe[pe.DATA_MATRIX=5]="DATA_MATRIX",pe[pe.EAN_8=6]="EAN_8",pe[pe.EAN_13=7]="EAN_13",pe[pe.ITF=8]="ITF",pe[pe.MAXICODE=9]="MAXICODE",pe[pe.PDF_417=10]="PDF_417",pe[pe.QR_CODE=11]="QR_CODE",pe[pe.RSS_14=12]="RSS_14",pe[pe.RSS_EXPANDED=13]="RSS_EXPANDED",pe[pe.UPC_A=14]="UPC_A",pe[pe.UPC_E=15]="UPC_E",pe[pe.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(re||(re={}));var de=re,Ae;(function(pe){pe[pe.OTHER=0]="OTHER",pe[pe.ORIENTATION=1]="ORIENTATION",pe[pe.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",pe[pe.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",pe[pe.ISSUE_NUMBER=4]="ISSUE_NUMBER",pe[pe.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",pe[pe.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",pe[pe.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",pe[pe.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",pe[pe.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",pe[pe.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ae||(Ae={}));var _e=Ae;class ye{constructor(f,p,m,b,S=-1,B=-1){this.rawBytes=f,this.text=p,this.byteSegments=m,this.ecLevel=b,this.structuredAppendSequenceNumber=S,this.structuredAppendParity=B,this.numBits=f==null?0:8*f.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(f){this.numBits=f}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(f){this.errorsCorrected=f}getErasures(){return this.erasures}setErasures(f){this.erasures=f}getOther(){return this.other}setOther(f){this.other=f}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ce{exp(f){return this.expTable[f]}log(f){if(f===0)throw new h;return this.logTable[f]}static addOrSubtract(f,p){return f^p}}class Ne{constructor(f,p){if(p.length===0)throw new h;this.field=f;const m=p.length;if(m>1&&p[0]===0){let b=1;for(;b<m&&p[b]===0;)b++;b===m?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(m-b),x.arraycopy(p,b,this.coefficients,0,this.coefficients.length))}else this.coefficients=p}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(f){return this.coefficients[this.coefficients.length-1-f]}evaluateAt(f){if(f===0)return this.getCoefficient(0);const p=this.coefficients;let m;if(f===1){m=0;for(let B=0,L=p.length;B!==L;B++){const Q=p[B];m=ce.addOrSubtract(m,Q)}return m}m=p[0];const b=p.length,S=this.field;for(let B=1;B<b;B++)m=ce.addOrSubtract(S.multiply(f,m),p[B]);return m}addOrSubtract(f){if(!this.field.equals(f.field))throw new h("GenericGFPolys do not have same GenericGF field");if(this.isZero())return f;if(f.isZero())return this;let p=this.coefficients,m=f.coefficients;if(p.length>m.length){const B=p;p=m,m=B}let b=new Int32Array(m.length);const S=m.length-p.length;x.arraycopy(m,0,b,0,S);for(let B=S;B<m.length;B++)b[B]=ce.addOrSubtract(p[B-S],m[B]);return new Ne(this.field,b)}multiply(f){if(!this.field.equals(f.field))throw new h("GenericGFPolys do not have same GenericGF field");if(this.isZero()||f.isZero())return this.field.getZero();const p=this.coefficients,m=p.length,b=f.coefficients,S=b.length,B=new Int32Array(m+S-1),L=this.field;for(let Q=0;Q<m;Q++){const W=p[Q];for(let se=0;se<S;se++)B[Q+se]=ce.addOrSubtract(B[Q+se],L.multiply(W,b[se]))}return new Ne(L,B)}multiplyScalar(f){if(f===0)return this.field.getZero();if(f===1)return this;const p=this.coefficients.length,m=this.field,b=new Int32Array(p),S=this.coefficients;for(let B=0;B<p;B++)b[B]=m.multiply(S[B],f);return new Ne(m,b)}multiplyByMonomial(f,p){if(f<0)throw new h;if(p===0)return this.field.getZero();const m=this.coefficients,b=m.length,S=new Int32Array(b+f),B=this.field;for(let L=0;L<b;L++)S[L]=B.multiply(m[L],p);return new Ne(B,S)}divide(f){if(!this.field.equals(f.field))throw new h("GenericGFPolys do not have same GenericGF field");if(f.isZero())throw new h("Divide by 0");const p=this.field;let m=p.getZero(),b=this;const S=f.getCoefficient(f.getDegree()),B=p.inverse(S);for(;b.getDegree()>=f.getDegree()&&!b.isZero();){const L=b.getDegree()-f.getDegree(),Q=p.multiply(b.getCoefficient(b.getDegree()),B),W=f.multiplyByMonomial(L,Q),se=p.buildMonomial(L,Q);m=m.addOrSubtract(se),b=b.addOrSubtract(W)}return[m,b]}toString(){let f="";for(let p=this.getDegree();p>=0;p--){let m=this.getCoefficient(p);if(m!==0){if(m<0?(f+=" - ",m=-m):f.length>0&&(f+=" + "),p===0||m!==1){const b=this.field.log(m);b===0?f+="1":b===1?f+="a":(f+="a^",f+=b)}p!==0&&(p===1?f+="x":(f+="x^",f+=p))}}return f}}class oe extends u{}oe.kind="ArithmeticException";class We extends ce{constructor(f,p,m){super(),this.primitive=f,this.size=p,this.generatorBase=m;const b=new Int32Array(p);let S=1;for(let L=0;L<p;L++)b[L]=S,S*=2,S>=p&&(S^=f,S&=p-1);this.expTable=b;const B=new Int32Array(p);for(let L=0;L<p-1;L++)B[b[L]]=L;this.logTable=B,this.zero=new Ne(this,Int32Array.from([0])),this.one=new Ne(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(f,p){if(f<0)throw new h;if(p===0)return this.zero;const m=new Int32Array(f+1);return m[0]=p,new Ne(this,m)}inverse(f){if(f===0)throw new oe;return this.expTable[this.size-this.logTable[f]-1]}multiply(f,p){return f===0||p===0?0:this.expTable[(this.logTable[f]+this.logTable[p])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+E.toHexString(this.primitive)+","+this.size+")"}equals(f){return f===this}}We.AZTEC_DATA_12=new We(4201,4096,1),We.AZTEC_DATA_10=new We(1033,1024,1),We.AZTEC_DATA_6=new We(67,64,1),We.AZTEC_PARAM=new We(19,16,1),We.QR_CODE_FIELD_256=new We(285,256,0),We.DATA_MATRIX_FIELD_256=new We(301,256,1),We.AZTEC_DATA_8=We.DATA_MATRIX_FIELD_256,We.MAXICODE_FIELD_64=We.AZTEC_DATA_6;class Re extends u{}Re.kind="ReedSolomonException";class z extends u{}z.kind="IllegalStateException";class Fe{constructor(f){this.field=f}decode(f,p){const m=this.field,b=new Ne(m,f),S=new Int32Array(p);let B=!0;for(let Qe=0;Qe<p;Qe++){const Xe=b.evaluateAt(m.exp(Qe+m.getGeneratorBase()));S[S.length-1-Qe]=Xe,Xe!==0&&(B=!1)}if(B)return;const L=new Ne(m,S),Q=this.runEuclideanAlgorithm(m.buildMonomial(p,1),L,p),W=Q[0],se=Q[1],ge=this.findErrorLocations(W),we=this.findErrorMagnitudes(se,ge);for(let Qe=0;Qe<ge.length;Qe++){const Xe=f.length-1-m.log(ge[Qe]);if(Xe<0)throw new Re("Bad error location");f[Xe]=We.addOrSubtract(f[Xe],we[Qe])}}runEuclideanAlgorithm(f,p,m){if(f.getDegree()<p.getDegree()){const Qe=f;f=p,p=Qe}const b=this.field;let S=f,B=p,L=b.getZero(),Q=b.getOne();for(;B.getDegree()>=(m/2|0);){let Qe=S,Xe=L;if(S=B,L=Q,S.isZero())throw new Re("r_{i-1} was zero");B=Qe;let Ye=b.getZero();const ot=S.getCoefficient(S.getDegree()),wt=b.inverse(ot);for(;B.getDegree()>=S.getDegree()&&!B.isZero();){const Mt=B.getDegree()-S.getDegree(),zt=b.multiply(B.getCoefficient(B.getDegree()),wt);Ye=Ye.addOrSubtract(b.buildMonomial(Mt,zt)),B=B.addOrSubtract(S.multiplyByMonomial(Mt,zt))}if(Q=Ye.multiply(L).addOrSubtract(Xe),B.getDegree()>=S.getDegree())throw new z("Division algorithm failed to reduce polynomial?")}const W=Q.getCoefficient(0);if(W===0)throw new Re("sigmaTilde(0) was zero");const se=b.inverse(W),ge=Q.multiplyScalar(se),we=B.multiplyScalar(se);return[ge,we]}findErrorLocations(f){const p=f.getDegree();if(p===1)return Int32Array.from([f.getCoefficient(1)]);const m=new Int32Array(p);let b=0;const S=this.field;for(let B=1;B<S.getSize()&&b<p;B++)f.evaluateAt(B)===0&&(m[b]=S.inverse(B),b++);if(b!==p)throw new Re("Error locator degree does not match number of roots");return m}findErrorMagnitudes(f,p){const m=p.length,b=new Int32Array(m),S=this.field;for(let B=0;B<m;B++){const L=S.inverse(p[B]);let Q=1;for(let W=0;W<m;W++)if(B!==W){const se=S.multiply(p[W],L),ge=se&1?se&-2:se|1;Q=S.multiply(Q,ge)}b[B]=S.multiply(f.evaluateAt(L),S.inverse(Q)),S.getGeneratorBase()!==0&&(b[B]=S.multiply(b[B],L))}return b}}var He;(function(pe){pe[pe.UPPER=0]="UPPER",pe[pe.LOWER=1]="LOWER",pe[pe.MIXED=2]="MIXED",pe[pe.DIGIT=3]="DIGIT",pe[pe.PUNCT=4]="PUNCT",pe[pe.BINARY=5]="BINARY"})(He||(He={}));class ke{decode(f){this.ddata=f;let p=f.getBits(),m=this.extractBits(p),b=this.correctBits(m),S=ke.convertBoolArrayToByteArray(b),B=ke.getEncodedData(b),L=new ye(S,B,null,null);return L.setNumBits(b.length),L}static highLevelDecode(f){return this.getEncodedData(f)}static getEncodedData(f){let p=f.length,m=He.UPPER,b=He.UPPER,S="",B=0;for(;B<p;)if(b===He.BINARY){if(p-B<5)break;let L=ke.readCode(f,B,5);if(B+=5,L===0){if(p-B<11)break;L=ke.readCode(f,B,11)+31,B+=11}for(let Q=0;Q<L;Q++){if(p-B<8){B=p;break}const W=ke.readCode(f,B,8);S+=M.castAsNonUtf8Char(W),B+=8}b=m}else{let L=b===He.DIGIT?4:5;if(p-B<L)break;let Q=ke.readCode(f,B,L);B+=L;let W=ke.getCharacter(b,Q);W.startsWith("CTRL_")?(m=b,b=ke.getTable(W.charAt(5)),W.charAt(6)==="L"&&(m=b)):(S+=W,b=m)}return S}static getTable(f){switch(f){case"L":return He.LOWER;case"P":return He.PUNCT;case"M":return He.MIXED;case"D":return He.DIGIT;case"B":return He.BINARY;case"U":default:return He.UPPER}}static getCharacter(f,p){switch(f){case He.UPPER:return ke.UPPER_TABLE[p];case He.LOWER:return ke.LOWER_TABLE[p];case He.MIXED:return ke.MIXED_TABLE[p];case He.PUNCT:return ke.PUNCT_TABLE[p];case He.DIGIT:return ke.DIGIT_TABLE[p];default:throw new z("Bad table")}}correctBits(f){let p,m;this.ddata.getNbLayers()<=2?(m=6,p=We.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(m=8,p=We.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(m=10,p=We.AZTEC_DATA_10):(m=12,p=We.AZTEC_DATA_12);let b=this.ddata.getNbDatablocks(),S=f.length/m;if(S<b)throw new T;let B=f.length%m,L=new Int32Array(S);for(let we=0;we<S;we++,B+=m)L[we]=ke.readCode(f,B,m);try{new Fe(p).decode(L,S-b)}catch(we){throw new T(we)}let Q=(1<<m)-1,W=0;for(let we=0;we<b;we++){let Qe=L[we];if(Qe===0||Qe===Q)throw new T;(Qe===1||Qe===Q-1)&&W++}let se=new Array(b*m-W),ge=0;for(let we=0;we<b;we++){let Qe=L[we];if(Qe===1||Qe===Q-1)se.fill(Qe>1,ge,ge+m-1),ge+=m-1;else for(let Xe=m-1;Xe>=0;--Xe)se[ge++]=(Qe&1<<Xe)!==0}return se}extractBits(f){let p=this.ddata.isCompact(),m=this.ddata.getNbLayers(),b=(p?11:14)+m*4,S=new Int32Array(b),B=new Array(this.totalBitsInLayer(m,p));if(p)for(let L=0;L<S.length;L++)S[L]=L;else{let L=b+1+2*E.truncDivision(E.truncDivision(b,2)-1,15),Q=b/2,W=E.truncDivision(L,2);for(let se=0;se<Q;se++){let ge=se+E.truncDivision(se,15);S[Q-se-1]=W-ge-1,S[Q+se]=W+ge+1}}for(let L=0,Q=0;L<m;L++){let W=(m-L)*4+(p?9:12),se=L*2,ge=b-1-se;for(let we=0;we<W;we++){let Qe=we*2;for(let Xe=0;Xe<2;Xe++)B[Q+Qe+Xe]=f.get(S[se+Xe],S[se+we]),B[Q+2*W+Qe+Xe]=f.get(S[se+we],S[ge-Xe]),B[Q+4*W+Qe+Xe]=f.get(S[ge-Xe],S[ge-we]),B[Q+6*W+Qe+Xe]=f.get(S[ge-we],S[se+Xe])}Q+=W*8}return B}static readCode(f,p,m){let b=0;for(let S=p;S<p+m;S++)b<<=1,f[S]&&(b|=1);return b}static readByte(f,p){let m=f.length-p;return m>=8?ke.readCode(f,p,8):ke.readCode(f,p,m)<<8-m}static convertBoolArrayToByteArray(f){let p=new Uint8Array((f.length+7)/8);for(let m=0;m<p.length;m++)p[m]=ke.readByte(f,8*m);return p}totalBitsInLayer(f,p){return((p?88:112)+16*f)*f}}ke.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ke.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ke.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ke.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ke.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Te{constructor(){}static round(f){return f===NaN?0:f<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:f>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:f+(f<0?-.5:.5)|0}static distance(f,p,m,b){const S=f-m,B=p-b;return Math.sqrt(S*S+B*B)}static sum(f){let p=0;for(let m=0,b=f.length;m!==b;m++){const S=f[m];p+=S}return p}}class Ze{static floatToIntBits(f){return f}}Ze.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ze{constructor(f,p){this.x=f,this.y=p}getX(){return this.x}getY(){return this.y}equals(f){if(f instanceof ze){const p=f;return this.x===p.x&&this.y===p.y}return!1}hashCode(){return 31*Ze.floatToIntBits(this.x)+Ze.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(f){const p=this.distance(f[0],f[1]),m=this.distance(f[1],f[2]),b=this.distance(f[0],f[2]);let S,B,L;if(m>=p&&m>=b?(B=f[0],S=f[1],L=f[2]):b>=m&&b>=p?(B=f[1],S=f[0],L=f[2]):(B=f[2],S=f[0],L=f[1]),this.crossProductZ(S,B,L)<0){const Q=S;S=L,L=Q}f[0]=S,f[1]=B,f[2]=L}static distance(f,p){return Te.distance(f.x,f.y,p.x,p.y)}static crossProductZ(f,p,m){const b=p.x,S=p.y;return(m.x-b)*(f.y-S)-(m.y-S)*(f.x-b)}}class Tt{constructor(f,p){this.bits=f,this.points=p}getBits(){return this.bits}getPoints(){return this.points}}class Bt extends Tt{constructor(f,p,m,b,S){super(f,p),this.compact=m,this.nbDatablocks=b,this.nbLayers=S}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class mt{constructor(f,p,m,b){this.image=f,this.height=f.getHeight(),this.width=f.getWidth(),p==null&&(p=mt.INIT_SIZE),m==null&&(m=f.getWidth()/2|0),b==null&&(b=f.getHeight()/2|0);const S=p/2|0;if(this.leftInit=m-S,this.rightInit=m+S,this.upInit=b-S,this.downInit=b+S,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Y}detect(){let f=this.leftInit,p=this.rightInit,m=this.upInit,b=this.downInit,S=!1,B=!0,L=!1,Q=!1,W=!1,se=!1,ge=!1;const we=this.width,Qe=this.height;for(;B;){B=!1;let Xe=!0;for(;(Xe||!Q)&&p<we;)Xe=this.containsBlackPoint(m,b,p,!1),Xe?(p++,B=!0,Q=!0):Q||p++;if(p>=we){S=!0;break}let Ye=!0;for(;(Ye||!W)&&b<Qe;)Ye=this.containsBlackPoint(f,p,b,!0),Ye?(b++,B=!0,W=!0):W||b++;if(b>=Qe){S=!0;break}let ot=!0;for(;(ot||!se)&&f>=0;)ot=this.containsBlackPoint(m,b,f,!1),ot?(f--,B=!0,se=!0):se||f--;if(f<0){S=!0;break}let wt=!0;for(;(wt||!ge)&&m>=0;)wt=this.containsBlackPoint(f,p,m,!0),wt?(m--,B=!0,ge=!0):ge||m--;if(m<0){S=!0;break}B&&(L=!0)}if(!S&&L){const Xe=p-f;let Ye=null;for(let zt=1;Ye===null&&zt<Xe;zt++)Ye=this.getBlackPointOnSegment(f,b-zt,f+zt,b);if(Ye==null)throw new Y;let ot=null;for(let zt=1;ot===null&&zt<Xe;zt++)ot=this.getBlackPointOnSegment(f,m+zt,f+zt,m);if(ot==null)throw new Y;let wt=null;for(let zt=1;wt===null&&zt<Xe;zt++)wt=this.getBlackPointOnSegment(p,m+zt,p-zt,m);if(wt==null)throw new Y;let Mt=null;for(let zt=1;Mt===null&&zt<Xe;zt++)Mt=this.getBlackPointOnSegment(p,b-zt,p-zt,b);if(Mt==null)throw new Y;return this.centerEdges(Mt,Ye,wt,ot)}else throw new Y}getBlackPointOnSegment(f,p,m,b){const S=Te.round(Te.distance(f,p,m,b)),B=(m-f)/S,L=(b-p)/S,Q=this.image;for(let W=0;W<S;W++){const se=Te.round(f+W*B),ge=Te.round(p+W*L);if(Q.get(se,ge))return new ze(se,ge)}return null}centerEdges(f,p,m,b){const S=f.getX(),B=f.getY(),L=p.getX(),Q=p.getY(),W=m.getX(),se=m.getY(),ge=b.getX(),we=b.getY(),Qe=mt.CORR;return S<this.width/2?[new ze(ge-Qe,we+Qe),new ze(L+Qe,Q+Qe),new ze(W-Qe,se-Qe),new ze(S+Qe,B-Qe)]:[new ze(ge+Qe,we+Qe),new ze(L+Qe,Q-Qe),new ze(W-Qe,se+Qe),new ze(S-Qe,B-Qe)]}containsBlackPoint(f,p,m,b){const S=this.image;if(b){for(let B=f;B<=p;B++)if(S.get(B,m))return!0}else for(let B=f;B<=p;B++)if(S.get(m,B))return!0;return!1}}mt.INIT_SIZE=10,mt.CORR=1;class _t{static checkAndNudgePoints(f,p){const m=f.getWidth(),b=f.getHeight();let S=!0;for(let B=0;B<p.length&&S;B+=2){const L=Math.floor(p[B]),Q=Math.floor(p[B+1]);if(L<-1||L>m||Q<-1||Q>b)throw new Y;S=!1,L===-1?(p[B]=0,S=!0):L===m&&(p[B]=m-1,S=!0),Q===-1?(p[B+1]=0,S=!0):Q===b&&(p[B+1]=b-1,S=!0)}S=!0;for(let B=p.length-2;B>=0&&S;B-=2){const L=Math.floor(p[B]),Q=Math.floor(p[B+1]);if(L<-1||L>m||Q<-1||Q>b)throw new Y;S=!1,L===-1?(p[B]=0,S=!0):L===m&&(p[B]=m-1,S=!0),Q===-1?(p[B+1]=0,S=!0):Q===b&&(p[B+1]=b-1,S=!0)}}}class jt{constructor(f,p,m,b,S,B,L,Q,W){this.a11=f,this.a21=p,this.a31=m,this.a12=b,this.a22=S,this.a32=B,this.a13=L,this.a23=Q,this.a33=W}static quadrilateralToQuadrilateral(f,p,m,b,S,B,L,Q,W,se,ge,we,Qe,Xe,Ye,ot){const wt=jt.quadrilateralToSquare(f,p,m,b,S,B,L,Q);return jt.squareToQuadrilateral(W,se,ge,we,Qe,Xe,Ye,ot).times(wt)}transformPoints(f){const p=f.length,m=this.a11,b=this.a12,S=this.a13,B=this.a21,L=this.a22,Q=this.a23,W=this.a31,se=this.a32,ge=this.a33;for(let we=0;we<p;we+=2){const Qe=f[we],Xe=f[we+1],Ye=S*Qe+Q*Xe+ge;f[we]=(m*Qe+B*Xe+W)/Ye,f[we+1]=(b*Qe+L*Xe+se)/Ye}}transformPointsWithValues(f,p){const m=this.a11,b=this.a12,S=this.a13,B=this.a21,L=this.a22,Q=this.a23,W=this.a31,se=this.a32,ge=this.a33,we=f.length;for(let Qe=0;Qe<we;Qe++){const Xe=f[Qe],Ye=p[Qe],ot=S*Xe+Q*Ye+ge;f[Qe]=(m*Xe+B*Ye+W)/ot,p[Qe]=(b*Xe+L*Ye+se)/ot}}static squareToQuadrilateral(f,p,m,b,S,B,L,Q){const W=f-m+S-L,se=p-b+B-Q;if(W===0&&se===0)return new jt(m-f,S-m,f,b-p,B-b,p,0,0,1);{const ge=m-S,we=L-S,Qe=b-B,Xe=Q-B,Ye=ge*Xe-we*Qe,ot=(W*Xe-we*se)/Ye,wt=(ge*se-W*Qe)/Ye;return new jt(m-f+ot*m,L-f+wt*L,f,b-p+ot*b,Q-p+wt*Q,p,ot,wt,1)}}static quadrilateralToSquare(f,p,m,b,S,B,L,Q){return jt.squareToQuadrilateral(f,p,m,b,S,B,L,Q).buildAdjoint()}buildAdjoint(){return new jt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(f){return new jt(this.a11*f.a11+this.a21*f.a12+this.a31*f.a13,this.a11*f.a21+this.a21*f.a22+this.a31*f.a23,this.a11*f.a31+this.a21*f.a32+this.a31*f.a33,this.a12*f.a11+this.a22*f.a12+this.a32*f.a13,this.a12*f.a21+this.a22*f.a22+this.a32*f.a23,this.a12*f.a31+this.a22*f.a32+this.a32*f.a33,this.a13*f.a11+this.a23*f.a12+this.a33*f.a13,this.a13*f.a21+this.a23*f.a22+this.a33*f.a23,this.a13*f.a31+this.a23*f.a32+this.a33*f.a33)}}class or extends _t{sampleGrid(f,p,m,b,S,B,L,Q,W,se,ge,we,Qe,Xe,Ye,ot,wt,Mt,zt){const Ht=jt.quadrilateralToQuadrilateral(b,S,B,L,Q,W,se,ge,we,Qe,Xe,Ye,ot,wt,Mt,zt);return this.sampleGridWithTransform(f,p,m,Ht)}sampleGridWithTransform(f,p,m,b){if(p<=0||m<=0)throw new Y;const S=new K(p,m),B=new Float32Array(2*p);for(let L=0;L<m;L++){const Q=B.length,W=L+.5;for(let se=0;se<Q;se+=2)B[se]=se/2+.5,B[se+1]=W;b.transformPoints(B),_t.checkAndNudgePoints(f,B);try{for(let se=0;se<Q;se+=2)f.get(Math.floor(B[se]),Math.floor(B[se+1]))&&S.set(se/2,L)}catch{throw new Y}}return S}}class St{static setGridSampler(f){St.gridSampler=f}static getInstance(){return St.gridSampler}}St.gridSampler=new or;class at{constructor(f,p){this.x=f,this.y=p}toResultPoint(){return new ze(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ut{constructor(f){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=f}detect(){return this.detectMirror(!1)}detectMirror(f){let p=this.getMatrixCenter(),m=this.getBullsEyeCorners(p);if(f){let B=m[0];m[0]=m[2],m[2]=B}this.extractParameters(m);let b=this.sampleGrid(this.image,m[this.shift%4],m[(this.shift+1)%4],m[(this.shift+2)%4],m[(this.shift+3)%4]),S=this.getMatrixCornerPoints(m);return new Bt(b,S,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(f){if(!this.isValidPoint(f[0])||!this.isValidPoint(f[1])||!this.isValidPoint(f[2])||!this.isValidPoint(f[3]))throw new Y;let p=2*this.nbCenterLayers,m=new Int32Array([this.sampleLine(f[0],f[1],p),this.sampleLine(f[1],f[2],p),this.sampleLine(f[2],f[3],p),this.sampleLine(f[3],f[0],p)]);this.shift=this.getRotation(m,p);let b=0;for(let B=0;B<4;B++){let L=m[(this.shift+B)%4];this.compact?(b<<=7,b+=L>>1&127):(b<<=10,b+=(L>>2&992)+(L>>1&31))}let S=this.getCorrectedParameterData(b,this.compact);this.compact?(this.nbLayers=(S>>6)+1,this.nbDataBlocks=(S&63)+1):(this.nbLayers=(S>>11)+1,this.nbDataBlocks=(S&2047)+1)}getRotation(f,p){let m=0;f.forEach((b,S,B)=>{let L=(b>>p-2<<1)+(b&1);m=(m<<3)+L}),m=((m&1)<<11)+(m>>1);for(let b=0;b<4;b++)if(E.bitCount(m^this.EXPECTED_CORNER_BITS[b])<=2)return b;throw new Y}getCorrectedParameterData(f,p){let m,b;p?(m=7,b=2):(m=10,b=4);let S=m-b,B=new Int32Array(m);for(let Q=m-1;Q>=0;--Q)B[Q]=f&15,f>>=4;try{new Fe(We.AZTEC_PARAM).decode(B,S)}catch{throw new Y}let L=0;for(let Q=0;Q<b;Q++)L=(L<<4)+B[Q];return L}getBullsEyeCorners(f){let p=f,m=f,b=f,S=f,B=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let ge=this.getFirstDifferent(p,B,1,-1),we=this.getFirstDifferent(m,B,1,1),Qe=this.getFirstDifferent(b,B,-1,1),Xe=this.getFirstDifferent(S,B,-1,-1);if(this.nbCenterLayers>2){let Ye=this.distancePoint(Xe,ge)*this.nbCenterLayers/(this.distancePoint(S,p)*(this.nbCenterLayers+2));if(Ye<.75||Ye>1.25||!this.isWhiteOrBlackRectangle(ge,we,Qe,Xe))break}p=ge,m=we,b=Qe,S=Xe,B=!B}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Y;this.compact=this.nbCenterLayers===5;let L=new ze(p.getX()+.5,p.getY()-.5),Q=new ze(m.getX()+.5,m.getY()+.5),W=new ze(b.getX()-.5,b.getY()+.5),se=new ze(S.getX()-.5,S.getY()-.5);return this.expandSquare([L,Q,W,se],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let f,p,m,b;try{let L=new mt(this.image).detect();f=L[0],p=L[1],m=L[2],b=L[3]}catch{let Q=this.image.getWidth()/2,W=this.image.getHeight()/2;f=this.getFirstDifferent(new at(Q+7,W-7),!1,1,-1).toResultPoint(),p=this.getFirstDifferent(new at(Q+7,W+7),!1,1,1).toResultPoint(),m=this.getFirstDifferent(new at(Q-7,W+7),!1,-1,1).toResultPoint(),b=this.getFirstDifferent(new at(Q-7,W-7),!1,-1,-1).toResultPoint()}let S=Te.round((f.getX()+b.getX()+p.getX()+m.getX())/4),B=Te.round((f.getY()+b.getY()+p.getY()+m.getY())/4);try{let L=new mt(this.image,15,S,B).detect();f=L[0],p=L[1],m=L[2],b=L[3]}catch{f=this.getFirstDifferent(new at(S+7,B-7),!1,1,-1).toResultPoint(),p=this.getFirstDifferent(new at(S+7,B+7),!1,1,1).toResultPoint(),m=this.getFirstDifferent(new at(S-7,B+7),!1,-1,1).toResultPoint(),b=this.getFirstDifferent(new at(S-7,B-7),!1,-1,-1).toResultPoint()}return S=Te.round((f.getX()+b.getX()+p.getX()+m.getX())/4),B=Te.round((f.getY()+b.getY()+p.getY()+m.getY())/4),new at(S,B)}getMatrixCornerPoints(f){return this.expandSquare(f,2*this.nbCenterLayers,this.getDimension())}sampleGrid(f,p,m,b,S){let B=St.getInstance(),L=this.getDimension(),Q=L/2-this.nbCenterLayers,W=L/2+this.nbCenterLayers;return B.sampleGrid(f,L,L,Q,Q,W,Q,W,W,Q,W,p.getX(),p.getY(),m.getX(),m.getY(),b.getX(),b.getY(),S.getX(),S.getY())}sampleLine(f,p,m){let b=0,S=this.distanceResultPoint(f,p),B=S/m,L=f.getX(),Q=f.getY(),W=B*(p.getX()-f.getX())/S,se=B*(p.getY()-f.getY())/S;for(let ge=0;ge<m;ge++)this.image.get(Te.round(L+ge*W),Te.round(Q+ge*se))&&(b|=1<<m-ge-1);return b}isWhiteOrBlackRectangle(f,p,m,b){let S=3;f=new at(f.getX()-S,f.getY()+S),p=new at(p.getX()-S,p.getY()-S),m=new at(m.getX()+S,m.getY()-S),b=new at(b.getX()+S,b.getY()+S);let B=this.getColor(b,f);if(B===0)return!1;let L=this.getColor(f,p);return L!==B||(L=this.getColor(p,m),L!==B)?!1:(L=this.getColor(m,b),L===B)}getColor(f,p){let m=this.distancePoint(f,p),b=(p.getX()-f.getX())/m,S=(p.getY()-f.getY())/m,B=0,L=f.getX(),Q=f.getY(),W=this.image.get(f.getX(),f.getY()),se=Math.ceil(m);for(let we=0;we<se;we++)L+=b,Q+=S,this.image.get(Te.round(L),Te.round(Q))!==W&&B++;let ge=B/m;return ge>.1&&ge<.9?0:ge<=.1===W?1:-1}getFirstDifferent(f,p,m,b){let S=f.getX()+m,B=f.getY()+b;for(;this.isValid(S,B)&&this.image.get(S,B)===p;)S+=m,B+=b;for(S-=m,B-=b;this.isValid(S,B)&&this.image.get(S,B)===p;)S+=m;for(S-=m;this.isValid(S,B)&&this.image.get(S,B)===p;)B+=b;return B-=b,new at(S,B)}expandSquare(f,p,m){let b=m/(2*p),S=f[0].getX()-f[2].getX(),B=f[0].getY()-f[2].getY(),L=(f[0].getX()+f[2].getX())/2,Q=(f[0].getY()+f[2].getY())/2,W=new ze(L+b*S,Q+b*B),se=new ze(L-b*S,Q-b*B);S=f[1].getX()-f[3].getX(),B=f[1].getY()-f[3].getY(),L=(f[1].getX()+f[3].getX())/2,Q=(f[1].getY()+f[3].getY())/2;let ge=new ze(L+b*S,Q+b*B),we=new ze(L-b*S,Q-b*B);return[W,ge,se,we]}isValid(f,p){return f>=0&&f<this.image.getWidth()&&p>0&&p<this.image.getHeight()}isValidPoint(f){let p=Te.round(f.getX()),m=Te.round(f.getY());return this.isValid(p,m)}distancePoint(f,p){return Te.distance(f.getX(),f.getY(),p.getX(),p.getY())}distanceResultPoint(f,p){return Te.distance(f.getX(),f.getY(),p.getX(),p.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(E.truncDivision(this.nbLayers-4,8)+1)+15}}class qt{decode(f,p=null){let m=null,b=new Ut(f.getBlackMatrix()),S=null,B=null;try{let se=b.detectMirror(!1);S=se.getPoints(),this.reportFoundResultPoints(p,S),B=new ke().decode(se)}catch(se){m=se}if(B==null)try{let se=b.detectMirror(!0);S=se.getPoints(),this.reportFoundResultPoints(p,S),B=new ke().decode(se)}catch(se){throw m??se}let L=new ee(B.getText(),B.getRawBytes(),B.getNumBits(),S,de.AZTEC,x.currentTimeMillis()),Q=B.getByteSegments();Q!=null&&L.putMetadata(_e.BYTE_SEGMENTS,Q);let W=B.getECLevel();return W!=null&&L.putMetadata(_e.ERROR_CORRECTION_LEVEL,W),L}reportFoundResultPoints(f,p){if(f!=null){let m=f.get(j.NEED_RESULT_POINT_CALLBACK);m!=null&&p.forEach((b,S,B)=>{m.foundPossibleResultPoint(b)})}}reset(){}}class Er extends q{constructor(f=500){super(new qt,f)}}class Kt{decode(f,p){try{return this.doDecode(f,p)}catch{if(p&&p.get(j.TRY_HARDER)===!0&&f.isRotateSupported()){const S=f.rotateCounterClockwise(),B=this.doDecode(S,p),L=B.getResultMetadata();let Q=270;L!==null&&L.get(_e.ORIENTATION)===!0&&(Q=Q+L.get(_e.ORIENTATION)%360),B.putMetadata(_e.ORIENTATION,Q);const W=B.getResultPoints();if(W!==null){const se=S.getHeight();for(let ge=0;ge<W.length;ge++)W[ge]=new ze(se-W[ge].getY()-1,W[ge].getX())}return B}else throw new Y}}reset(){}doDecode(f,p){const m=f.getWidth(),b=f.getHeight();let S=new I(m);const B=p&&p.get(j.TRY_HARDER)===!0,L=Math.max(1,b>>(B?8:5));let Q;B?Q=b:Q=15;const W=Math.trunc(b/2);for(let se=0;se<Q;se++){const ge=Math.trunc((se+1)/2),we=(se&1)===0,Qe=W+L*(we?ge:-ge);if(Qe<0||Qe>=b)break;try{S=f.getBlackRow(Qe,S)}catch{continue}for(let Xe=0;Xe<2;Xe++){if(Xe===1&&(S.reverse(),p&&p.get(j.NEED_RESULT_POINT_CALLBACK)===!0)){const Ye=new Map;p.forEach((ot,wt)=>Ye.set(wt,ot)),Ye.delete(j.NEED_RESULT_POINT_CALLBACK),p=Ye}try{const Ye=this.decodeRow(Qe,S,p);if(Xe===1){Ye.putMetadata(_e.ORIENTATION,180);const ot=Ye.getResultPoints();ot!==null&&(ot[0]=new ze(m-ot[0].getX()-1,ot[0].getY()),ot[1]=new ze(m-ot[1].getX()-1,ot[1].getY()))}return Ye}catch{}}}throw new Y}static recordPattern(f,p,m){const b=m.length;for(let W=0;W<b;W++)m[W]=0;const S=f.getSize();if(p>=S)throw new Y;let B=!f.get(p),L=0,Q=p;for(;Q<S;){if(f.get(Q)!==B)m[L]++;else{if(++L===b)break;m[L]=1,B=!B}Q++}if(!(L===b||L===b-1&&Q===S))throw new Y}static recordPatternInReverse(f,p,m){let b=m.length,S=f.get(p);for(;p>0&&b>=0;)f.get(--p)!==S&&(b--,S=!S);if(b>=0)throw new Y;Kt.recordPattern(f,p+1,m)}static patternMatchVariance(f,p,m){const b=f.length;let S=0,B=0;for(let W=0;W<b;W++)S+=f[W],B+=p[W];if(S<B)return Number.POSITIVE_INFINITY;const L=S/B;m*=L;let Q=0;for(let W=0;W<b;W++){const se=f[W],ge=p[W]*L,we=se>ge?se-ge:ge-se;if(we>m)return Number.POSITIVE_INFINITY;Q+=we}return Q/S}}class xt extends Kt{static findStartPattern(f){const p=f.getSize(),m=f.getNextSet(0);let b=0,S=Int32Array.from([0,0,0,0,0,0]),B=m,L=!1;const Q=6;for(let W=m;W<p;W++)if(f.get(W)!==L)S[b]++;else{if(b===Q-1){let se=xt.MAX_AVG_VARIANCE,ge=-1;for(let we=xt.CODE_START_A;we<=xt.CODE_START_C;we++){const Qe=Kt.patternMatchVariance(S,xt.CODE_PATTERNS[we],xt.MAX_INDIVIDUAL_VARIANCE);Qe<se&&(se=Qe,ge=we)}if(ge>=0&&f.isRange(Math.max(0,B-(W-B)/2),B,!1))return Int32Array.from([B,W,ge]);B+=S[0]+S[1],S=S.slice(2,S.length-1),S[b-1]=0,S[b]=0,b--}else b++;S[b]=1,L=!L}throw new Y}static decodeCode(f,p,m){Kt.recordPattern(f,m,p);let b=xt.MAX_AVG_VARIANCE,S=-1;for(let B=0;B<xt.CODE_PATTERNS.length;B++){const L=xt.CODE_PATTERNS[B],Q=this.patternMatchVariance(p,L,xt.MAX_INDIVIDUAL_VARIANCE);Q<b&&(b=Q,S=B)}if(S>=0)return S;throw new Y}decodeRow(f,p,m){const b=m&&m.get(j.ASSUME_GS1)===!0,S=xt.findStartPattern(p),B=S[2];let L=0;const Q=new Uint8Array(20);Q[L++]=B;let W;switch(B){case xt.CODE_START_A:W=xt.CODE_CODE_A;break;case xt.CODE_START_B:W=xt.CODE_CODE_B;break;case xt.CODE_START_C:W=xt.CODE_CODE_C;break;default:throw new T}let se=!1,ge=!1,we="",Qe=S[0],Xe=S[1];const Ye=Int32Array.from([0,0,0,0,0,0]);let ot=0,wt=0,Mt=B,zt=0,Ht=!0,An=!1,Sn=!1;for(;!se;){const kh=ge;switch(ge=!1,ot=wt,wt=xt.decodeCode(p,Ye,Xe),Q[L++]=wt,wt!==xt.CODE_STOP&&(Ht=!0),wt!==xt.CODE_STOP&&(zt++,Mt+=zt*wt),Qe=Xe,Xe+=Ye.reduce((pS,ng)=>pS+ng,0),wt){case xt.CODE_START_A:case xt.CODE_START_B:case xt.CODE_START_C:throw new T}switch(W){case xt.CODE_CODE_A:if(wt<64)Sn===An?we+=String.fromCharCode(32+wt):we+=String.fromCharCode(32+wt+128),Sn=!1;else if(wt<96)Sn===An?we+=String.fromCharCode(wt-64):we+=String.fromCharCode(wt+64),Sn=!1;else switch(wt!==xt.CODE_STOP&&(Ht=!1),wt){case xt.CODE_FNC_1:b&&(we.length===0?we+="]C1":we+="");break;case xt.CODE_FNC_2:case xt.CODE_FNC_3:break;case xt.CODE_FNC_4_A:!An&&Sn?(An=!0,Sn=!1):An&&Sn?(An=!1,Sn=!1):Sn=!0;break;case xt.CODE_SHIFT:ge=!0,W=xt.CODE_CODE_B;break;case xt.CODE_CODE_B:W=xt.CODE_CODE_B;break;case xt.CODE_CODE_C:W=xt.CODE_CODE_C;break;case xt.CODE_STOP:se=!0;break}break;case xt.CODE_CODE_B:if(wt<96)Sn===An?we+=String.fromCharCode(32+wt):we+=String.fromCharCode(32+wt+128),Sn=!1;else switch(wt!==xt.CODE_STOP&&(Ht=!1),wt){case xt.CODE_FNC_1:b&&(we.length===0?we+="]C1":we+="");break;case xt.CODE_FNC_2:case xt.CODE_FNC_3:break;case xt.CODE_FNC_4_B:!An&&Sn?(An=!0,Sn=!1):An&&Sn?(An=!1,Sn=!1):Sn=!0;break;case xt.CODE_SHIFT:ge=!0,W=xt.CODE_CODE_A;break;case xt.CODE_CODE_A:W=xt.CODE_CODE_A;break;case xt.CODE_CODE_C:W=xt.CODE_CODE_C;break;case xt.CODE_STOP:se=!0;break}break;case xt.CODE_CODE_C:if(wt<100)wt<10&&(we+="0"),we+=wt;else switch(wt!==xt.CODE_STOP&&(Ht=!1),wt){case xt.CODE_FNC_1:b&&(we.length===0?we+="]C1":we+="");break;case xt.CODE_CODE_A:W=xt.CODE_CODE_A;break;case xt.CODE_CODE_B:W=xt.CODE_CODE_B;break;case xt.CODE_STOP:se=!0;break}break}kh&&(W=W===xt.CODE_CODE_A?xt.CODE_CODE_B:xt.CODE_CODE_A)}const eo=Xe-Qe;if(Xe=p.getNextUnset(Xe),!p.isRange(Xe,Math.min(p.getSize(),Xe+(Xe-Qe)/2),!1))throw new Y;if(Mt-=zt*ot,Mt%103!==ot)throw new g;const Vo=we.length;if(Vo===0)throw new Y;Vo>0&&Ht&&(W===xt.CODE_CODE_C?we=we.substring(0,Vo-2):we=we.substring(0,Vo-1));const bo=(S[1]+S[0])/2,Ki=Qe+eo/2,to=Q.length,Sl=new Uint8Array(to);for(let kh=0;kh<to;kh++)Sl[kh]=Q[kh];const Ih=[new ze(bo,f),new ze(Ki,f)];return new ee(we,Sl,0,Ih,de.CODE_128,new Date().getTime())}}xt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],xt.MAX_AVG_VARIANCE=.25,xt.MAX_INDIVIDUAL_VARIANCE=.7,xt.CODE_SHIFT=98,xt.CODE_CODE_C=99,xt.CODE_CODE_B=100,xt.CODE_CODE_A=101,xt.CODE_FNC_1=102,xt.CODE_FNC_2=97,xt.CODE_FNC_3=96,xt.CODE_FNC_4_A=101,xt.CODE_FNC_4_B=100,xt.CODE_START_A=103,xt.CODE_START_B=104,xt.CODE_START_C=105,xt.CODE_STOP=106;class pr extends Kt{constructor(f=!1,p=!1){super(),this.usingCheckDigit=f,this.extendedMode=p,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(f,p,m){let b=this.counters;b.fill(0),this.decodeRowResult="";let S=pr.findAsteriskPattern(p,b),B=p.getNextSet(S[1]),L=p.getSize(),Q,W;do{pr.recordPattern(p,B,b);let Ye=pr.toNarrowWidePattern(b);if(Ye<0)throw new Y;Q=pr.patternToChar(Ye),this.decodeRowResult+=Q,W=B;for(let ot of b)B+=ot;B=p.getNextSet(B)}while(Q!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let se=0;for(let Ye of b)se+=Ye;let ge=B-W-se;if(B!==L&&ge*2<se)throw new Y;if(this.usingCheckDigit){let Ye=this.decodeRowResult.length-1,ot=0;for(let wt=0;wt<Ye;wt++)ot+=pr.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(wt));if(this.decodeRowResult.charAt(Ye)!==pr.ALPHABET_STRING.charAt(ot%43))throw new g;this.decodeRowResult=this.decodeRowResult.substring(0,Ye)}if(this.decodeRowResult.length===0)throw new Y;let we;this.extendedMode?we=pr.decodeExtended(this.decodeRowResult):we=this.decodeRowResult;let Qe=(S[1]+S[0])/2,Xe=W+se/2;return new ee(we,null,0,[new ze(Qe,f),new ze(Xe,f)],de.CODE_39,new Date().getTime())}static findAsteriskPattern(f,p){let m=f.getSize(),b=f.getNextSet(0),S=0,B=b,L=!1,Q=p.length;for(let W=b;W<m;W++)if(f.get(W)!==L)p[S]++;else{if(S===Q-1){if(this.toNarrowWidePattern(p)===pr.ASTERISK_ENCODING&&f.isRange(Math.max(0,B-Math.floor((W-B)/2)),B,!1))return[B,W];B+=p[0]+p[1],p.copyWithin(0,2,2+S-1),p[S-1]=0,p[S]=0,S--}else S++;p[S]=1,L=!L}throw new Y}static toNarrowWidePattern(f){let p=f.length,m=0,b;do{let S=2147483647;for(let Q of f)Q<S&&Q>m&&(S=Q);m=S,b=0;let B=0,L=0;for(let Q=0;Q<p;Q++){let W=f[Q];W>m&&(L|=1<<p-1-Q,b++,B+=W)}if(b===3){for(let Q=0;Q<p&&b>0;Q++){let W=f[Q];if(W>m&&(b--,W*2>=B))return-1}return L}}while(b>3);return-1}static patternToChar(f){for(let p=0;p<pr.CHARACTER_ENCODINGS.length;p++)if(pr.CHARACTER_ENCODINGS[p]===f)return pr.ALPHABET_STRING.charAt(p);if(f===pr.ASTERISK_ENCODING)return"*";throw new Y}static decodeExtended(f){let p=f.length,m="";for(let b=0;b<p;b++){let S=f.charAt(b);if(S==="+"||S==="$"||S==="%"||S==="/"){let B=f.charAt(b+1),L="\0";switch(S){case"+":if(B>="A"&&B<="Z")L=String.fromCharCode(B.charCodeAt(0)+32);else throw new T;break;case"$":if(B>="A"&&B<="Z")L=String.fromCharCode(B.charCodeAt(0)-64);else throw new T;break;case"%":if(B>="A"&&B<="E")L=String.fromCharCode(B.charCodeAt(0)-38);else if(B>="F"&&B<="J")L=String.fromCharCode(B.charCodeAt(0)-11);else if(B>="K"&&B<="O")L=String.fromCharCode(B.charCodeAt(0)+16);else if(B>="P"&&B<="T")L=String.fromCharCode(B.charCodeAt(0)+43);else if(B==="U")L="\0";else if(B==="V")L="@";else if(B==="W")L="`";else if(B==="X"||B==="Y"||B==="Z")L="";else throw new T;break;case"/":if(B>="A"&&B<="O")L=String.fromCharCode(B.charCodeAt(0)-32);else if(B==="Z")L=":";else throw new T;break}m+=L,b++}else m+=S}return m}}pr.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",pr.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],pr.ASTERISK_ENCODING=148;class Ke extends Kt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(f,p,m){let b=this.decodeStart(p),S=this.decodeEnd(p),B=new H;Ke.decodeMiddle(p,b[1],S[0],B);let L=B.toString(),Q=null;m!=null&&(Q=m.get(j.ALLOWED_LENGTHS)),Q==null&&(Q=Ke.DEFAULT_ALLOWED_LENGTHS);let W=L.length,se=!1,ge=0;for(let Xe of Q){if(W===Xe){se=!0;break}Xe>ge&&(ge=Xe)}if(!se&&W>ge&&(se=!0),!se)throw new T;const we=[new ze(b[1],f),new ze(S[0],f)];return new ee(L,null,0,we,de.ITF,new Date().getTime())}static decodeMiddle(f,p,m,b){let S=new Int32Array(10),B=new Int32Array(5),L=new Int32Array(5);for(S.fill(0),B.fill(0),L.fill(0);p<m;){Kt.recordPattern(f,p,S);for(let W=0;W<5;W++){let se=2*W;B[W]=S[se],L[W]=S[se+1]}let Q=Ke.decodeDigit(B);b.append(Q.toString()),Q=this.decodeDigit(L),b.append(Q.toString()),S.forEach(function(W){p+=W})}}decodeStart(f){let p=Ke.skipWhiteSpace(f),m=Ke.findGuardPattern(f,p,Ke.START_PATTERN);return this.narrowLineWidth=(m[1]-m[0])/4,this.validateQuietZone(f,m[0]),m}validateQuietZone(f,p){let m=this.narrowLineWidth*10;m=m<p?m:p;for(let b=p-1;m>0&&b>=0&&!f.get(b);b--)m--;if(m!==0)throw new Y}static skipWhiteSpace(f){const p=f.getSize(),m=f.getNextSet(0);if(m===p)throw new Y;return m}decodeEnd(f){f.reverse();try{let p=Ke.skipWhiteSpace(f),m;try{m=Ke.findGuardPattern(f,p,Ke.END_PATTERN_REVERSED[0])}catch(S){S instanceof Y&&(m=Ke.findGuardPattern(f,p,Ke.END_PATTERN_REVERSED[1]))}this.validateQuietZone(f,m[0]);let b=m[0];return m[0]=f.getSize()-m[1],m[1]=f.getSize()-b,m}finally{f.reverse()}}static findGuardPattern(f,p,m){let b=m.length,S=new Int32Array(b),B=f.getSize(),L=!1,Q=0,W=p;S.fill(0);for(let se=p;se<B;se++)if(f.get(se)!==L)S[Q]++;else{if(Q===b-1){if(Kt.patternMatchVariance(S,m,Ke.MAX_INDIVIDUAL_VARIANCE)<Ke.MAX_AVG_VARIANCE)return[W,se];W+=S[0]+S[1],x.arraycopy(S,2,S,0,Q-1),S[Q-1]=0,S[Q]=0,Q--}else Q++;S[Q]=1,L=!L}throw new Y}static decodeDigit(f){let p=Ke.MAX_AVG_VARIANCE,m=-1,b=Ke.PATTERNS.length;for(let S=0;S<b;S++){let B=Ke.PATTERNS[S],L=Kt.patternMatchVariance(f,B,Ke.MAX_INDIVIDUAL_VARIANCE);L<p?(p=L,m=S):L===p&&(m=-1)}if(m>=0)return m%10;throw new Y}}Ke.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ke.MAX_AVG_VARIANCE=.38,Ke.MAX_INDIVIDUAL_VARIANCE=.5,Ke.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ke.START_PATTERN=Int32Array.from([1,1,1,1]),Ke.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class gt extends Kt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(f){let p=!1,m,b=0,S=Int32Array.from([0,0,0]);for(;!p;){S=Int32Array.from([0,0,0]),m=gt.findGuardPattern(f,b,!1,this.START_END_PATTERN,S);let B=m[0];b=m[1];let L=B-(b-B);L>=0&&(p=f.isRange(L,B,!1))}return m}static checkChecksum(f){return gt.checkStandardUPCEANChecksum(f)}static checkStandardUPCEANChecksum(f){let p=f.length;if(p===0)return!1;let m=parseInt(f.charAt(p-1),10);return gt.getStandardUPCEANChecksum(f.substring(0,p-1))===m}static getStandardUPCEANChecksum(f){let p=f.length,m=0;for(let b=p-1;b>=0;b-=2){let S=f.charAt(b).charCodeAt(0)-48;if(S<0||S>9)throw new T;m+=S}m*=3;for(let b=p-2;b>=0;b-=2){let S=f.charAt(b).charCodeAt(0)-48;if(S<0||S>9)throw new T;m+=S}return(1e3-m)%10}static decodeEnd(f,p){return gt.findGuardPattern(f,p,!1,gt.START_END_PATTERN,new Int32Array(gt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(f,p,m,b){return this.findGuardPattern(f,p,m,b,new Int32Array(b.length))}static findGuardPattern(f,p,m,b,S){let B=f.getSize();p=m?f.getNextUnset(p):f.getNextSet(p);let L=0,Q=p,W=b.length,se=m;for(let ge=p;ge<B;ge++)if(f.get(ge)!==se)S[L]++;else{if(L===W-1){if(Kt.patternMatchVariance(S,b,gt.MAX_INDIVIDUAL_VARIANCE)<gt.MAX_AVG_VARIANCE)return Int32Array.from([Q,ge]);Q+=S[0]+S[1];let we=S.slice(2,S.length-1);for(let Qe=0;Qe<L-1;Qe++)S[Qe]=we[Qe];S[L-1]=0,S[L]=0,L--}else L++;S[L]=1,se=!se}throw new Y}static decodeDigit(f,p,m,b){this.recordPattern(f,m,p);let S=this.MAX_AVG_VARIANCE,B=-1,L=b.length;for(let Q=0;Q<L;Q++){let W=b[Q],se=Kt.patternMatchVariance(p,W,gt.MAX_INDIVIDUAL_VARIANCE);se<S&&(S=se,B=Q)}if(B>=0)return B;throw new Y}}gt.MAX_AVG_VARIANCE=.48,gt.MAX_INDIVIDUAL_VARIANCE=.7,gt.START_END_PATTERN=Int32Array.from([1,1,1]),gt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),gt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),gt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class gr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(f,p,m){let b=this.decodeRowStringBuffer,S=this.decodeMiddle(p,m,b),B=b.toString(),L=gr.parseExtensionString(B),Q=[new ze((m[0]+m[1])/2,f),new ze(S,f)],W=new ee(B,null,0,Q,de.UPC_EAN_EXTENSION,new Date().getTime());return L!=null&&W.putAllMetadata(L),W}decodeMiddle(f,p,m){let b=this.decodeMiddleCounters;b[0]=0,b[1]=0,b[2]=0,b[3]=0;let S=f.getSize(),B=p[1],L=0;for(let W=0;W<5&&B<S;W++){let se=gt.decodeDigit(f,b,B,gt.L_AND_G_PATTERNS);m+=String.fromCharCode(48+se%10);for(let ge of b)B+=ge;se>=10&&(L|=1<<4-W),W!==4&&(B=f.getNextSet(B),B=f.getNextUnset(B))}if(m.length!==5)throw new Y;let Q=this.determineCheckDigit(L);if(gr.extensionChecksum(m.toString())!==Q)throw new Y;return B}static extensionChecksum(f){let p=f.length,m=0;for(let b=p-2;b>=0;b-=2)m+=f.charAt(b).charCodeAt(0)-48;m*=3;for(let b=p-1;b>=0;b-=2)m+=f.charAt(b).charCodeAt(0)-48;return m*=3,m%10}determineCheckDigit(f){for(let p=0;p<10;p++)if(f===this.CHECK_DIGIT_ENCODINGS[p])return p;throw new Y}static parseExtensionString(f){if(f.length!==5)return null;let p=gr.parseExtension5String(f);return p==null?null:new Map([[_e.SUGGESTED_PRICE,p]])}static parseExtension5String(f){let p;switch(f.charAt(0)){case"0":p="";break;case"5":p="$";break;case"9":switch(f){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}p="";break;default:p="";break}let m=parseInt(f.substring(1)),b=(m/100).toString(),S=m%100,B=S<10?"0"+S:S.toString();return p+b+"."+B}}class Ct{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(f,p,m){let b=this.decodeRowStringBuffer,S=this.decodeMiddle(p,m,b),B=b.toString(),L=Ct.parseExtensionString(B),Q=[new ze((m[0]+m[1])/2,f),new ze(S,f)],W=new ee(B,null,0,Q,de.UPC_EAN_EXTENSION,new Date().getTime());return L!=null&&W.putAllMetadata(L),W}decodeMiddle(f,p,m){let b=this.decodeMiddleCounters;b[0]=0,b[1]=0,b[2]=0,b[3]=0;let S=f.getSize(),B=p[1],L=0;for(let Q=0;Q<2&&B<S;Q++){let W=gt.decodeDigit(f,b,B,gt.L_AND_G_PATTERNS);m+=String.fromCharCode(48+W%10);for(let se of b)B+=se;W>=10&&(L|=1<<1-Q),Q!==1&&(B=f.getNextSet(B),B=f.getNextUnset(B))}if(m.length!==2)throw new Y;if(parseInt(m.toString())%4!==L)throw new Y;return B}static parseExtensionString(f){return f.length!==2?null:new Map([[_e.ISSUE_NUMBER,parseInt(f)]])}}class $t{static decodeRow(f,p,m){let b=gt.findGuardPattern(p,m,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new gr().decodeRow(f,p,b)}catch{return new Ct().decodeRow(f,p,b)}}}$t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class hr extends gt{constructor(){super(),this.decodeRowStringBuffer="",hr.L_AND_G_PATTERNS=hr.L_PATTERNS.map(f=>Int32Array.from(f));for(let f=10;f<20;f++){let p=hr.L_PATTERNS[f-10],m=new Int32Array(p.length);for(let b=0;b<p.length;b++)m[b]=p[p.length-b-1];hr.L_AND_G_PATTERNS[f]=m}}decodeRow(f,p,m){let b=hr.findStartGuardPattern(p),S=m==null?null:m.get(j.NEED_RESULT_POINT_CALLBACK);if(S!=null){const Ht=new ze((b[0]+b[1])/2,f);S.foundPossibleResultPoint(Ht)}let B=this.decodeMiddle(p,b,this.decodeRowStringBuffer),L=B.rowOffset,Q=B.resultString;if(S!=null){const Ht=new ze(L,f);S.foundPossibleResultPoint(Ht)}let W=this.decodeEnd(p,L);if(S!=null){const Ht=new ze((W[0]+W[1])/2,f);S.foundPossibleResultPoint(Ht)}let se=W[1],ge=se+(se-W[0]);if(ge>=p.getSize()||!p.isRange(se,ge,!1))throw new Y;let we=Q.toString();if(we.length<8)throw new T;if(!hr.checkChecksum(we))throw new g;let Qe=(b[1]+b[0])/2,Xe=(W[1]+W[0])/2,Ye=this.getBarcodeFormat(),ot=[new ze(Qe,f),new ze(Xe,f)],wt=new ee(we,null,0,ot,Ye,new Date().getTime()),Mt=0;try{let Ht=$t.decodeRow(f,p,W[1]);wt.putMetadata(_e.UPC_EAN_EXTENSION,Ht.getText()),wt.putAllMetadata(Ht.getResultMetadata()),wt.addResultPoints(Ht.getResultPoints()),Mt=Ht.getText().length}catch{}let zt=m==null?null:m.get(j.ALLOWED_EAN_EXTENSIONS);if(zt!=null){let Ht=!1;for(let An in zt)if(Mt.toString()===An){Ht=!0;break}if(!Ht)throw new Y}return wt}decodeEnd(f,p){return hr.findGuardPattern(f,p,!1,hr.START_END_PATTERN,new Int32Array(hr.START_END_PATTERN.length).fill(0))}static checkChecksum(f){return hr.checkStandardUPCEANChecksum(f)}static checkStandardUPCEANChecksum(f){let p=f.length;if(p===0)return!1;let m=parseInt(f.charAt(p-1),10);return hr.getStandardUPCEANChecksum(f.substring(0,p-1))===m}static getStandardUPCEANChecksum(f){let p=f.length,m=0;for(let b=p-1;b>=0;b-=2){let S=f.charAt(b).charCodeAt(0)-48;if(S<0||S>9)throw new T;m+=S}m*=3;for(let b=p-2;b>=0;b-=2){let S=f.charAt(b).charCodeAt(0)-48;if(S<0||S>9)throw new T;m+=S}return(1e3-m)%10}}class mr extends hr{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(f,p,m){let b=this.decodeMiddleCounters;b[0]=0,b[1]=0,b[2]=0,b[3]=0;let S=f.getSize(),B=p[1],L=0;for(let W=0;W<6&&B<S;W++){let se=hr.decodeDigit(f,b,B,hr.L_AND_G_PATTERNS);m+=String.fromCharCode(48+se%10);for(let ge of b)B+=ge;se>=10&&(L|=1<<5-W)}m=mr.determineFirstDigit(m,L),B=hr.findGuardPattern(f,B,!0,hr.MIDDLE_PATTERN,new Int32Array(hr.MIDDLE_PATTERN.length).fill(0))[1];for(let W=0;W<6&&B<S;W++){let se=hr.decodeDigit(f,b,B,hr.L_PATTERNS);m+=String.fromCharCode(48+se);for(let ge of b)B+=ge}return{rowOffset:B,resultString:m}}getBarcodeFormat(){return de.EAN_13}static determineFirstDigit(f,p){for(let m=0;m<10;m++)if(p===this.FIRST_DIGIT_ENCODINGS[m])return f=String.fromCharCode(48+m)+f,f;throw new Y}}mr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class er extends hr{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(f,p,m){const b=this.decodeMiddleCounters;b[0]=0,b[1]=0,b[2]=0,b[3]=0;let S=f.getSize(),B=p[1];for(let Q=0;Q<4&&B<S;Q++){let W=hr.decodeDigit(f,b,B,hr.L_PATTERNS);m+=String.fromCharCode(48+W);for(let se of b)B+=se}B=hr.findGuardPattern(f,B,!0,hr.MIDDLE_PATTERN,new Int32Array(hr.MIDDLE_PATTERN.length).fill(0))[1];for(let Q=0;Q<4&&B<S;Q++){let W=hr.decodeDigit(f,b,B,hr.L_PATTERNS);m+=String.fromCharCode(48+W);for(let se of b)B+=se}return{rowOffset:B,resultString:m}}getBarcodeFormat(){return de.EAN_8}}class sr extends hr{constructor(){super(...arguments),this.ean13Reader=new mr}getBarcodeFormat(){return de.UPC_A}decode(f,p){return this.maybeReturnResult(this.ean13Reader.decode(f))}decodeRow(f,p,m){return this.maybeReturnResult(this.ean13Reader.decodeRow(f,p,m))}decodeMiddle(f,p,m){return this.ean13Reader.decodeMiddle(f,p,m)}maybeReturnResult(f){let p=f.getText();if(p.charAt(0)==="0"){let m=new ee(p.substring(1),null,null,f.getResultPoints(),de.UPC_A);return f.getResultMetadata()!=null&&m.putAllMetadata(f.getResultMetadata()),m}else throw new Y}reset(){this.ean13Reader.reset()}}class Zt extends hr{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(f,p,m){const b=this.decodeMiddleCounters.map(W=>W);b[0]=0,b[1]=0,b[2]=0,b[3]=0;const S=f.getSize();let B=p[1],L=0;for(let W=0;W<6&&B<S;W++){const se=Zt.decodeDigit(f,b,B,Zt.L_AND_G_PATTERNS);m+=String.fromCharCode(48+se%10);for(let ge of b)B+=ge;se>=10&&(L|=1<<5-W)}let Q=Zt.determineNumSysAndCheckDigit(m,L);return{rowOffset:B,resultString:Q}}decodeEnd(f,p){return Zt.findGuardPatternWithoutCounters(f,p,!0,Zt.MIDDLE_END_PATTERN)}checkChecksum(f){return hr.checkChecksum(Zt.convertUPCEtoUPCA(f))}static determineNumSysAndCheckDigit(f,p){for(let m=0;m<=1;m++)for(let b=0;b<10;b++)if(p===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[m][b]){let S=String.fromCharCode(48+m),B=String.fromCharCode(48+b);return S+f+B}throw Y.getNotFoundInstance()}getBarcodeFormat(){return de.UPC_E}static convertUPCEtoUPCA(f){const p=f.slice(1,7).split("").map(S=>S.charCodeAt(0)),m=new H;m.append(f.charAt(0));let b=p[5];switch(b){case 0:case 1:case 2:m.appendChars(p,0,2),m.append(b),m.append("0000"),m.appendChars(p,2,3);break;case 3:m.appendChars(p,0,3),m.append("00000"),m.appendChars(p,3,2);break;case 4:m.appendChars(p,0,4),m.append("00000"),m.append(p[4]);break;default:m.appendChars(p,0,5),m.append("0000"),m.append(b);break}return f.length>=8&&m.append(f.charAt(7)),m.toString()}}Zt.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Zt.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class br extends Kt{constructor(f){super();let p=f==null?null:f.get(j.POSSIBLE_FORMATS),m=[];n(p)?(m.push(new mr),m.push(new sr),m.push(new er),m.push(new Zt)):(p.indexOf(de.EAN_13)>-1&&m.push(new mr),p.indexOf(de.UPC_A)>-1&&m.push(new sr),p.indexOf(de.EAN_8)>-1&&m.push(new er),p.indexOf(de.UPC_E)>-1&&m.push(new Zt)),this.readers=m}decodeRow(f,p,m){for(let b of this.readers)try{const S=b.decodeRow(f,p,m),B=S.getBarcodeFormat()===de.EAN_13&&S.getText().charAt(0)==="0",L=m==null?null:m.get(j.POSSIBLE_FORMATS),Q=L==null||L.includes(de.UPC_A);if(B&&Q){const W=S.getRawBytes(),se=new ee(S.getText().substring(1),W,W?W.length:null,S.getResultPoints(),de.UPC_A);return se.putAllMetadata(S.getResultMetadata()),se}return S}catch{}throw new Y}reset(){for(let f of this.readers)f.reset()}}class Xr extends Kt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(f,p){for(let m=0;m<p.length;m++)if(Kt.patternMatchVariance(f,p[m],Xr.MAX_INDIVIDUAL_VARIANCE)<Xr.MAX_AVG_VARIANCE)return m;throw new Y}static count(f){return Te.sum(new Int32Array(f))}static increment(f,p){let m=0,b=p[0];for(let S=1;S<f.length;S++)p[S]>b&&(b=p[S],m=S);f[m]++}static decrement(f,p){let m=0,b=p[0];for(let S=1;S<f.length;S++)p[S]<b&&(b=p[S],m=S);f[m]--}static isFinderPattern(f){let p=f[0]+f[1],m=p+f[2]+f[3],b=p/m;if(b>=Xr.MIN_FINDER_PATTERN_RATIO&&b<=Xr.MAX_FINDER_PATTERN_RATIO){let S=Number.MAX_SAFE_INTEGER,B=Number.MIN_SAFE_INTEGER;for(let L of f)L>B&&(B=L),L<S&&(S=L);return B<10*S}return!1}}Xr.MAX_AVG_VARIANCE=.2,Xr.MAX_INDIVIDUAL_VARIANCE=.45,Xr.MIN_FINDER_PATTERN_RATIO=9.5/12,Xr.MAX_FINDER_PATTERN_RATIO=12.5/14;class Un{constructor(f,p){this.value=f,this.checksumPortion=p}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(f){if(!(f instanceof Un))return!1;const p=f;return this.value===p.value&&this.checksumPortion===p.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Fr{constructor(f,p,m,b,S){this.value=f,this.startEnd=p,this.value=f,this.startEnd=p,this.resultPoints=new Array,this.resultPoints.push(new ze(m,S)),this.resultPoints.push(new ze(b,S))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(f){if(!(f instanceof Fr))return!1;const p=f;return this.value===p.value}hashCode(){return this.value}}class Zn{constructor(){}static getRSSvalue(f,p,m){let b=0;for(let Q of f)b+=Q;let S=0,B=0,L=f.length;for(let Q=0;Q<L-1;Q++){let W;for(W=1,B|=1<<Q;W<f[Q];W++,B&=~(1<<Q)){let se=Zn.combins(b-W-1,L-Q-2);if(m&&B===0&&b-W-(L-Q-1)>=L-Q-1&&(se-=Zn.combins(b-W-(L-Q),L-Q-2)),L-Q-1>1){let ge=0;for(let we=b-W-(L-Q-2);we>p;we--)ge+=Zn.combins(b-W-we-1,L-Q-3);se-=ge*(L-1-Q)}else b-W>p&&se--;S+=se}b-=W}return S}static combins(f,p){let m,b;f-p>p?(b=p,m=f-p):(b=f-p,m=p);let S=1,B=1;for(let L=f;L>m;L--)S*=L,B<=b&&(S/=B,B++);for(;B<=b;)S/=B,B++;return S}}class Mr{static buildBitArray(f){let p=f.length*2-1;f[f.length-1].getRightChar()==null&&(p-=1);let m=12*p,b=new I(m),S=0,L=f[0].getRightChar().getValue();for(let Q=11;Q>=0;--Q)L&1<<Q&&b.set(S),S++;for(let Q=1;Q<f.length;++Q){let W=f[Q],se=W.getLeftChar().getValue();for(let ge=11;ge>=0;--ge)se&1<<ge&&b.set(S),S++;if(W.getRightChar()!=null){let ge=W.getRightChar().getValue();for(let we=11;we>=0;--we)ge&1<<we&&b.set(S),S++}}return b}}class Jn{constructor(f,p){p?this.decodedInformation=null:(this.finished=f,this.decodedInformation=p)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class bi{constructor(f){this.newPosition=f}getNewPosition(){return this.newPosition}}class jn extends bi{constructor(f,p){super(f),this.value=p}getValue(){return this.value}isFNC1(){return this.value===jn.FNC1}}jn.FNC1="$";class li extends bi{constructor(f,p,m){super(f),m?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=p}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class xe extends bi{constructor(f,p,m){if(super(f),p<0||p>10||m<0||m>10)throw new T;this.firstDigit=p,this.secondDigit=m}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===xe.FNC1}isSecondDigitFNC1(){return this.secondDigit===xe.FNC1}isAnyFNC1(){return this.firstDigit===xe.FNC1||this.secondDigit===xe.FNC1}}xe.FNC1=10;class Ee{constructor(){}static parseFieldsInGeneralPurpose(f){if(!f)return null;if(f.length<2)throw new Y;let p=f.substring(0,2);for(let S of Ee.TWO_DIGIT_DATA_LENGTH)if(S[0]===p)return S[1]===Ee.VARIABLE_LENGTH?Ee.processVariableAI(2,S[2],f):Ee.processFixedAI(2,S[1],f);if(f.length<3)throw new Y;let m=f.substring(0,3);for(let S of Ee.THREE_DIGIT_DATA_LENGTH)if(S[0]===m)return S[1]===Ee.VARIABLE_LENGTH?Ee.processVariableAI(3,S[2],f):Ee.processFixedAI(3,S[1],f);for(let S of Ee.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(S[0]===m)return S[1]===Ee.VARIABLE_LENGTH?Ee.processVariableAI(4,S[2],f):Ee.processFixedAI(4,S[1],f);if(f.length<4)throw new Y;let b=f.substring(0,4);for(let S of Ee.FOUR_DIGIT_DATA_LENGTH)if(S[0]===b)return S[1]===Ee.VARIABLE_LENGTH?Ee.processVariableAI(4,S[2],f):Ee.processFixedAI(4,S[1],f);throw new Y}static processFixedAI(f,p,m){if(m.length<f)throw new Y;let b=m.substring(0,f);if(m.length<f+p)throw new Y;let S=m.substring(f,f+p),B=m.substring(f+p),L="("+b+")"+S,Q=Ee.parseFieldsInGeneralPurpose(B);return Q==null?L:L+Q}static processVariableAI(f,p,m){let b=m.substring(0,f),S;m.length<f+p?S=m.length:S=f+p;let B=m.substring(f,S),L=m.substring(S),Q="("+b+")"+B,W=Ee.parseFieldsInGeneralPurpose(L);return W==null?Q:Q+W}}Ee.VARIABLE_LENGTH=[],Ee.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ee.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ee.VARIABLE_LENGTH,20],["22",Ee.VARIABLE_LENGTH,29],["30",Ee.VARIABLE_LENGTH,8],["37",Ee.VARIABLE_LENGTH,8],["90",Ee.VARIABLE_LENGTH,30],["91",Ee.VARIABLE_LENGTH,30],["92",Ee.VARIABLE_LENGTH,30],["93",Ee.VARIABLE_LENGTH,30],["94",Ee.VARIABLE_LENGTH,30],["95",Ee.VARIABLE_LENGTH,30],["96",Ee.VARIABLE_LENGTH,30],["97",Ee.VARIABLE_LENGTH,3],["98",Ee.VARIABLE_LENGTH,30],["99",Ee.VARIABLE_LENGTH,30]],Ee.THREE_DIGIT_DATA_LENGTH=[["240",Ee.VARIABLE_LENGTH,30],["241",Ee.VARIABLE_LENGTH,30],["242",Ee.VARIABLE_LENGTH,6],["250",Ee.VARIABLE_LENGTH,30],["251",Ee.VARIABLE_LENGTH,30],["253",Ee.VARIABLE_LENGTH,17],["254",Ee.VARIABLE_LENGTH,20],["400",Ee.VARIABLE_LENGTH,30],["401",Ee.VARIABLE_LENGTH,30],["402",17],["403",Ee.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ee.VARIABLE_LENGTH,20],["421",Ee.VARIABLE_LENGTH,15],["422",3],["423",Ee.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ee.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ee.VARIABLE_LENGTH,15],["391",Ee.VARIABLE_LENGTH,18],["392",Ee.VARIABLE_LENGTH,15],["393",Ee.VARIABLE_LENGTH,18],["703",Ee.VARIABLE_LENGTH,30]],Ee.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ee.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ee.VARIABLE_LENGTH,20],["8003",Ee.VARIABLE_LENGTH,30],["8004",Ee.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ee.VARIABLE_LENGTH,30],["8008",Ee.VARIABLE_LENGTH,12],["8018",18],["8020",Ee.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ee.VARIABLE_LENGTH,70],["8200",Ee.VARIABLE_LENGTH,70]];class Ie{constructor(f){this.buffer=new H,this.information=f}decodeAllCodes(f,p){let m=p,b=null;do{let S=this.decodeGeneralPurposeField(m,b),B=Ee.parseFieldsInGeneralPurpose(S.getNewString());if(B!=null&&f.append(B),S.isRemaining()?b=""+S.getRemainingValue():b=null,m===S.getNewPosition())break;m=S.getNewPosition()}while(!0);return f.toString()}isStillNumeric(f){if(f+7>this.information.getSize())return f+4<=this.information.getSize();for(let p=f;p<f+3;++p)if(this.information.get(p))return!0;return this.information.get(f+3)}decodeNumeric(f){if(f+7>this.information.getSize()){let S=this.extractNumericValueFromBitArray(f,4);return S===0?new xe(this.information.getSize(),xe.FNC1,xe.FNC1):new xe(this.information.getSize(),S-1,xe.FNC1)}let p=this.extractNumericValueFromBitArray(f,7),m=(p-8)/11,b=(p-8)%11;return new xe(f+7,m,b)}extractNumericValueFromBitArray(f,p){return Ie.extractNumericValueFromBitArray(this.information,f,p)}static extractNumericValueFromBitArray(f,p,m){let b=0;for(let S=0;S<m;++S)f.get(p+S)&&(b|=1<<m-S-1);return b}decodeGeneralPurposeField(f,p){this.buffer.setLengthToZero(),p!=null&&this.buffer.append(p),this.current.setPosition(f);let m=this.parseBlocks();return m!=null&&m.isRemaining()?new li(this.current.getPosition(),this.buffer.toString(),m.getRemainingValue()):new li(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let f,p;do{let m=this.current.getPosition();if(this.current.isAlpha()?(p=this.parseAlphaBlock(),f=p.isFinished()):this.current.isIsoIec646()?(p=this.parseIsoIec646Block(),f=p.isFinished()):(p=this.parseNumericBlock(),f=p.isFinished()),!(m!==this.current.getPosition())&&!f)break}while(!f);return p.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let f=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(f.getNewPosition()),f.isFirstDigitFNC1()){let p;return f.isSecondDigitFNC1()?p=new li(this.current.getPosition(),this.buffer.toString()):p=new li(this.current.getPosition(),this.buffer.toString(),f.getSecondDigit()),new Jn(!0,p)}if(this.buffer.append(f.getFirstDigit()),f.isSecondDigitFNC1()){let p=new li(this.current.getPosition(),this.buffer.toString());return new Jn(!0,p)}this.buffer.append(f.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Jn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let f=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(f.getNewPosition()),f.isFNC1()){let p=new li(this.current.getPosition(),this.buffer.toString());return new Jn(!0,p)}this.buffer.append(f.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Jn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let f=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(f.getNewPosition()),f.isFNC1()){let p=new li(this.current.getPosition(),this.buffer.toString());return new Jn(!0,p)}this.buffer.append(f.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Jn(!1)}isStillIsoIec646(f){if(f+5>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(f,5);if(p>=5&&p<16)return!0;if(f+7>this.information.getSize())return!1;let m=this.extractNumericValueFromBitArray(f,7);if(m>=64&&m<116)return!0;if(f+8>this.information.getSize())return!1;let b=this.extractNumericValueFromBitArray(f,8);return b>=232&&b<253}decodeIsoIec646(f){let p=this.extractNumericValueFromBitArray(f,5);if(p===15)return new jn(f+5,jn.FNC1);if(p>=5&&p<15)return new jn(f+5,"0"+(p-5));let m=this.extractNumericValueFromBitArray(f,7);if(m>=64&&m<90)return new jn(f+7,""+(m+1));if(m>=90&&m<116)return new jn(f+7,""+(m+7));let b=this.extractNumericValueFromBitArray(f,8),S;switch(b){case 232:S="!";break;case 233:S='"';break;case 234:S="%";break;case 235:S="&";break;case 236:S="'";break;case 237:S="(";break;case 238:S=")";break;case 239:S="*";break;case 240:S="+";break;case 241:S=",";break;case 242:S="-";break;case 243:S=".";break;case 244:S="/";break;case 245:S=":";break;case 246:S=";";break;case 247:S="<";break;case 248:S="=";break;case 249:S=">";break;case 250:S="?";break;case 251:S="_";break;case 252:S=" ";break;default:throw new T}return new jn(f+8,S)}isStillAlpha(f){if(f+5>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(f,5);if(p>=5&&p<16)return!0;if(f+6>this.information.getSize())return!1;let m=this.extractNumericValueFromBitArray(f,6);return m>=16&&m<63}decodeAlphanumeric(f){let p=this.extractNumericValueFromBitArray(f,5);if(p===15)return new jn(f+5,jn.FNC1);if(p>=5&&p<15)return new jn(f+5,"0"+(p-5));let m=this.extractNumericValueFromBitArray(f,6);if(m>=32&&m<58)return new jn(f+6,""+(m+33));let b;switch(m){case 58:b="*";break;case 59:b=",";break;case 60:b="-";break;case 61:b=".";break;case 62:b="/";break;default:throw new z("Decoding invalid alphanumeric value: "+m)}return new jn(f+6,b)}isAlphaTo646ToAlphaLatch(f){if(f+1>this.information.getSize())return!1;for(let p=0;p<5&&p+f<this.information.getSize();++p)if(p===2){if(!this.information.get(f+2))return!1}else if(this.information.get(f+p))return!1;return!0}isAlphaOr646ToNumericLatch(f){if(f+3>this.information.getSize())return!1;for(let p=f;p<f+3;++p)if(this.information.get(p))return!1;return!0}isNumericToAlphaNumericLatch(f){if(f+1>this.information.getSize())return!1;for(let p=0;p<4&&p+f<this.information.getSize();++p)if(this.information.get(f+p))return!1;return!0}}class je{constructor(f){this.information=f,this.generalDecoder=new Ie(f)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class De extends je{constructor(f){super(f)}encodeCompressedGtin(f,p){f.append("(01)");let m=f.length();f.append("9"),this.encodeCompressedGtinWithoutAI(f,p,m)}encodeCompressedGtinWithoutAI(f,p,m){for(let b=0;b<4;++b){let S=this.getGeneralDecoder().extractNumericValueFromBitArray(p+10*b,10);S/100===0&&f.append("0"),S/10===0&&f.append("0"),f.append(S)}De.appendCheckDigit(f,m)}static appendCheckDigit(f,p){let m=0;for(let b=0;b<13;b++){let S=f.charAt(b+p).charCodeAt(0)-48;m+=b&1?S:3*S}m=10-m%10,m===10&&(m=0),f.append(m)}}De.GTIN_SIZE=40;class Ue extends De{constructor(f){super(f)}parseInformation(){let f=new H;f.append("(01)");let p=f.length(),m=this.getGeneralDecoder().extractNumericValueFromBitArray(Ue.HEADER_SIZE,4);return f.append(m),this.encodeCompressedGtinWithoutAI(f,Ue.HEADER_SIZE+4,p),this.getGeneralDecoder().decodeAllCodes(f,Ue.HEADER_SIZE+44)}}Ue.HEADER_SIZE=4;class lt extends je{constructor(f){super(f)}parseInformation(){let f=new H;return this.getGeneralDecoder().decodeAllCodes(f,lt.HEADER_SIZE)}}lt.HEADER_SIZE=5;class bt extends De{constructor(f){super(f)}encodeCompressedWeight(f,p,m){let b=this.getGeneralDecoder().extractNumericValueFromBitArray(p,m);this.addWeightCode(f,b);let S=this.checkWeight(b),B=1e5;for(let L=0;L<5;++L)S/B===0&&f.append("0"),B/=10;f.append(S)}}class it extends bt{constructor(f){super(f)}parseInformation(){if(this.getInformation().getSize()!=it.HEADER_SIZE+bt.GTIN_SIZE+it.WEIGHT_SIZE)throw new Y;let f=new H;return this.encodeCompressedGtin(f,it.HEADER_SIZE),this.encodeCompressedWeight(f,it.HEADER_SIZE+bt.GTIN_SIZE,it.WEIGHT_SIZE),f.toString()}}it.HEADER_SIZE=5,it.WEIGHT_SIZE=15;class ct extends it{constructor(f){super(f)}addWeightCode(f,p){f.append("(3103)")}checkWeight(f){return f}}class ht extends it{constructor(f){super(f)}addWeightCode(f,p){p<1e4?f.append("(3202)"):f.append("(3203)")}checkWeight(f){return f<1e4?f:f-1e4}}class Vt extends De{constructor(f){super(f)}parseInformation(){if(this.getInformation().getSize()<Vt.HEADER_SIZE+De.GTIN_SIZE)throw new Y;let f=new H;this.encodeCompressedGtin(f,Vt.HEADER_SIZE);let p=this.getGeneralDecoder().extractNumericValueFromBitArray(Vt.HEADER_SIZE+De.GTIN_SIZE,Vt.LAST_DIGIT_SIZE);f.append("(392"),f.append(p),f.append(")");let m=this.getGeneralDecoder().decodeGeneralPurposeField(Vt.HEADER_SIZE+De.GTIN_SIZE+Vt.LAST_DIGIT_SIZE,null);return f.append(m.getNewString()),f.toString()}}Vt.HEADER_SIZE=8,Vt.LAST_DIGIT_SIZE=2;class tr extends De{constructor(f){super(f)}parseInformation(){if(this.getInformation().getSize()<tr.HEADER_SIZE+De.GTIN_SIZE)throw new Y;let f=new H;this.encodeCompressedGtin(f,tr.HEADER_SIZE);let p=this.getGeneralDecoder().extractNumericValueFromBitArray(tr.HEADER_SIZE+De.GTIN_SIZE,tr.LAST_DIGIT_SIZE);f.append("(393"),f.append(p),f.append(")");let m=this.getGeneralDecoder().extractNumericValueFromBitArray(tr.HEADER_SIZE+De.GTIN_SIZE+tr.LAST_DIGIT_SIZE,tr.FIRST_THREE_DIGITS_SIZE);m/100==0&&f.append("0"),m/10==0&&f.append("0"),f.append(m);let b=this.getGeneralDecoder().decodeGeneralPurposeField(tr.HEADER_SIZE+De.GTIN_SIZE+tr.LAST_DIGIT_SIZE+tr.FIRST_THREE_DIGITS_SIZE,null);return f.append(b.getNewString()),f.toString()}}tr.HEADER_SIZE=8,tr.LAST_DIGIT_SIZE=2,tr.FIRST_THREE_DIGITS_SIZE=10;class Jt extends bt{constructor(f,p,m){super(f),this.dateCode=m,this.firstAIdigits=p}parseInformation(){if(this.getInformation().getSize()!=Jt.HEADER_SIZE+Jt.GTIN_SIZE+Jt.WEIGHT_SIZE+Jt.DATE_SIZE)throw new Y;let f=new H;return this.encodeCompressedGtin(f,Jt.HEADER_SIZE),this.encodeCompressedWeight(f,Jt.HEADER_SIZE+Jt.GTIN_SIZE,Jt.WEIGHT_SIZE),this.encodeCompressedDate(f,Jt.HEADER_SIZE+Jt.GTIN_SIZE+Jt.WEIGHT_SIZE),f.toString()}encodeCompressedDate(f,p){let m=this.getGeneralDecoder().extractNumericValueFromBitArray(p,Jt.DATE_SIZE);if(m==38400)return;f.append("("),f.append(this.dateCode),f.append(")");let b=m%32;m/=32;let S=m%12+1;m/=12;let B=m;B/10==0&&f.append("0"),f.append(B),S/10==0&&f.append("0"),f.append(S),b/10==0&&f.append("0"),f.append(b)}addWeightCode(f,p){f.append("("),f.append(this.firstAIdigits),f.append(p/1e5),f.append(")")}checkWeight(f){return f%1e5}}Jt.HEADER_SIZE=8,Jt.WEIGHT_SIZE=20,Jt.DATE_SIZE=16;function ar(pe){try{if(pe.get(1))return new Ue(pe);if(!pe.get(2))return new lt(pe);switch(Ie.extractNumericValueFromBitArray(pe,1,4)){case 4:return new ct(pe);case 5:return new ht(pe)}switch(Ie.extractNumericValueFromBitArray(pe,1,5)){case 12:return new Vt(pe);case 13:return new tr(pe)}switch(Ie.extractNumericValueFromBitArray(pe,1,7)){case 56:return new Jt(pe,"310","11");case 57:return new Jt(pe,"320","11");case 58:return new Jt(pe,"310","13");case 59:return new Jt(pe,"320","13");case 60:return new Jt(pe,"310","15");case 61:return new Jt(pe,"320","15");case 62:return new Jt(pe,"310","17");case 63:return new Jt(pe,"320","17")}}catch(f){throw console.log(f),new z("unknown decoder: "+pe)}}class yr{constructor(f,p,m,b){this.leftchar=f,this.rightchar=p,this.finderpattern=m,this.maybeLast=b}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(f,p){return f instanceof yr?yr.equalsOrNull(f.leftchar,p.leftchar)&&yr.equalsOrNull(f.rightchar,p.rightchar)&&yr.equalsOrNull(f.finderpattern,p.finderpattern):!1}static equalsOrNull(f,p){return f===null?p===null:yr.equals(f,p)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class tn{constructor(f,p,m){this.pairs=f,this.rowNumber=p,this.wasReversed=m}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(f){return this.checkEqualitity(this,f)}toString(){return"{ "+this.pairs+" }"}equals(f,p){return f instanceof tn?this.checkEqualitity(f,p)&&f.wasReversed===p.wasReversed:!1}checkEqualitity(f,p){if(!f||!p)return;let m;return f.forEach((b,S)=>{p.forEach(B=>{b.getLeftChar().getValue()===B.getLeftChar().getValue()&&b.getRightChar().getValue()===B.getRightChar().getValue()&&b.getFinderPatter().getValue()===B.getFinderPatter().getValue()&&(m=!0)})}),m}}class Nt extends Xr{constructor(f){super(...arguments),this.pairs=new Array(Nt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=f===!0}decodeRow(f,p,m){this.pairs.length=0,this.startFromEven=!1;try{return Nt.constructResult(this.decodeRow2pairs(f,p))}catch(b){this.verbose&&console.log(b)}return this.pairs.length=0,this.startFromEven=!0,Nt.constructResult(this.decodeRow2pairs(f,p))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(f,p){let m=!1;for(;!m;)try{this.pairs.push(this.retrieveNextPair(p,this.pairs,f))}catch(S){if(S instanceof Y){if(!this.pairs.length)throw new Y;m=!0}}if(this.checkChecksum())return this.pairs;let b;if(this.rows.length?b=!0:b=!1,this.storeRow(f,!1),b){let S=this.checkRowsBoolean(!1);if(S!=null||(S=this.checkRowsBoolean(!0),S!=null))return S}throw new Y}checkRowsBoolean(f){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,f&&(this.rows=this.rows.reverse());let p=null;try{p=this.checkRows(new Array,0)}catch(m){this.verbose&&console.log(m)}return f&&(this.rows=this.rows.reverse()),p}checkRows(f,p){for(let m=p;m<this.rows.length;m++){let b=this.rows[m];this.pairs.length=0;for(let B of f)this.pairs.push(B.getPairs());if(this.pairs.push(b.getPairs()),!Nt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let S=new Array(f);S.push(b);try{return this.checkRows(S,m+1)}catch(B){this.verbose&&console.log(B)}}throw new Y}static isValidSequence(f){for(let p of Nt.FINDER_PATTERN_SEQUENCES){if(f.length>p.length)continue;let m=!0;for(let b=0;b<f.length;b++)if(f[b].getFinderPattern().getValue()!=p[b]){m=!1;break}if(m)return!0}return!1}storeRow(f,p){let m=0,b=!1,S=!1;for(;m<this.rows.length;){let B=this.rows[m];if(B.getRowNumber()>f){S=B.isEquivalent(this.pairs);break}b=B.isEquivalent(this.pairs),m++}S||b||Nt.isPartialRow(this.pairs,this.rows)||(this.rows.push(m,new tn(this.pairs,f,p)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(f,p){for(let m of p)if(m.getPairs().length!==f.length){for(let b of m.getPairs())for(let S of f)if(yr.equals(b,S))break}}static isPartialRow(f,p){for(let m of p){let b=!0;for(let S of f){let B=!1;for(let L of m.getPairs())if(S.equals(L)){B=!0;break}if(!B){b=!1;break}}if(b)return!0}return!1}getRows(){return this.rows}static constructResult(f){let p=Mr.buildBitArray(f),b=ar(p).parseInformation(),S=f[0].getFinderPattern().getResultPoints(),B=f[f.length-1].getFinderPattern().getResultPoints(),L=[S[0],S[1],B[0],B[1]];return new ee(b,null,null,L,de.RSS_EXPANDED,null)}checkChecksum(){let f=this.pairs.get(0),p=f.getLeftChar(),m=f.getRightChar();if(m==null)return!1;let b=m.getChecksumPortion(),S=2;for(let L=1;L<this.pairs.size();++L){let Q=this.pairs.get(L);b+=Q.getLeftChar().getChecksumPortion(),S++;let W=Q.getRightChar();W!=null&&(b+=W.getChecksumPortion(),S++)}return b%=211,211*(S-4)+b==p.getValue()}static getNextSecondBar(f,p){let m;return f.get(p)?(m=f.getNextUnset(p),m=f.getNextSet(m)):(m=f.getNextSet(p),m=f.getNextUnset(m)),m}retrieveNextPair(f,p,m){let b=p.length%2==0;this.startFromEven&&(b=!b);let S,B=!0,L=-1;do this.findNextPair(f,p,L),S=this.parseFoundFinderPattern(f,m,b),S==null?L=Nt.getNextSecondBar(f,this.startEnd[0]):B=!1;while(B);let Q=this.decodeDataCharacter(f,S,b,!0);if(!this.isEmptyPair(p)&&p[p.length-1].mustBeLast())throw new Y;let W;try{W=this.decodeDataCharacter(f,S,b,!1)}catch(se){W=null,this.verbose&&console.log(se)}return new yr(Q,W,S,!0)}isEmptyPair(f){return f.length===0}findNextPair(f,p,m){let b=this.getDecodeFinderCounters();b[0]=0,b[1]=0,b[2]=0,b[3]=0;let S=f.getSize(),B;m>=0?B=m:this.isEmptyPair(p)?B=0:B=p[p.length-1].getFinderPattern().getStartEnd()[1];let L=p.length%2!=0;this.startFromEven&&(L=!L);let Q=!1;for(;B<S&&(Q=!f.get(B),!!Q);)B++;let W=0,se=B;for(let ge=B;ge<S;ge++)if(f.get(ge)!=Q)b[W]++;else{if(W==3){if(L&&Nt.reverseCounters(b),Nt.isFinderPattern(b)){this.startEnd[0]=se,this.startEnd[1]=ge;return}L&&Nt.reverseCounters(b),se+=b[0]+b[1],b[0]=b[2],b[1]=b[3],b[2]=0,b[3]=0,W--}else W++;b[W]=1,Q=!Q}throw new Y}static reverseCounters(f){let p=f.length;for(let m=0;m<p/2;++m){let b=f[m];f[m]=f[p-m-1],f[p-m-1]=b}}parseFoundFinderPattern(f,p,m){let b,S,B;if(m){let W=this.startEnd[0]-1;for(;W>=0&&!f.get(W);)W--;W++,b=this.startEnd[0]-W,S=W,B=this.startEnd[1]}else S=this.startEnd[0],B=f.getNextUnset(this.startEnd[1]+1),b=B-this.startEnd[1];let L=this.getDecodeFinderCounters();x.arraycopy(L,0,L,1,L.length-1),L[0]=b;let Q;try{Q=this.parseFinderValue(L,Nt.FINDER_PATTERNS)}catch{return null}return new Fr(Q,[S,B],S,B,p)}decodeDataCharacter(f,p,m,b){let S=this.getDataCharacterCounters();for(let Ki=0;Ki<S.length;Ki++)S[Ki]=0;if(b)Nt.recordPatternInReverse(f,p.getStartEnd()[0],S);else{Nt.recordPattern(f,p.getStartEnd()[1],S);for(let Ki=0,to=S.length-1;Ki<to;Ki++,to--){let Sl=S[Ki];S[Ki]=S[to],S[to]=Sl}}let B=17,L=Te.sum(new Int32Array(S))/B,Q=(p.getStartEnd()[1]-p.getStartEnd()[0])/15;if(Math.abs(L-Q)/Q>.3)throw new Y;let W=this.getOddCounts(),se=this.getEvenCounts(),ge=this.getOddRoundingErrors(),we=this.getEvenRoundingErrors();for(let Ki=0;Ki<S.length;Ki++){let to=1*S[Ki]/L,Sl=to+.5;if(Sl<1){if(to<.3)throw new Y;Sl=1}else if(Sl>8){if(to>8.7)throw new Y;Sl=8}let Ih=Ki/2;Ki&1?(se[Ih]=Sl,we[Ih]=to-Sl):(W[Ih]=Sl,ge[Ih]=to-Sl)}this.adjustOddEvenCounts(B);let Qe=4*p.getValue()+(m?0:2)+(b?0:1)-1,Xe=0,Ye=0;for(let Ki=W.length-1;Ki>=0;Ki--){if(Nt.isNotA1left(p,m,b)){let to=Nt.WEIGHTS[Qe][2*Ki];Ye+=W[Ki]*to}Xe+=W[Ki]}let ot=0;for(let Ki=se.length-1;Ki>=0;Ki--)if(Nt.isNotA1left(p,m,b)){let to=Nt.WEIGHTS[Qe][2*Ki+1];ot+=se[Ki]*to}let wt=Ye+ot;if(Xe&1||Xe>13||Xe<4)throw new Y;let Mt=(13-Xe)/2,zt=Nt.SYMBOL_WIDEST[Mt],Ht=9-zt,An=Zn.getRSSvalue(W,zt,!0),Sn=Zn.getRSSvalue(se,Ht,!1),eo=Nt.EVEN_TOTAL_SUBSET[Mt],Vo=Nt.GSUM[Mt],bo=An*eo+Sn+Vo;return new Un(bo,wt)}static isNotA1left(f,p,m){return!(f.getValue()==0&&p&&m)}adjustOddEvenCounts(f){let p=Te.sum(new Int32Array(this.getOddCounts())),m=Te.sum(new Int32Array(this.getEvenCounts())),b=!1,S=!1;p>13?S=!0:p<4&&(b=!0);let B=!1,L=!1;m>13?L=!0:m<4&&(B=!0);let Q=p+m-f,W=(p&1)==1,se=(m&1)==0;if(Q==1)if(W){if(se)throw new Y;S=!0}else{if(!se)throw new Y;L=!0}else if(Q==-1)if(W){if(se)throw new Y;b=!0}else{if(!se)throw new Y;B=!0}else if(Q==0){if(W){if(!se)throw new Y;p<m?(b=!0,L=!0):(S=!0,B=!0)}else if(se)throw new Y}else throw new Y;if(b){if(S)throw new Y;Nt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(S&&Nt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),B){if(L)throw new Y;Nt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}L&&Nt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Nt.SYMBOL_WIDEST=[7,5,4,3,1],Nt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Nt.GSUM=[0,348,1388,2948,3988],Nt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Nt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Nt.FINDER_PAT_A=0,Nt.FINDER_PAT_B=1,Nt.FINDER_PAT_C=2,Nt.FINDER_PAT_D=3,Nt.FINDER_PAT_E=4,Nt.FINDER_PAT_F=5,Nt.FINDER_PATTERN_SEQUENCES=[[Nt.FINDER_PAT_A,Nt.FINDER_PAT_A],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_B,Nt.FINDER_PAT_B],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_C,Nt.FINDER_PAT_B,Nt.FINDER_PAT_D],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_E,Nt.FINDER_PAT_B,Nt.FINDER_PAT_D,Nt.FINDER_PAT_C],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_E,Nt.FINDER_PAT_B,Nt.FINDER_PAT_D,Nt.FINDER_PAT_D,Nt.FINDER_PAT_F],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_E,Nt.FINDER_PAT_B,Nt.FINDER_PAT_D,Nt.FINDER_PAT_E,Nt.FINDER_PAT_F,Nt.FINDER_PAT_F],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_A,Nt.FINDER_PAT_B,Nt.FINDER_PAT_B,Nt.FINDER_PAT_C,Nt.FINDER_PAT_C,Nt.FINDER_PAT_D,Nt.FINDER_PAT_D],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_A,Nt.FINDER_PAT_B,Nt.FINDER_PAT_B,Nt.FINDER_PAT_C,Nt.FINDER_PAT_C,Nt.FINDER_PAT_D,Nt.FINDER_PAT_E,Nt.FINDER_PAT_E],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_A,Nt.FINDER_PAT_B,Nt.FINDER_PAT_B,Nt.FINDER_PAT_C,Nt.FINDER_PAT_C,Nt.FINDER_PAT_D,Nt.FINDER_PAT_E,Nt.FINDER_PAT_F,Nt.FINDER_PAT_F],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_A,Nt.FINDER_PAT_B,Nt.FINDER_PAT_B,Nt.FINDER_PAT_C,Nt.FINDER_PAT_D,Nt.FINDER_PAT_D,Nt.FINDER_PAT_E,Nt.FINDER_PAT_E,Nt.FINDER_PAT_F,Nt.FINDER_PAT_F]],Nt.MAX_PAIRS=11;class Ln extends Un{constructor(f,p,m){super(f,p),this.count=0,this.finderPattern=m}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class wn extends Xr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(f,p,m){const b=this.decodePair(p,!1,f,m);wn.addOrTally(this.possibleLeftPairs,b),p.reverse();let S=this.decodePair(p,!0,f,m);wn.addOrTally(this.possibleRightPairs,S),p.reverse();for(let B of this.possibleLeftPairs)if(B.getCount()>1){for(let L of this.possibleRightPairs)if(L.getCount()>1&&wn.checkChecksum(B,L))return wn.constructResult(B,L)}throw new Y}static addOrTally(f,p){if(p==null)return;let m=!1;for(let b of f)if(b.getValue()===p.getValue()){b.incrementCount(),m=!0;break}m||f.push(p)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(f,p){let m=4537077*f.getValue()+p.getValue(),b=new String(m).toString(),S=new H;for(let W=13-b.length;W>0;W--)S.append("0");S.append(b);let B=0;for(let W=0;W<13;W++){let se=S.charAt(W).charCodeAt(0)-48;B+=W&1?se:3*se}B=10-B%10,B===10&&(B=0),S.append(B.toString());let L=f.getFinderPattern().getResultPoints(),Q=p.getFinderPattern().getResultPoints();return new ee(S.toString(),null,0,[L[0],L[1],Q[0],Q[1]],de.RSS_14,new Date().getTime())}static checkChecksum(f,p){let m=(f.getChecksumPortion()+16*p.getChecksumPortion())%79,b=9*f.getFinderPattern().getValue()+p.getFinderPattern().getValue();return b>72&&b--,b>8&&b--,m===b}decodePair(f,p,m,b){try{let S=this.findFinderPattern(f,p),B=this.parseFoundFinderPattern(f,m,p,S),L=b==null?null:b.get(j.NEED_RESULT_POINT_CALLBACK);if(L!=null){let se=(S[0]+S[1])/2;p&&(se=f.getSize()-1-se),L.foundPossibleResultPoint(new ze(se,m))}let Q=this.decodeDataCharacter(f,B,!0),W=this.decodeDataCharacter(f,B,!1);return new Ln(1597*Q.getValue()+W.getValue(),Q.getChecksumPortion()+4*W.getChecksumPortion(),B)}catch{return null}}decodeDataCharacter(f,p,m){let b=this.getDataCharacterCounters();for(let ot=0;ot<b.length;ot++)b[ot]=0;if(m)Kt.recordPatternInReverse(f,p.getStartEnd()[0],b);else{Kt.recordPattern(f,p.getStartEnd()[1]+1,b);for(let ot=0,wt=b.length-1;ot<wt;ot++,wt--){let Mt=b[ot];b[ot]=b[wt],b[wt]=Mt}}let S=m?16:15,B=Te.sum(new Int32Array(b))/S,L=this.getOddCounts(),Q=this.getEvenCounts(),W=this.getOddRoundingErrors(),se=this.getEvenRoundingErrors();for(let ot=0;ot<b.length;ot++){let wt=b[ot]/B,Mt=Math.floor(wt+.5);Mt<1?Mt=1:Mt>8&&(Mt=8);let zt=Math.floor(ot/2);ot&1?(Q[zt]=Mt,se[zt]=wt-Mt):(L[zt]=Mt,W[zt]=wt-Mt)}this.adjustOddEvenCounts(m,S);let ge=0,we=0;for(let ot=L.length-1;ot>=0;ot--)we*=9,we+=L[ot],ge+=L[ot];let Qe=0,Xe=0;for(let ot=Q.length-1;ot>=0;ot--)Qe*=9,Qe+=Q[ot],Xe+=Q[ot];let Ye=we+3*Qe;if(m){if(ge&1||ge>12||ge<4)throw new Y;let ot=(12-ge)/2,wt=wn.OUTSIDE_ODD_WIDEST[ot],Mt=9-wt,zt=Zn.getRSSvalue(L,wt,!1),Ht=Zn.getRSSvalue(Q,Mt,!0),An=wn.OUTSIDE_EVEN_TOTAL_SUBSET[ot],Sn=wn.OUTSIDE_GSUM[ot];return new Un(zt*An+Ht+Sn,Ye)}else{if(Xe&1||Xe>10||Xe<4)throw new Y;let ot=(10-Xe)/2,wt=wn.INSIDE_ODD_WIDEST[ot],Mt=9-wt,zt=Zn.getRSSvalue(L,wt,!0),Ht=Zn.getRSSvalue(Q,Mt,!1),An=wn.INSIDE_ODD_TOTAL_SUBSET[ot],Sn=wn.INSIDE_GSUM[ot];return new Un(Ht*An+zt+Sn,Ye)}}findFinderPattern(f,p){let m=this.getDecodeFinderCounters();m[0]=0,m[1]=0,m[2]=0,m[3]=0;let b=f.getSize(),S=!1,B=0;for(;B<b&&(S=!f.get(B),p!==S);)B++;let L=0,Q=B;for(let W=B;W<b;W++)if(f.get(W)!==S)m[L]++;else{if(L===3){if(Xr.isFinderPattern(m))return[Q,W];Q+=m[0]+m[1],m[0]=m[2],m[1]=m[3],m[2]=0,m[3]=0,L--}else L++;m[L]=1,S=!S}throw new Y}parseFoundFinderPattern(f,p,m,b){let S=f.get(b[0]),B=b[0]-1;for(;B>=0&&S!==f.get(B);)B--;B++;const L=b[0]-B,Q=this.getDecodeFinderCounters(),W=new Int32Array(Q.length);x.arraycopy(Q,0,W,1,Q.length-1),W[0]=L;const se=this.parseFinderValue(W,wn.FINDER_PATTERNS);let ge=B,we=b[1];return m&&(ge=f.getSize()-1-ge,we=f.getSize()-1-we),new Fr(se,[B,b[1]],ge,we,p)}adjustOddEvenCounts(f,p){let m=Te.sum(new Int32Array(this.getOddCounts())),b=Te.sum(new Int32Array(this.getEvenCounts())),S=!1,B=!1,L=!1,Q=!1;f?(m>12?B=!0:m<4&&(S=!0),b>12?Q=!0:b<4&&(L=!0)):(m>11?B=!0:m<5&&(S=!0),b>10?Q=!0:b<4&&(L=!0));let W=m+b-p,se=(m&1)===(f?1:0),ge=(b&1)===1;if(W===1)if(se){if(ge)throw new Y;B=!0}else{if(!ge)throw new Y;Q=!0}else if(W===-1)if(se){if(ge)throw new Y;S=!0}else{if(!ge)throw new Y;L=!0}else if(W===0){if(se){if(!ge)throw new Y;m<b?(S=!0,Q=!0):(B=!0,L=!0)}else if(ge)throw new Y}else throw new Y;if(S){if(B)throw new Y;Xr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(B&&Xr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),L){if(Q)throw new Y;Xr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}Q&&Xr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}wn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],wn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],wn.OUTSIDE_GSUM=[0,161,961,2015,2715],wn.INSIDE_GSUM=[0,336,1036,1516],wn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],wn.INSIDE_ODD_WIDEST=[2,4,6,8],wn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class oa extends Kt{constructor(f,p){super(),this.readers=[],this.verbose=p===!0;const m=f?f.get(j.POSSIBLE_FORMATS):null,b=f&&f.get(j.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;m?((m.includes(de.EAN_13)||m.includes(de.UPC_A)||m.includes(de.EAN_8)||m.includes(de.UPC_E))&&this.readers.push(new br(f)),m.includes(de.CODE_39)&&this.readers.push(new pr(b)),m.includes(de.CODE_128)&&this.readers.push(new xt),m.includes(de.ITF)&&this.readers.push(new Ke),m.includes(de.RSS_14)&&this.readers.push(new wn),m.includes(de.RSS_EXPANDED)&&this.readers.push(new Nt(this.verbose))):(this.readers.push(new br(f)),this.readers.push(new pr),this.readers.push(new br(f)),this.readers.push(new xt),this.readers.push(new Ke),this.readers.push(new wn),this.readers.push(new Nt(this.verbose)))}decodeRow(f,p,m){for(let b=0;b<this.readers.length;b++)try{return this.readers[b].decodeRow(f,p,m)}catch{}throw new Y}reset(){this.readers.forEach(f=>f.reset())}}class xo extends q{constructor(f=500,p){super(new oa(p),f,p)}}class On{constructor(f,p,m){this.ecCodewords=f,this.ecBlocks=[p],m&&this.ecBlocks.push(m)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Jr{constructor(f,p){this.count=f,this.dataCodewords=p}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class xn{constructor(f,p,m,b,S,B){this.versionNumber=f,this.symbolSizeRows=p,this.symbolSizeColumns=m,this.dataRegionSizeRows=b,this.dataRegionSizeColumns=S,this.ecBlocks=B;let L=0;const Q=B.getECCodewords(),W=B.getECBlocks();for(let se of W)L+=se.getCount()*(se.getDataCodewords()+Q);this.totalCodewords=L}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(f,p){if(f&1||p&1)throw new T;for(let m of xn.VERSIONS)if(m.symbolSizeRows===f&&m.symbolSizeColumns===p)return m;throw new T}toString(){return""+this.versionNumber}static buildVersions(){return[new xn(1,10,10,8,8,new On(5,new Jr(1,3))),new xn(2,12,12,10,10,new On(7,new Jr(1,5))),new xn(3,14,14,12,12,new On(10,new Jr(1,8))),new xn(4,16,16,14,14,new On(12,new Jr(1,12))),new xn(5,18,18,16,16,new On(14,new Jr(1,18))),new xn(6,20,20,18,18,new On(18,new Jr(1,22))),new xn(7,22,22,20,20,new On(20,new Jr(1,30))),new xn(8,24,24,22,22,new On(24,new Jr(1,36))),new xn(9,26,26,24,24,new On(28,new Jr(1,44))),new xn(10,32,32,14,14,new On(36,new Jr(1,62))),new xn(11,36,36,16,16,new On(42,new Jr(1,86))),new xn(12,40,40,18,18,new On(48,new Jr(1,114))),new xn(13,44,44,20,20,new On(56,new Jr(1,144))),new xn(14,48,48,22,22,new On(68,new Jr(1,174))),new xn(15,52,52,24,24,new On(42,new Jr(2,102))),new xn(16,64,64,14,14,new On(56,new Jr(2,140))),new xn(17,72,72,16,16,new On(36,new Jr(4,92))),new xn(18,80,80,18,18,new On(48,new Jr(4,114))),new xn(19,88,88,20,20,new On(56,new Jr(4,144))),new xn(20,96,96,22,22,new On(68,new Jr(4,174))),new xn(21,104,104,24,24,new On(56,new Jr(6,136))),new xn(22,120,120,18,18,new On(68,new Jr(6,175))),new xn(23,132,132,20,20,new On(62,new Jr(8,163))),new xn(24,144,144,22,22,new On(62,new Jr(8,156),new Jr(2,155))),new xn(25,8,18,6,16,new On(7,new Jr(1,5))),new xn(26,8,32,6,14,new On(11,new Jr(1,10))),new xn(27,12,26,10,24,new On(14,new Jr(1,16))),new xn(28,12,36,10,16,new On(18,new Jr(1,22))),new xn(29,16,36,14,16,new On(24,new Jr(1,32))),new xn(30,16,48,14,22,new On(28,new Jr(1,49)))]}}xn.VERSIONS=xn.buildVersions();class Rn{constructor(f){const p=f.getHeight();if(p<8||p>144||p&1)throw new T;this.version=Rn.readVersion(f),this.mappingBitMatrix=this.extractDataRegion(f),this.readMappingMatrix=new K(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(f){const p=f.getHeight(),m=f.getWidth();return xn.getVersionForDimensions(p,m)}readCodewords(){const f=new Int8Array(this.version.getTotalCodewords());let p=0,m=4,b=0;const S=this.mappingBitMatrix.getHeight(),B=this.mappingBitMatrix.getWidth();let L=!1,Q=!1,W=!1,se=!1;do if(m===S&&b===0&&!L)f[p++]=this.readCorner1(S,B)&255,m-=2,b+=2,L=!0;else if(m===S-2&&b===0&&B&3&&!Q)f[p++]=this.readCorner2(S,B)&255,m-=2,b+=2,Q=!0;else if(m===S+4&&b===2&&!(B&7)&&!W)f[p++]=this.readCorner3(S,B)&255,m-=2,b+=2,W=!0;else if(m===S-2&&b===0&&(B&7)===4&&!se)f[p++]=this.readCorner4(S,B)&255,m-=2,b+=2,se=!0;else{do m<S&&b>=0&&!this.readMappingMatrix.get(b,m)&&(f[p++]=this.readUtah(m,b,S,B)&255),m-=2,b+=2;while(m>=0&&b<B);m+=1,b+=3;do m>=0&&b<B&&!this.readMappingMatrix.get(b,m)&&(f[p++]=this.readUtah(m,b,S,B)&255),m+=2,b-=2;while(m<S&&b>=0);m+=3,b+=1}while(m<S||b<B);if(p!==this.version.getTotalCodewords())throw new T;return f}readModule(f,p,m,b){return f<0&&(f+=m,p+=4-(m+4&7)),p<0&&(p+=b,f+=4-(b+4&7)),this.readMappingMatrix.set(p,f),this.mappingBitMatrix.get(p,f)}readUtah(f,p,m,b){let S=0;return this.readModule(f-2,p-2,m,b)&&(S|=1),S<<=1,this.readModule(f-2,p-1,m,b)&&(S|=1),S<<=1,this.readModule(f-1,p-2,m,b)&&(S|=1),S<<=1,this.readModule(f-1,p-1,m,b)&&(S|=1),S<<=1,this.readModule(f-1,p,m,b)&&(S|=1),S<<=1,this.readModule(f,p-2,m,b)&&(S|=1),S<<=1,this.readModule(f,p-1,m,b)&&(S|=1),S<<=1,this.readModule(f,p,m,b)&&(S|=1),S}readCorner1(f,p){let m=0;return this.readModule(f-1,0,f,p)&&(m|=1),m<<=1,this.readModule(f-1,1,f,p)&&(m|=1),m<<=1,this.readModule(f-1,2,f,p)&&(m|=1),m<<=1,this.readModule(0,p-2,f,p)&&(m|=1),m<<=1,this.readModule(0,p-1,f,p)&&(m|=1),m<<=1,this.readModule(1,p-1,f,p)&&(m|=1),m<<=1,this.readModule(2,p-1,f,p)&&(m|=1),m<<=1,this.readModule(3,p-1,f,p)&&(m|=1),m}readCorner2(f,p){let m=0;return this.readModule(f-3,0,f,p)&&(m|=1),m<<=1,this.readModule(f-2,0,f,p)&&(m|=1),m<<=1,this.readModule(f-1,0,f,p)&&(m|=1),m<<=1,this.readModule(0,p-4,f,p)&&(m|=1),m<<=1,this.readModule(0,p-3,f,p)&&(m|=1),m<<=1,this.readModule(0,p-2,f,p)&&(m|=1),m<<=1,this.readModule(0,p-1,f,p)&&(m|=1),m<<=1,this.readModule(1,p-1,f,p)&&(m|=1),m}readCorner3(f,p){let m=0;return this.readModule(f-1,0,f,p)&&(m|=1),m<<=1,this.readModule(f-1,p-1,f,p)&&(m|=1),m<<=1,this.readModule(0,p-3,f,p)&&(m|=1),m<<=1,this.readModule(0,p-2,f,p)&&(m|=1),m<<=1,this.readModule(0,p-1,f,p)&&(m|=1),m<<=1,this.readModule(1,p-3,f,p)&&(m|=1),m<<=1,this.readModule(1,p-2,f,p)&&(m|=1),m<<=1,this.readModule(1,p-1,f,p)&&(m|=1),m}readCorner4(f,p){let m=0;return this.readModule(f-3,0,f,p)&&(m|=1),m<<=1,this.readModule(f-2,0,f,p)&&(m|=1),m<<=1,this.readModule(f-1,0,f,p)&&(m|=1),m<<=1,this.readModule(0,p-2,f,p)&&(m|=1),m<<=1,this.readModule(0,p-1,f,p)&&(m|=1),m<<=1,this.readModule(1,p-1,f,p)&&(m|=1),m<<=1,this.readModule(2,p-1,f,p)&&(m|=1),m<<=1,this.readModule(3,p-1,f,p)&&(m|=1),m}extractDataRegion(f){const p=this.version.getSymbolSizeRows(),m=this.version.getSymbolSizeColumns();if(f.getHeight()!==p)throw new h("Dimension of bitMatrix must match the version size");const b=this.version.getDataRegionSizeRows(),S=this.version.getDataRegionSizeColumns(),B=p/b|0,L=m/S|0,Q=B*b,W=L*S,se=new K(W,Q);for(let ge=0;ge<B;++ge){const we=ge*b;for(let Qe=0;Qe<L;++Qe){const Xe=Qe*S;for(let Ye=0;Ye<b;++Ye){const ot=ge*(b+2)+1+Ye,wt=we+Ye;for(let Mt=0;Mt<S;++Mt){const zt=Qe*(S+2)+1+Mt;if(f.get(zt,ot)){const Ht=Xe+Mt;se.set(Ht,wt)}}}}}return se}}class wa{constructor(f,p){this.numDataCodewords=f,this.codewords=p}static getDataBlocks(f,p){const m=p.getECBlocks();let b=0;const S=m.getECBlocks();for(let Ye of S)b+=Ye.getCount();const B=new Array(b);let L=0;for(let Ye of S)for(let ot=0;ot<Ye.getCount();ot++){const wt=Ye.getDataCodewords(),Mt=m.getECCodewords()+wt;B[L++]=new wa(wt,new Uint8Array(Mt))}const W=B[0].codewords.length-m.getECCodewords(),se=W-1;let ge=0;for(let Ye=0;Ye<se;Ye++)for(let ot=0;ot<L;ot++)B[ot].codewords[Ye]=f[ge++];const we=p.getVersionNumber()===24,Qe=we?8:L;for(let Ye=0;Ye<Qe;Ye++)B[Ye].codewords[W-1]=f[ge++];const Xe=B[0].codewords.length;for(let Ye=W;Ye<Xe;Ye++)for(let ot=0;ot<L;ot++){const wt=we?(ot+8)%L:ot,Mt=we&&wt>7?Ye-1:Ye;B[wt].codewords[Mt]=f[ge++]}if(ge!==f.length)throw new h;return B}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class ba{constructor(f){this.bytes=f,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(f){if(f<1||f>32||f>this.available())throw new h(""+f);let p=0,m=this.bitOffset,b=this.byteOffset;const S=this.bytes;if(m>0){const B=8-m,L=f<B?f:B,Q=B-L,W=255>>8-L<<Q;p=(S[b]&W)>>Q,f-=L,m+=L,m===8&&(m=0,b++)}if(f>0){for(;f>=8;)p=p<<8|S[b]&255,b++,f-=8;if(f>0){const B=8-f,L=255>>B<<B;p=p<<f|(S[b]&L)>>B,m+=f}}return this.bitOffset=m,this.byteOffset=b,p}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Pn;(function(pe){pe[pe.PAD_ENCODE=0]="PAD_ENCODE",pe[pe.ASCII_ENCODE=1]="ASCII_ENCODE",pe[pe.C40_ENCODE=2]="C40_ENCODE",pe[pe.TEXT_ENCODE=3]="TEXT_ENCODE",pe[pe.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",pe[pe.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",pe[pe.BASE256_ENCODE=6]="BASE256_ENCODE"})(Pn||(Pn={}));class la{static decode(f){const p=new ba(f),m=new H,b=new H,S=new Array;let B=Pn.ASCII_ENCODE;do if(B===Pn.ASCII_ENCODE)B=this.decodeAsciiSegment(p,m,b);else{switch(B){case Pn.C40_ENCODE:this.decodeC40Segment(p,m);break;case Pn.TEXT_ENCODE:this.decodeTextSegment(p,m);break;case Pn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(p,m);break;case Pn.EDIFACT_ENCODE:this.decodeEdifactSegment(p,m);break;case Pn.BASE256_ENCODE:this.decodeBase256Segment(p,m,S);break;default:throw new T}B=Pn.ASCII_ENCODE}while(B!==Pn.PAD_ENCODE&&p.available()>0);return b.length()>0&&m.append(b.toString()),new ye(f,m.toString(),S.length===0?null:S,null)}static decodeAsciiSegment(f,p,m){let b=!1;do{let S=f.readBits(8);if(S===0)throw new T;if(S<=128)return b&&(S+=128),p.append(String.fromCharCode(S-1)),Pn.ASCII_ENCODE;if(S===129)return Pn.PAD_ENCODE;if(S<=229){const B=S-130;B<10&&p.append("0"),p.append(""+B)}else switch(S){case 230:return Pn.C40_ENCODE;case 231:return Pn.BASE256_ENCODE;case 232:p.append("");break;case 233:case 234:break;case 235:b=!0;break;case 236:p.append("[)>05"),m.insert(0,"");break;case 237:p.append("[)>06"),m.insert(0,"");break;case 238:return Pn.ANSIX12_ENCODE;case 239:return Pn.TEXT_ENCODE;case 240:return Pn.EDIFACT_ENCODE;case 241:break;default:if(S!==254||f.available()!==0)throw new T;break}}while(f.available()>0);return Pn.ASCII_ENCODE}static decodeC40Segment(f,p){let m=!1;const b=[];let S=0;do{if(f.available()===8)return;const B=f.readBits(8);if(B===254)return;this.parseTwoBytes(B,f.readBits(8),b);for(let L=0;L<3;L++){const Q=b[L];switch(S){case 0:if(Q<3)S=Q+1;else if(Q<this.C40_BASIC_SET_CHARS.length){const W=this.C40_BASIC_SET_CHARS[Q];m?(p.append(String.fromCharCode(W.charCodeAt(0)+128)),m=!1):p.append(W)}else throw new T;break;case 1:m?(p.append(String.fromCharCode(Q+128)),m=!1):p.append(String.fromCharCode(Q)),S=0;break;case 2:if(Q<this.C40_SHIFT2_SET_CHARS.length){const W=this.C40_SHIFT2_SET_CHARS[Q];m?(p.append(String.fromCharCode(W.charCodeAt(0)+128)),m=!1):p.append(W)}else switch(Q){case 27:p.append("");break;case 30:m=!0;break;default:throw new T}S=0;break;case 3:m?(p.append(String.fromCharCode(Q+224)),m=!1):p.append(String.fromCharCode(Q+96)),S=0;break;default:throw new T}}}while(f.available()>0)}static decodeTextSegment(f,p){let m=!1,b=[],S=0;do{if(f.available()===8)return;const B=f.readBits(8);if(B===254)return;this.parseTwoBytes(B,f.readBits(8),b);for(let L=0;L<3;L++){const Q=b[L];switch(S){case 0:if(Q<3)S=Q+1;else if(Q<this.TEXT_BASIC_SET_CHARS.length){const W=this.TEXT_BASIC_SET_CHARS[Q];m?(p.append(String.fromCharCode(W.charCodeAt(0)+128)),m=!1):p.append(W)}else throw new T;break;case 1:m?(p.append(String.fromCharCode(Q+128)),m=!1):p.append(String.fromCharCode(Q)),S=0;break;case 2:if(Q<this.TEXT_SHIFT2_SET_CHARS.length){const W=this.TEXT_SHIFT2_SET_CHARS[Q];m?(p.append(String.fromCharCode(W.charCodeAt(0)+128)),m=!1):p.append(W)}else switch(Q){case 27:p.append("");break;case 30:m=!0;break;default:throw new T}S=0;break;case 3:if(Q<this.TEXT_SHIFT3_SET_CHARS.length){const W=this.TEXT_SHIFT3_SET_CHARS[Q];m?(p.append(String.fromCharCode(W.charCodeAt(0)+128)),m=!1):p.append(W),S=0}else throw new T;break;default:throw new T}}}while(f.available()>0)}static decodeAnsiX12Segment(f,p){const m=[];do{if(f.available()===8)return;const b=f.readBits(8);if(b===254)return;this.parseTwoBytes(b,f.readBits(8),m);for(let S=0;S<3;S++){const B=m[S];switch(B){case 0:p.append("\r");break;case 1:p.append("*");break;case 2:p.append(">");break;case 3:p.append(" ");break;default:if(B<14)p.append(String.fromCharCode(B+44));else if(B<40)p.append(String.fromCharCode(B+51));else throw new T;break}}}while(f.available()>0)}static parseTwoBytes(f,p,m){let b=(f<<8)+p-1,S=Math.floor(b/1600);m[0]=S,b-=S*1600,S=Math.floor(b/40),m[1]=S,m[2]=b-S*40}static decodeEdifactSegment(f,p){do{if(f.available()<=16)return;for(let m=0;m<4;m++){let b=f.readBits(6);if(b===31){const S=8-f.getBitOffset();S!==8&&f.readBits(S);return}b&32||(b|=64),p.append(String.fromCharCode(b))}}while(f.available()>0)}static decodeBase256Segment(f,p,m){let b=1+f.getByteOffset();const S=this.unrandomize255State(f.readBits(8),b++);let B;if(S===0?B=f.available()/8|0:S<250?B=S:B=250*(S-249)+this.unrandomize255State(f.readBits(8),b++),B<0)throw new T;const L=new Uint8Array(B);for(let Q=0;Q<B;Q++){if(f.available()<8)throw new T;L[Q]=this.unrandomize255State(f.readBits(8),b++)}m.push(L);try{p.append(O.decode(L,M.ISO88591))}catch(Q){throw new z("Platform does not support required encoding: "+Q.message)}}static unrandomize255State(f,p){const m=149*p%255+1,b=f-m;return b>=0?b:b+256}}la.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],la.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],la.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],la.TEXT_SHIFT2_SET_CHARS=la.C40_SHIFT2_SET_CHARS,la.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Mo{constructor(){this.rsDecoder=new Fe(We.DATA_MATRIX_FIELD_256)}decode(f){const p=new Rn(f),m=p.getVersion(),b=p.readCodewords(),S=wa.getDataBlocks(b,m);let B=0;for(let W of S)B+=W.getNumDataCodewords();const L=new Uint8Array(B),Q=S.length;for(let W=0;W<Q;W++){const se=S[W],ge=se.getCodewords(),we=se.getNumDataCodewords();this.correctErrors(ge,we);for(let Qe=0;Qe<we;Qe++)L[Qe*Q+W]=ge[Qe]}return la.decode(L)}correctErrors(f,p){const m=new Int32Array(f);try{this.rsDecoder.decode(m,f.length-p)}catch{throw new g}for(let b=0;b<p;b++)f[b]=m[b]}}class un{constructor(f){this.image=f,this.rectangleDetector=new mt(this.image)}detect(){const f=this.rectangleDetector.detect();let p=this.detectSolid1(f);if(p=this.detectSolid2(p),p[3]=this.correctTopRight(p),!p[3])throw new Y;p=this.shiftToModuleCenter(p);const m=p[0],b=p[1],S=p[2],B=p[3];let L=this.transitionsBetween(m,B)+1,Q=this.transitionsBetween(S,B)+1;(L&1)===1&&(L+=1),(Q&1)===1&&(Q+=1),4*L<7*Q&&4*Q<7*L&&(L=Q=Math.max(L,Q));let W=un.sampleGrid(this.image,m,b,S,B,L,Q);return new Tt(W,[m,b,S,B])}static shiftPoint(f,p,m){let b=(p.getX()-f.getX())/(m+1),S=(p.getY()-f.getY())/(m+1);return new ze(f.getX()+b,f.getY()+S)}static moveAway(f,p,m){let b=f.getX(),S=f.getY();return b<p?b-=1:b+=1,S<m?S-=1:S+=1,new ze(b,S)}detectSolid1(f){let p=f[0],m=f[1],b=f[3],S=f[2],B=this.transitionsBetween(p,m),L=this.transitionsBetween(m,b),Q=this.transitionsBetween(b,S),W=this.transitionsBetween(S,p),se=B,ge=[S,p,m,b];return se>L&&(se=L,ge[0]=p,ge[1]=m,ge[2]=b,ge[3]=S),se>Q&&(se=Q,ge[0]=m,ge[1]=b,ge[2]=S,ge[3]=p),se>W&&(ge[0]=b,ge[1]=S,ge[2]=p,ge[3]=m),ge}detectSolid2(f){let p=f[0],m=f[1],b=f[2],S=f[3],B=this.transitionsBetween(p,S),L=un.shiftPoint(m,b,(B+1)*4),Q=un.shiftPoint(b,m,(B+1)*4),W=this.transitionsBetween(L,p),se=this.transitionsBetween(Q,S);return W<se?(f[0]=p,f[1]=m,f[2]=b,f[3]=S):(f[0]=m,f[1]=b,f[2]=S,f[3]=p),f}correctTopRight(f){let p=f[0],m=f[1],b=f[2],S=f[3],B=this.transitionsBetween(p,S),L=this.transitionsBetween(m,S),Q=un.shiftPoint(p,m,(L+1)*4),W=un.shiftPoint(b,m,(B+1)*4);B=this.transitionsBetween(Q,S),L=this.transitionsBetween(W,S);let se=new ze(S.getX()+(b.getX()-m.getX())/(B+1),S.getY()+(b.getY()-m.getY())/(B+1)),ge=new ze(S.getX()+(p.getX()-m.getX())/(L+1),S.getY()+(p.getY()-m.getY())/(L+1));if(!this.isValid(se))return this.isValid(ge)?ge:null;if(!this.isValid(ge))return se;let we=this.transitionsBetween(Q,se)+this.transitionsBetween(W,se),Qe=this.transitionsBetween(Q,ge)+this.transitionsBetween(W,ge);return we>Qe?se:ge}shiftToModuleCenter(f){let p=f[0],m=f[1],b=f[2],S=f[3],B=this.transitionsBetween(p,S)+1,L=this.transitionsBetween(b,S)+1,Q=un.shiftPoint(p,m,L*4),W=un.shiftPoint(b,m,B*4);B=this.transitionsBetween(Q,S)+1,L=this.transitionsBetween(W,S)+1,(B&1)===1&&(B+=1),(L&1)===1&&(L+=1);let se=(p.getX()+m.getX()+b.getX()+S.getX())/4,ge=(p.getY()+m.getY()+b.getY()+S.getY())/4;p=un.moveAway(p,se,ge),m=un.moveAway(m,se,ge),b=un.moveAway(b,se,ge),S=un.moveAway(S,se,ge);let we,Qe;return Q=un.shiftPoint(p,m,L*4),Q=un.shiftPoint(Q,S,B*4),we=un.shiftPoint(m,p,L*4),we=un.shiftPoint(we,b,B*4),W=un.shiftPoint(b,S,L*4),W=un.shiftPoint(W,m,B*4),Qe=un.shiftPoint(S,b,L*4),Qe=un.shiftPoint(Qe,p,B*4),[Q,we,W,Qe]}isValid(f){return f.getX()>=0&&f.getX()<this.image.getWidth()&&f.getY()>0&&f.getY()<this.image.getHeight()}static sampleGrid(f,p,m,b,S,B,L){return St.getInstance().sampleGrid(f,B,L,.5,.5,B-.5,.5,B-.5,L-.5,.5,L-.5,p.getX(),p.getY(),S.getX(),S.getY(),b.getX(),b.getY(),m.getX(),m.getY())}transitionsBetween(f,p){let m=Math.trunc(f.getX()),b=Math.trunc(f.getY()),S=Math.trunc(p.getX()),B=Math.trunc(p.getY()),L=Math.abs(B-b)>Math.abs(S-m);if(L){let Ye=m;m=b,b=Ye,Ye=S,S=B,B=Ye}let Q=Math.abs(S-m),W=Math.abs(B-b),se=-Q/2,ge=b<B?1:-1,we=m<S?1:-1,Qe=0,Xe=this.image.get(L?b:m,L?m:b);for(let Ye=m,ot=b;Ye!==S;Ye+=we){let wt=this.image.get(L?ot:Ye,L?Ye:ot);if(wt!==Xe&&(Qe++,Xe=wt),se+=W,se>0){if(ot===B)break;ot+=ge,se-=Q}}return Qe}}class Oa{constructor(){this.decoder=new Mo}decode(f,p=null){let m,b;if(p!=null&&p.has(j.PURE_BARCODE)){const W=Oa.extractPureBits(f.getBlackMatrix());m=this.decoder.decode(W),b=Oa.NO_POINTS}else{const W=new un(f.getBlackMatrix()).detect();m=this.decoder.decode(W.getBits()),b=W.getPoints()}const S=m.getRawBytes(),B=new ee(m.getText(),S,8*S.length,b,de.DATA_MATRIX,x.currentTimeMillis()),L=m.getByteSegments();L!=null&&B.putMetadata(_e.BYTE_SEGMENTS,L);const Q=m.getECLevel();return Q!=null&&B.putMetadata(_e.ERROR_CORRECTION_LEVEL,Q),B}reset(){}static extractPureBits(f){const p=f.getTopLeftOnBit(),m=f.getBottomRightOnBit();if(p==null||m==null)throw new Y;const b=this.moduleSize(p,f);let S=p[1];const B=m[1];let L=p[0];const W=(m[0]-L+1)/b,se=(B-S+1)/b;if(W<=0||se<=0)throw new Y;const ge=b/2;S+=ge,L+=ge;const we=new K(W,se);for(let Qe=0;Qe<se;Qe++){const Xe=S+Qe*b;for(let Ye=0;Ye<W;Ye++)f.get(L+Ye*b,Xe)&&we.set(Ye,Qe)}return we}static moduleSize(f,p){const m=p.getWidth();let b=f[0];const S=f[1];for(;b<m&&p.get(b,S);)b++;if(b===m)throw new Y;const B=b-f[0];if(B===0)throw new Y;return B}}Oa.NO_POINTS=[];class ca extends q{constructor(f=500){super(new Oa,f)}}var Ci;(function(pe){pe[pe.L=0]="L",pe[pe.M=1]="M",pe[pe.Q=2]="Q",pe[pe.H=3]="H"})(Ci||(Ci={}));class ui{constructor(f,p,m){this.value=f,this.stringValue=p,this.bits=m,ui.FOR_BITS.set(m,this),ui.FOR_VALUE.set(f,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(f){switch(f){case"L":return ui.L;case"M":return ui.M;case"Q":return ui.Q;case"H":return ui.H;default:throw new d(f+"not available")}}toString(){return this.stringValue}equals(f){if(!(f instanceof ui))return!1;const p=f;return this.value===p.value}static forBits(f){if(f<0||f>=ui.FOR_BITS.size)throw new h;return ui.FOR_BITS.get(f)}}ui.FOR_BITS=new Map,ui.FOR_VALUE=new Map,ui.L=new ui(Ci.L,"L",1),ui.M=new ui(Ci.M,"M",0),ui.Q=new ui(Ci.Q,"Q",3),ui.H=new ui(Ci.H,"H",2);class ws{constructor(f){this.errorCorrectionLevel=ui.forBits(f>>3&3),this.dataMask=f&7}static numBitsDiffering(f,p){return E.bitCount(f^p)}static decodeFormatInformation(f,p){const m=ws.doDecodeFormatInformation(f,p);return m!==null?m:ws.doDecodeFormatInformation(f^ws.FORMAT_INFO_MASK_QR,p^ws.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(f,p){let m=Number.MAX_SAFE_INTEGER,b=0;for(const S of ws.FORMAT_INFO_DECODE_LOOKUP){const B=S[0];if(B===f||B===p)return new ws(S[1]);let L=ws.numBitsDiffering(f,B);L<m&&(b=S[1],m=L),f!==p&&(L=ws.numBitsDiffering(p,B),L<m&&(b=S[1],m=L))}return m<=3?new ws(b):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(f){if(!(f instanceof ws))return!1;const p=f;return this.errorCorrectionLevel===p.errorCorrectionLevel&&this.dataMask===p.dataMask}}ws.FORMAT_INFO_MASK_QR=21522,ws.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ut{constructor(f,...p){this.ecCodewordsPerBlock=f,this.ecBlocks=p}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let f=0;const p=this.ecBlocks;for(const m of p)f+=m.getCount();return f}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Le{constructor(f,p){this.count=f,this.dataCodewords=p}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Lr{constructor(f,p,...m){this.versionNumber=f,this.alignmentPatternCenters=p,this.ecBlocks=m;let b=0;const S=m[0].getECCodewordsPerBlock(),B=m[0].getECBlocks();for(const L of B)b+=L.getCount()*(L.getDataCodewords()+S);this.totalCodewords=b}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(f){return this.ecBlocks[f.getValue()]}static getProvisionalVersionForDimension(f){if(f%4!==1)throw new T;try{return this.getVersionForNumber((f-17)/4)}catch{throw new T}}static getVersionForNumber(f){if(f<1||f>40)throw new h;return Lr.VERSIONS[f-1]}static decodeVersionInformation(f){let p=Number.MAX_SAFE_INTEGER,m=0;for(let b=0;b<Lr.VERSION_DECODE_INFO.length;b++){const S=Lr.VERSION_DECODE_INFO[b];if(S===f)return Lr.getVersionForNumber(b+7);const B=ws.numBitsDiffering(f,S);B<p&&(m=b+7,p=B)}return p<=3?Lr.getVersionForNumber(m):null}buildFunctionPattern(){const f=this.getDimensionForVersion(),p=new K(f);p.setRegion(0,0,9,9),p.setRegion(f-8,0,8,9),p.setRegion(0,f-8,9,8);const m=this.alignmentPatternCenters.length;for(let b=0;b<m;b++){const S=this.alignmentPatternCenters[b]-2;for(let B=0;B<m;B++)b===0&&(B===0||B===m-1)||b===m-1&&B===0||p.setRegion(this.alignmentPatternCenters[B]-2,S,5,5)}return p.setRegion(6,9,1,f-17),p.setRegion(9,6,f-17,1),this.versionNumber>6&&(p.setRegion(f-11,0,3,6),p.setRegion(0,f-11,6,3)),p}toString(){return""+this.versionNumber}}Lr.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Lr.VERSIONS=[new Lr(1,new Int32Array(0),new ut(7,new Le(1,19)),new ut(10,new Le(1,16)),new ut(13,new Le(1,13)),new ut(17,new Le(1,9))),new Lr(2,Int32Array.from([6,18]),new ut(10,new Le(1,34)),new ut(16,new Le(1,28)),new ut(22,new Le(1,22)),new ut(28,new Le(1,16))),new Lr(3,Int32Array.from([6,22]),new ut(15,new Le(1,55)),new ut(26,new Le(1,44)),new ut(18,new Le(2,17)),new ut(22,new Le(2,13))),new Lr(4,Int32Array.from([6,26]),new ut(20,new Le(1,80)),new ut(18,new Le(2,32)),new ut(26,new Le(2,24)),new ut(16,new Le(4,9))),new Lr(5,Int32Array.from([6,30]),new ut(26,new Le(1,108)),new ut(24,new Le(2,43)),new ut(18,new Le(2,15),new Le(2,16)),new ut(22,new Le(2,11),new Le(2,12))),new Lr(6,Int32Array.from([6,34]),new ut(18,new Le(2,68)),new ut(16,new Le(4,27)),new ut(24,new Le(4,19)),new ut(28,new Le(4,15))),new Lr(7,Int32Array.from([6,22,38]),new ut(20,new Le(2,78)),new ut(18,new Le(4,31)),new ut(18,new Le(2,14),new Le(4,15)),new ut(26,new Le(4,13),new Le(1,14))),new Lr(8,Int32Array.from([6,24,42]),new ut(24,new Le(2,97)),new ut(22,new Le(2,38),new Le(2,39)),new ut(22,new Le(4,18),new Le(2,19)),new ut(26,new Le(4,14),new Le(2,15))),new Lr(9,Int32Array.from([6,26,46]),new ut(30,new Le(2,116)),new ut(22,new Le(3,36),new Le(2,37)),new ut(20,new Le(4,16),new Le(4,17)),new ut(24,new Le(4,12),new Le(4,13))),new Lr(10,Int32Array.from([6,28,50]),new ut(18,new Le(2,68),new Le(2,69)),new ut(26,new Le(4,43),new Le(1,44)),new ut(24,new Le(6,19),new Le(2,20)),new ut(28,new Le(6,15),new Le(2,16))),new Lr(11,Int32Array.from([6,30,54]),new ut(20,new Le(4,81)),new ut(30,new Le(1,50),new Le(4,51)),new ut(28,new Le(4,22),new Le(4,23)),new ut(24,new Le(3,12),new Le(8,13))),new Lr(12,Int32Array.from([6,32,58]),new ut(24,new Le(2,92),new Le(2,93)),new ut(22,new Le(6,36),new Le(2,37)),new ut(26,new Le(4,20),new Le(6,21)),new ut(28,new Le(7,14),new Le(4,15))),new Lr(13,Int32Array.from([6,34,62]),new ut(26,new Le(4,107)),new ut(22,new Le(8,37),new Le(1,38)),new ut(24,new Le(8,20),new Le(4,21)),new ut(22,new Le(12,11),new Le(4,12))),new Lr(14,Int32Array.from([6,26,46,66]),new ut(30,new Le(3,115),new Le(1,116)),new ut(24,new Le(4,40),new Le(5,41)),new ut(20,new Le(11,16),new Le(5,17)),new ut(24,new Le(11,12),new Le(5,13))),new Lr(15,Int32Array.from([6,26,48,70]),new ut(22,new Le(5,87),new Le(1,88)),new ut(24,new Le(5,41),new Le(5,42)),new ut(30,new Le(5,24),new Le(7,25)),new ut(24,new Le(11,12),new Le(7,13))),new Lr(16,Int32Array.from([6,26,50,74]),new ut(24,new Le(5,98),new Le(1,99)),new ut(28,new Le(7,45),new Le(3,46)),new ut(24,new Le(15,19),new Le(2,20)),new ut(30,new Le(3,15),new Le(13,16))),new Lr(17,Int32Array.from([6,30,54,78]),new ut(28,new Le(1,107),new Le(5,108)),new ut(28,new Le(10,46),new Le(1,47)),new ut(28,new Le(1,22),new Le(15,23)),new ut(28,new Le(2,14),new Le(17,15))),new Lr(18,Int32Array.from([6,30,56,82]),new ut(30,new Le(5,120),new Le(1,121)),new ut(26,new Le(9,43),new Le(4,44)),new ut(28,new Le(17,22),new Le(1,23)),new ut(28,new Le(2,14),new Le(19,15))),new Lr(19,Int32Array.from([6,30,58,86]),new ut(28,new Le(3,113),new Le(4,114)),new ut(26,new Le(3,44),new Le(11,45)),new ut(26,new Le(17,21),new Le(4,22)),new ut(26,new Le(9,13),new Le(16,14))),new Lr(20,Int32Array.from([6,34,62,90]),new ut(28,new Le(3,107),new Le(5,108)),new ut(26,new Le(3,41),new Le(13,42)),new ut(30,new Le(15,24),new Le(5,25)),new ut(28,new Le(15,15),new Le(10,16))),new Lr(21,Int32Array.from([6,28,50,72,94]),new ut(28,new Le(4,116),new Le(4,117)),new ut(26,new Le(17,42)),new ut(28,new Le(17,22),new Le(6,23)),new ut(30,new Le(19,16),new Le(6,17))),new Lr(22,Int32Array.from([6,26,50,74,98]),new ut(28,new Le(2,111),new Le(7,112)),new ut(28,new Le(17,46)),new ut(30,new Le(7,24),new Le(16,25)),new ut(24,new Le(34,13))),new Lr(23,Int32Array.from([6,30,54,78,102]),new ut(30,new Le(4,121),new Le(5,122)),new ut(28,new Le(4,47),new Le(14,48)),new ut(30,new Le(11,24),new Le(14,25)),new ut(30,new Le(16,15),new Le(14,16))),new Lr(24,Int32Array.from([6,28,54,80,106]),new ut(30,new Le(6,117),new Le(4,118)),new ut(28,new Le(6,45),new Le(14,46)),new ut(30,new Le(11,24),new Le(16,25)),new ut(30,new Le(30,16),new Le(2,17))),new Lr(25,Int32Array.from([6,32,58,84,110]),new ut(26,new Le(8,106),new Le(4,107)),new ut(28,new Le(8,47),new Le(13,48)),new ut(30,new Le(7,24),new Le(22,25)),new ut(30,new Le(22,15),new Le(13,16))),new Lr(26,Int32Array.from([6,30,58,86,114]),new ut(28,new Le(10,114),new Le(2,115)),new ut(28,new Le(19,46),new Le(4,47)),new ut(28,new Le(28,22),new Le(6,23)),new ut(30,new Le(33,16),new Le(4,17))),new Lr(27,Int32Array.from([6,34,62,90,118]),new ut(30,new Le(8,122),new Le(4,123)),new ut(28,new Le(22,45),new Le(3,46)),new ut(30,new Le(8,23),new Le(26,24)),new ut(30,new Le(12,15),new Le(28,16))),new Lr(28,Int32Array.from([6,26,50,74,98,122]),new ut(30,new Le(3,117),new Le(10,118)),new ut(28,new Le(3,45),new Le(23,46)),new ut(30,new Le(4,24),new Le(31,25)),new ut(30,new Le(11,15),new Le(31,16))),new Lr(29,Int32Array.from([6,30,54,78,102,126]),new ut(30,new Le(7,116),new Le(7,117)),new ut(28,new Le(21,45),new Le(7,46)),new ut(30,new Le(1,23),new Le(37,24)),new ut(30,new Le(19,15),new Le(26,16))),new Lr(30,Int32Array.from([6,26,52,78,104,130]),new ut(30,new Le(5,115),new Le(10,116)),new ut(28,new Le(19,47),new Le(10,48)),new ut(30,new Le(15,24),new Le(25,25)),new ut(30,new Le(23,15),new Le(25,16))),new Lr(31,Int32Array.from([6,30,56,82,108,134]),new ut(30,new Le(13,115),new Le(3,116)),new ut(28,new Le(2,46),new Le(29,47)),new ut(30,new Le(42,24),new Le(1,25)),new ut(30,new Le(23,15),new Le(28,16))),new Lr(32,Int32Array.from([6,34,60,86,112,138]),new ut(30,new Le(17,115)),new ut(28,new Le(10,46),new Le(23,47)),new ut(30,new Le(10,24),new Le(35,25)),new ut(30,new Le(19,15),new Le(35,16))),new Lr(33,Int32Array.from([6,30,58,86,114,142]),new ut(30,new Le(17,115),new Le(1,116)),new ut(28,new Le(14,46),new Le(21,47)),new ut(30,new Le(29,24),new Le(19,25)),new ut(30,new Le(11,15),new Le(46,16))),new Lr(34,Int32Array.from([6,34,62,90,118,146]),new ut(30,new Le(13,115),new Le(6,116)),new ut(28,new Le(14,46),new Le(23,47)),new ut(30,new Le(44,24),new Le(7,25)),new ut(30,new Le(59,16),new Le(1,17))),new Lr(35,Int32Array.from([6,30,54,78,102,126,150]),new ut(30,new Le(12,121),new Le(7,122)),new ut(28,new Le(12,47),new Le(26,48)),new ut(30,new Le(39,24),new Le(14,25)),new ut(30,new Le(22,15),new Le(41,16))),new Lr(36,Int32Array.from([6,24,50,76,102,128,154]),new ut(30,new Le(6,121),new Le(14,122)),new ut(28,new Le(6,47),new Le(34,48)),new ut(30,new Le(46,24),new Le(10,25)),new ut(30,new Le(2,15),new Le(64,16))),new Lr(37,Int32Array.from([6,28,54,80,106,132,158]),new ut(30,new Le(17,122),new Le(4,123)),new ut(28,new Le(29,46),new Le(14,47)),new ut(30,new Le(49,24),new Le(10,25)),new ut(30,new Le(24,15),new Le(46,16))),new Lr(38,Int32Array.from([6,32,58,84,110,136,162]),new ut(30,new Le(4,122),new Le(18,123)),new ut(28,new Le(13,46),new Le(32,47)),new ut(30,new Le(48,24),new Le(14,25)),new ut(30,new Le(42,15),new Le(32,16))),new Lr(39,Int32Array.from([6,26,54,82,110,138,166]),new ut(30,new Le(20,117),new Le(4,118)),new ut(28,new Le(40,47),new Le(7,48)),new ut(30,new Le(43,24),new Le(22,25)),new ut(30,new Le(10,15),new Le(67,16))),new Lr(40,Int32Array.from([6,30,58,86,114,142,170]),new ut(30,new Le(19,118),new Le(6,119)),new ut(28,new Le(18,47),new Le(31,48)),new ut(30,new Le(34,24),new Le(34,25)),new ut(30,new Le(20,15),new Le(61,16)))];var hs;(function(pe){pe[pe.DATA_MASK_000=0]="DATA_MASK_000",pe[pe.DATA_MASK_001=1]="DATA_MASK_001",pe[pe.DATA_MASK_010=2]="DATA_MASK_010",pe[pe.DATA_MASK_011=3]="DATA_MASK_011",pe[pe.DATA_MASK_100=4]="DATA_MASK_100",pe[pe.DATA_MASK_101=5]="DATA_MASK_101",pe[pe.DATA_MASK_110=6]="DATA_MASK_110",pe[pe.DATA_MASK_111=7]="DATA_MASK_111"})(hs||(hs={}));class Ps{constructor(f,p){this.value=f,this.isMasked=p}unmaskBitMatrix(f,p){for(let m=0;m<p;m++)for(let b=0;b<p;b++)this.isMasked(m,b)&&f.flip(b,m)}}Ps.values=new Map([[hs.DATA_MASK_000,new Ps(hs.DATA_MASK_000,(pe,f)=>(pe+f&1)===0)],[hs.DATA_MASK_001,new Ps(hs.DATA_MASK_001,(pe,f)=>(pe&1)===0)],[hs.DATA_MASK_010,new Ps(hs.DATA_MASK_010,(pe,f)=>f%3===0)],[hs.DATA_MASK_011,new Ps(hs.DATA_MASK_011,(pe,f)=>(pe+f)%3===0)],[hs.DATA_MASK_100,new Ps(hs.DATA_MASK_100,(pe,f)=>(Math.floor(pe/2)+Math.floor(f/3)&1)===0)],[hs.DATA_MASK_101,new Ps(hs.DATA_MASK_101,(pe,f)=>pe*f%6===0)],[hs.DATA_MASK_110,new Ps(hs.DATA_MASK_110,(pe,f)=>pe*f%6<3)],[hs.DATA_MASK_111,new Ps(hs.DATA_MASK_111,(pe,f)=>(pe+f+pe*f%3&1)===0)]]);class Uo{constructor(f){const p=f.getHeight();if(p<21||(p&3)!==1)throw new T;this.bitMatrix=f}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let f=0;for(let S=0;S<6;S++)f=this.copyBit(S,8,f);f=this.copyBit(7,8,f),f=this.copyBit(8,8,f),f=this.copyBit(8,7,f);for(let S=5;S>=0;S--)f=this.copyBit(8,S,f);const p=this.bitMatrix.getHeight();let m=0;const b=p-7;for(let S=p-1;S>=b;S--)m=this.copyBit(8,S,m);for(let S=p-8;S<p;S++)m=this.copyBit(S,8,m);if(this.parsedFormatInfo=ws.decodeFormatInformation(f,m),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new T}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const f=this.bitMatrix.getHeight(),p=Math.floor((f-17)/4);if(p<=6)return Lr.getVersionForNumber(p);let m=0;const b=f-11;for(let B=5;B>=0;B--)for(let L=f-9;L>=b;L--)m=this.copyBit(L,B,m);let S=Lr.decodeVersionInformation(m);if(S!==null&&S.getDimensionForVersion()===f)return this.parsedVersion=S,S;m=0;for(let B=5;B>=0;B--)for(let L=f-9;L>=b;L--)m=this.copyBit(B,L,m);if(S=Lr.decodeVersionInformation(m),S!==null&&S.getDimensionForVersion()===f)return this.parsedVersion=S,S;throw new T}copyBit(f,p,m){return(this.isMirror?this.bitMatrix.get(p,f):this.bitMatrix.get(f,p))?m<<1|1:m<<1}readCodewords(){const f=this.readFormatInformation(),p=this.readVersion(),m=Ps.values.get(f.getDataMask()),b=this.bitMatrix.getHeight();m.unmaskBitMatrix(this.bitMatrix,b);const S=p.buildFunctionPattern();let B=!0;const L=new Uint8Array(p.getTotalCodewords());let Q=0,W=0,se=0;for(let ge=b-1;ge>0;ge-=2){ge===6&&ge--;for(let we=0;we<b;we++){const Qe=B?b-1-we:we;for(let Xe=0;Xe<2;Xe++)S.get(ge-Xe,Qe)||(se++,W<<=1,this.bitMatrix.get(ge-Xe,Qe)&&(W|=1),se===8&&(L[Q++]=W,se=0,W=0))}B=!B}if(Q!==p.getTotalCodewords())throw new T;return L}remask(){if(this.parsedFormatInfo===null)return;const f=Ps.values[this.parsedFormatInfo.getDataMask()],p=this.bitMatrix.getHeight();f.unmaskBitMatrix(this.bitMatrix,p)}setMirror(f){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=f}mirror(){const f=this.bitMatrix;for(let p=0,m=f.getWidth();p<m;p++)for(let b=p+1,S=f.getHeight();b<S;b++)f.get(p,b)!==f.get(b,p)&&(f.flip(b,p),f.flip(p,b))}}class al{constructor(f,p){this.numDataCodewords=f,this.codewords=p}static getDataBlocks(f,p,m){if(f.length!==p.getTotalCodewords())throw new h;const b=p.getECBlocksForLevel(m);let S=0;const B=b.getECBlocks();for(const Xe of B)S+=Xe.getCount();const L=new Array(S);let Q=0;for(const Xe of B)for(let Ye=0;Ye<Xe.getCount();Ye++){const ot=Xe.getDataCodewords(),wt=b.getECCodewordsPerBlock()+ot;L[Q++]=new al(ot,new Uint8Array(wt))}const W=L[0].codewords.length;let se=L.length-1;for(;se>=0&&L[se].codewords.length!==W;)se--;se++;const ge=W-b.getECCodewordsPerBlock();let we=0;for(let Xe=0;Xe<ge;Xe++)for(let Ye=0;Ye<Q;Ye++)L[Ye].codewords[Xe]=f[we++];for(let Xe=se;Xe<Q;Xe++)L[Xe].codewords[ge]=f[we++];const Qe=L[0].codewords.length;for(let Xe=ge;Xe<Qe;Xe++)for(let Ye=0;Ye<Q;Ye++){const ot=Ye<se?Xe:Xe+1;L[Ye].codewords[ot]=f[we++]}return L}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Fs;(function(pe){pe[pe.TERMINATOR=0]="TERMINATOR",pe[pe.NUMERIC=1]="NUMERIC",pe[pe.ALPHANUMERIC=2]="ALPHANUMERIC",pe[pe.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",pe[pe.BYTE=4]="BYTE",pe[pe.ECI=5]="ECI",pe[pe.KANJI=6]="KANJI",pe[pe.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",pe[pe.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",pe[pe.HANZI=9]="HANZI"})(Fs||(Fs={}));class en{constructor(f,p,m,b){this.value=f,this.stringValue=p,this.characterCountBitsForVersions=m,this.bits=b,en.FOR_BITS.set(b,this),en.FOR_VALUE.set(f,this)}static forBits(f){const p=en.FOR_BITS.get(f);if(p===void 0)throw new h;return p}getCharacterCountBits(f){const p=f.getVersionNumber();let m;return p<=9?m=0:p<=26?m=1:m=2,this.characterCountBitsForVersions[m]}getValue(){return this.value}getBits(){return this.bits}equals(f){if(!(f instanceof en))return!1;const p=f;return this.value===p.value}toString(){return this.stringValue}}en.FOR_BITS=new Map,en.FOR_VALUE=new Map,en.TERMINATOR=new en(Fs.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),en.NUMERIC=new en(Fs.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),en.ALPHANUMERIC=new en(Fs.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),en.STRUCTURED_APPEND=new en(Fs.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),en.BYTE=new en(Fs.BYTE,"BYTE",Int32Array.from([8,16,16]),4),en.ECI=new en(Fs.ECI,"ECI",Int32Array.from([0,0,0]),7),en.KANJI=new en(Fs.KANJI,"KANJI",Int32Array.from([8,10,12]),8),en.FNC1_FIRST_POSITION=new en(Fs.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),en.FNC1_SECOND_POSITION=new en(Fs.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),en.HANZI=new en(Fs.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Mi{static decode(f,p,m,b){const S=new ba(f);let B=new H;const L=new Array;let Q=-1,W=-1;try{let se=null,ge=!1,we;do{if(S.available()<4)we=en.TERMINATOR;else{const Qe=S.readBits(4);we=en.forBits(Qe)}switch(we){case en.TERMINATOR:break;case en.FNC1_FIRST_POSITION:case en.FNC1_SECOND_POSITION:ge=!0;break;case en.STRUCTURED_APPEND:if(S.available()<16)throw new T;Q=S.readBits(8),W=S.readBits(8);break;case en.ECI:const Qe=Mi.parseECIValue(S);if(se=k.getCharacterSetECIByValue(Qe),se===null)throw new T;break;case en.HANZI:const Xe=S.readBits(4),Ye=S.readBits(we.getCharacterCountBits(p));Xe===Mi.GB2312_SUBSET&&Mi.decodeHanziSegment(S,B,Ye);break;default:const ot=S.readBits(we.getCharacterCountBits(p));switch(we){case en.NUMERIC:Mi.decodeNumericSegment(S,B,ot);break;case en.ALPHANUMERIC:Mi.decodeAlphanumericSegment(S,B,ot,ge);break;case en.BYTE:Mi.decodeByteSegment(S,B,ot,se,L,b);break;case en.KANJI:Mi.decodeKanjiSegment(S,B,ot);break;default:throw new T}break}}while(we!==en.TERMINATOR)}catch{throw new T}return new ye(f,B.toString(),L.length===0?null:L,m===null?null:m.toString(),Q,W)}static decodeHanziSegment(f,p,m){if(m*13>f.available())throw new T;const b=new Uint8Array(2*m);let S=0;for(;m>0;){const B=f.readBits(13);let L=B/96<<8&4294967295|B%96;L<959?L+=41377:L+=42657,b[S]=L>>8&255,b[S+1]=L&255,S+=2,m--}try{p.append(O.decode(b,M.GB2312))}catch(B){throw new T(B)}}static decodeKanjiSegment(f,p,m){if(m*13>f.available())throw new T;const b=new Uint8Array(2*m);let S=0;for(;m>0;){const B=f.readBits(13);let L=B/192<<8&4294967295|B%192;L<7936?L+=33088:L+=49472,b[S]=L>>8,b[S+1]=L,S+=2,m--}try{p.append(O.decode(b,M.SHIFT_JIS))}catch(B){throw new T(B)}}static decodeByteSegment(f,p,m,b,S,B){if(8*m>f.available())throw new T;const L=new Uint8Array(m);for(let W=0;W<m;W++)L[W]=f.readBits(8);let Q;b===null?Q=M.guessEncoding(L,B):Q=b.getName();try{p.append(O.decode(L,Q))}catch(W){throw new T(W)}S.push(L)}static toAlphaNumericChar(f){if(f>=Mi.ALPHANUMERIC_CHARS.length)throw new T;return Mi.ALPHANUMERIC_CHARS[f]}static decodeAlphanumericSegment(f,p,m,b){const S=p.length();for(;m>1;){if(f.available()<11)throw new T;const B=f.readBits(11);p.append(Mi.toAlphaNumericChar(Math.floor(B/45))),p.append(Mi.toAlphaNumericChar(B%45)),m-=2}if(m===1){if(f.available()<6)throw new T;p.append(Mi.toAlphaNumericChar(f.readBits(6)))}if(b)for(let B=S;B<p.length();B++)p.charAt(B)==="%"&&(B<p.length()-1&&p.charAt(B+1)==="%"?p.deleteCharAt(B+1):p.setCharAt(B,""))}static decodeNumericSegment(f,p,m){for(;m>=3;){if(f.available()<10)throw new T;const b=f.readBits(10);if(b>=1e3)throw new T;p.append(Mi.toAlphaNumericChar(Math.floor(b/100))),p.append(Mi.toAlphaNumericChar(Math.floor(b/10)%10)),p.append(Mi.toAlphaNumericChar(b%10)),m-=3}if(m===2){if(f.available()<7)throw new T;const b=f.readBits(7);if(b>=100)throw new T;p.append(Mi.toAlphaNumericChar(Math.floor(b/10))),p.append(Mi.toAlphaNumericChar(b%10))}else if(m===1){if(f.available()<4)throw new T;const b=f.readBits(4);if(b>=10)throw new T;p.append(Mi.toAlphaNumericChar(b))}}static parseECIValue(f){const p=f.readBits(8);if(!(p&128))return p&127;if((p&192)===128){const m=f.readBits(8);return(p&63)<<8&4294967295|m}if((p&224)===192){const m=f.readBits(16);return(p&31)<<16&4294967295|m}throw new T}}Mi.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Mi.GB2312_SUBSET=1;class ru{constructor(f){this.mirrored=f}isMirrored(){return this.mirrored}applyMirroredCorrection(f){if(!this.mirrored||f===null||f.length<3)return;const p=f[0];f[0]=f[2],f[2]=p}}class tc{constructor(){this.rsDecoder=new Fe(We.QR_CODE_FIELD_256)}decodeBooleanArray(f,p){return this.decodeBitMatrix(K.parseFromBooleanArray(f),p)}decodeBitMatrix(f,p){const m=new Uo(f);let b=null;try{return this.decodeBitMatrixParser(m,p)}catch(S){b=S}try{m.remask(),m.setMirror(!0),m.readVersion(),m.readFormatInformation(),m.mirror();const S=this.decodeBitMatrixParser(m,p);return S.setOther(new ru(!0)),S}catch(S){throw b!==null?b:S}}decodeBitMatrixParser(f,p){const m=f.readVersion(),b=f.readFormatInformation().getErrorCorrectionLevel(),S=f.readCodewords(),B=al.getDataBlocks(S,m,b);let L=0;for(const se of B)L+=se.getNumDataCodewords();const Q=new Uint8Array(L);let W=0;for(const se of B){const ge=se.getCodewords(),we=se.getNumDataCodewords();this.correctErrors(ge,we);for(let Qe=0;Qe<we;Qe++)Q[W++]=ge[Qe]}return Mi.decode(Q,m,b,p)}correctErrors(f,p){const m=new Int32Array(f);try{this.rsDecoder.decode(m,f.length-p)}catch{throw new g}for(let b=0;b<p;b++)f[b]=m[b]}}class vo extends ze{constructor(f,p,m){super(f,p),this.estimatedModuleSize=m}aboutEquals(f,p,m){if(Math.abs(p-this.getY())<=f&&Math.abs(m-this.getX())<=f){const b=Math.abs(f-this.estimatedModuleSize);return b<=1||b<=this.estimatedModuleSize}return!1}combineEstimate(f,p,m){const b=(this.getX()+p)/2,S=(this.getY()+f)/2,B=(this.estimatedModuleSize+m)/2;return new vo(b,S,B)}}class Qu{constructor(f,p,m,b,S,B,L){this.image=f,this.startX=p,this.startY=m,this.width=b,this.height=S,this.moduleSize=B,this.resultPointCallback=L,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const f=this.startX,p=this.height,m=this.width,b=f+m,S=this.startY+p/2,B=new Int32Array(3),L=this.image;for(let Q=0;Q<p;Q++){const W=S+(Q&1?-Math.floor((Q+1)/2):Math.floor((Q+1)/2));B[0]=0,B[1]=0,B[2]=0;let se=f;for(;se<b&&!L.get(se,W);)se++;let ge=0;for(;se<b;){if(L.get(se,W))if(ge===1)B[1]++;else if(ge===2){if(this.foundPatternCross(B)){const we=this.handlePossibleCenter(B,W,se);if(we!==null)return we}B[0]=B[2],B[1]=1,B[2]=0,ge=1}else B[++ge]++;else ge===1&&ge++,B[ge]++;se++}if(this.foundPatternCross(B)){const we=this.handlePossibleCenter(B,W,b);if(we!==null)return we}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Y}static centerFromEnd(f,p){return p-f[2]-f[1]/2}foundPatternCross(f){const p=this.moduleSize,m=p/2;for(let b=0;b<3;b++)if(Math.abs(p-f[b])>=m)return!1;return!0}crossCheckVertical(f,p,m,b){const S=this.image,B=S.getHeight(),L=this.crossCheckStateCount;L[0]=0,L[1]=0,L[2]=0;let Q=f;for(;Q>=0&&S.get(p,Q)&&L[1]<=m;)L[1]++,Q--;if(Q<0||L[1]>m)return NaN;for(;Q>=0&&!S.get(p,Q)&&L[0]<=m;)L[0]++,Q--;if(L[0]>m)return NaN;for(Q=f+1;Q<B&&S.get(p,Q)&&L[1]<=m;)L[1]++,Q++;if(Q===B||L[1]>m)return NaN;for(;Q<B&&!S.get(p,Q)&&L[2]<=m;)L[2]++,Q++;if(L[2]>m)return NaN;const W=L[0]+L[1]+L[2];return 5*Math.abs(W-b)>=2*b?NaN:this.foundPatternCross(L)?Qu.centerFromEnd(L,Q):NaN}handlePossibleCenter(f,p,m){const b=f[0]+f[1]+f[2],S=Qu.centerFromEnd(f,m),B=this.crossCheckVertical(p,S,2*f[1],b);if(!isNaN(B)){const L=(f[0]+f[1]+f[2])/3;for(const W of this.possibleCenters)if(W.aboutEquals(L,B,S))return W.combineEstimate(B,S,L);const Q=new vo(S,B,L);this.possibleCenters.push(Q),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(Q)}return null}}class El extends ze{constructor(f,p,m,b){super(f,p),this.estimatedModuleSize=m,this.count=b,b===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(f,p,m){if(Math.abs(p-this.getY())<=f&&Math.abs(m-this.getX())<=f){const b=Math.abs(f-this.estimatedModuleSize);return b<=1||b<=this.estimatedModuleSize}return!1}combineEstimate(f,p,m){const b=this.count+1,S=(this.count*this.getX()+p)/b,B=(this.count*this.getY()+f)/b,L=(this.count*this.estimatedModuleSize+m)/b;return new El(S,B,L,b)}}class Ho{constructor(f){this.bottomLeft=f[0],this.topLeft=f[1],this.topRight=f[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class bs{constructor(f,p){this.image=f,this.resultPointCallback=p,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=p}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(f){const p=f!=null&&f.get(j.TRY_HARDER)!==void 0,m=f!=null&&f.get(j.PURE_BARCODE)!==void 0,b=this.image,S=b.getHeight(),B=b.getWidth();let L=Math.floor(3*S/(4*bs.MAX_MODULES));(L<bs.MIN_SKIP||p)&&(L=bs.MIN_SKIP);let Q=!1;const W=new Int32Array(5);for(let ge=L-1;ge<S&&!Q;ge+=L){W[0]=0,W[1]=0,W[2]=0,W[3]=0,W[4]=0;let we=0;for(let Qe=0;Qe<B;Qe++)if(b.get(Qe,ge))(we&1)===1&&we++,W[we]++;else if(we&1)W[we]++;else if(we===4)if(bs.foundPatternCross(W)){if(this.handlePossibleCenter(W,ge,Qe,m)===!0)if(L=2,this.hasSkipped===!0)Q=this.haveMultiplyConfirmedCenters();else{const Ye=this.findRowSkip();Ye>W[2]&&(ge+=Ye-W[2]-L,Qe=B-1)}else{W[0]=W[2],W[1]=W[3],W[2]=W[4],W[3]=1,W[4]=0,we=3;continue}we=0,W[0]=0,W[1]=0,W[2]=0,W[3]=0,W[4]=0}else W[0]=W[2],W[1]=W[3],W[2]=W[4],W[3]=1,W[4]=0,we=3;else W[++we]++;bs.foundPatternCross(W)&&this.handlePossibleCenter(W,ge,B,m)===!0&&(L=W[0],this.hasSkipped&&(Q=this.haveMultiplyConfirmedCenters()))}const se=this.selectBestPatterns();return ze.orderBestPatterns(se),new Ho(se)}static centerFromEnd(f,p){return p-f[4]-f[3]-f[2]/2}static foundPatternCross(f){let p=0;for(let S=0;S<5;S++){const B=f[S];if(B===0)return!1;p+=B}if(p<7)return!1;const m=p/7,b=m/2;return Math.abs(m-f[0])<b&&Math.abs(m-f[1])<b&&Math.abs(3*m-f[2])<3*b&&Math.abs(m-f[3])<b&&Math.abs(m-f[4])<b}getCrossCheckStateCount(){const f=this.crossCheckStateCount;return f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f}crossCheckDiagonal(f,p,m,b){const S=this.getCrossCheckStateCount();let B=0;const L=this.image;for(;f>=B&&p>=B&&L.get(p-B,f-B);)S[2]++,B++;if(f<B||p<B)return!1;for(;f>=B&&p>=B&&!L.get(p-B,f-B)&&S[1]<=m;)S[1]++,B++;if(f<B||p<B||S[1]>m)return!1;for(;f>=B&&p>=B&&L.get(p-B,f-B)&&S[0]<=m;)S[0]++,B++;if(S[0]>m)return!1;const Q=L.getHeight(),W=L.getWidth();for(B=1;f+B<Q&&p+B<W&&L.get(p+B,f+B);)S[2]++,B++;if(f+B>=Q||p+B>=W)return!1;for(;f+B<Q&&p+B<W&&!L.get(p+B,f+B)&&S[3]<m;)S[3]++,B++;if(f+B>=Q||p+B>=W||S[3]>=m)return!1;for(;f+B<Q&&p+B<W&&L.get(p+B,f+B)&&S[4]<m;)S[4]++,B++;if(S[4]>=m)return!1;const se=S[0]+S[1]+S[2]+S[3]+S[4];return Math.abs(se-b)<2*b&&bs.foundPatternCross(S)}crossCheckVertical(f,p,m,b){const S=this.image,B=S.getHeight(),L=this.getCrossCheckStateCount();let Q=f;for(;Q>=0&&S.get(p,Q);)L[2]++,Q--;if(Q<0)return NaN;for(;Q>=0&&!S.get(p,Q)&&L[1]<=m;)L[1]++,Q--;if(Q<0||L[1]>m)return NaN;for(;Q>=0&&S.get(p,Q)&&L[0]<=m;)L[0]++,Q--;if(L[0]>m)return NaN;for(Q=f+1;Q<B&&S.get(p,Q);)L[2]++,Q++;if(Q===B)return NaN;for(;Q<B&&!S.get(p,Q)&&L[3]<m;)L[3]++,Q++;if(Q===B||L[3]>=m)return NaN;for(;Q<B&&S.get(p,Q)&&L[4]<m;)L[4]++,Q++;if(L[4]>=m)return NaN;const W=L[0]+L[1]+L[2]+L[3]+L[4];return 5*Math.abs(W-b)>=2*b?NaN:bs.foundPatternCross(L)?bs.centerFromEnd(L,Q):NaN}crossCheckHorizontal(f,p,m,b){const S=this.image,B=S.getWidth(),L=this.getCrossCheckStateCount();let Q=f;for(;Q>=0&&S.get(Q,p);)L[2]++,Q--;if(Q<0)return NaN;for(;Q>=0&&!S.get(Q,p)&&L[1]<=m;)L[1]++,Q--;if(Q<0||L[1]>m)return NaN;for(;Q>=0&&S.get(Q,p)&&L[0]<=m;)L[0]++,Q--;if(L[0]>m)return NaN;for(Q=f+1;Q<B&&S.get(Q,p);)L[2]++,Q++;if(Q===B)return NaN;for(;Q<B&&!S.get(Q,p)&&L[3]<m;)L[3]++,Q++;if(Q===B||L[3]>=m)return NaN;for(;Q<B&&S.get(Q,p)&&L[4]<m;)L[4]++,Q++;if(L[4]>=m)return NaN;const W=L[0]+L[1]+L[2]+L[3]+L[4];return 5*Math.abs(W-b)>=b?NaN:bs.foundPatternCross(L)?bs.centerFromEnd(L,Q):NaN}handlePossibleCenter(f,p,m,b){const S=f[0]+f[1]+f[2]+f[3]+f[4];let B=bs.centerFromEnd(f,m),L=this.crossCheckVertical(p,Math.floor(B),f[2],S);if(!isNaN(L)&&(B=this.crossCheckHorizontal(Math.floor(B),Math.floor(L),f[2],S),!isNaN(B)&&(!b||this.crossCheckDiagonal(Math.floor(L),Math.floor(B),f[2],S)))){const Q=S/7;let W=!1;const se=this.possibleCenters;for(let ge=0,we=se.length;ge<we;ge++){const Qe=se[ge];if(Qe.aboutEquals(Q,L,B)){se[ge]=Qe.combineEstimate(L,B,Q),W=!0;break}}if(!W){const ge=new El(B,L,Q);se.push(ge),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(ge)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let p=null;for(const m of this.possibleCenters)if(m.getCount()>=bs.CENTER_QUORUM)if(p==null)p=m;else return this.hasSkipped=!0,Math.floor((Math.abs(p.getX()-m.getX())-Math.abs(p.getY()-m.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let f=0,p=0;const m=this.possibleCenters.length;for(const B of this.possibleCenters)B.getCount()>=bs.CENTER_QUORUM&&(f++,p+=B.getEstimatedModuleSize());if(f<3)return!1;const b=p/m;let S=0;for(const B of this.possibleCenters)S+=Math.abs(B.getEstimatedModuleSize()-b);return S<=.05*p}selectBestPatterns(){const f=this.possibleCenters.length;if(f<3)throw new Y;const p=this.possibleCenters;let m;if(f>3){let b=0,S=0;for(const Q of this.possibleCenters){const W=Q.getEstimatedModuleSize();b+=W,S+=W*W}m=b/f;let B=Math.sqrt(S/f-m*m);p.sort((Q,W)=>{const se=Math.abs(W.getEstimatedModuleSize()-m),ge=Math.abs(Q.getEstimatedModuleSize()-m);return se<ge?-1:se>ge?1:0});const L=Math.max(.2*m,B);for(let Q=0;Q<p.length&&p.length>3;Q++){const W=p[Q];Math.abs(W.getEstimatedModuleSize()-m)>L&&(p.splice(Q,1),Q--)}}if(p.length>3){let b=0;for(const S of p)b+=S.getEstimatedModuleSize();m=b/p.length,p.sort((S,B)=>{if(B.getCount()===S.getCount()){const L=Math.abs(B.getEstimatedModuleSize()-m),Q=Math.abs(S.getEstimatedModuleSize()-m);return L<Q?1:L>Q?-1:0}else return B.getCount()-S.getCount()}),p.splice(3)}return[p[0],p[1],p[2]]}}bs.CENTER_QUORUM=2,bs.MIN_SKIP=3,bs.MAX_MODULES=57;class an{constructor(f){this.image=f}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(f){this.resultPointCallback=f==null?null:f.get(j.NEED_RESULT_POINT_CALLBACK);const m=new bs(this.image,this.resultPointCallback).find(f);return this.processFinderPatternInfo(m)}processFinderPatternInfo(f){const p=f.getTopLeft(),m=f.getTopRight(),b=f.getBottomLeft(),S=this.calculateModuleSize(p,m,b);if(S<1)throw new Y("No pattern found in proccess finder.");const B=an.computeDimension(p,m,b,S),L=Lr.getProvisionalVersionForDimension(B),Q=L.getDimensionForVersion()-7;let W=null;if(L.getAlignmentPatternCenters().length>0){const Qe=m.getX()-p.getX()+b.getX(),Xe=m.getY()-p.getY()+b.getY(),Ye=1-3/Q,ot=Math.floor(p.getX()+Ye*(Qe-p.getX())),wt=Math.floor(p.getY()+Ye*(Xe-p.getY()));for(let Mt=4;Mt<=16;Mt<<=1)try{W=this.findAlignmentInRegion(S,ot,wt,Mt);break}catch(zt){if(!(zt instanceof Y))throw zt}}const se=an.createTransform(p,m,b,W,B),ge=an.sampleGrid(this.image,se,B);let we;return W===null?we=[b,p,m]:we=[b,p,m,W],new Tt(ge,we)}static createTransform(f,p,m,b,S){const B=S-3.5;let L,Q,W,se;return b!==null?(L=b.getX(),Q=b.getY(),W=B-3,se=W):(L=p.getX()-f.getX()+m.getX(),Q=p.getY()-f.getY()+m.getY(),W=B,se=B),jt.quadrilateralToQuadrilateral(3.5,3.5,B,3.5,W,se,3.5,B,f.getX(),f.getY(),p.getX(),p.getY(),L,Q,m.getX(),m.getY())}static sampleGrid(f,p,m){return St.getInstance().sampleGridWithTransform(f,m,m,p)}static computeDimension(f,p,m,b){const S=Te.round(ze.distance(f,p)/b),B=Te.round(ze.distance(f,m)/b);let L=Math.floor((S+B)/2)+7;switch(L&3){case 0:L++;break;case 2:L--;break;case 3:throw new Y("Dimensions could be not found.")}return L}calculateModuleSize(f,p,m){return(this.calculateModuleSizeOneWay(f,p)+this.calculateModuleSizeOneWay(f,m))/2}calculateModuleSizeOneWay(f,p){const m=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(f.getX()),Math.floor(f.getY()),Math.floor(p.getX()),Math.floor(p.getY())),b=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(p.getX()),Math.floor(p.getY()),Math.floor(f.getX()),Math.floor(f.getY()));return isNaN(m)?b/7:isNaN(b)?m/7:(m+b)/14}sizeOfBlackWhiteBlackRunBothWays(f,p,m,b){let S=this.sizeOfBlackWhiteBlackRun(f,p,m,b),B=1,L=f-(m-f);L<0?(B=f/(f-L),L=0):L>=this.image.getWidth()&&(B=(this.image.getWidth()-1-f)/(L-f),L=this.image.getWidth()-1);let Q=Math.floor(p-(b-p)*B);return B=1,Q<0?(B=p/(p-Q),Q=0):Q>=this.image.getHeight()&&(B=(this.image.getHeight()-1-p)/(Q-p),Q=this.image.getHeight()-1),L=Math.floor(f+(L-f)*B),S+=this.sizeOfBlackWhiteBlackRun(f,p,L,Q),S-1}sizeOfBlackWhiteBlackRun(f,p,m,b){const S=Math.abs(b-p)>Math.abs(m-f);if(S){let Qe=f;f=p,p=Qe,Qe=m,m=b,b=Qe}const B=Math.abs(m-f),L=Math.abs(b-p);let Q=-B/2;const W=f<m?1:-1,se=p<b?1:-1;let ge=0;const we=m+W;for(let Qe=f,Xe=p;Qe!==we;Qe+=W){const Ye=S?Xe:Qe,ot=S?Qe:Xe;if(ge===1===this.image.get(Ye,ot)){if(ge===2)return Te.distance(Qe,Xe,f,p);ge++}if(Q+=L,Q>0){if(Xe===b)break;Xe+=se,Q-=B}}return ge===2?Te.distance(m+W,b,f,p):NaN}findAlignmentInRegion(f,p,m,b){const S=Math.floor(b*f),B=Math.max(0,p-S),L=Math.min(this.image.getWidth()-1,p+S);if(L-B<f*3)throw new Y("Alignment top exceeds estimated module size.");const Q=Math.max(0,m-S),W=Math.min(this.image.getHeight()-1,m+S);if(W-Q<f*3)throw new Y("Alignment bottom exceeds estimated module size.");return new Qu(this.image,B,Q,L-B,W-Q,f,this.resultPointCallback).find()}}class yo{constructor(){this.decoder=new tc}getDecoder(){return this.decoder}decode(f,p){let m,b;if(p!=null&&p.get(j.PURE_BARCODE)!==void 0){const Q=yo.extractPureBits(f.getBlackMatrix());m=this.decoder.decodeBitMatrix(Q,p),b=yo.NO_POINTS}else{const Q=new an(f.getBlackMatrix()).detect(p);m=this.decoder.decodeBitMatrix(Q.getBits(),p),b=Q.getPoints()}m.getOther()instanceof ru&&m.getOther().applyMirroredCorrection(b);const S=new ee(m.getText(),m.getRawBytes(),void 0,b,de.QR_CODE,void 0),B=m.getByteSegments();B!==null&&S.putMetadata(_e.BYTE_SEGMENTS,B);const L=m.getECLevel();return L!==null&&S.putMetadata(_e.ERROR_CORRECTION_LEVEL,L),m.hasStructuredAppend()&&(S.putMetadata(_e.STRUCTURED_APPEND_SEQUENCE,m.getStructuredAppendSequenceNumber()),S.putMetadata(_e.STRUCTURED_APPEND_PARITY,m.getStructuredAppendParity())),S}reset(){}static extractPureBits(f){const p=f.getTopLeftOnBit(),m=f.getBottomRightOnBit();if(p===null||m===null)throw new Y;const b=this.moduleSize(p,f);let S=p[1],B=m[1],L=p[0],Q=m[0];if(L>=Q||S>=B)throw new Y;if(B-S!==Q-L&&(Q=L+(B-S),Q>=f.getWidth()))throw new Y;const W=Math.round((Q-L+1)/b),se=Math.round((B-S+1)/b);if(W<=0||se<=0)throw new Y;if(se!==W)throw new Y;const ge=Math.floor(b/2);S+=ge,L+=ge;const we=L+Math.floor((W-1)*b)-Q;if(we>0){if(we>ge)throw new Y;L-=we}const Qe=S+Math.floor((se-1)*b)-B;if(Qe>0){if(Qe>ge)throw new Y;S-=Qe}const Xe=new K(W,se);for(let Ye=0;Ye<se;Ye++){const ot=S+Math.floor(Ye*b);for(let wt=0;wt<W;wt++)f.get(L+Math.floor(wt*b),ot)&&Xe.set(wt,Ye)}return Xe}static moduleSize(f,p){const m=p.getHeight(),b=p.getWidth();let S=f[0],B=f[1],L=!0,Q=0;for(;S<b&&B<m;){if(L!==p.get(S,B)){if(++Q===5)break;L=!L}S++,B++}if(S===b||B===m)throw new Y;return(S-f[0])/7}}yo.NO_POINTS=new Array;class rn{PDF417Common(){}static getBitCountSum(f){return Te.sum(f)}static toIntArray(f){if(f==null||!f.length)return rn.EMPTY_INT_ARRAY;const p=new Int32Array(f.length);let m=0;for(const b of f)p[m++]=b;return p}static getCodeword(f){const p=_.binarySearch(rn.SYMBOL_TABLE,f&262143);return p<0?-1:(rn.CODEWORD_TABLE[p]-1)%rn.NUMBER_OF_CODEWORDS}}rn.NUMBER_OF_CODEWORDS=929,rn.MAX_CODEWORDS_IN_BARCODE=rn.NUMBER_OF_CODEWORDS-1,rn.MIN_ROWS_IN_BARCODE=3,rn.MAX_ROWS_IN_BARCODE=90,rn.MODULES_IN_CODEWORD=17,rn.MODULES_IN_STOP_PATTERN=18,rn.BARS_IN_MODULE=8,rn.EMPTY_INT_ARRAY=new Int32Array([]),rn.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),rn.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Bc{constructor(f,p){this.bits=f,this.points=p}getBits(){return this.bits}getPoints(){return this.points}}class on{static detectMultiple(f,p,m){let b=f.getBlackMatrix(),S=on.detect(m,b);return S.length||(b=b.clone(),b.rotate180(),S=on.detect(m,b)),new Bc(b,S)}static detect(f,p){const m=new Array;let b=0,S=0,B=!1;for(;b<p.getHeight();){const L=on.findVertices(p,b,S);if(L[0]==null&&L[3]==null){if(!B)break;B=!1,S=0;for(const Q of m)Q[1]!=null&&(b=Math.trunc(Math.max(b,Q[1].getY()))),Q[3]!=null&&(b=Math.max(b,Math.trunc(Q[3].getY())));b+=on.ROW_STEP;continue}if(B=!0,m.push(L),!f)break;L[2]!=null?(S=Math.trunc(L[2].getX()),b=Math.trunc(L[2].getY())):(S=Math.trunc(L[4].getX()),b=Math.trunc(L[4].getY()))}return m}static findVertices(f,p,m){const b=f.getHeight(),S=f.getWidth(),B=new Array(8);return on.copyToResult(B,on.findRowsWithPattern(f,b,S,p,m,on.START_PATTERN),on.INDEXES_START_PATTERN),B[4]!=null&&(m=Math.trunc(B[4].getX()),p=Math.trunc(B[4].getY())),on.copyToResult(B,on.findRowsWithPattern(f,b,S,p,m,on.STOP_PATTERN),on.INDEXES_STOP_PATTERN),B}static copyToResult(f,p,m){for(let b=0;b<m.length;b++)f[m[b]]=p[b]}static findRowsWithPattern(f,p,m,b,S,B){const L=new Array(4);let Q=!1;const W=new Int32Array(B.length);for(;b<p;b+=on.ROW_STEP){let ge=on.findGuardPattern(f,S,b,m,!1,B,W);if(ge!=null){for(;b>0;){const we=on.findGuardPattern(f,S,--b,m,!1,B,W);if(we!=null)ge=we;else{b++;break}}L[0]=new ze(ge[0],b),L[1]=new ze(ge[1],b),Q=!0;break}}let se=b+1;if(Q){let ge=0,we=Int32Array.from([Math.trunc(L[0].getX()),Math.trunc(L[1].getX())]);for(;se<p;se++){const Qe=on.findGuardPattern(f,we[0],se,m,!1,B,W);if(Qe!=null&&Math.abs(we[0]-Qe[0])<on.MAX_PATTERN_DRIFT&&Math.abs(we[1]-Qe[1])<on.MAX_PATTERN_DRIFT)we=Qe,ge=0;else{if(ge>on.SKIPPED_ROW_COUNT_MAX)break;ge++}}se-=ge+1,L[2]=new ze(we[0],se),L[3]=new ze(we[1],se)}return se-b<on.BARCODE_MIN_HEIGHT&&_.fill(L,null),L}static findGuardPattern(f,p,m,b,S,B,L){_.fillWithin(L,0,L.length,0);let Q=p,W=0;for(;f.get(Q,m)&&Q>0&&W++<on.MAX_PIXEL_DRIFT;)Q--;let se=Q,ge=0,we=B.length;for(let Qe=S;se<b;se++)if(f.get(se,m)!==Qe)L[ge]++;else{if(ge===we-1){if(on.patternMatchVariance(L,B,on.MAX_INDIVIDUAL_VARIANCE)<on.MAX_AVG_VARIANCE)return new Int32Array([Q,se]);Q+=L[0]+L[1],x.arraycopy(L,2,L,0,ge-1),L[ge-1]=0,L[ge]=0,ge--}else ge++;L[ge]=1,Qe=!Qe}return ge===we-1&&on.patternMatchVariance(L,B,on.MAX_INDIVIDUAL_VARIANCE)<on.MAX_AVG_VARIANCE?new Int32Array([Q,se-1]):null}static patternMatchVariance(f,p,m){let b=f.length,S=0,B=0;for(let W=0;W<b;W++)S+=f[W],B+=p[W];if(S<B)return 1/0;let L=S/B;m*=L;let Q=0;for(let W=0;W<b;W++){let se=f[W],ge=p[W]*L,we=se>ge?se-ge:ge-se;if(we>m)return 1/0;Q+=we}return Q/S}}on.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),on.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),on.MAX_AVG_VARIANCE=.42,on.MAX_INDIVIDUAL_VARIANCE=.8,on.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),on.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),on.MAX_PIXEL_DRIFT=3,on.MAX_PATTERN_DRIFT=5,on.SKIPPED_ROW_COUNT_MAX=25,on.ROW_STEP=5,on.BARCODE_MIN_HEIGHT=10;class ki{constructor(f,p){if(p.length===0)throw new h;this.field=f;let m=p.length;if(m>1&&p[0]===0){let b=1;for(;b<m&&p[b]===0;)b++;b===m?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(m-b),x.arraycopy(p,b,this.coefficients,0,this.coefficients.length))}else this.coefficients=p}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(f){return this.coefficients[this.coefficients.length-1-f]}evaluateAt(f){if(f===0)return this.getCoefficient(0);if(f===1){let b=0;for(let S of this.coefficients)b=this.field.add(b,S);return b}let p=this.coefficients[0],m=this.coefficients.length;for(let b=1;b<m;b++)p=this.field.add(this.field.multiply(f,p),this.coefficients[b]);return p}add(f){if(!this.field.equals(f.field))throw new h("ModulusPolys do not have same ModulusGF field");if(this.isZero())return f;if(f.isZero())return this;let p=this.coefficients,m=f.coefficients;if(p.length>m.length){let B=p;p=m,m=B}let b=new Int32Array(m.length),S=m.length-p.length;x.arraycopy(m,0,b,0,S);for(let B=S;B<m.length;B++)b[B]=this.field.add(p[B-S],m[B]);return new ki(this.field,b)}subtract(f){if(!this.field.equals(f.field))throw new h("ModulusPolys do not have same ModulusGF field");return f.isZero()?this:this.add(f.negative())}multiply(f){return f instanceof ki?this.multiplyOther(f):this.multiplyScalar(f)}multiplyOther(f){if(!this.field.equals(f.field))throw new h("ModulusPolys do not have same ModulusGF field");if(this.isZero()||f.isZero())return new ki(this.field,new Int32Array([0]));let p=this.coefficients,m=p.length,b=f.coefficients,S=b.length,B=new Int32Array(m+S-1);for(let L=0;L<m;L++){let Q=p[L];for(let W=0;W<S;W++)B[L+W]=this.field.add(B[L+W],this.field.multiply(Q,b[W]))}return new ki(this.field,B)}negative(){let f=this.coefficients.length,p=new Int32Array(f);for(let m=0;m<f;m++)p[m]=this.field.subtract(0,this.coefficients[m]);return new ki(this.field,p)}multiplyScalar(f){if(f===0)return new ki(this.field,new Int32Array([0]));if(f===1)return this;let p=this.coefficients.length,m=new Int32Array(p);for(let b=0;b<p;b++)m[b]=this.field.multiply(this.coefficients[b],f);return new ki(this.field,m)}multiplyByMonomial(f,p){if(f<0)throw new h;if(p===0)return new ki(this.field,new Int32Array([0]));let m=this.coefficients.length,b=new Int32Array(m+f);for(let S=0;S<m;S++)b[S]=this.field.multiply(this.coefficients[S],p);return new ki(this.field,b)}toString(){let f=new H;for(let p=this.getDegree();p>=0;p--){let m=this.getCoefficient(p);m!==0&&(m<0?(f.append(" - "),m=-m):f.length()>0&&f.append(" + "),(p===0||m!==1)&&f.append(m),p!==0&&(p===1?f.append("x"):(f.append("x^"),f.append(p))))}return f.toString()}}class he{add(f,p){return(f+p)%this.modulus}subtract(f,p){return(this.modulus+f-p)%this.modulus}exp(f){return this.expTable[f]}log(f){if(f===0)throw new h;return this.logTable[f]}inverse(f){if(f===0)throw new oe;return this.expTable[this.modulus-this.logTable[f]-1]}multiply(f,p){return f===0||p===0?0:this.expTable[(this.logTable[f]+this.logTable[p])%(this.modulus-1)]}getSize(){return this.modulus}equals(f){return f===this}}class Ge extends he{constructor(f,p){super(),this.modulus=f,this.expTable=new Int32Array(f),this.logTable=new Int32Array(f);let m=1;for(let b=0;b<f;b++)this.expTable[b]=m,m=m*p%f;for(let b=0;b<f-1;b++)this.logTable[this.expTable[b]]=b;this.zero=new ki(this,new Int32Array([0])),this.one=new ki(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(f,p){if(f<0)throw new h;if(p===0)return this.zero;let m=new Int32Array(f+1);return m[0]=p,new ki(this,m)}}Ge.PDF417_GF=new Ge(rn.NUMBER_OF_CODEWORDS,3);class st{constructor(){this.field=Ge.PDF417_GF}decode(f,p,m){let b=new ki(this.field,f),S=new Int32Array(p),B=!1;for(let Xe=p;Xe>0;Xe--){let Ye=b.evaluateAt(this.field.exp(Xe));S[p-Xe]=Ye,Ye!==0&&(B=!0)}if(!B)return 0;let L=this.field.getOne();if(m!=null)for(const Xe of m){let Ye=this.field.exp(f.length-1-Xe),ot=new ki(this.field,new Int32Array([this.field.subtract(0,Ye),1]));L=L.multiply(ot)}let Q=new ki(this.field,S),W=this.runEuclideanAlgorithm(this.field.buildMonomial(p,1),Q,p),se=W[0],ge=W[1],we=this.findErrorLocations(se),Qe=this.findErrorMagnitudes(ge,se,we);for(let Xe=0;Xe<we.length;Xe++){let Ye=f.length-1-this.field.log(we[Xe]);if(Ye<0)throw g.getChecksumInstance();f[Ye]=this.field.subtract(f[Ye],Qe[Xe])}return we.length}runEuclideanAlgorithm(f,p,m){if(f.getDegree()<p.getDegree()){let we=f;f=p,p=we}let b=f,S=p,B=this.field.getZero(),L=this.field.getOne();for(;S.getDegree()>=Math.round(m/2);){let we=b,Qe=B;if(b=S,B=L,b.isZero())throw g.getChecksumInstance();S=we;let Xe=this.field.getZero(),Ye=b.getCoefficient(b.getDegree()),ot=this.field.inverse(Ye);for(;S.getDegree()>=b.getDegree()&&!S.isZero();){let wt=S.getDegree()-b.getDegree(),Mt=this.field.multiply(S.getCoefficient(S.getDegree()),ot);Xe=Xe.add(this.field.buildMonomial(wt,Mt)),S=S.subtract(b.multiplyByMonomial(wt,Mt))}L=Xe.multiply(B).subtract(Qe).negative()}let Q=L.getCoefficient(0);if(Q===0)throw g.getChecksumInstance();let W=this.field.inverse(Q),se=L.multiply(W),ge=S.multiply(W);return[se,ge]}findErrorLocations(f){let p=f.getDegree(),m=new Int32Array(p),b=0;for(let S=1;S<this.field.getSize()&&b<p;S++)f.evaluateAt(S)===0&&(m[b]=this.field.inverse(S),b++);if(b!==p)throw g.getChecksumInstance();return m}findErrorMagnitudes(f,p,m){let b=p.getDegree(),S=new Int32Array(b);for(let W=1;W<=b;W++)S[b-W]=this.field.multiply(W,p.getCoefficient(W));let B=new ki(this.field,S),L=m.length,Q=new Int32Array(L);for(let W=0;W<L;W++){let se=this.field.inverse(m[W]),ge=this.field.subtract(0,f.evaluateAt(se)),we=this.field.inverse(B.evaluateAt(se));Q[W]=this.field.multiply(ge,we)}return Q}}class pt{constructor(f,p,m,b,S){f instanceof pt?this.constructor_2(f):this.constructor_1(f,p,m,b,S)}constructor_1(f,p,m,b,S){const B=p==null||m==null,L=b==null||S==null;if(B&&L)throw new Y;B?(p=new ze(0,b.getY()),m=new ze(0,S.getY())):L&&(b=new ze(f.getWidth()-1,p.getY()),S=new ze(f.getWidth()-1,m.getY())),this.image=f,this.topLeft=p,this.bottomLeft=m,this.topRight=b,this.bottomRight=S,this.minX=Math.trunc(Math.min(p.getX(),m.getX())),this.maxX=Math.trunc(Math.max(b.getX(),S.getX())),this.minY=Math.trunc(Math.min(p.getY(),b.getY())),this.maxY=Math.trunc(Math.max(m.getY(),S.getY()))}constructor_2(f){this.image=f.image,this.topLeft=f.getTopLeft(),this.bottomLeft=f.getBottomLeft(),this.topRight=f.getTopRight(),this.bottomRight=f.getBottomRight(),this.minX=f.getMinX(),this.maxX=f.getMaxX(),this.minY=f.getMinY(),this.maxY=f.getMaxY()}static merge(f,p){return f==null?p:p==null?f:new pt(f.image,f.topLeft,f.bottomLeft,p.topRight,p.bottomRight)}addMissingRows(f,p,m){let b=this.topLeft,S=this.bottomLeft,B=this.topRight,L=this.bottomRight;if(f>0){let Q=m?this.topLeft:this.topRight,W=Math.trunc(Q.getY()-f);W<0&&(W=0);let se=new ze(Q.getX(),W);m?b=se:B=se}if(p>0){let Q=m?this.bottomLeft:this.bottomRight,W=Math.trunc(Q.getY()+p);W>=this.image.getHeight()&&(W=this.image.getHeight()-1);let se=new ze(Q.getX(),W);m?S=se:L=se}return new pt(this.image,b,S,B,L)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class fr{constructor(f,p,m,b){this.columnCount=f,this.errorCorrectionLevel=b,this.rowCountUpperPart=p,this.rowCountLowerPart=m,this.rowCount=p+m}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ur{constructor(){this.buffer=""}static form(f,p){let m=-1;function b(B,L,Q,W,se,ge){if(B==="%%")return"%";if(p[++m]===void 0)return;B=W?parseInt(W.substr(1)):void 0;let we=se?parseInt(se.substr(1)):void 0,Qe;switch(ge){case"s":Qe=p[m];break;case"c":Qe=p[m][0];break;case"f":Qe=parseFloat(p[m]).toFixed(B);break;case"p":Qe=parseFloat(p[m]).toPrecision(B);break;case"e":Qe=parseFloat(p[m]).toExponential(B);break;case"x":Qe=parseInt(p[m]).toString(we||16);break;case"d":Qe=parseFloat(parseInt(p[m],we||10).toPrecision(B)).toFixed(0);break}Qe=typeof Qe=="object"?JSON.stringify(Qe):(+Qe).toString(we);let Xe=parseInt(Q),Ye=Q&&Q[0]+""=="0"?"0":" ";for(;Qe.length<Xe;)Qe=L!==void 0?Qe+Ye:Ye+Qe;return Qe}let S=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return f.replace(S,b)}format(f,...p){this.buffer+=ur.form(f,p)}toString(){return this.buffer}}class dr{constructor(f){this.boundingBox=new pt(f),this.codewords=new Array(f.getMaxY()-f.getMinY()+1)}getCodewordNearby(f){let p=this.getCodeword(f);if(p!=null)return p;for(let m=1;m<dr.MAX_NEARBY_DISTANCE;m++){let b=this.imageRowToCodewordIndex(f)-m;if(b>=0&&(p=this.codewords[b],p!=null)||(b=this.imageRowToCodewordIndex(f)+m,b<this.codewords.length&&(p=this.codewords[b],p!=null)))return p}return null}imageRowToCodewordIndex(f){return f-this.boundingBox.getMinY()}setCodeword(f,p){this.codewords[this.imageRowToCodewordIndex(f)]=p}getCodeword(f){return this.codewords[this.imageRowToCodewordIndex(f)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const f=new ur;let p=0;for(const m of this.codewords){if(m==null){f.format("%3d:    |   %n",p++);continue}f.format("%3d: %3d|%3d%n",p++,m.getRowNumber(),m.getValue())}return f.toString()}}dr.MAX_NEARBY_DISTANCE=5;class lr{constructor(){this.values=new Map}setValue(f){f=Math.trunc(f);let p=this.values.get(f);p==null&&(p=0),p++,this.values.set(f,p)}getValue(){let f=-1,p=new Array;for(const[m,b]of this.values.entries()){const S={getKey:()=>m,getValue:()=>b};S.getValue()>f?(f=S.getValue(),p=[],p.push(S.getKey())):S.getValue()===f&&p.push(S.getKey())}return rn.toIntArray(p)}getConfidence(f){return this.values.get(f)}}class Wr extends dr{constructor(f,p){super(f),this._isLeft=p}setRowNumbers(){for(let f of this.getCodewords())f!=null&&f.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(f){let p=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(p,f);let m=this.getBoundingBox(),b=this._isLeft?m.getTopLeft():m.getTopRight(),S=this._isLeft?m.getBottomLeft():m.getBottomRight(),B=this.imageRowToCodewordIndex(Math.trunc(b.getY())),L=this.imageRowToCodewordIndex(Math.trunc(S.getY())),Q=-1,W=1,se=0;for(let ge=B;ge<L;ge++){if(p[ge]==null)continue;let we=p[ge],Qe=we.getRowNumber()-Q;if(Qe===0)se++;else if(Qe===1)W=Math.max(W,se),se=1,Q=we.getRowNumber();else if(Qe<0||we.getRowNumber()>=f.getRowCount()||Qe>ge)p[ge]=null;else{let Xe;W>2?Xe=(W-2)*Qe:Xe=Qe;let Ye=Xe>=ge;for(let ot=1;ot<=Xe&&!Ye;ot++)Ye=p[ge-ot]!=null;Ye?p[ge]=null:(Q=we.getRowNumber(),se=1)}}}getRowHeights(){let f=this.getBarcodeMetadata();if(f==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(f);let p=new Int32Array(f.getRowCount());for(let m of this.getCodewords())if(m!=null){let b=m.getRowNumber();if(b>=p.length)continue;p[b]++}return p}adjustIncompleteIndicatorColumnRowNumbers(f){let p=this.getBoundingBox(),m=this._isLeft?p.getTopLeft():p.getTopRight(),b=this._isLeft?p.getBottomLeft():p.getBottomRight(),S=this.imageRowToCodewordIndex(Math.trunc(m.getY())),B=this.imageRowToCodewordIndex(Math.trunc(b.getY())),L=this.getCodewords(),Q=-1;for(let W=S;W<B;W++){if(L[W]==null)continue;let se=L[W];se.setRowNumberAsRowIndicatorColumn();let ge=se.getRowNumber()-Q;ge===0||(ge===1?Q=se.getRowNumber():se.getRowNumber()>=f.getRowCount()?L[W]=null:Q=se.getRowNumber())}}getBarcodeMetadata(){let f=this.getCodewords(),p=new lr,m=new lr,b=new lr,S=new lr;for(let L of f){if(L==null)continue;L.setRowNumberAsRowIndicatorColumn();let Q=L.getValue()%30,W=L.getRowNumber();switch(this._isLeft||(W+=2),W%3){case 0:m.setValue(Q*3+1);break;case 1:S.setValue(Q/3),b.setValue(Q%3);break;case 2:p.setValue(Q+1);break}}if(p.getValue().length===0||m.getValue().length===0||b.getValue().length===0||S.getValue().length===0||p.getValue()[0]<1||m.getValue()[0]+b.getValue()[0]<rn.MIN_ROWS_IN_BARCODE||m.getValue()[0]+b.getValue()[0]>rn.MAX_ROWS_IN_BARCODE)return null;let B=new fr(p.getValue()[0],m.getValue()[0],b.getValue()[0],S.getValue()[0]);return this.removeIncorrectCodewords(f,B),B}removeIncorrectCodewords(f,p){for(let m=0;m<f.length;m++){let b=f[m];if(f[m]==null)continue;let S=b.getValue()%30,B=b.getRowNumber();if(B>p.getRowCount()){f[m]=null;continue}switch(this._isLeft||(B+=2),B%3){case 0:S*3+1!==p.getRowCountUpperPart()&&(f[m]=null);break;case 1:(Math.trunc(S/3)!==p.getErrorCorrectionLevel()||S%3!==p.getRowCountLowerPart())&&(f[m]=null);break;case 2:S+1!==p.getColumnCount()&&(f[m]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class vn{constructor(f,p){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=f,this.barcodeColumnCount=f.getColumnCount(),this.boundingBox=p,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let f=rn.MAX_CODEWORDS_IN_BARCODE,p;do p=f,f=this.adjustRowNumbersAndGetCount();while(f>0&&f<p);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(f){f!=null&&f.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let f=this.adjustRowNumbersByRow();if(f===0)return 0;for(let p=1;p<this.barcodeColumnCount+1;p++){let m=this.detectionResultColumns[p].getCodewords();for(let b=0;b<m.length;b++)m[b]!=null&&(m[b].hasValidRowNumber()||this.adjustRowNumbers(p,b,m))}return f}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let f=this.detectionResultColumns[0].getCodewords(),p=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let m=0;m<f.length;m++)if(f[m]!=null&&p[m]!=null&&f[m].getRowNumber()===p[m].getRowNumber())for(let b=1;b<=this.barcodeColumnCount;b++){let S=this.detectionResultColumns[b].getCodewords()[m];S!=null&&(S.setRowNumber(f[m].getRowNumber()),S.hasValidRowNumber()||(this.detectionResultColumns[b].getCodewords()[m]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let f=0,p=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let m=0;m<p.length;m++){if(p[m]==null)continue;let b=p[m].getRowNumber(),S=0;for(let B=this.barcodeColumnCount+1;B>0&&S<this.ADJUST_ROW_NUMBER_SKIP;B--){let L=this.detectionResultColumns[B].getCodewords()[m];L!=null&&(S=vn.adjustRowNumberIfValid(b,S,L),L.hasValidRowNumber()||f++)}}return f}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let f=0,p=this.detectionResultColumns[0].getCodewords();for(let m=0;m<p.length;m++){if(p[m]==null)continue;let b=p[m].getRowNumber(),S=0;for(let B=1;B<this.barcodeColumnCount+1&&S<this.ADJUST_ROW_NUMBER_SKIP;B++){let L=this.detectionResultColumns[B].getCodewords()[m];L!=null&&(S=vn.adjustRowNumberIfValid(b,S,L),L.hasValidRowNumber()||f++)}}return f}static adjustRowNumberIfValid(f,p,m){return m==null||m.hasValidRowNumber()||(m.isValidRowNumber(f)?(m.setRowNumber(f),p=0):++p),p}adjustRowNumbers(f,p,m){if(!this.detectionResultColumns[f-1])return;let b=m[p],S=this.detectionResultColumns[f-1].getCodewords(),B=S;this.detectionResultColumns[f+1]!=null&&(B=this.detectionResultColumns[f+1].getCodewords());let L=new Array(14);L[2]=S[p],L[3]=B[p],p>0&&(L[0]=m[p-1],L[4]=S[p-1],L[5]=B[p-1]),p>1&&(L[8]=m[p-2],L[10]=S[p-2],L[11]=B[p-2]),p<m.length-1&&(L[1]=m[p+1],L[6]=S[p+1],L[7]=B[p+1]),p<m.length-2&&(L[9]=m[p+2],L[12]=S[p+2],L[13]=B[p+2]);for(let Q of L)if(vn.adjustRowNumber(b,Q))return}static adjustRowNumber(f,p){return p==null?!1:p.hasValidRowNumber()&&p.getBucket()===f.getBucket()?(f.setRowNumber(p.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(f){this.boundingBox=f}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(f,p){this.detectionResultColumns[f]=p}getDetectionResultColumn(f){return this.detectionResultColumns[f]}toString(){let f=this.detectionResultColumns[0];f==null&&(f=this.detectionResultColumns[this.barcodeColumnCount+1]);let p=new ur;for(let m=0;m<f.getCodewords().length;m++){p.format("CW %3d:",m);for(let b=0;b<this.barcodeColumnCount+2;b++){if(this.detectionResultColumns[b]==null){p.format("    |   ");continue}let S=this.detectionResultColumns[b].getCodewords()[m];if(S==null){p.format("    |   ");continue}p.format(" %3d|%3d",S.getRowNumber(),S.getValue())}p.format("%n")}return p.toString()}}class Hn{constructor(f,p,m,b){this.rowNumber=Hn.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(f),this.endX=Math.trunc(p),this.bucket=Math.trunc(m),this.value=Math.trunc(b)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(f){return f!==Hn.BARCODE_ROW_UNKNOWN&&this.bucket===f%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(f){this.rowNumber=f}toString(){return this.rowNumber+"|"+this.value}}Hn.BARCODE_ROW_UNKNOWN=-1;class wr{static initialize(){for(let f=0;f<rn.SYMBOL_TABLE.length;f++){let p=rn.SYMBOL_TABLE[f],m=p&1;for(let b=0;b<rn.BARS_IN_MODULE;b++){let S=0;for(;(p&1)===m;)S+=1,p>>=1;m=p&1,wr.RATIOS_TABLE[f]||(wr.RATIOS_TABLE[f]=new Array(rn.BARS_IN_MODULE)),wr.RATIOS_TABLE[f][rn.BARS_IN_MODULE-b-1]=Math.fround(S/rn.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(f){let p=wr.getDecodedCodewordValue(wr.sampleBitCounts(f));return p!==-1?p:wr.getClosestDecodedValue(f)}static sampleBitCounts(f){let p=Te.sum(f),m=new Int32Array(rn.BARS_IN_MODULE),b=0,S=0;for(let B=0;B<rn.MODULES_IN_CODEWORD;B++){let L=p/(2*rn.MODULES_IN_CODEWORD)+B*p/rn.MODULES_IN_CODEWORD;S+f[b]<=L&&(S+=f[b],b++),m[b]++}return m}static getDecodedCodewordValue(f){let p=wr.getBitValue(f);return rn.getCodeword(p)===-1?-1:p}static getBitValue(f){let p=0;for(let m=0;m<f.length;m++)for(let b=0;b<f[m];b++)p=p<<1|(m%2===0?1:0);return Math.trunc(p)}static getClosestDecodedValue(f){let p=Te.sum(f),m=new Array(rn.BARS_IN_MODULE);if(p>1)for(let B=0;B<m.length;B++)m[B]=Math.fround(f[B]/p);let b=Ze.MAX_VALUE,S=-1;this.bSymbolTableReady||wr.initialize();for(let B=0;B<wr.RATIOS_TABLE.length;B++){let L=0,Q=wr.RATIOS_TABLE[B];for(let W=0;W<rn.BARS_IN_MODULE;W++){let se=Math.fround(Q[W]-m[W]);if(L+=Math.fround(se*se),L>=b)break}L<b&&(b=L,S=rn.SYMBOL_TABLE[B])}return S}}wr.bSymbolTableReady=!1,wr.RATIOS_TABLE=new Array(rn.SYMBOL_TABLE.length).map(pe=>new Array(rn.BARS_IN_MODULE));class ji{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(f){this.segmentIndex=f}getFileId(){return this.fileId}setFileId(f){this.fileId=f}getOptionalData(){return this.optionalData}setOptionalData(f){this.optionalData=f}isLastSegment(){return this.lastSegment}setLastSegment(f){this.lastSegment=f}getSegmentCount(){return this.segmentCount}setSegmentCount(f){this.segmentCount=f}getSender(){return this.sender||null}setSender(f){this.sender=f}getAddressee(){return this.addressee||null}setAddressee(f){this.addressee=f}getFileName(){return this.fileName}setFileName(f){this.fileName=f}getFileSize(){return this.fileSize}setFileSize(f){this.fileSize=f}getChecksum(){return this.checksum}setChecksum(f){this.checksum=f}getTimestamp(){return this.timestamp}setTimestamp(f){this.timestamp=f}}class Ni{static parseLong(f,p=void 0){return parseInt(f,p)}}class $n extends u{}$n.kind="NullPointerException";class Pi{writeBytes(f){this.writeBytesOffset(f,0,f.length)}writeBytesOffset(f,p,m){if(f==null)throw new $n;if(p<0||p>f.length||m<0||p+m>f.length||p+m<0)throw new y;if(m===0)return;for(let b=0;b<m;b++)this.write(f[p+b])}flush(){}close(){}}class ti extends u{}class qs extends Pi{constructor(f=32){if(super(),this.count=0,f<0)throw new h("Negative initial size: "+f);this.buf=new Uint8Array(f)}ensureCapacity(f){f-this.buf.length>0&&this.grow(f)}grow(f){let m=this.buf.length<<1;if(m-f<0&&(m=f),m<0){if(f<0)throw new ti;m=E.MAX_VALUE}this.buf=_.copyOfUint8Array(this.buf,m)}write(f){this.ensureCapacity(this.count+1),this.buf[this.count]=f,this.count+=1}writeBytesOffset(f,p,m){if(p<0||p>f.length||m<0||p+m-f.length>0)throw new y;this.ensureCapacity(this.count+m),x.arraycopy(f,p,this.buf,this.count,m),this.count+=m}writeTo(f){f.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return _.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(f){return f?typeof f=="string"?this.toString_string(f):this.toString_number(f):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(f){return new String(this.buf).toString()}toString_number(f){return new String(this.buf).toString()}close(){}}var yn;(function(pe){pe[pe.ALPHA=0]="ALPHA",pe[pe.LOWER=1]="LOWER",pe[pe.MIXED=2]="MIXED",pe[pe.PUNCT=3]="PUNCT",pe[pe.ALPHA_SHIFT=4]="ALPHA_SHIFT",pe[pe.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(yn||(yn={}));function Wi(){if(typeof window<"u")return window.BigInt||null;if(typeof Zh<"u")return Zh.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ui;function Os(pe){if(typeof Ui>"u"&&(Ui=Wi()),Ui===null)throw new Error("BigInt is not supported!");return Ui(pe)}function Da(){let pe=[];pe[0]=Os(1);let f=Os(900);pe[1]=f;for(let p=2;p<16;p++)pe[p]=pe[p-1]*f;return pe}class dt{static decode(f,p){let m=new H(""),b=k.ISO8859_1;m.enableDecoding(b);let S=1,B=f[S++],L=new ji;for(;S<f[0];){switch(B){case dt.TEXT_COMPACTION_MODE_LATCH:S=dt.textCompaction(f,S,m);break;case dt.BYTE_COMPACTION_MODE_LATCH:case dt.BYTE_COMPACTION_MODE_LATCH_6:S=dt.byteCompaction(B,f,b,S,m);break;case dt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(f[S++]);break;case dt.NUMERIC_COMPACTION_MODE_LATCH:S=dt.numericCompaction(f,S,m);break;case dt.ECI_CHARSET:k.getCharacterSetECIByValue(f[S++]);break;case dt.ECI_GENERAL_PURPOSE:S+=2;break;case dt.ECI_USER_DEFINED:S++;break;case dt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:S=dt.decodeMacroBlock(f,S,L);break;case dt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case dt.MACRO_PDF417_TERMINATOR:throw new T;default:S--,S=dt.textCompaction(f,S,m);break}if(S<f.length)B=f[S++];else throw T.getFormatInstance()}if(m.length()===0)throw T.getFormatInstance();let Q=new ye(null,m.toString(),null,p);return Q.setOther(L),Q}static decodeMacroBlock(f,p,m){if(p+dt.NUMBER_OF_SEQUENCE_CODEWORDS>f[0])throw T.getFormatInstance();let b=new Int32Array(dt.NUMBER_OF_SEQUENCE_CODEWORDS);for(let L=0;L<dt.NUMBER_OF_SEQUENCE_CODEWORDS;L++,p++)b[L]=f[p];m.setSegmentIndex(E.parseInt(dt.decodeBase900toBase10(b,dt.NUMBER_OF_SEQUENCE_CODEWORDS)));let S=new H;p=dt.textCompaction(f,p,S),m.setFileId(S.toString());let B=-1;for(f[p]===dt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(B=p+1);p<f[0];)switch(f[p]){case dt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(p++,f[p]){case dt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let L=new H;p=dt.textCompaction(f,p+1,L),m.setFileName(L.toString());break;case dt.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let Q=new H;p=dt.textCompaction(f,p+1,Q),m.setSender(Q.toString());break;case dt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let W=new H;p=dt.textCompaction(f,p+1,W),m.setAddressee(W.toString());break;case dt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let se=new H;p=dt.numericCompaction(f,p+1,se),m.setSegmentCount(E.parseInt(se.toString()));break;case dt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let ge=new H;p=dt.numericCompaction(f,p+1,ge),m.setTimestamp(Ni.parseLong(ge.toString()));break;case dt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let we=new H;p=dt.numericCompaction(f,p+1,we),m.setChecksum(E.parseInt(we.toString()));break;case dt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Qe=new H;p=dt.numericCompaction(f,p+1,Qe),m.setFileSize(Ni.parseLong(Qe.toString()));break;default:throw T.getFormatInstance()}break;case dt.MACRO_PDF417_TERMINATOR:p++,m.setLastSegment(!0);break;default:throw T.getFormatInstance()}if(B!==-1){let L=p-B;m.isLastSegment()&&L--,m.setOptionalData(_.copyOfRange(f,B,B+L))}return p}static textCompaction(f,p,m){let b=new Int32Array((f[0]-p)*2),S=new Int32Array((f[0]-p)*2),B=0,L=!1;for(;p<f[0]&&!L;){let Q=f[p++];if(Q<dt.TEXT_COMPACTION_MODE_LATCH)b[B]=Q/30,b[B+1]=Q%30,B+=2;else switch(Q){case dt.TEXT_COMPACTION_MODE_LATCH:b[B++]=dt.TEXT_COMPACTION_MODE_LATCH;break;case dt.BYTE_COMPACTION_MODE_LATCH:case dt.BYTE_COMPACTION_MODE_LATCH_6:case dt.NUMERIC_COMPACTION_MODE_LATCH:case dt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case dt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case dt.MACRO_PDF417_TERMINATOR:p--,L=!0;break;case dt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:b[B]=dt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,Q=f[p++],S[B]=Q,B++;break}}return dt.decodeTextCompaction(b,S,B,m),p}static decodeTextCompaction(f,p,m,b){let S=yn.ALPHA,B=yn.ALPHA,L=0;for(;L<m;){let Q=f[L],W="";switch(S){case yn.ALPHA:if(Q<26)W=String.fromCharCode(65+Q);else switch(Q){case 26:W=" ";break;case dt.LL:S=yn.LOWER;break;case dt.ML:S=yn.MIXED;break;case dt.PS:B=S,S=yn.PUNCT_SHIFT;break;case dt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:b.append(p[L]);break;case dt.TEXT_COMPACTION_MODE_LATCH:S=yn.ALPHA;break}break;case yn.LOWER:if(Q<26)W=String.fromCharCode(97+Q);else switch(Q){case 26:W=" ";break;case dt.AS:B=S,S=yn.ALPHA_SHIFT;break;case dt.ML:S=yn.MIXED;break;case dt.PS:B=S,S=yn.PUNCT_SHIFT;break;case dt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:b.append(p[L]);break;case dt.TEXT_COMPACTION_MODE_LATCH:S=yn.ALPHA;break}break;case yn.MIXED:if(Q<dt.PL)W=dt.MIXED_CHARS[Q];else switch(Q){case dt.PL:S=yn.PUNCT;break;case 26:W=" ";break;case dt.LL:S=yn.LOWER;break;case dt.AL:S=yn.ALPHA;break;case dt.PS:B=S,S=yn.PUNCT_SHIFT;break;case dt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:b.append(p[L]);break;case dt.TEXT_COMPACTION_MODE_LATCH:S=yn.ALPHA;break}break;case yn.PUNCT:if(Q<dt.PAL)W=dt.PUNCT_CHARS[Q];else switch(Q){case dt.PAL:S=yn.ALPHA;break;case dt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:b.append(p[L]);break;case dt.TEXT_COMPACTION_MODE_LATCH:S=yn.ALPHA;break}break;case yn.ALPHA_SHIFT:if(S=B,Q<26)W=String.fromCharCode(65+Q);else switch(Q){case 26:W=" ";break;case dt.TEXT_COMPACTION_MODE_LATCH:S=yn.ALPHA;break}break;case yn.PUNCT_SHIFT:if(S=B,Q<dt.PAL)W=dt.PUNCT_CHARS[Q];else switch(Q){case dt.PAL:S=yn.ALPHA;break;case dt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:b.append(p[L]);break;case dt.TEXT_COMPACTION_MODE_LATCH:S=yn.ALPHA;break}break}W!==""&&b.append(W),L++}}static byteCompaction(f,p,m,b,S){let B=new qs,L=0,Q=0,W=!1;switch(f){case dt.BYTE_COMPACTION_MODE_LATCH:let se=new Int32Array(6),ge=p[b++];for(;b<p[0]&&!W;)switch(se[L++]=ge,Q=900*Q+ge,ge=p[b++],ge){case dt.TEXT_COMPACTION_MODE_LATCH:case dt.BYTE_COMPACTION_MODE_LATCH:case dt.NUMERIC_COMPACTION_MODE_LATCH:case dt.BYTE_COMPACTION_MODE_LATCH_6:case dt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case dt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case dt.MACRO_PDF417_TERMINATOR:b--,W=!0;break;default:if(L%5===0&&L>0){for(let we=0;we<6;++we)B.write(Number(Os(Q)>>Os(8*(5-we))));Q=0,L=0}break}b===p[0]&&ge<dt.TEXT_COMPACTION_MODE_LATCH&&(se[L++]=ge);for(let we=0;we<L;we++)B.write(se[we]);break;case dt.BYTE_COMPACTION_MODE_LATCH_6:for(;b<p[0]&&!W;){let we=p[b++];if(we<dt.TEXT_COMPACTION_MODE_LATCH)L++,Q=900*Q+we;else switch(we){case dt.TEXT_COMPACTION_MODE_LATCH:case dt.BYTE_COMPACTION_MODE_LATCH:case dt.NUMERIC_COMPACTION_MODE_LATCH:case dt.BYTE_COMPACTION_MODE_LATCH_6:case dt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case dt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case dt.MACRO_PDF417_TERMINATOR:b--,W=!0;break}if(L%5===0&&L>0){for(let Qe=0;Qe<6;++Qe)B.write(Number(Os(Q)>>Os(8*(5-Qe))));Q=0,L=0}}break}return S.append(O.decode(B.toByteArray(),m)),b}static numericCompaction(f,p,m){let b=0,S=!1,B=new Int32Array(dt.MAX_NUMERIC_CODEWORDS);for(;p<f[0]&&!S;){let L=f[p++];if(p===f[0]&&(S=!0),L<dt.TEXT_COMPACTION_MODE_LATCH)B[b]=L,b++;else switch(L){case dt.TEXT_COMPACTION_MODE_LATCH:case dt.BYTE_COMPACTION_MODE_LATCH:case dt.BYTE_COMPACTION_MODE_LATCH_6:case dt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case dt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case dt.MACRO_PDF417_TERMINATOR:p--,S=!0;break}(b%dt.MAX_NUMERIC_CODEWORDS===0||L===dt.NUMERIC_COMPACTION_MODE_LATCH||S)&&b>0&&(m.append(dt.decodeBase900toBase10(B,b)),b=0)}return p}static decodeBase900toBase10(f,p){let m=Os(0);for(let S=0;S<p;S++)m+=dt.EXP900[p-S-1]*Os(f[S]);let b=m.toString();if(b.charAt(0)!=="1")throw new T;return b.substring(1)}}dt.TEXT_COMPACTION_MODE_LATCH=900,dt.BYTE_COMPACTION_MODE_LATCH=901,dt.NUMERIC_COMPACTION_MODE_LATCH=902,dt.BYTE_COMPACTION_MODE_LATCH_6=924,dt.ECI_USER_DEFINED=925,dt.ECI_GENERAL_PURPOSE=926,dt.ECI_CHARSET=927,dt.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,dt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,dt.MACRO_PDF417_TERMINATOR=922,dt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,dt.MAX_NUMERIC_CODEWORDS=15,dt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,dt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,dt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,dt.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,dt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,dt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,dt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,dt.PL=25,dt.LL=27,dt.AS=27,dt.ML=28,dt.AL=28,dt.PS=29,dt.PAL=29,dt.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,dt.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",dt.EXP900=Wi()?Da():[],dt.NUMBER_OF_SEQUENCE_CODEWORDS=2;class G{constructor(){}static decode(f,p,m,b,S,B,L){let Q=new pt(f,p,m,b,S),W=null,se=null,ge;for(let Xe=!0;;Xe=!1){if(p!=null&&(W=G.getRowIndicatorColumn(f,Q,p,!0,B,L)),b!=null&&(se=G.getRowIndicatorColumn(f,Q,b,!1,B,L)),ge=G.merge(W,se),ge==null)throw Y.getNotFoundInstance();let Ye=ge.getBoundingBox();if(Xe&&Ye!=null&&(Ye.getMinY()<Q.getMinY()||Ye.getMaxY()>Q.getMaxY()))Q=Ye;else break}ge.setBoundingBox(Q);let we=ge.getBarcodeColumnCount()+1;ge.setDetectionResultColumn(0,W),ge.setDetectionResultColumn(we,se);let Qe=W!=null;for(let Xe=1;Xe<=we;Xe++){let Ye=Qe?Xe:we-Xe;if(ge.getDetectionResultColumn(Ye)!==void 0)continue;let ot;Ye===0||Ye===we?ot=new Wr(Q,Ye===0):ot=new dr(Q),ge.setDetectionResultColumn(Ye,ot);let wt=-1,Mt=wt;for(let zt=Q.getMinY();zt<=Q.getMaxY();zt++){if(wt=G.getStartColumn(ge,Ye,zt,Qe),wt<0||wt>Q.getMaxX()){if(Mt===-1)continue;wt=Mt}let Ht=G.detectCodeword(f,Q.getMinX(),Q.getMaxX(),Qe,wt,zt,B,L);Ht!=null&&(ot.setCodeword(zt,Ht),Mt=wt,B=Math.min(B,Ht.getWidth()),L=Math.max(L,Ht.getWidth()))}}return G.createDecoderResult(ge)}static merge(f,p){if(f==null&&p==null)return null;let m=G.getBarcodeMetadata(f,p);if(m==null)return null;let b=pt.merge(G.adjustBoundingBox(f),G.adjustBoundingBox(p));return new vn(m,b)}static adjustBoundingBox(f){if(f==null)return null;let p=f.getRowHeights();if(p==null)return null;let m=G.getMax(p),b=0;for(let L of p)if(b+=m-L,L>0)break;let S=f.getCodewords();for(let L=0;b>0&&S[L]==null;L++)b--;let B=0;for(let L=p.length-1;L>=0&&(B+=m-p[L],!(p[L]>0));L--);for(let L=S.length-1;B>0&&S[L]==null;L--)B--;return f.getBoundingBox().addMissingRows(b,B,f.isLeft())}static getMax(f){let p=-1;for(let m of f)p=Math.max(p,m);return p}static getBarcodeMetadata(f,p){let m;if(f==null||(m=f.getBarcodeMetadata())==null)return p==null?null:p.getBarcodeMetadata();let b;return p==null||(b=p.getBarcodeMetadata())==null?m:m.getColumnCount()!==b.getColumnCount()&&m.getErrorCorrectionLevel()!==b.getErrorCorrectionLevel()&&m.getRowCount()!==b.getRowCount()?null:m}static getRowIndicatorColumn(f,p,m,b,S,B){let L=new Wr(p,b);for(let Q=0;Q<2;Q++){let W=Q===0?1:-1,se=Math.trunc(Math.trunc(m.getX()));for(let ge=Math.trunc(Math.trunc(m.getY()));ge<=p.getMaxY()&&ge>=p.getMinY();ge+=W){let we=G.detectCodeword(f,0,f.getWidth(),b,se,ge,S,B);we!=null&&(L.setCodeword(ge,we),b?se=we.getStartX():se=we.getEndX())}}return L}static adjustCodewordCount(f,p){let m=p[0][1],b=m.getValue(),S=f.getBarcodeColumnCount()*f.getBarcodeRowCount()-G.getNumberOfECCodeWords(f.getBarcodeECLevel());if(b.length===0){if(S<1||S>rn.MAX_CODEWORDS_IN_BARCODE)throw Y.getNotFoundInstance();m.setValue(S)}else b[0]!==S&&m.setValue(S)}static createDecoderResult(f){let p=G.createBarcodeMatrix(f);G.adjustCodewordCount(f,p);let m=new Array,b=new Int32Array(f.getBarcodeRowCount()*f.getBarcodeColumnCount()),S=[],B=new Array;for(let Q=0;Q<f.getBarcodeRowCount();Q++)for(let W=0;W<f.getBarcodeColumnCount();W++){let se=p[Q][W+1].getValue(),ge=Q*f.getBarcodeColumnCount()+W;se.length===0?m.push(ge):se.length===1?b[ge]=se[0]:(B.push(ge),S.push(se))}let L=new Array(S.length);for(let Q=0;Q<L.length;Q++)L[Q]=S[Q];return G.createDecoderResultFromAmbiguousValues(f.getBarcodeECLevel(),b,rn.toIntArray(m),rn.toIntArray(B),L)}static createDecoderResultFromAmbiguousValues(f,p,m,b,S){let B=new Int32Array(b.length),L=100;for(;L-- >0;){for(let Q=0;Q<B.length;Q++)p[b[Q]]=S[Q][B[Q]];try{return G.decodeCodewords(p,f,m)}catch(Q){if(!(Q instanceof g))throw Q}if(B.length===0)throw g.getChecksumInstance();for(let Q=0;Q<B.length;Q++)if(B[Q]<S[Q].length-1){B[Q]++;break}else if(B[Q]=0,Q===B.length-1)throw g.getChecksumInstance()}throw g.getChecksumInstance()}static createBarcodeMatrix(f){let p=Array.from({length:f.getBarcodeRowCount()},()=>new Array(f.getBarcodeColumnCount()+2));for(let b=0;b<p.length;b++)for(let S=0;S<p[b].length;S++)p[b][S]=new lr;let m=0;for(let b of f.getDetectionResultColumns()){if(b!=null){for(let S of b.getCodewords())if(S!=null){let B=S.getRowNumber();if(B>=0){if(B>=p.length)continue;p[B][m].setValue(S.getValue())}}}m++}return p}static isValidBarcodeColumn(f,p){return p>=0&&p<=f.getBarcodeColumnCount()+1}static getStartColumn(f,p,m,b){let S=b?1:-1,B=null;if(G.isValidBarcodeColumn(f,p-S)&&(B=f.getDetectionResultColumn(p-S).getCodeword(m)),B!=null)return b?B.getEndX():B.getStartX();if(B=f.getDetectionResultColumn(p).getCodewordNearby(m),B!=null)return b?B.getStartX():B.getEndX();if(G.isValidBarcodeColumn(f,p-S)&&(B=f.getDetectionResultColumn(p-S).getCodewordNearby(m)),B!=null)return b?B.getEndX():B.getStartX();let L=0;for(;G.isValidBarcodeColumn(f,p-S);){p-=S;for(let Q of f.getDetectionResultColumn(p).getCodewords())if(Q!=null)return(b?Q.getEndX():Q.getStartX())+S*L*(Q.getEndX()-Q.getStartX());L++}return b?f.getBoundingBox().getMinX():f.getBoundingBox().getMaxX()}static detectCodeword(f,p,m,b,S,B,L,Q){S=G.adjustCodewordStartColumn(f,p,m,b,S,B);let W=G.getModuleBitCount(f,p,m,b,S,B);if(W==null)return null;let se,ge=Te.sum(W);if(b)se=S+ge;else{for(let Xe=0;Xe<W.length/2;Xe++){let Ye=W[Xe];W[Xe]=W[W.length-1-Xe],W[W.length-1-Xe]=Ye}se=S,S=se-ge}if(!G.checkCodewordSkew(ge,L,Q))return null;let we=wr.getDecodedValue(W),Qe=rn.getCodeword(we);return Qe===-1?null:new Hn(S,se,G.getCodewordBucketNumber(we),Qe)}static getModuleBitCount(f,p,m,b,S,B){let L=S,Q=new Int32Array(8),W=0,se=b?1:-1,ge=b;for(;(b?L<m:L>=p)&&W<Q.length;)f.get(L,B)===ge?(Q[W]++,L+=se):(W++,ge=!ge);return W===Q.length||L===(b?m:p)&&W===Q.length-1?Q:null}static getNumberOfECCodeWords(f){return 2<<f}static adjustCodewordStartColumn(f,p,m,b,S,B){let L=S,Q=b?-1:1;for(let W=0;W<2;W++){for(;(b?L>=p:L<m)&&b===f.get(L,B);){if(Math.abs(S-L)>G.CODEWORD_SKEW_SIZE)return S;L+=Q}Q=-Q,b=!b}return L}static checkCodewordSkew(f,p,m){return p-G.CODEWORD_SKEW_SIZE<=f&&f<=m+G.CODEWORD_SKEW_SIZE}static decodeCodewords(f,p,m){if(f.length===0)throw T.getFormatInstance();let b=1<<p+1,S=G.correctErrors(f,m,b);G.verifyCodewordCount(f,b);let B=dt.decode(f,""+p);return B.setErrorsCorrected(S),B.setErasures(m.length),B}static correctErrors(f,p,m){if(p!=null&&p.length>m/2+G.MAX_ERRORS||m<0||m>G.MAX_EC_CODEWORDS)throw g.getChecksumInstance();return G.errorCorrection.decode(f,m,p)}static verifyCodewordCount(f,p){if(f.length<4)throw T.getFormatInstance();let m=f[0];if(m>f.length)throw T.getFormatInstance();if(m===0)if(p<f.length)f[0]=f.length-p;else throw T.getFormatInstance()}static getBitCountForCodeword(f){let p=new Int32Array(8),m=0,b=p.length-1;for(;!((f&1)!==m&&(m=f&1,b--,b<0));)p[b]++,f>>=1;return p}static getCodewordBucketNumber(f){return f instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(f):this.getCodewordBucketNumber_number(f)}static getCodewordBucketNumber_number(f){return G.getCodewordBucketNumber(G.getBitCountForCodeword(f))}static getCodewordBucketNumber_Int32Array(f){return(f[0]-f[2]+f[4]-f[6]+9)%9}static toString(f){let p=new ur;for(let m=0;m<f.length;m++){p.format("Row %2d: ",m);for(let b=0;b<f[m].length;b++){let S=f[m][b];S.getValue().length===0?p.format("        ",null):p.format("%4d(%2d)",S.getValue()[0],S.getConfidence(S.getValue()[0]))}p.format("%n")}return p.toString()}}G.CODEWORD_SKEW_SIZE=2,G.MAX_ERRORS=3,G.MAX_EC_CODEWORDS=512,G.errorCorrection=new st;class fe{decode(f,p=null){let m=fe.decode(f,p,!1);if(m==null||m.length===0||m[0]==null)throw Y.getNotFoundInstance();return m[0]}decodeMultiple(f,p=null){try{return fe.decode(f,p,!0)}catch(m){throw m instanceof T||m instanceof g?Y.getNotFoundInstance():m}}static decode(f,p,m){const b=new Array,S=on.detectMultiple(f,p,m);for(const B of S.getPoints()){const L=G.decode(S.getBits(),B[4],B[5],B[6],B[7],fe.getMinCodewordWidth(B),fe.getMaxCodewordWidth(B)),Q=new ee(L.getText(),L.getRawBytes(),void 0,B,de.PDF_417);Q.putMetadata(_e.ERROR_CORRECTION_LEVEL,L.getECLevel());const W=L.getOther();W!=null&&Q.putMetadata(_e.PDF417_EXTRA_METADATA,W),b.push(Q)}return b.map(B=>B)}static getMaxWidth(f,p){return f==null||p==null?0:Math.trunc(Math.abs(f.getX()-p.getX()))}static getMinWidth(f,p){return f==null||p==null?E.MAX_VALUE:Math.trunc(Math.abs(f.getX()-p.getX()))}static getMaxCodewordWidth(f){return Math.floor(Math.max(Math.max(fe.getMaxWidth(f[0],f[4]),fe.getMaxWidth(f[6],f[2])*rn.MODULES_IN_CODEWORD/rn.MODULES_IN_STOP_PATTERN),Math.max(fe.getMaxWidth(f[1],f[5]),fe.getMaxWidth(f[7],f[3])*rn.MODULES_IN_CODEWORD/rn.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(f){return Math.floor(Math.min(Math.min(fe.getMinWidth(f[0],f[4]),fe.getMinWidth(f[6],f[2])*rn.MODULES_IN_CODEWORD/rn.MODULES_IN_STOP_PATTERN),Math.min(fe.getMinWidth(f[1],f[5]),fe.getMinWidth(f[7],f[3])*rn.MODULES_IN_CODEWORD/rn.MODULES_IN_STOP_PATTERN)))}reset(){}}class Oe extends u{}Oe.kind="ReaderException";class qe{constructor(f,p){this.verbose=f===!0,p&&this.setHints(p)}decode(f,p){return p&&this.setHints(p),this.decodeInternal(f)}decodeWithState(f){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(f)}setHints(f){this.hints=f;const p=!n(f)&&f.get(j.TRY_HARDER)===!0,m=n(f)?null:f.get(j.POSSIBLE_FORMATS),b=new Array;if(!n(m)){const S=m.some(B=>B===de.UPC_A||B===de.UPC_E||B===de.EAN_13||B===de.EAN_8||B===de.CODABAR||B===de.CODE_39||B===de.CODE_93||B===de.CODE_128||B===de.ITF||B===de.RSS_14||B===de.RSS_EXPANDED);S&&!p&&b.push(new oa(f,this.verbose)),m.includes(de.QR_CODE)&&b.push(new yo),m.includes(de.DATA_MATRIX)&&b.push(new Oa),m.includes(de.AZTEC)&&b.push(new qt),m.includes(de.PDF_417)&&b.push(new fe),S&&p&&b.push(new oa(f,this.verbose))}b.length===0&&(p||b.push(new oa(f,this.verbose)),b.push(new yo),b.push(new Oa),b.push(new qt),b.push(new fe),p&&b.push(new oa(f,this.verbose))),this.readers=b}reset(){if(this.readers!==null)for(const f of this.readers)f.reset()}decodeInternal(f){if(this.readers===null)throw new Oe("No readers where selected, nothing can be read.");for(const p of this.readers)try{return p.decode(f,this.hints)}catch(m){if(m instanceof Oe)continue}throw new Y("No MultiFormat Readers were able to detect the code.")}}class nt extends q{constructor(f=null,p=500){const m=new qe;m.setHints(f),super(m,p)}decodeBitmap(f){return this.reader.decodeWithState(f)}}class Pt extends q{constructor(f=500){super(new fe,f)}}class Xt extends q{constructor(f=500){super(new yo,f)}}var Rr;(function(pe){pe[pe.ERROR_CORRECTION=0]="ERROR_CORRECTION",pe[pe.CHARACTER_SET=1]="CHARACTER_SET",pe[pe.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",pe[pe.MIN_SIZE=3]="MIN_SIZE",pe[pe.MAX_SIZE=4]="MAX_SIZE",pe[pe.MARGIN=5]="MARGIN",pe[pe.PDF417_COMPACT=6]="PDF417_COMPACT",pe[pe.PDF417_COMPACTION=7]="PDF417_COMPACTION",pe[pe.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",pe[pe.AZTEC_LAYERS=9]="AZTEC_LAYERS",pe[pe.QR_VERSION=10]="QR_VERSION"})(Rr||(Rr={}));var _r=Rr;class dn{constructor(f){this.field=f,this.cachedGenerators=[],this.cachedGenerators.push(new Ne(f,Int32Array.from([1])))}buildGenerator(f){const p=this.cachedGenerators;if(f>=p.length){let m=p[p.length-1];const b=this.field;for(let S=p.length;S<=f;S++){const B=m.multiply(new Ne(b,Int32Array.from([1,b.exp(S-1+b.getGeneratorBase())])));p.push(B),m=B}}return p[f]}encode(f,p){if(p===0)throw new h("No error correction bytes");const m=f.length-p;if(m<=0)throw new h("No data bytes provided");const b=this.buildGenerator(p),S=new Int32Array(m);x.arraycopy(f,0,S,0,m);let B=new Ne(this.field,S);B=B.multiplyByMonomial(p,1);const Q=B.divide(b)[1].getCoefficients(),W=p-Q.length;for(let se=0;se<W;se++)f[m+se]=0;x.arraycopy(Q,0,f,m+W,Q.length)}}class Ir{constructor(){}static applyMaskPenaltyRule1(f){return Ir.applyMaskPenaltyRule1Internal(f,!0)+Ir.applyMaskPenaltyRule1Internal(f,!1)}static applyMaskPenaltyRule2(f){let p=0;const m=f.getArray(),b=f.getWidth(),S=f.getHeight();for(let B=0;B<S-1;B++){const L=m[B];for(let Q=0;Q<b-1;Q++){const W=L[Q];W===L[Q+1]&&W===m[B+1][Q]&&W===m[B+1][Q+1]&&p++}}return Ir.N2*p}static applyMaskPenaltyRule3(f){let p=0;const m=f.getArray(),b=f.getWidth(),S=f.getHeight();for(let B=0;B<S;B++)for(let L=0;L<b;L++){const Q=m[B];L+6<b&&Q[L]===1&&Q[L+1]===0&&Q[L+2]===1&&Q[L+3]===1&&Q[L+4]===1&&Q[L+5]===0&&Q[L+6]===1&&(Ir.isWhiteHorizontal(Q,L-4,L)||Ir.isWhiteHorizontal(Q,L+7,L+11))&&p++,B+6<S&&m[B][L]===1&&m[B+1][L]===0&&m[B+2][L]===1&&m[B+3][L]===1&&m[B+4][L]===1&&m[B+5][L]===0&&m[B+6][L]===1&&(Ir.isWhiteVertical(m,L,B-4,B)||Ir.isWhiteVertical(m,L,B+7,B+11))&&p++}return p*Ir.N3}static isWhiteHorizontal(f,p,m){p=Math.max(p,0),m=Math.min(m,f.length);for(let b=p;b<m;b++)if(f[b]===1)return!1;return!0}static isWhiteVertical(f,p,m,b){m=Math.max(m,0),b=Math.min(b,f.length);for(let S=m;S<b;S++)if(f[S][p]===1)return!1;return!0}static applyMaskPenaltyRule4(f){let p=0;const m=f.getArray(),b=f.getWidth(),S=f.getHeight();for(let Q=0;Q<S;Q++){const W=m[Q];for(let se=0;se<b;se++)W[se]===1&&p++}const B=f.getHeight()*f.getWidth();return Math.floor(Math.abs(p*2-B)*10/B)*Ir.N4}static getDataMaskBit(f,p,m){let b,S;switch(f){case 0:b=m+p&1;break;case 1:b=m&1;break;case 2:b=p%3;break;case 3:b=(m+p)%3;break;case 4:b=Math.floor(m/2)+Math.floor(p/3)&1;break;case 5:S=m*p,b=(S&1)+S%3;break;case 6:S=m*p,b=(S&1)+S%3&1;break;case 7:S=m*p,b=S%3+(m+p&1)&1;break;default:throw new h("Invalid mask pattern: "+f)}return b===0}static applyMaskPenaltyRule1Internal(f,p){let m=0;const b=p?f.getHeight():f.getWidth(),S=p?f.getWidth():f.getHeight(),B=f.getArray();for(let L=0;L<b;L++){let Q=0,W=-1;for(let se=0;se<S;se++){const ge=p?B[L][se]:B[se][L];ge===W?Q++:(Q>=5&&(m+=Ir.N1+(Q-5)),Q=1,W=ge)}Q>=5&&(m+=Ir.N1+(Q-5))}return m}}Ir.N1=3,Ir.N2=3,Ir.N3=40,Ir.N4=10;class It{constructor(f,p){this.width=f,this.height=p;const m=new Array(p);for(let b=0;b!==p;b++)m[b]=new Uint8Array(f);this.bytes=m}getHeight(){return this.height}getWidth(){return this.width}get(f,p){return this.bytes[p][f]}getArray(){return this.bytes}setNumber(f,p,m){this.bytes[p][f]=m}setBoolean(f,p,m){this.bytes[p][f]=m?1:0}clear(f){for(const p of this.bytes)_.fill(p,f)}equals(f){if(!(f instanceof It))return!1;const p=f;if(this.width!==p.width||this.height!==p.height)return!1;for(let m=0,b=this.height;m<b;++m){const S=this.bytes[m],B=p.bytes[m];for(let L=0,Q=this.width;L<Q;++L)if(S[L]!==B[L])return!1}return!0}toString(){const f=new H;for(let p=0,m=this.height;p<m;++p){const b=this.bytes[p];for(let S=0,B=this.width;S<B;++S)switch(b[S]){case 0:f.append(" 0");break;case 1:f.append(" 1");break;default:f.append("  ");break}f.append(`
`)}return f.toString()}}class cr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const f=new H;return f.append(`<<
`),f.append(" mode: "),f.append(this.mode?this.mode.toString():"null"),f.append(`
 ecLevel: `),f.append(this.ecLevel?this.ecLevel.toString():"null"),f.append(`
 version: `),f.append(this.version?this.version.toString():"null"),f.append(`
 maskPattern: `),f.append(this.maskPattern.toString()),this.matrix?(f.append(`
 matrix:
`),f.append(this.matrix.toString())):f.append(`
 matrix: null
`),f.append(`>>
`),f.toString()}setMode(f){this.mode=f}setECLevel(f){this.ecLevel=f}setVersion(f){this.version=f}setMaskPattern(f){this.maskPattern=f}setMatrix(f){this.matrix=f}static isValidMaskPattern(f){return f>=0&&f<cr.NUM_MASK_PATTERNS}}cr.NUM_MASK_PATTERNS=8;class Dt extends u{}Dt.kind="WriterException";class F{constructor(){}static clearMatrix(f){f.clear(255)}static buildMatrix(f,p,m,b,S){F.clearMatrix(S),F.embedBasicPatterns(m,S),F.embedTypeInfo(p,b,S),F.maybeEmbedVersionInfo(m,S),F.embedDataBits(f,b,S)}static embedBasicPatterns(f,p){F.embedPositionDetectionPatternsAndSeparators(p),F.embedDarkDotAtLeftBottomCorner(p),F.maybeEmbedPositionAdjustmentPatterns(f,p),F.embedTimingPatterns(p)}static embedTypeInfo(f,p,m){const b=new I;F.makeTypeInfoBits(f,p,b);for(let S=0,B=b.getSize();S<B;++S){const L=b.get(b.getSize()-1-S),Q=F.TYPE_INFO_COORDINATES[S],W=Q[0],se=Q[1];if(m.setBoolean(W,se,L),S<8){const ge=m.getWidth()-S-1;m.setBoolean(ge,8,L)}else{const we=m.getHeight()-7+(S-8);m.setBoolean(8,we,L)}}}static maybeEmbedVersionInfo(f,p){if(f.getVersionNumber()<7)return;const m=new I;F.makeVersionInfoBits(f,m);let b=6*3-1;for(let S=0;S<6;++S)for(let B=0;B<3;++B){const L=m.get(b);b--,p.setBoolean(S,p.getHeight()-11+B,L),p.setBoolean(p.getHeight()-11+B,S,L)}}static embedDataBits(f,p,m){let b=0,S=-1,B=m.getWidth()-1,L=m.getHeight()-1;for(;B>0;){for(B===6&&(B-=1);L>=0&&L<m.getHeight();){for(let Q=0;Q<2;++Q){const W=B-Q;if(!F.isEmpty(m.get(W,L)))continue;let se;b<f.getSize()?(se=f.get(b),++b):se=!1,p!==255&&Ir.getDataMaskBit(p,W,L)&&(se=!se),m.setBoolean(W,L,se)}L+=S}S=-S,L+=S,B-=2}if(b!==f.getSize())throw new Dt("Not all bits consumed: "+b+"/"+f.getSize())}static findMSBSet(f){return 32-E.numberOfLeadingZeros(f)}static calculateBCHCode(f,p){if(p===0)throw new h("0 polynomial");const m=F.findMSBSet(p);for(f<<=m-1;F.findMSBSet(f)>=m;)f^=p<<F.findMSBSet(f)-m;return f}static makeTypeInfoBits(f,p,m){if(!cr.isValidMaskPattern(p))throw new Dt("Invalid mask pattern");const b=f.getBits()<<3|p;m.appendBits(b,5);const S=F.calculateBCHCode(b,F.TYPE_INFO_POLY);m.appendBits(S,10);const B=new I;if(B.appendBits(F.TYPE_INFO_MASK_PATTERN,15),m.xor(B),m.getSize()!==15)throw new Dt("should not happen but we got: "+m.getSize())}static makeVersionInfoBits(f,p){p.appendBits(f.getVersionNumber(),6);const m=F.calculateBCHCode(f.getVersionNumber(),F.VERSION_INFO_POLY);if(p.appendBits(m,12),p.getSize()!==18)throw new Dt("should not happen but we got: "+p.getSize())}static isEmpty(f){return f===255}static embedTimingPatterns(f){for(let p=8;p<f.getWidth()-8;++p){const m=(p+1)%2;F.isEmpty(f.get(p,6))&&f.setNumber(p,6,m),F.isEmpty(f.get(6,p))&&f.setNumber(6,p,m)}}static embedDarkDotAtLeftBottomCorner(f){if(f.get(8,f.getHeight()-8)===0)throw new Dt;f.setNumber(8,f.getHeight()-8,1)}static embedHorizontalSeparationPattern(f,p,m){for(let b=0;b<8;++b){if(!F.isEmpty(m.get(f+b,p)))throw new Dt;m.setNumber(f+b,p,0)}}static embedVerticalSeparationPattern(f,p,m){for(let b=0;b<7;++b){if(!F.isEmpty(m.get(f,p+b)))throw new Dt;m.setNumber(f,p+b,0)}}static embedPositionAdjustmentPattern(f,p,m){for(let b=0;b<5;++b){const S=F.POSITION_ADJUSTMENT_PATTERN[b];for(let B=0;B<5;++B)m.setNumber(f+B,p+b,S[B])}}static embedPositionDetectionPattern(f,p,m){for(let b=0;b<7;++b){const S=F.POSITION_DETECTION_PATTERN[b];for(let B=0;B<7;++B)m.setNumber(f+B,p+b,S[B])}}static embedPositionDetectionPatternsAndSeparators(f){const p=F.POSITION_DETECTION_PATTERN[0].length;F.embedPositionDetectionPattern(0,0,f),F.embedPositionDetectionPattern(f.getWidth()-p,0,f),F.embedPositionDetectionPattern(0,f.getWidth()-p,f);const m=8;F.embedHorizontalSeparationPattern(0,m-1,f),F.embedHorizontalSeparationPattern(f.getWidth()-m,m-1,f),F.embedHorizontalSeparationPattern(0,f.getWidth()-m,f);const b=7;F.embedVerticalSeparationPattern(b,0,f),F.embedVerticalSeparationPattern(f.getHeight()-b-1,0,f),F.embedVerticalSeparationPattern(b,f.getHeight()-b,f)}static maybeEmbedPositionAdjustmentPatterns(f,p){if(f.getVersionNumber()<2)return;const m=f.getVersionNumber()-1,b=F.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[m];for(let S=0,B=b.length;S!==B;S++){const L=b[S];if(L>=0)for(let Q=0;Q!==B;Q++){const W=b[Q];W>=0&&F.isEmpty(p.get(W,L))&&F.embedPositionAdjustmentPattern(W-2,L-2,p)}}}}F.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),F.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),F.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),F.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),F.VERSION_INFO_POLY=7973,F.TYPE_INFO_POLY=1335,F.TYPE_INFO_MASK_PATTERN=21522;class Z{constructor(f,p){this.dataBytes=f,this.errorCorrectionBytes=p}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class ie{constructor(){}static calculateMaskPenalty(f){return Ir.applyMaskPenaltyRule1(f)+Ir.applyMaskPenaltyRule2(f)+Ir.applyMaskPenaltyRule3(f)+Ir.applyMaskPenaltyRule4(f)}static encode(f,p,m=null){let b=ie.DEFAULT_BYTE_MODE_ENCODING;const S=m!==null&&m.get(_r.CHARACTER_SET)!==void 0;S&&(b=m.get(_r.CHARACTER_SET).toString());const B=this.chooseMode(f,b),L=new I;if(B===en.BYTE&&(S||ie.DEFAULT_BYTE_MODE_ENCODING!==b)){const zt=k.getCharacterSetECIByName(b);zt!==void 0&&this.appendECI(zt,L)}this.appendModeInfo(B,L);const Q=new I;this.appendBytes(f,B,Q,b);let W;if(m!==null&&m.get(_r.QR_VERSION)!==void 0){const zt=Number.parseInt(m.get(_r.QR_VERSION).toString(),10);W=Lr.getVersionForNumber(zt);const Ht=this.calculateBitsNeeded(B,L,Q,W);if(!this.willFit(Ht,W,p))throw new Dt("Data too big for requested version")}else W=this.recommendVersion(p,B,L,Q);const se=new I;se.appendBitArray(L);const ge=B===en.BYTE?Q.getSizeInBytes():f.length;this.appendLengthInfo(ge,W,B,se),se.appendBitArray(Q);const we=W.getECBlocksForLevel(p),Qe=W.getTotalCodewords()-we.getTotalECCodewords();this.terminateBits(Qe,se);const Xe=this.interleaveWithECBytes(se,W.getTotalCodewords(),Qe,we.getNumBlocks()),Ye=new cr;Ye.setECLevel(p),Ye.setMode(B),Ye.setVersion(W);const ot=W.getDimensionForVersion(),wt=new It(ot,ot),Mt=this.chooseMaskPattern(Xe,p,W,wt);return Ye.setMaskPattern(Mt),F.buildMatrix(Xe,p,W,Mt,wt),Ye.setMatrix(wt),Ye}static recommendVersion(f,p,m,b){const S=this.calculateBitsNeeded(p,m,b,Lr.getVersionForNumber(1)),B=this.chooseVersion(S,f),L=this.calculateBitsNeeded(p,m,b,B);return this.chooseVersion(L,f)}static calculateBitsNeeded(f,p,m,b){return p.getSize()+f.getCharacterCountBits(b)+m.getSize()}static getAlphanumericCode(f){return f<ie.ALPHANUMERIC_TABLE.length?ie.ALPHANUMERIC_TABLE[f]:-1}static chooseMode(f,p=null){if(k.SJIS.getName()===p&&this.isOnlyDoubleByteKanji(f))return en.KANJI;let m=!1,b=!1;for(let S=0,B=f.length;S<B;++S){const L=f.charAt(S);if(ie.isDigit(L))m=!0;else if(this.getAlphanumericCode(L.charCodeAt(0))!==-1)b=!0;else return en.BYTE}return b?en.ALPHANUMERIC:m?en.NUMERIC:en.BYTE}static isOnlyDoubleByteKanji(f){let p;try{p=O.encode(f,k.SJIS)}catch{return!1}const m=p.length;if(m%2!==0)return!1;for(let b=0;b<m;b+=2){const S=p[b]&255;if((S<129||S>159)&&(S<224||S>235))return!1}return!0}static chooseMaskPattern(f,p,m,b){let S=Number.MAX_SAFE_INTEGER,B=-1;for(let L=0;L<cr.NUM_MASK_PATTERNS;L++){F.buildMatrix(f,p,m,L,b);let Q=this.calculateMaskPenalty(b);Q<S&&(S=Q,B=L)}return B}static chooseVersion(f,p){for(let m=1;m<=40;m++){const b=Lr.getVersionForNumber(m);if(ie.willFit(f,b,p))return b}throw new Dt("Data too big")}static willFit(f,p,m){const b=p.getTotalCodewords(),B=p.getECBlocksForLevel(m).getTotalECCodewords(),L=b-B,Q=(f+7)/8;return L>=Q}static terminateBits(f,p){const m=f*8;if(p.getSize()>m)throw new Dt("data bits cannot fit in the QR Code"+p.getSize()+" > "+m);for(let B=0;B<4&&p.getSize()<m;++B)p.appendBit(!1);const b=p.getSize()&7;if(b>0)for(let B=b;B<8;B++)p.appendBit(!1);const S=f-p.getSizeInBytes();for(let B=0;B<S;++B)p.appendBits(B&1?17:236,8);if(p.getSize()!==m)throw new Dt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(f,p,m,b,S,B){if(b>=m)throw new Dt("Block ID too large");const L=f%m,Q=m-L,W=Math.floor(f/m),se=W+1,ge=Math.floor(p/m),we=ge+1,Qe=W-ge,Xe=se-we;if(Qe!==Xe)throw new Dt("EC bytes mismatch");if(m!==Q+L)throw new Dt("RS blocks mismatch");if(f!==(ge+Qe)*Q+(we+Xe)*L)throw new Dt("Total bytes mismatch");b<Q?(S[0]=ge,B[0]=Qe):(S[0]=we,B[0]=Xe)}static interleaveWithECBytes(f,p,m,b){if(f.getSizeInBytes()!==m)throw new Dt("Number of bits and data bytes does not match");let S=0,B=0,L=0;const Q=new Array;for(let se=0;se<b;++se){const ge=new Int32Array(1),we=new Int32Array(1);ie.getNumDataBytesAndNumECBytesForBlockID(p,m,b,se,ge,we);const Qe=ge[0],Xe=new Uint8Array(Qe);f.toBytes(8*S,Xe,0,Qe);const Ye=ie.generateECBytes(Xe,we[0]);Q.push(new Z(Xe,Ye)),B=Math.max(B,Qe),L=Math.max(L,Ye.length),S+=ge[0]}if(m!==S)throw new Dt("Data bytes does not match offset");const W=new I;for(let se=0;se<B;++se)for(const ge of Q){const we=ge.getDataBytes();se<we.length&&W.appendBits(we[se],8)}for(let se=0;se<L;++se)for(const ge of Q){const we=ge.getErrorCorrectionBytes();se<we.length&&W.appendBits(we[se],8)}if(p!==W.getSizeInBytes())throw new Dt("Interleaving error: "+p+" and "+W.getSizeInBytes()+" differ.");return W}static generateECBytes(f,p){const m=f.length,b=new Int32Array(m+p);for(let B=0;B<m;B++)b[B]=f[B]&255;new dn(We.QR_CODE_FIELD_256).encode(b,p);const S=new Uint8Array(p);for(let B=0;B<p;B++)S[B]=b[m+B];return S}static appendModeInfo(f,p){p.appendBits(f.getBits(),4)}static appendLengthInfo(f,p,m,b){const S=m.getCharacterCountBits(p);if(f>=1<<S)throw new Dt(f+" is bigger than "+((1<<S)-1));b.appendBits(f,S)}static appendBytes(f,p,m,b){switch(p){case en.NUMERIC:ie.appendNumericBytes(f,m);break;case en.ALPHANUMERIC:ie.appendAlphanumericBytes(f,m);break;case en.BYTE:ie.append8BitBytes(f,m,b);break;case en.KANJI:ie.appendKanjiBytes(f,m);break;default:throw new Dt("Invalid mode: "+p)}}static getDigit(f){return f.charCodeAt(0)-48}static isDigit(f){const p=ie.getDigit(f);return p>=0&&p<=9}static appendNumericBytes(f,p){const m=f.length;let b=0;for(;b<m;){const S=ie.getDigit(f.charAt(b));if(b+2<m){const B=ie.getDigit(f.charAt(b+1)),L=ie.getDigit(f.charAt(b+2));p.appendBits(S*100+B*10+L,10),b+=3}else if(b+1<m){const B=ie.getDigit(f.charAt(b+1));p.appendBits(S*10+B,7),b+=2}else p.appendBits(S,4),b++}}static appendAlphanumericBytes(f,p){const m=f.length;let b=0;for(;b<m;){const S=ie.getAlphanumericCode(f.charCodeAt(b));if(S===-1)throw new Dt;if(b+1<m){const B=ie.getAlphanumericCode(f.charCodeAt(b+1));if(B===-1)throw new Dt;p.appendBits(S*45+B,11),b+=2}else p.appendBits(S,6),b++}}static append8BitBytes(f,p,m){let b;try{b=O.encode(f,m)}catch(S){throw new Dt(S)}for(let S=0,B=b.length;S!==B;S++){const L=b[S];p.appendBits(L,8)}}static appendKanjiBytes(f,p){let m;try{m=O.encode(f,k.SJIS)}catch(S){throw new Dt(S)}const b=m.length;for(let S=0;S<b;S+=2){const B=m[S]&255,L=m[S+1]&255,Q=B<<8&4294967295|L;let W=-1;if(Q>=33088&&Q<=40956?W=Q-33088:Q>=57408&&Q<=60351&&(W=Q-49472),W===-1)throw new Dt("Invalid byte sequence");const se=(W>>8)*192+(W&255);p.appendBits(se,13)}}static appendECI(f,p){p.appendBits(en.ECI.getBits(),4),p.appendBits(f.getValue(),8)}}ie.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),ie.DEFAULT_BYTE_MODE_ENCODING=k.UTF8.getName();class Ce{write(f,p,m,b=null){if(f.length===0)throw new h("Found empty contents");if(p<0||m<0)throw new h("Requested dimensions are too small: "+p+"x"+m);let S=ui.L,B=Ce.QUIET_ZONE_SIZE;b!==null&&(b.get(_r.ERROR_CORRECTION)!==void 0&&(S=ui.fromString(b.get(_r.ERROR_CORRECTION).toString())),b.get(_r.MARGIN)!==void 0&&(B=Number.parseInt(b.get(_r.MARGIN).toString(),10)));const L=ie.encode(f,S,b);return this.renderResult(L,p,m,B)}writeToDom(f,p,m,b,S=null){typeof f=="string"&&(f=document.querySelector(f));const B=this.write(p,m,b,S);f&&f.appendChild(B)}renderResult(f,p,m,b){const S=f.getMatrix();if(S===null)throw new z;const B=S.getWidth(),L=S.getHeight(),Q=B+b*2,W=L+b*2,se=Math.max(p,Q),ge=Math.max(m,W),we=Math.min(Math.floor(se/Q),Math.floor(ge/W)),Qe=Math.floor((se-B*we)/2),Xe=Math.floor((ge-L*we)/2),Ye=this.createSVGElement(se,ge);for(let ot=0,wt=Xe;ot<L;ot++,wt+=we)for(let Mt=0,zt=Qe;Mt<B;Mt++,zt+=we)if(S.get(Mt,ot)===1){const Ht=this.createSvgRectElement(zt,wt,we,we);Ye.appendChild(Ht)}return Ye}createSVGElement(f,p){const m=document.createElementNS(Ce.SVG_NS,"svg");return m.setAttributeNS(null,"height",f.toString()),m.setAttributeNS(null,"width",p.toString()),m}createSvgRectElement(f,p,m,b){const S=document.createElementNS(Ce.SVG_NS,"rect");return S.setAttributeNS(null,"x",f.toString()),S.setAttributeNS(null,"y",p.toString()),S.setAttributeNS(null,"height",m.toString()),S.setAttributeNS(null,"width",b.toString()),S.setAttributeNS(null,"fill","#000000"),S}}Ce.QUIET_ZONE_SIZE=4,Ce.SVG_NS="http://www.w3.org/2000/svg";class tt{encode(f,p,m,b,S){if(f.length===0)throw new h("Found empty contents");if(p!==de.QR_CODE)throw new h("Can only encode QR_CODE, but got "+p);if(m<0||b<0)throw new h(`Requested dimensions are too small: ${m}x${b}`);let B=ui.L,L=tt.QUIET_ZONE_SIZE;S!==null&&(S.get(_r.ERROR_CORRECTION)!==void 0&&(B=ui.fromString(S.get(_r.ERROR_CORRECTION).toString())),S.get(_r.MARGIN)!==void 0&&(L=Number.parseInt(S.get(_r.MARGIN).toString(),10)));const Q=ie.encode(f,B,S);return tt.renderResult(Q,m,b,L)}static renderResult(f,p,m,b){const S=f.getMatrix();if(S===null)throw new z;const B=S.getWidth(),L=S.getHeight(),Q=B+b*2,W=L+b*2,se=Math.max(p,Q),ge=Math.max(m,W),we=Math.min(Math.floor(se/Q),Math.floor(ge/W)),Qe=Math.floor((se-B*we)/2),Xe=Math.floor((ge-L*we)/2),Ye=new K(se,ge);for(let ot=0,wt=Xe;ot<L;ot++,wt+=we)for(let Mt=0,zt=Qe;Mt<B;Mt++,zt+=we)S.get(Mt,ot)===1&&Ye.setRegion(zt,wt,we,we);return Ye}}tt.QUIET_ZONE_SIZE=4;class At{encode(f,p,m,b,S){let B;switch(p){case de.QR_CODE:B=new tt;break;default:throw new h("No encoder available for format "+p)}return B.encode(f,p,m,b,S)}}class rr extends te{constructor(f,p,m,b,S,B,L,Q){if(super(B,L),this.yuvData=f,this.dataWidth=p,this.dataHeight=m,this.left=b,this.top=S,b+B>p||S+L>m)throw new h("Crop rectangle does not fit within image data.");Q&&this.reverseHorizontal(B,L)}getRow(f,p){if(f<0||f>=this.getHeight())throw new h("Requested row is outside the image: "+f);const m=this.getWidth();(p==null||p.length<m)&&(p=new Uint8ClampedArray(m));const b=(f+this.top)*this.dataWidth+this.left;return x.arraycopy(this.yuvData,b,p,0,m),p}getMatrix(){const f=this.getWidth(),p=this.getHeight();if(f===this.dataWidth&&p===this.dataHeight)return this.yuvData;const m=f*p,b=new Uint8ClampedArray(m);let S=this.top*this.dataWidth+this.left;if(f===this.dataWidth)return x.arraycopy(this.yuvData,S,b,0,m),b;for(let B=0;B<p;B++){const L=B*f;x.arraycopy(this.yuvData,S,b,L,f),S+=this.dataWidth}return b}isCropSupported(){return!0}crop(f,p,m,b){return new rr(this.yuvData,this.dataWidth,this.dataHeight,this.left+f,this.top+p,m,b,!1)}renderThumbnail(){const f=this.getWidth()/rr.THUMBNAIL_SCALE_FACTOR,p=this.getHeight()/rr.THUMBNAIL_SCALE_FACTOR,m=new Int32Array(f*p),b=this.yuvData;let S=this.top*this.dataWidth+this.left;for(let B=0;B<p;B++){const L=B*f;for(let Q=0;Q<f;Q++){const W=b[S+Q*rr.THUMBNAIL_SCALE_FACTOR]&255;m[L+Q]=4278190080|W*65793}S+=this.dataWidth*rr.THUMBNAIL_SCALE_FACTOR}return m}getThumbnailWidth(){return this.getWidth()/rr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/rr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(f,p){const m=this.yuvData;for(let b=0,S=this.top*this.dataWidth+this.left;b<p;b++,S+=this.dataWidth){const B=S+f/2;for(let L=S,Q=S+f-1;L<B;L++,Q--){const W=m[L];m[L]=m[Q],m[Q]=W}}}invert(){return new X(this)}}rr.THUMBNAIL_SCALE_FACTOR=2;class bn extends te{constructor(f,p,m,b,S,B,L){if(super(p,m),this.dataWidth=b,this.dataHeight=S,this.left=B,this.top=L,f.BYTES_PER_ELEMENT===4){const Q=p*m,W=new Uint8ClampedArray(Q);for(let se=0;se<Q;se++){const ge=f[se],we=ge>>16&255,Qe=ge>>7&510,Xe=ge&255;W[se]=(we+Qe+Xe)/4&255}this.luminances=W}else this.luminances=f;if(b===void 0&&(this.dataWidth=p),S===void 0&&(this.dataHeight=m),B===void 0&&(this.left=0),L===void 0&&(this.top=0),this.left+p>this.dataWidth||this.top+m>this.dataHeight)throw new h("Crop rectangle does not fit within image data.")}getRow(f,p){if(f<0||f>=this.getHeight())throw new h("Requested row is outside the image: "+f);const m=this.getWidth();(p==null||p.length<m)&&(p=new Uint8ClampedArray(m));const b=(f+this.top)*this.dataWidth+this.left;return x.arraycopy(this.luminances,b,p,0,m),p}getMatrix(){const f=this.getWidth(),p=this.getHeight();if(f===this.dataWidth&&p===this.dataHeight)return this.luminances;const m=f*p,b=new Uint8ClampedArray(m);let S=this.top*this.dataWidth+this.left;if(f===this.dataWidth)return x.arraycopy(this.luminances,S,b,0,m),b;for(let B=0;B<p;B++){const L=B*f;x.arraycopy(this.luminances,S,b,L,f),S+=this.dataWidth}return b}isCropSupported(){return!0}crop(f,p,m,b){return new bn(this.luminances,m,b,this.dataWidth,this.dataHeight,this.left+f,this.top+p)}invert(){return new X(this)}}class ts extends k{static forName(f){return this.getCharacterSetECIByName(f)}}class ci{}ci.ISO_8859_1=k.ISO8859_1;class rs{isCompact(){return this.compact}setCompact(f){this.compact=f}getSize(){return this.size}setSize(f){this.size=f}getLayers(){return this.layers}setLayers(f){this.layers=f}getCodeWords(){return this.codeWords}setCodeWords(f){this.codeWords=f}getMatrix(){return this.matrix}setMatrix(f){this.matrix=f}}class La{static singletonList(f){return[f]}static min(f,p){return f.sort(p)[0]}}class Qo{constructor(f){this.previous=f}getPrevious(){return this.previous}}class Fi extends Qo{constructor(f,p,m){super(f),this.value=p,this.bitCount=m}appendTo(f,p){f.appendBits(this.value,this.bitCount)}add(f,p){return new Fi(this,f,p)}addBinaryShift(f,p){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Fi(this,f,p)}toString(){let f=this.value&(1<<this.bitCount)-1;return f|=1<<this.bitCount,"<"+E.toBinaryString(f|1<<this.bitCount).substring(1)+">"}}class Ja extends Fi{constructor(f,p,m){super(f,0,0),this.binaryShiftStart=p,this.binaryShiftByteCount=m}appendTo(f,p){for(let m=0;m<this.binaryShiftByteCount;m++)(m===0||m===31&&this.binaryShiftByteCount<=62)&&(f.appendBits(31,5),this.binaryShiftByteCount>62?f.appendBits(this.binaryShiftByteCount-31,16):m===0?f.appendBits(Math.min(this.binaryShiftByteCount,31),5):f.appendBits(this.binaryShiftByteCount-31,5)),f.appendBits(p[this.binaryShiftStart+m],8)}addBinaryShift(f,p){return new Ja(this,f,p)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Ic(pe,f,p){return new Ja(pe,f,p)}function rc(pe,f,p){return new Fi(pe,f,p)}const eg=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Xs=0,kc=1,wo=2,tg=3,ua=4,Th=new Fi(null,0,0),Bh=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function rg(pe){for(let f of pe)_.fill(f,-1);return pe[Xs][ua]=0,pe[kc][ua]=0,pe[kc][Xs]=28,pe[tg][ua]=0,pe[wo][ua]=0,pe[wo][Xs]=15,pe}const Pd=rg(_.createInt32Array(6,6));class $o{constructor(f,p,m,b){this.token=f,this.mode=p,this.binaryShiftByteCount=m,this.bitCount=b}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(f,p){let m=this.bitCount,b=this.token;if(f!==this.mode){let B=Bh[this.mode][f];b=rc(b,B&65535,B>>16),m+=B>>16}let S=f===wo?4:5;return b=rc(b,p,S),new $o(b,f,0,m+S)}shiftAndAppend(f,p){let m=this.token,b=this.mode===wo?4:5;return m=rc(m,Pd[this.mode][f],b),m=rc(m,p,5),new $o(m,this.mode,0,this.bitCount+b+5)}addBinaryShiftChar(f){let p=this.token,m=this.mode,b=this.bitCount;if(this.mode===ua||this.mode===wo){let L=Bh[m][Xs];p=rc(p,L&65535,L>>16),b+=L>>16,m=Xs}let S=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,B=new $o(p,m,this.binaryShiftByteCount+1,b+S);return B.binaryShiftByteCount===2078&&(B=B.endBinaryShift(f+1)),B}endBinaryShift(f){if(this.binaryShiftByteCount===0)return this;let p=this.token;return p=Ic(p,f-this.binaryShiftByteCount,this.binaryShiftByteCount),new $o(p,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(f){let p=this.bitCount+(Bh[this.mode][f.mode]>>16);return this.binaryShiftByteCount<f.binaryShiftByteCount?p+=$o.calculateBinaryShiftCost(f)-$o.calculateBinaryShiftCost(this):this.binaryShiftByteCount>f.binaryShiftByteCount&&f.binaryShiftByteCount>0&&(p+=10),p<=f.bitCount}toBitArray(f){let p=[];for(let b=this.endBinaryShift(f.length).token;b!==null;b=b.getPrevious())p.unshift(b);let m=new I;for(const b of p)b.appendTo(m,f);return m}toString(){return M.format("%s bits=%d bytes=%d",eg[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(f){return f.binaryShiftByteCount>62?21:f.binaryShiftByteCount>31?20:f.binaryShiftByteCount>0?10:0}}$o.INITIAL_STATE=new $o(Th,Xs,0,0);function nc(pe){const f=M.getCharCode(" "),p=M.getCharCode("."),m=M.getCharCode(",");pe[Xs][f]=1;const b=M.getCharCode("Z"),S=M.getCharCode("A");for(let we=S;we<=b;we++)pe[Xs][we]=we-S+2;pe[kc][f]=1;const B=M.getCharCode("z"),L=M.getCharCode("a");for(let we=L;we<=B;we++)pe[kc][we]=we-L+2;pe[wo][f]=1;const Q=M.getCharCode("9"),W=M.getCharCode("0");for(let we=W;we<=Q;we++)pe[wo][we]=we-W+2;pe[wo][m]=12,pe[wo][p]=13;const se=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let we=0;we<se.length;we++)pe[tg][M.getCharCode(se[we])]=we;const ge=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let we=0;we<ge.length;we++)M.getCharCode(ge[we])>0&&(pe[ua][M.getCharCode(ge[we])]=we);return pe}const ol=nc(_.createInt32Array(5,256));class jc{constructor(f){this.text=f}encode(){const f=M.getCharCode(" "),p=M.getCharCode(`
`);let m=La.singletonList($o.INITIAL_STATE);for(let S=0;S<this.text.length;S++){let B,L=S+1<this.text.length?this.text[S+1]:0;switch(this.text[S]){case M.getCharCode("\r"):B=L===p?2:0;break;case M.getCharCode("."):B=L===f?3:0;break;case M.getCharCode(","):B=L===f?4:0;break;case M.getCharCode(":"):B=L===f?5:0;break;default:B=0}B>0?(m=jc.updateStateListForPair(m,S,B),S++):m=this.updateStateListForChar(m,S)}return La.min(m,(S,B)=>S.getBitCount()-B.getBitCount()).toBitArray(this.text)}updateStateListForChar(f,p){const m=[];for(let b of f)this.updateStateForChar(b,p,m);return jc.simplifyStates(m)}updateStateForChar(f,p,m){let b=this.text[p]&255,S=ol[f.getMode()][b]>0,B=null;for(let L=0;L<=ua;L++){let Q=ol[L][b];if(Q>0){if(B==null&&(B=f.endBinaryShift(p)),!S||L===f.getMode()||L===wo){const W=B.latchAndAppend(L,Q);m.push(W)}if(!S&&Pd[f.getMode()][L]>=0){const W=B.shiftAndAppend(L,Q);m.push(W)}}}if(f.getBinaryShiftByteCount()>0||ol[f.getMode()][b]===0){let L=f.addBinaryShiftChar(p);m.push(L)}}static updateStateListForPair(f,p,m){const b=[];for(let S of f)this.updateStateForPair(S,p,m,b);return this.simplifyStates(b)}static updateStateForPair(f,p,m,b){let S=f.endBinaryShift(p);if(b.push(S.latchAndAppend(ua,m)),f.getMode()!==ua&&b.push(S.shiftAndAppend(ua,m)),m===3||m===4){let B=S.latchAndAppend(wo,16-m).latchAndAppend(wo,1);b.push(B)}if(f.getBinaryShiftByteCount()>0){let B=f.addBinaryShiftChar(p).addBinaryShiftChar(p+1);b.push(B)}}static simplifyStates(f){let p=[];for(const m of f){let b=!0;for(const S of p){if(S.isBetterThanOrEqualTo(m)){b=!1;break}m.isBetterThanOrEqualTo(S)&&(p=p.filter(B=>B!==S))}b&&p.push(m)}return p}}class Gn{constructor(){}static encodeBytes(f){return Gn.encode(f,Gn.DEFAULT_EC_PERCENT,Gn.DEFAULT_AZTEC_LAYERS)}static encode(f,p,m){let b=new jc(f).encode(),S=E.truncDivision(b.getSize()*p,100)+11,B=b.getSize()+S,L,Q,W,se,ge;if(m!==Gn.DEFAULT_AZTEC_LAYERS){if(L=m<0,Q=Math.abs(m),Q>(L?Gn.MAX_NB_BITS_COMPACT:Gn.MAX_NB_BITS))throw new h(M.format("Illegal value %s for layers",m));W=Gn.totalBitsInLayer(Q,L),se=Gn.WORD_SIZE[Q];let Ht=W-W%se;if(ge=Gn.stuffBits(b,se),ge.getSize()+S>Ht)throw new h("Data to large for user specified layer");if(L&&ge.getSize()>se*64)throw new h("Data to large for user specified layer")}else{se=0,ge=null;for(let Ht=0;;Ht++){if(Ht>Gn.MAX_NB_BITS)throw new h("Data too large for an Aztec code");if(L=Ht<=3,Q=L?Ht+1:Ht,W=Gn.totalBitsInLayer(Q,L),B>W)continue;(ge==null||se!==Gn.WORD_SIZE[Q])&&(se=Gn.WORD_SIZE[Q],ge=Gn.stuffBits(b,se));let An=W-W%se;if(!(L&&ge.getSize()>se*64)&&ge.getSize()+S<=An)break}}let we=Gn.generateCheckWords(ge,W,se),Qe=ge.getSize()/se,Xe=Gn.generateModeMessage(L,Q,Qe),Ye=(L?11:14)+Q*4,ot=new Int32Array(Ye),wt;if(L){wt=Ye;for(let Ht=0;Ht<ot.length;Ht++)ot[Ht]=Ht}else{wt=Ye+1+2*E.truncDivision(E.truncDivision(Ye,2)-1,15);let Ht=E.truncDivision(Ye,2),An=E.truncDivision(wt,2);for(let Sn=0;Sn<Ht;Sn++){let eo=Sn+E.truncDivision(Sn,15);ot[Ht-Sn-1]=An-eo-1,ot[Ht+Sn]=An+eo+1}}let Mt=new K(wt);for(let Ht=0,An=0;Ht<Q;Ht++){let Sn=(Q-Ht)*4+(L?9:12);for(let eo=0;eo<Sn;eo++){let Vo=eo*2;for(let bo=0;bo<2;bo++)we.get(An+Vo+bo)&&Mt.set(ot[Ht*2+bo],ot[Ht*2+eo]),we.get(An+Sn*2+Vo+bo)&&Mt.set(ot[Ht*2+eo],ot[Ye-1-Ht*2-bo]),we.get(An+Sn*4+Vo+bo)&&Mt.set(ot[Ye-1-Ht*2-bo],ot[Ye-1-Ht*2-eo]),we.get(An+Sn*6+Vo+bo)&&Mt.set(ot[Ye-1-Ht*2-eo],ot[Ht*2+bo])}An+=Sn*8}if(Gn.drawModeMessage(Mt,L,wt,Xe),L)Gn.drawBullsEye(Mt,E.truncDivision(wt,2),5);else{Gn.drawBullsEye(Mt,E.truncDivision(wt,2),7);for(let Ht=0,An=0;Ht<E.truncDivision(Ye,2)-1;Ht+=15,An+=16)for(let Sn=E.truncDivision(wt,2)&1;Sn<wt;Sn+=2)Mt.set(E.truncDivision(wt,2)-An,Sn),Mt.set(E.truncDivision(wt,2)+An,Sn),Mt.set(Sn,E.truncDivision(wt,2)-An),Mt.set(Sn,E.truncDivision(wt,2)+An)}let zt=new rs;return zt.setCompact(L),zt.setSize(wt),zt.setLayers(Q),zt.setCodeWords(Qe),zt.setMatrix(Mt),zt}static drawBullsEye(f,p,m){for(let b=0;b<m;b+=2)for(let S=p-b;S<=p+b;S++)f.set(S,p-b),f.set(S,p+b),f.set(p-b,S),f.set(p+b,S);f.set(p-m,p-m),f.set(p-m+1,p-m),f.set(p-m,p-m+1),f.set(p+m,p-m),f.set(p+m,p-m+1),f.set(p+m,p+m-1)}static generateModeMessage(f,p,m){let b=new I;return f?(b.appendBits(p-1,2),b.appendBits(m-1,6),b=Gn.generateCheckWords(b,28,4)):(b.appendBits(p-1,5),b.appendBits(m-1,11),b=Gn.generateCheckWords(b,40,4)),b}static drawModeMessage(f,p,m,b){let S=E.truncDivision(m,2);if(p)for(let B=0;B<7;B++){let L=S-3+B;b.get(B)&&f.set(L,S-5),b.get(B+7)&&f.set(S+5,L),b.get(20-B)&&f.set(L,S+5),b.get(27-B)&&f.set(S-5,L)}else for(let B=0;B<10;B++){let L=S-5+B+E.truncDivision(B,5);b.get(B)&&f.set(L,S-7),b.get(B+10)&&f.set(S+7,L),b.get(29-B)&&f.set(L,S+7),b.get(39-B)&&f.set(S-7,L)}}static generateCheckWords(f,p,m){let b=f.getSize()/m,S=new dn(Gn.getGF(m)),B=E.truncDivision(p,m),L=Gn.bitsToWords(f,m,B);S.encode(L,B-b);let Q=p%m,W=new I;W.appendBits(0,Q);for(const se of Array.from(L))W.appendBits(se,m);return W}static bitsToWords(f,p,m){let b=new Int32Array(m),S,B;for(S=0,B=f.getSize()/p;S<B;S++){let L=0;for(let Q=0;Q<p;Q++)L|=f.get(S*p+Q)?1<<p-Q-1:0;b[S]=L}return b}static getGF(f){switch(f){case 4:return We.AZTEC_PARAM;case 6:return We.AZTEC_DATA_6;case 8:return We.AZTEC_DATA_8;case 10:return We.AZTEC_DATA_10;case 12:return We.AZTEC_DATA_12;default:throw new h("Unsupported word size "+f)}}static stuffBits(f,p){let m=new I,b=f.getSize(),S=(1<<p)-2;for(let B=0;B<b;B+=p){let L=0;for(let Q=0;Q<p;Q++)(B+Q>=b||f.get(B+Q))&&(L|=1<<p-1-Q);(L&S)===S?(m.appendBits(L&S,p),B--):L&S?m.appendBits(L,p):(m.appendBits(L|1,p),B--)}return m}static totalBitsInLayer(f,p){return((p?88:112)+16*f)*f}}Gn.DEFAULT_EC_PERCENT=33,Gn.DEFAULT_AZTEC_LAYERS=0,Gn.MAX_NB_BITS=32,Gn.MAX_NB_BITS_COMPACT=4,Gn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class nu{encode(f,p,m,b){return this.encodeWithHints(f,p,m,b,null)}encodeWithHints(f,p,m,b,S){let B=ci.ISO_8859_1,L=Gn.DEFAULT_EC_PERCENT,Q=Gn.DEFAULT_AZTEC_LAYERS;return S!=null&&(S.has(_r.CHARACTER_SET)&&(B=ts.forName(S.get(_r.CHARACTER_SET).toString())),S.has(_r.ERROR_CORRECTION)&&(L=E.parseInt(S.get(_r.ERROR_CORRECTION).toString())),S.has(_r.AZTEC_LAYERS)&&(Q=E.parseInt(S.get(_r.AZTEC_LAYERS).toString()))),nu.encodeLayers(f,p,m,b,B,L,Q)}static encodeLayers(f,p,m,b,S,B,L){if(p!==de.AZTEC)throw new h("Can only encode AZTEC, but got "+p);let Q=Gn.encode(M.getBytes(f,S),B,L);return nu.renderResult(Q,m,b)}static renderResult(f,p,m){let b=f.getMatrix();if(b==null)throw new z;let S=b.getWidth(),B=b.getHeight(),L=Math.max(p,S),Q=Math.max(m,B),W=Math.min(L/S,Q/B),se=(L-S*W)/2,ge=(Q-B*W)/2,we=new K(L,Q);for(let Qe=0,Xe=ge;Qe<B;Qe++,Xe+=W)for(let Ye=0,ot=se;Ye<S;Ye++,ot+=W)b.get(Ye,Qe)&&we.setRegion(ot,Xe,W,W);return we}}r.AbstractExpandedDecoder=je,r.ArgumentException=d,r.ArithmeticException=oe,r.AztecCode=rs,r.AztecCodeReader=qt,r.AztecCodeWriter=nu,r.AztecDecoder=ke,r.AztecDetector=Ut,r.AztecDetectorResult=Bt,r.AztecEncoder=Gn,r.AztecHighLevelEncoder=jc,r.AztecPoint=at,r.BarcodeFormat=de,r.Binarizer=v,r.BinaryBitmap=A,r.BitArray=I,r.BitMatrix=K,r.BitSource=ba,r.BrowserAztecCodeReader=Er,r.BrowserBarcodeReader=xo,r.BrowserCodeReader=q,r.BrowserDatamatrixCodeReader=ca,r.BrowserMultiFormatReader=nt,r.BrowserPDF417Reader=Pt,r.BrowserQRCodeReader=Xt,r.BrowserQRCodeSvgWriter=Ce,r.CharacterSetECI=k,r.ChecksumException=g,r.Code128Reader=xt,r.Code39Reader=pr,r.DataMatrixDecodedBitStreamParser=la,r.DataMatrixReader=Oa,r.DecodeHintType=j,r.DecoderResult=ye,r.DefaultGridSampler=or,r.DetectorResult=Tt,r.EAN13Reader=mr,r.EncodeHintType=_r,r.Exception=u,r.FormatException=T,r.GenericGF=We,r.GenericGFPoly=Ne,r.GlobalHistogramBinarizer=ne,r.GridSampler=_t,r.GridSamplerInstance=St,r.HTMLCanvasElementLuminanceSource=ue,r.HybridBinarizer=le,r.ITFReader=Ke,r.IllegalArgumentException=h,r.IllegalStateException=z,r.InvertedLuminanceSource=X,r.LuminanceSource=te,r.MathUtils=Te,r.MultiFormatOneDReader=oa,r.MultiFormatReader=qe,r.MultiFormatWriter=At,r.NotFoundException=Y,r.OneDReader=Kt,r.PDF417DecodedBitStreamParser=dt,r.PDF417DecoderErrorCorrection=st,r.PDF417Reader=fe,r.PDF417ResultMetadata=ji,r.PerspectiveTransform=jt,r.PlanarYUVLuminanceSource=rr,r.QRCodeByteMatrix=It,r.QRCodeDataMask=Ps,r.QRCodeDecodedBitStreamParser=Mi,r.QRCodeDecoderErrorCorrectionLevel=ui,r.QRCodeDecoderFormatInformation=ws,r.QRCodeEncoder=ie,r.QRCodeEncoderQRCode=cr,r.QRCodeMaskUtil=Ir,r.QRCodeMatrixUtil=F,r.QRCodeMode=en,r.QRCodeReader=yo,r.QRCodeVersion=Lr,r.QRCodeWriter=tt,r.RGBLuminanceSource=bn,r.RSS14Reader=wn,r.RSSExpandedReader=Nt,r.ReaderException=Oe,r.ReedSolomonDecoder=Fe,r.ReedSolomonEncoder=dn,r.ReedSolomonException=Re,r.Result=ee,r.ResultMetadataType=_e,r.ResultPoint=ze,r.StringUtils=M,r.UnsupportedOperationException=R,r.VideoInputDevice=ve,r.WhiteRectangleDetector=mt,r.WriterException=Dt,r.ZXingArrays=_,r.ZXingCharset=ts,r.ZXingInteger=E,r.ZXingStandardCharsets=ci,r.ZXingStringBuilder=H,r.ZXingStringEncoding=O,r.ZXingSystem=x,r.createAbstractExpandedDecoder=ar,Object.defineProperty(r,"__esModule",{value:!0})})})(F8,F8.exports);var Ms=F8.exports;const xMe=Gi(Ms),vMe=Mte({__proto__:null,default:xMe},[Ms]);var AG=function(){function e(t,r,n){if(this.formatMap=new Map([[Vr.QR_CODE,Ms.BarcodeFormat.QR_CODE],[Vr.AZTEC,Ms.BarcodeFormat.AZTEC],[Vr.CODABAR,Ms.BarcodeFormat.CODABAR],[Vr.CODE_39,Ms.BarcodeFormat.CODE_39],[Vr.CODE_93,Ms.BarcodeFormat.CODE_93],[Vr.CODE_128,Ms.BarcodeFormat.CODE_128],[Vr.DATA_MATRIX,Ms.BarcodeFormat.DATA_MATRIX],[Vr.MAXICODE,Ms.BarcodeFormat.MAXICODE],[Vr.ITF,Ms.BarcodeFormat.ITF],[Vr.EAN_13,Ms.BarcodeFormat.EAN_13],[Vr.EAN_8,Ms.BarcodeFormat.EAN_8],[Vr.PDF_417,Ms.BarcodeFormat.PDF_417],[Vr.RSS_14,Ms.BarcodeFormat.RSS_14],[Vr.RSS_EXPANDED,Ms.BarcodeFormat.RSS_EXPANDED],[Vr.UPC_A,Ms.BarcodeFormat.UPC_A],[Vr.UPC_E,Ms.BarcodeFormat.UPC_E],[Vr.UPC_EAN_EXTENSION,Ms.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!vMe)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(t),s=new Map;s.set(Ms.DecodeHintType.POSSIBLE_FORMATS,i),s.set(Ms.DecodeHintType.TRY_HARDER,!1),this.hints=s}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,i){try{n(r.decode(t))}catch(s){i(s)}})},e.prototype.decode=function(t){var r=new Ms.MultiFormatReader(this.verbose,this.hints),n=new Ms.HTMLCanvasElementLuminanceSource(t),i=new Ms.BinaryBitmap(new Ms.HybridBinarizer(n)),s=r.decode(i);return{text:s.text,format:Pue.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var s=i[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),yMe=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},wMe=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},pG=function(){function e(t,r,n){if(this.formatMap=new Map([[Vr.QR_CODE,"qr_code"],[Vr.AZTEC,"aztec"],[Vr.CODABAR,"codabar"],[Vr.CODE_39,"code_39"],[Vr.CODE_93,"code_93"],[Vr.CODE_128,"code_128"],[Vr.DATA_MATRIX,"data_matrix"],[Vr.ITF,"itf"],[Vr.EAN_13,"ean_13"],[Vr.EAN_8,"ean_8"],[Vr.PDF_417,"pdf417"],[Vr.UPC_A,"upc_a"],[Vr.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return yMe(this,void 0,void 0,function(){var r,n;return wMe(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:Pue.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,i=0,s=t;i<s.length;i++){var a=s[i],l=a.boundingBox.width*a.boundingBox.height;l>n&&(n=l,r=a)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var s=i[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),gG=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},mG=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},bMe=function(){function e(t,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&pG.isSupported()?(this.primaryDecoder=new pG(t,n,i),this.secondaryDecoder=new AG(t,n,i)):this.primaryDecoder=new AG(t,n,i)}return e.prototype.decodeAsync=function(t){return gG(this,void 0,void 0,function(){var r;return mG(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return gG(this,void 0,void 0,function(){var r,n;return mG(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];t+=i}var s=t/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),VU=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),N5=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},T5=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Oue=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),_Me=function(e){VU(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(Oue),EMe=function(e){VU(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(_Me),SMe=function(e){VU(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(Oue),CMe=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new EMe(this.track)},e.prototype.torchFeature=function(){return new SMe(this.track)},e}(),NMe=function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,i),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,i){return N5(this,void 0,void 0,function(){var s,a;return T5(this,function(l){switch(l.label){case 0:return s=new e(t,r,i),n.aspectRatio?(a={aspectRatio:n.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(a)]):[3,2];case 1:l.sent(),l.label=2;case 2:return s.setupSurface(),[2,s]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return N5(this,void 0,void 0,function(){return T5(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var i=t.mediaStream.getVideoTracks(),s=i.length,a=0;t.mediaStream.getVideoTracks().forEach(function(l){t.mediaStream.removeTrack(l),l.stop(),++a,a>=s&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new CMe(this.getFirstTrackOrFail())},e}(),TMe=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return N5(this,void 0,void 0,function(){return T5(this,function(i){return[2,NMe.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return N5(this,void 0,void 0,function(){var r,n;return T5(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new e(n)]}})})},e}(),xG=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},vG=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},BMe=function(){function e(){}return e.failIfNotSupported=function(){return xG(this,void 0,void 0,function(){return vG(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return xG(this,void 0,void 0,function(){return vG(this,function(r){return[2,TMe.create(t)]})})},e}(),IMe=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},kMe=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},jMe=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=gx.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=gx.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return IMe(this,void 0,void 0,function(){var t,r,n,i,s,a,l;return kMe(this,function(c){switch(c.label){case 0:return t=function(u){for(var d=u.getVideoTracks(),h=0,A=d;h<A.length;h++){var g=A[h];g.enabled=!1,g.stop(),u.removeTrack(g)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=c.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=c.sent(),i=[],s=0,a=n;s<a.length;s++)l=a[s],l.kind==="videoinput"&&i.push({id:l.deviceId,label:l.label});return t(r),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(s){for(var a=[],l=0,c=s;l<c.length;l++){var u=c[l];u.kind==="video"&&a.push({id:u.id,label:u.label})}t(a)},i=MediaStreamTrack;i.getSources(n)})},e}(),Ca;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Ca||(Ca={}));var PMe=function(){function e(){this.state=Ca.NOT_STARTED,this.onGoingTransactionNewState=Ca.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Ca.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Ca.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Ca.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Ca.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Ca.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Ca.UNKNOWN:throw"Transition from unknown is not allowed";case Ca.NOT_STARTED:this.failIfNewStateIs(t,[Ca.PAUSED]);break;case Ca.SCANNING:break;case Ca.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,i=r;n<i.length;n++){var s=i[n];if(t===s)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),FMe=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Ca.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Ca.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Ca.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Ca.PAUSED},e}(),OMe=function(){function e(){}return e.create=function(){return new FMe(new PMe)},e}(),DMe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Au=function(e){DMe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(pMe),LMe=function(){function e(t,r){this.logger=r,this.fps=Au.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Au.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Fue.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!zh(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),RMe=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new mMe(this.verbose),this.qrcode=new bMe(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=OMe.create()}return e.prototype.start=function(t,r,n,i){var s=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var a;i?a=i:a=this.verbose?this.logger.log:function(){};var l=LMe.create(r,this.logger);this.clearElement();var c=!1;l.videoConstraints&&(l.isMediaStreamConstraintsValid()?c=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var u=c,d=document.getElementById(this.elementId);d.clientWidth?d.clientWidth:Au.DEFAULT_WIDTH,d.style.position="relative",this.shouldScan=!0,this.element=d;var h=this,A=this.stateManagerProxy.startTransition(Ca.SCANNING);return new Promise(function(g,v){var x=u?l.videoConstraints:h.createVideoConstraints(t);if(!x){A.cancel(),v("videoConstraints should be defined");return}var y={};(!u||l.aspectRatio)&&(y.aspectRatio=l.aspectRatio);var w={onRenderSurfaceReady:function(_,E){h.setupUi(_,E,l),h.isScanning=!0,h.foreverScan(l,n,a)}};BMe.failIfNotSupported().then(function(_){_.create(x).then(function(E){return E.render(s.element,y,w).then(function(I){h.renderedCamera=I,A.execute(),g(null)}).catch(function(I){A.cancel(),v(I)})}).catch(function(E){A.cancel(),v(gx.errorGettingUserMedia(E))})}).catch(function(_){A.cancel(),v(gx.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Ca.PAUSED),this.showPausedState(),(zh(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Ca.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Ca.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var s=document.getElementById(Au.SHADED_REGION_ELEMENT_ID);s&&t.element.removeChild(s)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(zh(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,s){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var a=new Image;a.onload=function(){var l=a.width,c=a.height,u=document.getElementById(n.elementId),d=u.clientWidth?u.clientWidth:Au.DEFAULT_WIDTH,h=Math.max(u.clientHeight?u.clientHeight:c,Au.FILE_SCAN_MIN_HEIGHT),A=n.computeCanvasDrawConfig(l,c,d,h);if(r){var g=n.createCanvasElement(d,h,"qr-canvas-visible");g.style.display="inline-block",u.appendChild(g);var v=g.getContext("2d");if(!v)throw"Unable to get 2d context from canvas";v.canvas.width=d,v.canvas.height=h,v.drawImage(a,0,0,l,c,A.x,A.y,A.width,A.height)}var x=Au.FILE_SCAN_HIDDEN_CANVAS_PADDING,y=Math.max(a.width,A.width),w=Math.max(a.height,A.height),_=y+2*x,E=w+2*x,I=n.createCanvasElement(_,E);u.appendChild(I);var N=I.getContext("2d");if(!N)throw"Unable to get 2d context from canvas";N.canvas.width=_,N.canvas.height=E,N.drawImage(a,0,0,l,c,x,x,y,w);try{n.qrcode.decodeRobustlyAsync(I).then(function(j){i(hG.createFromQrcodeResult(j))}).catch(s)}catch(j){s("QR code parse error, error = ".concat(j))}},a.onerror=s,a.onabort=s,a.onstalled=s,a.onsuspend=s,a.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return jMe.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!Fue.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[Vr.QR_CODE,Vr.AZTEC,Vr.CODABAR,Vr.CODE_39,Vr.CODE_93,Vr.CODE_128,Vr.DATA_MATRIX,Vr.MAXICODE,Vr.ITF,Vr.EAN_13,Vr.EAN_8,Vr.PDF_417,Vr.RSS_14,Vr.RSS_EXPANDED,Vr.UPC_A,Vr.UPC_E,Vr.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,s=t.formatsToSupport;i<s.length;i++){var a=s[i];AMe(a)?n.push(a):this.logger.warn("Invalid format: ".concat(a," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(zh(t))return!0;if(!zh(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(zh(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return zh(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var i=this,s=n.qrbox;this.validateQrboxConfig(s);var a=this.toQrdimensions(t,r,s),l=function(u){if(u<Au.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Au.MIN_QR_BOX_SIZE,"px.")},c=function(u){return u>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),u=t),u};l(a.width),l(a.height),a.width=c(a.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var i=zh(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(i);var s=this.toQrdimensions(t,r,i);s.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var a=n.isShadedBoxEnabled()&&s.height<=r,l={x:0,y:0,width:t,height:r},c=a?this.getShadedRegionBounds(t,r,s):l,u=this.createCanvasElement(c.width,c.height),d={willReadFrequently:!0},h=u.getContext("2d",d);h.canvas.width=c.width,h.canvas.height=c.height,this.element.append(u),a&&this.possiblyInsertShadingElement(this.element,t,r,s),this.createScannerPausedUiElement(this.element),this.qrRegion=c,this.context=h,this.canvasElement=u},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=gx.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,hG.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var s=gx.codeParseError(i);return r(s,gMe.createFrom(s)),!1})},e.prototype.foreverScan=function(t,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),a=s.videoWidth/s.clientWidth,l=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var c=this.qrRegion.width*a,u=this.qrRegion.height*l,d=this.qrRegion.x*a,h=this.qrRegion.y*l;this.context.drawImage(s,d,h,c,u,0,0,this.qrRegion.width,this.qrRegion.height);var A=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,r,n)},i.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(g){!g&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){A()})):A()}).catch(function(g){i.logger.logError("Error happend while scanning context",g),A()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},s="exact",a=function(v){if(v in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(v,"'")},l=Object.keys(t);if(l.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(l.length," keys");var c=Object.keys(t)[0];if(c!==r&&c!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(c===r){var u=t.facingMode;if(typeof u=="string"){if(a(u))return{facingMode:u}}else if(typeof u=="object")if(s in u){if(a(u["".concat(s)]))return{facingMode:{exact:u["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var d=typeof u;throw"Invalid type of 'facingMode' = ".concat(d)}}else{var h=t.deviceId;if(typeof h=="string")return{deviceId:h};if(typeof h=="object"){if(s in h)return{deviceId:{exact:h["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var A=typeof h;throw"Invalid type of 'deviceId' = ".concat(A)}}}var g=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(g)},e.prototype.computeCanvasDrawConfig=function(t,r,n,i){if(t<=n&&r<=i){var s=(n-t)/2,a=(i-r)/2;return{x:s,y:a,width:t,height:r}}else{var l=t,c=r;return t>n&&(r=n/t*r,t=n),r>i&&(t=i/r*t,r=i),this.logger.log("Image downsampled from "+"".concat(l,"X").concat(c)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?Au.BORDER_SHADER_MATCH_COLOR:Au.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var i=t,s=r,a=document.createElement("canvas");return a.style.width="".concat(i,"px"),a.style.height="".concat(s,"px"),a.style.display="none",a.id=zh(n)?"qr-canvas":n,a},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,i){if(!(r-i.width<1||n-i.height<1)){var s=document.createElement("div");s.style.position="absolute";var a=(r-i.width)/2,l=(n-i.height)/2;if(s.style.borderLeft="".concat(a,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(a,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(Au.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var c=5,u=40;this.insertShaderBorders(s,u,c,-c,null,0,!0),this.insertShaderBorders(s,u,c,-c,null,0,!1),this.insertShaderBorders(s,u,c,null,-c,0,!0),this.insertShaderBorders(s,u,c,null,-c,0,!1),this.insertShaderBorders(s,c,u+c,-c,null,-c,!0),this.insertShaderBorders(s,c,u+c,null,-c,-c,!0),this.insertShaderBorders(s,c,u+c,-c,null,-c,!1),this.insertShaderBorders(s,c,u+c,null,-c,-c,!1),this.hasBorderShaders=!0}t.append(s)}},e.prototype.insertShaderBorders=function(t,r,n,i,s,a,l){var c=document.createElement("div");c.style.position="absolute",c.style.backgroundColor=Au.BORDER_SHADER_DEFAULT_COLOR,c.style.width="".concat(r,"px"),c.style.height="".concat(n,"px"),i!==null&&(c.style.top="".concat(i,"px")),s!==null&&(c.style.bottom="".concat(s,"px")),l?c.style.left="".concat(a,"px"):c.style.right="".concat(a,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(c),t.appendChild(c)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),yG;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(yG||(yG={}));function zU({onScan:e,onClose:t}){const r=C.useRef(null),[n,i]=C.useState(null);return C.useEffect(()=>{const s=new RMe("barcode-scanner");r.current=s;const a={fps:10,qrbox:{width:250,height:250}};return s.start({facingMode:"environment"},a,l=>{e(l),s.stop()},void 0).catch(l=>{console.error("Scanner error:",l),i("Failed to start camera. Please check permissions.")}),()=>{s.isScanning&&s.stop().catch(console.error)}},[e]),o.jsxs("div",{className:"relative space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold gradient-text",children:"Scan Barcode"}),o.jsx(et,{variant:"ghost",size:"icon",onClick:t,className:"hover:bg-destructive hover:text-destructive-foreground transition-colors",children:o.jsx(ef,{className:"h-5 w-5"})})]}),n?o.jsx("div",{className:"p-6 bg-destructive/10 border-2 border-destructive/20 text-destructive rounded-xl",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-destructive animate-pulse"}),o.jsx("p",{className:"font-medium",children:n})]})}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{id:"barcode-scanner",className:"rounded-xl overflow-hidden border-2 border-border shadow-lg"}),o.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-pulse"}),"Position the barcode within the frame"]})]})]})}function wG(e,[t,r]){return Math.min(r,Math.max(t,e))}var MMe=C.createContext(void 0);function GU(e){const t=C.useContext(MMe);return e||t||"ltr"}function Due(e){const t=C.useRef({value:e,previous:e});return C.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var UMe=[" ","Enter","ArrowUp","ArrowDown"],HMe=[" ","Enter"],bm="Select",[UB,HB,QMe]=_R(bm),[Uy,yjt]=xh(bm,[QMe,HT]),QB=HT(),[$Me,Qp]=Uy(bm),[VMe,zMe]=Uy(bm),Lue=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:s,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:A,required:g,form:v}=e,x=QB(t),[y,w]=C.useState(null),[_,E]=C.useState(null),[I,N]=C.useState(!1),j=GU(u),[T,P]=um({prop:n,defaultProp:i??!1,onChange:s,caller:bm}),[k,R]=um({prop:a,defaultProp:l,onChange:c,caller:bm}),O=C.useRef(null),M=y?v||!!y.closest("form"):!0,[H,K]=C.useState(new Set),Y=Array.from(H).map(ne=>ne.props.value).join(";");return o.jsx(aSe,{...x,children:o.jsxs($Me,{required:g,scope:t,trigger:y,onTriggerChange:w,valueNode:_,onValueNodeChange:E,valueNodeHasChildren:I,onValueNodeHasChildrenChange:N,contentId:J0(),value:k,onValueChange:R,open:T,onOpenChange:P,dir:j,triggerPointerDownPosRef:O,disabled:A,children:[o.jsx(UB.Provider,{scope:t,children:o.jsx(VMe,{scope:e.__scopeSelect,onNativeOptionAdd:C.useCallback(ne=>{K(le=>new Set(le).add(ne))},[]),onNativeOptionRemove:C.useCallback(ne=>{K(le=>{const te=new Set(le);return te.delete(ne),te})},[]),children:r})}),M?o.jsxs(ode,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:h,value:k,onChange:ne=>R(ne.target.value),disabled:A,form:v,children:[k===void 0?o.jsx("option",{value:""}):null,Array.from(H)]},Y):null]})})};Lue.displayName=bm;var Rue="SelectTrigger",Mue=C.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,s=QB(r),a=Qp(Rue,r),l=a.disabled||n,c=Ji(t,a.onTriggerChange),u=HB(r),d=C.useRef("touch"),[h,A,g]=cde(x=>{const y=u().filter(E=>!E.disabled),w=y.find(E=>E.value===a.value),_=ude(y,x,w);_!==void 0&&a.onValueChange(_.value)}),v=x=>{l||(a.onOpenChange(!0),g()),x&&(a.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return o.jsx(vse,{asChild:!0,...s,children:o.jsx(Yn.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":lde(a.value)?"":void 0,...i,ref:c,onClick:Cn(i.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&v(x)}),onPointerDown:Cn(i.onPointerDown,x=>{d.current=x.pointerType;const y=x.target;y.hasPointerCapture(x.pointerId)&&y.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(v(x),x.preventDefault())}),onKeyDown:Cn(i.onKeyDown,x=>{const y=h.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&A(x.key),!(y&&x.key===" ")&&UMe.includes(x.key)&&(v(),x.preventDefault())})})})});Mue.displayName=Rue;var Uue="SelectValue",Hue=C.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:a="",...l}=e,c=Qp(Uue,r),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,h=Ji(t,c.onValueNodeChange);return _l(()=>{u(d)},[u,d]),o.jsx(Yn.span,{...l,ref:h,style:{pointerEvents:"none"},children:lde(c.value)?o.jsx(o.Fragment,{children:a}):s})});Hue.displayName=Uue;var GMe="SelectIcon",Que=C.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return o.jsx(Yn.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});Que.displayName=GMe;var WMe="SelectPortal",$ue=e=>o.jsx(PT,{asChild:!0,...e});$ue.displayName=WMe;var _m="SelectContent",Vue=C.forwardRef((e,t)=>{const r=Qp(_m,e.__scopeSelect),[n,i]=C.useState();if(_l(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?Uu.createPortal(o.jsx(zue,{scope:e.__scopeSelect,children:o.jsx(UB.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),s):null}return o.jsx(Gue,{...e,ref:t})});Vue.displayName=_m;var $d=10,[zue,$p]=Uy(_m),KMe="SelectContentImpl",qMe=xv("SelectContent.RemoveScroll"),Gue=C.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:A,collisionPadding:g,sticky:v,hideWhenDetached:x,avoidCollisions:y,...w}=e,_=Qp(_m,r),[E,I]=C.useState(null),[N,j]=C.useState(null),T=Ji(t,Ae=>I(Ae)),[P,k]=C.useState(null),[R,O]=C.useState(null),M=HB(r),[H,K]=C.useState(!1),Y=C.useRef(!1);C.useEffect(()=>{if(E)return Ice(E)},[E]),wce();const ne=C.useCallback(Ae=>{const[_e,...ye]=M().map(oe=>oe.ref.current),[ce]=ye.slice(-1),Ne=document.activeElement;for(const oe of Ae)if(oe===Ne||(oe==null||oe.scrollIntoView({block:"nearest"}),oe===_e&&N&&(N.scrollTop=0),oe===ce&&N&&(N.scrollTop=N.scrollHeight),oe==null||oe.focus(),document.activeElement!==Ne))return},[M,N]),le=C.useCallback(()=>ne([P,E]),[ne,P,E]);C.useEffect(()=>{H&&le()},[H,le]);const{onOpenChange:te,triggerPointerDownPosRef:X}=_;C.useEffect(()=>{if(E){let Ae={x:0,y:0};const _e=ce=>{var Ne,oe;Ae={x:Math.abs(Math.round(ce.pageX)-(((Ne=X.current)==null?void 0:Ne.x)??0)),y:Math.abs(Math.round(ce.pageY)-(((oe=X.current)==null?void 0:oe.y)??0))}},ye=ce=>{Ae.x<=10&&Ae.y<=10?ce.preventDefault():E.contains(ce.target)||te(!1),document.removeEventListener("pointermove",_e),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",_e),document.addEventListener("pointerup",ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_e),document.removeEventListener("pointerup",ye,{capture:!0})}}},[E,te,X]),C.useEffect(()=>{const Ae=()=>te(!1);return window.addEventListener("blur",Ae),window.addEventListener("resize",Ae),()=>{window.removeEventListener("blur",Ae),window.removeEventListener("resize",Ae)}},[te]);const[ue,ve]=cde(Ae=>{const _e=M().filter(Ne=>!Ne.disabled),ye=_e.find(Ne=>Ne.ref.current===document.activeElement),ce=ude(_e,Ae,ye);ce&&setTimeout(()=>ce.ref.current.focus())}),V=C.useCallback((Ae,_e,ye)=>{const ce=!Y.current&&!ye;(_.value!==void 0&&_.value===_e||ce)&&(k(Ae),ce&&(Y.current=!0))},[_.value]),q=C.useCallback(()=>E==null?void 0:E.focus(),[E]),ee=C.useCallback((Ae,_e,ye)=>{const ce=!Y.current&&!ye;(_.value!==void 0&&_.value===_e||ce)&&O(Ae)},[_.value]),re=n==="popper"?O8:Wue,de=re===O8?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:A,collisionPadding:g,sticky:v,hideWhenDetached:x,avoidCollisions:y}:{};return o.jsx(zue,{scope:r,content:E,viewport:N,onViewportChange:j,itemRefCallback:V,selectedItem:P,onItemLeave:q,itemTextRefCallback:ee,focusSelectedItem:le,selectedItemText:R,position:n,isPositioned:H,searchRef:ue,children:o.jsx(JM,{as:qMe,allowPinchZoom:!0,children:o.jsx(ZM,{asChild:!0,trapped:_.open,onMountAutoFocus:Ae=>{Ae.preventDefault()},onUnmountAutoFocus:Cn(i,Ae=>{var _e;(_e=_.trigger)==null||_e.focus({preventScroll:!0}),Ae.preventDefault()}),children:o.jsx(hE,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:Ae=>Ae.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:o.jsx(re,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:Ae=>Ae.preventDefault(),...w,...de,onPlaced:()=>K(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Cn(w.onKeyDown,Ae=>{const _e=Ae.ctrlKey||Ae.altKey||Ae.metaKey;if(Ae.key==="Tab"&&Ae.preventDefault(),!_e&&Ae.key.length===1&&ve(Ae.key),["ArrowUp","ArrowDown","Home","End"].includes(Ae.key)){let ce=M().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes(Ae.key)&&(ce=ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ae.key)){const Ne=Ae.target,oe=ce.indexOf(Ne);ce=ce.slice(oe+1)}setTimeout(()=>ne(ce)),Ae.preventDefault()}})})})})})})});Gue.displayName=KMe;var XMe="SelectItemAlignedPosition",Wue=C.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,s=Qp(_m,r),a=$p(_m,r),[l,c]=C.useState(null),[u,d]=C.useState(null),h=Ji(t,T=>d(T)),A=HB(r),g=C.useRef(!1),v=C.useRef(!0),{viewport:x,selectedItem:y,selectedItemText:w,focusSelectedItem:_}=a,E=C.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&x&&y&&w){const T=s.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),k=s.valueNode.getBoundingClientRect(),R=w.getBoundingClientRect();if(s.dir!=="rtl"){const Ne=R.left-P.left,oe=k.left-Ne,We=T.left-oe,Re=T.width+We,z=Math.max(Re,P.width),Fe=window.innerWidth-$d,He=wG(oe,[$d,Math.max($d,Fe-z)]);l.style.minWidth=Re+"px",l.style.left=He+"px"}else{const Ne=P.right-R.right,oe=window.innerWidth-k.right-Ne,We=window.innerWidth-T.right-oe,Re=T.width+We,z=Math.max(Re,P.width),Fe=window.innerWidth-$d,He=wG(oe,[$d,Math.max($d,Fe-z)]);l.style.minWidth=Re+"px",l.style.right=He+"px"}const O=A(),M=window.innerHeight-$d*2,H=x.scrollHeight,K=window.getComputedStyle(u),Y=parseInt(K.borderTopWidth,10),ne=parseInt(K.paddingTop,10),le=parseInt(K.borderBottomWidth,10),te=parseInt(K.paddingBottom,10),X=Y+ne+H+te+le,ue=Math.min(y.offsetHeight*5,X),ve=window.getComputedStyle(x),V=parseInt(ve.paddingTop,10),q=parseInt(ve.paddingBottom,10),ee=T.top+T.height/2-$d,re=M-ee,de=y.offsetHeight/2,Ae=y.offsetTop+de,_e=Y+ne+Ae,ye=X-_e;if(_e<=ee){const Ne=O.length>0&&y===O[O.length-1].ref.current;l.style.bottom="0px";const oe=u.clientHeight-x.offsetTop-x.offsetHeight,We=Math.max(re,de+(Ne?q:0)+oe+le),Re=_e+We;l.style.height=Re+"px"}else{const Ne=O.length>0&&y===O[0].ref.current;l.style.top="0px";const We=Math.max(ee,Y+x.offsetTop+(Ne?V:0)+de)+ye;l.style.height=We+"px",x.scrollTop=_e-ee+x.offsetTop}l.style.margin=`${$d}px 0`,l.style.minHeight=ue+"px",l.style.maxHeight=M+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[A,s.trigger,s.valueNode,l,u,x,y,w,s.dir,n]);_l(()=>E(),[E]);const[I,N]=C.useState();_l(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const j=C.useCallback(T=>{T&&v.current===!0&&(E(),_==null||_(),v.current=!1)},[E,_]);return o.jsx(ZMe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:j,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:o.jsx(Yn.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Wue.displayName=XMe;var YMe="SelectPopperPosition",O8=C.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=$d,...s}=e,a=QB(r);return o.jsx(yse,{...a,...s,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});O8.displayName=YMe;var[ZMe,WU]=Uy(_m,{}),D8="SelectViewport",Kue=C.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,s=$p(D8,r),a=WU(D8,r),l=Ji(t,s.onViewportChange),c=C.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(UB.Slot,{scope:r,children:o.jsx(Yn.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Cn(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:A}=a;if(A!=null&&A.current&&h){const g=Math.abs(c.current-d.scrollTop);if(g>0){const v=window.innerHeight-$d*2,x=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),w=Math.max(x,y);if(w<v){const _=w+g,E=Math.min(v,_),I=_-E;h.style.height=E+"px",h.style.bottom==="0px"&&(d.scrollTop=I>0?I:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Kue.displayName=D8;var que="SelectGroup",[JMe,eUe]=Uy(que),tUe=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=J0();return o.jsx(JMe,{scope:r,id:i,children:o.jsx(Yn.div,{role:"group","aria-labelledby":i,...n,ref:t})})});tUe.displayName=que;var Xue="SelectLabel",Yue=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=eUe(Xue,r);return o.jsx(Yn.div,{id:i.id,...n,ref:t})});Yue.displayName=Xue;var B5="SelectItem",[rUe,Zue]=Uy(B5),Jue=C.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...a}=e,l=Qp(B5,r),c=$p(B5,r),u=l.value===n,[d,h]=C.useState(s??""),[A,g]=C.useState(!1),v=Ji(t,_=>{var E;return(E=c.itemRefCallback)==null?void 0:E.call(c,_,n,i)}),x=J0(),y=C.useRef("touch"),w=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(rUe,{scope:r,value:n,disabled:i,textId:x,isSelected:u,onItemTextChange:C.useCallback(_=>{h(E=>E||((_==null?void 0:_.textContent)??"").trim())},[]),children:o.jsx(UB.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:o.jsx(Yn.div,{role:"option","aria-labelledby":x,"data-highlighted":A?"":void 0,"aria-selected":u&&A,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:v,onFocus:Cn(a.onFocus,()=>g(!0)),onBlur:Cn(a.onBlur,()=>g(!1)),onClick:Cn(a.onClick,()=>{y.current!=="mouse"&&w()}),onPointerUp:Cn(a.onPointerUp,()=>{y.current==="mouse"&&w()}),onPointerDown:Cn(a.onPointerDown,_=>{y.current=_.pointerType}),onPointerMove:Cn(a.onPointerMove,_=>{var E;y.current=_.pointerType,i?(E=c.onItemLeave)==null||E.call(c):y.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Cn(a.onPointerLeave,_=>{var E;_.currentTarget===document.activeElement&&((E=c.onItemLeave)==null||E.call(c))}),onKeyDown:Cn(a.onKeyDown,_=>{var I;((I=c.searchRef)==null?void 0:I.current)!==""&&_.key===" "||(HMe.includes(_.key)&&w(),_.key===" "&&_.preventDefault())})})})})});Jue.displayName=B5;var l2="SelectItemText",ede=C.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...s}=e,a=Qp(l2,r),l=$p(l2,r),c=Zue(l2,r),u=zMe(l2,r),[d,h]=C.useState(null),A=Ji(t,w=>h(w),c.onItemTextChange,w=>{var _;return(_=l.itemTextRefCallback)==null?void 0:_.call(l,w,c.value,c.disabled)}),g=d==null?void 0:d.textContent,v=C.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:x,onNativeOptionRemove:y}=u;return _l(()=>(x(v),()=>y(v)),[x,y,v]),o.jsxs(o.Fragment,{children:[o.jsx(Yn.span,{id:c.textId,...s,ref:A}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Uu.createPortal(s.children,a.valueNode):null]})});ede.displayName=l2;var tde="SelectItemIndicator",rde=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Zue(tde,r).isSelected?o.jsx(Yn.span,{"aria-hidden":!0,...n,ref:t}):null});rde.displayName=tde;var L8="SelectScrollUpButton",nde=C.forwardRef((e,t)=>{const r=$p(L8,e.__scopeSelect),n=WU(L8,e.__scopeSelect),[i,s]=C.useState(!1),a=Ji(t,n.onScrollButtonChange);return _l(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?o.jsx(sde,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});nde.displayName=L8;var R8="SelectScrollDownButton",ide=C.forwardRef((e,t)=>{const r=$p(R8,e.__scopeSelect),n=WU(R8,e.__scopeSelect),[i,s]=C.useState(!1),a=Ji(t,n.onScrollButtonChange);return _l(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?o.jsx(sde,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});ide.displayName=R8;var sde=C.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,s=$p("SelectScrollButton",r),a=C.useRef(null),l=HB(r),c=C.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return C.useEffect(()=>()=>c(),[c]),_l(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(Yn.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Cn(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:Cn(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:Cn(i.onPointerLeave,()=>{c()})})}),nUe="SelectSeparator",ade=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(Yn.div,{"aria-hidden":!0,...n,ref:t})});ade.displayName=nUe;var M8="SelectArrow",iUe=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=QB(r),s=Qp(M8,r),a=$p(M8,r);return s.open&&a.position==="popper"?o.jsx(wse,{...i,...n,ref:t}):null});iUe.displayName=M8;var sUe="SelectBubbleInput",ode=C.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const i=C.useRef(null),s=Ji(n,i),a=Due(t);return C.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&d){const h=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(h)}},[a,t]),o.jsx(Yn.select,{...r,style:{...oie,...r.style},ref:s,defaultValue:t})});ode.displayName=sUe;function lde(e){return e===""||e===void 0}function cde(e){const t=_d(e),r=C.useRef(""),n=C.useRef(0),i=C.useCallback(a=>{const l=r.current+a;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=C.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function ude(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let a=aUe(e,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function aUe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var oUe=Lue,dde=Mue,lUe=Hue,cUe=Que,uUe=$ue,fde=Vue,dUe=Kue,hde=Yue,Ade=Jue,fUe=ede,hUe=rde,pde=nde,gde=ide,mde=ade;const oo=oUe,lo=lUe,Qa=C.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(dde,{ref:n,className:Zr("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(cUe,{asChild:!0,children:o.jsx(gE,{className:"h-4 w-4 opacity-50"})})]}));Qa.displayName=dde.displayName;const xde=C.forwardRef(({className:e,...t},r)=>o.jsx(pde,{ref:r,className:Zr("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(DT,{className:"h-4 w-4"})}));xde.displayName=pde.displayName;const vde=C.forwardRef(({className:e,...t},r)=>o.jsx(gde,{ref:r,className:Zr("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(gE,{className:"h-4 w-4"})}));vde.displayName=gde.displayName;const $a=C.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>o.jsx(uUe,{children:o.jsxs(fde,{ref:i,className:Zr("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(xde,{}),o.jsx(dUe,{className:Zr("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(vde,{})]})}));$a.displayName=fde.displayName;const AUe=C.forwardRef(({className:e,...t},r)=>o.jsx(hde,{ref:r,className:Zr("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));AUe.displayName=hde.displayName;const qr=C.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Ade,{ref:n,className:Zr("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(hUe,{children:o.jsx(hbe,{className:"h-4 w-4"})})}),o.jsx(fUe,{children:t})]}));qr.displayName=Ade.displayName;const pUe=C.forwardRef(({className:e,...t},r)=>o.jsx(mde,{ref:r,className:Zr("-mx-1 my-1 h-px bg-muted",e),...t}));pUe.displayName=mde.displayName;function U8({onSuccess:e}){const[t,r]=C.useState(!1),[n,i]=C.useState(""),[s,a]=C.useState(!1),[l,c]=C.useState(null),[u,d]=C.useState(!1),[h,A]=C.useState(""),[g,v]=C.useState(""),[x,y]=C.useState(""),[w,_]=C.useState(""),[E,I]=C.useState([]),[N,j]=C.useState([]),[T,P]=C.useState(""),[k,R]=C.useState("scan"),[O,M]=C.useState(null),[H,K]=C.useState(""),{toast:Y}=Lo();C.useEffect(()=>{t&&((async()=>{try{const[ve,V]=await Promise.all([xa.getItems(),px.getAllDeliveryBoys()]);I(ve),j(V.filter(q=>q.status==="active"))}catch(ve){console.error("Error fetching data:",ve)}})(),M(null))},[t]);const ne=C.useMemo(()=>E.filter(ue=>ue.name.toLowerCase().includes(H.toLowerCase())||ue.barcode_id.toLowerCase().includes(H.toLowerCase())),[E,H]),le=async ue=>{i(ue),a(!1),await te(ue)},te=async ue=>{if(ue){d(!0);try{const ve=await xa.findItem(ue);ve?(c(ve),Y({title:"Product Found",description:`${ve.name} (${ve.quantity} available)`})):(c(null),Y({title:"Product Not Found",description:"No product found with this barcode.",variant:"destructive"}))}catch(ve){console.error(ve),Y({title:"Error",description:"Failed to search product",variant:"destructive"})}finally{d(!1)}}},X=async()=>{if(!l||!l.id)return;if(!h||!g||!T){Y({title:"Missing Information",description:"Please fill in customer details and select a delivery boy.",variant:"destructive"});return}const ue=N.find(ve=>ve.id===T);if(ue){d(!0);try{const ve=await eue();await xa.dispatchItem(l.id,ve.gps,ve.address);const{trackingService:V}=await ml(async()=>{const{trackingService:ee}=await Promise.resolve().then(()=>rFe);return{trackingService:ee}},void 0),q=`delivery_${Date.now()}`;await V.startTracking({id:q,sale_id:w||`INV_${Date.now()}`,product_name:l.name,product_barcode:l.barcode_id,customer_name:h,customer_mobile:g,delivery_address:x||l.location||"N/A",delivery_boy_id:ue.id,delivery_boy_name:ue.name,delivery_boy_mobile:ue.mobile,status:"pending",current_latitude:ve.gps.lat,current_longitude:ve.gps.lng,current_location_name:ve.address||"Unknown",currentLocationDisplay:` ${ve.address||"Dispatch Point"}`}),M({trackingId:q,boyName:ue.name,boyMobile:ue.mobile}),Y({title:"Dispatch Successful! ",description:`Product assigned to ${ue.name}`,className:"bg-green-50 border-green-200 text-green-900"}),e()}catch(ve){const V=(ve==null?void 0:ve.message)||"Failed to dispatch item";Y({title:"Dispatch Failed",description:V,variant:"destructive"})}finally{d(!1)}}};return o.jsxs(Py,{open:t,onOpenChange:r,children:[o.jsx(LE,{asChild:!0,children:o.jsxs(et,{variant:"outline",className:"gap-2 h-9 border-blue-500 text-blue-600 bg-blue-50 hover:bg-blue-100 dark:bg-blue-950 dark:hover:bg-blue-900",children:[o.jsx(hd,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Dispatch & Track"}),o.jsx("span",{className:"sm:hidden",children:"Dispatch"})]})}),o.jsxs(Ym,{className:"sm:max-w-[450px]",children:[o.jsxs(Fy,{children:[o.jsxs(Oy,{className:"flex items-center gap-2",children:[o.jsx(hd,{className:"h-5 w-5 text-blue-600"}),"Dispatch & Start Tracking"]}),o.jsx(RE,{children:"Scan barcode to reduce stock and start GPS tracking."})]}),!s&&!l&&o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"flex bg-muted p-1 rounded-lg",children:[o.jsxs(et,{variant:k==="scan"?"default":"ghost",className:"flex-1 text-xs h-8",onClick:()=>R("scan"),children:[o.jsx(W4,{className:"h-3 w-3 mr-2"}),"Scan / Search"]}),o.jsxs(et,{variant:k==="browse"?"default":"ghost",className:"flex-1 text-xs h-8",onClick:()=>R("browse"),children:[o.jsx(Is,{className:"h-3 w-3 mr-2"}),"Browse Products"]})]}),k==="scan"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Or,{placeholder:"Enter or scan barcode...",value:n,onChange:ue=>i(ue.target.value),onKeyDown:ue=>ue.key==="Enter"&&te(n)}),o.jsx(et,{onClick:()=>te(n),disabled:u,children:u?o.jsx(uh,{className:"h-4 w-4 animate-spin"}):o.jsx(W4,{className:"h-4 w-4"})})]}),o.jsxs(et,{className:"w-full py-8 text-lg gap-2 border-2 border-dashed border-blue-200 hover:border-blue-500 hover:bg-blue-50/50",variant:"outline",onClick:()=>a(!0),children:[o.jsx(Rie,{className:"h-6 w-6 text-blue-500"}),"Launch Camera Scanner"]})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsx(Or,{placeholder:"Search by name or barcode...",value:H,onChange:ue=>K(ue.target.value),className:"h-9"}),o.jsxs("div",{className:"max-h-[300px] overflow-y-auto space-y-2 pr-2 custom-scrollbar",children:[ne.map(ue=>o.jsxs("div",{className:"p-3 border rounded-xl hover:border-blue-500 hover:bg-blue-50 cursor-pointer transition-all flex items-center justify-between group",onClick:()=>c(ue),children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-semibold text-sm truncate",children:ue.name}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("span",{className:"text-[10px] bg-slate-100 px-1.5 py-0.5 rounded text-slate-500",children:ue.barcode_id}),o.jsxs("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-bold ${ue.quantity>0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[ue.quantity," In Stock"]})]})]}),o.jsx("div",{className:"opacity-40 group-hover:opacity-100 transition-opacity bg-white p-1 rounded border scale-[0.6] origin-right",children:o.jsx($U,{value:ue.barcode_id,width:1.2,height:30,fontSize:10,margin:5})})]},ue.id)),ne.length===0&&o.jsxs("div",{className:"text-center py-8 text-muted-foreground bg-muted/30 rounded-xl border-2 border-dashed",children:[o.jsx(Fo,{className:"h-8 w-8 mx-auto mb-2 opacity-20"}),o.jsx("p",{className:"text-sm",children:"No products found"})]})]})]})]}),s&&o.jsx("div",{className:"py-2",children:o.jsx(zU,{onScan:le,onClose:()=>a(!1)})}),l&&!O&&o.jsxs("div",{className:"space-y-4 py-4 animate-in fade-in slide-in-from-bottom-4",children:[o.jsxs("div",{className:"p-4 border rounded-xl bg-muted/50 space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-lg",children:l.name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:l.barcode_id})]}),o.jsxs(cn,{variant:l.quantity>0?"default":"destructive",children:[l.quantity," LEFT"]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground bg-background p-2 rounded border",children:[o.jsx(Jd,{className:"h-4 w-4 text-blue-500"}),"Current Loc: ",l.location||"Unknown"]})]}),o.jsxs("div",{className:"space-y-3 p-4 border rounded-xl bg-blue-50/50",children:[o.jsxs("h5",{className:"text-sm font-bold text-blue-800 flex items-center gap-2",children:[o.jsx(hd,{className:"h-4 w-4"}),"Delivery Details (Required)"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(xr,{htmlFor:"cust-name",className:"text-xs",children:"Customer Name"}),o.jsx(Or,{id:"cust-name",placeholder:"e.g. Rahul",value:h,onChange:ue=>A(ue.target.value),className:"h-8 text-sm"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(xr,{htmlFor:"cust-mobile",className:"text-xs",children:"Customer Mobile"}),o.jsx(Or,{id:"cust-mobile",placeholder:"917250...",value:g,onChange:ue=>v(ue.target.value),className:"h-8 text-sm"})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(xr,{htmlFor:"del-addr",className:"text-xs",children:"Delivery Address"}),o.jsx(Or,{id:"del-addr",placeholder:"e.g. Sangli",value:x,onChange:ue=>y(ue.target.value),className:"h-8 text-sm"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(xr,{className:"text-xs",children:"Select Delivery Boy"}),o.jsxs(oo,{value:T,onValueChange:P,children:[o.jsx(Qa,{className:"h-8 text-sm",children:o.jsx(lo,{placeholder:"Choose personnel..."})}),o.jsx($a,{children:N.map(ue=>o.jsxs(qr,{value:ue.id,children:[ue.name," (",ue.mobile,")"]},ue.id))})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(xr,{htmlFor:"sale-id",className:"text-xs",children:"Sale ID / Invoice No (Optional)"}),o.jsx(Or,{id:"sale-id",placeholder:"INV_12345",value:w,onChange:ue=>_(ue.target.value),className:"h-8 text-sm"})]})]}),o.jsx(et,{className:"w-full h-12 text-lg gap-2 bg-blue-600 hover:bg-blue-700",onClick:X,disabled:u||l.quantity<1,children:u?o.jsxs(o.Fragment,{children:[o.jsx(uh,{className:"h-5 w-5 animate-spin"}),"Dispatching..."]}):o.jsxs(o.Fragment,{children:[o.jsx(hd,{className:"h-5 w-5"}),"Confirm Dispatch (Qty -1)"]})}),o.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"This will capture your current GPS location as the starting point."}),o.jsx(et,{variant:"ghost",className:"w-full",onClick:()=>{c(null),i("")},children:"Cancel"})]}),O&&o.jsxs("div",{className:"py-6 space-y-6 animate-in zoom-in-95 duration-300",children:[o.jsxs("div",{className:"flex flex-col items-center justify-center text-center space-y-4",children:[o.jsx("div",{className:"h-16 w-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center",children:o.jsx(jb,{className:"h-10 w-10"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Dispatch Assigned!"}),o.jsxs("p",{className:"text-slate-500 text-sm",children:["Now share the tracking link with ",o.jsx("b",{children:O.boyName})]})]})]}),o.jsx("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100 space-y-3",children:o.jsxs("div",{className:"space-y-1",children:[o.jsx(xr,{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Unique Tracking Link"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Or,{readOnly:!0,value:`${window.location.origin}/delivery/track/${O.trackingId}`,className:"h-9 bg-white text-xs text-indigo-600 font-medium"}),o.jsx(et,{size:"icon",className:"shrink-0",onClick:()=>{const ue=`${window.location.origin}/delivery/track/${O.trackingId}`;navigator.clipboard.writeText(ue),Y({title:"Copied!",description:"Link copied to clipboard"})},children:o.jsx(Mie,{className:"h-4 w-4"})})]})]})}),o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs(et,{className:"w-full h-12 bg-green-600 hover:bg-green-700 text-white font-bold gap-2",onClick:()=>{const ue=`${window.location.origin}/delivery/track/${O.trackingId}`,ve=`Hello ${O.boyName}, naya delivery task assigned hai! 

Product: ${l==null?void 0:l.name}
Customer: ${h}
Address: ${x}

Task details dekhne aur tracking shuru karne ke liye is link par click karein: 
${ue}`;window.open(`https://wa.me/91${O.boyMobile}?text=${encodeURIComponent(ve)}`,"_blank")},children:[o.jsx(ybe,{className:"h-5 w-5"}),"Share on WhatsApp"]}),o.jsx(et,{variant:"outline",className:"w-full h-12",onClick:()=>{r(!1),c(null),M(null),P(""),A(""),v(""),y("")},children:"Close & Reset"})]})]})]})]})}const VE=C.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:Zr("w-full caption-bottom text-sm",e),...t})}));VE.displayName="Table";const zE=C.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:Zr("[&_tr]:border-b",e),...t}));zE.displayName="TableHeader";const GE=C.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:Zr("[&_tr:last-child]:border-0",e),...t}));GE.displayName="TableBody";const gUe=C.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:Zr("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));gUe.displayName="TableFooter";const ih=C.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:Zr("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));ih.displayName="TableRow";const ea=C.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:Zr("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ea.displayName="TableHead";const Hs=C.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:Zr("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Hs.displayName="TableCell";const mUe=C.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:Zr("mt-4 text-sm text-muted-foreground",e),...t}));mUe.displayName="TableCaption";const I5=({src:e,alt:t,className:r="w-full h-full object-cover",fallbackClassName:n="w-full h-full flex items-center justify-center bg-gray-100",showFallback:i=!0,clickable:s=!0})=>{const[a,l]=C.useState(!1),[c,u]=C.useState(!0),d=()=>{u(!1),l(!1)},h=()=>{u(!1),l(!0)};if(!e||a)return i?o.jsx("div",{className:n,children:o.jsxs("div",{className:"text-center",children:[o.jsx(Fo,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),o.jsx("p",{className:"text-xs text-gray-500",children:"No Image"})]})}):null;const A=o.jsxs("div",{className:"relative group",children:[c&&o.jsx("div",{className:n,children:o.jsxs("div",{className:"text-center",children:[o.jsx(Pb,{className:"h-8 w-8 text-gray-400 mx-auto mb-2 animate-pulse"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Loading..."})]})}),o.jsx("img",{src:e,alt:t,className:`${r} ${c?"opacity-0 absolute inset-0":"opacity-100"} ${s?"cursor-pointer hover:opacity-80 transition-opacity":""}`,onLoad:d,onError:h,loading:"lazy"}),s&&!c&&o.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:o.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity bg-white/90 rounded-full p-2",children:o.jsx(Pb,{className:"h-4 w-4 text-gray-700"})})})]});return s?o.jsxs(Py,{children:[o.jsx(LE,{asChild:!0,children:A}),o.jsx(Ym,{className:"max-w-4xl w-full p-0 overflow-hidden bg-black/95 border-0",children:o.jsx("div",{className:"relative",children:o.jsx("img",{src:e,alt:t,className:"w-full h-auto max-h-[90vh] object-contain"})})})]}):A};function bG({item:e,onSuccess:t,trigger:r}){const[n,i]=C.useState(!1),[s,a]=C.useState(!1),[l,c]=C.useState({name:"",category:"",hsnSac:"",quantity:"",price:"",description:"",location:""}),[u,d]=C.useState(null),[h,A]=C.useState(void 0),[g,v]=C.useState(!1),[x,y]=C.useState(null),[w,_]=C.useState(void 0),[E,I]=C.useState(!1),[N,j]=C.useState(null),[T,P]=C.useState(""),{toast:k}=Lo();C.useEffect(()=>{e&&n&&(c({name:e.name,category:e.category||"",hsnSac:e.hsnSac||"",quantity:e.quantity.toString(),price:e.price.toString(),description:e.description||"",location:e.location||""}),A(e.image_url),_(e.description_image_url),j(e.gps||null),d(null),y(null),v(!1),I(!1))},[e,n]);const R=()=>{c({name:e.name,category:e.category||"",hsnSac:e.hsnSac||"",quantity:e.quantity.toString(),price:e.price.toString(),description:e.description||"",location:e.location||""}),A(e.image_url),_(e.description_image_url),d(null),y(null),v(!1),I(!1)},O=le=>{i(le),le||R()},M=le=>{d(le),v(!0)},H=()=>{d(null),A(void 0),v(!0)},K=le=>{y(le),I(!0)},Y=()=>{y(null),_(void 0),I(!0)},ne=async le=>{var te;if(le.preventDefault(),!l.name.trim()){k({title:"Validation Error",description:"Item name is required.",variant:"destructive"});return}if(!l.quantity||parseInt(l.quantity)<0){k({title:"Validation Error",description:"Please enter a valid quantity.",variant:"destructive"});return}if(!l.price||parseFloat(l.price)<0){k({title:"Validation Error",description:"Please enter a valid price.",variant:"destructive"});return}a(!0);try{const X={name:l.name.trim(),category:l.category.trim()||null,hsnSac:l.hsnSac.trim()||"",quantity:parseInt(l.quantity),price:parseFloat(l.price),description:l.description.trim()||"",location:l.location.trim()||"",current_address:T||(N?`${N.lat.toFixed(6)}, ${N.lng.toFixed(6)}`:e.current_address),gps:N||void 0};if((g||E)&&e.id)try{const ue=g?u||null:void 0,ve=E?x||null:void 0;await xa.updateItemWithImages(e.id,X,ue,ve,V=>{console.log("Upload progress:",V+"%")})}catch(ue){if(console.error("Storage upload failed, falling back to data update:",ue),(te=ue.message)!=null&&te.includes("unauthorized")||ue.code==="storage/unauthorized")k({title:"Image Upload Skipped",description:"Server permission denied for images. Saving other details only...",variant:"destructive"}),await xa.updateItem(e.id,X);else throw ue}else e.id&&await xa.updateItem(e.id,X);k({title:"Item Updated Successfully",description:`${l.name} has been updated.`}),R(),i(!1),t()}catch(X){console.error("Error updating item:",X);let ue="Failed to update item. Please try again.";(X==null?void 0:X.code)==="permission-denied"?ue="Permission denied. Please check Firestore security rules.":(X==null?void 0:X.code)==="unavailable"?ue="Firebase service is currently unavailable. Please try again later.":X!=null&&X.message&&(ue=`Error: ${X.message}`),k({title:"Error Updating Item",description:ue,variant:"destructive"})}finally{a(!1)}};return o.jsxs(Py,{open:n,onOpenChange:O,children:[o.jsx(LE,{asChild:!0,children:r||o.jsx(et,{variant:"outline",size:"icon",className:"hover:bg-primary hover:text-primary-foreground transition-colors",children:o.jsx(vv,{className:"h-4 w-4"})})}),o.jsx(Ym,{className:"w-[95vw] max-w-[600px] max-h-[90vh] overflow-y-auto border-2 shadow-xl mx-4",children:o.jsxs("form",{onSubmit:ne,children:[o.jsxs(Fy,{className:"space-y-3",children:[o.jsx(Oy,{className:"text-2xl font-bold gradient-text",children:"Edit Item"}),o.jsx(RE,{className:"text-base",children:"Update item details and image."})]}),o.jsxs("div",{className:"grid gap-6 py-6",children:[o.jsxs("div",{className:"grid gap-3",children:[o.jsx(xr,{htmlFor:"edit-name",className:"text-sm font-semibold",children:"Item Name *"}),o.jsx(Or,{id:"edit-name",value:l.name,onChange:le=>c({...l,name:le.target.value}),required:!0,placeholder:"Enter item name",className:"h-12 text-base border-2 focus:border-primary transition-colors"})]}),o.jsxs("div",{className:"grid gap-3",children:[o.jsx(xr,{htmlFor:"edit-category",className:"text-sm font-semibold",children:"Category"}),o.jsx(Or,{id:"edit-category",value:l.category,onChange:le=>c({...l,category:le.target.value}),placeholder:"e.g., Electronics, Clothing",className:"h-12 text-base border-2 focus:border-primary transition-colors"})]}),o.jsxs("div",{className:"grid gap-3",children:[o.jsx(xr,{htmlFor:"edit-hsnSac",className:"text-sm font-semibold",children:"HSN/SAC Code"}),o.jsx(Or,{id:"edit-hsnSac",value:l.hsnSac,onChange:le=>c({...l,hsnSac:le.target.value}),placeholder:"e.g., 8517, 9954",className:"h-12 text-base border-2 focus:border-primary transition-colors"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"grid gap-3",children:[o.jsx(xr,{htmlFor:"edit-quantity",className:"text-sm font-semibold",children:"Quantity *"}),o.jsx(Or,{id:"edit-quantity",type:"number",min:"0",value:l.quantity,onChange:le=>c({...l,quantity:le.target.value}),required:!0,placeholder:"Enter quantity",className:"h-12 text-base border-2 focus:border-primary transition-colors"})]}),o.jsxs("div",{className:"grid gap-3",children:[o.jsx(xr,{htmlFor:"edit-price",className:"text-sm font-semibold",children:"Price per Unit *"}),o.jsx(Or,{id:"edit-price",type:"number",min:"0",step:"0.01",value:l.price,onChange:le=>c({...l,price:le.target.value}),required:!0,placeholder:"Enter price",className:"h-12 text-base border-2 focus:border-primary transition-colors"})]})]}),o.jsxs("div",{className:"grid gap-3",children:[o.jsx(xr,{htmlFor:"edit-description",className:"text-sm font-semibold",children:"Description"}),o.jsx("textarea",{id:"edit-description",value:l.description,onChange:le=>c({...l,description:le.target.value}),placeholder:"Short description or specifications",className:"min-h-[96px] p-3 text-base border-2 focus:border-primary transition-colors rounded-md"})]}),o.jsxs("div",{className:"grid gap-3",children:[o.jsx(xr,{htmlFor:"edit-location",className:"text-sm font-semibold",children:"Storage Location"}),o.jsx(Or,{id:"edit-location",value:l.location,onChange:le=>c({...l,location:le.target.value}),placeholder:"e.g., Shelf A1, Warehouse B",className:"h-12 text-base border-2 focus:border-primary transition-colors"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx(tue,{onLocationCaptured:(le,te)=>{j(le),P(te);const X=te||`${le.lat.toFixed(6)}, ${le.lng.toFixed(6)}`;c(ue=>({...ue,location:X}))},disabled:s}),(T||N)&&o.jsxs("span",{className:"text-xs text-green-600 font-medium",children:[" ",T||`GPS: ${N==null?void 0:N.lat.toFixed(4)}, ${N==null?void 0:N.lng.toFixed(4)}`]})]})]}),o.jsxs("div",{className:"grid gap-3",children:[o.jsx(xr,{className:"text-sm font-semibold",children:"Item Image"}),o.jsx(S5,{onImageSelect:M,currentImage:h,onImageRemove:H,disabled:s})]}),o.jsxs("div",{className:"grid gap-3",children:[o.jsx(xr,{className:"text-sm font-semibold",children:"Description Image (Optional)"}),o.jsx(S5,{onImageSelect:K,currentImage:w,onImageRemove:Y,disabled:s}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload an image for the description (e.g., specifications sheet)"})]})]}),o.jsxs(lU,{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[o.jsx(et,{type:"button",variant:"outline",onClick:()=>{R(),i(!1)},className:"h-12 w-full sm:w-auto order-2 sm:order-1",children:"Cancel"}),o.jsx(et,{type:"submit",disabled:s||!l.name||!l.quantity||!l.price,className:"h-12 w-full sm:w-auto bg-gradient-to-r from-primary to-primary-glow hover:from-primary-glow hover:to-primary text-white border-0 shadow-lg button-glow order-1 sm:order-2",children:s?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Updating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(vv,{className:"h-4 w-4 mr-2"}),"Update Item"]})})]})]})})]})}function _G({item:e,trigger:t}){var c;const[r,n]=C.useState(1),[i,s]=C.useState(!1),{toast:a}=Lo(),l=()=>{if(r<1||r>100){a({title:"Invalid Quantity",description:"Please enter a quantity between 1 and 100.",variant:"destructive"});return}const u=window.open("","_blank");if(!u){a({title:"Error",description:"Unable to open print window. Please check popup settings.",variant:"destructive"});return}const d=Array.from({length:r},(g,v)=>{var x;return`
        <div class="barcode-item">
          <div class="item-info">${e.name}</div>
          <div class="barcode-wrapper">
            <svg class="barcode"
              jsbarcode-value="${e.barcode_id}"
              jsbarcode-width="2"
              jsbarcode-height="40"
              jsbarcode-fontSize="14"
              jsbarcode-displayValue="false"
            ></svg>
          </div>
          <div class="barcode-id">ID: ${e.barcode_id}</div>
          <div class="price">${((x=e.price)==null?void 0:x.toFixed(2))||"0.00"}</div>
        </div>
      `}).join(""),h=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Bulk Print Barcodes - ${e.name}</title>
          <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.0/dist/JsBarcode.all.min.js"><\/script>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 10px;
              background: white;
            }
            .print-container {
              display: grid;
              grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
              gap: 15px;
              max-width: 100%;
            }
            .barcode-item {
              border: 2px solid #000;
              padding: 10px;
              text-align: center;
              background: white;
              page-break-inside: avoid;
              break-inside: avoid;
              display: flex;
              flex-direction: column;
              align-items: center;
            }
            .item-info {
              font-size: 14px;
              font-weight: bold;
              margin-bottom: 8px;
              word-wrap: break-word;
              text-align: center;
              max-width: 100%;
            }
            .barcode-wrapper {
              margin: 8px 0;
              display: flex;
              justify-content: center;
              width: 100%;
            }
            svg.barcode {
              max-width: 100%;
            }
            .barcode-id {
              font-size: 11px;
              font-family: monospace;
              margin-top: 5px;
            }
            .price {
              font-size: 12px;
              font-weight: bold;
              color: #2563eb;
              margin-top: 3px;
            }
            .controls {
              text-align: center;
              margin-bottom: 20px;
              padding: 15px;
              background: #f5f5f5;
              border-radius: 8px;
            }
            .controls button {
              padding: 10px 20px;
              font-size: 16px;
              border: none;
              border-radius: 4px;
              cursor: pointer;
              margin: 0 5px;
            }
            .print-btn {
              background: #2563eb;
              color: white;
            }
            .close-btn {
              background: #6b7280;
              color: white;
            }
            .print-btn:hover {
              background: #1d4ed8;
            }
            .close-btn:hover {
              background: #4b5563;
            }
            @media print {
              .controls { display: none; }
              body { margin: 0; }
              .print-container {
                grid-template-columns: repeat(3, 1fr);
                gap: 10px;
              }
              .barcode-item {
                border: 1px solid #000;
                padding: 8px;
              }
            }
            @page {
              margin: 0.5in;
            }
          </style>
        </head>
        <body>
          <div class="controls">
            <h2>Bulk Barcode Print - ${e.name}</h2>
            <p>Printing ${r} copies</p>
            <button class="print-btn" onclick="window.print()">
               Print All
            </button>
            <button class="close-btn" onclick="window.close()">
               Close
            </button>
          </div>
          <div class="print-container">
            ${d}
          </div>
          <script>
            JsBarcode(".barcode").init();
          <\/script>
        </body>
      </html>
    `;u.document.write(h),u.document.close(),setTimeout(()=>{u.focus()},500),(async()=>{try{if(!e.id)return;const g=Math.max(0,(e.quantity||0)-r);await xa.updateItem(e.id,{quantity:g}),a({title:"Stock Updated",description:`Inventory reduced by ${r}. New stock: ${g}`})}catch(g){console.error("Error updating stock:",g),a({title:"Stock Update Failed",description:"Barcodes printed but inventory could not be updated.",variant:"destructive"})}})(),s(!1)};return o.jsxs(Py,{open:i,onOpenChange:s,children:[o.jsx(LE,{asChild:!0,children:t||o.jsxs(et,{variant:"outline",size:"sm",className:"hover:bg-primary hover:text-primary-foreground transition-colors",children:[o.jsx(z4,{className:"h-4 w-4 mr-2"}),"Bulk Print"]})}),o.jsxs(Ym,{className:"sm:max-w-md",children:[o.jsxs(Fy,{children:[o.jsxs(Oy,{className:"flex items-center gap-2",children:[o.jsx(Fb,{className:"h-5 w-5"}),"Bulk Barcode Print"]}),o.jsxs(RE,{children:["Print multiple copies of the barcode for ",o.jsx("strong",{children:e.name})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"border rounded-lg p-4 bg-muted/30",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-sm font-medium mb-2",children:e.name}),o.jsx("div",{className:"flex justify-center mb-2",children:o.jsx($U,{value:e.barcode_id,width:1,height:30,fontSize:8})}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",e.barcode_id]}),o.jsxs("div",{className:"text-xs font-semibold text-green-600",children:["",((c=e.price)==null?void 0:c.toFixed(2))||"0.00"]})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xr,{htmlFor:"quantity",children:"Number of copies to print"}),o.jsx(Or,{id:"quantity",type:"number",min:"1",max:"100",value:r,onChange:u=>n(parseInt(u.target.value)||1),placeholder:"Enter quantity (1-100)"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum 100 copies per print job"})]}),o.jsxs("div",{className:"flex gap-2 pt-2",children:[o.jsxs(et,{onClick:l,className:"flex-1",disabled:r<1||r>100,children:[o.jsx(Fb,{className:"h-4 w-4 mr-2"}),"Print ",r," ",r===1?"Copy":"Copies"]}),o.jsx(et,{variant:"outline",onClick:()=>s(!1),children:"Cancel"})]})]})]})]})}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var H8=function(e,t){return H8=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},H8(e,t)};function wf(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");H8(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Q8=function(){return Q8=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Q8.apply(this,arguments)};function cc(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,[])).next())})}function Rl(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function yC(e,t,r){if(arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||t)}var TA=function(){function e(t,r,n,i){this.left=t,this.top=r,this.width=n,this.height=i}return e.prototype.add=function(t,r,n,i){return new e(this.left+t,this.top+r,this.width+n,this.height+i)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),$B=function(e,t){return TA.fromClientRect(e,t.getBoundingClientRect())},xUe=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),i=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new TA(0,0,n,i)},VB=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=e.charCodeAt(r++);(s&64512)===56320?t.push(((i&1023)<<10)+(s&1023)+65536):(t.push(i),r--)}else t.push(i)}return t},Va=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var a=e[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},EG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vUe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var wC=0;wC<EG.length;wC++)vUe[EG.charCodeAt(wC)]=wC;var SG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c2=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var bC=0;bC<SG.length;bC++)c2[SG.charCodeAt(bC)]=bC;var yUe=function(e){var t=e.length*.75,r=e.length,n,i=0,s,a,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),d=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)s=c2[e.charCodeAt(n)],a=c2[e.charCodeAt(n+1)],l=c2[e.charCodeAt(n+2)],c=c2[e.charCodeAt(n+3)],d[i++]=s<<2|a>>4,d[i++]=(a&15)<<4|l>>2,d[i++]=(l&3)<<6|c&63;return u},wUe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},bUe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},Xg=5,KU=11,zj=2,_Ue=KU-Xg,yde=65536>>Xg,EUe=1<<Xg,Gj=EUe-1,SUe=1024>>Xg,CUe=yde+SUe,NUe=CUe,TUe=32,BUe=NUe+TUe,IUe=65536>>KU,kUe=1<<_Ue,jUe=kUe-1,CG=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},PUe=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},FUe=function(e,t){var r=yUe(e),n=Array.isArray(r)?bUe(r):new Uint32Array(r),i=Array.isArray(r)?wUe(r):new Uint16Array(r),s=24,a=CG(i,s/2,n[4]/2),l=n[5]===2?CG(i,(s+n[4])/2):PUe(n,Math.ceil((s+n[4])/4));return new OUe(n[0],n[1],n[2],n[3],a,l)},OUe=function(){function e(t,r,n,i,s,a){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Xg],r=(r<<zj)+(t&Gj),this.data[r];if(t<=65535)return r=this.index[yde+(t-55296>>Xg)],r=(r<<zj)+(t&Gj),this.data[r];if(t<this.highStart)return r=BUe-IUe+(t>>KU),r=this.index[r],r+=t>>Xg&jUe,r=this.index[r],r=(r<<zj)+(t&Gj),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),NG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",DUe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var _C=0;_C<NG.length;_C++)DUe[NG.charCodeAt(_C)]=_C;var LUe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",TG=50,RUe=1,wde=2,bde=3,MUe=4,UUe=5,BG=7,_de=8,IG=9,F0=10,$8=11,kG=12,V8=13,HUe=14,u2=15,z8=16,EC=17,Iw=18,QUe=19,jG=20,G8=21,kw=22,Wj=23,E1=24,hu=25,d2=26,f2=27,S1=28,$Ue=29,xg=30,VUe=31,SC=32,CC=33,W8=34,K8=35,q8=36,Zb=37,X8=38,o4=39,l4=40,Kj=41,Ede=42,zUe=43,GUe=[9001,65288],Sde="!",xi="",NC="",Y8=FUe(LUe),Dh=[xg,q8],Z8=[RUe,wde,bde,UUe],Cde=[F0,_de],PG=[f2,d2],WUe=Z8.concat(Cde),FG=[X8,o4,l4,W8,K8],KUe=[u2,V8],qUe=function(e,t){t===void 0&&(t="strict");var r=[],n=[],i=[];return e.forEach(function(s,a){var l=Y8.get(s);if(l>TG?(i.push(!0),l-=TG):i.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(a),r.push(z8);if(l===MUe||l===$8){if(a===0)return n.push(a),r.push(xg);var c=r[a-1];return WUe.indexOf(c)===-1?(n.push(n[a-1]),r.push(c)):(n.push(a),r.push(xg))}if(n.push(a),l===VUe)return r.push(t==="strict"?G8:Zb);if(l===Ede||l===$Ue)return r.push(xg);if(l===zUe)return s>=131072&&s<=196605||s>=196608&&s<=262141?r.push(Zb):r.push(xg);r.push(l)}),[n,r,i]},qj=function(e,t,r,n){var i=n[r];if(Array.isArray(e)?e.indexOf(i)!==-1:e===i)for(var s=r;s<=n.length;){s++;var a=n[s];if(a===t)return!0;if(a!==F0)break}if(i===F0)for(var s=r;s>0;){s--;var l=n[s];if(Array.isArray(e)?e.indexOf(l)!==-1:e===l)for(var c=r;c<=n.length;){c++;var a=n[c];if(a===t)return!0;if(a!==F0)break}if(l!==F0)break}return!1},OG=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n===F0)r--;else return n}return 0},XUe=function(e,t,r,n,i){if(r[n]===0)return xi;var s=n-1;if(Array.isArray(i)&&i[s]===!0)return xi;var a=s-1,l=s+1,c=t[s],u=a>=0?t[a]:0,d=t[l];if(c===wde&&d===bde)return xi;if(Z8.indexOf(c)!==-1)return Sde;if(Z8.indexOf(d)!==-1||Cde.indexOf(d)!==-1)return xi;if(OG(s,t)===_de)return NC;if(Y8.get(e[s])===$8||(c===SC||c===CC)&&Y8.get(e[l])===$8||c===BG||d===BG||c===IG||[F0,V8,u2].indexOf(c)===-1&&d===IG||[EC,Iw,QUe,E1,S1].indexOf(d)!==-1||OG(s,t)===kw||qj(Wj,kw,s,t)||qj([EC,Iw],G8,s,t)||qj(kG,kG,s,t))return xi;if(c===F0)return NC;if(c===Wj||d===Wj)return xi;if(d===z8||c===z8)return NC;if([V8,u2,G8].indexOf(d)!==-1||c===HUe||u===q8&&KUe.indexOf(c)!==-1||c===S1&&d===q8||d===jG||Dh.indexOf(d)!==-1&&c===hu||Dh.indexOf(c)!==-1&&d===hu||c===f2&&[Zb,SC,CC].indexOf(d)!==-1||[Zb,SC,CC].indexOf(c)!==-1&&d===d2||Dh.indexOf(c)!==-1&&PG.indexOf(d)!==-1||PG.indexOf(c)!==-1&&Dh.indexOf(d)!==-1||[f2,d2].indexOf(c)!==-1&&(d===hu||[kw,u2].indexOf(d)!==-1&&t[l+1]===hu)||[kw,u2].indexOf(c)!==-1&&d===hu||c===hu&&[hu,S1,E1].indexOf(d)!==-1)return xi;if([hu,S1,E1,EC,Iw].indexOf(d)!==-1)for(var h=s;h>=0;){var A=t[h];if(A===hu)return xi;if([S1,E1].indexOf(A)!==-1)h--;else break}if([f2,d2].indexOf(d)!==-1)for(var h=[EC,Iw].indexOf(c)!==-1?a:s;h>=0;){var A=t[h];if(A===hu)return xi;if([S1,E1].indexOf(A)!==-1)h--;else break}if(X8===c&&[X8,o4,W8,K8].indexOf(d)!==-1||[o4,W8].indexOf(c)!==-1&&[o4,l4].indexOf(d)!==-1||[l4,K8].indexOf(c)!==-1&&d===l4||FG.indexOf(c)!==-1&&[jG,d2].indexOf(d)!==-1||FG.indexOf(d)!==-1&&c===f2||Dh.indexOf(c)!==-1&&Dh.indexOf(d)!==-1||c===E1&&Dh.indexOf(d)!==-1||Dh.concat(hu).indexOf(c)!==-1&&d===kw&&GUe.indexOf(e[l])===-1||Dh.concat(hu).indexOf(d)!==-1&&c===Iw)return xi;if(c===Kj&&d===Kj){for(var g=r[s],v=1;g>0&&(g--,t[g]===Kj);)v++;if(v%2!==0)return xi}return c===SC&&d===CC?xi:NC},YUe=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=qUe(e,t.lineBreak),n=r[0],i=r[1],s=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(i=i.map(function(l){return[hu,xg,Ede].indexOf(l)!==-1?Zb:l}));var a=t.wordBreak==="keep-all"?s.map(function(l,c){return l&&e[c]>=19968&&e[c]<=40959}):void 0;return[n,i,a]},ZUe=function(){function e(t,r,n,i){this.codePoints=t,this.required=r===Sde,this.start=n,this.end=i}return e.prototype.slice=function(){return Va.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),JUe=function(e,t){var r=VB(e),n=YUe(r,t),i=n[0],s=n[1],a=n[2],l=r.length,c=0,u=0;return{next:function(){if(u>=l)return{done:!0,value:null};for(var d=xi;u<l&&(d=XUe(r,s,i,++u,a))===xi;);if(d!==xi||u===l){var h=new ZUe(r,d,c,u);return c=u,{value:h,done:!1}}return{done:!0,value:null}}}},e7e=1,t7e=2,WE=4,DG=8,k5=10,LG=47,$2=92,r7e=9,n7e=32,TC=34,jw=61,i7e=35,s7e=36,a7e=37,BC=39,IC=40,Pw=41,o7e=95,Rc=45,l7e=33,c7e=60,u7e=62,d7e=64,f7e=91,h7e=93,A7e=61,p7e=123,kC=63,g7e=125,RG=124,m7e=126,x7e=128,MG=65533,Xj=42,Ng=43,v7e=44,y7e=58,w7e=59,Jb=46,b7e=0,_7e=8,E7e=11,S7e=14,C7e=31,N7e=127,Cf=-1,Nde=48,Tde=97,Bde=101,T7e=102,B7e=117,I7e=122,Ide=65,kde=69,jde=70,k7e=85,j7e=90,Ql=function(e){return e>=Nde&&e<=57},P7e=function(e){return e>=55296&&e<=57343},C1=function(e){return Ql(e)||e>=Ide&&e<=jde||e>=Tde&&e<=T7e},F7e=function(e){return e>=Tde&&e<=I7e},O7e=function(e){return e>=Ide&&e<=j7e},D7e=function(e){return F7e(e)||O7e(e)},L7e=function(e){return e>=x7e},jC=function(e){return e===k5||e===r7e||e===n7e},j5=function(e){return D7e(e)||L7e(e)||e===o7e},UG=function(e){return j5(e)||Ql(e)||e===Rc},R7e=function(e){return e>=b7e&&e<=_7e||e===E7e||e>=S7e&&e<=C7e||e===N7e},A0=function(e,t){return e!==$2?!1:t!==k5},PC=function(e,t,r){return e===Rc?j5(t)||A0(t,r):j5(e)?!0:!!(e===$2&&A0(e,t))},Yj=function(e,t,r){return e===Ng||e===Rc?Ql(t)?!0:t===Jb&&Ql(r):Ql(e===Jb?t:e)},M7e=function(e){var t=0,r=1;(e[t]===Ng||e[t]===Rc)&&(e[t]===Rc&&(r=-1),t++);for(var n=[];Ql(e[t]);)n.push(e[t++]);var i=n.length?parseInt(Va.apply(void 0,n),10):0;e[t]===Jb&&t++;for(var s=[];Ql(e[t]);)s.push(e[t++]);var a=s.length,l=a?parseInt(Va.apply(void 0,s),10):0;(e[t]===kde||e[t]===Bde)&&t++;var c=1;(e[t]===Ng||e[t]===Rc)&&(e[t]===Rc&&(c=-1),t++);for(var u=[];Ql(e[t]);)u.push(e[t++]);var d=u.length?parseInt(Va.apply(void 0,u),10):0;return r*(i+l*Math.pow(10,-a))*Math.pow(10,c*d)},U7e={type:2},H7e={type:3},Q7e={type:4},$7e={type:13},V7e={type:8},z7e={type:21},G7e={type:9},W7e={type:10},K7e={type:11},q7e={type:12},X7e={type:14},FC={type:23},Y7e={type:1},Z7e={type:25},J7e={type:24},e9e={type:26},t9e={type:27},r9e={type:28},n9e={type:29},i9e={type:31},J8={type:32},Pde=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(VB(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==J8;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case TC:return this.consumeStringToken(TC);case i7e:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(UG(r)||A0(n,i)){var s=PC(r,n,i)?t7e:e7e,a=this.consumeName();return{type:5,value:a,flags:s}}break;case s7e:if(this.peekCodePoint(0)===jw)return this.consumeCodePoint(),$7e;break;case BC:return this.consumeStringToken(BC);case IC:return U7e;case Pw:return H7e;case Xj:if(this.peekCodePoint(0)===jw)return this.consumeCodePoint(),X7e;break;case Ng:if(Yj(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case v7e:return Q7e;case Rc:var l=t,c=this.peekCodePoint(0),u=this.peekCodePoint(1);if(Yj(l,c,u))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(PC(l,c,u))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(c===Rc&&u===u7e)return this.consumeCodePoint(),this.consumeCodePoint(),J7e;break;case Jb:if(Yj(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case LG:if(this.peekCodePoint(0)===Xj)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===Xj&&(d=this.consumeCodePoint(),d===LG))return this.consumeToken();if(d===Cf)return this.consumeToken()}break;case y7e:return e9e;case w7e:return t9e;case c7e:if(this.peekCodePoint(0)===l7e&&this.peekCodePoint(1)===Rc&&this.peekCodePoint(2)===Rc)return this.consumeCodePoint(),this.consumeCodePoint(),Z7e;break;case d7e:var h=this.peekCodePoint(0),A=this.peekCodePoint(1),g=this.peekCodePoint(2);if(PC(h,A,g)){var a=this.consumeName();return{type:7,value:a}}break;case f7e:return r9e;case $2:if(A0(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case h7e:return n9e;case A7e:if(this.peekCodePoint(0)===jw)return this.consumeCodePoint(),V7e;break;case p7e:return K7e;case g7e:return q7e;case B7e:case k7e:var v=this.peekCodePoint(0),x=this.peekCodePoint(1);return v===Ng&&(C1(x)||x===kC)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case RG:if(this.peekCodePoint(0)===jw)return this.consumeCodePoint(),G7e;if(this.peekCodePoint(0)===RG)return this.consumeCodePoint(),z7e;break;case m7e:if(this.peekCodePoint(0)===jw)return this.consumeCodePoint(),W7e;break;case Cf:return J8}return jC(t)?(this.consumeWhiteSpace(),i9e):Ql(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):j5(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Va(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();C1(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===kC&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(Va.apply(void 0,t.map(function(c){return c===kC?Nde:c})),16),s=parseInt(Va.apply(void 0,t.map(function(c){return c===kC?jde:c})),16);return{type:30,start:i,end:s}}var a=parseInt(Va.apply(void 0,t),16);if(this.peekCodePoint(0)===Rc&&C1(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var l=[];C1(r)&&l.length<6;)l.push(r),r=this.consumeCodePoint();var s=parseInt(Va.apply(void 0,l),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===IC?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===IC?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Cf)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===BC||r===TC){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Cf||this.peekCodePoint(0)===Pw)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),FC)}for(;;){var i=this.consumeCodePoint();if(i===Cf||i===Pw)return{type:22,value:Va.apply(void 0,t)};if(jC(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Cf||this.peekCodePoint(0)===Pw?(this.consumeCodePoint(),{type:22,value:Va.apply(void 0,t)}):(this.consumeBadUrlRemnants(),FC);if(i===TC||i===BC||i===IC||R7e(i))return this.consumeBadUrlRemnants(),FC;if(i===$2)if(A0(i,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),FC;else t.push(i)}},e.prototype.consumeWhiteSpace=function(){for(;jC(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===Pw||t===Cf)return;A0(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var i=Math.min(r,t);n+=Va.apply(void 0,this._value.splice(0,i)),t-=i}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var r="",n=0;do{var i=this._value[n];if(i===Cf||i===void 0||i===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===k5)return this._value.splice(0,n),Y7e;if(i===$2){var s=this._value[n+1];s!==Cf&&s!==void 0&&(s===k5?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):A0(i,s)&&(r+=this.consumeStringSlice(n),r+=Va(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=WE,n=this.peekCodePoint(0);for((n===Ng||n===Rc)&&t.push(this.consumeCodePoint());Ql(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===Jb&&Ql(i))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=DG;Ql(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===kde||n===Bde)&&((i===Ng||i===Rc)&&Ql(s)||Ql(i)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=DG;Ql(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[M7e(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(PC(i,s,a)){var l=this.consumeName();return{type:15,number:r,flags:n,unit:l}}return i===a7e?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(C1(t)){for(var r=Va(t);C1(this.peekCodePoint(0))&&r.length<6;)r+=Va(this.consumeCodePoint());jC(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||P7e(n)||n>1114111?MG:n}return t===Cf?MG:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(UG(r))t+=Va(r);else if(A0(r,this.peekCodePoint(0)))t+=Va(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),Fde=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new Pde;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||a9e(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?J8:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),KE=function(e){return e.type===15},Hy=function(e){return e.type===17},ps=function(e){return e.type===20},s9e=function(e){return e.type===0},eO=function(e,t){return ps(e)&&e.value===t},Ode=function(e){return e.type!==31},Pv=function(e){return e.type!==31&&e.type!==4},wh=function(e){var t=[],r=[];return e.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},a9e=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},Sp=function(e){return e.type===17||e.type===15},co=function(e){return e.type===16||Sp(e)},Dde=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},yl={type:17,number:0,flags:WE},qU={type:16,number:50,flags:WE},O0={type:16,number:100,flags:WE},h2=function(e,t,r){var n=e[0],i=e[1];return[Ts(n,t),Ts(typeof i<"u"?i:n,r)]},Ts=function(e,t){if(e.type===16)return e.number/100*t;if(KE(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},Lde="deg",Rde="grad",Mde="rad",Ude="turn",zB={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case Lde:return Math.PI*t.number/180;case Rde:return Math.PI/200*t.number;case Mde:return t.number;case Ude:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},Hde=function(e){return e.type===15&&(e.unit===Lde||e.unit===Rde||e.unit===Mde||e.unit===Ude)},Qde=function(e){var t=e.filter(ps).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[yl,yl];case"to top":case"bottom":return Ad(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[yl,O0];case"to right":case"left":return Ad(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[O0,O0];case"to bottom":case"top":return Ad(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[O0,yl];case"to left":case"right":return Ad(270)}return 0},Ad=function(e){return Math.PI*e/180},lp={name:"color",parse:function(e,t){if(t.type===18){var r=o9e[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),i=t.value.substring(1,2),s=t.value.substring(2,3);return D0(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),i=t.value.substring(1,2),s=t.value.substring(2,3),a=t.value.substring(3,4);return D0(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),i=t.value.substring(2,4),s=t.value.substring(4,6);return D0(parseInt(n,16),parseInt(i,16),parseInt(s,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),i=t.value.substring(2,4),s=t.value.substring(4,6),a=t.value.substring(6,8);return D0(parseInt(n,16),parseInt(i,16),parseInt(s,16),parseInt(a,16)/255)}}if(t.type===20){var l=uA[t.value.toUpperCase()];if(typeof l<"u")return l}return uA.TRANSPARENT}},cp=function(e){return(255&e)===0},zo=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+n+","+r+","+t/255+")":"rgb("+i+","+n+","+r+")"},D0=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},HG=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},QG=function(e,t){var r=t.filter(Pv);if(r.length===3){var n=r.map(HG),i=n[0],s=n[1],a=n[2];return D0(i,s,a,1)}if(r.length===4){var l=r.map(HG),i=l[0],s=l[1],a=l[2],c=l[3];return D0(i,s,a,c)}return 0};function Zj(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var $G=function(e,t){var r=t.filter(Pv),n=r[0],i=r[1],s=r[2],a=r[3],l=(n.type===17?Ad(n.number):zB.parse(e,n))/(Math.PI*2),c=co(i)?i.number/100:0,u=co(s)?s.number/100:0,d=typeof a<"u"&&co(a)?Ts(a,1):1;if(c===0)return D0(u*255,u*255,u*255,1);var h=u<=.5?u*(c+1):u+c-u*c,A=u*2-h,g=Zj(A,h,l+1/3),v=Zj(A,h,l),x=Zj(A,h,l-1/3);return D0(g*255,v*255,x*255,d)},o9e={hsl:$G,hsla:$G,rgb:QG,rgba:QG},V2=function(e,t){return lp.parse(e,Fde.create(t).parseComponentValue())},uA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},l9e={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(ps(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},c9e={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},GB=function(e,t){var r=lp.parse(e,t[0]),n=t[1];return n&&co(n)?{color:r,stop:n}:{color:r,stop:null}},VG=function(e,t){var r=e[0],n=e[e.length-1];r.stop===null&&(r.stop=yl),n.stop===null&&(n.stop=O0);for(var i=[],s=0,a=0;a<e.length;a++){var l=e[a].stop;if(l!==null){var c=Ts(l,t);c>s?i.push(c):i.push(s),s=c}else i.push(null)}for(var u=null,a=0;a<i.length;a++){var d=i[a];if(d===null)u===null&&(u=a);else if(u!==null){for(var h=a-u,A=i[u-1],g=(d-A)/(h+1),v=1;v<=h;v++)i[u+v-1]=g*v;u=null}}return e.map(function(x,y){var w=x.color;return{color:w,stop:Math.max(Math.min(1,i[y]/t),0)}})},u9e=function(e,t,r){var n=t/2,i=r/2,s=Ts(e[0],t)-n,a=i-Ts(e[1],r);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},d9e=function(e,t,r){var n=typeof e=="number"?e:u9e(e,t,r),i=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),s=t/2,a=r/2,l=i/2,c=Math.sin(n-Math.PI/2)*l,u=Math.cos(n-Math.PI/2)*l;return[i,s-u,s+u,a-c,a+c]},Qd=function(e,t){return Math.sqrt(e*e+t*t)},zG=function(e,t,r,n,i){var s=[[0,0],[0,t],[e,0],[e,t]];return s.reduce(function(a,l){var c=l[0],u=l[1],d=Qd(r-c,n-u);return(i?d<a.optimumDistance:d>a.optimumDistance)?{optimumCorner:l,optimumDistance:d}:a},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},f9e=function(e,t,r,n,i){var s=0,a=0;switch(e.size){case 0:e.shape===0?s=a=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-i)):e.shape===1&&(s=Math.min(Math.abs(t),Math.abs(t-n)),a=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(e.shape===0)s=a=Math.min(Qd(t,r),Qd(t,r-i),Qd(t-n,r),Qd(t-n,r-i));else if(e.shape===1){var l=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(t),Math.abs(t-n)),c=zG(n,i,t,r,!0),u=c[0],d=c[1];s=Qd(u-t,(d-r)/l),a=l*s}break;case 1:e.shape===0?s=a=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-i)):e.shape===1&&(s=Math.max(Math.abs(t),Math.abs(t-n)),a=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(e.shape===0)s=a=Math.max(Qd(t,r),Qd(t,r-i),Qd(t-n,r),Qd(t-n,r-i));else if(e.shape===1){var l=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(t),Math.abs(t-n)),h=zG(n,i,t,r,!1),u=h[0],d=h[1];s=Qd(u-t,(d-r)/l),a=l*s}break}return Array.isArray(e.size)&&(s=Ts(e.size[0],n),a=e.size.length===2?Ts(e.size[1],i):s),[s,a]},h9e=function(e,t){var r=Ad(180),n=[];return wh(t).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&a.value==="to"){r=Qde(i);return}else if(Hde(a)){r=zB.parse(e,a);return}}var l=GB(e,i);n.push(l)}),{angle:r,stops:n,type:1}},OC=function(e,t){var r=Ad(180),n=[];return wh(t).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){r=Qde(i);return}else if(Hde(a)){r=(zB.parse(e,a)+Ad(270))%Ad(360);return}}var l=GB(e,i);n.push(l)}),{angle:r,stops:n,type:1}},A9e=function(e,t){var r=Ad(180),n=[],i=1,s=0,a=3,l=[];return wh(t).forEach(function(c,u){var d=c[0];if(u===0){if(ps(d)&&d.value==="linear"){i=1;return}else if(ps(d)&&d.value==="radial"){i=2;return}}if(d.type===18){if(d.name==="from"){var h=lp.parse(e,d.values[0]);n.push({stop:yl,color:h})}else if(d.name==="to"){var h=lp.parse(e,d.values[0]);n.push({stop:O0,color:h})}else if(d.name==="color-stop"){var A=d.values.filter(Pv);if(A.length===2){var h=lp.parse(e,A[1]),g=A[0];Hy(g)&&n.push({stop:{type:16,number:g.number*100,flags:g.flags},color:h})}}}}),i===1?{angle:(r+Ad(180))%Ad(360),stops:n,type:i}:{size:a,shape:s,stops:n,position:l,type:i}},$de="closest-side",Vde="farthest-side",zde="closest-corner",Gde="farthest-corner",Wde="circle",Kde="ellipse",qde="cover",Xde="contain",p9e=function(e,t){var r=0,n=3,i=[],s=[];return wh(t).forEach(function(a,l){var c=!0;if(l===0){var u=!1;c=a.reduce(function(h,A){if(u)if(ps(A))switch(A.value){case"center":return s.push(qU),h;case"top":case"left":return s.push(yl),h;case"right":case"bottom":return s.push(O0),h}else(co(A)||Sp(A))&&s.push(A);else if(ps(A))switch(A.value){case Wde:return r=0,!1;case Kde:return r=1,!1;case"at":return u=!0,!1;case $de:return n=0,!1;case qde:case Vde:return n=1,!1;case Xde:case zde:return n=2,!1;case Gde:return n=3,!1}else if(Sp(A)||co(A))return Array.isArray(n)||(n=[]),n.push(A),!1;return h},c)}if(c){var d=GB(e,a);i.push(d)}}),{size:n,shape:r,stops:i,position:s,type:2}},DC=function(e,t){var r=0,n=3,i=[],s=[];return wh(t).forEach(function(a,l){var c=!0;if(l===0?c=a.reduce(function(d,h){if(ps(h))switch(h.value){case"center":return s.push(qU),!1;case"top":case"left":return s.push(yl),!1;case"right":case"bottom":return s.push(O0),!1}else if(co(h)||Sp(h))return s.push(h),!1;return d},c):l===1&&(c=a.reduce(function(d,h){if(ps(h))switch(h.value){case Wde:return r=0,!1;case Kde:return r=1,!1;case Xde:case $de:return n=0,!1;case Vde:return n=1,!1;case zde:return n=2,!1;case qde:case Gde:return n=3,!1}else if(Sp(h)||co(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return d},c)),c){var u=GB(e,a);i.push(u)}}),{size:n,shape:r,stops:i,position:s,type:2}},g9e=function(e){return e.type===1},m9e=function(e){return e.type===2},XU={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var n=Yde[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function x9e(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!Yde[e.name])}var Yde={"linear-gradient":h9e,"-moz-linear-gradient":OC,"-ms-linear-gradient":OC,"-o-linear-gradient":OC,"-webkit-linear-gradient":OC,"radial-gradient":p9e,"-moz-radial-gradient":DC,"-ms-radial-gradient":DC,"-o-radial-gradient":DC,"-webkit-radial-gradient":DC,"-webkit-gradient":A9e},v9e={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return Pv(n)&&x9e(n)}).map(function(n){return XU.parse(e,n)})}},y9e={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(ps(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},w9e={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return wh(t).map(function(r){return r.filter(co)}).map(Dde)}},b9e={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return wh(t).map(function(r){return r.filter(ps).map(function(n){return n.value}).join(" ")}).map(_9e)}},_9e=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Ux;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(Ux||(Ux={}));var E9e={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return wh(t).map(function(r){return r.filter(S9e)})}},S9e=function(e){return ps(e)||co(e)},WB=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},C9e=WB("top"),N9e=WB("right"),T9e=WB("bottom"),B9e=WB("left"),KB=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return Dde(r.filter(co))}}},I9e=KB("top-left"),k9e=KB("top-right"),j9e=KB("bottom-right"),P9e=KB("bottom-left"),qB=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},F9e=qB("top"),O9e=qB("right"),D9e=qB("bottom"),L9e=qB("left"),XB=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return KE(r)?r.number:0}}},R9e=XB("top"),M9e=XB("right"),U9e=XB("bottom"),H9e=XB("left"),Q9e={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},$9e={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},V9e={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(ps).reduce(function(r,n){return r|z9e(n.value)},0)}},z9e=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},G9e={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},W9e={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},P5;(function(e){e.NORMAL="normal",e.STRICT="strict"})(P5||(P5={}));var K9e={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return P5.STRICT;case"normal":default:return P5.NORMAL}}},q9e={name:"line-height",initialValue:"normal",prefix:!1,type:4},GG=function(e,t){return ps(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:co(e)?Ts(e,t):t},X9e={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:XU.parse(e,t)}},Y9e={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},tO={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},YB=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Z9e=YB("top"),J9e=YB("right"),eHe=YB("bottom"),tHe=YB("left"),rHe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(ps).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},nHe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},ZB=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},iHe=ZB("top"),sHe=ZB("right"),aHe=ZB("bottom"),oHe=ZB("left"),lHe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},cHe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},uHe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&eO(t[0],"none")?[]:wh(t).map(function(r){for(var n={color:uA.TRANSPARENT,offsetX:yl,offsetY:yl,blur:yl},i=0,s=0;s<r.length;s++){var a=r[s];Sp(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:n.blur=a,i++):n.color=lp.parse(e,a)}return n})}},dHe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},fHe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=pHe[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},hHe=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},AHe=function(e){var t=e.filter(function(c){return c.type===17}).map(function(c){return c.number}),r=t[0],n=t[1];t[2],t[3];var i=t[4],s=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var a=t[12],l=t[13];return t[14],t[15],t.length===16?[r,n,i,s,a,l]:null},pHe={matrix:hHe,matrix3d:AHe},WG={type:16,number:50,flags:WE},gHe=[WG,WG],mHe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(co);return r.length!==2?gHe:[r[0],r[1]]}},xHe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},z2;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(z2||(z2={}));var vHe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return z2.BREAK_ALL;case"keep-all":return z2.KEEP_ALL;case"normal":default:return z2.NORMAL}}},yHe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(Hy(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Zde={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},wHe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Hy(t)?t.number:1}},bHe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},_He={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(ps).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},EHe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},SHe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},CHe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(Hy(t))return t.number;if(ps(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},NHe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(ps).map(function(r){return r.value})}},THe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Bo=function(e,t){return(e&t)!==0},BHe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},IHe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=t.filter(Ode),s=0;s<i.length;s++){var a=i[s],l=i[s+1];if(a.type===20){var c=l&&Hy(l)?l.number:1;n.push({counter:a.value,increment:c})}}return n}},kHe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],n=t.filter(Ode),i=0;i<n.length;i++){var s=n[i],a=n[i+1];if(ps(s)&&s.value!=="none"){var l=a&&Hy(a)?a.number:0;r.push({counter:s.value,reset:l})}}return r}},jHe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(KE).map(function(r){return Zde.parse(e,r)})}},PHe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],i=t.filter(s9e);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var a=i[s].value,l=i[s+1].value;n.push({open:a,close:l})}return n}},KG=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},FHe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&eO(t[0],"none")?[]:wh(t).map(function(r){for(var n={color:255,offsetX:yl,offsetY:yl,blur:yl,spread:yl,inset:!1},i=0,s=0;s<r.length;s++){var a=r[s];eO(a,"inset")?n.inset=!0:Sp(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:i===2?n.blur=a:n.spread=a,i++):n.color=lp.parse(e,a)}return n})}},OHe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(ps).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},DHe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},LHe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return KE(t)?t.number:0}},RHe=function(){function e(t,r){var n,i;this.animationDuration=Qr(t,jHe,r.animationDuration),this.backgroundClip=Qr(t,l9e,r.backgroundClip),this.backgroundColor=Qr(t,c9e,r.backgroundColor),this.backgroundImage=Qr(t,v9e,r.backgroundImage),this.backgroundOrigin=Qr(t,y9e,r.backgroundOrigin),this.backgroundPosition=Qr(t,w9e,r.backgroundPosition),this.backgroundRepeat=Qr(t,b9e,r.backgroundRepeat),this.backgroundSize=Qr(t,E9e,r.backgroundSize),this.borderTopColor=Qr(t,C9e,r.borderTopColor),this.borderRightColor=Qr(t,N9e,r.borderRightColor),this.borderBottomColor=Qr(t,T9e,r.borderBottomColor),this.borderLeftColor=Qr(t,B9e,r.borderLeftColor),this.borderTopLeftRadius=Qr(t,I9e,r.borderTopLeftRadius),this.borderTopRightRadius=Qr(t,k9e,r.borderTopRightRadius),this.borderBottomRightRadius=Qr(t,j9e,r.borderBottomRightRadius),this.borderBottomLeftRadius=Qr(t,P9e,r.borderBottomLeftRadius),this.borderTopStyle=Qr(t,F9e,r.borderTopStyle),this.borderRightStyle=Qr(t,O9e,r.borderRightStyle),this.borderBottomStyle=Qr(t,D9e,r.borderBottomStyle),this.borderLeftStyle=Qr(t,L9e,r.borderLeftStyle),this.borderTopWidth=Qr(t,R9e,r.borderTopWidth),this.borderRightWidth=Qr(t,M9e,r.borderRightWidth),this.borderBottomWidth=Qr(t,U9e,r.borderBottomWidth),this.borderLeftWidth=Qr(t,H9e,r.borderLeftWidth),this.boxShadow=Qr(t,FHe,r.boxShadow),this.color=Qr(t,Q9e,r.color),this.direction=Qr(t,$9e,r.direction),this.display=Qr(t,V9e,r.display),this.float=Qr(t,G9e,r.cssFloat),this.fontFamily=Qr(t,EHe,r.fontFamily),this.fontSize=Qr(t,SHe,r.fontSize),this.fontStyle=Qr(t,THe,r.fontStyle),this.fontVariant=Qr(t,NHe,r.fontVariant),this.fontWeight=Qr(t,CHe,r.fontWeight),this.letterSpacing=Qr(t,W9e,r.letterSpacing),this.lineBreak=Qr(t,K9e,r.lineBreak),this.lineHeight=Qr(t,q9e,r.lineHeight),this.listStyleImage=Qr(t,X9e,r.listStyleImage),this.listStylePosition=Qr(t,Y9e,r.listStylePosition),this.listStyleType=Qr(t,tO,r.listStyleType),this.marginTop=Qr(t,Z9e,r.marginTop),this.marginRight=Qr(t,J9e,r.marginRight),this.marginBottom=Qr(t,eHe,r.marginBottom),this.marginLeft=Qr(t,tHe,r.marginLeft),this.opacity=Qr(t,wHe,r.opacity);var s=Qr(t,rHe,r.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Qr(t,nHe,r.overflowWrap),this.paddingTop=Qr(t,iHe,r.paddingTop),this.paddingRight=Qr(t,sHe,r.paddingRight),this.paddingBottom=Qr(t,aHe,r.paddingBottom),this.paddingLeft=Qr(t,oHe,r.paddingLeft),this.paintOrder=Qr(t,OHe,r.paintOrder),this.position=Qr(t,cHe,r.position),this.textAlign=Qr(t,lHe,r.textAlign),this.textDecorationColor=Qr(t,bHe,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=Qr(t,_He,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=Qr(t,uHe,r.textShadow),this.textTransform=Qr(t,dHe,r.textTransform),this.transform=Qr(t,fHe,r.transform),this.transformOrigin=Qr(t,mHe,r.transformOrigin),this.visibility=Qr(t,xHe,r.visibility),this.webkitTextStrokeColor=Qr(t,DHe,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=Qr(t,LHe,r.webkitTextStrokeWidth),this.wordBreak=Qr(t,vHe,r.wordBreak),this.zIndex=Qr(t,yHe,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return cp(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Bo(this.display,4)||Bo(this.display,33554432)||Bo(this.display,268435456)||Bo(this.display,536870912)||Bo(this.display,67108864)||Bo(this.display,134217728)},e}(),MHe=function(){function e(t,r){this.content=Qr(t,BHe,r.content),this.quotes=Qr(t,PHe,r.quotes)}return e}(),qG=function(){function e(t,r){this.counterIncrement=Qr(t,IHe,r.counterIncrement),this.counterReset=Qr(t,kHe,r.counterReset)}return e}(),Qr=function(e,t,r){var n=new Pde,i=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(i);var s=new Fde(n.read());switch(t.type){case 2:var a=s.parseComponentValue();return t.parse(e,ps(a)?a.value:t.initialValue);case 0:return t.parse(e,s.parseComponentValue());case 1:return t.parse(e,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(t.format){case"angle":return zB.parse(e,s.parseComponentValue());case"color":return lp.parse(e,s.parseComponentValue());case"image":return XU.parse(e,s.parseComponentValue());case"length":var l=s.parseComponentValue();return Sp(l)?l:yl;case"length-percentage":var c=s.parseComponentValue();return co(c)?c:yl;case"time":return Zde.parse(e,s.parseComponentValue())}break}},UHe="data-html2canvas-debug",HHe=function(e){var t=e.getAttribute(UHe);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},rO=function(e,t){var r=HHe(e);return r===1||t===r},bh=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,rO(r,3))debugger;this.styles=new RHe(t,window.getComputedStyle(r,null)),sO(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=$B(this.context,r),rO(r,4)&&(this.flags|=16)}return e}(),QHe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",XG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A2=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var LC=0;LC<XG.length;LC++)A2[XG.charCodeAt(LC)]=LC;var $He=function(e){var t=e.length*.75,r=e.length,n,i=0,s,a,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),d=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)s=A2[e.charCodeAt(n)],a=A2[e.charCodeAt(n+1)],l=A2[e.charCodeAt(n+2)],c=A2[e.charCodeAt(n+3)],d[i++]=s<<2|a>>4,d[i++]=(a&15)<<4|l>>2,d[i++]=(l&3)<<6|c&63;return u},VHe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},zHe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},Yg=5,YU=11,Jj=2,GHe=YU-Yg,Jde=65536>>Yg,WHe=1<<Yg,e6=WHe-1,KHe=1024>>Yg,qHe=Jde+KHe,XHe=qHe,YHe=32,ZHe=XHe+YHe,JHe=65536>>YU,eQe=1<<GHe,tQe=eQe-1,YG=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},rQe=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},nQe=function(e,t){var r=$He(e),n=Array.isArray(r)?zHe(r):new Uint32Array(r),i=Array.isArray(r)?VHe(r):new Uint16Array(r),s=24,a=YG(i,s/2,n[4]/2),l=n[5]===2?YG(i,(s+n[4])/2):rQe(n,Math.ceil((s+n[4])/4));return new iQe(n[0],n[1],n[2],n[3],a,l)},iQe=function(){function e(t,r,n,i,s,a){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Yg],r=(r<<Jj)+(t&e6),this.data[r];if(t<=65535)return r=this.index[Jde+(t-55296>>Yg)],r=(r<<Jj)+(t&e6),this.data[r];if(t<this.highStart)return r=ZHe-JHe+(t>>YU),r=this.index[r],r+=t>>Yg&tQe,r=this.index[r],r=(r<<Jj)+(t&e6),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),ZG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sQe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var RC=0;RC<ZG.length;RC++)sQe[ZG.charCodeAt(RC)]=RC;var aQe=1,t6=2,r6=3,JG=4,eW=5,oQe=7,tW=8,n6=9,i6=10,rW=11,nW=12,iW=13,sW=14,s6=15,lQe=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=e.charCodeAt(r++);(s&64512)===56320?t.push(((i&1023)<<10)+(s&1023)+65536):(t.push(i),r--)}else t.push(i)}return t},cQe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var a=e[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},uQe=nQe(QHe),ed="",a6="",dQe=function(e){return uQe.get(e)},fQe=function(e,t,r){var n=r-2,i=t[n],s=t[r-1],a=t[r];if(s===t6&&a===r6)return ed;if(s===t6||s===r6||s===JG||a===t6||a===r6||a===JG)return a6;if(s===tW&&[tW,n6,rW,nW].indexOf(a)!==-1||(s===rW||s===n6)&&(a===n6||a===i6)||(s===nW||s===i6)&&a===i6||a===iW||a===eW||a===oQe||s===aQe)return ed;if(s===iW&&a===sW){for(;i===eW;)i=t[--n];if(i===sW)return ed}if(s===s6&&a===s6){for(var l=0;i===s6;)l++,i=t[--n];if(l%2===0)return ed}return a6},hQe=function(e){var t=lQe(e),r=t.length,n=0,i=0,s=t.map(dQe);return{next:function(){if(n>=r)return{done:!0,value:null};for(var a=ed;n<r&&(a=fQe(t,s,++n))===ed;);if(a!==ed||n===r){var l=cQe.apply(null,t.slice(i,n));return i=n,{value:l,done:!1}}return{done:!0,value:null}}}},AQe=function(e){for(var t=hQe(e),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},pQe=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),s=Math.round(i.height);if(e.body.removeChild(n),s===t)return!0}}return!1},gQe=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,i=VB(n.data).map(function(c){return Va(c)}),s=0,a={},l=i.every(function(c,u){r.setStart(n,s),r.setEnd(n,s+c.length);var d=r.getBoundingClientRect();s+=c.length;var h=d.x>a.x||d.y>a.y;return a=d,u===0?!0:h});return e.body.removeChild(t),l},mQe=function(){return typeof new Image().crossOrigin<"u"},xQe=function(){return typeof new XMLHttpRequest().responseType=="string"},vQe=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},aW=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},yQe=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,s=t.toDataURL();i.src=s;var a=nO(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),oW(a).then(function(l){n.drawImage(l,0,0);var c=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var u=e.createElement("div");return u.style.backgroundImage="url("+s+")",u.style.height=r+"px",aW(c)?oW(nO(r,r,0,0,u)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),aW(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},nO=function(e,t,r,n,i){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),l=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",e.toString()),a.setAttributeNS(null,"height",t.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",r.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(l),l.appendChild(i),a},oW=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},pl={get SUPPORT_RANGE_BOUNDS(){var e=pQe(document);return Object.defineProperty(pl,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=pl.SUPPORT_RANGE_BOUNDS&&gQe(document);return Object.defineProperty(pl,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=vQe(document);return Object.defineProperty(pl,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?yQe(document):Promise.resolve(!1);return Object.defineProperty(pl,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=mQe();return Object.defineProperty(pl,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=xQe();return Object.defineProperty(pl,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(pl,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(pl,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},G2=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),wQe=function(e,t,r,n){var i=EQe(t,r),s=[],a=0;return i.forEach(function(l){if(r.textDecorationLine.length||l.trim().length>0)if(pl.SUPPORT_RANGE_BOUNDS){var c=lW(n,a,l.length).getClientRects();if(c.length>1){var u=ZU(l),d=0;u.forEach(function(A){s.push(new G2(A,TA.fromDOMRectList(e,lW(n,d+a,A.length).getClientRects()))),d+=A.length})}else s.push(new G2(l,TA.fromDOMRectList(e,c)))}else{var h=n.splitText(l.length);s.push(new G2(l,bQe(e,n))),n=h}else pl.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));a+=l.length}),s},bQe=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(n,t);var s=$B(e,n);return n.firstChild&&i.replaceChild(n.firstChild,n),s}}return TA.EMPTY},lW=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(e,t),i.setEnd(e,t+r),i},ZU=function(e){if(pl.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return AQe(e)},_Qe=function(e,t){if(pl.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(n){return n.segment})}return CQe(e,t)},EQe=function(e,t){return t.letterSpacing!==0?ZU(e):_Qe(e,t)},SQe=[32,160,4961,65792,65793,4153,4241],CQe=function(e,t){for(var r=JUe(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],i,s=function(){if(i.value){var a=i.value.slice(),l=VB(a),c="";l.forEach(function(u){SQe.indexOf(u)===-1?c+=Va(u):(c.length&&n.push(c),n.push(Va(u)),c="")}),c.length&&n.push(c)}};!(i=r.next()).done;)s();return n},NQe=function(){function e(t,r,n){this.text=TQe(r.data,n.textTransform),this.textBounds=wQe(t,this.text,n,r)}return e}(),TQe=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(BQe,IQe);case 2:return e.toUpperCase();default:return e}},BQe=/(^|\s|:|-|\(|\))([a-z])/g,IQe=function(e,t,r){return e.length>0?t+r.toUpperCase():e},efe=function(e){wf(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return t}(bh),tfe=function(e){wf(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return t}(bh),rfe=function(e){wf(t,e);function t(r,n){var i=e.call(this,r,n)||this,s=new XMLSerializer,a=$B(r,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return t}(bh),nfe=function(e){wf(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.value=n.value,i}return t}(bh),iO=function(e){wf(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return t}(bh),kQe=[{type:15,flags:0,unit:"px",number:3}],jQe=[{type:16,flags:0,number:50}],PQe=function(e){return e.width>e.height?new TA(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new TA(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},FQe=function(e){var t=e.type===OQe?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},F5="checkbox",O5="radio",OQe="password",cW=707406591,JU=function(e){wf(t,e);function t(r,n){var i=e.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=FQe(n),(i.type===F5||i.type===O5)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=PQe(i.bounds)),i.type){case F5:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=kQe;break;case O5:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=jQe;break}return i}return t}(bh),ife=function(e){wf(t,e);function t(r,n){var i=e.call(this,r,n)||this,s=n.options[n.selectedIndex||0];return i.value=s&&s.text||"",i}return t}(bh),sfe=function(e){wf(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.value=n.value,i}return t}(bh),afe=function(e){wf(t,e);function t(r,n){var i=e.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=lfe(r,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?V2(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):uA.TRANSPARENT,a=n.contentWindow.document.body?V2(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):uA.TRANSPARENT;i.backgroundColor=cp(s)?cp(a)?i.styles.backgroundColor:a:s}}catch{}return i}return t}(bh),DQe=["OL","UL","MENU"],c4=function(e,t,r,n){for(var i=t.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,cfe(i)&&i.data.trim().length>0)r.textNodes.push(new NQe(e,i,r.styles));else if(mx(i))if(hfe(i)&&i.assignedNodes)i.assignedNodes().forEach(function(l){return c4(e,l,r,n)});else{var a=ofe(e,i);a.styles.isVisible()&&(LQe(i,a,n)?a.flags|=4:RQe(a.styles)&&(a.flags|=2),DQe.indexOf(i.tagName)!==-1&&(a.flags|=8),r.elements.push(a),i.slot,i.shadowRoot?c4(e,i.shadowRoot,a,n):!D5(i)&&!ufe(i)&&!L5(i)&&c4(e,i,a,n))}},ofe=function(e,t){return aO(t)?new efe(e,t):dfe(t)?new tfe(e,t):ufe(t)?new rfe(e,t):MQe(t)?new nfe(e,t):UQe(t)?new iO(e,t):HQe(t)?new JU(e,t):L5(t)?new ife(e,t):D5(t)?new sfe(e,t):ffe(t)?new afe(e,t):new bh(e,t)},lfe=function(e,t){var r=ofe(e,t);return r.flags|=4,c4(e,t,r,r),r},LQe=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||e7(e)&&r.styles.isTransparent()},RQe=function(e){return e.isPositioned()||e.isFloating()},cfe=function(e){return e.nodeType===Node.TEXT_NODE},mx=function(e){return e.nodeType===Node.ELEMENT_NODE},sO=function(e){return mx(e)&&typeof e.style<"u"&&!u4(e)},u4=function(e){return typeof e.className=="object"},MQe=function(e){return e.tagName==="LI"},UQe=function(e){return e.tagName==="OL"},HQe=function(e){return e.tagName==="INPUT"},QQe=function(e){return e.tagName==="HTML"},ufe=function(e){return e.tagName==="svg"},e7=function(e){return e.tagName==="BODY"},dfe=function(e){return e.tagName==="CANVAS"},uW=function(e){return e.tagName==="VIDEO"},aO=function(e){return e.tagName==="IMG"},ffe=function(e){return e.tagName==="IFRAME"},dW=function(e){return e.tagName==="STYLE"},$Qe=function(e){return e.tagName==="SCRIPT"},D5=function(e){return e.tagName==="TEXTAREA"},L5=function(e){return e.tagName==="SELECT"},hfe=function(e){return e.tagName==="SLOT"},fW=function(e){return e.tagName.indexOf("-")>0},VQe=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},e.prototype.parse=function(t){var r=this,n=t.counterIncrement,i=t.counterReset,s=!0;n!==null&&n.forEach(function(l){var c=r.counters[l.counter];c&&l.increment!==0&&(s=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var a=[];return s&&i.forEach(function(l){var c=r.counters[l.counter];a.push(l.counter),c||(c=r.counters[l.counter]=[]),c.push(l.reset)}),a},e}(),hW={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},AW={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},zQe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},GQe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},N1=function(e,t,r,n,i,s){return e<t||e>r?e_(e,i,s.length>0):n.integers.reduce(function(a,l,c){for(;e>=l;)e-=l,a+=n.values[c];return a},"")+s},Afe=function(e,t,r,n){var i="";do r||e--,i=n(e)+i,e/=t;while(e*t>=t);return i},Ua=function(e,t,r,n,i){var s=r-t+1;return(e<0?"-":"")+(Afe(Math.abs(e),s,n,function(a){return Va(Math.floor(a%s)+t)})+i)},ag=function(e,t,r){r===void 0&&(r=". ");var n=t.length;return Afe(Math.abs(e),n,!1,function(i){return t[Math.floor(i%n)]})+r},G1=1,a0=2,o0=4,p2=8,Lh=function(e,t,r,n,i,s){if(e<-9999||e>9999)return e_(e,4,i.length>0);var a=Math.abs(e),l=i;if(a===0)return t[0]+l;for(var c=0;a>0&&c<=4;c++){var u=a%10;u===0&&Bo(s,G1)&&l!==""?l=t[u]+l:u>1||u===1&&c===0||u===1&&c===1&&Bo(s,a0)||u===1&&c===1&&Bo(s,o0)&&e>100||u===1&&c>1&&Bo(s,p2)?l=t[u]+(c>0?r[c-1]:"")+l:u===1&&c>0&&(l=r[c-1]+l),a=Math.floor(a/10)}return(e<0?n:"")+l},pW="",gW="",mW="",o6="",e_=function(e,t,r){var n=r?". ":"",i=r?"":"",s=r?", ":"",a=r?" ":"";switch(t){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var l=Ua(e,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return ag(e,"",i);case 6:return N1(e,1,3999,hW,3,n).toLowerCase();case 7:return N1(e,1,3999,hW,3,n);case 8:return Ua(e,945,969,!1,n);case 9:return Ua(e,97,122,!1,n);case 10:return Ua(e,65,90,!1,n);case 11:return Ua(e,1632,1641,!0,n);case 12:case 49:return N1(e,1,9999,AW,3,n);case 35:return N1(e,1,9999,AW,3,n).toLowerCase();case 13:return Ua(e,2534,2543,!0,n);case 14:case 30:return Ua(e,6112,6121,!0,n);case 15:return ag(e,"",i);case 16:return ag(e,"",i);case 17:case 48:return Lh(e,"",pW,"",i,a0|o0|p2);case 47:return Lh(e,"",gW,"",i,G1|a0|o0|p2);case 42:return Lh(e,"",pW,"",i,a0|o0|p2);case 41:return Lh(e,"",gW,"",i,G1|a0|o0|p2);case 26:return Lh(e,"","",mW,i,0);case 25:return Lh(e,"","",mW,i,G1|a0|o0);case 31:return Lh(e,"","",o6,s,G1|a0|o0);case 33:return Lh(e,"","",o6,s,0);case 32:return Lh(e,"","",o6,s,G1|a0|o0);case 18:return Ua(e,2406,2415,!0,n);case 20:return N1(e,1,19999,GQe,3,n);case 21:return Ua(e,2790,2799,!0,n);case 22:return Ua(e,2662,2671,!0,n);case 22:return N1(e,1,10999,zQe,3,n);case 23:return ag(e,"");case 24:return ag(e,"");case 27:return Ua(e,3302,3311,!0,n);case 28:return ag(e,"",i);case 29:return ag(e,"",i);case 34:return Ua(e,3792,3801,!0,n);case 37:return Ua(e,6160,6169,!0,n);case 38:return Ua(e,4160,4169,!0,n);case 39:return Ua(e,2918,2927,!0,n);case 40:return Ua(e,1776,1785,!0,n);case 43:return Ua(e,3046,3055,!0,n);case 44:return Ua(e,3174,3183,!0,n);case 45:return Ua(e,3664,3673,!0,n);case 46:return Ua(e,3872,3881,!0,n);case 3:default:return Ua(e,48,57,!0,n)}},pfe="data-html2canvas-ignore",xW=function(){function e(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new VQe,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var n=this,i=WQe(t,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=t.defaultView.pageXOffset,a=t.defaultView.pageYOffset,l=i.contentWindow,c=l.document,u=XQe(i).then(function(){return cc(n,void 0,void 0,function(){var d,h;return Rl(this,function(A){switch(A.label){case 0:return this.scrolledElements.forEach(e$e),l&&(l.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==r.top||l.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-r.left,l.scrollY-r.top,0,0))),d=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:A.sent(),A.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,qQe(c)]:[3,4];case 3:A.sent(),A.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(c,h)}).then(function(){return i})]:[2,i]}})})});return c.open(),c.write(ZQe(document.doctype)+"<html></html>"),JQe(this.referenceElement.ownerDocument,s,a),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),u},e.prototype.createElementClone=function(t){if(rO(t,2))debugger;if(dfe(t))return this.createCanvasClone(t);if(uW(t))return this.createVideoClone(t);if(dW(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return aO(r)&&(aO(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),fW(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return l6(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),i=t.cloneNode(!1);return i.textContent=n,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var i=t.cloneNode(!1);try{i.width=t.width,i.height=t.height;var s=t.getContext("2d"),a=i.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,t.width,t.height),0,0);else{var l=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(l){var c=l.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}a.drawImage(t,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return i},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var i=t.ownerDocument.createElement("canvas");return i.width=t.offsetWidth,i.height=t.offsetHeight,i},e.prototype.appendChildNode=function(t,r,n){(!mx(r)||!$Qe(r)&&!r.hasAttribute(pfe)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!mx(r)||!dW(r))&&t.appendChild(this.cloneNode(r,n))},e.prototype.cloneChildNodes=function(t,r,n){for(var i=this,s=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;s;s=s.nextSibling)if(mx(s)&&hfe(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(l){return i.appendChildNode(r,l,n)})}else this.appendChildNode(r,s,n)},e.prototype.cloneNode=function(t,r){if(cfe(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&mx(t)&&(sO(t)||u4(t))){var i=this.createElementClone(t);i.style.transitionProperty="none";var s=n.getComputedStyle(t),a=n.getComputedStyle(t,":before"),l=n.getComputedStyle(t,":after");this.referenceElement===t&&sO(i)&&(this.clonedReferenceElement=i),e7(i)&&n$e(i);var c=this.counters.parse(new qG(this.context,s)),u=this.resolvePseudoContent(t,i,a,W2.BEFORE);fW(t)&&(r=!0),uW(t)||this.cloneChildNodes(t,i,r),u&&i.insertBefore(u,i.firstChild);var d=this.resolvePseudoContent(t,i,l,W2.AFTER);return d&&i.appendChild(d),this.counters.pop(c),(s&&(this.options.copyStyles||u4(t))&&!ffe(t)||r)&&l6(s,i),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([i,t.scrollLeft,t.scrollTop]),(D5(t)||L5(t))&&(D5(i)||L5(i))&&(i.value=t.value),i}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,n,i){var s=this;if(n){var a=n.content,l=r.ownerDocument;if(!(!l||!a||a==="none"||a==="-moz-alt-content"||n.display==="none")){this.counters.parse(new qG(this.context,n));var c=new MHe(this.context,n),u=l.createElement("html2canvaspseudoelement");l6(n,u),c.content.forEach(function(h){if(h.type===0)u.appendChild(l.createTextNode(h.value));else if(h.type===22){var A=l.createElement("img");A.src=h.value,A.style.opacity="1",u.appendChild(A)}else if(h.type===18){if(h.name==="attr"){var g=h.values.filter(ps);g.length&&u.appendChild(l.createTextNode(t.getAttribute(g[0].value)||""))}else if(h.name==="counter"){var v=h.values.filter(Pv),x=v[0],y=v[1];if(x&&ps(x)){var w=s.counters.getCounterValue(x.value),_=y&&ps(y)?tO.parse(s.context,y.value):3;u.appendChild(l.createTextNode(e_(w,_,!1)))}}else if(h.name==="counters"){var E=h.values.filter(Pv),x=E[0],I=E[1],y=E[2];if(x&&ps(x)){var N=s.counters.getCounterValues(x.value),j=y&&ps(y)?tO.parse(s.context,y.value):3,T=I&&I.type===0?I.value:"",P=N.map(function(O){return e_(O,j,!1)}).join(T);u.appendChild(l.createTextNode(P))}}}else if(h.type===20)switch(h.value){case"open-quote":u.appendChild(l.createTextNode(KG(c.quotes,s.quoteDepth++,!0)));break;case"close-quote":u.appendChild(l.createTextNode(KG(c.quotes,--s.quoteDepth,!1)));break;default:u.appendChild(l.createTextNode(h.value))}}),u.className=oO+" "+lO;var d=i===W2.BEFORE?" "+oO:" "+lO;return u4(r)?r.className.baseValue+=d:r.className+=d,u}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),W2;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(W2||(W2={}));var WQe=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(pfe,"true"),e.body.appendChild(r),r},KQe=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},qQe=function(e){return Promise.all([].slice.call(e.images,0).map(KQe))},XQe=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),t(e))},50)}})},YQe=["all","d","content"],l6=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);YQe.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},ZQe=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},JQe=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},e$e=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},t$e=":before",r$e=":after",oO="___html2canvas___pseudoelement_before",lO="___html2canvas___pseudoelement_after",vW=`{
    content: "" !important;
    display: none !important;
}`,n$e=function(e){i$e(e,"."+oO+t$e+vW+`
         .`+lO+r$e+vW)},i$e=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},gfe=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),s$e=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(u6(t)||c$e(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return cc(this,void 0,void 0,function(){var r,n,i,s,a=this;return Rl(this,function(l){switch(l.label){case 0:return r=gfe.isSameOrigin(t),n=!c6(t)&&this._options.useCORS===!0&&pl.SUPPORT_CORS_IMAGES&&!r,i=!c6(t)&&!r&&!u6(t)&&typeof this._options.proxy=="string"&&pl.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!c6(t)&&!u6(t)&&!i&&!n?[2]:(s=t,i?[4,this.proxy(s)]:[3,2]);case 1:s=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(c,u){var d=new Image;d.onload=function(){return c(d)},d.onerror=u,(u$e(s)||n)&&(d.crossOrigin="anonymous"),d.src=s,d.complete===!0&&setTimeout(function(){return c(d)},500),a._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=t.substring(0,256);return new Promise(function(s,a){var l=pl.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")s(c.response);else{var h=new FileReader;h.addEventListener("load",function(){return s(h.result)},!1),h.addEventListener("error",function(A){return a(A)},!1),h.readAsDataURL(c.response)}else a("Failed to proxy resource "+i+" with status code "+c.status)},c.onerror=a;var u=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+u+"url="+encodeURIComponent(t)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),r._options.imageTimeout){var d=r._options.imageTimeout;c.timeout=d,c.ontimeout=function(){return a("Timed out ("+d+"ms) proxying "+i)}}c.send()})},e}(),a$e=/^data:image\/svg\+xml/i,o$e=/^data:image\/.*;base64,/i,l$e=/^data:image\/.*/i,c$e=function(e){return pl.SUPPORT_SVG_DRAWING||!d$e(e)},c6=function(e){return l$e.test(e)},u$e=function(e){return o$e.test(e)},u6=function(e){return e.substr(0,4)==="blob"},d$e=function(e){return e.substr(-3).toLowerCase()==="svg"||a$e.test(e)},Ur=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),T1=function(e,t,r){return new Ur(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},MC=function(){function e(t,r,n,i){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=i}return e.prototype.subdivide=function(t,r){var n=T1(this.start,this.startControl,t),i=T1(this.startControl,this.endControl,t),s=T1(this.endControl,this.end,t),a=T1(n,i,t),l=T1(i,s,t),c=T1(a,l,t);return r?new e(this.start,n,a,c):new e(c,l,s,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),od=function(e){return e.type===1},f$e=function(){function e(t){var r=t.styles,n=t.bounds,i=h2(r.borderTopLeftRadius,n.width,n.height),s=i[0],a=i[1],l=h2(r.borderTopRightRadius,n.width,n.height),c=l[0],u=l[1],d=h2(r.borderBottomRightRadius,n.width,n.height),h=d[0],A=d[1],g=h2(r.borderBottomLeftRadius,n.width,n.height),v=g[0],x=g[1],y=[];y.push((s+c)/n.width),y.push((v+h)/n.width),y.push((a+x)/n.height),y.push((u+A)/n.height);var w=Math.max.apply(Math,y);w>1&&(s/=w,a/=w,c/=w,u/=w,h/=w,A/=w,v/=w,x/=w);var _=n.width-c,E=n.height-A,I=n.width-h,N=n.height-x,j=r.borderTopWidth,T=r.borderRightWidth,P=r.borderBottomWidth,k=r.borderLeftWidth,R=Ts(r.paddingTop,t.bounds.width),O=Ts(r.paddingRight,t.bounds.width),M=Ts(r.paddingBottom,t.bounds.width),H=Ts(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?Ys(n.left+k/3,n.top+j/3,s-k/3,a-j/3,Xi.TOP_LEFT):new Ur(n.left+k/3,n.top+j/3),this.topRightBorderDoubleOuterBox=s>0||a>0?Ys(n.left+_,n.top+j/3,c-T/3,u-j/3,Xi.TOP_RIGHT):new Ur(n.left+n.width-T/3,n.top+j/3),this.bottomRightBorderDoubleOuterBox=h>0||A>0?Ys(n.left+I,n.top+E,h-T/3,A-P/3,Xi.BOTTOM_RIGHT):new Ur(n.left+n.width-T/3,n.top+n.height-P/3),this.bottomLeftBorderDoubleOuterBox=v>0||x>0?Ys(n.left+k/3,n.top+N,v-k/3,x-P/3,Xi.BOTTOM_LEFT):new Ur(n.left+k/3,n.top+n.height-P/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?Ys(n.left+k*2/3,n.top+j*2/3,s-k*2/3,a-j*2/3,Xi.TOP_LEFT):new Ur(n.left+k*2/3,n.top+j*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?Ys(n.left+_,n.top+j*2/3,c-T*2/3,u-j*2/3,Xi.TOP_RIGHT):new Ur(n.left+n.width-T*2/3,n.top+j*2/3),this.bottomRightBorderDoubleInnerBox=h>0||A>0?Ys(n.left+I,n.top+E,h-T*2/3,A-P*2/3,Xi.BOTTOM_RIGHT):new Ur(n.left+n.width-T*2/3,n.top+n.height-P*2/3),this.bottomLeftBorderDoubleInnerBox=v>0||x>0?Ys(n.left+k*2/3,n.top+N,v-k*2/3,x-P*2/3,Xi.BOTTOM_LEFT):new Ur(n.left+k*2/3,n.top+n.height-P*2/3),this.topLeftBorderStroke=s>0||a>0?Ys(n.left+k/2,n.top+j/2,s-k/2,a-j/2,Xi.TOP_LEFT):new Ur(n.left+k/2,n.top+j/2),this.topRightBorderStroke=s>0||a>0?Ys(n.left+_,n.top+j/2,c-T/2,u-j/2,Xi.TOP_RIGHT):new Ur(n.left+n.width-T/2,n.top+j/2),this.bottomRightBorderStroke=h>0||A>0?Ys(n.left+I,n.top+E,h-T/2,A-P/2,Xi.BOTTOM_RIGHT):new Ur(n.left+n.width-T/2,n.top+n.height-P/2),this.bottomLeftBorderStroke=v>0||x>0?Ys(n.left+k/2,n.top+N,v-k/2,x-P/2,Xi.BOTTOM_LEFT):new Ur(n.left+k/2,n.top+n.height-P/2),this.topLeftBorderBox=s>0||a>0?Ys(n.left,n.top,s,a,Xi.TOP_LEFT):new Ur(n.left,n.top),this.topRightBorderBox=c>0||u>0?Ys(n.left+_,n.top,c,u,Xi.TOP_RIGHT):new Ur(n.left+n.width,n.top),this.bottomRightBorderBox=h>0||A>0?Ys(n.left+I,n.top+E,h,A,Xi.BOTTOM_RIGHT):new Ur(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=v>0||x>0?Ys(n.left,n.top+N,v,x,Xi.BOTTOM_LEFT):new Ur(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||a>0?Ys(n.left+k,n.top+j,Math.max(0,s-k),Math.max(0,a-j),Xi.TOP_LEFT):new Ur(n.left+k,n.top+j),this.topRightPaddingBox=c>0||u>0?Ys(n.left+Math.min(_,n.width-T),n.top+j,_>n.width+T?0:Math.max(0,c-T),Math.max(0,u-j),Xi.TOP_RIGHT):new Ur(n.left+n.width-T,n.top+j),this.bottomRightPaddingBox=h>0||A>0?Ys(n.left+Math.min(I,n.width-k),n.top+Math.min(E,n.height-P),Math.max(0,h-T),Math.max(0,A-P),Xi.BOTTOM_RIGHT):new Ur(n.left+n.width-T,n.top+n.height-P),this.bottomLeftPaddingBox=v>0||x>0?Ys(n.left+k,n.top+Math.min(N,n.height-P),Math.max(0,v-k),Math.max(0,x-P),Xi.BOTTOM_LEFT):new Ur(n.left+k,n.top+n.height-P),this.topLeftContentBox=s>0||a>0?Ys(n.left+k+H,n.top+j+R,Math.max(0,s-(k+H)),Math.max(0,a-(j+R)),Xi.TOP_LEFT):new Ur(n.left+k+H,n.top+j+R),this.topRightContentBox=c>0||u>0?Ys(n.left+Math.min(_,n.width+k+H),n.top+j+R,_>n.width+k+H?0:c-k+H,u-(j+R),Xi.TOP_RIGHT):new Ur(n.left+n.width-(T+O),n.top+j+R),this.bottomRightContentBox=h>0||A>0?Ys(n.left+Math.min(I,n.width-(k+H)),n.top+Math.min(E,n.height+j+R),Math.max(0,h-(T+O)),A-(P+M),Xi.BOTTOM_RIGHT):new Ur(n.left+n.width-(T+O),n.top+n.height-(P+M)),this.bottomLeftContentBox=v>0||x>0?Ys(n.left+k+H,n.top+N,Math.max(0,v-(k+H)),x-(P+M),Xi.BOTTOM_LEFT):new Ur(n.left+k+H,n.top+n.height-(P+M))}return e}(),Xi;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Xi||(Xi={}));var Ys=function(e,t,r,n,i){var s=4*((Math.sqrt(2)-1)/3),a=r*s,l=n*s,c=e+r,u=t+n;switch(i){case Xi.TOP_LEFT:return new MC(new Ur(e,u),new Ur(e,u-l),new Ur(c-a,t),new Ur(c,t));case Xi.TOP_RIGHT:return new MC(new Ur(e,t),new Ur(e+a,t),new Ur(c,u-l),new Ur(c,u));case Xi.BOTTOM_RIGHT:return new MC(new Ur(c,t),new Ur(c,t+l),new Ur(e+a,u),new Ur(e,u));case Xi.BOTTOM_LEFT:default:return new MC(new Ur(c,u),new Ur(c-a,u),new Ur(e,t+l),new Ur(e,t))}},R5=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},h$e=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},M5=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},A$e=function(){function e(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return e}(),UC=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),p$e=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),g$e=function(e){return e.type===0},mfe=function(e){return e.type===1},m$e=function(e){return e.type===2},yW=function(e,t){return e.length===t.length?e.some(function(r,n){return r===t[n]}):!1},x$e=function(e,t,r,n,i){return e.map(function(s,a){switch(a){case 0:return s.add(t,r);case 1:return s.add(t+n,r);case 2:return s.add(t+n,r+i);case 3:return s.add(t,r+i)}return s})},xfe=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),vfe=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new f$e(this.container),this.container.styles.opacity<1&&this.effects.push(new p$e(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new A$e(n,i,s))}if(this.container.styles.overflowX!==0){var a=R5(this.curves),l=M5(this.curves);yW(a,l)?this.effects.push(new UC(a,6)):(this.effects.push(new UC(a,2)),this.effects.push(new UC(l,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var s=n.effects.filter(function(c){return!mfe(c)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,s),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var a=R5(n.curves),l=M5(n.curves);yW(a,l)||i.unshift(new UC(l,6))}}else i.unshift.apply(i,s);n=n.parent}return i.filter(function(c){return Bo(c.target,t)})},e}(),cO=function(e,t,r,n){e.container.elements.forEach(function(i){var s=Bo(i.flags,4),a=Bo(i.flags,2),l=new vfe(i,e);Bo(i.styles.display,2048)&&n.push(l);var c=Bo(i.flags,8)?[]:n;if(s||a){var u=s||i.styles.isPositioned()?r:t,d=new xfe(l);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var h=i.styles.zIndex.order;if(h<0){var A=0;u.negativeZIndex.some(function(v,x){return h>v.element.container.styles.zIndex.order?(A=x,!1):A>0}),u.negativeZIndex.splice(A,0,d)}else if(h>0){var g=0;u.positiveZIndex.some(function(v,x){return h>=v.element.container.styles.zIndex.order?(g=x+1,!1):g>0}),u.positiveZIndex.splice(g,0,d)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else i.styles.isFloating()?u.nonPositionedFloats.push(d):u.nonPositionedInlineLevel.push(d);cO(l,d,s?d:r,c)}else i.styles.isInlineLevel()?t.inlineLevel.push(l):t.nonInlineLevel.push(l),cO(l,t,r,c);Bo(i.flags,8)&&yfe(i,c)})},yfe=function(e,t){for(var r=e instanceof iO?e.start:1,n=e instanceof iO?e.reversed:!1,i=0;i<t.length;i++){var s=t[i];s.container instanceof nfe&&typeof s.container.value=="number"&&s.container.value!==0&&(r=s.container.value),s.listValue=e_(r,s.container.styles.listStyleType,!0),r+=n?-1:1}},v$e=function(e){var t=new vfe(e,null),r=new xfe(t),n=[];return cO(t,r,r,n),yfe(t.container,n),r},wW=function(e,t){switch(t){case 0:return pd(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return pd(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return pd(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return pd(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},y$e=function(e,t){switch(t){case 0:return pd(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return pd(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return pd(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return pd(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},w$e=function(e,t){switch(t){case 0:return pd(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return pd(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return pd(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return pd(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},b$e=function(e,t){switch(t){case 0:return HC(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return HC(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return HC(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return HC(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},HC=function(e,t){var r=[];return od(e)?r.push(e.subdivide(.5,!1)):r.push(e),od(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},pd=function(e,t,r,n){var i=[];return od(e)?i.push(e.subdivide(.5,!1)):i.push(e),od(r)?i.push(r.subdivide(.5,!0)):i.push(r),od(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),od(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},wfe=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},U5=function(e){var t=e.styles,r=e.bounds,n=Ts(t.paddingLeft,r.width),i=Ts(t.paddingRight,r.width),s=Ts(t.paddingTop,r.width),a=Ts(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,s+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+i),-(t.borderTopWidth+t.borderBottomWidth+s+a))},_$e=function(e,t){return e===0?t.bounds:e===2?U5(t):wfe(t)},E$e=function(e,t){return e===0?t.bounds:e===2?U5(t):wfe(t)},d6=function(e,t,r){var n=_$e(W1(e.styles.backgroundOrigin,t),e),i=E$e(W1(e.styles.backgroundClip,t),e),s=S$e(W1(e.styles.backgroundSize,t),r,n),a=s[0],l=s[1],c=h2(W1(e.styles.backgroundPosition,t),n.width-a,n.height-l),u=C$e(W1(e.styles.backgroundRepeat,t),c,s,n,i),d=Math.round(n.left+c[0]),h=Math.round(n.top+c[1]);return[u,d,h,a,l]},B1=function(e){return ps(e)&&e.value===Ux.AUTO},QC=function(e){return typeof e=="number"},S$e=function(e,t,r){var n=t[0],i=t[1],s=t[2],a=e[0],l=e[1];if(!a)return[0,0];if(co(a)&&l&&co(l))return[Ts(a,r.width),Ts(l,r.height)];var c=QC(s);if(ps(a)&&(a.value===Ux.CONTAIN||a.value===Ux.COVER)){if(QC(s)){var u=r.width/r.height;return u<s!=(a.value===Ux.COVER)?[r.width,r.width/s]:[r.height*s,r.height]}return[r.width,r.height]}var d=QC(n),h=QC(i),A=d||h;if(B1(a)&&(!l||B1(l))){if(d&&h)return[n,i];if(!c&&!A)return[r.width,r.height];if(A&&c){var g=d?n:i*s,v=h?i:n/s;return[g,v]}var x=d?n:r.width,y=h?i:r.height;return[x,y]}if(c){var w=0,_=0;return co(a)?w=Ts(a,r.width):co(l)&&(_=Ts(l,r.height)),B1(a)?w=_*s:(!l||B1(l))&&(_=w/s),[w,_]}var E=null,I=null;if(co(a)?E=Ts(a,r.width):l&&co(l)&&(I=Ts(l,r.height)),E!==null&&(!l||B1(l))&&(I=d&&h?E/n*i:r.height),I!==null&&B1(a)&&(E=d&&h?I/i*n:r.width),E!==null&&I!==null)return[E,I];throw new Error("Unable to calculate background-size for element")},W1=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},C$e=function(e,t,r,n,i){var s=t[0],a=t[1],l=r[0],c=r[1];switch(e){case 2:return[new Ur(Math.round(n.left),Math.round(n.top+a)),new Ur(Math.round(n.left+n.width),Math.round(n.top+a)),new Ur(Math.round(n.left+n.width),Math.round(c+n.top+a)),new Ur(Math.round(n.left),Math.round(c+n.top+a))];case 3:return[new Ur(Math.round(n.left+s),Math.round(n.top)),new Ur(Math.round(n.left+s+l),Math.round(n.top)),new Ur(Math.round(n.left+s+l),Math.round(n.height+n.top)),new Ur(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new Ur(Math.round(n.left+s),Math.round(n.top+a)),new Ur(Math.round(n.left+s+l),Math.round(n.top+a)),new Ur(Math.round(n.left+s+l),Math.round(n.top+a+c)),new Ur(Math.round(n.left+s),Math.round(n.top+a+c))];default:return[new Ur(Math.round(i.left),Math.round(i.top)),new Ur(Math.round(i.left+i.width),Math.round(i.top)),new Ur(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Ur(Math.round(i.left),Math.round(i.height+i.top))]}},N$e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",bW="Hidden Text",T$e=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),i.src=N$e,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=t,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(bW)),n.appendChild(s),n.appendChild(i);var l=i.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(bW)),n.style.lineHeight="normal",i.style.verticalAlign="super";var c=i.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:l,middle:c}},e.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},e}(),bfe=function(){function e(t,r){this.context=t,this.options=r}return e}(),B$e=1e4,I$e=function(e){wf(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new T$e(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},t.prototype.applyEffect=function(r){this.ctx.save(),m$e(r)&&(this.ctx.globalAlpha=r.opacity),g$e(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),mfe(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return cc(this,void 0,void 0,function(){var n;return Rl(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return cc(this,void 0,void 0,function(){return Rl(this,function(n){switch(n.label){case 0:if(Bo(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,i){var s=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var a=ZU(r.text);a.reduce(function(l,c){return s.ctx.fillText(c,l,r.bounds.top+i),l+s.ctx.measureText(c).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),i=O$e(r.fontFamily).join(", "),s=KE(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,s,i].join(" "),i,s]},t.prototype.renderTextNode=function(r,n){return cc(this,void 0,void 0,function(){var i,s,a,l,c,u,d,h,A=this;return Rl(this,function(g){return i=this.createFontStyle(n),s=i[0],a=i[1],l=i[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(a,l),u=c.baseline,d=c.middle,h=n.paintOrder,r.textBounds.forEach(function(v){h.forEach(function(x){switch(x){case 0:A.ctx.fillStyle=zo(n.color),A.renderTextWithLetterSpacing(v,n.letterSpacing,u);var y=n.textShadow;y.length&&v.text.trim().length&&(y.slice(0).reverse().forEach(function(w){A.ctx.shadowColor=zo(w.color),A.ctx.shadowOffsetX=w.offsetX.number*A.options.scale,A.ctx.shadowOffsetY=w.offsetY.number*A.options.scale,A.ctx.shadowBlur=w.blur.number,A.renderTextWithLetterSpacing(v,n.letterSpacing,u)}),A.ctx.shadowColor="",A.ctx.shadowOffsetX=0,A.ctx.shadowOffsetY=0,A.ctx.shadowBlur=0),n.textDecorationLine.length&&(A.ctx.fillStyle=zo(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(w){switch(w){case 1:A.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top+u),v.bounds.width,1);break;case 2:A.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top),v.bounds.width,1);break;case 3:A.ctx.fillRect(v.bounds.left,Math.ceil(v.bounds.top+d),v.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&v.text.trim().length&&(A.ctx.strokeStyle=zo(n.webkitTextStrokeColor),A.ctx.lineWidth=n.webkitTextStrokeWidth,A.ctx.lineJoin=window.chrome?"miter":"round",A.ctx.strokeText(v.text,v.bounds.left,v.bounds.top+u)),A.ctx.strokeStyle="",A.ctx.lineWidth=0,A.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var s=U5(r),a=M5(n);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return cc(this,void 0,void 0,function(){var n,i,s,a,l,c,_,_,u,d,h,A,I,g,v,N,x,y,w,_,E,I,N;return Rl(this,function(j){switch(j.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,s=n.styles,a=0,l=n.textNodes,j.label=1;case 1:return a<l.length?(c=l[a],[4,this.renderTextNode(c,s)]):[3,4];case 2:j.sent(),j.label=3;case 3:return a++,[3,1];case 4:if(!(n instanceof efe))return[3,8];j.label=5;case 5:return j.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return _=j.sent(),this.renderReplacedElement(n,i,_),[3,8];case 7:return j.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof tfe&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof rfe))return[3,12];j.label=9;case 9:return j.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return _=j.sent(),this.renderReplacedElement(n,i,_),[3,12];case 11:return j.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof afe&&n.tree?(u=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,u.render(n.tree)]):[3,14];case 13:d=j.sent(),n.width&&n.height&&this.ctx.drawImage(d,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),j.label=14;case 14:if(n instanceof JU&&(h=Math.min(n.bounds.width,n.bounds.height),n.type===F5?n.checked&&(this.ctx.save(),this.path([new Ur(n.bounds.left+h*.39363,n.bounds.top+h*.79),new Ur(n.bounds.left+h*.16,n.bounds.top+h*.5549),new Ur(n.bounds.left+h*.27347,n.bounds.top+h*.44071),new Ur(n.bounds.left+h*.39694,n.bounds.top+h*.5649),new Ur(n.bounds.left+h*.72983,n.bounds.top+h*.23),new Ur(n.bounds.left+h*.84,n.bounds.top+h*.34085),new Ur(n.bounds.left+h*.39363,n.bounds.top+h*.79)]),this.ctx.fillStyle=zo(cW),this.ctx.fill(),this.ctx.restore()):n.type===O5&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+h/2,n.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=zo(cW),this.ctx.fill(),this.ctx.restore())),k$e(n)&&n.value.length){switch(A=this.createFontStyle(s),I=A[0],g=A[1],v=this.fontMetrics.getMetrics(I,g).baseline,this.ctx.font=I,this.ctx.fillStyle=zo(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=P$e(n.styles.textAlign),N=U5(n),x=0,n.styles.textAlign){case 1:x+=N.width/2;break;case 2:x+=N.width;break}y=N.add(x,0,0,-N.height/2+1),this.ctx.save(),this.path([new Ur(N.left,N.top),new Ur(N.left+N.width,N.top),new Ur(N.left+N.width,N.top+N.height),new Ur(N.left,N.top+N.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new G2(n.value,y),s.letterSpacing,v),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Bo(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(w=n.styles.listStyleImage,w.type!==0)return[3,18];_=void 0,E=w.url,j.label=15;case 15:return j.trys.push([15,17,,18]),[4,this.context.cache.match(E)];case 16:return _=j.sent(),this.ctx.drawImage(_,n.bounds.left-(_.width+10),n.bounds.top),[3,18];case 17:return j.sent(),this.context.logger.error("Error loading list-style-image "+E),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(I=this.createFontStyle(s)[0],this.ctx.font=I,this.ctx.fillStyle=zo(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",N=new TA(n.bounds.left,n.bounds.top+Ts(n.styles.paddingTop,n.bounds.width),n.bounds.width,GG(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new G2(r.listValue,N),s.letterSpacing,GG(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),j.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return cc(this,void 0,void 0,function(){var n,i,w,s,a,w,l,c,w,u,d,w,h,A,w,g,v,w,x,y,w;return Rl(this,function(_){switch(_.label){case 0:if(Bo(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:_.sent(),n=0,i=r.negativeZIndex,_.label=2;case 2:return n<i.length?(w=i[n],[4,this.renderStack(w)]):[3,5];case 3:_.sent(),_.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:_.sent(),s=0,a=r.nonInlineLevel,_.label=7;case 7:return s<a.length?(w=a[s],[4,this.renderNode(w)]):[3,10];case 8:_.sent(),_.label=9;case 9:return s++,[3,7];case 10:l=0,c=r.nonPositionedFloats,_.label=11;case 11:return l<c.length?(w=c[l],[4,this.renderStack(w)]):[3,14];case 12:_.sent(),_.label=13;case 13:return l++,[3,11];case 14:u=0,d=r.nonPositionedInlineLevel,_.label=15;case 15:return u<d.length?(w=d[u],[4,this.renderStack(w)]):[3,18];case 16:_.sent(),_.label=17;case 17:return u++,[3,15];case 18:h=0,A=r.inlineLevel,_.label=19;case 19:return h<A.length?(w=A[h],[4,this.renderNode(w)]):[3,22];case 20:_.sent(),_.label=21;case 21:return h++,[3,19];case 22:g=0,v=r.zeroOrAutoZIndexOrTransformedOrOpacity,_.label=23;case 23:return g<v.length?(w=v[g],[4,this.renderStack(w)]):[3,26];case 24:_.sent(),_.label=25;case 25:return g++,[3,23];case 26:x=0,y=r.positiveZIndex,_.label=27;case 27:return x<y.length?(w=y[x],[4,this.renderStack(w)]):[3,30];case 28:_.sent(),_.label=29;case 29:return x++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(i,s){var a=od(i)?i.start:i;s===0?n.ctx.moveTo(a.x,a.y):n.ctx.lineTo(a.x,a.y),od(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},t.prototype.renderRepeat=function(r,n,i,s){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},t.prototype.resizeImage=function(r,n,i){var s;if(r.width===n&&r.height===i)return r;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,l=a.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,i);var c=l.getContext("2d");return c.drawImage(r,0,0,r.width,r.height,0,0,n,i),l},t.prototype.renderBackgroundImage=function(r){return cc(this,void 0,void 0,function(){var n,i,s,a,l,c;return Rl(this,function(u){switch(u.label){case 0:n=r.styles.backgroundImage.length-1,i=function(d){var h,A,g,R,ne,le,H,K,P,v,R,ne,le,H,K,x,y,w,_,E,I,N,j,T,P,k,R,O,M,H,K,Y,ne,le,te,X,ue,ve,V,q,ee,re;return Rl(this,function(de){switch(de.label){case 0:if(d.type!==0)return[3,5];h=void 0,A=d.url,de.label=1;case 1:return de.trys.push([1,3,,4]),[4,s.context.cache.match(A)];case 2:return h=de.sent(),[3,4];case 3:return de.sent(),s.context.logger.error("Error loading background-image "+A),[3,4];case 4:return h&&(g=d6(r,n,[h.width,h.height,h.width/h.height]),R=g[0],ne=g[1],le=g[2],H=g[3],K=g[4],P=s.ctx.createPattern(s.resizeImage(h,H,K),"repeat"),s.renderRepeat(R,P,ne,le)),[3,6];case 5:g9e(d)?(v=d6(r,n,[null,null,null]),R=v[0],ne=v[1],le=v[2],H=v[3],K=v[4],x=d9e(d.angle,H,K),y=x[0],w=x[1],_=x[2],E=x[3],I=x[4],N=document.createElement("canvas"),N.width=H,N.height=K,j=N.getContext("2d"),T=j.createLinearGradient(w,E,_,I),VG(d.stops,y).forEach(function(Ae){return T.addColorStop(Ae.stop,zo(Ae.color))}),j.fillStyle=T,j.fillRect(0,0,H,K),H>0&&K>0&&(P=s.ctx.createPattern(N,"repeat"),s.renderRepeat(R,P,ne,le))):m9e(d)&&(k=d6(r,n,[null,null,null]),R=k[0],O=k[1],M=k[2],H=k[3],K=k[4],Y=d.position.length===0?[qU]:d.position,ne=Ts(Y[0],H),le=Ts(Y[Y.length-1],K),te=f9e(d,ne,le,H,K),X=te[0],ue=te[1],X>0&&ue>0&&(ve=s.ctx.createRadialGradient(O+ne,M+le,0,O+ne,M+le,X),VG(d.stops,X*2).forEach(function(Ae){return ve.addColorStop(Ae.stop,zo(Ae.color))}),s.path(R),s.ctx.fillStyle=ve,X!==ue?(V=r.bounds.left+.5*r.bounds.width,q=r.bounds.top+.5*r.bounds.height,ee=ue/X,re=1/ee,s.ctx.save(),s.ctx.translate(V,q),s.ctx.transform(1,0,0,ee,0,0),s.ctx.translate(-V,-q),s.ctx.fillRect(O,re*(M-q)+q,H,K*re),s.ctx.restore()):s.ctx.fill())),de.label=6;case 6:return n--,[2]}})},s=this,a=0,l=r.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return a<l.length?(c=l[a],[5,i(c)]):[3,4];case 2:u.sent(),u.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,i){return cc(this,void 0,void 0,function(){return Rl(this,function(s){return this.path(wW(i,n)),this.ctx.fillStyle=zo(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,i,s){return cc(this,void 0,void 0,function(){var a,l;return Rl(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,s)]:[3,2];case 1:return c.sent(),[2];case 2:return a=y$e(s,i),this.path(a),this.ctx.fillStyle=zo(r),this.ctx.fill(),l=w$e(s,i),this.path(l),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return cc(this,void 0,void 0,function(){var n,i,s,a,l,c,u,d,h=this;return Rl(this,function(A){switch(A.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!cp(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],a=j$e(W1(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),cp(n.backgroundColor)||(this.ctx.fillStyle=zo(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:A.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(g){h.ctx.save();var v=R5(r.curves),x=g.inset?0:B$e,y=x$e(v,-x+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(h.path(v),h.ctx.clip(),h.mask(y)):(h.mask(v),h.ctx.clip(),h.path(y)),h.ctx.shadowOffsetX=g.offsetX.number+x,h.ctx.shadowOffsetY=g.offsetY.number,h.ctx.shadowColor=zo(g.color),h.ctx.shadowBlur=g.blur.number,h.ctx.fillStyle=g.inset?zo(g.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),A.label=2;case 2:l=0,c=0,u=s,A.label=3;case 3:return c<u.length?(d=u[c],d.style!==0&&!cp(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,l,r.curves,2)]:[3,11]):[3,13];case 4:return A.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,l,r.curves,3)];case 6:return A.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,l,r.curves)];case 8:return A.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,l,r.curves)];case 10:A.sent(),A.label=11;case 11:l++,A.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,i,s,a){return cc(this,void 0,void 0,function(){var l,c,u,d,h,A,g,v,x,y,w,_,E,I,N,j,N,j;return Rl(this,function(T){return this.ctx.save(),l=b$e(s,i),c=wW(s,i),a===2&&(this.path(c),this.ctx.clip()),od(c[0])?(u=c[0].start.x,d=c[0].start.y):(u=c[0].x,d=c[0].y),od(c[1])?(h=c[1].end.x,A=c[1].end.y):(h=c[1].x,A=c[1].y),i===0||i===2?g=Math.abs(u-h):g=Math.abs(d-A),this.ctx.beginPath(),a===3?this.formatPath(l):this.formatPath(c.slice(0,2)),v=n<3?n*3:n*2,x=n<3?n*2:n,a===3&&(v=n,x=n),y=!0,g<=v*2?y=!1:g<=v*2+x?(w=g/(2*v+x),v*=w,x*=w):(_=Math.floor((g+x)/(v+x)),E=(g-_*v)/(_-1),I=(g-(_+1)*v)/_,x=I<=0||Math.abs(x-E)<Math.abs(x-I)?E:I),y&&(a===3?this.ctx.setLineDash([0,v+x]):this.ctx.setLineDash([v,x])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=zo(r),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(od(c[0])&&(N=c[3],j=c[0],this.ctx.beginPath(),this.formatPath([new Ur(N.end.x,N.end.y),new Ur(j.start.x,j.start.y)]),this.ctx.stroke()),od(c[1])&&(N=c[1],j=c[2],this.ctx.beginPath(),this.formatPath([new Ur(N.end.x,N.end.y),new Ur(j.start.x,j.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return cc(this,void 0,void 0,function(){var n;return Rl(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=zo(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=v$e(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(bfe),k$e=function(e){return e instanceof sfe||e instanceof ife?!0:e instanceof JU&&e.type!==O5&&e.type!==F5},j$e=function(e,t){switch(e){case 0:return R5(t);case 2:return h$e(t);case 1:default:return M5(t)}},P$e=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},F$e=["-apple-system","system-ui"],O$e=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return F$e.indexOf(t)===-1}):e},D$e=function(e){wf(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return t.prototype.render=function(r){return cc(this,void 0,void 0,function(){var n,i;return Rl(this,function(s){switch(s.label){case 0:return n=nO(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,L$e(n)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=zo(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(bfe),L$e=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},R$e=function(){function e(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,yC([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,yC([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,yC([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,yC([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),M$e=function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new R$e({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new s$e(this,t)}return e.instanceCount=1,e}(),Vc=function(e,t){return t===void 0&&(t={}),U$e(e,t)};typeof window<"u"&&gfe.setContext(window);var U$e=function(e,t){return cc(void 0,void 0,void 0,function(){var r,n,i,s,a,l,c,u,d,h,A,g,v,x,y,w,_,E,I,N,T,j,T,P,k,R,O,M,H,K,Y,ne,le,te,X,ue,ve,V,q,ee;return Rl(this,function(re){switch(re.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(P=t.allowTaint)!==null&&P!==void 0?P:!1,imageTimeout:(k=t.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:t.proxy,useCORS:(R=t.useCORS)!==null&&R!==void 0?R:!1},s=Q8({logging:(O=t.logging)!==null&&O!==void 0?O:!0,cache:t.cache},i),a={windowWidth:(M=t.windowWidth)!==null&&M!==void 0?M:n.innerWidth,windowHeight:(H=t.windowHeight)!==null&&H!==void 0?H:n.innerHeight,scrollX:(K=t.scrollX)!==null&&K!==void 0?K:n.pageXOffset,scrollY:(Y=t.scrollY)!==null&&Y!==void 0?Y:n.pageYOffset},l=new TA(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),c=new M$e(s,l),u=(ne=t.foreignObjectRendering)!==null&&ne!==void 0?ne:!1,d={allowTaint:(le=t.allowTaint)!==null&&le!==void 0?le:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:u,copyStyles:u},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),h=new xW(c,e,d),A=h.clonedReferenceElement,A?[4,h.toIFrame(r,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=re.sent(),v=e7(A)||QQe(A)?xUe(A.ownerDocument):$B(c,A),x=v.width,y=v.height,w=v.left,_=v.top,E=H$e(c,A,t.backgroundColor),I={canvas:t.canvas,backgroundColor:E,scale:(X=(te=t.scale)!==null&&te!==void 0?te:n.devicePixelRatio)!==null&&X!==void 0?X:1,x:((ue=t.x)!==null&&ue!==void 0?ue:0)+w,y:((ve=t.y)!==null&&ve!==void 0?ve:0)+_,width:(V=t.width)!==null&&V!==void 0?V:Math.ceil(x),height:(q=t.height)!==null&&q!==void 0?q:Math.ceil(y)},u?(c.logger.debug("Document cloned, using foreign object rendering"),T=new D$e(c,I),[4,T.render(A)]):[3,3];case 2:return N=re.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+w+","+_+" with size "+x+"x"+y+" using computed rendering"),c.logger.debug("Starting DOM parsing"),j=lfe(c,A),E===j.styles.backgroundColor&&(j.styles.backgroundColor=uA.TRANSPARENT),c.logger.debug("Starting renderer for element at "+I.x+","+I.y+" with size "+I.width+"x"+I.height),T=new I$e(c,I),[4,T.render(j)];case 4:N=re.sent(),re.label=5;case 5:return(!((ee=t.removeContainer)!==null&&ee!==void 0)||ee)&&(xW.destroy(g)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,N]}})})},H$e=function(e,t,r){var n=t.ownerDocument,i=n.documentElement?V2(e,getComputedStyle(n.documentElement).backgroundColor):uA.TRANSPARENT,s=n.body?V2(e,getComputedStyle(n.body).backgroundColor):uA.TRANSPARENT,a=typeof r=="string"?V2(e,r):r===null?uA.TRANSPARENT:4294967295;return t===n.documentElement?cp(i)?cp(s)?a:s:i:a};const g2=Object.freeze(Object.defineProperty({__proto__:null,default:Vc},Symbol.toStringTag,{value:"Module"}));var _fe="AlertDialog",[Q$e,wjt]=xh(_fe,[jce]),OA=jce(),Efe=e=>{const{__scopeAlertDialog:t,...r}=e,n=OA(t);return o.jsx(Kce,{...n,...r,modal:!0})};Efe.displayName=_fe;var $$e="AlertDialogTrigger",Sfe=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=OA(r);return o.jsx(qce,{...i,...n,ref:t})});Sfe.displayName=$$e;var V$e="AlertDialogPortal",Cfe=e=>{const{__scopeAlertDialog:t,...r}=e,n=OA(t);return o.jsx(Xce,{...n,...r})};Cfe.displayName=V$e;var z$e="AlertDialogOverlay",Nfe=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=OA(r);return o.jsx(nU,{...i,...n,ref:t})});Nfe.displayName=z$e;var Hx="AlertDialogContent",[G$e,W$e]=Q$e(Hx),K$e=rie("AlertDialogContent"),Tfe=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...i}=e,s=OA(r),a=C.useRef(null),l=Ji(t,a),c=C.useRef(null);return o.jsx($Pe,{contentName:Hx,titleName:Bfe,docsSlug:"alert-dialog",children:o.jsx(G$e,{scope:r,cancelRef:c,children:o.jsxs(iU,{role:"alertdialog",...s,...i,ref:l,onOpenAutoFocus:Cn(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(K$e,{children:n}),o.jsx(X$e,{contentRef:a})]})})})});Tfe.displayName=Hx;var Bfe="AlertDialogTitle",Ife=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=OA(r);return o.jsx(sU,{...i,...n,ref:t})});Ife.displayName=Bfe;var kfe="AlertDialogDescription",jfe=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=OA(r);return o.jsx(aU,{...i,...n,ref:t})});jfe.displayName=kfe;var q$e="AlertDialogAction",Pfe=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=OA(r);return o.jsx(oU,{...i,...n,ref:t})});Pfe.displayName=q$e;var Ffe="AlertDialogCancel",Ofe=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:i}=W$e(Ffe,r),s=OA(r),a=Ji(t,i);return o.jsx(oU,{...s,...n,ref:a})});Ofe.displayName=Ffe;var X$e=({contentRef:e})=>{const t=`\`${Hx}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Hx}\` by passing a \`${kfe}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Hx}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return C.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Y$e=Efe,Z$e=Sfe,J$e=Cfe,Dfe=Nfe,Lfe=Tfe,Rfe=Pfe,Mfe=Ofe,Ufe=Ife,Hfe=jfe;const _W=Y$e,EW=Z$e,eVe=J$e,Qfe=C.forwardRef(({className:e,...t},r)=>o.jsx(Dfe,{className:Zr("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Qfe.displayName=Dfe.displayName;const uO=C.forwardRef(({className:e,...t},r)=>o.jsxs(eVe,{children:[o.jsx(Qfe,{}),o.jsx(Lfe,{ref:r,className:Zr("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));uO.displayName=Lfe.displayName;const dO=({className:e,...t})=>o.jsx("div",{className:Zr("flex flex-col space-y-2 text-center sm:text-left",e),...t});dO.displayName="AlertDialogHeader";const fO=({className:e,...t})=>o.jsx("div",{className:Zr("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});fO.displayName="AlertDialogFooter";const hO=C.forwardRef(({className:e,...t},r)=>o.jsx(Ufe,{ref:r,className:Zr("text-lg font-semibold",e),...t}));hO.displayName=Ufe.displayName;const AO=C.forwardRef(({className:e,...t},r)=>o.jsx(Hfe,{ref:r,className:Zr("text-sm text-muted-foreground",e),...t}));AO.displayName=Hfe.displayName;const pO=C.forwardRef(({className:e,...t},r)=>o.jsx(Rfe,{ref:r,className:Zr(YM(),e),...t}));pO.displayName=Rfe.displayName;const gO=C.forwardRef(({className:e,...t},r)=>o.jsx(Mfe,{ref:r,className:Zr(YM({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));gO.displayName=Mfe.displayName;function tVe({items:e,onUpdate:t}){const[r,n]=C.useState(""),{toast:i}=Lo(),a=(localStorage.getItem("userRole")||"superadmin")==="superadmin",l=e.filter(h=>h.name.toLowerCase().includes(r.toLowerCase())||h.barcode_id.toLowerCase().includes(r.toLowerCase())||h.category&&h.category.toLowerCase().includes(r.toLowerCase())||h.description&&h.description.toLowerCase().includes(r.toLowerCase())),c=async(h,A,g)=>{try{g&&await XPe(g),await xa.deleteItem(h),i({title:"Item Deleted",description:`${A} has been removed from inventory.`}),t()}catch(v){i({title:"Error",description:"Failed to delete item.",variant:"destructive"}),console.error("Delete error:",v)}},u=async(h,A)=>{const g=document.getElementById(`barcode-${h}`);if(!g){i({title:"Error",description:"Barcode not found for downloading.",variant:"destructive"});return}try{const x=(await Vc(g,{backgroundColor:"#ffffff",scale:3})).toDataURL("image/png"),y=document.createElement("a");y.href=x,y.download=`${A.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_barcode.png`,y.click(),i({title:"Downloaded",description:`Barcode for ${A} has been downloaded.`})}catch(v){console.error("Download error:",v),i({title:"Error",description:"Failed to download barcode image.",variant:"destructive"})}},d=(h,A)=>{const g=document.getElementById(`barcode-${h}`);if(!g){i({title:"Error",description:"Barcode not found for printing.",variant:"destructive"});return}const v=window.open("","_blank");if(!v){i({title:"Error",description:"Unable to open print window. Please check popup settings.",variant:"destructive"});return}const x=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Print Barcode - ${A}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              text-align: center;
            }
            .barcode-container {
              margin: 20px 0;
              padding: 20px;
              border: 2px solid #000;
              display: inline-block;
            }
            .item-info {
              margin-bottom: 15px;
              font-size: 16px;
              font-weight: bold;
            }
            .barcode-id {
              margin-top: 10px;
              font-size: 14px;
              font-family: monospace;
            }
            @media print {
              body { margin: 0; }
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="barcode-container">
            <div class="item-info">${A}</div>
            ${g.outerHTML}
            <div class="barcode-id">ID: ${h}</div>
          </div>
          <div class="no-print" style="margin-top: 20px;">
            <button onclick="window.print()" style="padding: 10px 20px; font-size: 16px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;">Print</button>
            <button onclick="window.close()" style="padding: 10px 20px; font-size: 16px; background: #6c757d; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 10px;">Close</button>
          </div>
        </body>
      </html>
    `;v.document.write(x),v.document.close(),v.focus(),i({title:"Print Ready",description:`Barcode for ${A} is ready to print.`}),(async()=>{try{const w=e.find(_=>_.barcode_id===h);if(w&&w.id){const _=Math.max(0,(w.quantity||0)-1);await xa.updateItem(w.id,{quantity:_}),i({title:"Stock Updated",description:`Inventory reduced by 1. New stock: ${_}`})}}catch(w){console.error("Error updating stock:",w)}})()};return o.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[o.jsx("div",{className:"flex gap-2 sm:gap-3",children:o.jsxs("div",{className:"relative flex-1 group",children:[o.jsx(Is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4 group-focus-within:text-primary transition-colors"}),o.jsx(Or,{placeholder:"Search by name, category, or barcode...",value:r,onChange:h=>n(h.target.value),className:"pl-10 h-10 sm:h-12 text-sm sm:text-base border-2 focus:border-primary transition-colors"})]})}),o.jsx("div",{className:"block sm:hidden space-y-3",children:l.length===0?o.jsx("div",{className:"text-center text-muted-foreground py-8",children:o.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[o.jsx(Fo,{className:"h-6 w-6 text-muted-foreground/50"}),o.jsx("p",{className:"text-sm",children:"No items found"}),o.jsx("p",{className:"text-xs",children:"Try adjusting your search terms"})]})}):l.map((h,A)=>o.jsxs("div",{className:"p-4 border-2 border-border/50 rounded-xl bg-card hover:bg-muted/50 transition-colors animate-slide-up",style:{animationDelay:`${A*.1}s`},children:[o.jsxs("div",{className:"flex items-start gap-4 mb-3",children:[o.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden flex-shrink-0 border-2 shadow-sm",children:o.jsx(I5,{src:h.image_url,alt:h.name,className:"w-full h-full object-cover",fallbackClassName:"w-full h-full flex items-center justify-center bg-gray-100",clickable:!0})}),o.jsxs("div",{className:"flex items-start justify-between flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-pulse flex-shrink-0"}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("h3",{className:"font-medium truncate",children:h.name}),h.description?o.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:h.description}):null]})]}),o.jsx(cn,{variant:h.quantity<10?"destructive":"secondary",className:`font-semibold text-xs ${h.quantity<10?"":h.quantity<20?"bg-yellow-100 text-yellow-800 border-yellow-300":"bg-green-100 text-green-800 border-green-300"}`,children:h.quantity})]})]}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Category:"}),h.category?o.jsx(cn,{variant:"outline",className:"bg-primary/10 text-primary border-primary/20 text-xs",children:h.category}):o.jsx("span",{className:"text-muted-foreground",children:"-"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"HSN/SAC:"}),h.hsnSac?o.jsx("span",{className:"font-mono text-xs font-medium",children:h.hsnSac}):o.jsx("span",{className:"text-muted-foreground",children:"-"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Barcode:"}),o.jsx("span",{className:"font-mono text-xs",children:h.barcode_id})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Location:"}),o.jsx("span",{className:"font-semibold text-primary",children:h.location||"Not set"})]})]}),o.jsxs("div",{className:"flex gap-2 mt-3",children:[o.jsxs(et,{variant:"outline",size:"sm",onClick:()=>d(h.barcode_id,h.name),className:"flex-1 hover:bg-primary hover:text-primary-foreground transition-colors",children:[o.jsx(Fb,{className:"h-3 w-3 mr-1"}),"Print"]}),o.jsxs(et,{variant:"outline",size:"sm",onClick:()=>u(h.barcode_id,h.name),className:"flex-1 hover:bg-green-600 hover:text-white transition-colors border-green-200 text-green-600",children:[o.jsx(na,{className:"h-3 w-3 mr-1"}),"Download"]}),o.jsx(_G,{item:h,trigger:o.jsxs(et,{variant:"outline",size:"sm",className:"flex-1 hover:bg-blue-600 hover:text-white transition-colors border-blue-200 text-blue-600",children:[o.jsx(z4,{className:"h-3 w-3 mr-1"}),"Bulk"]})}),a&&o.jsxs(o.Fragment,{children:[o.jsx(bG,{item:h,onSuccess:t,trigger:o.jsxs(et,{variant:"outline",size:"sm",className:"flex-1 hover:bg-blue-600 hover:text-white transition-colors border-blue-200 text-blue-600",children:[o.jsx(vv,{className:"h-3 w-3 mr-1"}),"Edit"]})}),o.jsxs(_W,{children:[o.jsx(EW,{asChild:!0,children:o.jsxs(et,{variant:"outline",size:"sm",className:"flex-1 hover:bg-destructive hover:text-destructive-foreground transition-colors",children:[o.jsx(Sc,{className:"h-3 w-3 mr-1"}),"Delete"]})}),o.jsxs(uO,{className:"border-2",children:[o.jsxs(dO,{children:[o.jsx(hO,{className:"text-lg",children:"Delete Item"}),o.jsxs(AO,{children:["Are you sure you want to delete ",o.jsx("span",{className:"font-semibold",children:h.name}),"? This action cannot be undone."]})]}),o.jsxs(fO,{children:[o.jsx(gO,{children:"Cancel"}),o.jsx(pO,{onClick:()=>c(h.id,h.name,h.image_path),className:"bg-destructive hover:bg-destructive/90",children:"Delete"})]})]})]})]})]})]},h.id))}),o.jsx("div",{className:"hidden sm:block border-2 border-border/50 rounded-xl overflow-hidden shadow-sm",children:o.jsxs(VE,{children:[o.jsx(zE,{className:"bg-muted/30",children:o.jsxs(ih,{className:"hover:bg-muted/30",children:[o.jsx(ea,{className:"font-semibold text-foreground py-4",children:"Image"}),o.jsx(ea,{className:"font-semibold text-foreground py-4",children:"Item Name"}),o.jsx(ea,{className:"font-semibold text-foreground py-4",children:"Category"}),o.jsx(ea,{className:"font-semibold text-foreground py-4",children:"HSN/SAC"}),o.jsx(ea,{className:"font-semibold text-foreground py-4",children:"Quantity"}),o.jsx(ea,{className:"font-semibold text-foreground py-4 text-center",children:"Location"}),o.jsx(ea,{className:"font-semibold text-foreground py-4 w-[200px]",children:"Barcode"}),o.jsx(ea,{className:"font-semibold text-foreground py-4 text-right",children:"Actions"})]})}),o.jsx(GE,{children:l.length===0?o.jsx(ih,{children:o.jsx(Hs,{colSpan:7,className:"text-center text-muted-foreground py-12",children:o.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[o.jsx(Fo,{className:"h-8 w-8 text-muted-foreground/50"}),o.jsx("p",{className:"text-lg",children:"No items found"}),o.jsx("p",{className:"text-sm",children:"Try adjusting your search terms"})]})})}):l.map((h,A)=>o.jsxs(ih,{className:"group hover:bg-muted/50 transition-colors animate-slide-up",style:{animationDelay:`${A*.1}s`},children:[o.jsx(Hs,{className:"py-4",children:o.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden border-2 shadow-sm",children:o.jsx(I5,{src:h.image_url,alt:h.name,className:"w-full h-full object-cover",fallbackClassName:"w-full h-full flex items-center justify-center bg-gray-100",clickable:!0})})}),o.jsx(Hs,{className:"font-medium py-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-2 h-2 mt-2 rounded-full bg-primary animate-pulse"}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"truncate",children:h.name}),h.description?o.jsx("div",{className:"text-xs text-muted-foreground line-clamp-2",children:h.description}):null]})]})}),o.jsx(Hs,{className:"py-4",children:h.category?o.jsx(cn,{variant:"outline",className:"bg-primary/10 text-primary border-primary/20",children:h.category}):o.jsx("span",{className:"text-muted-foreground",children:"-"})}),o.jsx(Hs,{className:"py-4",children:h.hsnSac?o.jsx("span",{className:"font-mono text-sm font-medium",children:h.hsnSac}):o.jsx("span",{className:"text-muted-foreground",children:"-"})}),o.jsx(Hs,{className:"py-4",children:o.jsx(cn,{variant:h.quantity<10?"destructive":"secondary",className:`font-semibold ${h.quantity<10?"":h.quantity<20?"bg-yellow-100 text-yellow-800 border-yellow-300":"bg-green-100 text-green-800 border-green-300"}`,children:h.quantity})}),o.jsx(Hs,{className:"py-4 text-center",children:o.jsx("span",{className:"font-semibold text-primary",children:h.location||"-"})}),o.jsx(Hs,{className:"py-4",children:o.jsxs("div",{id:`barcode-${h.barcode_id}`,className:"barcode-container",children:[o.jsx($U,{value:h.barcode_id,width:1.2,height:25,fontSize:8,margin:0,displayValue:!1}),o.jsx("span",{className:"barcode-text",children:h.barcode_id})]})}),o.jsx(Hs,{className:"py-4",children:o.jsxs("div",{className:"flex gap-1 justify-end flex-wrap",children:[o.jsx(et,{variant:"outline",size:"icon",onClick:()=>d(h.barcode_id,h.name),className:"hover:bg-primary hover:text-primary-foreground transition-colors",title:"Print single barcode",children:o.jsx(Fb,{className:"h-4 w-4"})}),o.jsx(et,{variant:"outline",size:"icon",onClick:()=>u(h.barcode_id,h.name),className:"hover:bg-green-600 hover:text-white transition-colors border-green-200 text-green-600",title:"Download barcode image",children:o.jsx(na,{className:"h-4 w-4"})}),o.jsx(_G,{item:h,trigger:o.jsx(et,{variant:"outline",size:"icon",className:"hover:bg-blue-600 hover:text-white transition-colors border-blue-200 text-blue-600",title:"Bulk print barcodes",children:o.jsx(z4,{className:"h-4 w-4"})})}),a&&o.jsxs(o.Fragment,{children:[o.jsx(bG,{item:h,onSuccess:t,trigger:o.jsx(et,{variant:"outline",size:"icon",className:"hover:bg-blue-600 hover:text-white transition-colors border-blue-200 text-blue-600",title:"Edit item",children:o.jsx(vv,{className:"h-4 w-4"})})}),o.jsxs(_W,{children:[o.jsx(EW,{asChild:!0,children:o.jsx(et,{variant:"outline",size:"icon",className:"hover:bg-destructive hover:text-destructive-foreground transition-colors",children:o.jsx(Sc,{className:"h-4 w-4"})})}),o.jsxs(uO,{className:"border-2",children:[o.jsxs(dO,{children:[o.jsx(hO,{className:"text-xl",children:"Delete Item"}),o.jsxs(AO,{className:"text-base",children:["Are you sure you want to delete ",o.jsx("span",{className:"font-semibold",children:h.name}),"? This action cannot be undone."]})]}),o.jsxs(fO,{children:[o.jsx(gO,{children:"Cancel"}),o.jsx(pO,{onClick:()=>c(h.id,h.name,h.image_path),className:"bg-destructive hover:bg-destructive/90",children:"Delete"})]})]})]})]})]})})]},h.id))})]})})]})}const rVe=()=>(C.useState(!0),null),t1=()=>o.jsx("footer",{className:"bg-card border-t border-border/50 mt-auto",children:o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:" 2025 Inventory Manager. All rights reserved."}),o.jsx("div",{className:"flex flex-wrap gap-4 sm:gap-6 text-sm justify-center sm:justify-end",children:o.jsx("span",{className:"text-muted-foreground",children:"Made with  in India"})})]}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-border/50 text-center text-xs text-muted-foreground",children:[o.jsx("p",{children:"SANIYA MUNIR JAMADAR"}),o.jsx("p",{children:"R.S. No. 1403, Ganesh Nagar, A Ward, Shinganapur, Kolhapur, Maharashtra-416010"})]})]})}),qu="sales",K1=()=>(console.log(" Sales service using mock data:",!1),!1),nVe=async()=>{const e=new Date,t=e.toISOString().slice(0,10).replace(/-/g,"");K1();const r=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1),i=Ai(jr(Et,qu),Xa("sale_date",">=",fi.fromDate(r)),Xa("sale_date","<",fi.fromDate(n))),a=(await Si(i)).size+1;return`INV-${t}-${a.toString().padStart(4,"0")}`},K2={async addSale(e){K1();const t=fi.now(),r=e.invoice_number||await nVe();console.log(" Saving sale to database:",{invoice_number:r,customer_name:e.customer_name,item_id:e.item_id,quantity_sold:e.quantity_sold,total_amount:e.total_amount});const n={...e,invoice_number:r,sale_date:t,created_at:t},i=await ka(jr(Et,qu),n);return console.log(" Sale saved successfully:",{id:i.id,invoice_number:r,collection:qu}),{id:i.id,invoice_number:r,sale_date:t}},async getSalesWithItems(){K1(),console.log(" Fetching fresh sales data from Firestore...");const e=Ai(jr(Et,qu),ia("sale_date","desc")),t=await Si(e);console.log(" Retrieved",t.docs.length,"sales from database"),console.log(" Data source:",t.metadata.fromCache?"Cache":"Server");const r=[];for(const n of t.docs){const i=n.data();console.log(" Processing sale document:",n.id,i);try{const s=i.productId||i.item_id,a=i.customerName||i.customer_name||"Unknown Customer",l=i.customerMobile||i.customer_mobile,c=i.quantitySold||i.quantity_sold||0;let u=0;if(i.formattedUnitPrice){const x=i.formattedUnitPrice.toString().replace(/[,]/g,"");u=parseFloat(x)||0}else u=i.pricePerUnit||i.unit_price||0;console.log(" Price calculation:",{formattedUnitPrice:i.formattedUnitPrice,pricePerUnit:i.pricePerUnit,unit_price:i.unit_price,finalPrice:u});let d=0;if(i.formattedTotalAmount){const x=i.formattedTotalAmount.toString().replace(/[,]/g,"");d=parseFloat(x)||0}else d=i.totalAmount||i.total_amount||0,d>1e4&&(d=d/100);console.log(" Amount calculation:",{formattedTotalAmount:i.formattedTotalAmount,totalAmount:i.totalAmount,total_amount:i.total_amount,finalAmount:d});const h=i.saleDate||i.sale_date||i.formattedDate,A=i.saleId||i.invoice_number||`INV-${n.id}`;let g=i.productName||i.item_name;if(console.log(" Product name check:",{productName:i.productName,item_name:i.item_name,finalItemName:g}),console.log(" Extracted data:",{itemName:g,customerName:a,quantitySold:c,unitPrice:u,totalAmount:d,invoiceNumber:A}),!g&&s)try{const x=await ql(pn(Et,"items",s));x.exists()&&(g=x.data().name,console.log(" Fetched item name from items collection:",g))}catch{console.warn(" Could not fetch item details for:",s)}g||(g="Unknown Item");const v={id:n.id,item_id:s,invoice_number:A,customer_name:a,customer_mobile:l,quantity_sold:c,unit_price:u,total_amount:d,sale_date:h,item_name:g,productName:g,...i};r.push(v)}catch(s){console.warn(" Error processing sale:",n.id,s),r.push({id:n.id,...i,item_name:i.productName||"Unknown Item",customer_name:i.customerName||"Unknown Customer",quantity_sold:i.quantitySold||0,total_amount:i.totalAmount||0,invoice_number:i.saleId||`INV-${n.id}`})}}return r.sort((n,i)=>{const s=n.sale_date instanceof Date?n.sale_date:n.sale_date.toDate();return(i.sale_date instanceof Date?i.sale_date:i.sale_date.toDate()).getTime()-s.getTime()}),console.log(" Processed",r.length,"sales with item details"),r},async getTodaySalesCount(){K1();const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1),n=Ai(jr(Et,qu),Xa("sale_date",">=",fi.fromDate(t)),Xa("sale_date","<",fi.fromDate(r)));return(await Si(n)).docs.reduce((s,a)=>s+a.data().quantity_sold,0)},subscribeToSales(e){K1();const t=new Date,r=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=Ai(jr(Et,qu),Xa("sale_date",">=",fi.fromDate(r)));return vs(n,i=>{const s=i.docs.reduce((a,l)=>a+l.data().quantity_sold,0);e(s)})},async debugSalesDatabase(){try{console.log(" DEBUG: Checking sales database..."),console.log(" DEBUG: Collection name:",qu),console.log(" DEBUG: Database instance:",Et);const e=Ai(jr(Et,qu),ia("sale_date","desc")),t=await Si(e);console.log(" DEBUG: Found",t.docs.length,"sales in database"),console.log(" DEBUG: Query metadata:",{fromCache:t.metadata.fromCache,hasPendingWrites:t.metadata.hasPendingWrites}),t.docs.length===0&&console.log(" DEBUG: No sales found in database - this might be the issue!"),t.docs.forEach((r,n)=>{var s,a;const i=r.data();console.log(` DEBUG Sale ${n+1}:`,{id:r.id,invoice_number:i.invoice_number,customer_name:i.customer_name,customerName:i.customerName,item_id:i.item_id,productId:i.productId,productName:i.productName,item_name:i.item_name,quantity_sold:i.quantity_sold,quantitySold:i.quantitySold,total_amount:i.total_amount,totalAmount:i.totalAmount,formattedTotalAmount:i.formattedTotalAmount,formattedUnitPrice:i.formattedUnitPrice,sale_date:((a=(s=i.sale_date)==null?void 0:s.toDate)==null?void 0:a.call(s))||i.sale_date,allFields:Object.keys(i)})})}catch(e){console.error(" DEBUG: Error checking database:",e)}},async createTestSale(){try{console.log(" Creating test sale...");const e=await this.addSale({item_id:"test-item-id",productId:"test-item-id",productName:"Test Product",invoice_number:`TEST-${Date.now()}`,saleId:`TEST-${Date.now()}`,quantity_sold:1,quantitySold:1,unit_price:100,pricePerUnit:100,total_amount:11800,totalAmount:11800,customer_name:"Test Customer",customerName:"Test Customer",customer_mobile:"1234567890",customerMobile:"1234567890"});console.log(" Test sale created:",e)}catch(e){console.error(" Error creating test sale:",e)}},async debugProductNames(){try{console.log(" PRODUCT NAME DEBUG: Testing product name extraction...");const e=Ai(jr(Et,qu),ia("sale_date","desc"));(await Si(e)).docs.forEach((r,n)=>{const i=r.data();let s=i.productName||i.item_name;console.log(` PRODUCT DEBUG ${n+1}:`,{docId:r.id,rawProductName:i.productName,rawItemName:i.item_name,extractedName:s,finalResult:s||"Unknown Item",allProductFields:{productName:i.productName,item_name:i.item_name,name:i.name}})})}catch(e){console.error(" PRODUCT DEBUG: Error:",e)}},async fixSalesData(){try{console.log(" Starting sales data fix...");const e=Ai(jr(Et,qu),ia("sale_date","desc")),t=await Si(e);console.log(" Found",t.docs.length,"sales to check");let r=0;for(const n of t.docs){const i=n.data();if(!i.productName&&i.item_id)try{const s=await ql(pn(Et,"items",i.item_id));if(s.exists()){const a=s.data();await Ns(pn(Et,qu,n.id),{productName:a.name,productId:i.item_id,customerName:i.customer_name,quantitySold:i.quantity_sold,pricePerUnit:i.unit_price,totalAmount:i.total_amount,saleId:i.invoice_number}),r++,console.log(" Fixed sale:",n.id,"with product:",a.name)}}catch(s){console.warn(" Could not fix sale:",n.id,s)}}console.log(" Fixed",r,"sales with missing product names")}catch(e){console.error(" Error fixing sales data:",e)}},subscribeToSalesWithItems(e){K1();const t=Ai(jr(Et,qu),ia("sale_date","desc"));return vs(t,async r=>{try{console.log(" Sales snapshot received:",r.docs.length,"sales"),console.log(" Snapshot metadata:",{fromCache:r.metadata.fromCache,hasPendingWrites:r.metadata.hasPendingWrites});const n=[],i=r.docs.map(async a=>{const l=a.data();try{const c=await Promise.race([ql(pn(Et,"items",l.item_id)),new Promise((d,h)=>setTimeout(()=>h(new Error("Item fetch timeout")),5e3))]),u=c.exists()?c.data().name:"Unknown Item";return{id:a.id,...l,item_name:u}}catch(c){return console.warn(" Error fetching item details for sale:",a.id,c),{id:a.id,...l,item_name:"Unknown Item"}}});(await Promise.allSettled(i)).forEach(a=>{a.status==="fulfilled"?n.push(a.value):console.error(" Failed to process sale:",a.reason)}),n.sort((a,l)=>{const c=a.sale_date instanceof Date?a.sale_date:a.sale_date.toDate();return(l.sale_date instanceof Date?l.sale_date:l.sale_date.toDate()).getTime()-c.getTime()}),console.log(" Processed sales with items:",n.length),e(n)}catch(n){console.error(" Error in sales snapshot listener:",n);try{const i=await this.getSalesWithItems();console.log(" Fallback sales fetch successful:",i.length),e(i)}catch(i){console.error(" Fallback sales fetch failed:",i)}}},r=>{console.error(" Sales snapshot listener error:",r),this.getSalesWithItems().then(e).catch(console.error)})}},iVe=()=>{const e=ds(),{userRole:t}=jy();C.useEffect(()=>{const E=localStorage.getItem("isAuthenticated"),I=localStorage.getItem("isLoggedIn");if(!E&&!I){console.log(" Dashboard: Not authenticated, redirecting to login"),e("/");return}console.log(" Dashboard: User authenticated")},[e]),C.useEffect(()=>{t==="latur"&&e("/latur-operator")},[e,t]);const[r,n]=C.useState([]),[i,s]=C.useState([]),[a,l]=C.useState(!0),[c,u]=C.useState(null),[d,h]=C.useState(0),[A,g]=C.useState({totalItems:0,lowStock:0,todaySales:0,totalValue:0,uniqueItems:0,outOfStock:0}),v=()=>r.filter(E=>E.quantity<10&&E.quantity>0),x=()=>{const E=new Date;return E.setHours(0,0,0,0),i.filter(I=>{const N=I.sale_date instanceof Date?I.sale_date:I.sale_date.toDate();return N.setHours(0,0,0,0),N.getTime()===E.getTime()})},y=()=>{if(!c)return null;const E=()=>u(null);switch(c){case"totalStock":return o.jsxs(Sr,{className:"premium-glass-card mb-6",children:[o.jsx(fn,{children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs(hn,{className:"flex items-center gap-2",children:[o.jsx(Fo,{className:"h-5 w-5 premium-icon"}),"Total Stock Management"]}),o.jsx(_n,{children:"Complete inventory overview and management tools"})]}),o.jsx(et,{variant:"outline",size:"icon",onClick:E,className:"btn-premium-secondary",children:o.jsx(ef,{className:"h-4 w-4"})})]})}),o.jsxs(Pr,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[o.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-[#C89968]/10 to-gray-600/10 border-2 border-[#C89968]/30 rounded-xl shadow-md",children:[o.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-[#C89968] to-gray-600 bg-clip-text text-transparent",children:r.filter(j=>j.quantity>10).length}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:"Well Stocked Items"})]}),o.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-gray-900/10 to-[#F57C7A]/10 border-2 border-[#3B82F6]/30 rounded-xl shadow-md",children:[o.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 to-[#F57C7A] bg-clip-text text-transparent",children:A.lowStock}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:"Low Stock Items"})]}),o.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-gray-900/10 to-[#E53935]/10 border-2 border-[#3B82F6]/30 rounded-xl shadow-md",children:[o.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 to-[#E53935] bg-clip-text text-transparent",children:A.outOfStock}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:"Out of Stock"})]}),o.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-[#C89968]/10 to-[#EF5350]/10 border-2 border-[#C89968]/30 rounded-xl shadow-md",children:[o.jsxs("p",{className:"text-2xl font-bold bg-gradient-to-r from-[#C89968] to-[#EF5350] bg-clip-text text-transparent",children:["",r.reduce((j,T)=>j+T.price*T.quantity,0).toFixed(2)]}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:"Total Stock Value"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[o.jsx(zN,{className:"h-4 w-4"}),"Stock by Category"]}),Array.from(new Set(r.map(j=>j.category).filter(Boolean))).map(j=>{const T=r.filter(R=>R.category===j),P=T.reduce((R,O)=>R+O.quantity,0),k=T.reduce((R,O)=>R+O.price*O.quantity,0);return o.jsxs("div",{className:"flex justify-between items-center p-3 border rounded-lg bg-muted/30",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:j}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[T.length," products"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs(cn,{variant:"outline",className:"mb-1",children:[P," units"]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["",k.toFixed(2)]})]})]},j)})]})]})]});case"lowStock":const I=v();return o.jsxs(Sr,{className:"premium-glass-card mb-6",children:[o.jsx(fn,{children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs(hn,{className:"flex items-center gap-2",children:[o.jsx(Gg,{className:"h-5 w-5 premium-icon text-yellow-400"}),"Low Stock Management (",I.length,")"]}),o.jsx(_n,{children:"Critical inventory items requiring immediate attention"})]}),o.jsx(et,{variant:"outline",size:"icon",onClick:E,className:"btn-premium-secondary",children:o.jsx(ef,{className:"h-4 w-4"})})]})}),o.jsxs(Pr,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsxs("div",{className:"text-center p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[o.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:I.length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Items Need Restocking"})]}),o.jsxs("div",{className:"text-center p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[o.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:["",I.reduce((j,T)=>j+T.price*T.quantity,0).toFixed(2)]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Low Stock Value"})]}),o.jsxs("div",{className:"text-center p-4 bg-red-50 border border-red-200 rounded-lg",children:[o.jsx("p",{className:"text-2xl font-bold text-red-600",children:I.filter(j=>j.quantity<=5).length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Critical (5 units)"})]})]}),I.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Gg,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-lg font-medium",children:"No low stock items"}),o.jsx("p",{className:"text-muted-foreground",children:"All items are well stocked!"})]}):o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-semibold",children:"Items Requiring Restocking"}),I.map(j=>{var T;return o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-yellow-50/30",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden border",children:o.jsx(I5,{src:j.image_url,alt:j.name,className:"w-full h-full object-cover",fallbackClassName:"w-full h-full flex items-center justify-center bg-gray-100"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:j.name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:j.category}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Barcode: ",j.barcode_id]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs(cn,{variant:j.quantity<=5?"destructive":"secondary",className:"mb-2",children:[j.quantity," left"]}),o.jsxs("p",{className:"text-sm font-semibold",children:["",(T=j.price)==null?void 0:T.toFixed(2)]})]})]},j.id)})]})]})]});case"todaysSales":const N=x();return o.jsxs(Sr,{className:"premium-glass-card mb-6",children:[o.jsx(fn,{children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs(hn,{className:"flex items-center gap-2",children:[o.jsx(kx,{className:"h-5 w-5 premium-icon text-blue-400"}),"Today's Sales Impact on Inventory"]}),o.jsx(_n,{children:"How today's sales affected your inventory levels"})]}),o.jsx(et,{variant:"outline",size:"icon",onClick:E,className:"btn-premium-secondary",children:o.jsx(ef,{className:"h-4 w-4"})})]})}),o.jsxs(Pr,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[o.jsxs("div",{className:"text-center p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:N.length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Transactions Today"})]}),o.jsxs("div",{className:"text-center p-4 bg-green-50 border border-green-200 rounded-lg",children:[o.jsx("p",{className:"text-2xl font-bold text-green-600",children:N.reduce((j,T)=>j+T.quantity_sold,0)}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Units Sold"})]}),o.jsxs("div",{className:"text-center p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[o.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["",N.reduce((j,T)=>j+T.total_amount,0).toFixed(2)]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Revenue Generated"})]}),o.jsxs("div",{className:"text-center p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[o.jsx("p",{className:"text-2xl font-bold text-orange-600",children:new Set(N.map(j=>j.item_name)).size}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Different Items Sold"})]})]}),N.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(kx,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-lg font-medium",children:"No sales today"}),o.jsx("p",{className:"text-muted-foreground",children:"Start making some sales to see inventory impact!"})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"font-semibold",children:"Top Selling Items Today"}),Object.entries(N.reduce((j,T)=>(j[T.item_name]=(j[T.item_name]||0)+T.quantity_sold,j),{})).sort(([,j],[,T])=>T-j).slice(0,5).map(([j,T])=>{const P=r.find(k=>k.name===j);return o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded overflow-hidden border",children:o.jsx(I5,{src:P==null?void 0:P.image_url,alt:j,className:"w-full h-full object-cover",fallbackClassName:"w-full h-full flex items-center justify-center bg-gray-100"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:j}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Remaining: ",(P==null?void 0:P.quantity)||0," units"]})]})]}),o.jsxs(cn,{variant:"outline",children:[T," sold"]})]},j)})]})]})]});case"uniqueItems":return o.jsxs(Sr,{className:"premium-glass-card mb-6",children:[o.jsx(fn,{children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs(hn,{className:"flex items-center gap-2",children:[o.jsx(zN,{className:"h-5 w-5 premium-icon text-purple-400"}),"Unique Items Inventory Analysis"]}),o.jsx(_n,{children:"Comprehensive analysis of your product portfolio"})]}),o.jsx(et,{variant:"outline",size:"icon",onClick:E,className:"btn-premium-secondary",children:o.jsx(ef,{className:"h-4 w-4"})})]})}),o.jsxs(Pr,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[o.jsxs("div",{className:"text-center p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[o.jsx("p",{className:"text-2xl font-bold text-purple-600",children:A.uniqueItems}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Products"})]}),o.jsxs("div",{className:"text-center p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:new Set(r.map(j=>j.category).filter(Boolean)).size}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Categories"})]}),o.jsxs("div",{className:"text-center p-4 bg-green-50 border border-green-200 rounded-lg",children:[o.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",r.length>0?(r.reduce((j,T)=>j+T.price,0)/r.length).toFixed(2):"0.00"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg. Price"})]}),o.jsxs("div",{className:"text-center p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[o.jsx("p",{className:"text-2xl font-bold text-orange-600",children:r.filter(j=>j.quantity>0).length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"In Stock"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[o.jsx(Fo,{className:"h-4 w-4"}),"Category Distribution"]}),Array.from(new Set(r.map(j=>j.category).filter(Boolean))).map(j=>{const T=r.filter(R=>R.category===j),P=T.reduce((R,O)=>R+O.price*O.quantity,0),k=T.reduce((R,O)=>R+O.price,0)/T.length;return o.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{children:[o.jsx("h5",{className:"font-medium",children:j}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[T.length," products"]})]}),o.jsxs(cn,{variant:"outline",children:[T.reduce((R,O)=>R+O.quantity,0)," units"]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Total Value"}),o.jsxs("p",{className:"font-semibold",children:["",P.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Avg Price"}),o.jsxs("p",{className:"font-semibold",children:["",k.toFixed(2)]})]})]})]},j)})]})]})]});default:return null}},w=async()=>{try{const[E,I]=await Promise.all([xa.getItems(),K2.getSalesWithItems()]);n(E),s(I);const N=E.reduce((k,R)=>k+R.quantity,0),j=E.filter(k=>k.quantity<10&&k.quantity>0).length,T=E.filter(k=>k.quantity===0).length,P=E.length;g(k=>({...k,totalItems:N,lowStock:j,outOfStock:T,uniqueItems:P,totalValue:N}))}catch(E){console.error("Error fetching items:",E)}finally{l(!1)}},_=async()=>{try{const E=await K2.getTodaySalesCount();g(I=>({...I,todaySales:E}))}catch(E){console.error("Error fetching sales:",E)}};return C.useEffect(()=>{w(),_();const E=xa.subscribeToItems(j=>{n(j);const T=j.reduce((O,M)=>O+M.quantity,0),P=j.filter(O=>O.quantity<10&&O.quantity>0).length,k=j.filter(O=>O.quantity===0).length,R=j.length;g(O=>({...O,totalItems:T,lowStock:P,outOfStock:k,uniqueItems:R,totalValue:T}))}),I=K2.subscribeToSales(j=>{g(T=>({...T,todaySales:j}))}),N=vs(Ai(jr(Et,"inquiries"),Xa("status","==","pending")),j=>{const T=j.size;vs(Ai(jr(Et,"grouped_inquiries"),Xa("status","==","pending")),P=>{const k=P.size;h(T+k)})});return()=>{E(),I(),N()}},[]),o.jsxs("div",{className:"premium-dashboard min-h-screen dashboard-container",children:[o.jsxs("div",{className:"max-w-7xl mx-auto p-3 sm:p-4 space-y-4 sm:space-y-6",children:[o.jsx(rVe,{}),o.jsx(Sr,{className:"premium-glass-card p-4 sm:p-6",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Inventory Manager"}),o.jsx("p",{className:"text-xs sm:text-sm",children:"Track and manage your stock efficiently"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[t==="superadmin"&&o.jsxs(o.Fragment,{children:[o.jsx(qz,{onSuccess:w}),o.jsx(U8,{onSuccess:w})]}),(t==="sangli-operator"||t==="jath-operator")&&o.jsxs(o.Fragment,{children:[o.jsx(qz,{onSuccess:w}),o.jsx(U8,{onSuccess:w})]}),(t==="superadmin"||t==="jath"||t==="sangli")&&o.jsxs("div",{className:"relative",children:[o.jsxs(et,{variant:"outline",size:"sm",onClick:()=>e("/inquiries"),className:"btn-premium-secondary gap-1.5 h-8 px-3",children:[o.jsx(dm,{className:"h-3.5 w-3.5 premium-icon"}),o.jsx("span",{className:"text-xs",children:"Inquiries"})]}),d>0&&o.jsx(cn,{className:"absolute -top-1 -right-1 h-4 w-4 rounded-full p-0 flex items-center justify-center text-[10px] bg-[#EF4444] text-white border-2 border-white shadow-lg pointer-events-none",children:d})]}),(t==="superadmin"||t==="jath"||t==="sangli")&&o.jsxs(et,{variant:"outline",size:"sm",onClick:()=>e("/sales-history"),className:"btn-premium-secondary gap-1.5 h-8 px-3",children:[o.jsx(ja,{className:"h-3.5 w-3.5 premium-icon"}),o.jsx("span",{className:"text-xs",children:"Sales History"})]}),o.jsxs(et,{variant:"outline",size:"sm",onClick:()=>e("/bid-status"),className:"btn-premium-secondary gap-1.5 h-8 px-3",children:[o.jsx(Is,{className:"h-3.5 w-3.5 premium-icon"}),o.jsx("span",{className:"text-xs",children:"Bid Status"})]}),t==="superadmin"&&o.jsxs(o.Fragment,{children:[o.jsxs(et,{variant:"outline",size:"sm",onClick:()=>e("/login-history"),className:"btn-premium-secondary gap-1.5 h-8 px-3",children:[o.jsx(Mf,{className:"h-3.5 w-3.5 premium-icon"}),o.jsx("span",{className:"text-xs",children:"Login History"})]}),o.jsxs(et,{variant:"outline",size:"sm",onClick:()=>e("/location-tracker"),className:"btn-premium-secondary gap-1.5 h-8 px-3 border-blue-200 text-blue-600 hover:bg-blue-600 hover:text-white",children:[o.jsx(Jd,{className:"h-3.5 w-3.5"}),o.jsx("span",{className:"text-xs",children:" Location Tracker"})]})]})]})]})}),o.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:[o.jsx(uC,{title:"Total Stock",value:A.totalItems,description:"All items in inventory",icon:Fo,onClick:()=>u("totalStock")}),o.jsx(uC,{title:"Low Stock Alerts",value:A.lowStock,description:"Items below 10 units",icon:Gg,onClick:()=>u("lowStock")}),o.jsx(uC,{title:"Today's Sales",value:A.todaySales,description:"Units sold today",icon:kx,onClick:()=>u("todaysSales")}),o.jsx(uC,{title:"Unique Items",value:A.uniqueItems,description:"Different products",icon:zN,onClick:()=>u("uniqueItems")})]}),y(),o.jsxs(Sr,{className:"premium-glass-card glow",children:[o.jsxs(fn,{children:[o.jsx(hn,{children:"Current Inventory"}),o.jsx(_n,{children:"Manage your stock levels and track inventory"})]}),o.jsx(Pr,{children:a?o.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-4",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white/50"}),o.jsx("p",{children:"Loading inventory..."})]}):o.jsx("div",{className:"premium-table",children:o.jsx(tVe,{items:r,onUpdate:w})})})]})]}),o.jsx(t1,{})]})};function ls(e){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ls(e)}var vf=Uint8Array,Iu=Uint16Array,t7=Int32Array,r7=new vf([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),n7=new vf([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),SW=new vf([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$fe=function(e,t){for(var r=new Iu(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new t7(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},Vfe=$fe(r7,2),sVe=Vfe.b,mO=Vfe.r;sVe[28]=258,mO[258]=28;var aVe=$fe(n7,0),CW=aVe.r,xO=new Iu(32768);for(var Vs=0;Vs<32768;++Vs){var JA=(Vs&43690)>>1|(Vs&21845)<<1;JA=(JA&52428)>>2|(JA&13107)<<2,JA=(JA&61680)>>4|(JA&3855)<<4,xO[Vs]=((JA&65280)>>8|(JA&255)<<8)>>1}var q2=function(e,t,r){for(var n=e.length,i=0,s=new Iu(t);i<n;++i)e[i]&&++s[e[i]-1];var a=new Iu(t);for(i=1;i<t;++i)a[i]=a[i-1]+s[i-1]<<1;var l;if(r){l=new Iu(1<<t);var c=15-t;for(i=0;i<n;++i)if(e[i])for(var u=i<<4|e[i],d=t-e[i],h=a[e[i]-1]++<<d,A=h|(1<<d)-1;h<=A;++h)l[xO[h]>>c]=u}else for(l=new Iu(n),i=0;i<n;++i)e[i]&&(l[i]=xO[a[e[i]-1]++]>>15-e[i]);return l},Em=new vf(288);for(var Vs=0;Vs<144;++Vs)Em[Vs]=8;for(var Vs=144;Vs<256;++Vs)Em[Vs]=9;for(var Vs=256;Vs<280;++Vs)Em[Vs]=7;for(var Vs=280;Vs<288;++Vs)Em[Vs]=8;var H5=new vf(32);for(var Vs=0;Vs<32;++Vs)H5[Vs]=5;var oVe=q2(Em,9,0),lVe=q2(H5,5,0),zfe=function(e){return(e+7)/8|0},cVe=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new vf(e.subarray(t,r))},Rh=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Fw=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},f6=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,s=r.slice();if(!i)return{t:Wfe,l:0};if(i==1){var a=new vf(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(N,j){return N.f-j.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,h=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=i-1;)l=r[r[u].f<r[h].f?u++:h++],c=r[u!=d&&r[u].f<r[h].f?u++:h++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var A=s[0].s,n=1;n<i;++n)s[n].s>A&&(A=s[n].s);var g=new Iu(A+1),v=vO(r[d-1],g,0);if(v>t){var n=0,x=0,y=v-t,w=1<<y;for(s.sort(function(j,T){return g[T.s]-g[j.s]||j.f-T.f});n<i;++n){var _=s[n].s;if(g[_]>t)x+=w-(1<<v-g[_]),g[_]=t;else break}for(x>>=y;x>0;){var E=s[n].s;g[E]<t?x-=1<<t-g[E]++-1:++n}for(;n>=0&&x;--n){var I=s[n].s;g[I]==t&&(--g[I],++x)}v=t}return{t:new vf(g),l:v}},vO=function(e,t,r){return e.s==-1?Math.max(vO(e.l,t,r+1),vO(e.r,t,r+1)):t[e.s]=r},NW=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Iu(++t),n=0,i=e[0],s=1,a=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==i&&l!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=e[l]}return{c:r.subarray(0,n),n:t}},Ow=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Gfe=function(e,t,r){var n=r.length,i=zfe(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<n;++s)e[i+s+4]=r[s];return(i+4+n)*8},TW=function(e,t,r,n,i,s,a,l,c,u,d){Rh(t,d++,r),++i[256];for(var h=f6(i,15),A=h.t,g=h.l,v=f6(s,15),x=v.t,y=v.l,w=NW(A),_=w.c,E=w.n,I=NW(x),N=I.c,j=I.n,T=new Iu(19),P=0;P<_.length;++P)++T[_[P]&31];for(var P=0;P<N.length;++P)++T[N[P]&31];for(var k=f6(T,7),R=k.t,O=k.l,M=19;M>4&&!R[SW[M-1]];--M);var H=u+5<<3,K=Ow(i,Em)+Ow(s,H5)+a,Y=Ow(i,A)+Ow(s,x)+a+14+3*M+Ow(T,R)+2*T[16]+3*T[17]+7*T[18];if(c>=0&&H<=K&&H<=Y)return Gfe(t,d,e.subarray(c,c+u));var ne,le,te,X;if(Rh(t,d,1+(Y<K)),d+=2,Y<K){ne=q2(A,g,0),le=A,te=q2(x,y,0),X=x;var ue=q2(R,O,0);Rh(t,d,E-257),Rh(t,d+5,j-1),Rh(t,d+10,M-4),d+=14;for(var P=0;P<M;++P)Rh(t,d+3*P,R[SW[P]]);d+=3*M;for(var ve=[_,N],V=0;V<2;++V)for(var q=ve[V],P=0;P<q.length;++P){var ee=q[P]&31;Rh(t,d,ue[ee]),d+=R[ee],ee>15&&(Rh(t,d,q[P]>>5&127),d+=q[P]>>12)}}else ne=oVe,le=Em,te=lVe,X=H5;for(var P=0;P<l;++P){var re=n[P];if(re>255){var ee=re>>18&31;Fw(t,d,ne[ee+257]),d+=le[ee+257],ee>7&&(Rh(t,d,re>>23&31),d+=r7[ee]);var de=re&31;Fw(t,d,te[de]),d+=X[de],de>3&&(Fw(t,d,re>>5&8191),d+=n7[de])}else Fw(t,d,ne[re]),d+=le[re]}return Fw(t,d,ne[256]),d+le[256]},uVe=new t7([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Wfe=new vf(0),dVe=function(e,t,r,n,i,s){var a=s.z||e.length,l=new vf(n+a+5*(1+Math.ceil(a/7e3))+i),c=l.subarray(n,l.length-i),u=s.l,d=(s.r||0)&7;if(t){d&&(c[0]=s.r>>3);for(var h=uVe[t-1],A=h>>13,g=h&8191,v=(1<<r)-1,x=s.p||new Iu(32768),y=s.h||new Iu(v+1),w=Math.ceil(r/3),_=2*w,E=function(Re){return(e[Re]^e[Re+1]<<w^e[Re+2]<<_)&v},I=new t7(25e3),N=new Iu(288),j=new Iu(32),T=0,P=0,k=s.i||0,R=0,O=s.w||0,M=0;k+2<a;++k){var H=E(k),K=k&32767,Y=y[H];if(x[K]=Y,y[H]=K,O<=k){var ne=a-k;if((T>7e3||R>24576)&&(ne>423||!u)){d=TW(e,c,0,I,N,j,P,R,M,k-M,d),R=T=P=0,M=k;for(var le=0;le<286;++le)N[le]=0;for(var le=0;le<30;++le)j[le]=0}var te=2,X=0,ue=g,ve=K-Y&32767;if(ne>2&&H==E(k-ve))for(var V=Math.min(A,ne)-1,q=Math.min(32767,k),ee=Math.min(258,ne);ve<=q&&--ue&&K!=Y;){if(e[k+te]==e[k+te-ve]){for(var re=0;re<ee&&e[k+re]==e[k+re-ve];++re);if(re>te){if(te=re,X=ve,re>V)break;for(var de=Math.min(ve,re-2),Ae=0,le=0;le<de;++le){var _e=k-ve+le&32767,ye=x[_e],ce=_e-ye&32767;ce>Ae&&(Ae=ce,Y=_e)}}}K=Y,Y=x[K],ve+=K-Y&32767}if(X){I[R++]=268435456|mO[te]<<18|CW[X];var Ne=mO[te]&31,oe=CW[X]&31;P+=r7[Ne]+n7[oe],++N[257+Ne],++j[oe],O=k+te,++T}else I[R++]=e[k],++N[e[k]]}}for(k=Math.max(k,O);k<a;++k)I[R++]=e[k],++N[e[k]];d=TW(e,c,u,I,N,j,P,R,M,k-M,d),u||(s.r=d&7|c[d/8|0]<<3,d-=7,s.h=y,s.p=x,s.i=k,s.w=O)}else{for(var k=s.w||0;k<a+u;k+=65535){var We=k+65535;We>=a&&(c[d/8|0]=u,We=a),d=Gfe(c,d+1,e.subarray(k,We))}s.i=a}return cVe(l,0,n+zfe(d)+i)},Kfe=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,s=r.length|0,a=0;a!=s;){for(var l=Math.min(a+2655,s);a<l;++a)i+=n+=r[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},fVe=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),a=new vf(s.length+e.length);a.set(s),a.set(e,s.length),e=a,i.w=s.length}return dVe(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},qfe=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},hVe=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=Kfe();i.p(t.dictionary),qfe(e,2,i.d())}};function yO(e,t){t||(t={});var r=Kfe();r.p(e);var n=fVe(e,t,t.dictionary?6:2,4);return hVe(n,t),qfe(n,n.length-4,r.d()),n}var AVe=typeof TextDecoder<"u"&&new TextDecoder,pVe=0;try{AVe.decode(Wfe,{stream:!0}),pVe=1}catch{}function gVe(e){if(Array.isArray(e))return e}function mVe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function BW(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function xVe(e,t){if(e){if(typeof e=="string")return BW(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?BW(e,t):void 0}}function vVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IW(e,t){return gVe(e)||mVe(e,t)||xVe(e,t)||vVe()}function kW(e,t="utf8"){return new TextDecoder(t).decode(e)}const yVe=new TextEncoder;function wVe(e){return yVe.encode(e)}const bVe=1024*8,_Ve=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),h6={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class i7{constructor(t=bVe,r={}){ss(this,"buffer");ss(this,"byteLength");ss(this,"byteOffset");ss(this,"length");ss(this,"offset");ss(this,"lastWrittenByte");ss(this,"littleEndian");ss(this,"_data");ss(this,"_mark");ss(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const i=r.offset?r.offset>>>0:0,s=t.byteLength-i;let a=i;(ArrayBuffer.isView(t)||t instanceof i7)&&(t.byteLength!==t.buffer.byteLength&&(a=t.byteOffset+i),t=t.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=h6[r].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===_Ve&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+n));l.reverse();const c=new h6[r](l.buffer);return this.offset+=n,c.reverse(),c}const a=new h6[r](s);return this.offset+=n,a}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return kW(this.readBytes(t))}decodeText(t=1,r="utf8"){return kW(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(wVe(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const EVe=4,jW=0,PW=1,SVe=2;function Qy(e){let t=e.length;for(;--t>=0;)e[t]=0}const CVe=0,Xfe=1,NVe=2,TVe=3,BVe=258,s7=29,qE=256,t_=qE+1+s7,Qx=30,a7=19,Yfe=2*t_+1,Tg=15,A6=16,IVe=7,o7=256,Zfe=16,Jfe=17,ehe=18,wO=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),d4=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),kVe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),the=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),jVe=512,qh=new Array((t_+2)*2);Qy(qh);const X2=new Array(Qx*2);Qy(X2);const r_=new Array(jVe);Qy(r_);const n_=new Array(BVe-TVe+1);Qy(n_);const l7=new Array(s7);Qy(l7);const Q5=new Array(Qx);Qy(Q5);function p6(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}let rhe,nhe,ihe;function g6(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const she=e=>e<256?r_[e]:r_[256+(e>>>7)],i_=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},zc=(e,t,r)=>{e.bi_valid>A6-r?(e.bi_buf|=t<<e.bi_valid&65535,i_(e,e.bi_buf),e.bi_buf=t>>A6-e.bi_valid,e.bi_valid+=r-A6):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},$f=(e,t,r)=>{zc(e,r[t*2],r[t*2+1])},ahe=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},PVe=e=>{e.bi_valid===16?(i_(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},FVe=(e,t)=>{const r=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,d,h,A,g,v,x=0;for(A=0;A<=Tg;A++)e.bl_count[A]=0;for(r[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<Yfe;u++)d=e.heap[u],A=r[r[d*2+1]*2+1]+1,A>c&&(A=c,x++),r[d*2+1]=A,!(d>n)&&(e.bl_count[A]++,g=0,d>=l&&(g=a[d-l]),v=r[d*2],e.opt_len+=v*(A+g),s&&(e.static_len+=v*(i[d*2+1]+g)));if(x!==0){do{for(A=c-1;e.bl_count[A]===0;)A--;e.bl_count[A]--,e.bl_count[A+1]+=2,e.bl_count[c]--,x-=2}while(x>0);for(A=c;A!==0;A--)for(d=e.bl_count[A];d!==0;)h=e.heap[--u],!(h>n)&&(r[h*2+1]!==A&&(e.opt_len+=(A-r[h*2+1])*r[h*2],r[h*2+1]=A),d--)}},ohe=(e,t,r)=>{const n=new Array(Tg+1);let i=0,s,a;for(s=1;s<=Tg;s++)i=i+r[s-1]<<1,n[s]=i;for(a=0;a<=t;a++){let l=e[a*2+1];l!==0&&(e[a*2]=ahe(n[l]++,l))}},OVe=()=>{let e,t,r,n,i;const s=new Array(Tg+1);for(r=0,n=0;n<s7-1;n++)for(l7[n]=r,e=0;e<1<<wO[n];e++)n_[r++]=n;for(n_[r-1]=n,i=0,n=0;n<16;n++)for(Q5[n]=i,e=0;e<1<<d4[n];e++)r_[i++]=n;for(i>>=7;n<Qx;n++)for(Q5[n]=i<<7,e=0;e<1<<d4[n]-7;e++)r_[256+i++]=n;for(t=0;t<=Tg;t++)s[t]=0;for(e=0;e<=143;)qh[e*2+1]=8,e++,s[8]++;for(;e<=255;)qh[e*2+1]=9,e++,s[9]++;for(;e<=279;)qh[e*2+1]=7,e++,s[7]++;for(;e<=287;)qh[e*2+1]=8,e++,s[8]++;for(ohe(qh,t_+1,s),e=0;e<Qx;e++)X2[e*2+1]=5,X2[e*2]=ahe(e,5);rhe=new p6(qh,wO,qE+1,t_,Tg),nhe=new p6(X2,d4,0,Qx,Tg),ihe=new p6(new Array(0),kVe,0,a7,IVe)},lhe=e=>{let t;for(t=0;t<t_;t++)e.dyn_ltree[t*2]=0;for(t=0;t<Qx;t++)e.dyn_dtree[t*2]=0;for(t=0;t<a7;t++)e.bl_tree[t*2]=0;e.dyn_ltree[o7*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},che=e=>{e.bi_valid>8?i_(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},FW=(e,t,r,n)=>{const i=t*2,s=r*2;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]},m6=(e,t,r)=>{const n=e.heap[r];let i=r<<1;for(;i<=e.heap_len&&(i<e.heap_len&&FW(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!FW(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n},OW=(e,t,r)=>{let n,i,s=0,a,l;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+s++]&255,n+=(e.pending_buf[e.sym_buf+s++]&255)<<8,i=e.pending_buf[e.sym_buf+s++],n===0?$f(e,i,t):(a=n_[i],$f(e,a+qE+1,t),l=wO[a],l!==0&&(i-=l7[a],zc(e,i,l)),n--,a=she(n),$f(e,a,r),l=d4[a],l!==0&&(n-=Q5[a],zc(e,n,l)));while(s<e.sym_next);$f(e,o7,t)},bO=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems;let a,l,c=-1,u;for(e.heap_len=0,e.heap_max=Yfe,a=0;a<s;a++)r[a*2]!==0?(e.heap[++e.heap_len]=c=a,e.depth[a]=0):r[a*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,r[u*2]=1,e.depth[u]=0,e.opt_len--,i&&(e.static_len-=n[u*2+1]);for(t.max_code=c,a=e.heap_len>>1;a>=1;a--)m6(e,r,a);u=s;do a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],m6(e,r,1),l=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=l,r[u*2]=r[a*2]+r[l*2],e.depth[u]=(e.depth[a]>=e.depth[l]?e.depth[a]:e.depth[l])+1,r[a*2+1]=r[l*2+1]=u,e.heap[1]=u++,m6(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],FVe(e,t),ohe(r,c,e.bl_count)},DW=(e,t,r)=>{let n,i=-1,s,a=t[0*2+1],l=0,c=7,u=4;for(a===0&&(c=138,u=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)s=a,a=t[(n+1)*2+1],!(++l<c&&s===a)&&(l<u?e.bl_tree[s*2]+=l:s!==0?(s!==i&&e.bl_tree[s*2]++,e.bl_tree[Zfe*2]++):l<=10?e.bl_tree[Jfe*2]++:e.bl_tree[ehe*2]++,l=0,i=s,a===0?(c=138,u=3):s===a?(c=6,u=3):(c=7,u=4))},LW=(e,t,r)=>{let n,i=-1,s,a=t[0*2+1],l=0,c=7,u=4;for(a===0&&(c=138,u=3),n=0;n<=r;n++)if(s=a,a=t[(n+1)*2+1],!(++l<c&&s===a)){if(l<u)do $f(e,s,e.bl_tree);while(--l!==0);else s!==0?(s!==i&&($f(e,s,e.bl_tree),l--),$f(e,Zfe,e.bl_tree),zc(e,l-3,2)):l<=10?($f(e,Jfe,e.bl_tree),zc(e,l-3,3)):($f(e,ehe,e.bl_tree),zc(e,l-11,7));l=0,i=s,a===0?(c=138,u=3):s===a?(c=6,u=3):(c=7,u=4)}},DVe=e=>{let t;for(DW(e,e.dyn_ltree,e.l_desc.max_code),DW(e,e.dyn_dtree,e.d_desc.max_code),bO(e,e.bl_desc),t=a7-1;t>=3&&e.bl_tree[the[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},LVe=(e,t,r,n)=>{let i;for(zc(e,t-257,5),zc(e,r-1,5),zc(e,n-4,4),i=0;i<n;i++)zc(e,e.bl_tree[the[i]*2+1],3);LW(e,e.dyn_ltree,t-1),LW(e,e.dyn_dtree,r-1)},RVe=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return jW;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return PW;for(r=32;r<qE;r++)if(e.dyn_ltree[r*2]!==0)return PW;return jW};let RW=!1;const MVe=e=>{RW||(OVe(),RW=!0),e.l_desc=new g6(e.dyn_ltree,rhe),e.d_desc=new g6(e.dyn_dtree,nhe),e.bl_desc=new g6(e.bl_tree,ihe),e.bi_buf=0,e.bi_valid=0,lhe(e)},uhe=(e,t,r,n)=>{zc(e,(CVe<<1)+(n?1:0),3),che(e),i_(e,r),i_(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},UVe=e=>{zc(e,Xfe<<1,3),$f(e,o7,qh),PVe(e)},HVe=(e,t,r,n)=>{let i,s,a=0;e.level>0?(e.strm.data_type===SVe&&(e.strm.data_type=RVe(e)),bO(e,e.l_desc),bO(e,e.d_desc),a=DVe(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=r+5,r+4<=i&&t!==-1?uhe(e,t,r,n):e.strategy===EVe||s===i?(zc(e,(Xfe<<1)+(n?1:0),3),OW(e,qh,X2)):(zc(e,(NVe<<1)+(n?1:0),3),LVe(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),OW(e,e.dyn_ltree,e.dyn_dtree)),lhe(e),n&&che(e)},QVe=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(n_[r]+qE+1)*2]++,e.dyn_dtree[she(t)*2]++),e.sym_next===e.sym_end);var $Ve=MVe,VVe=uhe,zVe=HVe,GVe=QVe,WVe=UVe,KVe={_tr_init:$Ve,_tr_stored_block:VVe,_tr_flush_block:zVe,_tr_tally:GVe,_tr_align:WVe};const qVe=(e,t,r,n)=>{let i=e&65535|0,s=e>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do i=i+t[n++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var s_=qVe;const XVe=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},YVe=new Uint32Array(XVe()),ZVe=(e,t,r,n)=>{const i=YVe,s=n+r;e^=-1;for(let a=n;a<s;a++)e=e>>>8^i[(e^t[a])&255];return e^-1};var Wo=ZVe,Fv={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},XE={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:JVe,_tr_stored_block:_O,_tr_flush_block:eze,_tr_tally:up,_tr_align:tze}=KVe,{Z_NO_FLUSH:dp,Z_PARTIAL_FLUSH:rze,Z_FULL_FLUSH:nze,Z_FINISH:ud,Z_BLOCK:MW,Z_OK:Al,Z_STREAM_END:UW,Z_STREAM_ERROR:sh,Z_DATA_ERROR:ize,Z_BUF_ERROR:x6,Z_DEFAULT_COMPRESSION:sze,Z_FILTERED:aze,Z_HUFFMAN_ONLY:$C,Z_RLE:oze,Z_FIXED:lze,Z_DEFAULT_STRATEGY:cze,Z_UNKNOWN:uze,Z_DEFLATED:JB}=XE,dze=9,fze=15,hze=8,Aze=29,pze=256,EO=pze+1+Aze,gze=30,mze=19,xze=2*EO+1,vze=15,Ei=3,L0=258,ah=L0+Ei+1,yze=32,Ov=42,c7=57,SO=69,CO=73,NO=91,TO=103,Bg=113,m2=666,gc=1,$y=2,Sm=3,Vy=4,wze=3,Ig=(e,t)=>(e.msg=Fv[t],t),HW=e=>e*2-(e>4?9:0),_0=e=>{let t=e.length;for(;--t>=0;)e[t]=0},bze=e=>{let t,r,n,i=e.w_size;t=e.hash_size,n=t;do r=e.head[--n],e.head[n]=r>=i?r-i:0;while(--t);t=i,n=t;do r=e.prev[--n],e.prev[n]=r>=i?r-i:0;while(--t)};let _ze=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,fp=_ze;const pu=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},ku=(e,t)=>{eze(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,pu(e.strm)},zi=(e,t)=>{e.pending_buf[e.pending++]=t},Dw=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},BO=(e,t,r,n)=>{let i=e.avail_in;return i>n&&(i=n),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),r),e.state.wrap===1?e.adler=s_(e.adler,t,i,r):e.state.wrap===2&&(e.adler=Wo(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)},dhe=(e,t)=>{let r=e.max_chain_length,n=e.strstart,i,s,a=e.prev_length,l=e.nice_match;const c=e.strstart>e.w_size-ah?e.strstart-(e.w_size-ah):0,u=e.window,d=e.w_mask,h=e.prev,A=e.strstart+L0;let g=u[n+a-1],v=u[n+a];e.prev_length>=e.good_match&&(r>>=2),l>e.lookahead&&(l=e.lookahead);do if(i=t,!(u[i+a]!==v||u[i+a-1]!==g||u[i]!==u[n]||u[++i]!==u[n+1])){n+=2,i++;do;while(u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&n<A);if(s=L0-(A-n),n=A-L0,s>a){if(e.match_start=t,a=s,s>=l)break;g=u[n+a-1],v=u[n+a]}}while((t=h[t&d])>c&&--r!==0);return a<=e.lookahead?a:e.lookahead},Dv=e=>{const t=e.w_size;let r,n,i;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-ah)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),bze(e),n+=t),e.strm.avail_in===0)break;if(r=BO(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=Ei)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=fp(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=fp(e,e.ins_h,e.window[i+Ei-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<Ei)););}while(e.lookahead<ah&&e.strm.avail_in!==0)},fhe=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,i,s,a=0,l=e.strm.avail_in;do{if(n=65535,s=e.bi_valid+42>>3,e.strm.avail_out<s||(s=e.strm.avail_out-s,i=e.strstart-e.block_start,n>i+e.strm.avail_in&&(n=i+e.strm.avail_in),n>s&&(n=s),n<r&&(n===0&&t!==ud||t===dp||n!==i+e.strm.avail_in)))break;a=t===ud&&n===i+e.strm.avail_in?1:0,_O(e,0,0,a),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,pu(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(BO(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(a===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?Vy:t!==dp&&t!==ud&&e.strm.avail_in===0&&e.strstart===e.block_start?$y:(s=e.window_size-e.strstart,e.strm.avail_in>s&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,s+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),s>e.strm.avail_in&&(s=e.strm.avail_in),s&&(BO(e.strm,e.window,e.strstart,s),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.high_water<e.strstart&&(e.high_water=e.strstart),s=e.bi_valid+42>>3,s=e.pending_buf_size-s>65535?65535:e.pending_buf_size-s,r=s>e.w_size?e.w_size:s,i=e.strstart-e.block_start,(i>=r||(i||t===ud)&&t!==dp&&e.strm.avail_in===0&&i<=s)&&(n=i>s?s:i,a=t===ud&&e.strm.avail_in===0&&n===i?1:0,_O(e,e.block_start,n,a),e.block_start+=n,pu(e.strm)),a?Sm:gc)},v6=(e,t)=>{let r,n;for(;;){if(e.lookahead<ah){if(Dv(e),e.lookahead<ah&&t===dp)return gc;if(e.lookahead===0)break}if(r=0,e.lookahead>=Ei&&(e.ins_h=fp(e,e.ins_h,e.window[e.strstart+Ei-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-ah&&(e.match_length=dhe(e,r)),e.match_length>=Ei)if(n=up(e,e.strstart-e.match_start,e.match_length-Ei),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Ei){e.match_length--;do e.strstart++,e.ins_h=fp(e,e.ins_h,e.window[e.strstart+Ei-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=fp(e,e.ins_h,e.window[e.strstart+1]);else n=up(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(ku(e,!1),e.strm.avail_out===0))return gc}return e.insert=e.strstart<Ei-1?e.strstart:Ei-1,t===ud?(ku(e,!0),e.strm.avail_out===0?Sm:Vy):e.sym_next&&(ku(e,!1),e.strm.avail_out===0)?gc:$y},I1=(e,t)=>{let r,n,i;for(;;){if(e.lookahead<ah){if(Dv(e),e.lookahead<ah&&t===dp)return gc;if(e.lookahead===0)break}if(r=0,e.lookahead>=Ei&&(e.ins_h=fp(e,e.ins_h,e.window[e.strstart+Ei-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Ei-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-ah&&(e.match_length=dhe(e,r),e.match_length<=5&&(e.strategy===aze||e.match_length===Ei&&e.strstart-e.match_start>4096)&&(e.match_length=Ei-1)),e.prev_length>=Ei&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-Ei,n=up(e,e.strstart-1-e.prev_match,e.prev_length-Ei),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=fp(e,e.ins_h,e.window[e.strstart+Ei-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Ei-1,e.strstart++,n&&(ku(e,!1),e.strm.avail_out===0))return gc}else if(e.match_available){if(n=up(e,0,e.window[e.strstart-1]),n&&ku(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return gc}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=up(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Ei-1?e.strstart:Ei-1,t===ud?(ku(e,!0),e.strm.avail_out===0?Sm:Vy):e.sym_next&&(ku(e,!1),e.strm.avail_out===0)?gc:$y},Eze=(e,t)=>{let r,n,i,s;const a=e.window;for(;;){if(e.lookahead<=L0){if(Dv(e),e.lookahead<=L0&&t===dp)return gc;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Ei&&e.strstart>0&&(i=e.strstart-1,n=a[i],n===a[++i]&&n===a[++i]&&n===a[++i])){s=e.strstart+L0;do;while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<s);e.match_length=L0-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Ei?(r=up(e,1,e.match_length-Ei),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=up(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(ku(e,!1),e.strm.avail_out===0))return gc}return e.insert=0,t===ud?(ku(e,!0),e.strm.avail_out===0?Sm:Vy):e.sym_next&&(ku(e,!1),e.strm.avail_out===0)?gc:$y},Sze=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(Dv(e),e.lookahead===0)){if(t===dp)return gc;break}if(e.match_length=0,r=up(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(ku(e,!1),e.strm.avail_out===0))return gc}return e.insert=0,t===ud?(ku(e,!0),e.strm.avail_out===0?Sm:Vy):e.sym_next&&(ku(e,!1),e.strm.avail_out===0)?gc:$y};function Nf(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}const x2=[new Nf(0,0,0,0,fhe),new Nf(4,4,8,4,v6),new Nf(4,5,16,8,v6),new Nf(4,6,32,32,v6),new Nf(4,4,16,16,I1),new Nf(8,16,32,32,I1),new Nf(8,16,128,128,I1),new Nf(8,32,128,256,I1),new Nf(32,128,258,1024,I1),new Nf(32,258,258,4096,I1)],Cze=e=>{e.window_size=2*e.w_size,_0(e.head),e.max_lazy_match=x2[e.level].max_lazy,e.good_match=x2[e.level].good_length,e.nice_match=x2[e.level].nice_length,e.max_chain_length=x2[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Ei-1,e.match_available=0,e.ins_h=0};function Nze(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=JB,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(xze*2),this.dyn_dtree=new Uint16Array((2*gze+1)*2),this.bl_tree=new Uint16Array((2*mze+1)*2),_0(this.dyn_ltree),_0(this.dyn_dtree),_0(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(vze+1),this.heap=new Uint16Array(2*EO+1),_0(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*EO+1),_0(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const YE=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Ov&&t.status!==c7&&t.status!==SO&&t.status!==CO&&t.status!==NO&&t.status!==TO&&t.status!==Bg&&t.status!==m2?1:0},hhe=e=>{if(YE(e))return Ig(e,sh);e.total_in=e.total_out=0,e.data_type=uze;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?c7:t.wrap?Ov:Bg,e.adler=t.wrap===2?0:1,t.last_flush=-2,JVe(t),Al},Ahe=e=>{const t=hhe(e);return t===Al&&Cze(e.state),t},Tze=(e,t)=>YE(e)||e.state.wrap!==2?sh:(e.state.gzhead=t,Al),phe=(e,t,r,n,i,s)=>{if(!e)return sh;let a=1;if(t===sze&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),i<1||i>dze||r!==JB||n<8||n>15||t<0||t>9||s<0||s>lze||n===8&&a!==1)return Ig(e,sh);n===8&&(n=9);const l=new Nze;return e.state=l,l.strm=e,l.status=Ov,l.wrap=a,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+Ei-1)/Ei),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=t,l.strategy=s,l.method=r,Ahe(e)},Bze=(e,t)=>phe(e,t,JB,fze,hze,cze),Ize=(e,t)=>{if(YE(e)||t>MW||t<0)return e?Ig(e,sh):sh;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===m2&&t!==ud)return Ig(e,e.avail_out===0?x6:sh);const n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(pu(e),e.avail_out===0)return r.last_flush=-1,Al}else if(e.avail_in===0&&HW(t)<=HW(n)&&t!==ud)return Ig(e,x6);if(r.status===m2&&e.avail_in!==0)return Ig(e,x6);if(r.status===Ov&&r.wrap===0&&(r.status=Bg),r.status===Ov){let i=JB+(r.w_bits-8<<4)<<8,s=-1;if(r.strategy>=$C||r.level<2?s=0:r.level<6?s=1:r.level===6?s=2:s=3,i|=s<<6,r.strstart!==0&&(i|=yze),i+=31-i%31,Dw(r,i),r.strstart!==0&&(Dw(r,e.adler>>>16),Dw(r,e.adler&65535)),e.adler=1,r.status=Bg,pu(e),r.pending!==0)return r.last_flush=-1,Al}if(r.status===c7){if(e.adler=0,zi(r,31),zi(r,139),zi(r,8),r.gzhead)zi(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),zi(r,r.gzhead.time&255),zi(r,r.gzhead.time>>8&255),zi(r,r.gzhead.time>>16&255),zi(r,r.gzhead.time>>24&255),zi(r,r.level===9?2:r.strategy>=$C||r.level<2?4:0),zi(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(zi(r,r.gzhead.extra.length&255),zi(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=Wo(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=SO;else if(zi(r,0),zi(r,0),zi(r,0),zi(r,0),zi(r,0),zi(r,r.level===9?2:r.strategy>=$C||r.level<2?4:0),zi(r,wze),r.status=Bg,pu(e),r.pending!==0)return r.last_flush=-1,Al}if(r.status===SO){if(r.gzhead.extra){let i=r.pending,s=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+s>r.pending_buf_size;){let l=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+l),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>i&&(e.adler=Wo(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex+=l,pu(e),r.pending!==0)return r.last_flush=-1,Al;i=0,s-=l}let a=new Uint8Array(r.gzhead.extra);r.pending_buf.set(a.subarray(r.gzindex,r.gzindex+s),r.pending),r.pending+=s,r.gzhead.hcrc&&r.pending>i&&(e.adler=Wo(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=CO}if(r.status===CO){if(r.gzhead.name){let i=r.pending,s;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(e.adler=Wo(e.adler,r.pending_buf,r.pending-i,i)),pu(e),r.pending!==0)return r.last_flush=-1,Al;i=0}r.gzindex<r.gzhead.name.length?s=r.gzhead.name.charCodeAt(r.gzindex++)&255:s=0,zi(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=Wo(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=NO}if(r.status===NO){if(r.gzhead.comment){let i=r.pending,s;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(e.adler=Wo(e.adler,r.pending_buf,r.pending-i,i)),pu(e),r.pending!==0)return r.last_flush=-1,Al;i=0}r.gzindex<r.gzhead.comment.length?s=r.gzhead.comment.charCodeAt(r.gzindex++)&255:s=0,zi(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=Wo(e.adler,r.pending_buf,r.pending-i,i))}r.status=TO}if(r.status===TO){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(pu(e),r.pending!==0))return r.last_flush=-1,Al;zi(r,e.adler&255),zi(r,e.adler>>8&255),e.adler=0}if(r.status=Bg,pu(e),r.pending!==0)return r.last_flush=-1,Al}if(e.avail_in!==0||r.lookahead!==0||t!==dp&&r.status!==m2){let i=r.level===0?fhe(r,t):r.strategy===$C?Sze(r,t):r.strategy===oze?Eze(r,t):x2[r.level].func(r,t);if((i===Sm||i===Vy)&&(r.status=m2),i===gc||i===Sm)return e.avail_out===0&&(r.last_flush=-1),Al;if(i===$y&&(t===rze?tze(r):t!==MW&&(_O(r,0,0,!1),t===nze&&(_0(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),pu(e),e.avail_out===0))return r.last_flush=-1,Al}return t!==ud?Al:r.wrap<=0?UW:(r.wrap===2?(zi(r,e.adler&255),zi(r,e.adler>>8&255),zi(r,e.adler>>16&255),zi(r,e.adler>>24&255),zi(r,e.total_in&255),zi(r,e.total_in>>8&255),zi(r,e.total_in>>16&255),zi(r,e.total_in>>24&255)):(Dw(r,e.adler>>>16),Dw(r,e.adler&65535)),pu(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Al:UW)},kze=e=>{if(YE(e))return sh;const t=e.state.status;return e.state=null,t===Bg?Ig(e,ize):Al},jze=(e,t)=>{let r=t.length;if(YE(e))return sh;const n=e.state,i=n.wrap;if(i===2||i===1&&n.status!==Ov||n.lookahead)return sh;if(i===1&&(e.adler=s_(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){i===0&&(_0(n.head),n.strstart=0,n.block_start=0,n.insert=0);let c=new Uint8Array(n.w_size);c.set(t.subarray(r-n.w_size,r),0),t=c,r=n.w_size}const s=e.avail_in,a=e.next_in,l=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,Dv(n);n.lookahead>=Ei;){let c=n.strstart,u=n.lookahead-(Ei-1);do n.ins_h=fp(n,n.ins_h,n.window[c+Ei-1]),n.prev[c&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=c,c++;while(--u);n.strstart=c,n.lookahead=Ei-1,Dv(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Ei-1,n.match_available=0,e.next_in=a,e.input=l,e.avail_in=s,n.wrap=i,Al};var Pze=Bze,Fze=phe,Oze=Ahe,Dze=hhe,Lze=Tze,Rze=Ize,Mze=kze,Uze=jze,Hze="pako deflate (from Nodeca project)",Y2={deflateInit:Pze,deflateInit2:Fze,deflateReset:Oze,deflateResetKeep:Dze,deflateSetHeader:Lze,deflate:Rze,deflateEnd:Mze,deflateSetDictionary:Uze,deflateInfo:Hze};const Qze=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var $ze=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)Qze(r,n)&&(e[n]=r[n])}}return e},Vze=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,i=0,s=e.length;n<s;n++){let a=e[n];r.set(a,i),i+=a.length}return r},eI={assign:$ze,flattenChunks:Vze};let ghe=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ghe=!1}const a_=new Uint8Array(256);for(let e=0;e<256;e++)a_[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;a_[254]=a_[254]=1;var zze=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,s,a=e.length,l=0;for(i=0;i<a;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),s=0,i=0;s<l;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|r&63):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|r&63):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|r&63);return t};const Gze=(e,t)=>{if(t<65534&&e.subarray&&ghe)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var Wze=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let a=e[n++];if(a<128){s[i++]=a;continue}let l=a_[a];if(l>4){s[i++]=65533,n+=l-1;continue}for(a&=l===2?31:l===3?15:7;l>1&&n<r;)a=a<<6|e[n++]&63,l--;if(l>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return Gze(s,i)},Kze=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+a_[e[r]]>t?r:t},o_={string2buf:zze,buf2string:Wze,utf8border:Kze};function qze(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var mhe=qze;const xhe=Object.prototype.toString,{Z_NO_FLUSH:Xze,Z_SYNC_FLUSH:Yze,Z_FULL_FLUSH:Zze,Z_FINISH:Jze,Z_OK:$5,Z_STREAM_END:eGe,Z_DEFAULT_COMPRESSION:tGe,Z_DEFAULT_STRATEGY:rGe,Z_DEFLATED:nGe}=XE;function u7(e){this.options=eI.assign({level:tGe,method:nGe,chunkSize:16384,windowBits:15,memLevel:8,strategy:rGe},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new mhe,this.strm.avail_out=0;let r=Y2.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==$5)throw new Error(Fv[r]);if(t.header&&Y2.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=o_.string2buf(t.dictionary):xhe.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=Y2.deflateSetDictionary(this.strm,n),r!==$5)throw new Error(Fv[r]);this._dict_set=!0}}u7.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let i,s;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?Jze:Xze,typeof e=="string"?r.input=o_.string2buf(e):xhe.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(s===Yze||s===Zze)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(i=Y2.deflate(r,s),i===eGe)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=Y2.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===$5;if(r.avail_out===0){this.onData(r.output);continue}if(s>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};u7.prototype.onData=function(e){this.chunks.push(e)};u7.prototype.onEnd=function(e){e===$5&&(this.result=eI.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const VC=16209,iGe=16191;var sGe=function(t,r){let n,i,s,a,l,c,u,d,h,A,g,v,x,y,w,_,E,I,N,j,T,P,k,R;const O=t.state;n=t.next_in,k=t.input,i=n+(t.avail_in-5),s=t.next_out,R=t.output,a=s-(r-t.avail_out),l=s+(t.avail_out-257),c=O.dmax,u=O.wsize,d=O.whave,h=O.wnext,A=O.window,g=O.hold,v=O.bits,x=O.lencode,y=O.distcode,w=(1<<O.lenbits)-1,_=(1<<O.distbits)-1;e:do{v<15&&(g+=k[n++]<<v,v+=8,g+=k[n++]<<v,v+=8),E=x[g&w];t:for(;;){if(I=E>>>24,g>>>=I,v-=I,I=E>>>16&255,I===0)R[s++]=E&65535;else if(I&16){N=E&65535,I&=15,I&&(v<I&&(g+=k[n++]<<v,v+=8),N+=g&(1<<I)-1,g>>>=I,v-=I),v<15&&(g+=k[n++]<<v,v+=8,g+=k[n++]<<v,v+=8),E=y[g&_];r:for(;;){if(I=E>>>24,g>>>=I,v-=I,I=E>>>16&255,I&16){if(j=E&65535,I&=15,v<I&&(g+=k[n++]<<v,v+=8,v<I&&(g+=k[n++]<<v,v+=8)),j+=g&(1<<I)-1,j>c){t.msg="invalid distance too far back",O.mode=VC;break e}if(g>>>=I,v-=I,I=s-a,j>I){if(I=j-I,I>d&&O.sane){t.msg="invalid distance too far back",O.mode=VC;break e}if(T=0,P=A,h===0){if(T+=u-I,I<N){N-=I;do R[s++]=A[T++];while(--I);T=s-j,P=R}}else if(h<I){if(T+=u+h-I,I-=h,I<N){N-=I;do R[s++]=A[T++];while(--I);if(T=0,h<N){I=h,N-=I;do R[s++]=A[T++];while(--I);T=s-j,P=R}}}else if(T+=h-I,I<N){N-=I;do R[s++]=A[T++];while(--I);T=s-j,P=R}for(;N>2;)R[s++]=P[T++],R[s++]=P[T++],R[s++]=P[T++],N-=3;N&&(R[s++]=P[T++],N>1&&(R[s++]=P[T++]))}else{T=s-j;do R[s++]=R[T++],R[s++]=R[T++],R[s++]=R[T++],N-=3;while(N>2);N&&(R[s++]=R[T++],N>1&&(R[s++]=R[T++]))}}else if(I&64){t.msg="invalid distance code",O.mode=VC;break e}else{E=y[(E&65535)+(g&(1<<I)-1)];continue r}break}}else if(I&64)if(I&32){O.mode=iGe;break e}else{t.msg="invalid literal/length code",O.mode=VC;break e}else{E=x[(E&65535)+(g&(1<<I)-1)];continue t}break}}while(n<i&&s<l);N=v>>3,n-=N,v-=N<<3,g&=(1<<v)-1,t.next_in=n,t.next_out=s,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=s<l?257+(l-s):257-(s-l),O.hold=g,O.bits=v};const k1=15,QW=852,$W=592,VW=0,y6=1,zW=2,aGe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),oGe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),lGe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),cGe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),uGe=(e,t,r,n,i,s,a,l)=>{const c=l.bits;let u=0,d=0,h=0,A=0,g=0,v=0,x=0,y=0,w=0,_=0,E,I,N,j,T,P=null,k;const R=new Uint16Array(k1+1),O=new Uint16Array(k1+1);let M=null,H,K,Y;for(u=0;u<=k1;u++)R[u]=0;for(d=0;d<n;d++)R[t[r+d]]++;for(g=c,A=k1;A>=1&&R[A]===0;A--);if(g>A&&(g=A),A===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<A&&R[h]===0;h++);for(g<h&&(g=h),y=1,u=1;u<=k1;u++)if(y<<=1,y-=R[u],y<0)return-1;if(y>0&&(e===VW||A!==1))return-1;for(O[1]=0,u=1;u<k1;u++)O[u+1]=O[u]+R[u];for(d=0;d<n;d++)t[r+d]!==0&&(a[O[t[r+d]]++]=d);if(e===VW?(P=M=a,k=20):e===y6?(P=aGe,M=oGe,k=257):(P=lGe,M=cGe,k=0),_=0,d=0,u=h,T=s,v=g,x=0,N=-1,w=1<<g,j=w-1,e===y6&&w>QW||e===zW&&w>$W)return 1;for(;;){H=u-x,a[d]+1<k?(K=0,Y=a[d]):a[d]>=k?(K=M[a[d]-k],Y=P[a[d]-k]):(K=96,Y=0),E=1<<u-x,I=1<<v,h=I;do I-=E,i[T+(_>>x)+I]=H<<24|K<<16|Y|0;while(I!==0);for(E=1<<u-1;_&E;)E>>=1;if(E!==0?(_&=E-1,_+=E):_=0,d++,--R[u]===0){if(u===A)break;u=t[r+a[d]]}if(u>g&&(_&j)!==N){for(x===0&&(x=g),T+=h,v=u-x,y=1<<v;v+x<A&&(y-=R[v+x],!(y<=0));)v++,y<<=1;if(w+=1<<v,e===y6&&w>QW||e===zW&&w>$W)return 1;N=_&j,i[N]=g<<24|v<<16|T-s|0}}return _!==0&&(i[T+_]=u-x<<24|64<<16|0),l.bits=g,0};var Z2=uGe;const dGe=0,vhe=1,yhe=2,{Z_FINISH:GW,Z_BLOCK:fGe,Z_TREES:zC,Z_OK:Cm,Z_STREAM_END:hGe,Z_NEED_DICT:AGe,Z_STREAM_ERROR:Sd,Z_DATA_ERROR:whe,Z_MEM_ERROR:bhe,Z_BUF_ERROR:pGe,Z_DEFLATED:WW}=XE,tI=16180,KW=16181,qW=16182,XW=16183,YW=16184,ZW=16185,JW=16186,eK=16187,tK=16188,rK=16189,V5=16190,Mh=16191,w6=16192,nK=16193,b6=16194,iK=16195,sK=16196,aK=16197,oK=16198,GC=16199,WC=16200,lK=16201,cK=16202,uK=16203,dK=16204,fK=16205,_6=16206,hK=16207,AK=16208,Zs=16209,_he=16210,Ehe=16211,gGe=852,mGe=592,xGe=15,vGe=xGe,pK=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function yGe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const r1=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<tI||t.mode>Ehe?1:0},She=e=>{if(r1(e))return Sd;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=tI,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(gGe),t.distcode=t.distdyn=new Int32Array(mGe),t.sane=1,t.back=-1,Cm},Che=e=>{if(r1(e))return Sd;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,She(e)},Nhe=(e,t)=>{let r;if(r1(e))return Sd;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Sd:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,Che(e))},The=(e,t)=>{if(!e)return Sd;const r=new yGe;e.state=r,r.strm=e,r.window=null,r.mode=tI;const n=Nhe(e,t);return n!==Cm&&(e.state=null),n},wGe=e=>The(e,vGe);let gK=!0,E6,S6;const bGe=e=>{if(gK){E6=new Int32Array(512),S6=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Z2(vhe,e.lens,0,288,E6,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Z2(yhe,e.lens,0,32,S6,0,e.work,{bits:5}),gK=!1}e.lencode=E6,e.lenbits=9,e.distcode=S6,e.distbits=5},Bhe=(e,t,r,n)=>{let i;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(t.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(t.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(t.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},_Ge=(e,t)=>{let r,n,i,s,a,l,c,u,d,h,A,g,v,x,y=0,w,_,E,I,N,j,T,P;const k=new Uint8Array(4);let R,O;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(r1(e)||!e.output||!e.input&&e.avail_in!==0)return Sd;r=e.state,r.mode===Mh&&(r.mode=w6),a=e.next_out,i=e.output,c=e.avail_out,s=e.next_in,n=e.input,l=e.avail_in,u=r.hold,d=r.bits,h=l,A=c,P=Cm;e:for(;;)switch(r.mode){case tI:if(r.wrap===0){r.mode=w6;break}for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,k[0]=u&255,k[1]=u>>>8&255,r.check=Wo(r.check,k,2,0),u=0,d=0,r.mode=KW;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=Zs;break}if((u&15)!==WW){e.msg="unknown compression method",r.mode=Zs;break}if(u>>>=4,d-=4,T=(u&15)+8,r.wbits===0&&(r.wbits=T),T>15||T>r.wbits){e.msg="invalid window size",r.mode=Zs;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?rK:Mh,u=0,d=0;break;case KW:for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==WW){e.msg="unknown compression method",r.mode=Zs;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Zs;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,r.check=Wo(r.check,k,2,0)),u=0,d=0,r.mode=qW;case qW:for(;d<32;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,k[2]=u>>>16&255,k[3]=u>>>24&255,r.check=Wo(r.check,k,4,0)),u=0,d=0,r.mode=XW;case XW:for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,r.check=Wo(r.check,k,2,0)),u=0,d=0,r.mode=YW;case YW:if(r.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,r.check=Wo(r.check,k,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=ZW;case ZW:if(r.flags&1024&&(g=r.length,g>l&&(g=l),g&&(r.head&&(T=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+g),T)),r.flags&512&&r.wrap&4&&(r.check=Wo(r.check,n,g,s)),l-=g,s+=g,r.length-=g),r.length))break e;r.length=0,r.mode=JW;case JW:if(r.flags&2048){if(l===0)break e;g=0;do T=n[s+g++],r.head&&T&&r.length<65536&&(r.head.name+=String.fromCharCode(T));while(T&&g<l);if(r.flags&512&&r.wrap&4&&(r.check=Wo(r.check,n,g,s)),l-=g,s+=g,T)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=eK;case eK:if(r.flags&4096){if(l===0)break e;g=0;do T=n[s+g++],r.head&&T&&r.length<65536&&(r.head.comment+=String.fromCharCode(T));while(T&&g<l);if(r.flags&512&&r.wrap&4&&(r.check=Wo(r.check,n,g,s)),l-=g,s+=g,T)break e}else r.head&&(r.head.comment=null);r.mode=tK;case tK:if(r.flags&512){for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Zs;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Mh;break;case rK:for(;d<32;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}e.adler=r.check=pK(u),u=0,d=0,r.mode=V5;case V5:if(r.havedict===0)return e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=l,r.hold=u,r.bits=d,AGe;e.adler=r.check=1,r.mode=Mh;case Mh:if(t===fGe||t===zC)break e;case w6:if(r.last){u>>>=d&7,d-=d&7,r.mode=_6;break}for(;d<3;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=nK;break;case 1:if(bGe(r),r.mode=GC,t===zC){u>>>=2,d-=2;break e}break;case 2:r.mode=sK;break;case 3:e.msg="invalid block type",r.mode=Zs}u>>>=2,d-=2;break;case nK:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Zs;break}if(r.length=u&65535,u=0,d=0,r.mode=b6,t===zC)break e;case b6:r.mode=iK;case iK:if(g=r.length,g){if(g>l&&(g=l),g>c&&(g=c),g===0)break e;i.set(n.subarray(s,s+g),a),l-=g,s+=g,c-=g,a+=g,r.length-=g;break}r.mode=Mh;break;case sK:for(;d<14;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Zs;break}r.have=0,r.mode=aK;case aK:for(;r.have<r.ncode;){for(;d<3;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.lens[M[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[M[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,R={bits:r.lenbits},P=Z2(dGe,r.lens,0,19,r.lencode,0,r.work,R),r.lenbits=R.bits,P){e.msg="invalid code lengths set",r.mode=Zs;break}r.have=0,r.mode=oK;case oK:for(;r.have<r.nlen+r.ndist;){for(;y=r.lencode[u&(1<<r.lenbits)-1],w=y>>>24,_=y>>>16&255,E=y&65535,!(w<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(E<16)u>>>=w,d-=w,r.lens[r.have++]=E;else{if(E===16){for(O=w+2;d<O;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(u>>>=w,d-=w,r.have===0){e.msg="invalid bit length repeat",r.mode=Zs;break}T=r.lens[r.have-1],g=3+(u&3),u>>>=2,d-=2}else if(E===17){for(O=w+3;d<O;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}u>>>=w,d-=w,T=0,g=3+(u&7),u>>>=3,d-=3}else{for(O=w+7;d<O;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}u>>>=w,d-=w,T=0,g=11+(u&127),u>>>=7,d-=7}if(r.have+g>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Zs;break}for(;g--;)r.lens[r.have++]=T}}if(r.mode===Zs)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Zs;break}if(r.lenbits=9,R={bits:r.lenbits},P=Z2(vhe,r.lens,0,r.nlen,r.lencode,0,r.work,R),r.lenbits=R.bits,P){e.msg="invalid literal/lengths set",r.mode=Zs;break}if(r.distbits=6,r.distcode=r.distdyn,R={bits:r.distbits},P=Z2(yhe,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,R),r.distbits=R.bits,P){e.msg="invalid distances set",r.mode=Zs;break}if(r.mode=GC,t===zC)break e;case GC:r.mode=WC;case WC:if(l>=6&&c>=258){e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=l,r.hold=u,r.bits=d,sGe(e,A),a=e.next_out,i=e.output,c=e.avail_out,s=e.next_in,n=e.input,l=e.avail_in,u=r.hold,d=r.bits,r.mode===Mh&&(r.back=-1);break}for(r.back=0;y=r.lencode[u&(1<<r.lenbits)-1],w=y>>>24,_=y>>>16&255,E=y&65535,!(w<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(_&&!(_&240)){for(I=w,N=_,j=E;y=r.lencode[j+((u&(1<<I+N)-1)>>I)],w=y>>>24,_=y>>>16&255,E=y&65535,!(I+w<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}u>>>=I,d-=I,r.back+=I}if(u>>>=w,d-=w,r.back+=w,r.length=E,_===0){r.mode=fK;break}if(_&32){r.back=-1,r.mode=Mh;break}if(_&64){e.msg="invalid literal/length code",r.mode=Zs;break}r.extra=_&15,r.mode=lK;case lK:if(r.extra){for(O=r.extra;d<O;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=cK;case cK:for(;y=r.distcode[u&(1<<r.distbits)-1],w=y>>>24,_=y>>>16&255,E=y&65535,!(w<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(!(_&240)){for(I=w,N=_,j=E;y=r.distcode[j+((u&(1<<I+N)-1)>>I)],w=y>>>24,_=y>>>16&255,E=y&65535,!(I+w<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}u>>>=I,d-=I,r.back+=I}if(u>>>=w,d-=w,r.back+=w,_&64){e.msg="invalid distance code",r.mode=Zs;break}r.offset=E,r.extra=_&15,r.mode=uK;case uK:if(r.extra){for(O=r.extra;d<O;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Zs;break}r.mode=dK;case dK:if(c===0)break e;if(g=A-c,r.offset>g){if(g=r.offset-g,g>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Zs;break}g>r.wnext?(g-=r.wnext,v=r.wsize-g):v=r.wnext-g,g>r.length&&(g=r.length),x=r.window}else x=i,v=a-r.offset,g=r.length;g>c&&(g=c),c-=g,r.length-=g;do i[a++]=x[v++];while(--g);r.length===0&&(r.mode=WC);break;case fK:if(c===0)break e;i[a++]=r.length,c--,r.mode=WC;break;case _6:if(r.wrap){for(;d<32;){if(l===0)break e;l--,u|=n[s++]<<d,d+=8}if(A-=c,e.total_out+=A,r.total+=A,r.wrap&4&&A&&(e.adler=r.check=r.flags?Wo(r.check,i,A,a-A):s_(r.check,i,A,a-A)),A=c,r.wrap&4&&(r.flags?u:pK(u))!==r.check){e.msg="incorrect data check",r.mode=Zs;break}u=0,d=0}r.mode=hK;case hK:if(r.wrap&&r.flags){for(;d<32;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Zs;break}u=0,d=0}r.mode=AK;case AK:P=hGe;break e;case Zs:P=whe;break e;case _he:return bhe;case Ehe:default:return Sd}return e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=l,r.hold=u,r.bits=d,(r.wsize||A!==e.avail_out&&r.mode<Zs&&(r.mode<_6||t!==GW))&&Bhe(e,e.output,e.next_out,A-e.avail_out),h-=e.avail_in,A-=e.avail_out,e.total_in+=h,e.total_out+=A,r.total+=A,r.wrap&4&&A&&(e.adler=r.check=r.flags?Wo(r.check,i,A,e.next_out-A):s_(r.check,i,A,e.next_out-A)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Mh?128:0)+(r.mode===GC||r.mode===b6?256:0),(h===0&&A===0||t===GW)&&P===Cm&&(P=pGe),P},EGe=e=>{if(r1(e))return Sd;let t=e.state;return t.window&&(t.window=null),e.state=null,Cm},SGe=(e,t)=>{if(r1(e))return Sd;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,Cm):Sd},CGe=(e,t)=>{const r=t.length;let n,i,s;return r1(e)||(n=e.state,n.wrap!==0&&n.mode!==V5)?Sd:n.mode===V5&&(i=1,i=s_(i,t,r,0),i!==n.check)?whe:(s=Bhe(e,t,r,r),s?(n.mode=_he,bhe):(n.havedict=1,Cm))};var NGe=Che,TGe=Nhe,BGe=She,IGe=wGe,kGe=The,jGe=_Ge,PGe=EGe,FGe=SGe,OGe=CGe,DGe="pako inflate (from Nodeca project)",Xh={inflateReset:NGe,inflateReset2:TGe,inflateResetKeep:BGe,inflateInit:IGe,inflateInit2:kGe,inflate:jGe,inflateEnd:PGe,inflateGetHeader:FGe,inflateSetDictionary:OGe,inflateInfo:DGe};function LGe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var RGe=LGe;const Ihe=Object.prototype.toString,{Z_NO_FLUSH:MGe,Z_FINISH:UGe,Z_OK:l_,Z_STREAM_END:C6,Z_NEED_DICT:N6,Z_STREAM_ERROR:HGe,Z_DATA_ERROR:mK,Z_MEM_ERROR:QGe}=XE;function ZE(e){this.options=eI.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new mhe,this.strm.avail_out=0;let r=Xh.inflateInit2(this.strm,t.windowBits);if(r!==l_)throw new Error(Fv[r]);if(this.header=new RGe,Xh.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=o_.string2buf(t.dictionary):Ihe.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Xh.inflateSetDictionary(this.strm,t.dictionary),r!==l_)))throw new Error(Fv[r])}ZE.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,a,l;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?UGe:MGe,Ihe.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=Xh.inflate(r,a),s===N6&&i&&(s=Xh.inflateSetDictionary(r,i),s===l_?s=Xh.inflate(r,a):s===mK&&(s=N6));r.avail_in>0&&s===C6&&r.state.wrap>0&&e[r.next_in]!==0;)Xh.inflateReset(r),s=Xh.inflate(r,a);switch(s){case HGe:case mK:case N6:case QGe:return this.onEnd(s),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||s===C6))if(this.options.to==="string"){let c=o_.utf8border(r.output,r.next_out),u=r.next_out-c,d=o_.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===l_&&l===0)){if(s===C6)return s=Xh.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};ZE.prototype.onData=function(e){this.chunks.push(e)};ZE.prototype.onEnd=function(e){e===l_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=eI.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function d7(e,t){const r=new ZE(t);if(r.push(e),r.err)throw r.msg||Fv[r.err];return r.result}function $Ge(e,t){return t=t||{},t.raw=!0,d7(e,t)}var VGe=ZE,zGe=d7,GGe=$Ge,WGe=d7,KGe=XE,qGe={Inflate:VGe,inflate:zGe,inflateRaw:GGe,ungzip:WGe,constants:KGe};const{Inflate:XGe,inflate:YGe,inflateRaw:bjt,ungzip:_jt}=qGe;var xK=XGe,ZGe=YGe;const khe=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;khe[e]=t}const vK=4294967295;function JGe(e,t,r){let n=e;for(let i=0;i<r;i++)n=khe[(n^t[i])&255]^n>>>8;return n}function eWe(e,t){return(JGe(vK,e,t)^vK)>>>0}function yK(e,t,r){const n=e.readUint32(),i=eWe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function jhe(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function Phe(e,t,r,n){let i=0;for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-n]&255}function Fhe(e,t,r,n){let i=0;if(r.length===0)for(;i<n;i++)t[i]=e[i];else for(;i<n;i++)t[i]=e[i]+r[i]&255}function Ohe(e,t,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+(t[s-i]>>1)&255}else{for(;s<i;s++)t[s]=e[s]+(r[s]>>1)&255;for(;s<n;s++)t[s]=e[s]+(t[s-i]+r[s]>>1)&255}}function Dhe(e,t,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+t[s-i]&255}else{for(;s<i;s++)t[s]=e[s]+r[s]&255;for(;s<n;s++)t[s]=e[s]+tWe(t[s-i],r[s],r[s-i])&255}}function tWe(e,t,r){const n=e+t-r,i=Math.abs(n-e),s=Math.abs(n-t),a=Math.abs(n-r);return i<=s&&i<=a?e:s<=a?t:r}function rWe(e,t,r,n,i,s){switch(e){case 0:jhe(t,r,i);break;case 1:Phe(t,r,i,s);break;case 2:Fhe(t,r,n,i);break;case 3:Ohe(t,r,n,i,s);break;case 4:Dhe(t,r,n,i,s);break;default:throw new Error(`Unsupported filter: ${e}`)}}const nWe=new Uint16Array([255]),iWe=new Uint8Array(nWe.buffer),sWe=iWe[0]===255;function aWe(e){const{data:t,width:r,height:n,channels:i,depth:s}=e,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(s/8)*i,c=new Uint8Array(n*r*l);let u=0;for(let d=0;d<7;d++){const h=a[d],A=Math.ceil((r-h.x)/h.xStep),g=Math.ceil((n-h.y)/h.yStep);if(A<=0||g<=0)continue;const v=A*l,x=new Uint8Array(v);for(let y=0;y<g;y++){const w=t[u++],_=t.subarray(u,u+v);u+=v;const E=new Uint8Array(v);rWe(w,_,E,x,v,l),x.set(E);for(let I=0;I<A;I++){const N=h.x+I*h.xStep,j=h.y+y*h.yStep;if(!(N>=r||j>=n))for(let T=0;T<l;T++)c[(j*r+N)*l+T]=E[I*l+T]}}}if(s===16){const d=new Uint16Array(c.buffer);if(sWe)for(let h=0;h<d.length;h++)d[h]=oWe(d[h]);return d}else return c}function oWe(e){return(e&255)<<8|e>>8&255}const lWe=new Uint16Array([255]),cWe=new Uint8Array(lWe.buffer),uWe=cWe[0]===255,dWe=new Uint8Array(0);function wK(e){const{data:t,width:r,height:n,channels:i,depth:s}=e,a=Math.ceil(s/8)*i,l=Math.ceil(s/8*i*r),c=new Uint8Array(n*l);let u=dWe,d=0,h,A;for(let g=0;g<n;g++){switch(h=t.subarray(d+1,d+1+l),A=c.subarray(g*l,(g+1)*l),t[d]){case 0:jhe(h,A,l);break;case 1:Phe(h,A,l,a);break;case 2:Fhe(h,A,u,l);break;case 3:Ohe(h,A,u,l,a);break;case 4:Dhe(h,A,u,l,a);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}u=A,d+=l+1}if(s===16){const g=new Uint16Array(c.buffer);if(uWe)for(let v=0;v<g.length;v++)g[v]=fWe(g[v]);return g}else return c}function fWe(e){return(e&255)<<8|e>>8&255}const f4=Uint8Array.of(137,80,78,71,13,10,26,10);function bK(e){if(!hWe(e.readBytes(f4.length)))throw new Error("wrong PNG signature")}function hWe(e){if(e.length<f4.length)return!1;for(let t=0;t<f4.length;t++)if(e[t]!==f4[t])return!1;return!0}const AWe="tEXt",pWe=0,Lhe=new TextDecoder("latin1");function gWe(e){if(xWe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const mWe=/^[\u0000-\u00FF]*$/;function xWe(e){if(!mWe.test(e))throw new Error("invalid latin1 text")}function vWe(e,t,r){const n=Rhe(t);e[n]=yWe(t,r-n.length-1)}function Rhe(e){for(e.mark();e.readByte()!==pWe;);const t=e.offset;e.reset();const r=Lhe.decode(e.readBytes(t-e.offset-1));return e.skip(1),gWe(r),r}function yWe(e,t){return Lhe.decode(e.readBytes(t))}const fu={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},T6={UNKNOWN:-1,DEFLATE:0},_K={UNKNOWN:-1,ADAPTIVE:0},B6={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},KC={NONE:0,BACKGROUND:1,PREVIOUS:2},I6={SOURCE:0,OVER:1};class wWe extends i7{constructor(r,n={}){super(r);ss(this,"_checkCrc");ss(this,"_inflator");ss(this,"_png");ss(this,"_apng");ss(this,"_end");ss(this,"_hasPalette");ss(this,"_palette");ss(this,"_hasTransparency");ss(this,"_transparency");ss(this,"_compressionMethod");ss(this,"_filterMethod");ss(this,"_interlaceMethod");ss(this,"_colorType");ss(this,"_isAnimated");ss(this,"_numberOfFrames");ss(this,"_numberOfPlays");ss(this,"_frames");ss(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new xK,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=T6.UNKNOWN,this._filterMethod=_K.UNKNOWN,this._interlaceMethod=B6.UNKNOWN,this._colorType=fu.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(bK(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(bK(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case AWe:vWe(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?yK(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?yK(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=bWe(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case fu.GREYSCALE:i=1;break;case fu.TRUECOLOUR:i=3;break;case fu.INDEXED_COLOUR:i=1;break;case fu.GREYSCALE_ALPHA:i=2;break;case fu.TRUECOLOUR_ALPHA:i=4;break;case fu.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==T6.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<n;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case fu.GREYSCALE:case fu.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case fu.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case fu.UNKNOWN:case fu.GREYSCALE_ALPHA:case fu.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=Rhe(this),i=this.readUint8();if(i!==T6.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:ZGe(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=wK({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(i,s,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case KC.NONE:break;case KC.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const l=(s*r.width+a)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[l+c]=0}break;case KC.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,s=(a,l)=>{const c=((a+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,u=(a*n.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case I6.SOURCE:for(let a=0;a<n.height;a++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=s(a,l);for(let d=0;d<this._png.channels;d++)r.data[c+d]=n.data[u+d]}break;case I6.OVER:for(let a=0;a<n.height;a++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=s(a,l);for(let d=0;d<this._png.channels;d++){const h=n.data[u+this._png.channels-1]/i,A=d%(this._png.channels-1)===0?1:n.data[u+d],g=Math.floor(h*A+(1-h)*r.data[c+d]);r.data[c+d]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==_K.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===B6.NO_INTERLACE)this._png.data=wK({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===B6.ADAM7)this._png.data=aWe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:KC.NONE,blendOp:I6.SOURCE,data:r}),this._inflator=new xK,this._writingDataChunks=!1}}function bWe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var EK;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(EK||(EK={}));function _We(e,t){return new wWe(e,t).decode()}var Dn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function k6(){Dn.console&&typeof Dn.console.log=="function"&&Dn.console.log.apply(Dn.console,arguments)}var xs={log:k6,warn:function(e){Dn.console&&(typeof Dn.console.warn=="function"?Dn.console.warn.apply(Dn.console,arguments):k6.call(null,arguments))},error:function(e){Dn.console&&(typeof Dn.console.error=="function"?Dn.console.error.apply(Dn.console,arguments):k6(e))}};function j6(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Ag(n.response,t,r)},n.onerror=function(){xs.error("could not download file")},n.send()}function SK(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function qC(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Ag=Dn.saveAs||((typeof window>"u"?"undefined":ls(window))!=="object"||window!==Dn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Dn.URL||Dn.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?SK(i.href)?j6(e,t,r):qC(i,i.target="_blank"):qC(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){qC(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(SK(e))j6(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){qC(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:ls(s)!=="object"&&(xs.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return j6(e,t,r);var i=e.type==="application/octet-stream",s=/constructor/i.test(Dn.HTMLElement)||Dn.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":ls(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(e)}else{var c=Dn.URL||Dn.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Mhe(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,a=i.exec(e);a&&(t=s(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var h4=Dn.atob.bind(Dn),CK=Dn.btoa.bind(Dn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function P6(e,t){var r=e[0],n=e[1],i=e[2],s=e[3];r=kl(r,n,i,s,t[0],7,-680876936),s=kl(s,r,n,i,t[1],12,-389564586),i=kl(i,s,r,n,t[2],17,606105819),n=kl(n,i,s,r,t[3],22,-1044525330),r=kl(r,n,i,s,t[4],7,-176418897),s=kl(s,r,n,i,t[5],12,1200080426),i=kl(i,s,r,n,t[6],17,-1473231341),n=kl(n,i,s,r,t[7],22,-45705983),r=kl(r,n,i,s,t[8],7,1770035416),s=kl(s,r,n,i,t[9],12,-1958414417),i=kl(i,s,r,n,t[10],17,-42063),n=kl(n,i,s,r,t[11],22,-1990404162),r=kl(r,n,i,s,t[12],7,1804603682),s=kl(s,r,n,i,t[13],12,-40341101),i=kl(i,s,r,n,t[14],17,-1502002290),r=jl(r,n=kl(n,i,s,r,t[15],22,1236535329),i,s,t[1],5,-165796510),s=jl(s,r,n,i,t[6],9,-1069501632),i=jl(i,s,r,n,t[11],14,643717713),n=jl(n,i,s,r,t[0],20,-373897302),r=jl(r,n,i,s,t[5],5,-701558691),s=jl(s,r,n,i,t[10],9,38016083),i=jl(i,s,r,n,t[15],14,-660478335),n=jl(n,i,s,r,t[4],20,-405537848),r=jl(r,n,i,s,t[9],5,568446438),s=jl(s,r,n,i,t[14],9,-1019803690),i=jl(i,s,r,n,t[3],14,-187363961),n=jl(n,i,s,r,t[8],20,1163531501),r=jl(r,n,i,s,t[13],5,-1444681467),s=jl(s,r,n,i,t[2],9,-51403784),i=jl(i,s,r,n,t[7],14,1735328473),r=Pl(r,n=jl(n,i,s,r,t[12],20,-1926607734),i,s,t[5],4,-378558),s=Pl(s,r,n,i,t[8],11,-2022574463),i=Pl(i,s,r,n,t[11],16,1839030562),n=Pl(n,i,s,r,t[14],23,-35309556),r=Pl(r,n,i,s,t[1],4,-1530992060),s=Pl(s,r,n,i,t[4],11,1272893353),i=Pl(i,s,r,n,t[7],16,-155497632),n=Pl(n,i,s,r,t[10],23,-1094730640),r=Pl(r,n,i,s,t[13],4,681279174),s=Pl(s,r,n,i,t[0],11,-358537222),i=Pl(i,s,r,n,t[3],16,-722521979),n=Pl(n,i,s,r,t[6],23,76029189),r=Pl(r,n,i,s,t[9],4,-640364487),s=Pl(s,r,n,i,t[12],11,-421815835),i=Pl(i,s,r,n,t[15],16,530742520),r=Fl(r,n=Pl(n,i,s,r,t[2],23,-995338651),i,s,t[0],6,-198630844),s=Fl(s,r,n,i,t[7],10,1126891415),i=Fl(i,s,r,n,t[14],15,-1416354905),n=Fl(n,i,s,r,t[5],21,-57434055),r=Fl(r,n,i,s,t[12],6,1700485571),s=Fl(s,r,n,i,t[3],10,-1894986606),i=Fl(i,s,r,n,t[10],15,-1051523),n=Fl(n,i,s,r,t[1],21,-2054922799),r=Fl(r,n,i,s,t[8],6,1873313359),s=Fl(s,r,n,i,t[15],10,-30611744),i=Fl(i,s,r,n,t[6],15,-1560198380),n=Fl(n,i,s,r,t[13],21,1309151649),r=Fl(r,n,i,s,t[4],6,-145523070),s=Fl(s,r,n,i,t[11],10,-1120210379),i=Fl(i,s,r,n,t[2],15,718787259),n=Fl(n,i,s,r,t[9],21,-343485551),e[0]=R0(r,e[0]),e[1]=R0(n,e[1]),e[2]=R0(i,e[2]),e[3]=R0(s,e[3])}function rI(e,t,r,n,i,s){return t=R0(R0(t,e),R0(n,s)),R0(t<<i|t>>>32-i,r)}function kl(e,t,r,n,i,s,a){return rI(t&r|~t&n,e,t,i,s,a)}function jl(e,t,r,n,i,s,a){return rI(t&n|r&~n,e,t,i,s,a)}function Pl(e,t,r,n,i,s,a){return rI(t^r^n,e,t,i,s,a)}function Fl(e,t,r,n,i,s,a){return rI(r^(t|~n),e,t,i,s,a)}function Uhe(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)P6(n,EWe(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(P6(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,P6(n,i),n}function EWe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var NK="0123456789abcdef".split("");function SWe(e){for(var t="",r=0;r<4;r++)t+=NK[e>>8*r+4&15]+NK[e>>8*r&15];return t}function CWe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function IO(e){return Uhe(e).map(CWe).join("")}var NWe=function(e){for(var t=0;t<e.length;t++)e[t]=SWe(e[t]);return e.join("")}(Uhe("hello"))!="5d41402abc4b2a76b9719d911017c592";function R0(e,t){if(NWe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function kO(e,t){var r,n,i,s;if(e!==r){for(var a=(i=e,s=1+(256/e.length|0),new Array(s+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+a.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=e,n=l}else l=n;var h=t.length,A=0,g=0,v="";for(c=0;c<h;c++)g=(g+(d=l[A=(A+1)%256]))%256,l[A]=l[g],l[g]=d,a=l[(l[A]+l[g])%256],v+=String.fromCharCode(t.charCodeAt(c)^a);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var TK={print:4,modify:8,copy:16,"annot-forms":32};function q1(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(l){if(TK.perm!==void 0)throw new Error("Invalid permission: "+l);i+=TK[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=IO(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=kO(this.encryptionKey,this.padding)}function X1(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[n]}return t}function BK(e){if(ls(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[r]){var a=t[r][s];try{a[0].apply(e,n)}catch(l){Dn.console&&xs.error("jsPDF PubSub Error",l.message,l)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function z5(e){if(!(this instanceof z5))return new z5(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function Hhe(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function vg(e,t,r,n,i){if(!(this instanceof vg))return new vg(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,Hhe.call(this,n,i)}function xx(e,t,r,n,i){if(!(this instanceof xx))return new xx(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,Hhe.call(this,n,i)}function Hr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],l=1,c=16,u="S",d=null;ls(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,s=e.compress||e.compressPdf||s,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),a=e.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,A={},g={internal:{},__private__:{}};g.__private__.PubSub=BK;var v="1.3",x=g.__private__.getPdfVersion=function(){return v};g.__private__.setPdfVersion=function(G){v=G};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return y};var w=g.__private__.getPageFormat=function(G){return y[G]};i=i||"a4";var _="compat",E="advanced",I=_;function N(){this.saveGraphicsState(),z(new Fr(Ut,0,0,-Ut,0,Da()*Ut).toString()+" cm"),this.setFontSize(this.getFontSize()/Ut),u="n",I=E}function j(){this.restoreGraphicsState(),u="S",I=_}var T=g.__private__.combineFontStyleAndFontWeight=function(G,fe){if(G=="bold"&&fe=="normal"||G=="bold"&&fe==400||G=="normal"&&fe=="italic"||G=="bold"&&fe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return fe&&(G=fe==400||fe==="normal"?G==="italic"?"italic":"normal":fe!=700&&fe!=="bold"||G!=="normal"?(fe==700?"bold":fe)+""+G:"bold"),G};g.advancedAPI=function(G){var fe=I===_;return fe&&N.call(this),typeof G!="function"||(G(this),fe&&j.call(this)),this},g.compatAPI=function(G){var fe=I===E;return fe&&j.call(this),typeof G!="function"||(G(this),fe&&N.call(this)),this},g.isAdvancedAPI=function(){return I===E};var P,k=function(G){if(I!==E)throw new Error(G+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=g.roundToPrecision=g.__private__.roundToPrecision=function(G,fe){var Oe=t||fe;if(isNaN(G)||isNaN(Oe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return G.toFixed(Oe).replace(/0+$/,"")};P=g.hpf=g.__private__.hpf=typeof c=="number"?function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.hpf");return R(G,c)}:c==="smart"?function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.hpf");return R(G,G>-1&&G<1?16:5)}:function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.hpf");return R(G,16)};var O=g.f2=g.__private__.f2=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.f2");return R(G,2)},M=g.__private__.f3=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.f3");return R(G,3)},H=g.scale=g.__private__.scale=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.scale");return I===_?G*Ut:I===E?G:void 0},K=function(G){return H(function(fe){return I===_?Da()-fe:I===E?fe:void 0}(G))};g.__private__.setPrecision=g.setPrecision=function(G){typeof parseInt(G,10)=="number"&&(t=parseInt(G,10))};var Y,ne="00000000000000000000000000000000",le=g.__private__.getFileId=function(){return ne},te=g.__private__.setFileId=function(G){return ne=G!==void 0&&/^[a-fA-F0-9]{32}$/.test(G)?G.toUpperCase():ne.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Ci=new q1(d.userPermissions,d.userPassword,d.ownerPassword,ne)),ne};g.setFileId=function(G){return te(G),this},g.getFileId=function(){return le()};var X=g.__private__.convertDateToPDFDate=function(G){var fe=G.getTimezoneOffset(),Oe=fe<0?"+":"-",qe=Math.floor(Math.abs(fe/60)),nt=Math.abs(fe%60),Pt=[Oe,ee(qe),"'",ee(nt),"'"].join("");return["D:",G.getFullYear(),ee(G.getMonth()+1),ee(G.getDate()),ee(G.getHours()),ee(G.getMinutes()),ee(G.getSeconds()),Pt].join("")},ue=g.__private__.convertPDFDateToDate=function(G){var fe=parseInt(G.substr(2,4),10),Oe=parseInt(G.substr(6,2),10)-1,qe=parseInt(G.substr(8,2),10),nt=parseInt(G.substr(10,2),10),Pt=parseInt(G.substr(12,2),10),Xt=parseInt(G.substr(14,2),10);return new Date(fe,Oe,qe,nt,Pt,Xt,0)},ve=g.__private__.setCreationDate=function(G){var fe;if(G===void 0&&(G=new Date),G instanceof Date)fe=X(G);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(G))throw new Error("Invalid argument passed to jsPDF.setCreationDate");fe=G}return Y=fe},V=g.__private__.getCreationDate=function(G){var fe=Y;return G==="jsDate"&&(fe=ue(Y)),fe};g.setCreationDate=function(G){return ve(G),this},g.getCreationDate=function(G){return V(G)};var q,ee=g.__private__.padd2=function(G){return("0"+parseInt(G)).slice(-2)},re=g.__private__.padd2Hex=function(G){return("00"+(G=G.toString())).substr(G.length)},de=0,Ae=[],_e=[],ye=0,ce=[],Ne=[],oe=!1,We=_e;g.__private__.setCustomOutputDestination=function(G){oe=!0,We=G};var Re=function(G){oe||(We=G)};g.__private__.resetCustomOutputDestination=function(){oe=!1,We=_e};var z=g.__private__.out=function(G){return G=G.toString(),ye+=G.length+1,We.push(G),We},Fe=g.__private__.write=function(G){return z(arguments.length===1?G.toString():Array.prototype.join.call(arguments," "))},He=g.__private__.getArrayBuffer=function(G){for(var fe=G.length,Oe=new ArrayBuffer(fe),qe=new Uint8Array(Oe);fe--;)qe[fe]=G.charCodeAt(fe);return Oe},ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return ke};var Te=e.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(G){return Te=I===E?G/Ut:G,this};var Ze,ze=g.__private__.getFontSize=g.getFontSize=function(){return I===_?Te:Te*Ut},Tt=e.R2L||!1;g.__private__.setR2L=g.setR2L=function(G){return Tt=G,this},g.__private__.getR2L=g.getR2L=function(){return Tt};var Bt,mt=g.__private__.setZoomMode=function(G){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(G))Ze=G;else if(isNaN(G)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(G)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+G+'" is not recognized.');Ze=G}else Ze=parseInt(G,10)};g.__private__.getZoomMode=function(){return Ze};var _t,jt=g.__private__.setPageMode=function(G){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(G)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+G+'" is not recognized.');Bt=G};g.__private__.getPageMode=function(){return Bt};var or=g.__private__.setLayoutMode=function(G){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(G)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+G+'" is not recognized.');_t=G};g.__private__.getLayoutMode=function(){return _t},g.__private__.setDisplayMode=g.setDisplayMode=function(G,fe,Oe){return mt(G),or(fe),jt(Oe),this};var St={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(G){if(Object.keys(St).indexOf(G)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return St[G]},g.__private__.getDocumentProperties=function(){return St},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(G){for(var fe in St)St.hasOwnProperty(fe)&&G[fe]&&(St[fe]=G[fe]);return this},g.__private__.setDocumentProperty=function(G,fe){if(Object.keys(St).indexOf(G)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return St[G]=fe};var at,Ut,qt,Er,Kt,xt={},pr={},Ke=[],gt={},gr={},Ct={},$t={},hr=null,mr=0,er=[],sr=new BK(g),Zt=e.hotfixes||[],br={},Xr={},Un=[],Fr=function G(fe,Oe,qe,nt,Pt,Xt){if(!(this instanceof G))return new G(fe,Oe,qe,nt,Pt,Xt);isNaN(fe)&&(fe=1),isNaN(Oe)&&(Oe=0),isNaN(qe)&&(qe=0),isNaN(nt)&&(nt=1),isNaN(Pt)&&(Pt=0),isNaN(Xt)&&(Xt=0),this._matrix=[fe,Oe,qe,nt,Pt,Xt]};Object.defineProperty(Fr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(G){this._matrix[0]=G}}),Object.defineProperty(Fr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(G){this._matrix[1]=G}}),Object.defineProperty(Fr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(G){this._matrix[2]=G}}),Object.defineProperty(Fr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(G){this._matrix[3]=G}}),Object.defineProperty(Fr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(G){this._matrix[4]=G}}),Object.defineProperty(Fr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(G){this._matrix[5]=G}}),Object.defineProperty(Fr.prototype,"a",{get:function(){return this._matrix[0]},set:function(G){this._matrix[0]=G}}),Object.defineProperty(Fr.prototype,"b",{get:function(){return this._matrix[1]},set:function(G){this._matrix[1]=G}}),Object.defineProperty(Fr.prototype,"c",{get:function(){return this._matrix[2]},set:function(G){this._matrix[2]=G}}),Object.defineProperty(Fr.prototype,"d",{get:function(){return this._matrix[3]},set:function(G){this._matrix[3]=G}}),Object.defineProperty(Fr.prototype,"e",{get:function(){return this._matrix[4]},set:function(G){this._matrix[4]=G}}),Object.defineProperty(Fr.prototype,"f",{get:function(){return this._matrix[5]},set:function(G){this._matrix[5]=G}}),Object.defineProperty(Fr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Fr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Fr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Fr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Fr.prototype.join=function(G){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(G)},Fr.prototype.multiply=function(G){var fe=G.sx*this.sx+G.shy*this.shx,Oe=G.sx*this.shy+G.shy*this.sy,qe=G.shx*this.sx+G.sy*this.shx,nt=G.shx*this.shy+G.sy*this.sy,Pt=G.tx*this.sx+G.ty*this.shx+this.tx,Xt=G.tx*this.shy+G.ty*this.sy+this.ty;return new Fr(fe,Oe,qe,nt,Pt,Xt)},Fr.prototype.decompose=function(){var G=this.sx,fe=this.shy,Oe=this.shx,qe=this.sy,nt=this.tx,Pt=this.ty,Xt=Math.sqrt(G*G+fe*fe),Rr=(G/=Xt)*Oe+(fe/=Xt)*qe;Oe-=G*Rr,qe-=fe*Rr;var _r=Math.sqrt(Oe*Oe+qe*qe);return Rr/=_r,G*(qe/=_r)<fe*(Oe/=_r)&&(G=-G,fe=-fe,Rr=-Rr,Xt=-Xt),{scale:new Fr(Xt,0,0,_r,0,0),translate:new Fr(1,0,0,1,nt,Pt),rotate:new Fr(G,fe,-fe,G,0,0),skew:new Fr(1,0,Rr,1,0,0)}},Fr.prototype.toString=function(G){return this.join(" ")},Fr.prototype.inversed=function(){var G=this.sx,fe=this.shy,Oe=this.shx,qe=this.sy,nt=this.tx,Pt=this.ty,Xt=1/(G*qe-fe*Oe),Rr=qe*Xt,_r=-fe*Xt,dn=-Oe*Xt,Ir=G*Xt;return new Fr(Rr,_r,dn,Ir,-Rr*nt-dn*Pt,-_r*nt-Ir*Pt)},Fr.prototype.applyToPoint=function(G){var fe=G.x*this.sx+G.y*this.shx+this.tx,Oe=G.x*this.shy+G.y*this.sy+this.ty;return new wr(fe,Oe)},Fr.prototype.applyToRectangle=function(G){var fe=this.applyToPoint(G),Oe=this.applyToPoint(new wr(G.x+G.w,G.y+G.h));return new ji(fe.x,fe.y,Oe.x-fe.x,Oe.y-fe.y)},Fr.prototype.clone=function(){var G=this.sx,fe=this.shy,Oe=this.shx,qe=this.sy,nt=this.tx,Pt=this.ty;return new Fr(G,fe,Oe,qe,nt,Pt)},g.Matrix=Fr;var Zn=g.matrixMult=function(G,fe){return fe.multiply(G)},Mr=new Fr(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Mr;var Jn=function(G,fe){if(!gr[G]){var Oe=(fe instanceof vg?"Sh":"P")+(Object.keys(gt).length+1).toString(10);fe.id=Oe,gr[G]=Oe,gt[Oe]=fe,sr.publish("addPattern",fe)}};g.ShadingPattern=vg,g.TilingPattern=xx,g.addShadingPattern=function(G,fe){return k("addShadingPattern()"),Jn(G,fe),this},g.beginTilingPattern=function(G){k("beginTilingPattern()"),$n(G.boundingBox[0],G.boundingBox[1],G.boundingBox[2]-G.boundingBox[0],G.boundingBox[3]-G.boundingBox[1],G.matrix)},g.endTilingPattern=function(G,fe){k("endTilingPattern()"),fe.stream=Ne[q].join(`
`),Jn(G,fe),sr.publish("endTilingPattern",fe),Un.pop().restore()};var bi,jn=g.__private__.newObject=function(){var G=li();return xe(G,!0),G},li=g.__private__.newObjectDeferred=function(){return de++,Ae[de]=function(){return ye},de},xe=function(G,fe){return fe=typeof fe=="boolean"&&fe,Ae[G]=ye,fe&&z(G+" 0 obj"),G},Ee=g.__private__.newAdditionalObject=function(){var G={objId:li(),content:""};return ce.push(G),G},Ie=li(),je=li(),De=g.__private__.decodeColorString=function(G){var fe=G.split(" ");if(fe.length!==2||fe[1]!=="g"&&fe[1]!=="G")fe.length!==5||fe[4]!=="k"&&fe[4]!=="K"||(fe=[(1-fe[0])*(1-fe[3]),(1-fe[1])*(1-fe[3]),(1-fe[2])*(1-fe[3]),"r"]);else{var Oe=parseFloat(fe[0]);fe=[Oe,Oe,Oe,"r"]}for(var qe="#",nt=0;nt<3;nt++)qe+=("0"+Math.floor(255*parseFloat(fe[nt])).toString(16)).slice(-2);return qe},Ue=g.__private__.encodeColorString=function(G){var fe;typeof G=="string"&&(G={ch1:G});var Oe=G.ch1,qe=G.ch2,nt=G.ch3,Pt=G.ch4,Xt=G.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Oe=="string"&&Oe.charAt(0)!=="#"){var Rr=new Mhe(Oe);if(Rr.ok)Oe=Rr.toHex();else if(!/^\d*\.?\d*$/.test(Oe))throw new Error('Invalid color "'+Oe+'" passed to jsPDF.encodeColorString.')}if(typeof Oe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Oe)&&(Oe="#"+Oe[1]+Oe[1]+Oe[2]+Oe[2]+Oe[3]+Oe[3]),typeof Oe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Oe)){var _r=parseInt(Oe.substr(1),16);Oe=_r>>16&255,qe=_r>>8&255,nt=255&_r}if(qe===void 0||Pt===void 0&&Oe===qe&&qe===nt)fe=typeof Oe=="string"?Oe+" "+Xt[0]:G.precision===2?O(Oe/255)+" "+Xt[0]:M(Oe/255)+" "+Xt[0];else if(Pt===void 0||ls(Pt)==="object"){if(Pt&&!isNaN(Pt.a)&&Pt.a===0)return["1.","1.","1.",Xt[1]].join(" ");fe=typeof Oe=="string"?[Oe,qe,nt,Xt[1]].join(" "):G.precision===2?[O(Oe/255),O(qe/255),O(nt/255),Xt[1]].join(" "):[M(Oe/255),M(qe/255),M(nt/255),Xt[1]].join(" ")}else fe=typeof Oe=="string"?[Oe,qe,nt,Pt,Xt[2]].join(" "):G.precision===2?[O(Oe),O(qe),O(nt),O(Pt),Xt[2]].join(" "):[M(Oe),M(qe),M(nt),M(Pt),Xt[2]].join(" ");return fe},lt=g.__private__.getFilters=function(){return a},bt=g.__private__.putStream=function(G){var fe=(G=G||{}).data||"",Oe=G.filters||lt(),qe=G.alreadyAppliedFilters||[],nt=G.addLength1||!1,Pt=fe.length,Xt=G.objectId,Rr=function(Z){return Z};if(d!==null&&Xt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Rr=Ci.encryptor(Xt,0));var _r={};Oe===!0&&(Oe=["FlateEncode"]);var dn=G.additionalKeyValues||[],Ir=(_r=Hr.API.processDataByFilters!==void 0?Hr.API.processDataByFilters(fe,Oe):{data:fe,reverseChain:[]}).reverseChain+(Array.isArray(qe)?qe.join(" "):qe.toString());if(_r.data.length!==0&&(dn.push({key:"Length",value:_r.data.length}),nt===!0&&dn.push({key:"Length1",value:Pt})),Ir.length!=0)if(Ir.split("/").length-1==1)dn.push({key:"Filter",value:Ir});else{dn.push({key:"Filter",value:"["+Ir+"]"});for(var It=0;It<dn.length;It+=1)if(dn[It].key==="DecodeParms"){for(var cr=[],Dt=0;Dt<_r.reverseChain.split("/").length-1;Dt+=1)cr.push("null");cr.push(dn[It].value),dn[It].value="["+cr.join(" ")+"]"}}z("<<");for(var F=0;F<dn.length;F++)z("/"+dn[F].key+" "+dn[F].value);z(">>"),_r.data.length!==0&&(z("stream"),z(Rr(_r.data)),z("endstream"))},it=g.__private__.putPage=function(G){var fe=G.number,Oe=G.data,qe=G.objId,nt=G.contentsObjId;xe(qe,!0),z("<</Type /Page"),z("/Parent "+G.rootDictionaryObjId+" 0 R"),z("/Resources "+G.resourceDictionaryObjId+" 0 R"),z("/MediaBox ["+parseFloat(P(G.mediaBox.bottomLeftX))+" "+parseFloat(P(G.mediaBox.bottomLeftY))+" "+P(G.mediaBox.topRightX)+" "+P(G.mediaBox.topRightY)+"]"),G.cropBox!==null&&z("/CropBox ["+P(G.cropBox.bottomLeftX)+" "+P(G.cropBox.bottomLeftY)+" "+P(G.cropBox.topRightX)+" "+P(G.cropBox.topRightY)+"]"),G.bleedBox!==null&&z("/BleedBox ["+P(G.bleedBox.bottomLeftX)+" "+P(G.bleedBox.bottomLeftY)+" "+P(G.bleedBox.topRightX)+" "+P(G.bleedBox.topRightY)+"]"),G.trimBox!==null&&z("/TrimBox ["+P(G.trimBox.bottomLeftX)+" "+P(G.trimBox.bottomLeftY)+" "+P(G.trimBox.topRightX)+" "+P(G.trimBox.topRightY)+"]"),G.artBox!==null&&z("/ArtBox ["+P(G.artBox.bottomLeftX)+" "+P(G.artBox.bottomLeftY)+" "+P(G.artBox.topRightX)+" "+P(G.artBox.topRightY)+"]"),typeof G.userUnit=="number"&&G.userUnit!==1&&z("/UserUnit "+G.userUnit),sr.publish("putPage",{objId:qe,pageContext:er[fe],pageNumber:fe,page:Oe}),z("/Contents "+nt+" 0 R"),z(">>"),z("endobj");var Pt=Oe.join(`
`);return I===E&&(Pt+=`
Q`),xe(nt,!0),bt({data:Pt,filters:lt(),objectId:nt}),z("endobj"),qe},ct=g.__private__.putPages=function(){var G,fe,Oe=[];for(G=1;G<=mr;G++)er[G].objId=li(),er[G].contentsObjId=li();for(G=1;G<=mr;G++)Oe.push(it({number:G,data:Ne[G],objId:er[G].objId,contentsObjId:er[G].contentsObjId,mediaBox:er[G].mediaBox,cropBox:er[G].cropBox,bleedBox:er[G].bleedBox,trimBox:er[G].trimBox,artBox:er[G].artBox,userUnit:er[G].userUnit,rootDictionaryObjId:Ie,resourceDictionaryObjId:je}));xe(Ie,!0),z("<</Type /Pages");var qe="/Kids [";for(fe=0;fe<mr;fe++)qe+=Oe[fe]+" 0 R ";z(qe+"]"),z("/Count "+mr),z(">>"),z("endobj"),sr.publish("postPutPages")},ht=function(G){sr.publish("putFont",{font:G,out:z,newObject:jn,putStream:bt}),G.isAlreadyPutted!==!0&&(G.objectNumber=jn(),z("<<"),z("/Type /Font"),z("/BaseFont /"+X1(G.postScriptName)),z("/Subtype /Type1"),typeof G.encoding=="string"&&z("/Encoding /"+G.encoding),z("/FirstChar 32"),z("/LastChar 255"),z(">>"),z("endobj"))},Vt=function(G){G.objectNumber=jn();var fe=[];fe.push({key:"Type",value:"/XObject"}),fe.push({key:"Subtype",value:"/Form"}),fe.push({key:"BBox",value:"["+[P(G.x),P(G.y),P(G.x+G.width),P(G.y+G.height)].join(" ")+"]"}),fe.push({key:"Matrix",value:"["+G.matrix.toString()+"]"});var Oe=G.pages[1].join(`
`);bt({data:Oe,additionalKeyValues:fe,objectId:G.objectNumber}),z("endobj")},tr=function(G,fe){fe||(fe=21);var Oe=jn(),qe=function(Xt,Rr){var _r,dn=[],Ir=1/(Rr-1);for(_r=0;_r<1;_r+=Ir)dn.push(_r);if(dn.push(1),Xt[0].offset!=0){var It={offset:0,color:Xt[0].color};Xt.unshift(It)}if(Xt[Xt.length-1].offset!=1){var cr={offset:1,color:Xt[Xt.length-1].color};Xt.push(cr)}for(var Dt="",F=0,Z=0;Z<dn.length;Z++){for(_r=dn[Z];_r>Xt[F+1].offset;)F++;var ie=Xt[F].offset,Ce=(_r-ie)/(Xt[F+1].offset-ie),tt=Xt[F].color,At=Xt[F+1].color;Dt+=re(Math.round((1-Ce)*tt[0]+Ce*At[0]).toString(16))+re(Math.round((1-Ce)*tt[1]+Ce*At[1]).toString(16))+re(Math.round((1-Ce)*tt[2]+Ce*At[2]).toString(16))}return Dt.trim()}(G.colors,fe),nt=[];nt.push({key:"FunctionType",value:"0"}),nt.push({key:"Domain",value:"[0.0 1.0]"}),nt.push({key:"Size",value:"["+fe+"]"}),nt.push({key:"BitsPerSample",value:"8"}),nt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),nt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),bt({data:qe,additionalKeyValues:nt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Oe}),z("endobj"),G.objectNumber=jn(),z("<< /ShadingType "+G.type),z("/ColorSpace /DeviceRGB");var Pt="/Coords ["+P(parseFloat(G.coords[0]))+" "+P(parseFloat(G.coords[1]))+" ";G.type===2?Pt+=P(parseFloat(G.coords[2]))+" "+P(parseFloat(G.coords[3])):Pt+=P(parseFloat(G.coords[2]))+" "+P(parseFloat(G.coords[3]))+" "+P(parseFloat(G.coords[4]))+" "+P(parseFloat(G.coords[5])),z(Pt+="]"),G.matrix&&z("/Matrix ["+G.matrix.toString()+"]"),z("/Function "+Oe+" 0 R"),z("/Extend [true true]"),z(">>"),z("endobj")},Jt=function(G,fe){var Oe=li(),qe=jn();fe.push({resourcesOid:Oe,objectOid:qe}),G.objectNumber=qe;var nt=[];nt.push({key:"Type",value:"/Pattern"}),nt.push({key:"PatternType",value:"1"}),nt.push({key:"PaintType",value:"1"}),nt.push({key:"TilingType",value:"1"}),nt.push({key:"BBox",value:"["+G.boundingBox.map(P).join(" ")+"]"}),nt.push({key:"XStep",value:P(G.xStep)}),nt.push({key:"YStep",value:P(G.yStep)}),nt.push({key:"Resources",value:Oe+" 0 R"}),G.matrix&&nt.push({key:"Matrix",value:"["+G.matrix.toString()+"]"}),bt({data:G.stream,additionalKeyValues:nt,objectId:G.objectNumber}),z("endobj")},ar=function(G){for(var fe in G.objectNumber=jn(),z("<<"),G)switch(fe){case"opacity":z("/ca "+O(G[fe]));break;case"stroke-opacity":z("/CA "+O(G[fe]))}z(">>"),z("endobj")},yr=function(G){xe(G.resourcesOid,!0),z("<<"),z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var fe in z("/Font <<"),xt)xt.hasOwnProperty(fe)&&(h===!1||h===!0&&A.hasOwnProperty(fe))&&z("/"+fe+" "+xt[fe].objectNumber+" 0 R");z(">>")}(),function(){if(Object.keys(gt).length>0){for(var fe in z("/Shading <<"),gt)gt.hasOwnProperty(fe)&&gt[fe]instanceof vg&&gt[fe].objectNumber>=0&&z("/"+fe+" "+gt[fe].objectNumber+" 0 R");sr.publish("putShadingPatternDict"),z(">>")}}(),function(fe){if(Object.keys(gt).length>0){for(var Oe in z("/Pattern <<"),gt)gt.hasOwnProperty(Oe)&&gt[Oe]instanceof g.TilingPattern&&gt[Oe].objectNumber>=0&&gt[Oe].objectNumber<fe&&z("/"+Oe+" "+gt[Oe].objectNumber+" 0 R");sr.publish("putTilingPatternDict"),z(">>")}}(G.objectOid),function(){if(Object.keys(Ct).length>0){var fe;for(fe in z("/ExtGState <<"),Ct)Ct.hasOwnProperty(fe)&&Ct[fe].objectNumber>=0&&z("/"+fe+" "+Ct[fe].objectNumber+" 0 R");sr.publish("putGStateDict"),z(">>")}}(),function(){for(var fe in z("/XObject <<"),br)br.hasOwnProperty(fe)&&br[fe].objectNumber>=0&&z("/"+fe+" "+br[fe].objectNumber+" 0 R");sr.publish("putXobjectDict"),z(">>")}(),z(">>"),z("endobj")},tn=function(G){pr[G.fontName]=pr[G.fontName]||{},pr[G.fontName][G.fontStyle]=G.id},Nt=function(G,fe,Oe,qe,nt){var Pt={id:"F"+(Object.keys(xt).length+1).toString(10),postScriptName:G,fontName:fe,fontStyle:Oe,encoding:qe,isStandardFont:nt||!1,metadata:{}};return sr.publish("addFont",{font:Pt,instance:this}),xt[Pt.id]=Pt,tn(Pt),Pt.id},Ln=g.__private__.pdfEscape=g.pdfEscape=function(G,fe){return function(Oe,qe){var nt,Pt,Xt,Rr,_r,dn,Ir,It,cr;if(Xt=(qe=qe||{}).sourceEncoding||"Unicode",_r=qe.outputEncoding,(qe.autoencode||_r)&&xt[at].metadata&&xt[at].metadata[Xt]&&xt[at].metadata[Xt].encoding&&(Rr=xt[at].metadata[Xt].encoding,!_r&&xt[at].encoding&&(_r=xt[at].encoding),!_r&&Rr.codePages&&(_r=Rr.codePages[0]),typeof _r=="string"&&(_r=Rr[_r]),_r)){for(Ir=!1,dn=[],nt=0,Pt=Oe.length;nt<Pt;nt++)(It=_r[Oe.charCodeAt(nt)])?dn.push(String.fromCharCode(It)):dn.push(Oe[nt]),dn[nt].charCodeAt(0)>>8&&(Ir=!0);Oe=dn.join("")}for(nt=Oe.length;Ir===void 0&&nt!==0;)Oe.charCodeAt(nt-1)>>8&&(Ir=!0),nt--;if(!Ir)return Oe;for(dn=qe.noBOM?[]:[254,255],nt=0,Pt=Oe.length;nt<Pt;nt++){if((cr=(It=Oe.charCodeAt(nt))>>8)>>8)throw new Error("Character at position "+nt+" of string '"+Oe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");dn.push(cr),dn.push(It-(cr<<8))}return String.fromCharCode.apply(void 0,dn)}(G,fe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wn=g.__private__.beginPage=function(G){Ne[++mr]=[],er[mr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(G[0]),topRightY:Number(G[1])}},On(mr),Re(Ne[q])},oa=function(G,fe){var Oe,qe,nt;switch(r=fe||r,typeof G=="string"&&(Oe=w(G.toLowerCase()),Array.isArray(Oe)&&(qe=Oe[0],nt=Oe[1])),Array.isArray(G)&&(qe=G[0]*Ut,nt=G[1]*Ut),isNaN(qe)&&(qe=i[0],nt=i[1]),(qe>14400||nt>14400)&&(xs.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),qe=Math.min(14400,qe),nt=Math.min(14400,nt)),i=[qe,nt],r.substr(0,1)){case"l":nt>qe&&(i=[nt,qe]);break;case"p":qe>nt&&(i=[nt,qe])}wn(i),an(Ho),z(st),Wr!==0&&z(Wr+" J"),vn!==0&&z(vn+" j"),sr.publish("addPage",{pageNumber:mr})},xo=function(G){G>0&&G<=mr&&(Ne.splice(G,1),er.splice(G,1),mr--,q>mr&&(q=mr),this.setPage(q))},On=function(G){G>0&&G<=mr&&(q=G)},Jr=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Ne.length-1},xn=function(G,fe,Oe){var qe,nt=void 0;return Oe=Oe||{},G=G!==void 0?G:xt[at].fontName,fe=fe!==void 0?fe:xt[at].fontStyle,qe=G.toLowerCase(),pr[qe]!==void 0&&pr[qe][fe]!==void 0?nt=pr[qe][fe]:pr[G]!==void 0&&pr[G][fe]!==void 0?nt=pr[G][fe]:Oe.disableWarning===!1&&xs.warn("Unable to look up font label for font '"+G+"', '"+fe+"'. Refer to getFontList() for available fonts."),nt||Oe.noFallback||(nt=pr.times[fe])==null&&(nt=pr.times.normal),nt},Rn=g.__private__.putInfo=function(){var G=jn(),fe=function(qe){return qe};for(var Oe in d!==null&&(fe=Ci.encryptor(G,0)),z("<<"),z("/Producer ("+Ln(fe("jsPDF "+Hr.version))+")"),St)St.hasOwnProperty(Oe)&&St[Oe]&&z("/"+Oe.substr(0,1).toUpperCase()+Oe.substr(1)+" ("+Ln(fe(St[Oe]))+")");z("/CreationDate ("+Ln(fe(Y))+")"),z(">>"),z("endobj")},wa=g.__private__.putCatalog=function(G){var fe=(G=G||{}).rootDictionaryObjId||Ie;switch(jn(),z("<<"),z("/Type /Catalog"),z("/Pages "+fe+" 0 R"),Ze||(Ze="fullwidth"),Ze){case"fullwidth":z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":z("/OpenAction [3 0 R /Fit]");break;case"original":z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Oe=""+Ze;Oe.substr(Oe.length-1)==="%"&&(Ze=parseInt(Ze)/100),typeof Ze=="number"&&z("/OpenAction [3 0 R /XYZ null null "+O(Ze)+"]")}switch(_t||(_t="continuous"),_t){case"continuous":z("/PageLayout /OneColumn");break;case"single":z("/PageLayout /SinglePage");break;case"two":case"twoleft":z("/PageLayout /TwoColumnLeft");break;case"tworight":z("/PageLayout /TwoColumnRight")}Bt&&z("/PageMode /"+Bt),sr.publish("putCatalog"),z(">>"),z("endobj")},ba=g.__private__.putTrailer=function(){z("trailer"),z("<<"),z("/Size "+(de+1)),z("/Root "+de+" 0 R"),z("/Info "+(de-1)+" 0 R"),d!==null&&z("/Encrypt "+Ci.oid+" 0 R"),z("/ID [ <"+ne+"> <"+ne+"> ]"),z(">>")},Pn=g.__private__.putHeader=function(){z("%PDF-"+v),z("%")},la=g.__private__.putXRef=function(){var G="0000000000";z("xref"),z("0 "+(de+1)),z("0000000000 65535 f ");for(var fe=1;fe<=de;fe++)typeof Ae[fe]=="function"?z((G+Ae[fe]()).slice(-10)+" 00000 n "):Ae[fe]!==void 0?z((G+Ae[fe]).slice(-10)+" 00000 n "):z("0000000000 00000 n ")},Mo=g.__private__.buildDocument=function(){var G;de=0,ye=0,_e=[],Ae=[],ce=[],Ie=li(),je=li(),Re(_e),sr.publish("buildDocument"),Pn(),ct(),function(){sr.publish("putAdditionalObjects");for(var Oe=0;Oe<ce.length;Oe++){var qe=ce[Oe];xe(qe.objId,!0),z(qe.content),z("endobj")}sr.publish("postPutAdditionalObjects")}(),G=[],function(){for(var Oe in xt)xt.hasOwnProperty(Oe)&&(h===!1||h===!0&&A.hasOwnProperty(Oe))&&ht(xt[Oe])}(),function(){var Oe;for(Oe in Ct)Ct.hasOwnProperty(Oe)&&ar(Ct[Oe])}(),function(){for(var Oe in br)br.hasOwnProperty(Oe)&&Vt(br[Oe])}(),function(Oe){var qe;for(qe in gt)gt.hasOwnProperty(qe)&&(gt[qe]instanceof vg?tr(gt[qe]):gt[qe]instanceof xx&&Jt(gt[qe],Oe))}(G),sr.publish("putResources"),G.forEach(yr),yr({resourcesOid:je,objectOid:Number.MAX_SAFE_INTEGER}),sr.publish("postPutResources"),d!==null&&(Ci.oid=jn(),z("<<"),z("/Filter /Standard"),z("/V "+Ci.v),z("/R "+Ci.r),z("/U <"+Ci.toHexString(Ci.U)+">"),z("/O <"+Ci.toHexString(Ci.O)+">"),z("/P "+Ci.P),z(">>"),z("endobj")),Rn(),wa();var fe=ye;return la(),ba(),z("startxref"),z(""+fe),z("%%EOF"),Re(Ne[q]),_e.join(`
`)},un=g.__private__.getBlob=function(G){return new Blob([He(G)],{type:"application/pdf"})},Oa=g.output=g.__private__.output=(bi=function(G,fe){switch(typeof(fe=fe||{})=="string"?fe={filename:fe}:fe.filename=fe.filename||"generated.pdf",G){case void 0:return Mo();case"save":g.save(fe.filename);break;case"arraybuffer":return He(Mo());case"blob":return un(Mo());case"bloburi":case"bloburl":if(Dn.URL!==void 0&&typeof Dn.URL.createObjectURL=="function")return Dn.URL&&Dn.URL.createObjectURL(un(Mo()))||void 0;xs.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Oe="",qe=Mo();try{Oe=CK(qe)}catch{Oe=CK(unescape(encodeURIComponent(qe)))}return"data:application/pdf;filename="+fe.filename+";base64,"+Oe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Dn)==="[object Window]"){var nt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Pt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';fe.pdfObjectUrl&&(nt=fe.pdfObjectUrl,Pt="");var Xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+nt+'"'+Pt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(fe)+");<\/script></body></html>",Rr=Dn.open();return Rr!==null&&Rr.document.write(Xt),Rr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Dn)==="[object Window]"){var _r='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(fe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+fe.filename+'" width="500px" height="400px" /></body></html>',dn=Dn.open();if(dn!==null){dn.document.write(_r);var Ir=this;dn.document.documentElement.querySelector("#pdfViewer").onload=function(){dn.document.title=fe.filename,dn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ir.output("bloburl"))}}return dn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Dn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var It='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",fe)+'"></iframe></body></html>',cr=Dn.open();if(cr!==null&&(cr.document.write(It),cr.document.title=fe.filename),cr||typeof safari>"u")return cr;break;case"datauri":case"dataurl":return Dn.document.location.href=this.output("datauristring",fe);default:return null}},bi.foo=function(){try{return bi.apply(this,arguments)}catch(Oe){var G=Oe.stack||"";~G.indexOf(" at ")&&(G=G.split(" at ")[1]);var fe="Error in function "+G.split(`
`)[0].split("<")[0]+": "+Oe.message;if(!Dn.console)throw new Error(fe);Dn.console.error(fe,Oe),Dn.alert&&alert(fe)}},bi.foo.bar=bi,bi.foo),ca=function(G){return Array.isArray(Zt)===!0&&Zt.indexOf(G)>-1};switch(n){case"pt":Ut=1;break;case"mm":Ut=72/25.4;break;case"cm":Ut=72/2.54;break;case"in":Ut=72;break;case"px":Ut=ca("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ut=12;break;case"ex":Ut=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ut=n}var Ci=null;ve(),te();var ui=g.__private__.getPageInfo=g.getPageInfo=function(G){if(isNaN(G)||G%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:er[G].objId,pageNumber:G,pageContext:er[G]}},ws=g.__private__.getPageInfoByObjId=function(G){if(isNaN(G)||G%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var fe in er)if(er[fe].objId===G)break;return ui(fe)},ut=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:er[q].objId,pageNumber:q,pageContext:er[q]}};g.addPage=function(){return oa.apply(this,arguments),this},g.setPage=function(){return On.apply(this,arguments),Re.call(this,Ne[q]),this},g.insertPage=function(G){return this.addPage(),this.movePage(q,G),this},g.movePage=function(G,fe){var Oe,qe;if(G>fe){Oe=Ne[G],qe=er[G];for(var nt=G;nt>fe;nt--)Ne[nt]=Ne[nt-1],er[nt]=er[nt-1];Ne[fe]=Oe,er[fe]=qe,this.setPage(fe)}else if(G<fe){Oe=Ne[G],qe=er[G];for(var Pt=G;Pt<fe;Pt++)Ne[Pt]=Ne[Pt+1],er[Pt]=er[Pt+1];Ne[fe]=Oe,er[fe]=qe,this.setPage(fe)}return this},g.deletePage=function(){return xo.apply(this,arguments),this},g.__private__.text=g.text=function(G,fe,Oe,qe,nt){var Pt,Xt,Rr,_r,dn,Ir,It,cr,Dt,F=(qe=qe||{}).scope||this;if(typeof G=="number"&&typeof fe=="number"&&(typeof Oe=="string"||Array.isArray(Oe))){var Z=Oe;Oe=fe,fe=G,G=Z}if(arguments[3]instanceof Fr==0?(Rr=arguments[4],_r=arguments[5],ls(It=arguments[3])==="object"&&It!==null||(typeof Rr=="string"&&(_r=Rr,Rr=null),typeof It=="string"&&(_r=It,It=null),typeof It=="number"&&(Rr=It,It=null),qe={flags:It,angle:Rr,align:_r})):(k("The transform parameter of text() with a Matrix value"),Dt=nt),isNaN(fe)||isNaN(Oe)||G==null)throw new Error("Invalid arguments passed to jsPDF.text");if(G.length===0)return F;var ie,Ce="",tt=typeof qe.lineHeightFactor=="number"?qe.lineHeightFactor:El,At=F.internal.scaleFactor;function rr(Mt){return Mt=Mt.split("	").join(Array(qe.TabLen||9).join(" ")),Ln(Mt,It)}function bn(Mt){for(var zt,Ht=Mt.concat(),An=[],Sn=Ht.length;Sn--;)typeof(zt=Ht.shift())=="string"?An.push(zt):Array.isArray(Mt)&&(zt.length===1||zt[1]===void 0&&zt[2]===void 0)?An.push(zt[0]):An.push([zt[0],zt[1],zt[2]]);return An}function ts(Mt,zt){var Ht;if(typeof Mt=="string")Ht=zt(Mt)[0];else if(Array.isArray(Mt)){for(var An,Sn,eo=Mt.concat(),Vo=[],bo=eo.length;bo--;)typeof(An=eo.shift())=="string"?Vo.push(zt(An)[0]):Array.isArray(An)&&typeof An[0]=="string"&&(Sn=zt(An[0],An[1],An[2]),Vo.push([Sn[0],Sn[1],Sn[2]]));Ht=Vo}return Ht}var ci=!1,rs=!0;if(typeof G=="string")ci=!0;else if(Array.isArray(G)){var La=G.concat();Xt=[];for(var Qo,Fi=La.length;Fi--;)(typeof(Qo=La.shift())!="string"||Array.isArray(Qo)&&typeof Qo[0]!="string")&&(rs=!1);ci=rs}if(ci===!1)throw new Error('Type of text must be string or Array. "'+G+'" is not recognized.');typeof G=="string"&&(G=G.match(/[\r?\n]/)?G.split(/\r\n|\r|\n/g):[G]);var Ja=Te/F.internal.scaleFactor,Ic=Ja*(tt-1);switch(qe.baseline){case"bottom":Oe-=Ic;break;case"top":Oe+=Ja-Ic;break;case"hanging":Oe+=Ja-2*Ic;break;case"middle":Oe+=Ja/2-Ic}if((Ir=qe.maxWidth||0)>0&&(typeof G=="string"?G=F.splitTextToSize(G,Ir):Object.prototype.toString.call(G)==="[object Array]"&&(G=G.reduce(function(Mt,zt){return Mt.concat(F.splitTextToSize(zt,Ir))},[]))),Pt={text:G,x:fe,y:Oe,options:qe,mutex:{pdfEscape:Ln,activeFontKey:at,fonts:xt,activeFontSize:Te}},sr.publish("preProcessText",Pt),G=Pt.text,Rr=(qe=Pt.options).angle,Dt instanceof Fr==0&&Rr&&typeof Rr=="number"){Rr*=Math.PI/180,qe.rotationDirection===0&&(Rr=-Rr),I===E&&(Rr=-Rr);var rc=Math.cos(Rr),eg=Math.sin(Rr);Dt=new Fr(rc,eg,-eg,rc,0,0)}else Rr&&Rr instanceof Fr&&(Dt=Rr);I!==E||Dt||(Dt=Mr),(dn=qe.charSpace||dr)!==void 0&&(Ce+=P(H(dn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(cr=qe.horizontalScale)!==void 0&&(Ce+=P(100*cr)+` Tz
`),qe.lang;var Xs=-1,kc=qe.renderingMode!==void 0?qe.renderingMode:qe.stroke,wo=F.internal.getCurrentPageInfo().pageContext;switch(kc){case 0:case!1:case"fill":Xs=0;break;case 1:case!0:case"stroke":Xs=1;break;case 2:case"fillThenStroke":Xs=2;break;case 3:case"invisible":Xs=3;break;case 4:case"fillAndAddForClipping":Xs=4;break;case 5:case"strokeAndAddPathForClipping":Xs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Xs=6;break;case 7:case"addToPathForClipping":Xs=7}var tg=wo.usedRenderingMode!==void 0?wo.usedRenderingMode:-1;Xs!==-1?Ce+=Xs+` Tr
`:tg!==-1&&(Ce+=`0 Tr
`),Xs!==-1&&(wo.usedRenderingMode=Xs),_r=qe.align||"left";var ua,Th=Te*tt,Bh=F.internal.pageSize.getWidth(),rg=xt[at];dn=qe.charSpace||dr,Ir=qe.maxWidth||0,It=Object.assign({autoencode:!0,noBOM:!0},qe.flags);var Pd=[],$o=function(Mt){return F.getStringUnitWidth(Mt,{font:rg,charSpace:dn,fontSize:Te,doKerning:!1})*Te/At};if(Object.prototype.toString.call(G)==="[object Array]"){var nc;Xt=bn(G),_r!=="left"&&(ua=Xt.map($o));var ol,jc=0;if(_r==="right"){fe-=ua[0],G=[],Fi=Xt.length;for(var Gn=0;Gn<Fi;Gn++)Gn===0?(ol=on(fe),nc=ki(Oe)):(ol=H(jc-ua[Gn]),nc=-Th),G.push([Xt[Gn],ol,nc]),jc=ua[Gn]}else if(_r==="center"){fe-=ua[0]/2,G=[],Fi=Xt.length;for(var nu=0;nu<Fi;nu++)nu===0?(ol=on(fe),nc=ki(Oe)):(ol=H((jc-ua[nu])/2),nc=-Th),G.push([Xt[nu],ol,nc]),jc=ua[nu]}else if(_r==="left"){G=[],Fi=Xt.length;for(var pe=0;pe<Fi;pe++)G.push(Xt[pe])}else if(_r==="justify"&&rg.encoding==="Identity-H"){G=[],Fi=Xt.length,Ir=Ir!==0?Ir:Bh;for(var f=0,p=0;p<Fi;p++)if(nc=p===0?ki(Oe):-Th,ol=p===0?on(fe):f,p<Fi-1){var m=H((Ir-ua[p])/(Xt[p].split(" ").length-1)),b=Xt[p].split(" ");G.push([b[0]+" ",ol,nc]),f=0;for(var S=1;S<b.length;S++){var B=($o(b[S-1]+" "+b[S])-$o(b[S]))*At+m;S==b.length-1?G.push([b[S],B,0]):G.push([b[S]+" ",B,0]),f-=B}}else G.push([Xt[p],ol,nc]);G.push(["",f,0])}else{if(_r!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(G=[],Fi=Xt.length,Ir=Ir!==0?Ir:Bh,p=0;p<Fi;p++){nc=p===0?ki(Oe):-Th,ol=p===0?on(fe):0;var L=Xt[p].split(" ").length-1,Q=L>0?(Ir-ua[p])/L:0;p<Fi-1?Pd.push(P(H(Q))):Pd.push(0),G.push([Xt[p],ol,nc])}}}(typeof qe.R2L=="boolean"?qe.R2L:Tt)===!0&&(G=ts(G,function(Mt,zt,Ht){return[Mt.split("").reverse().join(""),zt,Ht]})),Pt={text:G,x:fe,y:Oe,options:qe,mutex:{pdfEscape:Ln,activeFontKey:at,fonts:xt,activeFontSize:Te}},sr.publish("postProcessText",Pt),G=Pt.text,ie=Pt.mutex.isHex||!1;var W=xt[at].encoding;W!=="WinAnsiEncoding"&&W!=="StandardEncoding"||(G=ts(G,function(Mt,zt,Ht){return[rr(Mt),zt,Ht]})),Xt=bn(G),G=[];for(var se,ge,we,Qe=Array.isArray(Xt[0])?1:0,Xe="",Ye=function(Mt,zt,Ht){var An="";return Ht instanceof Fr?(Ht=typeof qe.angle=="number"?Zn(Ht,new Fr(1,0,0,1,Mt,zt)):Zn(new Fr(1,0,0,1,Mt,zt),Ht),I===E&&(Ht=Zn(new Fr(1,0,0,-1,0,0),Ht)),An=Ht.join(" ")+` Tm
`):An=P(Mt)+" "+P(zt)+` Td
`,An},ot=0;ot<Xt.length;ot++){switch(Xe="",Qe){case 1:we=(ie?"<":"(")+Xt[ot][0]+(ie?">":")"),se=parseFloat(Xt[ot][1]),ge=parseFloat(Xt[ot][2]);break;case 0:we=(ie?"<":"(")+Xt[ot]+(ie?">":")"),se=on(fe),ge=ki(Oe)}Pd!==void 0&&Pd[ot]!==void 0&&(Xe=Pd[ot]+` Tw
`),ot===0?G.push(Xe+Ye(se,ge,Dt)+we):Qe===0?G.push(Xe+we):Qe===1&&G.push(Xe+Ye(se,ge,Dt)+we)}G=Qe===0?G.join(` Tj
T* `):G.join(` Tj
`),G+=` Tj
`;var wt=`BT
/`;return wt+=at+" "+Te+` Tf
`,wt+=P(Te*tt)+` TL
`,wt+=fr+`
`,wt+=Ce,wt+=G,z(wt+="ET"),A[at]=!0,F};var Le=g.__private__.clip=g.clip=function(G){return z(G==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Le("evenodd")},g.__private__.discardPath=g.discardPath=function(){return z("n"),this};var Lr=g.__private__.isValidStyle=function(G){var fe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(G)!==-1&&(fe=!0),fe};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(G){return Lr(G)&&(u=G),this};var hs=g.__private__.getStyle=g.getStyle=function(G){var fe=u;switch(G){case"D":case"S":fe="S";break;case"F":fe="f";break;case"FD":case"DF":fe="B";break;case"f":case"f*":case"B":case"B*":fe=G}return fe},Ps=g.close=function(){return z("h"),this};g.stroke=function(){return z("S"),this},g.fill=function(G){return Uo("f",G),this},g.fillEvenOdd=function(G){return Uo("f*",G),this},g.fillStroke=function(G){return Uo("B",G),this},g.fillStrokeEvenOdd=function(G){return Uo("B*",G),this};var Uo=function(G,fe){ls(fe)==="object"?en(fe,G):z(G)},al=function(G){G===null||I===E&&G===void 0||(G=hs(G),z(G))};function Fs(G,fe,Oe,qe,nt){var Pt=new xx(fe||this.boundingBox,Oe||this.xStep,qe||this.yStep,this.gState,nt||this.matrix);Pt.stream=this.stream;var Xt=G+"$$"+this.cloneIndex+++"$$";return Jn(Xt,Pt),Pt}var en=function(G,fe){var Oe=gr[G.key],qe=gt[Oe];if(qe instanceof vg)z("q"),z(Mi(fe)),qe.gState&&g.setGState(qe.gState),z(G.matrix.toString()+" cm"),z("/"+Oe+" sh"),z("Q");else if(qe instanceof xx){var nt=new Fr(1,0,0,-1,0,Da());G.matrix&&(nt=nt.multiply(G.matrix||Mr),Oe=Fs.call(qe,G.key,G.boundingBox,G.xStep,G.yStep,nt).id),z("q"),z("/Pattern cs"),z("/"+Oe+" scn"),qe.gState&&g.setGState(qe.gState),z(fe),z("Q")}},Mi=function(G){switch(G){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ru=g.moveTo=function(G,fe){return z(P(H(G))+" "+P(K(fe))+" m"),this},tc=g.lineTo=function(G,fe){return z(P(H(G))+" "+P(K(fe))+" l"),this},vo=g.curveTo=function(G,fe,Oe,qe,nt,Pt){return z([P(H(G)),P(K(fe)),P(H(Oe)),P(K(qe)),P(H(nt)),P(K(Pt)),"c"].join(" ")),this};g.__private__.line=g.line=function(G,fe,Oe,qe,nt){if(isNaN(G)||isNaN(fe)||isNaN(Oe)||isNaN(qe)||!Lr(nt))throw new Error("Invalid arguments passed to jsPDF.line");return I===_?this.lines([[Oe-G,qe-fe]],G,fe,[1,1],nt||"S"):this.lines([[Oe-G,qe-fe]],G,fe,[1,1]).stroke()},g.__private__.lines=g.lines=function(G,fe,Oe,qe,nt,Pt){var Xt,Rr,_r,dn,Ir,It,cr,Dt,F,Z,ie,Ce;if(typeof G=="number"&&(Ce=Oe,Oe=fe,fe=G,G=Ce),qe=qe||[1,1],Pt=Pt||!1,isNaN(fe)||isNaN(Oe)||!Array.isArray(G)||!Array.isArray(qe)||!Lr(nt)||typeof Pt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ru(fe,Oe),Xt=qe[0],Rr=qe[1],dn=G.length,Z=fe,ie=Oe,_r=0;_r<dn;_r++)(Ir=G[_r]).length===2?(Z=Ir[0]*Xt+Z,ie=Ir[1]*Rr+ie,tc(Z,ie)):(It=Ir[0]*Xt+Z,cr=Ir[1]*Rr+ie,Dt=Ir[2]*Xt+Z,F=Ir[3]*Rr+ie,Z=Ir[4]*Xt+Z,ie=Ir[5]*Rr+ie,vo(It,cr,Dt,F,Z,ie));return Pt&&Ps(),al(nt),this},g.path=function(G){for(var fe=0;fe<G.length;fe++){var Oe=G[fe],qe=Oe.c;switch(Oe.op){case"m":ru(qe[0],qe[1]);break;case"l":tc(qe[0],qe[1]);break;case"c":vo.apply(this,qe);break;case"h":Ps()}}return this},g.__private__.rect=g.rect=function(G,fe,Oe,qe,nt){if(isNaN(G)||isNaN(fe)||isNaN(Oe)||isNaN(qe)||!Lr(nt))throw new Error("Invalid arguments passed to jsPDF.rect");return I===_&&(qe=-qe),z([P(H(G)),P(K(fe)),P(H(Oe)),P(H(qe)),"re"].join(" ")),al(nt),this},g.__private__.triangle=g.triangle=function(G,fe,Oe,qe,nt,Pt,Xt){if(isNaN(G)||isNaN(fe)||isNaN(Oe)||isNaN(qe)||isNaN(nt)||isNaN(Pt)||!Lr(Xt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Oe-G,qe-fe],[nt-Oe,Pt-qe],[G-nt,fe-Pt]],G,fe,[1,1],Xt,!0),this},g.__private__.roundedRect=g.roundedRect=function(G,fe,Oe,qe,nt,Pt,Xt){if(isNaN(G)||isNaN(fe)||isNaN(Oe)||isNaN(qe)||isNaN(nt)||isNaN(Pt)||!Lr(Xt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Rr=4/3*(Math.SQRT2-1);return nt=Math.min(nt,.5*Oe),Pt=Math.min(Pt,.5*qe),this.lines([[Oe-2*nt,0],[nt*Rr,0,nt,Pt-Pt*Rr,nt,Pt],[0,qe-2*Pt],[0,Pt*Rr,-nt*Rr,Pt,-nt,Pt],[2*nt-Oe,0],[-nt*Rr,0,-nt,-Pt*Rr,-nt,-Pt],[0,2*Pt-qe],[0,-Pt*Rr,nt*Rr,-Pt,nt,-Pt]],G+nt,fe,[1,1],Xt,!0),this},g.__private__.ellipse=g.ellipse=function(G,fe,Oe,qe,nt){if(isNaN(G)||isNaN(fe)||isNaN(Oe)||isNaN(qe)||!Lr(nt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Pt=4/3*(Math.SQRT2-1)*Oe,Xt=4/3*(Math.SQRT2-1)*qe;return ru(G+Oe,fe),vo(G+Oe,fe-Xt,G+Pt,fe-qe,G,fe-qe),vo(G-Pt,fe-qe,G-Oe,fe-Xt,G-Oe,fe),vo(G-Oe,fe+Xt,G-Pt,fe+qe,G,fe+qe),vo(G+Pt,fe+qe,G+Oe,fe+Xt,G+Oe,fe),al(nt),this},g.__private__.circle=g.circle=function(G,fe,Oe,qe){if(isNaN(G)||isNaN(fe)||isNaN(Oe)||!Lr(qe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(G,fe,Oe,Oe,qe)},g.setFont=function(G,fe,Oe){return Oe&&(fe=T(fe,Oe)),at=xn(G,fe,{disableWarning:!1}),this};var Qu=g.__private__.getFont=g.getFont=function(){return xt[xn.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var G,fe,Oe={};for(G in pr)if(pr.hasOwnProperty(G))for(fe in Oe[G]=[],pr[G])pr[G].hasOwnProperty(fe)&&Oe[G].push(fe);return Oe},g.addFont=function(G,fe,Oe,qe,nt){var Pt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Pt.indexOf(arguments[3])!==-1?nt=arguments[3]:arguments[3]&&Pt.indexOf(arguments[3])==-1&&(Oe=T(Oe,qe)),Nt.call(this,G,fe,Oe,nt=nt||"Identity-H")};var El,Ho=e.lineWidth||.200025,bs=g.__private__.getLineWidth=g.getLineWidth=function(){return Ho},an=g.__private__.setLineWidth=g.setLineWidth=function(G){return Ho=G,z(P(H(G))+" w"),this};g.__private__.setLineDash=Hr.API.setLineDash=Hr.API.setLineDashPattern=function(G,fe){if(G=G||[],fe=fe||0,isNaN(fe)||!Array.isArray(G))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return G=G.map(function(Oe){return P(H(Oe))}).join(" "),fe=P(H(fe)),z("["+G+"] "+fe+" d"),this};var yo=g.__private__.getLineHeight=g.getLineHeight=function(){return Te*El};g.__private__.getLineHeight=g.getLineHeight=function(){return Te*El};var rn=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(G){return typeof(G=G||1.15)=="number"&&(El=G),this},Bc=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return El};rn(e.lineHeight);var on=g.__private__.getHorizontalCoordinate=function(G){return H(G)},ki=g.__private__.getVerticalCoordinate=function(G){return I===E?G:er[q].mediaBox.topRightY-er[q].mediaBox.bottomLeftY-H(G)},he=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(G){return P(on(G))},Ge=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(G){return P(ki(G))},st=e.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return De(st)},g.__private__.setStrokeColor=g.setDrawColor=function(G,fe,Oe,qe){return st=Ue({ch1:G,ch2:fe,ch3:Oe,ch4:qe,pdfColorType:"draw",precision:2}),z(st),this};var pt=e.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return De(pt)},g.__private__.setFillColor=g.setFillColor=function(G,fe,Oe,qe){return pt=Ue({ch1:G,ch2:fe,ch3:Oe,ch4:qe,pdfColorType:"fill",precision:2}),z(pt),this};var fr=e.textColor||"0 g",ur=g.__private__.getTextColor=g.getTextColor=function(){return De(fr)};g.__private__.setTextColor=g.setTextColor=function(G,fe,Oe,qe){return fr=Ue({ch1:G,ch2:fe,ch3:Oe,ch4:qe,pdfColorType:"text",precision:3}),this};var dr=e.charSpace,lr=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(dr||0)};g.__private__.setCharSpace=g.setCharSpace=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return dr=G,this};var Wr=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(G){var fe=g.CapJoinStyles[G];if(fe===void 0)throw new Error("Line cap style of '"+G+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Wr=fe,z(fe+" J"),this};var vn=0;g.__private__.setLineJoin=g.setLineJoin=function(G){var fe=g.CapJoinStyles[G];if(fe===void 0)throw new Error("Line join style of '"+G+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vn=fe,z(fe+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(G){if(G=G||0,isNaN(G))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return z(P(H(G))+" M"),this},g.GState=z5,g.setGState=function(G){(G=typeof G=="string"?Ct[$t[G]]:Hn(null,G)).equals(hr)||(z("/"+G.id+" gs"),hr=G)};var Hn=function(G,fe){if(!G||!$t[G]){var Oe=!1;for(var qe in Ct)if(Ct.hasOwnProperty(qe)&&Ct[qe].equals(fe)){Oe=!0;break}if(Oe)fe=Ct[qe];else{var nt="GS"+(Object.keys(Ct).length+1).toString(10);Ct[nt]=fe,fe.id=nt}return G&&($t[G]=fe.id),sr.publish("addGState",fe),fe}};g.addGState=function(G,fe){return Hn(G,fe),this},g.saveGraphicsState=function(){return z("q"),Ke.push({key:at,size:Te,color:fr}),this},g.restoreGraphicsState=function(){z("Q");var G=Ke.pop();return at=G.key,Te=G.size,fr=G.color,hr=null,this},g.setCurrentTransformationMatrix=function(G){return z(G.toString()+" cm"),this},g.comment=function(G){return z("#"+G),this};var wr=function(G,fe){var Oe=G||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Oe},set:function(Pt){isNaN(Pt)||(Oe=parseFloat(Pt))}});var qe=fe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return qe},set:function(Pt){isNaN(Pt)||(qe=parseFloat(Pt))}});var nt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return nt},set:function(Pt){nt=Pt.toString()}}),this},ji=function(G,fe,Oe,qe){wr.call(this,G,fe),this.type="rect";var nt=Oe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return nt},set:function(Xt){isNaN(Xt)||(nt=parseFloat(Xt))}});var Pt=qe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Pt},set:function(Xt){isNaN(Xt)||(Pt=parseFloat(Xt))}}),this},Ni=function(){this.page=mr,this.currentPage=q,this.pages=Ne.slice(0),this.pagesContext=er.slice(0),this.x=qt,this.y=Er,this.matrix=Kt,this.width=ti(q),this.height=yn(q),this.outputDestination=We,this.id="",this.objectNumber=-1};Ni.prototype.restore=function(){mr=this.page,q=this.currentPage,er=this.pagesContext,Ne=this.pages,qt=this.x,Er=this.y,Kt=this.matrix,qs(q,this.width),Wi(q,this.height),We=this.outputDestination};var $n=function(G,fe,Oe,qe,nt){Un.push(new Ni),mr=q=0,Ne=[],qt=G,Er=fe,Kt=nt,wn([Oe,qe])};for(var Pi in g.beginFormObject=function(G,fe,Oe,qe,nt){return $n(G,fe,Oe,qe,nt),this},g.endFormObject=function(G){return function(fe){if(Xr[fe])Un.pop().restore();else{var Oe=new Ni,qe="Xo"+(Object.keys(br).length+1).toString(10);Oe.id=qe,Xr[fe]=qe,br[qe]=Oe,sr.publish("addFormObject",Oe),Un.pop().restore()}}(G),this},g.doFormObject=function(G,fe){var Oe=br[Xr[G]];return z("q"),z(fe.toString()+" cm"),z("/"+Oe.id+" Do"),z("Q"),this},g.getFormObject=function(G){var fe=br[Xr[G]];return{x:fe.x,y:fe.y,width:fe.width,height:fe.height,matrix:fe.matrix}},g.save=function(G,fe){return G=G||"generated.pdf",(fe=fe||{}).returnPromise=fe.returnPromise||!1,fe.returnPromise===!1?(Ag(un(Mo()),G),typeof Ag.unload=="function"&&Dn.setTimeout&&setTimeout(Ag.unload,911),this):new Promise(function(Oe,qe){try{var nt=Ag(un(Mo()),G);typeof Ag.unload=="function"&&Dn.setTimeout&&setTimeout(Ag.unload,911),Oe(nt)}catch(Pt){qe(Pt.message)}})},Hr.API)Hr.API.hasOwnProperty(Pi)&&(Pi==="events"&&Hr.API.events.length?function(G,fe){var Oe,qe,nt;for(nt=fe.length-1;nt!==-1;nt--)Oe=fe[nt][0],qe=fe[nt][1],G.subscribe.apply(G,[Oe].concat(typeof qe=="function"?[qe]:qe))}(sr,Hr.API.events):g[Pi]=Hr.API[Pi]);function ti(G){return er[G].mediaBox.topRightX-er[G].mediaBox.bottomLeftX}function qs(G,fe){er[G].mediaBox.topRightX=fe+er[G].mediaBox.bottomLeftX}function yn(G){return er[G].mediaBox.topRightY-er[G].mediaBox.bottomLeftY}function Wi(G,fe){er[G].mediaBox.topRightY=fe+er[G].mediaBox.bottomLeftY}var Ui=g.getPageWidth=function(G){return ti(G=G||q)/Ut},Os=g.setPageWidth=function(G,fe){qs(G,fe*Ut)},Da=g.getPageHeight=function(G){return yn(G=G||q)/Ut},dt=g.setPageHeight=function(G,fe){Wi(G,fe*Ut)};return g.internal={pdfEscape:Ln,getStyle:hs,getFont:Qu,getFontSize:ze,getCharSpace:lr,getTextColor:ur,getLineHeight:yo,getLineHeightFactor:Bc,getLineWidth:bs,write:Fe,getHorizontalCoordinate:on,getVerticalCoordinate:ki,getCoordinateString:he,getVerticalCoordinateString:Ge,collections:{},newObject:jn,newAdditionalObject:Ee,newObjectDeferred:li,newObjectDeferredBegin:xe,getFilters:lt,putStream:bt,events:sr,scaleFactor:Ut,pageSize:{getWidth:function(){return Ui(q)},setWidth:function(G){Os(q,G)},getHeight:function(){return Da(q)},setHeight:function(G){dt(q,G)}},encryptionOptions:d,encryption:Ci,getEncryptor:function(G){return d!==null?Ci.encryptor(G,0):function(fe){return fe}},output:Oa,getNumberOfPages:Jr,get pages(){return Ne},out:z,f2:O,f3:M,getPageInfo:ui,getPageInfoByObjId:ws,getCurrentPageInfo:ut,getPDFVersion:x,Point:wr,Rectangle:ji,Matrix:Fr,hasHotfix:ca},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Ui(q)},set:function(G){Os(q,G)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Da(q)},set:function(G){dt(q,G)},enumerable:!0,configurable:!0}),(function(G){for(var fe=0,Oe=ke.length;fe<Oe;fe++){var qe=Nt.call(this,G[fe][0],G[fe][1],G[fe][2],ke[fe][3],!0);h===!1&&(A[qe]=!0);var nt=G[fe][0].split("-");tn({id:qe,fontName:nt[0],fontStyle:nt[1]||""})}sr.publish("addFonts",{fonts:xt,dictionary:pr})}).call(g,ke),at="F1",oa(i,r),sr.publish("initialized"),g}q1.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},q1.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},q1.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},q1.prototype.processOwnerPassword=function(e,t){return kO(IO(t).substr(0,5),e)},q1.prototype.encryptor=function(e,t){var r=IO(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return kO(r,n)}},z5.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||ls(e)!==ls(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Hr.API={events:[]},Hr.version="3.0.4";var Na=Hr.API,f7=1,n1=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},j1=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Vn=function(e){return e.toFixed(2)},e0=function(e){return e.toFixed(5)};Na.__acroform__={};var eu=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},IK=function(e){return e*f7},Bf=function(e){var t=new $he,r=Yr.internal.getHeight(e)||0,n=Yr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Vn(n)),Number(Vn(r))],t},TWe=Na.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},BWe=Na.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},IWe=Na.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Wa=Na.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return IWe(e,t-1)},Ka=Na.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return TWe(e,t-1)},qa=Na.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return BWe(e,t-1)},kWe=Na.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],s=e[1],a=e[2],l=e[3],c={};return c.lowerLeft_X=r(i)||0,c.lowerLeft_Y=n(s+l)||0,c.upperRight_X=r(i+a)||0,c.upperRight_Y=n(s)||0,[Number(Vn(c.lowerLeft_X)),Number(Vn(c.lowerLeft_Y)),Number(Vn(c.upperRight_X)),Number(Vn(c.upperRight_Y))]},jWe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=jO(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Vn(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Bf(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},jO=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(O){return O.split(`
`)}):i.map(function(O){return[O]});var s=r,a=Yr.internal.getHeight(e)||0;a=a<0?-a:a;var l=Yr.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(O,M,H){if(O+1<i.length){var K=M+" "+i[O+1][0];return XC(K,e,H).width<=l-4}return!1};s++;e:for(;s>0;){t="",s--;var u,d,h=XC("3",e,s).height,A=e.multiline?a-s:(a-h)/2,g=A+=2,v=0,x=0,y=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+XC(t,e,s=12).width+", FieldWidth:"+l+`
`;break}for(var w="",_=0,E=0;E<i.length;E++)if(i.hasOwnProperty(E)){var I=!1;if(i[E].length!==1&&y!==i[E].length-1){if((h+2)*(_+2)+2>a)continue e;w+=i[E][y],I=!0,x=E,E--}else{w=(w+=i[E][y]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var N=parseInt(E),j=c(N,w,s),T=E>=i.length-1;if(j&&!T){w+=" ",y=0;continue}if(j||T){if(T)x=N;else if(e.multiline&&(h+2)*(_+2)+2>a)continue e}else{if(!e.multiline||(h+2)*(_+2)+2>a)continue e;x=N}}for(var P="",k=v;k<=x;k++){var R=i[k];if(e.multiline){if(k===x){P+=R[y]+" ",y=(y+1)%R.length;continue}if(k===v){P+=R[R.length-1]+" ";continue}}P+=R[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,d=XC(P,e,s).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}t+=Vn(u)+" "+Vn(g)+` Td
`,t+="("+n1(P)+`) Tj
`,t+=-Vn(u)+` 0 Td
`,g=-(s+2),d=0,v=I?x:x+1,_++,w=""}break}return n.text=t,n.fontSize=s,n},XC=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},PWe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},FWe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},OWe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(bf.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(PWe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");f7=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Vhe,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&FWe(s,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var l=n[a],c=[],u=l.Rect;if(l.Rect&&(l.Rect=kWe(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Yr.createDefaultAppearanceStream(l),ls(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=jWe(l);c.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var h="";for(var A in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(A)){var g=l.appearanceStreamContent[A];if(h+="/"+A+" ",h+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var a in g)if(g.hasOwnProperty(a)){var v=g[a];typeof v=="function"&&(v=v.call(i,l)),h+="/"+a+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=g)=="function"&&(v=v.call(i,l)),h+="/"+a+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}s&&function(x,y){for(var w in x)if(x.hasOwnProperty(w)){var _=w,E=x[w];y.internal.newObjectDeferredBegin(E.objId,!0),ls(E)==="object"&&typeof E.putStream=="function"&&E.putStream(),delete x[_]}}(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},Qhe=Na.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(a){return a};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),ls(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+n1(n(e[s].toString()))+")"):i+=e[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},F6=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+n1(n(e))+")"},Gf=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Gf.prototype.toString=function(){return this.objId+" 0 R"},Gf.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Gf.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:Qhe(i,this.objId,this.scope)}):i instanceof Gf?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var $he=function(){Gf.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};eu($he,Gf);var Vhe=function(){Gf.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+n1(r(e))+")"}},set:function(r){e=r}})};eu(Vhe,Gf);var bf=function e(){Gf.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');t=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Wa(t,3)},set:function(w){w?this.F=Ka(t,3):this.F=qa(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');r=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof G5)return;s="FieldObject"+e.FieldNum++}var w=function(_){return _};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+n1(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(w){c=w}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/f7:u},set:function(w){u=w}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(w){d=w}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof G5||this instanceof Zg))return F6(h,this.objId,this.scope)},set:function(w){w=w.toString(),h=w}});var A=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof Zo==0?F6(A,this.objId,this.scope):A},set:function(w){w=w.toString(),A=this instanceof Zo==0?w.substr(0,1)==="("?j1(w.substr(1,w.length-2)):j1(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Zo==1?j1(A.substr(1,A.length-1)):A},set:function(w){w=w.toString(),A=this instanceof Zo==1?"/"+w:w}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Zo==0?F6(g,this.objId,this.scope):g},set:function(w){w=w.toString(),g=this instanceof Zo==0?w.substr(0,1)==="("?j1(w.substr(1,w.length-2)):j1(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Zo==1?j1(g.substr(1,g.length-1)):g},set:function(w){w=w.toString(),g=this instanceof Zo==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(w){w=!!w,x=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(w){v=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,1)},set:function(w){w?this.Ff=Ka(this.Ff,1):this.Ff=qa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,2)},set:function(w){w?this.Ff=Ka(this.Ff,2):this.Ff=qa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,3)},set:function(w){w?this.Ff=Ka(this.Ff,3):this.Ff=qa(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');y=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(y){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:y=2;break;case"center":case 1:y=1;break;default:y=0}}})};eu(bf,Gf);var $x=function(){bf.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Qhe(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,a,l){l||(l=1);for(var c,u=[];c=a.exec(s);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,18)},set:function(r){r?this.Ff=Ka(this.Ff,18):this.Ff=qa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Ka(this.Ff,19):this.Ff=qa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,20)},set:function(r){r?(this.Ff=Ka(this.Ff,20),t.sort()):this.Ff=qa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,22)},set:function(r){r?this.Ff=Ka(this.Ff,22):this.Ff=qa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,23)},set:function(r){r?this.Ff=Ka(this.Ff,23):this.Ff=qa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,27)},set:function(r){r?this.Ff=Ka(this.Ff,27):this.Ff=qa(this.Ff,27)}}),this.hasAppearanceStream=!1};eu($x,bf);var Vx=function(){$x.call(this),this.fontName="helvetica",this.combo=!1};eu(Vx,$x);var zx=function(){Vx.call(this),this.combo=!0};eu(zx,Vx);var A4=function(){zx.call(this),this.edit=!0};eu(A4,zx);var Zo=function(){bf.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,15)},set:function(r){r?this.Ff=Ka(this.Ff,15):this.Ff=qa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,16)},set:function(r){r?this.Ff=Ka(this.Ff,16):this.Ff=qa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,17)},set:function(r){r?this.Ff=Ka(this.Ff,17):this.Ff=qa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,26)},set:function(r){r?this.Ff=Ka(this.Ff,26):this.Ff=qa(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+n1(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){ls(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};eu(Zo,bf);var p4=function(){Zo.call(this),this.pushButton=!0};eu(p4,Zo);var Gx=function(){Zo.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};eu(Gx,Zo);var G5=function(){var e,t;bf.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+n1(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){ls(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Yr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};eu(G5,bf),Gx.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Gx.prototype.createOption=function(e){var t=new G5;return t.Parent=this,t.optionName=e,this.Kids.push(t),DWe.call(this.scope,t),t};var g4=function(){Zo.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Yr.CheckBox.createAppearanceStream()};eu(g4,Zo);var Zg=function(){bf.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,13)},set:function(t){t?this.Ff=Ka(this.Ff,13):this.Ff=qa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,21)},set:function(t){t?this.Ff=Ka(this.Ff,21):this.Ff=qa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,23)},set:function(t){t?this.Ff=Ka(this.Ff,23):this.Ff=qa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,24)},set:function(t){t?this.Ff=Ka(this.Ff,24):this.Ff=qa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,25)},set:function(t){t?this.Ff=Ka(this.Ff,25):this.Ff=qa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,26)},set:function(t){t?this.Ff=Ka(this.Ff,26):this.Ff=qa(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};eu(Zg,bf);var m4=function(){Zg.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,14)},set:function(e){e?this.Ff=Ka(this.Ff,14):this.Ff=qa(this.Ff,14)}}),this.password=!0};eu(m4,Zg);var Yr={CheckBox:{createAppearanceStream:function(){return{N:{On:Yr.CheckBox.YesNormal},D:{On:Yr.CheckBox.YesPushDown,Off:Yr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Bf(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=jO(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Vn(Yr.internal.getWidth(e))+" "+Vn(Yr.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Vn(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Bf(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],s=Yr.internal.getHeight(e),a=Yr.internal.getWidth(e),l=jO(e,e.caption);return i.push("1 g"),i.push("0 0 "+Vn(a)+" "+Vn(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Vn(a-1)+" "+Vn(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Vn(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Bf(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Vn(Yr.internal.getWidth(e))+" "+Vn(Yr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Yr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Yr.RadioButton.Circle.YesNormal,t.D[e]=Yr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Bf(e);t.scope=e.scope;var r=[],n=Yr.internal.getWidth(e)<=Yr.internal.getHeight(e)?Yr.internal.getWidth(e)/4:Yr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Yr.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+e0(Yr.internal.getWidth(e)/2)+" "+e0(Yr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Bf(e);t.scope=e.scope;var r=[],n=Yr.internal.getWidth(e)<=Yr.internal.getHeight(e)?Yr.internal.getWidth(e)/4:Yr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Yr.internal.Bezier_C).toFixed(5)),a=Number((n*Yr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+e0(Yr.internal.getWidth(e)/2)+" "+e0(Yr.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+e0(Yr.internal.getWidth(e)/2)+" "+e0(Yr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Bf(e);t.scope=e.scope;var r=[],n=Yr.internal.getWidth(e)<=Yr.internal.getHeight(e)?Yr.internal.getWidth(e)/4:Yr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Yr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+e0(Yr.internal.getWidth(e)/2)+" "+e0(Yr.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Yr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Yr.RadioButton.Cross.YesNormal,t.D[e]=Yr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Bf(e);t.scope=e.scope;var r=[],n=Yr.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Vn(Yr.internal.getWidth(e)-2)+" "+Vn(Yr.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Vn(n.x1.x)+" "+Vn(n.x1.y)+" m"),r.push(Vn(n.x2.x)+" "+Vn(n.x2.y)+" l"),r.push(Vn(n.x4.x)+" "+Vn(n.x4.y)+" m"),r.push(Vn(n.x3.x)+" "+Vn(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Bf(e);t.scope=e.scope;var r=Yr.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Vn(Yr.internal.getWidth(e))+" "+Vn(Yr.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Vn(Yr.internal.getWidth(e)-2)+" "+Vn(Yr.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Vn(r.x1.x)+" "+Vn(r.x1.y)+" m"),n.push(Vn(r.x2.x)+" "+Vn(r.x2.y)+" l"),n.push(Vn(r.x4.x)+" "+Vn(r.x4.y)+" m"),n.push(Vn(r.x3.x)+" "+Vn(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Bf(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Vn(Yr.internal.getWidth(e))+" "+Vn(Yr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Yr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Yr.internal.getWidth(e),r=Yr.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Yr.internal.getWidth=function(e){var t=0;return ls(e)==="object"&&(t=IK(e.Rect[2])),t},Yr.internal.getHeight=function(e){var t=0;return ls(e)==="object"&&(t=IK(e.Rect[3])),t};var DWe=Na.addField=function(e){if(OWe(this,e),!(e instanceof bf))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Na.AcroFormChoiceField=$x,Na.AcroFormListBox=Vx,Na.AcroFormComboBox=zx,Na.AcroFormEditBox=A4,Na.AcroFormButton=Zo,Na.AcroFormPushButton=p4,Na.AcroFormRadioButton=Gx,Na.AcroFormCheckBox=g4,Na.AcroFormTextField=Zg,Na.AcroFormPasswordField=m4,Na.AcroFormAppearance=Yr,Na.AcroForm={ChoiceField:$x,ListBox:Vx,ComboBox:zx,EditBox:A4,Button:Zo,PushButton:p4,RadioButton:Gx,CheckBox:g4,TextField:Zg,PasswordField:m4,Appearance:Yr},Hr.AcroForm={ChoiceField:$x,ListBox:Vx,ComboBox:zx,EditBox:A4,Button:Zo,PushButton:p4,RadioButton:Gx,CheckBox:g4,TextField:Zg,PasswordField:m4,Appearance:Yr};function zhe(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(O,M){var H,K,Y,ne,le,te=r;if((M=M||r)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(j(O))for(le in n)for(Y=n[le],H=0;H<Y.length;H+=1){for(ne=!0,K=0;K<Y[H].length;K+=1)if(Y[H][K]!==void 0&&Y[H][K]!==O[K]){ne=!1;break}if(ne===!0){te=le;break}}else for(le in n)for(Y=n[le],H=0;H<Y.length;H+=1){for(ne=!0,K=0;K<Y[H].length;K+=1)if(Y[H][K]!==void 0&&Y[H][K]!==O.charCodeAt(K)){ne=!1;break}if(ne===!0){te=le;break}}return te===r&&M!==r&&(te=M),te},s=function O(M){for(var H=this.internal.write,K=this.internal.putStream,Y=(0,this.internal.getFilters)();Y.indexOf("FlateEncode")!==-1;)Y.splice(Y.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var ne=[];if(ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Image"}),ne.push({key:"Width",value:M.width}),ne.push({key:"Height",value:M.height}),M.colorSpace===w.INDEXED?ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(ne.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===w.DEVICE_CMYK&&ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ne.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&ne.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)&&M.transparency.length>0){for(var le="",te=0,X=M.transparency.length;te<X;te++)le+=M.transparency[te]+" "+M.transparency[te]+" ";ne.push({key:"Mask",value:"["+le+"]"})}M.sMask!==void 0&&ne.push({key:"SMask",value:M.objectId+1+" 0 R"});var ue=M.filter!==void 0?["/"+M.filter]:void 0;if(K({data:M.data,additionalKeyValues:ne,alreadyAppliedFilters:ue,objectId:M.objectId}),H("endobj"),"sMask"in M&&M.sMask!==void 0){var ve,V=(ve=M.sMaskBitsPerComponent)!==null&&ve!==void 0?ve:M.bitsPerComponent,q={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:V,data:M.sMask};"filter"in M&&(q.decodeParameters="/Predictor ".concat(M.predictor," /Colors 1 /BitsPerComponent ").concat(V," /Columns ").concat(M.width),q.filter=M.filter),O.call(this,q)}if(M.colorSpace===w.INDEXED){var ee=this.internal.newObject();K({data:P(new Uint8Array(M.palette)),objectId:ee}),H("endobj")}},a=function(){var O=this.internal.collections[t+"images"];for(var M in O)s.call(this,O[M])},l=function(){var O,M=this.internal.collections[t+"images"],H=this.internal.write;for(var K in M)H("/I"+(O=M[K]).index,O.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var O=this.internal.collections[t+"images"];return c.call(this),O},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},h=function(O){return typeof e["process"+O.toUpperCase()]=="function"},A=function(O){return ls(O)==="object"&&O.nodeType===1},g=function(O,M){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var H=""+O.getAttribute("src");if(H.indexOf("data:image/")===0)return h4(unescape(H).split("base64,").pop());var K=e.loadFile(H,!0);if(K!==void 0)return K}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var Y;switch(M){case"PNG":Y="image/png";break;case"WEBP":Y="image/webp";break;default:Y="image/jpeg"}return h4(O.toDataURL(Y,1).split("base64,").pop())}},v=function(O){var M=this.internal.collections[t+"images"];if(M){for(var H in M)if(O===M[H].alias)return M[H]}},x=function(O,M,H){return O||M||(O=-96,M=-96),O<0&&(O=-1*H.width*72/O/this.internal.scaleFactor),M<0&&(M=-1*H.height*72/M/this.internal.scaleFactor),O===0&&(O=M*H.width/H.height),M===0&&(M=O*H.height/H.width),[O,M]},y=function(O,M,H,K,Y,ne){var le=x.call(this,H,K,Y),te=this.internal.getCoordinateString,X=this.internal.getVerticalCoordinateString,ue=u.call(this);if(H=le[0],K=le[1],ue[Y.index]=Y,ne){ne*=Math.PI/180;var ve=Math.cos(ne),V=Math.sin(ne),q=function(re){return re.toFixed(4)},ee=[q(ve),q(V),q(-1*V),q(ve),0,0,"cm"]}this.internal.write("q"),ne?(this.internal.write([1,"0","0",1,te(O),X(M+K),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([te(H),"0","0",te(K),"0","0","cm"].join(" "))):this.internal.write([te(H),"0","0",te(K),te(O),X(M+K),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Y.index+" Do"),this.internal.write("Q")},w=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=e.__addimage__.sHashCode=function(O){var M,H,K=0;if(typeof O=="string")for(H=O.length,M=0;M<H;M++)K=(K<<5)-K+O.charCodeAt(M),K|=0;else if(j(O))for(H=O.byteLength/2,M=0;M<H;M++)K=(K<<5)-K+O[M],K|=0;return K},I=e.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var M=!0;return O.length===0&&(M=!1),O.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(M=!1),M},N=e.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var M=O.indexOf(",");return M<0?null:O.substring(0,M).trim().endsWith("base64")?O.substring(M+1):null};e.__addimage__.isArrayBuffer=function(O){return O instanceof ArrayBuffer};var j=e.__addimage__.isArrayBufferView=function(O){return O instanceof Int8Array||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array},T=e.__addimage__.binaryStringToUint8Array=function(O){for(var M=O.length,H=new Uint8Array(M),K=0;K<M;K++)H[K]=O.charCodeAt(K);return H},P=e.__addimage__.arrayBufferToBinaryString=function(O){for(var M="",H=j(O)?O:new Uint8Array(O),K=0;K<H.length;K+=8192)M+=String.fromCharCode.apply(null,H.subarray(K,K+8192));return M};e.addImage=function(){var O,M,H,K,Y,ne,le,te,X;if(typeof arguments[1]=="number"?(M=r,H=arguments[1],K=arguments[2],Y=arguments[3],ne=arguments[4],le=arguments[5],te=arguments[6],X=arguments[7]):(M=arguments[1],H=arguments[2],K=arguments[3],Y=arguments[4],ne=arguments[5],le=arguments[6],te=arguments[7],X=arguments[8]),ls(O=arguments[0])==="object"&&!A(O)&&"imageData"in O){var ue=O;O=ue.imageData,M=ue.format||M||r,H=ue.x||H||0,K=ue.y||K||0,Y=ue.w||ue.width||Y,ne=ue.h||ue.height||ne,le=ue.alias||le,te=ue.compression||te,X=ue.rotation||ue.angle||X}var ve=this.internal.getFilters();if(te===void 0&&ve.indexOf("FlateEncode")!==-1&&(te="SLOW"),isNaN(H)||isNaN(K))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var V=k.call(this,O,M,le,te);return y.call(this,H,K,Y,ne,V,X),this};var k=function(O,M,H,K){var Y,ne,le;if(typeof O=="string"&&i(O)===r){O=unescape(O);var te=R(O,!1);(te!==""||(te=e.loadFile(O,!0))!==void 0)&&(O=te)}if(A(O)&&(O=g(O,M)),M=i(O,M),!h(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((le=H)==null||le.length===0)&&(H=function(X){return typeof X=="string"||j(X)?E(X):j(X.data)?E(X.data):null}(O)),(Y=v.call(this,H))||(O instanceof Uint8Array||M==="RGBA"||(ne=O,O=T(O)),Y=this["process"+M.toUpperCase()](O,d.call(this),H,function(X){return X&&typeof X=="string"&&(X=X.toUpperCase()),X in e.image_compression?X:_.NONE}(K),ne)),!Y)throw new Error("An unknown error occurred whilst processing the image.");return Y},R=e.__addimage__.convertBase64ToBinaryString=function(O,M){M=typeof M!="boolean"||M;var H,K="";if(typeof O=="string"){var Y;H=(Y=N(O))!==null&&Y!==void 0?Y:O;try{K=h4(H)}catch(ne){if(M)throw I(H)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return K};e.getImageProperties=function(O){var M,H,K="";if(A(O)&&(O=g(O)),typeof O=="string"&&i(O)===r&&((K=R(O,!1))===""&&(K=e.loadFile(O)||""),O=K),H=i(O),!h(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(O instanceof Uint8Array||(O=T(O)),!(M=this["process"+H.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=H,M}})(Hr.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Hr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,s,a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,h=0;h<u.length&&!d;h++)switch((n=u[h]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var A=0;A<u.length;A++){n=u[A];var g=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(x.objId),_=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+g(w(n.contents))+")",s+=" /Popup "+y.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+g(w(_))+") >>",x.content=s;var E=x.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+E,n.open&&(s+=" /Open true"),s+=" >>",y.content=s,this.internal.write(x.objId,"0 R",y.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+l(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var I=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(v(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+I+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var N=this.annotations._nameMap[n.options.name];n.options.pageNumber=N.page,n.options.top=N.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var j=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+j+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,s,a){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+i),h:u(n+s)},options:a,type:"link"})},e.textWithLink=function(r,n,i,s){var a,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var d=this.splitTextToSize(r,l).length;a=Math.ceil(u*d)}else l=c,a=u;return this.text(r,n,i,s),i+=.2*u,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,i-u,l,a,s),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Hr.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(x){return t[x.charCodeAt(0)]!==void 0},a=e.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},l=e.__arabicParser__.isArabicEndLetter=function(x){return a(x)&&s(x)&&t[x.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(x){return a(x)&&i.indexOf(x.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return a(x)&&s(x)&&t[x.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(x){return a(x)&&s(x)&&t[x.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(x){return a(x)&&s(x)&&t[x.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(x){return a(x)&&s(x)&&t[x.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(x){var y=0,w=r,_="",E=0;for(y=0;y<x.length;y+=1)w[x.charCodeAt(y)]!==void 0?(E++,typeof(w=w[x.charCodeAt(y)])=="number"&&(_+=String.fromCharCode(w),w=r,E=0),y===x.length-1&&(w=r,_+=x.charAt(y-(E-1)),y-=E-1,E=0)):(w=r,_+=x.charAt(y-E),y-=E,E=0);return _};e.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&n[x.charCodeAt(0)]!==void 0};var A=e.__arabicParser__.getCorrectForm=function(x,y,w){return a(x)?s(x)===!1?-1:!u(x)||!a(y)&&!a(w)||!a(w)&&l(y)||l(x)&&!a(y)||l(x)&&c(y)||l(x)&&l(y)?0:d(x)&&a(y)&&!l(y)&&a(w)&&u(w)?3:l(x)||!a(w)?1:2:-1},g=function(x){var y=0,w=0,_=0,E="",I="",N="",j=(x=x||"").split("\\s+"),T=[];for(y=0;y<j.length;y+=1){for(T.push(""),w=0;w<j[y].length;w+=1)E=j[y][w],I=j[y][w-1],N=j[y][w+1],a(E)?(_=A(E,I,N),T[y]+=_!==-1?String.fromCharCode(t[E.charCodeAt(0)][_]):E):T[y]+=E;T[y]=h(T[y])}return T.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var x,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(y)){var _=0;for(w=[],_=0;_<y.length;_+=1)Array.isArray(y[_])?w.push([g(y[_][0]),y[_][1],y[_][2]]):w.push([g(y[_])]);x=w}else x=g(y);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};e.events.push(["preProcessText",v])}(Hr.API),Hr.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(l){a=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Hr.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var A=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return A},set:function(x){A=x}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(x){g=x}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(x){v=x}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),A=u.scaleFactor||this.internal.scaleFactor,g=0,v=0,x=0,y=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var w=u.maxWidth;w>0?typeof c=="string"?c=this.splitTextToSize(c,w):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(E,I){return E.concat(y.splitTextToSize(I,w))},[])):c=Array.isArray(c)?c:[c];for(var _=0;_<c.length;_++)g<(x=this.getStringUnitWidth(c[_],{font:h})*d)&&(g=x);return g!==0&&(v=c.length),{w:g/=A,h:Math.max((v*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/A,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,A=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,g&&A&&(this.printHeaderRow(c.lineNumber,!0),c.y+=A[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,h,A){if(n.call(this),!d)throw new Error("No data for PDF table.");var g,v,x,y,w=[],_=[],E=[],I={},N={},j=[],T=[],P=(A=A||{}).autoSize||!1,k=A.printHeaders!==!1,R=A.css&&A.css["font-size"]!==void 0?16*A.css["font-size"]:A.fontSize||12,O=A.margins||Object.assign({width:this.getPageWidth()},t),M=typeof A.padding=="number"?A.padding:3,H=A.headerBackgroundColor||"#c8c8c8",K=A.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=R,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=K,this.setFontSize(R),h==null)_=w=Object.keys(d[0]),E=w.map(function(){return"left"});else if(Array.isArray(h)&&ls(h[0])==="object")for(w=h.map(function(ue){return ue.name}),_=h.map(function(ue){return ue.prompt||ue.name||""}),E=h.map(function(ue){return ue.align||"left"}),g=0;g<h.length;g+=1)N[h[g].name]=.7499990551181103*h[g].width;else Array.isArray(h)&&typeof h[0]=="string"&&(_=w=h,E=w.map(function(){return"left"}));if(P||Array.isArray(h)&&typeof h[0]=="string")for(g=0;g<w.length;g+=1){for(I[y=w[g]]=d.map(function(ue){return ue[y]}),this.setFont(void 0,"bold"),j.push(this.getTextDimensions(_[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=I[y],this.setFont(void 0,"normal"),x=0;x<v.length;x+=1)j.push(this.getTextDimensions(v[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[y]=Math.max.apply(null,j)+M+M,j=[]}if(k){var Y={};for(g=0;g<w.length;g+=1)Y[w[g]]={},Y[w[g]].text=_[g],Y[w[g]].align=E[g];var ne=l.call(this,Y,N);T=w.map(function(ue){return new s(c,u,N[ue],ne,Y[ue].text,void 0,Y[ue].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var le=h.reduce(function(ue,ve){return ue[ve.name]=ve.align,ue},{});for(g=0;g<d.length;g+=1){"rowStart"in A&&A.rowStart instanceof Function&&A.rowStart({row:g,data:d[g]},this);var te=l.call(this,d[g],N);for(x=0;x<w.length;x+=1){var X=d[g][w[x]];"cellStart"in A&&A.cellStart instanceof Function&&A.cellStart({row:g,col:x,data:X},this),a.call(this,new s(c,u,N[w[x]],te,X,g+2,le[w[x]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,A=this.internal.scaleFactor;return Object.keys(c).map(function(g){var v=c[g];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[g]-d-d)},this).map(function(g){return this.getLineHeightFactor()*g.length*h/A+d+d},this).reduce(function(g,v){return Math.max(g,v)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var A=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){d=this.internal.__cell__.tableHeaderRow[g].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,A.push(d)),d.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(v)}A.length>0&&this.setTableHeaderRow(A),this.setFont(void 0,"normal"),r=!1}}(Hr.API);var Ghe={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Whe=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],PO=zhe(Whe),Khe=[100,200,300,400,500,600,700,800,900],LWe=zhe(Khe);function O6(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return Ghe[s=s||"normal"]?s:"normal"}(e.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(e.weight),i=function(s){return typeof PO[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function kK(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var RWe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},jK={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function PK(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function FK(e){return e.trimLeft()}function MWe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function UWe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var YC,OK,DK,P1,ZC,LK,RK,MK,D6=["times"];function UK(e,t,r,n,i){var s=4,a=QK;switch(i){case Hr.API.image_compression.FAST:s=1,a=HK;break;case Hr.API.image_compression.MEDIUM:s=6,a=$K;break;case Hr.API.image_compression.SLOW:s=9,a=VK}e=function(c,u,d,h){for(var A,g=c.length/u,v=new Uint8Array(c.length+g),x=[HWe,HK,QK,$K,VK],y=0;y<g;y+=1){var w=y*u,_=c.subarray(w,w+u);if(h)v.set(h(_,d,A),w+y);else{for(var E=x.length,I=[],N=0;N<E;N+=1)I[N]=x[N](_,d,A);var j=$We(I.concat());v.set(I[j],w+y)}A=_}return v}(e,t,Math.ceil(r*n/8),a);var l=yO(e,{level:s});return Hr.API.__addimage__.arrayBufferToBinaryString(l)}function HWe(e){var t=Array.apply([],e);return t.unshift(0),t}function HK(e,t){var r=e.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var s=e[i-t]||0;n[i+1]=e[i]-s+256&255}return n}function QK(e,t,r){var n=e.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var a=r&&r[s]||0;i[s+1]=e[s]-a+256&255}return i}function $K(e,t,r){var n=e.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var a=e[s-t]||0,l=r&&r[s]||0;i[s+1]=e[s]+256-(a+l>>>1)&255}return i}function VK(e,t,r){var n=e.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var a=QWe(e[s-t]||0,r&&r[s]||0,r&&r[s-t]||0);i[s+1]=e[s]-a+256&255}return i}function QWe(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),i=Math.abs(e-r),s=Math.abs(e+t-r-r);return n<=i&&n<=s?e:i<=s?t:r}function $We(e){var t=e.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function L6(e,t,r){var n=t*r,i=Math.floor(n/8),s=16-(n-8*i+r),a=(1<<r)-1;return qhe(e,i)>>s&a}function zK(e,t,r,n){var i=r*n,s=Math.floor(i/8),a=16-(i-8*s+n),l=(1<<n)-1,c=(t&l)<<a;(function(u,d,h){if(d+1<u.byteLength)u.setUint16(d,h,!1);else{var A=h>>8&255;u.setUint8(d,A)}})(e,s,qhe(e,s)&~(l<<a)&65535|c)}function qhe(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function VWe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,a=1<<1+(7&i);e[t++],e[t++];var l=null,c=null;s&&(l=t,c=a,t+=3*a);var u=!0,d=[],h=0,A=null,g=0,v=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,v=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var x=e[t++];h=e[t++]|e[t++]<<8,A=e[t++],1&x||(A=null),g=x>>2&7,t++;break;case 254:for(;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var y=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,E=e[t++]|e[t++]<<8,I=e[t++],N=I>>6&1,j=1<<1+(7&I),T=l,P=c,k=!1;I>>7&&(k=!0,T=t,P=j,t+=3*j);var R=t;for(t++;;){var O;if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}d.push({x:y,y:w,width:_,height:E,has_local_palette:k,palette_offset:T,palette_size:P,data_offset:R,data_length:t-R,transparent_index:A,interlaced:!!N,delay:h,disposal:g});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return v},this.frameInfo=function(M){if(M<0||M>=d.length)throw new Error("Frame index out of range.");return d[M]},this.decodeAndBlitFrameBGRA=function(M,H){var K=this.frameInfo(M),Y=K.width*K.height,ne=new Uint8Array(Y);GK(e,K.data_offset,ne,Y);var le=K.palette_offset,te=K.transparent_index;te===null&&(te=256);var X=K.width,ue=r-X,ve=X,V=4*(K.y*r+K.x),q=4*((K.y+K.height)*r+K.x),ee=V,re=4*ue;K.interlaced===!0&&(re+=4*r*7);for(var de=8,Ae=0,_e=ne.length;Ae<_e;++Ae){var ye=ne[Ae];if(ve===0&&(ve=X,(ee+=re)>=q&&(re=4*ue+4*r*(de-1),ee=V+(X+ue)*(de<<1),de>>=1)),ye===te)ee+=4;else{var ce=e[le+3*ye],Ne=e[le+3*ye+1],oe=e[le+3*ye+2];H[ee++]=oe,H[ee++]=Ne,H[ee++]=ce,H[ee++]=255}--ve}},this.decodeAndBlitFrameRGBA=function(M,H){var K=this.frameInfo(M),Y=K.width*K.height,ne=new Uint8Array(Y);GK(e,K.data_offset,ne,Y);var le=K.palette_offset,te=K.transparent_index;te===null&&(te=256);var X=K.width,ue=r-X,ve=X,V=4*(K.y*r+K.x),q=4*((K.y+K.height)*r+K.x),ee=V,re=4*ue;K.interlaced===!0&&(re+=4*r*7);for(var de=8,Ae=0,_e=ne.length;Ae<_e;++Ae){var ye=ne[Ae];if(ve===0&&(ve=X,(ee+=re)>=q&&(re=4*ue+4*r*(de-1),ee=V+(X+ue)*(de<<1),de>>=1)),ye===te)ee+=4;else{var ce=e[le+3*ye],Ne=e[le+3*ye+1],oe=e[le+3*ye+2];H[ee++]=ce,H[ee++]=Ne,H[ee++]=oe,H[ee++]=255}--ve}}}function GK(e,t,r,n){for(var i=e[t++],s=1<<i,a=s+1,l=a+1,c=i+1,u=(1<<c)-1,d=0,h=0,A=0,g=e[t++],v=new Int32Array(4096),x=null;;){for(;d<16&&g!==0;)h|=e[t++]<<d,d+=8,g===1?g=e[t++]:--g;if(d<c)break;var y=h&u;if(h>>=c,d-=c,y!==s){if(y===a)break;for(var w=y<l?y:x,_=0,E=w;E>s;)E=v[E]>>8,++_;var I=E;if(A+_+(w!==y?1:0)>n)return void xs.log("Warning, gif stream longer than expected.");r[A++]=I;var N=A+=_;for(w!==y&&(r[A++]=I),E=w;_--;)E=v[E],r[--N]=255&E,E>>=8;x!==null&&l<4096&&(v[l++]=x<<8|I,l>=u+1&&c<12&&(++c,u=u<<1|1)),x=y}else l=a+1,u=(1<<(c=i+1))-1,x=null}return A!==n&&xs.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function R6(e){var t,r,n,i,s,a=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),h=new Array(65535),A=new Array(65535),g=new Array(64),v=new Array(64),x=[],y=0,w=7,_=new Array(64),E=new Array(64),I=new Array(64),N=new Array(256),j=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Y=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ne(V,q){for(var ee=0,re=0,de=new Array,Ae=1;Ae<=16;Ae++){for(var _e=1;_e<=V[Ae];_e++)de[q[re]]=[],de[q[re]][0]=ee,de[q[re]][1]=Ae,re++,ee++;ee*=2}return de}function le(V){for(var q=V[0],ee=V[1]-1;ee>=0;)q&1<<ee&&(y|=1<<w),ee--,--w<0&&(y==255?(te(255),te(0)):te(y),w=7,y=0)}function te(V){x.push(V)}function X(V){te(V>>8&255),te(255&V)}function ue(V,q,ee,re,de){for(var Ae,_e=de[0],ye=de[240],ce=function(Te,Ze){var ze,Tt,Bt,mt,_t,jt,or,St,at,Ut,qt=0;for(at=0;at<8;++at){ze=Te[qt],Tt=Te[qt+1],Bt=Te[qt+2],mt=Te[qt+3],_t=Te[qt+4],jt=Te[qt+5],or=Te[qt+6];var Er=ze+(St=Te[qt+7]),Kt=ze-St,xt=Tt+or,pr=Tt-or,Ke=Bt+jt,gt=Bt-jt,gr=mt+_t,Ct=mt-_t,$t=Er+gr,hr=Er-gr,mr=xt+Ke,er=xt-Ke;Te[qt]=$t+mr,Te[qt+4]=$t-mr;var sr=.707106781*(er+hr);Te[qt+2]=hr+sr,Te[qt+6]=hr-sr;var Zt=.382683433*(($t=Ct+gt)-(er=pr+Kt)),br=.5411961*$t+Zt,Xr=1.306562965*er+Zt,Un=.707106781*(mr=gt+pr),Fr=Kt+Un,Zn=Kt-Un;Te[qt+5]=Zn+br,Te[qt+3]=Zn-br,Te[qt+1]=Fr+Xr,Te[qt+7]=Fr-Xr,qt+=8}for(qt=0,at=0;at<8;++at){ze=Te[qt],Tt=Te[qt+8],Bt=Te[qt+16],mt=Te[qt+24],_t=Te[qt+32],jt=Te[qt+40],or=Te[qt+48];var Mr=ze+(St=Te[qt+56]),Jn=ze-St,bi=Tt+or,jn=Tt-or,li=Bt+jt,xe=Bt-jt,Ee=mt+_t,Ie=mt-_t,je=Mr+Ee,De=Mr-Ee,Ue=bi+li,lt=bi-li;Te[qt]=je+Ue,Te[qt+32]=je-Ue;var bt=.707106781*(lt+De);Te[qt+16]=De+bt,Te[qt+48]=De-bt;var it=.382683433*((je=Ie+xe)-(lt=jn+Jn)),ct=.5411961*je+it,ht=1.306562965*lt+it,Vt=.707106781*(Ue=xe+jn),tr=Jn+Vt,Jt=Jn-Vt;Te[qt+40]=Jt+ct,Te[qt+24]=Jt-ct,Te[qt+8]=tr+ht,Te[qt+56]=tr-ht,qt++}for(at=0;at<64;++at)Ut=Te[at]*Ze[at],g[at]=Ut>0?Ut+.5|0:Ut-.5|0;return g}(V,q),Ne=0;Ne<64;++Ne)v[T[Ne]]=ce[Ne];var oe=v[0]-ee;ee=v[0],oe==0?le(re[0]):(le(re[A[Ae=32767+oe]]),le(h[Ae]));for(var We=63;We>0&&v[We]==0;)We--;if(We==0)return le(_e),ee;for(var Re,z=1;z<=We;){for(var Fe=z;v[z]==0&&z<=We;)++z;var He=z-Fe;if(He>=16){Re=He>>4;for(var ke=1;ke<=Re;++ke)le(ye);He&=15}Ae=32767+v[z],le(de[(He<<4)+A[Ae]]),le(h[Ae]),z++}return We!=63&&le(_e),ee}function ve(V){V=Math.min(Math.max(V,1),100),s!=V&&(function(q){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var de=a((ee[re]*q+50)/100);de=Math.min(Math.max(de,1),255),l[T[re]]=de}for(var Ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],_e=0;_e<64;_e++){var ye=a((Ae[_e]*q+50)/100);ye=Math.min(Math.max(ye,1),255),c[T[_e]]=ye}for(var ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ne=0,oe=0;oe<8;oe++)for(var We=0;We<8;We++)u[Ne]=1/(l[T[Ne]]*ce[oe]*ce[We]*8),d[Ne]=1/(c[T[Ne]]*ce[oe]*ce[We]*8),Ne++}(V<50?Math.floor(5e3/V):Math.floor(200-2*V)),s=V)}this.encode=function(V,q){q&&ve(q),x=new Array,y=0,w=7,X(65496),X(65504),X(16),te(74),te(70),te(73),te(70),te(0),te(1),te(1),te(0),X(1),X(1),te(0),te(0),function(){X(65499),X(132),te(0);for(var Tt=0;Tt<64;Tt++)te(l[Tt]);te(1);for(var Bt=0;Bt<64;Bt++)te(c[Bt])}(),function(Tt,Bt){X(65472),X(17),te(8),X(Bt),X(Tt),te(3),te(1),te(17),te(0),te(2),te(17),te(1),te(3),te(17),te(1)}(V.width,V.height),function(){X(65476),X(418),te(0);for(var Tt=0;Tt<16;Tt++)te(P[Tt+1]);for(var Bt=0;Bt<=11;Bt++)te(k[Bt]);te(16);for(var mt=0;mt<16;mt++)te(R[mt+1]);for(var _t=0;_t<=161;_t++)te(O[_t]);te(1);for(var jt=0;jt<16;jt++)te(M[jt+1]);for(var or=0;or<=11;or++)te(H[or]);te(17);for(var St=0;St<16;St++)te(K[St+1]);for(var at=0;at<=161;at++)te(Y[at])}(),X(65498),X(12),te(3),te(1),te(0),te(2),te(17),te(3),te(17),te(0),te(63),te(0);var ee=0,re=0,de=0;y=0,w=7,this.encode.displayName="_encode_";for(var Ae,_e,ye,ce,Ne,oe,We,Re,z,Fe=V.data,He=V.width,ke=V.height,Te=4*He,Ze=0;Ze<ke;){for(Ae=0;Ae<Te;){for(Ne=Te*Ze+Ae,We=-1,Re=0,z=0;z<64;z++)oe=Ne+(Re=z>>3)*Te+(We=4*(7&z)),Ze+Re>=ke&&(oe-=Te*(Ze+1+Re-ke)),Ae+We>=Te&&(oe-=Ae+We-Te+4),_e=Fe[oe++],ye=Fe[oe++],ce=Fe[oe++],_[z]=(j[_e]+j[ye+256|0]+j[ce+512|0]>>16)-128,E[z]=(j[_e+768|0]+j[ye+1024|0]+j[ce+1280|0]>>16)-128,I[z]=(j[_e+1280|0]+j[ye+1536|0]+j[ce+1792|0]>>16)-128;ee=ue(_,u,ee,t,n),re=ue(E,d,re,r,i),de=ue(I,d,de,r,i),Ae+=32}Ze+=8}if(w>=0){var ze=[];ze[1]=w+1,ze[0]=(1<<w+1)-1,le(ze)}return X(65497),new Uint8Array(x)},e=e||50,function(){for(var V=String.fromCharCode,q=0;q<256;q++)N[q]=V(q)}(),t=ne(P,k),r=ne(M,H),n=ne(R,O),i=ne(K,Y),function(){for(var V=1,q=2,ee=1;ee<=15;ee++){for(var re=V;re<q;re++)A[32767+re]=ee,h[32767+re]=[],h[32767+re][1]=ee,h[32767+re][0]=re;for(var de=-(q-1);de<=-V;de++)A[32767+de]=ee,h[32767+de]=[],h[32767+de][1]=ee,h[32767+de][0]=q-1+de;V<<=1,q<<=1}}(),function(){for(var V=0;V<256;V++)j[V]=19595*V,j[V+256|0]=38470*V,j[V+512|0]=7471*V+32768,j[V+768|0]=-11059*V,j[V+1024|0]=-21709*V,j[V+1280|0]=32768*V+8421375,j[V+1536|0]=-27439*V,j[V+1792|0]=-5329*V}(),ve(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Md(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function WK(e){function t(k){if(!k)throw Error("assert :P")}function r(k,R,O){for(var M=0;4>M;M++)if(k[R+M]!=O.charCodeAt(M))return!0;return!1}function n(k,R,O,M,H){for(var K=0;K<H;K++)k[R+K]=O[M+K]}function i(k,R,O,M){for(var H=0;H<M;H++)k[R+H]=O}function s(k){return new Int32Array(k)}function a(k,R){for(var O=[],M=0;M<k;M++)O.push(new R);return O}function l(k,R){var O=[];return function M(H,K,Y){for(var ne=Y[K],le=0;le<ne&&(H.push(Y.length>K+1?[]:new R),!(Y.length<K+1));le++)M(H[le],K+1,Y)}(O,0,k),O}var c=function(){var k=this;function R(D,U){for(var J=1<<U-1>>>0;D&J;)J>>>=1;return J?(D&J-1)+J:D}function O(D,U,J,ae,me){t(!(ae%J));do D[U+(ae-=J)]=me;while(0<ae)}function M(D,U,J,ae,me){if(t(2328>=me),512>=me)var be=s(512);else if((be=s(me))==null)return 0;return function(Se,Be,Pe,$e,Je,yt){var Ve,rt,ft=Be,Ot=1<<Pe,vt=s(16),Rt=s(16);for(t(Je!=0),t($e!=null),t(Se!=null),t(0<Pe),rt=0;rt<Je;++rt){if(15<$e[rt])return 0;++vt[$e[rt]]}if(vt[0]==Je)return 0;for(Rt[1]=0,Ve=1;15>Ve;++Ve){if(vt[Ve]>1<<Ve)return 0;Rt[Ve+1]=Rt[Ve]+vt[Ve]}for(rt=0;rt<Je;++rt)Ve=$e[rt],0<$e[rt]&&(yt[Rt[Ve]++]=rt);if(Rt[15]==1)return($e=new H).g=0,$e.value=yt[0],O(Se,ft,1,Ot,$e),Ot;var Qt,Ar=-1,ir=Ot-1,ln=0,Kr=1,ri=1,nn=1<<Pe;for(rt=0,Ve=1,Je=2;Ve<=Pe;++Ve,Je<<=1){if(Kr+=ri<<=1,0>(ri-=vt[Ve]))return 0;for(;0<vt[Ve];--vt[Ve])($e=new H).g=Ve,$e.value=yt[rt++],O(Se,ft+ln,Je,nn,$e),ln=R(ln,Ve)}for(Ve=Pe+1,Je=2;15>=Ve;++Ve,Je<<=1){if(Kr+=ri<<=1,0>(ri-=vt[Ve]))return 0;for(;0<vt[Ve];--vt[Ve]){if($e=new H,(ln&ir)!=Ar){for(ft+=nn,Qt=1<<(Ar=Ve)-Pe;15>Ar&&!(0>=(Qt-=vt[Ar]));)++Ar,Qt<<=1;Ot+=nn=1<<(Qt=Ar-Pe),Se[Be+(Ar=ln&ir)].g=Qt+Pe,Se[Be+Ar].value=ft-Be-Ar}$e.g=Ve-Pe,$e.value=yt[rt++],O(Se,ft+(ln>>Pe),Je,nn,$e),ln=R(ln,Ve)}}return Kr!=2*Rt[15]-1?0:Ot}(D,U,J,ae,me,be)}function H(){this.value=this.g=0}function K(){this.value=this.g=0}function Y(){this.G=a(5,H),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a($o,K)}function ne(D,U,J,ae){t(D!=null),t(U!=null),t(2147483648>ae),D.Ca=254,D.I=0,D.b=-8,D.Ka=0,D.oa=U,D.pa=J,D.Jd=U,D.Yc=J+ae,D.Zc=4<=ae?J+ae-4+1:J,_e(D)}function le(D,U){for(var J=0;0<U--;)J|=ce(D,128)<<U;return J}function te(D,U){var J=le(D,U);return ye(D)?-J:J}function X(D,U,J,ae){var me,be=0;for(t(D!=null),t(U!=null),t(4294967288>ae),D.Sb=ae,D.Ra=0,D.u=0,D.h=0,4<ae&&(ae=4),me=0;me<ae;++me)be+=U[J+me]<<8*me;D.Ra=be,D.bb=ae,D.oa=U,D.pa=J}function ue(D){for(;8<=D.u&&D.bb<D.Sb;)D.Ra>>>=8,D.Ra+=D.oa[D.pa+D.bb]<<jc-8>>>0,++D.bb,D.u-=8;re(D)&&(D.h=1,D.u=0)}function ve(D,U){if(t(0<=U),!D.h&&U<=ol){var J=ee(D)&nc[U];return D.u+=U,ue(D),J}return D.h=1,D.u=0}function V(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ee(D){return D.Ra>>>(D.u&jc-1)>>>0}function re(D){return t(D.bb<=D.Sb),D.h||D.bb==D.Sb&&D.u>jc}function de(D,U){D.u=U,D.h=re(D)}function Ae(D){D.u>=Gn&&(t(D.u>=Gn),ue(D))}function _e(D){t(D!=null&&D.oa!=null),D.pa<D.Zc?(D.I=(D.oa[D.pa++]|D.I<<8)>>>0,D.b+=8):(t(D!=null&&D.oa!=null),D.pa<D.Yc?(D.b+=8,D.I=D.oa[D.pa++]|D.I<<8):D.Ka?D.b=0:(D.I<<=8,D.b+=8,D.Ka=1))}function ye(D){return le(D,1)}function ce(D,U){var J=D.Ca;0>D.b&&_e(D);var ae=D.b,me=J*U>>>8,be=(D.I>>>ae>me)+0;for(be?(J-=me,D.I-=me+1<<ae>>>0):J=me+1,ae=J,me=0;256<=ae;)me+=8,ae>>=8;return ae=7^me+nu[ae],D.b-=ae,D.Ca=(J<<ae)-1,be}function Ne(D,U,J){D[U+0]=J>>24&255,D[U+1]=J>>16&255,D[U+2]=J>>8&255,D[U+3]=255&J}function oe(D,U){return D[U+0]|D[U+1]<<8}function We(D,U){return oe(D,U)|D[U+2]<<16}function Re(D,U){return oe(D,U)|oe(D,U+2)<<16}function z(D,U){var J=1<<U;return t(D!=null),t(0<U),D.X=s(J),D.X==null?0:(D.Mb=32-U,D.Xa=U,1)}function Fe(D,U){t(D!=null),t(U!=null),t(D.Xa==U.Xa),n(U.X,0,D.X,0,1<<U.Xa)}function He(){this.X=[],this.Xa=this.Mb=0}function ke(D,U,J,ae){t(J!=null),t(ae!=null);var me=J[0],be=ae[0];return me==0&&(me=(D*be+U/2)/U),be==0&&(be=(U*me+D/2)/D),0>=me||0>=be?0:(J[0]=me,ae[0]=be,1)}function Te(D,U){return D+(1<<U)-1>>>U}function Ze(D,U){return((4278255360&D)+(4278255360&U)>>>0&4278255360)+((16711935&D)+(16711935&U)>>>0&16711935)>>>0}function ze(D,U){k[U]=function(J,ae,me,be,Se,Be,Pe){var $e;for($e=0;$e<Se;++$e){var Je=k[D](Be[Pe+$e-1],me,be+$e);Be[Pe+$e]=Ze(J[ae+$e],Je)}}}function Tt(){this.ud=this.hd=this.jd=0}function Bt(D,U){return((4278124286&(D^U))>>>1)+(D&U)>>>0}function mt(D){return 0<=D&&256>D?D:0>D?0:255<D?255:void 0}function _t(D,U){return mt(D+(D-U+.5>>1))}function jt(D,U,J){return Math.abs(U-J)-Math.abs(D-J)}function or(D,U,J,ae,me,be,Se){for(ae=be[Se-1],J=0;J<me;++J)be[Se+J]=ae=Ze(D[U+J],ae)}function St(D,U,J,ae,me){var be;for(be=0;be<J;++be){var Se=D[U+be],Be=Se>>8&255,Pe=16711935&(Pe=(Pe=16711935&Se)+((Be<<16)+Be));ae[me+be]=(4278255360&Se)+Pe>>>0}}function at(D,U){U.jd=255&D,U.hd=D>>8&255,U.ud=D>>16&255}function Ut(D,U,J,ae,me,be){var Se;for(Se=0;Se<ae;++Se){var Be=U[J+Se],Pe=Be>>>8,$e=Be,Je=255&(Je=(Je=Be>>>16)+((D.jd<<24>>24)*(Pe<<24>>24)>>>5));$e=255&($e=($e+=(D.hd<<24>>24)*(Pe<<24>>24)>>>5)+((D.ud<<24>>24)*(Je<<24>>24)>>>5)),me[be+Se]=(4278255360&Be)+(Je<<16)+$e}}function qt(D,U,J,ae,me){k[U]=function(be,Se,Be,Pe,$e,Je,yt,Ve,rt){for(Pe=yt;Pe<Ve;++Pe)for(yt=0;yt<rt;++yt)$e[Je++]=me(Be[ae(be[Se++])])},k[D]=function(be,Se,Be,Pe,$e,Je,yt){var Ve=8>>be.b,rt=be.Ea,ft=be.K[0],Ot=be.w;if(8>Ve)for(be=(1<<be.b)-1,Ot=(1<<Ve)-1;Se<Be;++Se){var vt,Rt=0;for(vt=0;vt<rt;++vt)vt&be||(Rt=ae(Pe[$e++])),Je[yt++]=me(ft[Rt&Ot]),Rt>>=Ve}else k["VP8LMapColor"+J](Pe,$e,ft,Ot,Je,yt,Se,Be,rt)}}function Er(D,U,J,ae,me){for(J=U+J;U<J;){var be=D[U++];ae[me++]=be>>16&255,ae[me++]=be>>8&255,ae[me++]=255&be}}function Kt(D,U,J,ae,me){for(J=U+J;U<J;){var be=D[U++];ae[me++]=be>>16&255,ae[me++]=be>>8&255,ae[me++]=255&be,ae[me++]=be>>24&255}}function xt(D,U,J,ae,me){for(J=U+J;U<J;){var be=(Se=D[U++])>>16&240|Se>>12&15,Se=240&Se|Se>>28&15;ae[me++]=be,ae[me++]=Se}}function pr(D,U,J,ae,me){for(J=U+J;U<J;){var be=(Se=D[U++])>>16&248|Se>>13&7,Se=Se>>5&224|Se>>3&31;ae[me++]=be,ae[me++]=Se}}function Ke(D,U,J,ae,me){for(J=U+J;U<J;){var be=D[U++];ae[me++]=255&be,ae[me++]=be>>8&255,ae[me++]=be>>16&255}}function gt(D,U,J,ae,me,be){if(be==0)for(J=U+J;U<J;)Ne(ae,((be=D[U++])[0]>>24|be[1]>>8&65280|be[2]<<8&16711680|be[3]<<24)>>>0),me+=32;else n(ae,me,D,U,J)}function gr(D,U){k[U][0]=k[D+"0"],k[U][1]=k[D+"1"],k[U][2]=k[D+"2"],k[U][3]=k[D+"3"],k[U][4]=k[D+"4"],k[U][5]=k[D+"5"],k[U][6]=k[D+"6"],k[U][7]=k[D+"7"],k[U][8]=k[D+"8"],k[U][9]=k[D+"9"],k[U][10]=k[D+"10"],k[U][11]=k[D+"11"],k[U][12]=k[D+"12"],k[U][13]=k[D+"13"],k[U][14]=k[D+"0"],k[U][15]=k[D+"0"]}function Ct(D){return D==pk||D==gk||D==wS||D==mk}function $t(){this.eb=[],this.size=this.A=this.fb=0}function hr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function mr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new $t,this.f.kb=new hr,this.sd=null}function er(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function sr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Zt(D){return alert("todo:WebPSamplerProcessPlane"),D.T}function br(D,U){var J=D.T,ae=U.ba.f.RGBA,me=ae.eb,be=ae.fb+D.ka*ae.A,Se=Vu[U.ba.S],Be=D.y,Pe=D.O,$e=D.f,Je=D.N,yt=D.ea,Ve=D.W,rt=U.cc,ft=U.dc,Ot=U.Mc,vt=U.Nc,Rt=D.ka,Qt=D.ka+D.T,Ar=D.U,ir=Ar+1>>1;for(Rt==0?Se(Be,Pe,null,null,$e,Je,yt,Ve,$e,Je,yt,Ve,me,be,null,null,Ar):(Se(U.ec,U.fc,Be,Pe,rt,ft,Ot,vt,$e,Je,yt,Ve,me,be-ae.A,me,be,Ar),++J);Rt+2<Qt;Rt+=2)rt=$e,ft=Je,Ot=yt,vt=Ve,Je+=D.Rc,Ve+=D.Rc,be+=2*ae.A,Se(Be,(Pe+=2*D.fa)-D.fa,Be,Pe,rt,ft,Ot,vt,$e,Je,yt,Ve,me,be-ae.A,me,be,Ar);return Pe+=D.fa,D.j+Qt<D.o?(n(U.ec,U.fc,Be,Pe,Ar),n(U.cc,U.dc,$e,Je,ir),n(U.Mc,U.Nc,yt,Ve,ir),J--):1&Qt||Se(Be,Pe,null,null,$e,Je,yt,Ve,$e,Je,yt,Ve,me,be+ae.A,null,null,Ar),J}function Xr(D,U,J){var ae=D.F,me=[D.J];if(ae!=null){var be=D.U,Se=U.ba.S,Be=Se==yS||Se==wS;U=U.ba.f.RGBA;var Pe=[0],$e=D.ka;Pe[0]=D.T,D.Kb&&($e==0?--Pe[0]:(--$e,me[0]-=D.width),D.j+D.ka+D.T==D.o&&(Pe[0]=D.o-D.j-$e));var Je=U.eb;$e=U.fb+$e*U.A,D=pH(ae,me[0],D.width,be,Pe,Je,$e+(Be?0:3),U.A),t(J==Pe),D&&Ct(Se)&&ng(Je,$e,Be,be,Pe,U.A)}return 0}function Un(D){var U=D.ma,J=U.ba.S,ae=11>J,me=J==xS||J==vS||J==yS||J==Ak||J==12||Ct(J);if(U.memory=null,U.Ib=null,U.Jb=null,U.Nd=null,!Bh(U.Oa,D,me?11:12))return 0;if(me&&Ct(J)&&bn(),D.da)alert("todo:use_scaling");else{if(ae){if(U.Ib=Zt,D.Kb){if(J=D.U+1>>1,U.memory=s(D.U+2*J),U.memory==null)return 0;U.ec=U.memory,U.fc=0,U.cc=U.ec,U.dc=U.fc+D.U,U.Mc=U.cc,U.Nc=U.dc+J,U.Ib=br,bn()}}else alert("todo:EmitYUV");me&&(U.Jb=Xr,ae&&At())}if(ae&&!jH){for(D=0;256>D;++D)yve[D]=89858*(D-128)+_S>>bS,_ve[D]=-22014*(D-128)+_S,bve[D]=-45773*(D-128),wve[D]=113618*(D-128)+_S>>bS;for(D=uw;D<yk;++D)U=76283*(D-16)+_S>>bS,Eve[D-uw]=Rn(U,255),Sve[D-uw]=Rn(U+8>>4,15);jH=1}return 1}function Fr(D){var U=D.ma,J=D.U,ae=D.T;return t(!(1&D.ka)),0>=J||0>=ae?0:(J=U.Ib(D,U),U.Jb!=null&&U.Jb(D,U,J),U.Dc+=J,1)}function Zn(D){D.ma.memory=null}function Mr(D,U,J,ae){return ve(D,8)!=47?0:(U[0]=ve(D,14)+1,J[0]=ve(D,14)+1,ae[0]=ve(D,1),ve(D,3)!=0?0:!D.h)}function Jn(D,U){if(4>D)return D+1;var J=D-2>>1;return(2+(1&D)<<J)+ve(U,J)+1}function bi(D,U){return 120<U?U-120:1<=(J=((J=ave[U-1])>>4)*D+(8-(15&J)))?J:1;var J}function jn(D,U,J){var ae=ee(J),me=D[U+=255&ae].g-8;return 0<me&&(de(J,J.u+8),ae=ee(J),U+=D[U].value,U+=ae&(1<<me)-1),de(J,J.u+D[U].g),D[U].value}function li(D,U,J){return J.g+=D.g,J.value+=D.value<<U>>>0,t(8>=J.g),D.g}function xe(D,U,J){var ae=D.xc;return t((U=ae==0?0:D.vc[D.md*(J>>ae)+(U>>ae)])<D.Wb),D.Ya[U]}function Ee(D,U,J,ae){var me=D.ab,be=D.c*U,Se=D.C;U=Se+U;var Be=J,Pe=ae;for(ae=D.Ta,J=D.Ua;0<me--;){var $e=D.gc[me],Je=Se,yt=U,Ve=Be,rt=Pe,ft=(Pe=ae,Be=J,$e.Ea);switch(t(Je<yt),t(yt<=$e.nc),$e.hc){case 2:p(Ve,rt,(yt-Je)*ft,Pe,Be);break;case 0:var Ot=Je,vt=yt,Rt=Pe,Qt=Be,Ar=(nn=$e).Ea;Ot==0&&(pe(Ve,rt,null,null,1,Rt,Qt),or(Ve,rt+1,0,0,Ar-1,Rt,Qt+1),rt+=Ar,Qt+=Ar,++Ot);for(var ir=1<<nn.b,ln=ir-1,Kr=Te(Ar,nn.b),ri=nn.K,nn=nn.w+(Ot>>nn.b)*Kr;Ot<vt;){var _i=ri,_o=nn,ni=1;for(f(Ve,rt,Rt,Qt-Ar,1,Rt,Qt);ni<Ar;){var sn=(ni&~ln)+ir;sn>Ar&&(sn=Ar),(0,L[_i[_o++]>>8&15])(Ve,rt+ +ni,Rt,Qt+ni-Ar,sn-ni,Rt,Qt+ni),ni=sn}rt+=Ar,Qt+=Ar,++Ot&ln||(nn+=Kr)}yt!=$e.nc&&n(Pe,Be-ft,Pe,Be+(yt-Je-1)*ft,ft);break;case 1:for(ft=Ve,vt=rt,Ar=(Ve=$e.Ea)-(Qt=Ve&~(Rt=(rt=1<<$e.b)-1)),Ot=Te(Ve,$e.b),ir=$e.K,$e=$e.w+(Je>>$e.b)*Ot;Je<yt;){for(ln=ir,Kr=$e,ri=new Tt,nn=vt+Qt,_i=vt+Ve;vt<nn;)at(ln[Kr++],ri),Q(ri,ft,vt,rt,Pe,Be),vt+=rt,Be+=rt;vt<_i&&(at(ln[Kr++],ri),Q(ri,ft,vt,Ar,Pe,Be),vt+=Ar,Be+=Ar),++Je&Rt||($e+=Ot)}break;case 3:if(Ve==Pe&&rt==Be&&0<$e.b){for(vt=Pe,Ve=ft=Be+(yt-Je)*ft-(Qt=(yt-Je)*Te($e.Ea,$e.b)),rt=Pe,Rt=Be,Ot=[],Qt=(Ar=Qt)-1;0<=Qt;--Qt)Ot[Qt]=rt[Rt+Qt];for(Qt=Ar-1;0<=Qt;--Qt)vt[Ve+Qt]=Ot[Qt];m($e,Je,yt,Pe,ft,Pe,Be)}else m($e,Je,yt,Ve,rt,Pe,Be)}Be=ae,Pe=J}Pe!=J&&n(ae,J,Be,Pe,be)}function Ie(D,U){var J=D.V,ae=D.Ba+D.c*D.C,me=U-D.C;if(t(U<=D.l.o),t(16>=me),0<me){var be=D.l,Se=D.Ta,Be=D.Ua,Pe=be.width;if(Ee(D,me,J,ae),me=Be=[Be],t((J=D.C)<(ae=U)),t(be.v<be.va),ae>be.o&&(ae=be.o),J<be.j){var $e=be.j-J;J=be.j,me[0]+=$e*Pe}if(J>=ae?J=0:(me[0]+=4*be.v,be.ka=J-be.j,be.U=be.va-be.v,be.T=ae-J,J=1),J){if(Be=Be[0],11>(J=D.ca).S){var Je=J.f.RGBA,yt=(ae=J.S,me=be.U,be=be.T,$e=Je.eb,Je.A),Ve=be;for(Je=Je.fb+D.Ma*Je.A;0<Ve--;){var rt=Se,ft=Be,Ot=me,vt=$e,Rt=Je;switch(ae){case mS:W(rt,ft,Ot,vt,Rt);break;case xS:se(rt,ft,Ot,vt,Rt);break;case pk:se(rt,ft,Ot,vt,Rt),ng(vt,Rt,0,Ot,1,0);break;case bH:Qe(rt,ft,Ot,vt,Rt);break;case vS:gt(rt,ft,Ot,vt,Rt,1);break;case gk:gt(rt,ft,Ot,vt,Rt,1),ng(vt,Rt,0,Ot,1,0);break;case yS:gt(rt,ft,Ot,vt,Rt,0);break;case wS:gt(rt,ft,Ot,vt,Rt,0),ng(vt,Rt,1,Ot,1,0);break;case Ak:ge(rt,ft,Ot,vt,Rt);break;case mk:ge(rt,ft,Ot,vt,Rt),AH(vt,Rt,Ot,1,0);break;case _H:we(rt,ft,Ot,vt,Rt);break;default:t(0)}Be+=Pe,Je+=yt}D.Ma+=be}else alert("todo:EmitRescaledRowsYUVA");t(D.Ma<=J.height)}}D.C=U,t(D.C<=D.i)}function je(D){var U;if(0<D.ua)return 0;for(U=0;U<D.Wb;++U){var J=D.Ya[U].G,ae=D.Ya[U].H;if(0<J[1][ae[1]+0].g||0<J[2][ae[2]+0].g||0<J[3][ae[3]+0].g)return 0}return 1}function De(D,U,J,ae,me,be){if(D.Z!=0){var Se=D.qd,Be=D.rd;for(t(VA[D.Z]!=null);U<J;++U)VA[D.Z](Se,Be,ae,me,ae,me,be),Se=ae,Be=me,me+=be;D.qd=Se,D.rd=Be}}function Ue(D,U){var J=D.l.ma,ae=J.Z==0||J.Z==1?D.l.j:D.C;if(ae=D.C<ae?ae:D.C,t(U<=D.l.o),U>ae){var me=D.l.width,be=J.ca,Se=J.tb+me*ae,Be=D.V,Pe=D.Ba+D.c*ae,$e=D.gc;t(D.ab==1),t($e[0].hc==3),S($e[0],ae,U,Be,Pe,be,Se),De(J,ae,U,be,Se,me)}D.C=D.Ma=U}function lt(D,U,J,ae,me,be,Se){var Be=D.$/ae,Pe=D.$%ae,$e=D.m,Je=D.s,yt=J+D.$,Ve=yt;me=J+ae*me;var rt=J+ae*be,ft=280+Je.ua,Ot=D.Pb?Be:16777216,vt=0<Je.ua?Je.Wa:null,Rt=Je.wc,Qt=yt<rt?xe(Je,Pe,Be):null;t(D.C<be),t(rt<=me);var Ar=!1;e:for(;;){for(;Ar||yt<rt;){var ir=0;if(Be>=Ot){var ln=yt-J;t((Ot=D).Pb),Ot.wd=Ot.m,Ot.xd=ln,0<Ot.s.ua&&Fe(Ot.s.Wa,Ot.s.vb),Ot=Be+lve}if(Pe&Rt||(Qt=xe(Je,Pe,Be)),t(Qt!=null),Qt.Qb&&(U[yt]=Qt.qb,Ar=!0),!Ar)if(Ae($e),Qt.jc){ir=$e,ln=U;var Kr=yt,ri=Qt.pd[ee(ir)&$o-1];t(Qt.jc),256>ri.g?(de(ir,ir.u+ri.g),ln[Kr]=ri.value,ir=0):(de(ir,ir.u+ri.g-256),t(256<=ri.value),ir=ri.value),ir==0&&(Ar=!0)}else ir=jn(Qt.G[0],Qt.H[0],$e);if($e.h)break;if(Ar||256>ir){if(!Ar)if(Qt.nd)U[yt]=(Qt.qb|ir<<8)>>>0;else{if(Ae($e),Ar=jn(Qt.G[1],Qt.H[1],$e),Ae($e),ln=jn(Qt.G[2],Qt.H[2],$e),Kr=jn(Qt.G[3],Qt.H[3],$e),$e.h)break;U[yt]=(Kr<<24|Ar<<16|ir<<8|ln)>>>0}if(Ar=!1,++yt,++Pe>=ae&&(Pe=0,++Be,Se!=null&&Be<=be&&!(Be%16)&&Se(D,Be),vt!=null))for(;Ve<yt;)ir=U[Ve++],vt.X[(506832829*ir&4294967295)>>>vt.Mb]=ir}else if(280>ir){if(ir=Jn(ir-256,$e),ln=jn(Qt.G[4],Qt.H[4],$e),Ae($e),ln=bi(ae,ln=Jn(ln,$e)),$e.h)break;if(yt-J<ln||me-yt<ir)break e;for(Kr=0;Kr<ir;++Kr)U[yt+Kr]=U[yt+Kr-ln];for(yt+=ir,Pe+=ir;Pe>=ae;)Pe-=ae,++Be,Se!=null&&Be<=be&&!(Be%16)&&Se(D,Be);if(t(yt<=me),Pe&Rt&&(Qt=xe(Je,Pe,Be)),vt!=null)for(;Ve<yt;)ir=U[Ve++],vt.X[(506832829*ir&4294967295)>>>vt.Mb]=ir}else{if(!(ir<ft))break e;for(Ar=ir-280,t(vt!=null);Ve<yt;)ir=U[Ve++],vt.X[(506832829*ir&4294967295)>>>vt.Mb]=ir;ir=yt,t(!(Ar>>>(ln=vt).Xa)),U[ir]=ln.X[Ar],Ar=!0}Ar||t($e.h==re($e))}if(D.Pb&&$e.h&&yt<me)t(D.m.h),D.a=5,D.m=D.wd,D.$=D.xd,0<D.s.ua&&Fe(D.s.vb,D.s.Wa);else{if($e.h)break e;Se!=null&&Se(D,Be>be?be:Be),D.a=0,D.$=yt-J}return 1}return D.a=3,0}function bt(D){t(D!=null),D.vc=null,D.yc=null,D.Ya=null;var U=D.Wa;U!=null&&(U.X=null),D.vb=null,t(D!=null)}function it(){var D=new dn;return D==null?null:(D.a=0,D.xb=CH,gr("Predictor","VP8LPredictors"),gr("Predictor","VP8LPredictors_C"),gr("PredictorAdd","VP8LPredictorsAdd"),gr("PredictorAdd","VP8LPredictorsAdd_C"),p=St,Q=Ut,W=Er,se=Kt,ge=xt,we=pr,Qe=Ke,k.VP8LMapColor32b=b,k.VP8LMapColor8b=B,D)}function ct(D,U,J,ae,me){var be=1,Se=[D],Be=[U],Pe=ae.m,$e=ae.s,Je=null,yt=0;e:for(;;){if(J)for(;be&&ve(Pe,1);){var Ve=Se,rt=Be,ft=ae,Ot=1,vt=ft.m,Rt=ft.gc[ft.ab],Qt=ve(vt,2);if(ft.Oc&1<<Qt)be=0;else{switch(ft.Oc|=1<<Qt,Rt.hc=Qt,Rt.Ea=Ve[0],Rt.nc=rt[0],Rt.K=[null],++ft.ab,t(4>=ft.ab),Qt){case 0:case 1:Rt.b=ve(vt,3)+2,Ot=ct(Te(Rt.Ea,Rt.b),Te(Rt.nc,Rt.b),0,ft,Rt.K),Rt.K=Rt.K[0];break;case 3:var Ar,ir=ve(vt,8)+1,ln=16<ir?0:4<ir?1:2<ir?2:3;if(Ve[0]=Te(Rt.Ea,ln),Rt.b=ln,Ar=Ot=ct(ir,1,0,ft,Rt.K)){var Kr,ri=ir,nn=Rt,_i=1<<(8>>nn.b),_o=s(_i);if(_o==null)Ar=0;else{var ni=nn.K[0],sn=nn.w;for(_o[0]=nn.K[0][0],Kr=1;Kr<1*ri;++Kr)_o[Kr]=Ze(ni[sn+Kr],_o[Kr-1]);for(;Kr<4*_i;++Kr)_o[Kr]=0;nn.K[0]=null,nn.K[0]=_o,Ar=1}}Ot=Ar;break;case 2:break;default:t(0)}be=Ot}}if(Se=Se[0],Be=Be[0],be&&ve(Pe,1)&&!(be=1<=(yt=ve(Pe,4))&&11>=yt)){ae.a=3;break e}var kr;if(kr=be)t:{var Ra,Wn,Ti,Ds=ae,ll=Se,ic=Be,_a=yt,Cl=J,sc=Ds.m,Eo=Ds.s,Oi=[null],ns=1,Ea=0,is=ove[_a];r:for(;;){if(Cl&&ve(sc,1)){var cl=ve(sc,3)+2,Od=Te(ll,cl),Ma=Te(ic,cl),Pc=Od*Ma;if(!ct(Od,Ma,0,Ds,Oi))break r;for(Oi=Oi[0],Eo.xc=cl,Ra=0;Ra<Pc;++Ra){var ms=Oi[Ra]>>8&65535;Oi[Ra]=ms,ms>=ns&&(ns=ms+1)}}if(sc.h)break r;for(Wn=0;5>Wn;++Wn){var So=EH[Wn];!Wn&&0<_a&&(So+=1<<_a),Ea<So&&(Ea=So)}var su=a(ns*is,H),ac=ns,au=a(ac,Y);if(au==null)var ou=null;else t(65536>=ac),ou=au;var Fc=s(Ea);if(ou==null||Fc==null||su==null){Ds.a=1;break r}var lu=su;for(Ra=Ti=0;Ra<ns;++Ra){var _s=ou[Ra],cu=_s.G,Dd=_s.H,ig=0,Ph=1,ul=0;for(Wn=0;5>Wn;++Wn){So=EH[Wn],cu[Wn]=lu,Dd[Wn]=Ti,!Wn&&0<_a&&(So+=1<<_a);i:{var SS,wk=So,CS=Ds,dw=Fc,Tve=lu,Bve=Ti,bk=0,zA=CS.m,Ive=ve(zA,1);if(i(dw,0,0,wk),Ive){var kve=ve(zA,1)+1,jve=ve(zA,1),OH=ve(zA,jve==0?1:8);dw[OH]=1,kve==2&&(dw[OH=ve(zA,8)]=1);var NS=1}else{var DH=s(19),LH=ve(zA,4)+4;if(19<LH){CS.a=3;var TS=0;break i}for(SS=0;SS<LH;++SS)DH[sve[SS]]=ve(zA,3);var _k=void 0,fw=void 0,RH=CS,Pve=DH,BS=wk,MH=dw,Ek=0,GA=RH.m,UH=8,HH=a(128,H);n:for(;M(HH,0,7,Pve,19);){if(ve(GA,1)){var Fve=2+2*ve(GA,3);if((_k=2+ve(GA,Fve))>BS)break n}else _k=BS;for(fw=0;fw<BS&&_k--;){Ae(GA);var QH=HH[0+(127&ee(GA))];de(GA,GA.u+QH.g);var p1=QH.value;if(16>p1)MH[fw++]=p1,p1!=0&&(UH=p1);else{var Ove=p1==16,$H=p1-16,Dve=nve[$H],VH=ve(GA,rve[$H])+Dve;if(fw+VH>BS)break n;for(var Lve=Ove?UH:0;0<VH--;)MH[fw++]=Lve}}Ek=1;break n}Ek||(RH.a=3),NS=Ek}(NS=NS&&!zA.h)&&(bk=M(Tve,Bve,8,dw,wk)),NS&&bk!=0?TS=bk:(CS.a=3,TS=0)}if(TS==0)break r;if(Ph&&ive[Wn]==1&&(Ph=lu[Ti].g==0),ig+=lu[Ti].g,Ti+=TS,3>=Wn){var hw,Sk=Fc[0];for(hw=1;hw<So;++hw)Fc[hw]>Sk&&(Sk=Fc[hw]);ul+=Sk}}if(_s.nd=Ph,_s.Qb=0,Ph&&(_s.qb=(cu[3][Dd[3]+0].value<<24|cu[1][Dd[1]+0].value<<16|cu[2][Dd[2]+0].value)>>>0,ig==0&&256>cu[0][Dd[0]+0].value&&(_s.Qb=1,_s.qb+=cu[0][Dd[0]+0].value<<8)),_s.jc=!_s.Qb&&6>ul,_s.jc){var IS,Fh=_s;for(IS=0;IS<$o;++IS){var WA=IS,KA=Fh.pd[WA],kS=Fh.G[0][Fh.H[0]+WA];256<=kS.value?(KA.g=kS.g+256,KA.value=kS.value):(KA.g=0,KA.value=0,WA>>=li(kS,8,KA),WA>>=li(Fh.G[1][Fh.H[1]+WA],16,KA),WA>>=li(Fh.G[2][Fh.H[2]+WA],0,KA),li(Fh.G[3][Fh.H[3]+WA],24,KA))}}}Eo.vc=Oi,Eo.Wb=ns,Eo.Ya=ou,Eo.yc=su,kr=1;break t}kr=0}if(!(be=kr)){ae.a=3;break e}if(0<yt){if($e.ua=1<<yt,!z($e.Wa,yt)){ae.a=1,be=0;break e}}else $e.ua=0;var Ck=ae,zH=Se,Rve=Be,Nk=Ck.s,Tk=Nk.xc;if(Ck.c=zH,Ck.i=Rve,Nk.md=Te(zH,Tk),Nk.wc=Tk==0?-1:(1<<Tk)-1,J){ae.xb=pve;break e}if((Je=s(Se*Be))==null){ae.a=1,be=0;break e}be=(be=lt(ae,Je,0,Se,Be,Be,null))&&!Pe.h;break e}return be?(me!=null?me[0]=Je:(t(Je==null),t(J)),ae.$=0,J||bt($e)):bt($e),be}function ht(D,U){var J=D.c*D.i,ae=J+U+16*U;return t(D.c<=U),D.V=s(ae),D.V==null?(D.Ta=null,D.Ua=0,D.a=1,0):(D.Ta=D.V,D.Ua=D.Ba+J+U,1)}function Vt(D,U){var J=D.C,ae=U-J,me=D.V,be=D.Ba+D.c*J;for(t(U<=D.l.o);0<ae;){var Se=16<ae?16:ae,Be=D.l.ma,Pe=D.l.width,$e=Pe*Se,Je=Be.ca,yt=Be.tb+Pe*J,Ve=D.Ta,rt=D.Ua;Ee(D,Se,me,be),gH(Ve,rt,Je,yt,$e),De(Be,J,J+Se,Je,yt,Pe),ae-=Se,me+=Se*D.c,J+=Se}t(J==U),D.C=D.Ma=U}function tr(){this.ub=this.yd=this.td=this.Rb=0}function Jt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ar(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function yr(){this.Yb=function(){var D=[];return function U(J,ae,me){for(var be=me[ae],Se=0;Se<be&&(J.push(me.length>ae+1?[]:0),!(me.length<ae+1));Se++)U(J[Se],ae+1,me)}(D,0,[3,11]),D}()}function tn(){this.jb=s(3),this.Wc=l([4,8],yr),this.Xc=l([4,17],yr)}function Nt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ln(){this.ld=this.La=this.dd=this.tc=0}function wn(){this.Na=this.la=0}function oa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function xo(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function On(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ln),this.Y=0,this.ya=Array(new xo),this.aa=0,this.l=new wa}function Jr(){this.y=s(16),this.f=s(8),this.ea=s(8)}function xn(){this.cb=this.a=0,this.sc="",this.m=new V,this.Od=new tr,this.Kc=new Jt,this.ed=new Nt,this.Qa=new ar,this.Ic=this.$c=this.Aa=0,this.D=new On,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,V),this.ia=0,this.pb=a(4,oa),this.Pa=new tn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Jr),this.Hd=0,this.rb=Array(new wn),this.sb=0,this.wa=Array(new Ln),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new xo),this.L=this.aa=0,this.gd=l([4,2],Ln),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Rn(D,U){return 0>D?0:D>U?U:D}function wa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ba(){var D=new xn;return D!=null&&(D.a=0,D.sc="OK",D.cb=0,D.Xb=0,cw||(cw=un)),D}function Pn(D,U,J){return D.a==0&&(D.a=U,D.sc=J,D.cb=0),0}function la(D,U,J){return 3<=J&&D[U+0]==157&&D[U+1]==1&&D[U+2]==42}function Mo(D,U){if(D==null)return 0;if(D.a=0,D.sc="OK",U==null)return Pn(D,2,"null VP8Io passed to VP8GetHeaders()");var J=U.data,ae=U.w,me=U.ha;if(4>me)return Pn(D,7,"Truncated header.");var be=J[ae+0]|J[ae+1]<<8|J[ae+2]<<16,Se=D.Od;if(Se.Rb=!(1&be),Se.td=be>>1&7,Se.yd=be>>4&1,Se.ub=be>>5,3<Se.td)return Pn(D,3,"Incorrect keyframe parameters.");if(!Se.yd)return Pn(D,4,"Frame not displayable.");ae+=3,me-=3;var Be=D.Kc;if(Se.Rb){if(7>me)return Pn(D,7,"cannot parse picture header");if(!la(J,ae,me))return Pn(D,3,"Bad code word");Be.c=16383&(J[ae+4]<<8|J[ae+3]),Be.Td=J[ae+4]>>6,Be.i=16383&(J[ae+6]<<8|J[ae+5]),Be.Ud=J[ae+6]>>6,ae+=7,me-=7,D.za=Be.c+15>>4,D.Ub=Be.i+15>>4,U.width=Be.c,U.height=Be.i,U.Da=0,U.j=0,U.v=0,U.va=U.width,U.o=U.height,U.da=0,U.ib=U.width,U.hb=U.height,U.U=U.width,U.T=U.height,i((be=D.Pa).jb,0,255,be.jb.length),t((be=D.Qa)!=null),be.Cb=0,be.Bb=0,be.Fb=1,i(be.Zb,0,0,be.Zb.length),i(be.Lb,0,0,be.Lb)}if(Se.ub>me)return Pn(D,7,"bad partition length");ne(be=D.m,J,ae,Se.ub),ae+=Se.ub,me-=Se.ub,Se.Rb&&(Be.Ld=ye(be),Be.Kd=ye(be)),Be=D.Qa;var Pe,$e=D.Pa;if(t(be!=null),t(Be!=null),Be.Cb=ye(be),Be.Cb){if(Be.Bb=ye(be),ye(be)){for(Be.Fb=ye(be),Pe=0;4>Pe;++Pe)Be.Zb[Pe]=ye(be)?te(be,7):0;for(Pe=0;4>Pe;++Pe)Be.Lb[Pe]=ye(be)?te(be,6):0}if(Be.Bb)for(Pe=0;3>Pe;++Pe)$e.jb[Pe]=ye(be)?le(be,8):255}else Be.Bb=0;if(be.Ka)return Pn(D,3,"cannot parse segment header");if((Be=D.ed).zd=ye(be),Be.Tb=le(be,6),Be.wb=le(be,3),Be.Pc=ye(be),Be.Pc&&ye(be)){for($e=0;4>$e;++$e)ye(be)&&(Be.vd[$e]=te(be,6));for($e=0;4>$e;++$e)ye(be)&&(Be.od[$e]=te(be,6))}if(D.L=Be.Tb==0?0:Be.zd?1:2,be.Ka)return Pn(D,3,"cannot parse filter header");var Je=me;if(me=Pe=ae,ae=Pe+Je,Be=Je,D.Xb=(1<<le(D.m,2))-1,Je<3*($e=D.Xb))J=7;else{for(Pe+=3*$e,Be-=3*$e,Je=0;Je<$e;++Je){var yt=J[me+0]|J[me+1]<<8|J[me+2]<<16;yt>Be&&(yt=Be),ne(D.Jc[+Je],J,Pe,yt),Pe+=yt,Be-=yt,me+=3}ne(D.Jc[+$e],J,Pe,Be),J=Pe<ae?0:5}if(J!=0)return Pn(D,J,"cannot parse partitions");for(J=le(Pe=D.m,7),me=ye(Pe)?te(Pe,4):0,ae=ye(Pe)?te(Pe,4):0,Be=ye(Pe)?te(Pe,4):0,$e=ye(Pe)?te(Pe,4):0,Pe=ye(Pe)?te(Pe,4):0,Je=D.Qa,yt=0;4>yt;++yt){if(Je.Cb){var Ve=Je.Zb[yt];Je.Fb||(Ve+=J)}else{if(0<yt){D.pb[yt]=D.pb[0];continue}Ve=J}var rt=D.pb[yt];rt.Sc[0]=xk[Rn(Ve+me,127)],rt.Sc[1]=vk[Rn(Ve+0,127)],rt.Eb[0]=2*xk[Rn(Ve+ae,127)],rt.Eb[1]=101581*vk[Rn(Ve+Be,127)]>>16,8>rt.Eb[1]&&(rt.Eb[1]=8),rt.Qc[0]=xk[Rn(Ve+$e,117)],rt.Qc[1]=vk[Rn(Ve+Pe,127)],rt.lc=Ve+Pe}if(!Se.Rb)return Pn(D,4,"Not a key frame.");for(ye(be),Se=D.Pa,J=0;4>J;++J){for(me=0;8>me;++me)for(ae=0;3>ae;++ae)for(Be=0;11>Be;++Be)$e=ce(be,hve[J][me][ae][Be])?le(be,8):dve[J][me][ae][Be],Se.Wc[J][me].Yb[ae][Be]=$e;for(me=0;17>me;++me)Se.Xc[J][me]=Se.Wc[J][Ave[me]]}return D.kc=ye(be),D.kc&&(D.Bd=le(be,8)),D.cb=1}function un(D,U,J,ae,me,be,Se){var Be=U[me].Yb[J];for(J=0;16>me;++me){if(!ce(D,Be[J+0]))return me;for(;!ce(D,Be[J+1]);)if(Be=U[++me].Yb[0],J=0,me==16)return 16;var Pe=U[me+1].Yb;if(ce(D,Be[J+2])){var $e=D,Je=0;if(ce($e,(Ve=Be)[(yt=J)+3]))if(ce($e,Ve[yt+6])){for(Be=0,yt=2*(Je=ce($e,Ve[yt+8]))+(Ve=ce($e,Ve[yt+9+Je])),Je=0,Ve=cve[yt];Ve[Be];++Be)Je+=Je+ce($e,Ve[Be]);Je+=3+(8<<yt)}else ce($e,Ve[yt+7])?(Je=7+2*ce($e,165),Je+=ce($e,145)):Je=5+ce($e,159);else Je=ce($e,Ve[yt+4])?3+ce($e,Ve[yt+5]):2;Be=Pe[2]}else Je=1,Be=Pe[1];Pe=Se+uve[me],0>($e=D).b&&_e($e);var yt,Ve=$e.b,rt=(yt=$e.Ca>>1)-($e.I>>Ve)>>31;--$e.b,$e.Ca+=rt,$e.Ca|=1,$e.I-=(yt+1&rt)<<Ve,be[Pe]=((Je^rt)-rt)*ae[(0<me)+0]}return 16}function Oa(D){var U=D.rb[D.sb-1];U.la=0,U.Na=0,i(D.zc,0,0,D.zc.length),D.ja=0}function ca(D,U,J,ae,me){me=D[U+J+32*ae]+(me>>3),D[U+J+32*ae]=-256&me?0>me?0:255:me}function Ci(D,U,J,ae,me,be){ca(D,U,0,J,ae+me),ca(D,U,1,J,ae+be),ca(D,U,2,J,ae-be),ca(D,U,3,J,ae-me)}function ui(D){return(20091*D>>16)+D}function ws(D,U,J,ae){var me,be=0,Se=s(16);for(me=0;4>me;++me){var Be=D[U+0]+D[U+8],Pe=D[U+0]-D[U+8],$e=(35468*D[U+4]>>16)-ui(D[U+12]),Je=ui(D[U+4])+(35468*D[U+12]>>16);Se[be+0]=Be+Je,Se[be+1]=Pe+$e,Se[be+2]=Pe-$e,Se[be+3]=Be-Je,be+=4,U++}for(me=be=0;4>me;++me)Be=(D=Se[be+0]+4)+Se[be+8],Pe=D-Se[be+8],$e=(35468*Se[be+4]>>16)-ui(Se[be+12]),ca(J,ae,0,0,Be+(Je=ui(Se[be+4])+(35468*Se[be+12]>>16))),ca(J,ae,1,0,Pe+$e),ca(J,ae,2,0,Pe-$e),ca(J,ae,3,0,Be-Je),be++,ae+=32}function ut(D,U,J,ae){var me=D[U+0]+4,be=35468*D[U+4]>>16,Se=ui(D[U+4]),Be=35468*D[U+1]>>16;Ci(J,ae,0,me+Se,D=ui(D[U+1]),Be),Ci(J,ae,1,me+be,D,Be),Ci(J,ae,2,me-be,D,Be),Ci(J,ae,3,me-Se,D,Be)}function Le(D,U,J,ae,me){ws(D,U,J,ae),me&&ws(D,U+16,J,ae+4)}function Lr(D,U,J,ae){Ye(D,U+0,J,ae,1),Ye(D,U+32,J,ae+128,1)}function hs(D,U,J,ae){var me;for(D=D[U+0]+4,me=0;4>me;++me)for(U=0;4>U;++U)ca(J,ae,U,me,D)}function Ps(D,U,J,ae){D[U+0]&&Mt(D,U+0,J,ae),D[U+16]&&Mt(D,U+16,J,ae+4),D[U+32]&&Mt(D,U+32,J,ae+128),D[U+48]&&Mt(D,U+48,J,ae+128+4)}function Uo(D,U,J,ae){var me,be=s(16);for(me=0;4>me;++me){var Se=D[U+0+me]+D[U+12+me],Be=D[U+4+me]+D[U+8+me],Pe=D[U+4+me]-D[U+8+me],$e=D[U+0+me]-D[U+12+me];be[0+me]=Se+Be,be[8+me]=Se-Be,be[4+me]=$e+Pe,be[12+me]=$e-Pe}for(me=0;4>me;++me)Se=(D=be[0+4*me]+3)+be[3+4*me],Be=be[1+4*me]+be[2+4*me],Pe=be[1+4*me]-be[2+4*me],$e=D-be[3+4*me],J[ae+0]=Se+Be>>3,J[ae+16]=$e+Pe>>3,J[ae+32]=Se-Be>>3,J[ae+48]=$e-Pe>>3,ae+=64}function al(D,U,J){var ae,me=U-32,be=iu,Se=255-D[me-1];for(ae=0;ae<J;++ae){var Be,Pe=be,$e=Se+D[U-1];for(Be=0;Be<J;++Be)D[U+Be]=Pe[$e+D[me+Be]];U+=32}}function Fs(D,U){al(D,U,4)}function en(D,U){al(D,U,8)}function Mi(D,U){al(D,U,16)}function ru(D,U){var J;for(J=0;16>J;++J)n(D,U+32*J,D,U-32,16)}function tc(D,U){var J;for(J=16;0<J;--J)i(D,U,D[U-1],16),U+=32}function vo(D,U,J){var ae;for(ae=0;16>ae;++ae)i(U,J+32*ae,D,16)}function Qu(D,U){var J,ae=16;for(J=0;16>J;++J)ae+=D[U-1+32*J]+D[U+J-32];vo(ae>>5,D,U)}function El(D,U){var J,ae=8;for(J=0;16>J;++J)ae+=D[U-1+32*J];vo(ae>>4,D,U)}function Ho(D,U){var J,ae=8;for(J=0;16>J;++J)ae+=D[U+J-32];vo(ae>>4,D,U)}function bs(D,U){vo(128,D,U)}function an(D,U,J){return D+2*U+J+2>>2}function yo(D,U){var J,ae=U-32;for(ae=new Uint8Array([an(D[ae-1],D[ae+0],D[ae+1]),an(D[ae+0],D[ae+1],D[ae+2]),an(D[ae+1],D[ae+2],D[ae+3]),an(D[ae+2],D[ae+3],D[ae+4])]),J=0;4>J;++J)n(D,U+32*J,ae,0,ae.length)}function rn(D,U){var J=D[U-1],ae=D[U-1+32],me=D[U-1+64],be=D[U-1+96];Ne(D,U+0,16843009*an(D[U-1-32],J,ae)),Ne(D,U+32,16843009*an(J,ae,me)),Ne(D,U+64,16843009*an(ae,me,be)),Ne(D,U+96,16843009*an(me,be,be))}function Bc(D,U){var J,ae=4;for(J=0;4>J;++J)ae+=D[U+J-32]+D[U-1+32*J];for(ae>>=3,J=0;4>J;++J)i(D,U+32*J,ae,4)}function on(D,U){var J=D[U-1+0],ae=D[U-1+32],me=D[U-1+64],be=D[U-1-32],Se=D[U+0-32],Be=D[U+1-32],Pe=D[U+2-32],$e=D[U+3-32];D[U+0+96]=an(ae,me,D[U-1+96]),D[U+1+96]=D[U+0+64]=an(J,ae,me),D[U+2+96]=D[U+1+64]=D[U+0+32]=an(be,J,ae),D[U+3+96]=D[U+2+64]=D[U+1+32]=D[U+0+0]=an(Se,be,J),D[U+3+64]=D[U+2+32]=D[U+1+0]=an(Be,Se,be),D[U+3+32]=D[U+2+0]=an(Pe,Be,Se),D[U+3+0]=an($e,Pe,Be)}function ki(D,U){var J=D[U+1-32],ae=D[U+2-32],me=D[U+3-32],be=D[U+4-32],Se=D[U+5-32],Be=D[U+6-32],Pe=D[U+7-32];D[U+0+0]=an(D[U+0-32],J,ae),D[U+1+0]=D[U+0+32]=an(J,ae,me),D[U+2+0]=D[U+1+32]=D[U+0+64]=an(ae,me,be),D[U+3+0]=D[U+2+32]=D[U+1+64]=D[U+0+96]=an(me,be,Se),D[U+3+32]=D[U+2+64]=D[U+1+96]=an(be,Se,Be),D[U+3+64]=D[U+2+96]=an(Se,Be,Pe),D[U+3+96]=an(Be,Pe,Pe)}function he(D,U){var J=D[U-1+0],ae=D[U-1+32],me=D[U-1+64],be=D[U-1-32],Se=D[U+0-32],Be=D[U+1-32],Pe=D[U+2-32],$e=D[U+3-32];D[U+0+0]=D[U+1+64]=be+Se+1>>1,D[U+1+0]=D[U+2+64]=Se+Be+1>>1,D[U+2+0]=D[U+3+64]=Be+Pe+1>>1,D[U+3+0]=Pe+$e+1>>1,D[U+0+96]=an(me,ae,J),D[U+0+64]=an(ae,J,be),D[U+0+32]=D[U+1+96]=an(J,be,Se),D[U+1+32]=D[U+2+96]=an(be,Se,Be),D[U+2+32]=D[U+3+96]=an(Se,Be,Pe),D[U+3+32]=an(Be,Pe,$e)}function Ge(D,U){var J=D[U+0-32],ae=D[U+1-32],me=D[U+2-32],be=D[U+3-32],Se=D[U+4-32],Be=D[U+5-32],Pe=D[U+6-32],$e=D[U+7-32];D[U+0+0]=J+ae+1>>1,D[U+1+0]=D[U+0+64]=ae+me+1>>1,D[U+2+0]=D[U+1+64]=me+be+1>>1,D[U+3+0]=D[U+2+64]=be+Se+1>>1,D[U+0+32]=an(J,ae,me),D[U+1+32]=D[U+0+96]=an(ae,me,be),D[U+2+32]=D[U+1+96]=an(me,be,Se),D[U+3+32]=D[U+2+96]=an(be,Se,Be),D[U+3+64]=an(Se,Be,Pe),D[U+3+96]=an(Be,Pe,$e)}function st(D,U){var J=D[U-1+0],ae=D[U-1+32],me=D[U-1+64],be=D[U-1+96];D[U+0+0]=J+ae+1>>1,D[U+2+0]=D[U+0+32]=ae+me+1>>1,D[U+2+32]=D[U+0+64]=me+be+1>>1,D[U+1+0]=an(J,ae,me),D[U+3+0]=D[U+1+32]=an(ae,me,be),D[U+3+32]=D[U+1+64]=an(me,be,be),D[U+3+64]=D[U+2+64]=D[U+0+96]=D[U+1+96]=D[U+2+96]=D[U+3+96]=be}function pt(D,U){var J=D[U-1+0],ae=D[U-1+32],me=D[U-1+64],be=D[U-1+96],Se=D[U-1-32],Be=D[U+0-32],Pe=D[U+1-32],$e=D[U+2-32];D[U+0+0]=D[U+2+32]=J+Se+1>>1,D[U+0+32]=D[U+2+64]=ae+J+1>>1,D[U+0+64]=D[U+2+96]=me+ae+1>>1,D[U+0+96]=be+me+1>>1,D[U+3+0]=an(Be,Pe,$e),D[U+2+0]=an(Se,Be,Pe),D[U+1+0]=D[U+3+32]=an(J,Se,Be),D[U+1+32]=D[U+3+64]=an(ae,J,Se),D[U+1+64]=D[U+3+96]=an(me,ae,J),D[U+1+96]=an(be,me,ae)}function fr(D,U){var J;for(J=0;8>J;++J)n(D,U+32*J,D,U-32,8)}function ur(D,U){var J;for(J=0;8>J;++J)i(D,U,D[U-1],8),U+=32}function dr(D,U,J){var ae;for(ae=0;8>ae;++ae)i(U,J+32*ae,D,8)}function lr(D,U){var J,ae=8;for(J=0;8>J;++J)ae+=D[U+J-32]+D[U-1+32*J];dr(ae>>4,D,U)}function Wr(D,U){var J,ae=4;for(J=0;8>J;++J)ae+=D[U+J-32];dr(ae>>3,D,U)}function vn(D,U){var J,ae=4;for(J=0;8>J;++J)ae+=D[U-1+32*J];dr(ae>>3,D,U)}function Hn(D,U){dr(128,D,U)}function wr(D,U,J){var ae=D[U-J],me=D[U+0],be=3*(me-ae)+hk[1020+D[U-2*J]-D[U+J]],Se=gS[112+(be+4>>3)];D[U-J]=iu[255+ae+gS[112+(be+3>>3)]],D[U+0]=iu[255+me-Se]}function ji(D,U,J,ae){var me=D[U+0],be=D[U+J];return $u[255+D[U-2*J]-D[U-J]]>ae||$u[255+be-me]>ae}function Ni(D,U,J,ae){return 4*$u[255+D[U-J]-D[U+0]]+$u[255+D[U-2*J]-D[U+J]]<=ae}function $n(D,U,J,ae,me){var be=D[U-3*J],Se=D[U-2*J],Be=D[U-J],Pe=D[U+0],$e=D[U+J],Je=D[U+2*J],yt=D[U+3*J];return 4*$u[255+Be-Pe]+$u[255+Se-$e]>ae?0:$u[255+D[U-4*J]-be]<=me&&$u[255+be-Se]<=me&&$u[255+Se-Be]<=me&&$u[255+yt-Je]<=me&&$u[255+Je-$e]<=me&&$u[255+$e-Pe]<=me}function Pi(D,U,J,ae){var me=2*ae+1;for(ae=0;16>ae;++ae)Ni(D,U+ae,J,me)&&wr(D,U+ae,J)}function ti(D,U,J,ae){var me=2*ae+1;for(ae=0;16>ae;++ae)Ni(D,U+ae*J,1,me)&&wr(D,U+ae*J,1)}function qs(D,U,J,ae){var me;for(me=3;0<me;--me)Pi(D,U+=4*J,J,ae)}function yn(D,U,J,ae){var me;for(me=3;0<me;--me)ti(D,U+=4,J,ae)}function Wi(D,U,J,ae,me,be,Se,Be){for(be=2*be+1;0<me--;){if($n(D,U,J,be,Se))if(ji(D,U,J,Be))wr(D,U,J);else{var Pe=D,$e=U,Je=J,yt=Pe[$e-2*Je],Ve=Pe[$e-Je],rt=Pe[$e+0],ft=Pe[$e+Je],Ot=Pe[$e+2*Je],vt=27*(Qt=hk[1020+3*(rt-Ve)+hk[1020+yt-ft]])+63>>7,Rt=18*Qt+63>>7,Qt=9*Qt+63>>7;Pe[$e-3*Je]=iu[255+Pe[$e-3*Je]+Qt],Pe[$e-2*Je]=iu[255+yt+Rt],Pe[$e-Je]=iu[255+Ve+vt],Pe[$e+0]=iu[255+rt-vt],Pe[$e+Je]=iu[255+ft-Rt],Pe[$e+2*Je]=iu[255+Ot-Qt]}U+=ae}}function Ui(D,U,J,ae,me,be,Se,Be){for(be=2*be+1;0<me--;){if($n(D,U,J,be,Se))if(ji(D,U,J,Be))wr(D,U,J);else{var Pe=D,$e=U,Je=J,yt=Pe[$e-Je],Ve=Pe[$e+0],rt=Pe[$e+Je],ft=gS[112+(4+(Ot=3*(Ve-yt))>>3)],Ot=gS[112+(Ot+3>>3)],vt=ft+1>>1;Pe[$e-2*Je]=iu[255+Pe[$e-2*Je]+vt],Pe[$e-Je]=iu[255+yt+Ot],Pe[$e+0]=iu[255+Ve-ft],Pe[$e+Je]=iu[255+rt-vt]}U+=ae}}function Os(D,U,J,ae,me,be){Wi(D,U,J,1,16,ae,me,be)}function Da(D,U,J,ae,me,be){Wi(D,U,1,J,16,ae,me,be)}function dt(D,U,J,ae,me,be){var Se;for(Se=3;0<Se;--Se)Ui(D,U+=4*J,J,1,16,ae,me,be)}function G(D,U,J,ae,me,be){var Se;for(Se=3;0<Se;--Se)Ui(D,U+=4,1,J,16,ae,me,be)}function fe(D,U,J,ae,me,be,Se,Be){Wi(D,U,me,1,8,be,Se,Be),Wi(J,ae,me,1,8,be,Se,Be)}function Oe(D,U,J,ae,me,be,Se,Be){Wi(D,U,1,me,8,be,Se,Be),Wi(J,ae,1,me,8,be,Se,Be)}function qe(D,U,J,ae,me,be,Se,Be){Ui(D,U+4*me,me,1,8,be,Se,Be),Ui(J,ae+4*me,me,1,8,be,Se,Be)}function nt(D,U,J,ae,me,be,Se,Be){Ui(D,U+4,1,me,8,be,Se,Be),Ui(J,ae+4,1,me,8,be,Se,Be)}function Pt(){this.ba=new mr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new sr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Xt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Rr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function _r(){this.ua=0,this.Wa=new He,this.vb=new He,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Y,this.yc=new H}function dn(){this.xb=this.a=0,this.l=new wa,this.ca=new mr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new _r,this.ab=0,this.gc=a(4,Rr),this.Oc=0}function Ir(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new wa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function It(D,U,J,ae,me,be,Se){for(D=D==null?0:D[U+0],U=0;U<Se;++U)me[be+U]=D+J[ae+U]&255,D=me[be+U]}function cr(D,U,J,ae,me,be,Se){var Be;if(D==null)It(null,null,J,ae,me,be,Se);else for(Be=0;Be<Se;++Be)me[be+Be]=D[U+Be]+J[ae+Be]&255}function Dt(D,U,J,ae,me,be,Se){if(D==null)It(null,null,J,ae,me,be,Se);else{var Be,Pe=D[U+0],$e=Pe,Je=Pe;for(Be=0;Be<Se;++Be)$e=Je+(Pe=D[U+Be])-$e,Je=J[ae+Be]+(-256&$e?0>$e?0:255:$e)&255,$e=Pe,me[be+Be]=Je}}function F(D,U,J,ae){var me=U.width,be=U.o;if(t(D!=null&&U!=null),0>J||0>=ae||J+ae>be)return null;if(!D.Cc){if(D.ga==null){var Se;if(D.ga=new Ir,(Se=D.ga==null)||(Se=U.width*U.o,t(D.Gb.length==0),D.Gb=s(Se),D.Uc=0,D.Gb==null?Se=0:(D.mb=D.Gb,D.nb=D.Uc,D.rc=null,Se=1),Se=!Se),!Se){Se=D.ga;var Be=D.Fa,Pe=D.P,$e=D.qc,Je=D.mb,yt=D.nb,Ve=Pe+1,rt=$e-1,ft=Se.l;if(t(Be!=null&&Je!=null&&U!=null),VA[0]=null,VA[1]=It,VA[2]=cr,VA[3]=Dt,Se.ca=Je,Se.tb=yt,Se.c=U.width,Se.i=U.height,t(0<Se.c&&0<Se.i),1>=$e)U=0;else if(Se.$a=3&Be[Pe+0],Se.Z=Be[Pe+0]>>2&3,Se.Lc=Be[Pe+0]>>4&3,Pe=Be[Pe+0]>>6&3,0>Se.$a||1<Se.$a||4<=Se.Z||1<Se.Lc||Pe)U=0;else if(ft.put=Fr,ft.ac=Un,ft.bc=Zn,ft.ma=Se,ft.width=U.width,ft.height=U.height,ft.Da=U.Da,ft.v=U.v,ft.va=U.va,ft.j=U.j,ft.o=U.o,Se.$a)e:{t(Se.$a==1),U=it();t:for(;;){if(U==null){U=0;break e}if(t(Se!=null),Se.mc=U,U.c=Se.c,U.i=Se.i,U.l=Se.l,U.l.ma=Se,U.l.width=Se.c,U.l.height=Se.i,U.a=0,X(U.m,Be,Ve,rt),!ct(Se.c,Se.i,1,U,null)||(U.ab==1&&U.gc[0].hc==3&&je(U.s)?(Se.ic=1,Be=U.c*U.i,U.Ta=null,U.Ua=0,U.V=s(Be),U.Ba=0,U.V==null?(U.a=1,U=0):U=1):(Se.ic=0,U=ht(U,Se.c)),!U))break t;U=1;break e}Se.mc=null,U=0}else U=rt>=Se.c*Se.i;Se=!U}if(Se)return null;D.ga.Lc!=1?D.Ga=0:ae=be-J}t(D.ga!=null),t(J+ae<=be);e:{if(U=(Be=D.ga).c,be=Be.l.o,Be.$a==0){if(Ve=D.rc,rt=D.Vc,ft=D.Fa,Pe=D.P+1+J*U,$e=D.mb,Je=D.nb+J*U,t(Pe<=D.P+D.qc),Be.Z!=0)for(t(VA[Be.Z]!=null),Se=0;Se<ae;++Se)VA[Be.Z](Ve,rt,ft,Pe,$e,Je,U),Ve=$e,rt=Je,Je+=U,Pe+=U;else for(Se=0;Se<ae;++Se)n($e,Je,ft,Pe,U),Ve=$e,rt=Je,Je+=U,Pe+=U;D.rc=Ve,D.Vc=rt}else{if(t(Be.mc!=null),U=J+ae,t((Se=Be.mc)!=null),t(U<=Se.i),Se.C>=U)U=1;else if(Be.ic||At(),Be.ic){Be=Se.V,Ve=Se.Ba,rt=Se.c;var Ot=Se.i,vt=(ft=1,Pe=Se.$/rt,$e=Se.$%rt,Je=Se.m,yt=Se.s,Se.$),Rt=rt*Ot,Qt=rt*U,Ar=yt.wc,ir=vt<Qt?xe(yt,$e,Pe):null;t(vt<=Rt),t(U<=Ot),t(je(yt));t:for(;;){for(;!Je.h&&vt<Qt;){if($e&Ar||(ir=xe(yt,$e,Pe)),t(ir!=null),Ae(Je),256>(Ot=jn(ir.G[0],ir.H[0],Je)))Be[Ve+vt]=Ot,++vt,++$e>=rt&&($e=0,++Pe<=U&&!(Pe%16)&&Ue(Se,Pe));else{if(!(280>Ot)){ft=0;break t}Ot=Jn(Ot-256,Je);var ln,Kr=jn(ir.G[4],ir.H[4],Je);if(Ae(Je),!(vt>=(Kr=bi(rt,Kr=Jn(Kr,Je)))&&Rt-vt>=Ot)){ft=0;break t}for(ln=0;ln<Ot;++ln)Be[Ve+vt+ln]=Be[Ve+vt+ln-Kr];for(vt+=Ot,$e+=Ot;$e>=rt;)$e-=rt,++Pe<=U&&!(Pe%16)&&Ue(Se,Pe);vt<Qt&&$e&Ar&&(ir=xe(yt,$e,Pe))}t(Je.h==re(Je))}Ue(Se,Pe>U?U:Pe);break t}!ft||Je.h&&vt<Rt?(ft=0,Se.a=Je.h?5:3):Se.$=vt,U=ft}else U=lt(Se,Se.V,Se.Ba,Se.c,Se.i,U,Vt);if(!U){ae=0;break e}}J+ae>=be&&(D.Cc=1),ae=1}if(!ae)return null;if(D.Cc&&((ae=D.ga)!=null&&(ae.mc=null),D.ga=null,0<D.Ga))return alert("todo:WebPDequantizeLevels"),null}return D.nb+J*me}function Z(D,U,J,ae,me,be){for(;0<me--;){var Se,Be=D,Pe=U+(J?1:0),$e=D,Je=U+(J?0:3);for(Se=0;Se<ae;++Se){var yt=$e[Je+4*Se];yt!=255&&(yt*=32897,Be[Pe+4*Se+0]=Be[Pe+4*Se+0]*yt>>23,Be[Pe+4*Se+1]=Be[Pe+4*Se+1]*yt>>23,Be[Pe+4*Se+2]=Be[Pe+4*Se+2]*yt>>23)}U+=be}}function ie(D,U,J,ae,me){for(;0<ae--;){var be;for(be=0;be<J;++be){var Se=D[U+2*be+0],Be=15&($e=D[U+2*be+1]),Pe=4369*Be,$e=(240&$e|$e>>4)*Pe>>16;D[U+2*be+0]=(240&Se|Se>>4)*Pe>>16&240|(15&Se|Se<<4)*Pe>>16>>4&15,D[U+2*be+1]=240&$e|Be}U+=me}}function Ce(D,U,J,ae,me,be,Se,Be){var Pe,$e,Je=255;for($e=0;$e<me;++$e){for(Pe=0;Pe<ae;++Pe){var yt=D[U+Pe];be[Se+4*Pe]=yt,Je&=yt}U+=J,Se+=Be}return Je!=255}function tt(D,U,J,ae,me){var be;for(be=0;be<me;++be)J[ae+be]=D[U+be]>>8}function At(){ng=Z,AH=ie,pH=Ce,gH=tt}function rr(D,U,J){k[D]=function(ae,me,be,Se,Be,Pe,$e,Je,yt,Ve,rt,ft,Ot,vt,Rt,Qt,Ar){var ir,ln=Ar-1>>1,Kr=Be[Pe+0]|$e[Je+0]<<16,ri=yt[Ve+0]|rt[ft+0]<<16;t(ae!=null);var nn=3*Kr+ri+131074>>2;for(U(ae[me+0],255&nn,nn>>16,Ot,vt),be!=null&&(nn=3*ri+Kr+131074>>2,U(be[Se+0],255&nn,nn>>16,Rt,Qt)),ir=1;ir<=ln;++ir){var _i=Be[Pe+ir]|$e[Je+ir]<<16,_o=yt[Ve+ir]|rt[ft+ir]<<16,ni=Kr+_i+ri+_o+524296,sn=ni+2*(_i+ri)>>3;nn=sn+Kr>>1,Kr=(ni=ni+2*(Kr+_o)>>3)+_i>>1,U(ae[me+2*ir-1],255&nn,nn>>16,Ot,vt+(2*ir-1)*J),U(ae[me+2*ir-0],255&Kr,Kr>>16,Ot,vt+(2*ir-0)*J),be!=null&&(nn=ni+ri>>1,Kr=sn+_o>>1,U(be[Se+2*ir-1],255&nn,nn>>16,Rt,Qt+(2*ir-1)*J),U(be[Se+2*ir+0],255&Kr,Kr>>16,Rt,Qt+(2*ir+0)*J)),Kr=_i,ri=_o}1&Ar||(nn=3*Kr+ri+131074>>2,U(ae[me+Ar-1],255&nn,nn>>16,Ot,vt+(Ar-1)*J),be!=null&&(nn=3*ri+Kr+131074>>2,U(be[Se+Ar-1],255&nn,nn>>16,Rt,Qt+(Ar-1)*J)))}}function bn(){Vu[mS]=gve,Vu[xS]=NH,Vu[bH]=mve,Vu[vS]=TH,Vu[yS]=BH,Vu[Ak]=IH,Vu[_H]=xve,Vu[pk]=NH,Vu[gk]=TH,Vu[wS]=BH,Vu[mk]=IH}function ts(D){return D&~vve?0>D?0:255:D>>kH}function ci(D,U){return ts((19077*D>>8)+(26149*U>>8)-14234)}function rs(D,U,J){return ts((19077*D>>8)-(6419*U>>8)-(13320*J>>8)+8708)}function La(D,U){return ts((19077*D>>8)+(33050*U>>8)-17685)}function Qo(D,U,J,ae,me){ae[me+0]=ci(D,J),ae[me+1]=rs(D,U,J),ae[me+2]=La(D,U)}function Fi(D,U,J,ae,me){ae[me+0]=La(D,U),ae[me+1]=rs(D,U,J),ae[me+2]=ci(D,J)}function Ja(D,U,J,ae,me){var be=rs(D,U,J);U=be<<3&224|La(D,U)>>3,ae[me+0]=248&ci(D,J)|be>>5,ae[me+1]=U}function Ic(D,U,J,ae,me){var be=240&La(D,U)|15;ae[me+0]=240&ci(D,J)|rs(D,U,J)>>4,ae[me+1]=be}function rc(D,U,J,ae,me){ae[me+0]=255,Qo(D,U,J,ae,me+1)}function eg(D,U,J,ae,me){Fi(D,U,J,ae,me),ae[me+3]=255}function Xs(D,U,J,ae,me){Qo(D,U,J,ae,me),ae[me+3]=255}function kc(D,U,J){k[D]=function(ae,me,be,Se,Be,Pe,$e,Je,yt){for(var Ve=Je+(-2&yt)*J;Je!=Ve;)U(ae[me+0],be[Se+0],Be[Pe+0],$e,Je),U(ae[me+1],be[Se+0],Be[Pe+0],$e,Je+J),me+=2,++Se,++Pe,Je+=2*J;1&yt&&U(ae[me+0],be[Se+0],Be[Pe+0],$e,Je)}}function wo(D,U,J){return J==0?D==0?U==0?6:5:U==0?4:0:J}function tg(D,U,J,ae,me){switch(D>>>30){case 3:Ye(U,J,ae,me,0);break;case 2:ot(U,J,ae,me);break;case 1:Mt(U,J,ae,me)}}function ua(D,U){var J,ae,me=U.M,be=U.Nb,Se=D.oc,Be=D.pc+40,Pe=D.oc,$e=D.pc+584,Je=D.oc,yt=D.pc+600;for(J=0;16>J;++J)Se[Be+32*J-1]=129;for(J=0;8>J;++J)Pe[$e+32*J-1]=129,Je[yt+32*J-1]=129;for(0<me?Se[Be-1-32]=Pe[$e-1-32]=Je[yt-1-32]=129:(i(Se,Be-32-1,127,21),i(Pe,$e-32-1,127,9),i(Je,yt-32-1,127,9)),ae=0;ae<D.za;++ae){var Ve=U.ya[U.aa+ae];if(0<ae){for(J=-1;16>J;++J)n(Se,Be+32*J-4,Se,Be+32*J+12,4);for(J=-1;8>J;++J)n(Pe,$e+32*J-4,Pe,$e+32*J+4,4),n(Je,yt+32*J-4,Je,yt+32*J+4,4)}var rt=D.Gd,ft=D.Hd+ae,Ot=Ve.ad,vt=Ve.Hc;if(0<me&&(n(Se,Be-32,rt[ft].y,0,16),n(Pe,$e-32,rt[ft].f,0,8),n(Je,yt-32,rt[ft].ea,0,8)),Ve.Za){var Rt=Se,Qt=Be-32+16;for(0<me&&(ae>=D.za-1?i(Rt,Qt,rt[ft].y[15],4):n(Rt,Qt,rt[ft+1].y,0,4)),J=0;4>J;J++)Rt[Qt+128+J]=Rt[Qt+256+J]=Rt[Qt+384+J]=Rt[Qt+0+J];for(J=0;16>J;++J,vt<<=2)Rt=Se,Qt=Be+PH[J],Fd[Ve.Ob[J]](Rt,Qt),tg(vt,Ot,16*+J,Rt,Qt)}else if(Rt=wo(ae,me,Ve.Ob[0]),$A[Rt](Se,Be),vt!=0)for(J=0;16>J;++J,vt<<=2)tg(vt,Ot,16*+J,Se,Be+PH[J]);for(J=Ve.Gc,Rt=wo(ae,me,Ve.Dd),jh[Rt](Pe,$e),jh[Rt](Je,yt),vt=Ot,Rt=Pe,Qt=$e,255&(Ve=0|J)&&(170&Ve?wt(vt,256,Rt,Qt):zt(vt,256,Rt,Qt)),Ve=Je,vt=yt,255&(J>>=8)&&(170&J?wt(Ot,320,Ve,vt):zt(Ot,320,Ve,vt)),me<D.Ub-1&&(n(rt[ft].y,0,Se,Be+480,16),n(rt[ft].f,0,Pe,$e+224,8),n(rt[ft].ea,0,Je,yt+224,8)),J=8*be*D.B,rt=D.sa,ft=D.ta+16*ae+16*be*D.R,Ot=D.qa,Ve=D.ra+8*ae+J,vt=D.Ha,Rt=D.Ia+8*ae+J,J=0;16>J;++J)n(rt,ft+J*D.R,Se,Be+32*J,16);for(J=0;8>J;++J)n(Ot,Ve+J*D.B,Pe,$e+32*J,8),n(vt,Rt+J*D.B,Je,yt+32*J,8)}}function Th(D,U,J,ae,me,be,Se,Be,Pe){var $e=[0],Je=[0],yt=0,Ve=Pe!=null?Pe.kd:0,rt=Pe??new Xt;if(D==null||12>J)return 7;rt.data=D,rt.w=U,rt.ha=J,U=[U],J=[J],rt.gb=[rt.gb];e:{var ft=U,Ot=J,vt=rt.gb;if(t(D!=null),t(Ot!=null),t(vt!=null),vt[0]=0,12<=Ot[0]&&!r(D,ft[0],"RIFF")){if(r(D,ft[0]+8,"WEBP")){vt=3;break e}var Rt=Re(D,ft[0]+4);if(12>Rt||4294967286<Rt){vt=3;break e}if(Ve&&Rt>Ot[0]-8){vt=7;break e}vt[0]=Rt,ft[0]+=12,Ot[0]-=12}vt=0}if(vt!=0)return vt;for(Rt=0<rt.gb[0],J=J[0];;){e:{var Qt=D;Ot=U,vt=J;var Ar=$e,ir=Je,ln=ft=[0];if((nn=yt=[yt])[0]=0,8>vt[0])vt=7;else{if(!r(Qt,Ot[0],"VP8X")){if(Re(Qt,Ot[0]+4)!=10){vt=3;break e}if(18>vt[0]){vt=7;break e}var Kr=Re(Qt,Ot[0]+8),ri=1+We(Qt,Ot[0]+12);if(2147483648<=ri*(Qt=1+We(Qt,Ot[0]+15))){vt=3;break e}ln!=null&&(ln[0]=Kr),Ar!=null&&(Ar[0]=ri),ir!=null&&(ir[0]=Qt),Ot[0]+=18,vt[0]-=18,nn[0]=1}vt=0}}if(yt=yt[0],ft=ft[0],vt!=0)return vt;if(Ot=!!(2&ft),!Rt&&yt)return 3;if(be!=null&&(be[0]=!!(16&ft)),Se!=null&&(Se[0]=Ot),Be!=null&&(Be[0]=0),Se=$e[0],ft=Je[0],yt&&Ot&&Pe==null){vt=0;break}if(4>J){vt=7;break}if(Rt&&yt||!Rt&&!yt&&!r(D,U[0],"ALPH")){J=[J],rt.na=[rt.na],rt.P=[rt.P],rt.Sa=[rt.Sa];e:{Kr=D,vt=U,Rt=J;var nn=rt.gb;Ar=rt.na,ir=rt.P,ln=rt.Sa,ri=22,t(Kr!=null),t(Rt!=null),Qt=vt[0];var _i=Rt[0];for(t(Ar!=null),t(ln!=null),Ar[0]=null,ir[0]=null,ln[0]=0;;){if(vt[0]=Qt,Rt[0]=_i,8>_i){vt=7;break e}var _o=Re(Kr,Qt+4);if(4294967286<_o){vt=3;break e}var ni=8+_o+1&-2;if(ri+=ni,0<nn&&ri>nn){vt=3;break e}if(!r(Kr,Qt,"VP8 ")||!r(Kr,Qt,"VP8L")){vt=0;break e}if(_i[0]<ni){vt=7;break e}r(Kr,Qt,"ALPH")||(Ar[0]=Kr,ir[0]=Qt+8,ln[0]=_o),Qt+=ni,_i-=ni}}if(J=J[0],rt.na=rt.na[0],rt.P=rt.P[0],rt.Sa=rt.Sa[0],vt!=0)break}J=[J],rt.Ja=[rt.Ja],rt.xa=[rt.xa];e:if(nn=D,vt=U,Rt=J,Ar=rt.gb[0],ir=rt.Ja,ln=rt.xa,Kr=vt[0],Qt=!r(nn,Kr,"VP8 "),ri=!r(nn,Kr,"VP8L"),t(nn!=null),t(Rt!=null),t(ir!=null),t(ln!=null),8>Rt[0])vt=7;else{if(Qt||ri){if(nn=Re(nn,Kr+4),12<=Ar&&nn>Ar-12){vt=3;break e}if(Ve&&nn>Rt[0]-8){vt=7;break e}ir[0]=nn,vt[0]+=8,Rt[0]-=8,ln[0]=ri}else ln[0]=5<=Rt[0]&&nn[Kr+0]==47&&!(nn[Kr+4]>>5),ir[0]=Rt[0];vt=0}if(J=J[0],rt.Ja=rt.Ja[0],rt.xa=rt.xa[0],U=U[0],vt!=0)break;if(4294967286<rt.Ja)return 3;if(Be==null||Ot||(Be[0]=rt.xa?2:1),Se=[Se],ft=[ft],rt.xa){if(5>J){vt=7;break}Be=Se,Ve=ft,Ot=be,D==null||5>J?D=0:5<=J&&D[U+0]==47&&!(D[U+4]>>5)?(Rt=[0],nn=[0],Ar=[0],X(ir=new q,D,U,J),Mr(ir,Rt,nn,Ar)?(Be!=null&&(Be[0]=Rt[0]),Ve!=null&&(Ve[0]=nn[0]),Ot!=null&&(Ot[0]=Ar[0]),D=1):D=0):D=0}else{if(10>J){vt=7;break}Be=ft,D==null||10>J||!la(D,U+3,J-3)?D=0:(Ve=D[U+0]|D[U+1]<<8|D[U+2]<<16,Ot=16383&(D[U+7]<<8|D[U+6]),D=16383&(D[U+9]<<8|D[U+8]),1&Ve||3<(Ve>>1&7)||!(Ve>>4&1)||Ve>>5>=rt.Ja||!Ot||!D?D=0:(Se&&(Se[0]=Ot),Be&&(Be[0]=D),D=1))}if(!D||(Se=Se[0],ft=ft[0],yt&&($e[0]!=Se||Je[0]!=ft)))return 3;Pe!=null&&(Pe[0]=rt,Pe.offset=U-Pe.w,t(4294967286>U-Pe.w),t(Pe.offset==Pe.ha-J));break}return vt==0||vt==7&&yt&&Pe==null?(be!=null&&(be[0]|=rt.na!=null&&0<rt.na.length),ae!=null&&(ae[0]=Se),me!=null&&(me[0]=ft),0):vt}function Bh(D,U,J){var ae=U.width,me=U.height,be=0,Se=0,Be=ae,Pe=me;if(U.Da=D!=null&&0<D.Da,U.Da&&(Be=D.cd,Pe=D.bd,be=D.v,Se=D.j,11>J||(be&=-2,Se&=-2),0>be||0>Se||0>=Be||0>=Pe||be+Be>ae||Se+Pe>me))return 0;if(U.v=be,U.j=Se,U.va=be+Be,U.o=Se+Pe,U.U=Be,U.T=Pe,U.da=D!=null&&0<D.da,U.da){if(!ke(Be,Pe,J=[D.ib],be=[D.hb]))return 0;U.ib=J[0],U.hb=be[0]}return U.ob=D!=null&&D.ob,U.Kb=D==null||!D.Sd,U.da&&(U.ob=U.ib<3*ae/4&&U.hb<3*me/4,U.Kb=0),1}function rg(D){if(D==null)return 2;if(11>D.S){var U=D.f.RGBA;U.fb+=(D.height-1)*U.A,U.A=-U.A}else U=D.f.kb,D=D.height,U.O+=(D-1)*U.fa,U.fa=-U.fa,U.N+=(D-1>>1)*U.Ab,U.Ab=-U.Ab,U.W+=(D-1>>1)*U.Db,U.Db=-U.Db,U.F!=null&&(U.J+=(D-1)*U.lb,U.lb=-U.lb);return 0}function Pd(D,U,J,ae){if(ae==null||0>=D||0>=U)return 2;if(J!=null){if(J.Da){var me=J.cd,be=J.bd,Se=-2&J.v,Be=-2&J.j;if(0>Se||0>Be||0>=me||0>=be||Se+me>D||Be+be>U)return 2;D=me,U=be}if(J.da){if(!ke(D,U,me=[J.ib],be=[J.hb]))return 2;D=me[0],U=be[0]}}ae.width=D,ae.height=U;e:{var Pe=ae.width,$e=ae.height;if(D=ae.S,0>=Pe||0>=$e||!(D>=mS&&13>D))D=2;else{if(0>=ae.Rd&&ae.sd==null){Se=be=me=U=0;var Je=(Be=Pe*FH[D])*$e;if(11>D||(be=($e+1)/2*(U=(Pe+1)/2),D==12&&(Se=(me=Pe)*$e)),($e=s(Je+2*be+Se))==null){D=1;break e}ae.sd=$e,11>D?((Pe=ae.f.RGBA).eb=$e,Pe.fb=0,Pe.A=Be,Pe.size=Je):((Pe=ae.f.kb).y=$e,Pe.O=0,Pe.fa=Be,Pe.Fd=Je,Pe.f=$e,Pe.N=0+Je,Pe.Ab=U,Pe.Cd=be,Pe.ea=$e,Pe.W=0+Je+be,Pe.Db=U,Pe.Ed=be,D==12&&(Pe.F=$e,Pe.J=0+Je+2*be),Pe.Tc=Se,Pe.lb=me)}if(U=1,me=ae.S,be=ae.width,Se=ae.height,me>=mS&&13>me)if(11>me)D=ae.f.RGBA,U&=(Be=Math.abs(D.A))*(Se-1)+be<=D.size,U&=Be>=be*FH[me],U&=D.eb!=null;else{D=ae.f.kb,Be=(be+1)/2,Je=(Se+1)/2,Pe=Math.abs(D.fa),$e=Math.abs(D.Ab);var yt=Math.abs(D.Db),Ve=Math.abs(D.lb),rt=Ve*(Se-1)+be;U&=Pe*(Se-1)+be<=D.Fd,U&=$e*(Je-1)+Be<=D.Cd,U=(U&=yt*(Je-1)+Be<=D.Ed)&Pe>=be&$e>=Be&yt>=Be,U&=D.y!=null,U&=D.f!=null,U&=D.ea!=null,me==12&&(U&=Ve>=be,U&=rt<=D.Tc,U&=D.F!=null)}else U=0;D=U?0:2}}return D!=0||J!=null&&J.fd&&(D=rg(ae)),D}var $o=64,nc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ol=24,jc=32,Gn=8,nu=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ze("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(D){return D},k.Predictor2=function(D,U,J){return U[J+0]},k.Predictor3=function(D,U,J){return U[J+1]},k.Predictor4=function(D,U,J){return U[J-1]},k.Predictor5=function(D,U,J){return Bt(Bt(D,U[J+1]),U[J+0])},k.Predictor6=function(D,U,J){return Bt(D,U[J-1])},k.Predictor7=function(D,U,J){return Bt(D,U[J+0])},k.Predictor8=function(D,U,J){return Bt(U[J-1],U[J+0])},k.Predictor9=function(D,U,J){return Bt(U[J+0],U[J+1])},k.Predictor10=function(D,U,J){return Bt(Bt(D,U[J-1]),Bt(U[J+0],U[J+1]))},k.Predictor11=function(D,U,J){var ae=U[J+0];return 0>=jt(ae>>24&255,D>>24&255,(U=U[J-1])>>24&255)+jt(ae>>16&255,D>>16&255,U>>16&255)+jt(ae>>8&255,D>>8&255,U>>8&255)+jt(255&ae,255&D,255&U)?ae:D},k.Predictor12=function(D,U,J){var ae=U[J+0];return(mt((D>>24&255)+(ae>>24&255)-((U=U[J-1])>>24&255))<<24|mt((D>>16&255)+(ae>>16&255)-(U>>16&255))<<16|mt((D>>8&255)+(ae>>8&255)-(U>>8&255))<<8|mt((255&D)+(255&ae)-(255&U)))>>>0},k.Predictor13=function(D,U,J){var ae=U[J-1];return(_t((D=Bt(D,U[J+0]))>>24&255,ae>>24&255)<<24|_t(D>>16&255,ae>>16&255)<<16|_t(D>>8&255,ae>>8&255)<<8|_t(255&D,255&ae))>>>0};var pe=k.PredictorAdd0;k.PredictorAdd1=or,ze("Predictor2","PredictorAdd2"),ze("Predictor3","PredictorAdd3"),ze("Predictor4","PredictorAdd4"),ze("Predictor5","PredictorAdd5"),ze("Predictor6","PredictorAdd6"),ze("Predictor7","PredictorAdd7"),ze("Predictor8","PredictorAdd8"),ze("Predictor9","PredictorAdd9"),ze("Predictor10","PredictorAdd10"),ze("Predictor11","PredictorAdd11"),ze("Predictor12","PredictorAdd12"),ze("Predictor13","PredictorAdd13");var f=k.PredictorAdd2;qt("ColorIndexInverseTransform","MapARGB","32b",function(D){return D>>8&255},function(D){return D}),qt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(D){return D},function(D){return D>>8&255});var p,m=k.ColorIndexInverseTransform,b=k.MapARGB,S=k.VP8LColorIndexInverseTransformAlpha,B=k.MapAlpha,L=k.VP8LPredictorsAdd=[];L.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var Q,W,se,ge,we,Qe,Xe,Ye,ot,wt,Mt,zt,Ht,An,Sn,eo,Vo,bo,Ki,to,Sl,Ih,kh,pS,ng,AH,pH,gH,mH=s(511),xH=s(2041),vH=s(225),yH=s(767),wH=0,hk=xH,gS=vH,iu=yH,$u=mH,mS=0,xS=1,bH=2,vS=3,yS=4,Ak=5,_H=6,pk=7,gk=8,wS=9,mk=10,rve=[2,3,7],nve=[3,3,11],EH=[280,256,256,256,40],ive=[0,1,1,1,0],sve=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ave=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ove=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],lve=8,xk=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],vk=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],cw=null,cve=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],uve=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],SH=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],dve=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],fve=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],hve=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Ave=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],$A=[],Fd=[],jh=[],pve=1,CH=2,VA=[],Vu=[];rr("UpsampleRgbLinePair",Qo,3),rr("UpsampleBgrLinePair",Fi,3),rr("UpsampleRgbaLinePair",Xs,4),rr("UpsampleBgraLinePair",eg,4),rr("UpsampleArgbLinePair",rc,4),rr("UpsampleRgba4444LinePair",Ic,2),rr("UpsampleRgb565LinePair",Ja,2);var gve=k.UpsampleRgbLinePair,mve=k.UpsampleBgrLinePair,NH=k.UpsampleRgbaLinePair,TH=k.UpsampleBgraLinePair,BH=k.UpsampleArgbLinePair,IH=k.UpsampleRgba4444LinePair,xve=k.UpsampleRgb565LinePair,bS=16,_S=1<<bS-1,uw=-227,yk=482,kH=6,vve=(256<<kH)-1,jH=0,yve=s(256),wve=s(256),bve=s(256),_ve=s(256),Eve=s(yk-uw),Sve=s(yk-uw);kc("YuvToRgbRow",Qo,3),kc("YuvToBgrRow",Fi,3),kc("YuvToRgbaRow",Xs,4),kc("YuvToBgraRow",eg,4),kc("YuvToArgbRow",rc,4),kc("YuvToRgba4444Row",Ic,2),kc("YuvToRgb565Row",Ja,2);var PH=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ES=[0,2,8],Cve=[8,7,6,4,4,2,2,2,1,1,1,1],Nve=1;this.WebPDecodeRGBA=function(D,U,J,ae,me){var be=xS,Se=new Pt,Be=new mr;Se.ba=Be,Be.S=be,Be.width=[Be.width],Be.height=[Be.height];var Pe=Be.width,$e=Be.height,Je=new er;if(Je==null||D==null)var yt=2;else t(Je!=null),yt=Th(D,U,J,Je.width,Je.height,Je.Pd,Je.Qd,Je.format,null);if(yt!=0?Pe=0:(Pe!=null&&(Pe[0]=Je.width[0]),$e!=null&&($e[0]=Je.height[0]),Pe=1),Pe){Be.width=Be.width[0],Be.height=Be.height[0],ae!=null&&(ae[0]=Be.width),me!=null&&(me[0]=Be.height);e:{if(ae=new wa,(me=new Xt).data=D,me.w=U,me.ha=J,me.kd=1,U=[0],t(me!=null),((D=Th(me.data,me.w,me.ha,null,null,null,U,null,me))==0||D==7)&&U[0]&&(D=4),(U=D)==0){if(t(Se!=null),ae.data=me.data,ae.w=me.w+me.offset,ae.ha=me.ha-me.offset,ae.put=Fr,ae.ac=Un,ae.bc=Zn,ae.ma=Se,me.xa){if((D=it())==null){Se=1;break e}if(function(Ve,rt){var ft=[0],Ot=[0],vt=[0];t:for(;;){if(Ve==null)return 0;if(rt==null)return Ve.a=2,0;if(Ve.l=rt,Ve.a=0,X(Ve.m,rt.data,rt.w,rt.ha),!Mr(Ve.m,ft,Ot,vt)){Ve.a=3;break t}if(Ve.xb=CH,rt.width=ft[0],rt.height=Ot[0],!ct(ft[0],Ot[0],1,Ve,null))break t;return 1}return t(Ve.a!=0),0}(D,ae)){if(ae=(U=Pd(ae.width,ae.height,Se.Oa,Se.ba))==0){t:{ae=D;r:for(;;){if(ae==null){ae=0;break t}if(t(ae.s.yc!=null),t(ae.s.Ya!=null),t(0<ae.s.Wb),t((J=ae.l)!=null),t((me=J.ma)!=null),ae.xb!=0){if(ae.ca=me.ba,ae.tb=me.tb,t(ae.ca!=null),!Bh(me.Oa,J,vS)){ae.a=2;break r}if(!ht(ae,J.width)||J.da)break r;if((J.da||Ct(ae.ca.S))&&At(),11>ae.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ae.ca.f.kb.F!=null&&At()),ae.Pb&&0<ae.s.ua&&ae.s.vb.X==null&&!z(ae.s.vb,ae.s.Wa.Xa)){ae.a=1;break r}ae.xb=0}if(!lt(ae,ae.V,ae.Ba,ae.c,ae.i,J.o,Ie))break r;me.Dc=ae.Ma,ae=1;break t}t(ae.a!=0),ae=0}ae=!ae}ae&&(U=D.a)}else U=D.a}else{if((D=new ba)==null){Se=1;break e}if(D.Fa=me.na,D.P=me.P,D.qc=me.Sa,Mo(D,ae)){if((U=Pd(ae.width,ae.height,Se.Oa,Se.ba))==0){if(D.Aa=0,J=Se.Oa,t((me=D)!=null),J!=null){if(0<(Pe=0>(Pe=J.Md)?0:100<Pe?255:255*Pe/100)){for($e=Je=0;4>$e;++$e)12>(yt=me.pb[$e]).lc&&(yt.ia=Pe*Cve[0>yt.lc?0:yt.lc]>>3),Je|=yt.ia;Je&&(alert("todo:VP8InitRandom"),me.ia=1)}me.Ga=J.Id,100<me.Ga?me.Ga=100:0>me.Ga&&(me.Ga=0)}(function(Ve,rt){if(Ve==null)return 0;if(rt==null)return Pn(Ve,2,"NULL VP8Io parameter in VP8Decode().");if(!Ve.cb&&!Mo(Ve,rt))return 0;if(t(Ve.cb),rt.ac==null||rt.ac(rt)){rt.ob&&(Ve.L=0);var ft=ES[Ve.L];if(Ve.L==2?(Ve.yb=0,Ve.zb=0):(Ve.yb=rt.v-ft>>4,Ve.zb=rt.j-ft>>4,0>Ve.yb&&(Ve.yb=0),0>Ve.zb&&(Ve.zb=0)),Ve.Va=rt.o+15+ft>>4,Ve.Hb=rt.va+15+ft>>4,Ve.Hb>Ve.za&&(Ve.Hb=Ve.za),Ve.Va>Ve.Ub&&(Ve.Va=Ve.Ub),0<Ve.L){var Ot=Ve.ed;for(ft=0;4>ft;++ft){var vt;if(Ve.Qa.Cb){var Rt=Ve.Qa.Lb[ft];Ve.Qa.Fb||(Rt+=Ot.Tb)}else Rt=Ot.Tb;for(vt=0;1>=vt;++vt){var Qt=Ve.gd[ft][vt],Ar=Rt;if(Ot.Pc&&(Ar+=Ot.vd[0],vt&&(Ar+=Ot.od[0])),0<(Ar=0>Ar?0:63<Ar?63:Ar)){var ir=Ar;0<Ot.wb&&(ir=4<Ot.wb?ir>>2:ir>>1)>9-Ot.wb&&(ir=9-Ot.wb),1>ir&&(ir=1),Qt.dd=ir,Qt.tc=2*Ar+ir,Qt.ld=40<=Ar?2:15<=Ar?1:0}else Qt.tc=0;Qt.La=vt}}}ft=0}else Pn(Ve,6,"Frame setup failed"),ft=Ve.a;if(ft=ft==0){if(ft){Ve.$c=0,0<Ve.Aa||(Ve.Ic=Nve);t:{ft=Ve.Ic,Ot=4*(ir=Ve.za);var ln=32*ir,Kr=ir+1,ri=0<Ve.L?ir*(0<Ve.Aa?2:1):0,nn=(Ve.Aa==2?2:1)*ir;if((Qt=Ot+832+(vt=3*(16*ft+ES[Ve.L])/2*ln)+(Rt=Ve.Fa!=null&&0<Ve.Fa.length?Ve.Kc.c*Ve.Kc.i:0))!=Qt)ft=0;else{if(Qt>Ve.Vb){if(Ve.Vb=0,Ve.Ec=s(Qt),Ve.Fc=0,Ve.Ec==null){ft=Pn(Ve,1,"no memory during frame initialization.");break t}Ve.Vb=Qt}Qt=Ve.Ec,Ar=Ve.Fc,Ve.Ac=Qt,Ve.Bc=Ar,Ar+=Ot,Ve.Gd=a(ln,Jr),Ve.Hd=0,Ve.rb=a(Kr+1,wn),Ve.sb=1,Ve.wa=ri?a(ri,Ln):null,Ve.Y=0,Ve.D.Nb=0,Ve.D.wa=Ve.wa,Ve.D.Y=Ve.Y,0<Ve.Aa&&(Ve.D.Y+=ir),t(!0),Ve.oc=Qt,Ve.pc=Ar,Ar+=832,Ve.ya=a(nn,xo),Ve.aa=0,Ve.D.ya=Ve.ya,Ve.D.aa=Ve.aa,Ve.Aa==2&&(Ve.D.aa+=ir),Ve.R=16*ir,Ve.B=8*ir,ir=(ln=ES[Ve.L])*Ve.R,ln=ln/2*Ve.B,Ve.sa=Qt,Ve.ta=Ar+ir,Ve.qa=Ve.sa,Ve.ra=Ve.ta+16*ft*Ve.R+ln,Ve.Ha=Ve.qa,Ve.Ia=Ve.ra+8*ft*Ve.B+ln,Ve.$c=0,Ar+=vt,Ve.mb=Rt?Qt:null,Ve.nb=Rt?Ar:null,t(Ar+Rt<=Ve.Fc+Ve.Vb),Oa(Ve),i(Ve.Ac,Ve.Bc,0,Ot),ft=1}}if(ft){if(rt.ka=0,rt.y=Ve.sa,rt.O=Ve.ta,rt.f=Ve.qa,rt.N=Ve.ra,rt.ea=Ve.Ha,rt.Vd=Ve.Ia,rt.fa=Ve.R,rt.Rc=Ve.B,rt.F=null,rt.J=0,!wH){for(ft=-255;255>=ft;++ft)mH[255+ft]=0>ft?-ft:ft;for(ft=-1020;1020>=ft;++ft)xH[1020+ft]=-128>ft?-128:127<ft?127:ft;for(ft=-112;112>=ft;++ft)vH[112+ft]=-16>ft?-16:15<ft?15:ft;for(ft=-255;510>=ft;++ft)yH[255+ft]=0>ft?0:255<ft?255:ft;wH=1}Xe=Uo,Ye=Le,wt=Lr,Mt=hs,zt=Ps,ot=ut,Ht=Os,An=Da,Sn=fe,eo=Oe,Vo=dt,bo=G,Ki=qe,to=nt,Sl=Pi,Ih=ti,kh=qs,pS=yn,Fd[0]=Bc,Fd[1]=Fs,Fd[2]=yo,Fd[3]=rn,Fd[4]=on,Fd[5]=he,Fd[6]=ki,Fd[7]=Ge,Fd[8]=pt,Fd[9]=st,$A[0]=Qu,$A[1]=Mi,$A[2]=ru,$A[3]=tc,$A[4]=El,$A[5]=Ho,$A[6]=bs,jh[0]=lr,jh[1]=en,jh[2]=fr,jh[3]=ur,jh[4]=vn,jh[5]=Wr,jh[6]=Hn,ft=1}else ft=0}ft&&(ft=function(_i,_o){for(_i.M=0;_i.M<_i.Va;++_i.M){var ni,sn=_i.Jc[_i.M&_i.Xb],kr=_i.m,Ra=_i;for(ni=0;ni<Ra.za;++ni){var Wn=kr,Ti=Ra,Ds=Ti.Ac,ll=Ti.Bc+4*ni,ic=Ti.zc,_a=Ti.ya[Ti.aa+ni];if(Ti.Qa.Bb?_a.$b=ce(Wn,Ti.Pa.jb[0])?2+ce(Wn,Ti.Pa.jb[2]):ce(Wn,Ti.Pa.jb[1]):_a.$b=0,Ti.kc&&(_a.Ad=ce(Wn,Ti.Bd)),_a.Za=!ce(Wn,145)+0,_a.Za){var Cl=_a.Ob,sc=0;for(Ti=0;4>Ti;++Ti){var Eo,Oi=ic[0+Ti];for(Eo=0;4>Eo;++Eo){Oi=fve[Ds[ll+Eo]][Oi];for(var ns=SH[ce(Wn,Oi[0])];0<ns;)ns=SH[2*ns+ce(Wn,Oi[ns])];Oi=-ns,Ds[ll+Eo]=Oi}n(Cl,sc,Ds,ll,4),sc+=4,ic[0+Ti]=Oi}}else Oi=ce(Wn,156)?ce(Wn,128)?1:3:ce(Wn,163)?2:0,_a.Ob[0]=Oi,i(Ds,ll,Oi,4),i(ic,0,Oi,4);_a.Dd=ce(Wn,142)?ce(Wn,114)?ce(Wn,183)?1:3:2:0}if(Ra.m.Ka)return Pn(_i,7,"Premature end-of-partition0 encountered.");for(;_i.ja<_i.za;++_i.ja){if(Ra=sn,Wn=(kr=_i).rb[kr.sb-1],Ds=kr.rb[kr.sb+kr.ja],ni=kr.ya[kr.aa+kr.ja],ll=kr.kc?ni.Ad:0)Wn.la=Ds.la=0,ni.Za||(Wn.Na=Ds.Na=0),ni.Hc=0,ni.Gc=0,ni.ia=0;else{var Ea,is;if(Wn=Ds,Ds=Ra,ll=kr.Pa.Xc,ic=kr.ya[kr.aa+kr.ja],_a=kr.pb[ic.$b],Ti=ic.ad,Cl=0,sc=kr.rb[kr.sb-1],Oi=Eo=0,i(Ti,Cl,0,384),ic.Za)var cl=0,Od=ll[3];else{ns=s(16);var Ma=Wn.Na+sc.Na;if(Ma=cw(Ds,ll[1],Ma,_a.Eb,0,ns,0),Wn.Na=sc.Na=(0<Ma)+0,1<Ma)Xe(ns,0,Ti,Cl);else{var Pc=ns[0]+3>>3;for(ns=0;256>ns;ns+=16)Ti[Cl+ns]=Pc}cl=1,Od=ll[0]}var ms=15&Wn.la,So=15&sc.la;for(ns=0;4>ns;++ns){var su=1&So;for(Pc=is=0;4>Pc;++Pc)ms=ms>>1|(su=(Ma=cw(Ds,Od,Ma=su+(1&ms),_a.Sc,cl,Ti,Cl))>cl)<<7,is=is<<2|(3<Ma?3:1<Ma?2:Ti[Cl+0]!=0),Cl+=16;ms>>=4,So=So>>1|su<<7,Eo=(Eo<<8|is)>>>0}for(Od=ms,cl=So>>4,Ea=0;4>Ea;Ea+=2){for(is=0,ms=Wn.la>>4+Ea,So=sc.la>>4+Ea,ns=0;2>ns;++ns){for(su=1&So,Pc=0;2>Pc;++Pc)Ma=su+(1&ms),ms=ms>>1|(su=0<(Ma=cw(Ds,ll[2],Ma,_a.Qc,0,Ti,Cl)))<<3,is=is<<2|(3<Ma?3:1<Ma?2:Ti[Cl+0]!=0),Cl+=16;ms>>=2,So=So>>1|su<<5}Oi|=is<<4*Ea,Od|=ms<<4<<Ea,cl|=(240&So)<<Ea}Wn.la=Od,sc.la=cl,ic.Hc=Eo,ic.Gc=Oi,ic.ia=43690&Oi?0:_a.ia,ll=!(Eo|Oi)}if(0<kr.L&&(kr.wa[kr.Y+kr.ja]=kr.gd[ni.$b][ni.Za],kr.wa[kr.Y+kr.ja].La|=!ll),Ra.Ka)return Pn(_i,7,"Premature end-of-file encountered.")}if(Oa(_i),kr=_o,Ra=1,ni=(sn=_i).D,Wn=0<sn.L&&sn.M>=sn.zb&&sn.M<=sn.Va,sn.Aa==0)t:{if(ni.M=sn.M,ni.uc=Wn,ua(sn,ni),Ra=1,ni=(is=sn.D).Nb,Wn=(Oi=ES[sn.L])*sn.R,Ds=Oi/2*sn.B,ns=16*ni*sn.R,Pc=8*ni*sn.B,ll=sn.sa,ic=sn.ta-Wn+ns,_a=sn.qa,Ti=sn.ra-Ds+Pc,Cl=sn.Ha,sc=sn.Ia-Ds+Pc,So=(ms=is.M)==0,Eo=ms>=sn.Va-1,sn.Aa==2&&ua(sn,is),is.uc)for(su=(Ma=sn).D.M,t(Ma.D.uc),is=Ma.yb;is<Ma.Hb;++is){cl=is,Od=su;var ac=(au=(ul=Ma).D).Nb;Ea=ul.R;var au=au.wa[au.Y+cl],ou=ul.sa,Fc=ul.ta+16*ac*Ea+16*cl,lu=au.dd,_s=au.tc;if(_s!=0)if(t(3<=_s),ul.L==1)0<cl&&Ih(ou,Fc,Ea,_s+4),au.La&&pS(ou,Fc,Ea,_s),0<Od&&Sl(ou,Fc,Ea,_s+4),au.La&&kh(ou,Fc,Ea,_s);else{var cu=ul.B,Dd=ul.qa,ig=ul.ra+8*ac*cu+8*cl,Ph=ul.Ha,ul=ul.Ia+8*ac*cu+8*cl;ac=au.ld,0<cl&&(An(ou,Fc,Ea,_s+4,lu,ac),eo(Dd,ig,Ph,ul,cu,_s+4,lu,ac)),au.La&&(bo(ou,Fc,Ea,_s,lu,ac),to(Dd,ig,Ph,ul,cu,_s,lu,ac)),0<Od&&(Ht(ou,Fc,Ea,_s+4,lu,ac),Sn(Dd,ig,Ph,ul,cu,_s+4,lu,ac)),au.La&&(Vo(ou,Fc,Ea,_s,lu,ac),Ki(Dd,ig,Ph,ul,cu,_s,lu,ac))}}if(sn.ia&&alert("todo:DitherRow"),kr.put!=null){if(is=16*ms,ms=16*(ms+1),So?(kr.y=sn.sa,kr.O=sn.ta+ns,kr.f=sn.qa,kr.N=sn.ra+Pc,kr.ea=sn.Ha,kr.W=sn.Ia+Pc):(is-=Oi,kr.y=ll,kr.O=ic,kr.f=_a,kr.N=Ti,kr.ea=Cl,kr.W=sc),Eo||(ms-=Oi),ms>kr.o&&(ms=kr.o),kr.F=null,kr.J=null,sn.Fa!=null&&0<sn.Fa.length&&is<ms&&(kr.J=F(sn,kr,is,ms-is),kr.F=sn.mb,kr.F==null&&kr.F.length==0)){Ra=Pn(sn,3,"Could not decode alpha data.");break t}is<kr.j&&(Oi=kr.j-is,is=kr.j,t(!(1&Oi)),kr.O+=sn.R*Oi,kr.N+=sn.B*(Oi>>1),kr.W+=sn.B*(Oi>>1),kr.F!=null&&(kr.J+=kr.width*Oi)),is<ms&&(kr.O+=kr.v,kr.N+=kr.v>>1,kr.W+=kr.v>>1,kr.F!=null&&(kr.J+=kr.v),kr.ka=is-kr.j,kr.U=kr.va-kr.v,kr.T=ms-is,Ra=kr.put(kr))}ni+1!=sn.Ic||Eo||(n(sn.sa,sn.ta-Wn,ll,ic+16*sn.R,Wn),n(sn.qa,sn.ra-Ds,_a,Ti+8*sn.B,Ds),n(sn.Ha,sn.Ia-Ds,Cl,sc+8*sn.B,Ds))}if(!Ra)return Pn(_i,6,"Output aborted.")}return 1}(Ve,rt)),rt.bc!=null&&rt.bc(rt),ft&=1}return ft?(Ve.cb=0,ft):0})(D,ae)||(U=D.a)}}else U=D.a}U==0&&Se.Oa!=null&&Se.Oa.fd&&(U=rg(Se.ba))}Se=U}be=Se!=0?null:11>be?Be.f.RGBA.eb:Be.f.kb.y}else be=null;return be};var FH=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(k,R){for(var O="",M=0;M<4;M++)O+=String.fromCharCode(k[R++]);return O}function d(k,R){return k[R+0]|k[R+1]<<8}function h(k,R){return(k[R+0]|k[R+1]<<8|k[R+2]<<16)>>>0}function A(k,R){return(k[R+0]|k[R+1]<<8|k[R+2]<<16|k[R+3]<<24)>>>0}new c;var g=[0],v=[0],x=[],y=new c,w=e,_=function(k,R){var O={},M=0,H=!1,K=0,Y=0;if(O.frames=[],!function(V,q){for(var ee=0;ee<4;ee++)if(V[q+ee]!="RIFF".charCodeAt(ee))return!0;return!1}(k,R)){for(A(k,R+=4),R+=8;R<k.length;){var ne=u(k,R),le=A(k,R+=4);R+=4;var te=le+(1&le);switch(ne){case"VP8 ":case"VP8L":O.frames[M]===void 0&&(O.frames[M]={}),(ve=O.frames[M]).src_off=H?Y:R-8,ve.src_size=K+le+8,M++,H&&(H=!1,K=0,Y=0);break;case"VP8X":(ve=O.header={}).feature_flags=k[R];var X=R+4;ve.canvas_width=1+h(k,X),X+=3,ve.canvas_height=1+h(k,X),X+=3;break;case"ALPH":H=!0,K=te+8,Y=R-8;break;case"ANIM":(ve=O.header).bgcolor=A(k,R),X=R+4,ve.loop_count=d(k,X),X+=2;break;case"ANMF":var ue,ve;(ve=O.frames[M]={}).offset_x=2*h(k,R),R+=3,ve.offset_y=2*h(k,R),R+=3,ve.width=1+h(k,R),R+=3,ve.height=1+h(k,R),R+=3,ve.duration=h(k,R),R+=3,ue=k[R++],ve.dispose=1&ue,ve.blend=ue>>1&1}ne!="ANMF"&&(R+=te)}return O}}(w,0);_.response=w,_.rgbaoutput=!0,_.dataurl=!1;var E=_.header?_.header:null,I=_.frames?_.frames:null;if(E){E.loop_counter=E.loop_count,g=[E.canvas_height],v=[E.canvas_width];for(var N=0;N<I.length&&I[N].blend!=0;N++);}var j=I[0],T=y.WebPDecodeRGBA(w,j.src_off,j.src_size,v,g);j.rgba=T,j.imgwidth=v[0],j.imgheight=g[0];for(var P=0;P<v[0]*g[0]*4;P++)x[P]=T[P];return this.width=v,this.height=g,this.data=x,this}(function(e){var t,r,n,i,s,a,l,c,u,d=function(V){return V=V||{},this.isStrokeTransparent=V.isStrokeTransparent||!1,this.strokeOpacity=V.strokeOpacity||1,this.strokeStyle=V.strokeStyle||"#000000",this.fillStyle=V.fillStyle||"#000000",this.isFillTransparent=V.isFillTransparent||!1,this.fillOpacity=V.fillOpacity||1,this.font=V.font||"10px sans-serif",this.textBaseline=V.textBaseline||"alphabetic",this.textAlign=V.textAlign||"left",this.lineWidth=V.lineWidth||1,this.lineJoin=V.lineJoin||"miter",this.lineCap=V.lineCap||"butt",this.path=V.path||[],this.transform=V.transform!==void 0?V.transform.clone():new c,this.globalCompositeOperation=V.globalCompositeOperation||"normal",this.globalAlpha=V.globalAlpha||1,this.clip_path=V.clip_path||[],this.currentPoint=V.currentPoint||new a,this.miterLimit=V.miterLimit||10,this.lastPoint=V.lastPoint||new a,this.lineDashOffset=V.lineDashOffset||0,this.lineDash=V.lineDash||[],this.margin=V.margin||[0,0,0,0],this.prevPageLastElemOffset=V.prevPageLastElemOffset||0,this.ignoreClearRect=typeof V.ignoreClearRect!="boolean"||V.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var h=function(V){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=V;Object.defineProperty(this,"pdf",{get:function(){return q}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(z){ee=!!z}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(z){re=!!z}});var de=0;Object.defineProperty(this,"posX",{get:function(){return de},set:function(z){isNaN(z)||(de=z)}});var Ae=0;Object.defineProperty(this,"posY",{get:function(){return Ae},set:function(z){isNaN(z)||(Ae=z)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(z){var Fe;typeof z=="number"?Fe=[z,z,z,z]:((Fe=new Array(4))[0]=z[0],Fe[1]=z.length>=2?z[1]:Fe[0],Fe[2]=z.length>=3?z[2]:Fe[0],Fe[3]=z.length>=4?z[3]:Fe[1]),u.margin=Fe}});var _e=!1;Object.defineProperty(this,"autoPaging",{get:function(){return _e},set:function(z){_e=z}});var ye=0;Object.defineProperty(this,"lastBreak",{get:function(){return ye},set:function(z){ye=z}});var ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ce},set:function(z){ce=z}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(z){z instanceof d&&(u=z)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(z){u.path=z}});var Ne=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ne},set:function(z){Ne=z}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(z){var Fe;Fe=A(z),this.ctx.fillStyle=Fe.style,this.ctx.isFillTransparent=Fe.a===0,this.ctx.fillOpacity=Fe.a,this.pdf.setFillColor(Fe.r,Fe.g,Fe.b,{a:Fe.a}),this.pdf.setTextColor(Fe.r,Fe.g,Fe.b,{a:Fe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(z){var Fe=A(z);this.ctx.strokeStyle=Fe.style,this.ctx.isStrokeTransparent=Fe.a===0,this.ctx.strokeOpacity=Fe.a,Fe.a===0?this.pdf.setDrawColor(255,255,255):(Fe.a,this.pdf.setDrawColor(Fe.r,Fe.g,Fe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(z){["butt","round","square"].indexOf(z)!==-1&&(this.ctx.lineCap=z,this.pdf.setLineCap(z))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(z){isNaN(z)||(this.ctx.lineWidth=z,this.pdf.setLineWidth(z))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(z){["bevel","round","miter"].indexOf(z)!==-1&&(this.ctx.lineJoin=z,this.pdf.setLineJoin(z))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(z){isNaN(z)||(this.ctx.miterLimit=z,this.pdf.setMiterLimit(z))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(z){this.ctx.textBaseline=z}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(z){["right","end","center","left","start"].indexOf(z)!==-1&&(this.ctx.textAlign=z)}});var oe=null,We=null,Re=null;Object.defineProperty(this,"fontFaces",{get:function(){return Re},set:function(z){oe=null,We=null,Re=z}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(z){var Fe;if(this.ctx.font=z,(Fe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(z))!==null){var He=Fe[1];Fe[2];var ke=Fe[3],Te=Fe[4];Fe[5];var Ze=Fe[6],ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Te)[2];Te=Math.floor(ze==="px"?parseFloat(Te)*this.pdf.internal.scaleFactor:ze==="em"?parseFloat(Te)*this.pdf.getFontSize():parseFloat(Te)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Te);var Tt=function(qt){var Er,Kt,xt=[],pr=qt.trim();if(pr==="")return D6;if(pr in jK)return[jK[pr]];for(;pr!=="";){switch(Kt=null,Er=(pr=FK(pr)).charAt(0)){case'"':case"'":Kt=MWe(pr.substring(1),Er);break;default:Kt=UWe(pr)}if(Kt===null||(xt.push(Kt[0]),(pr=FK(Kt[1]))!==""&&pr.charAt(0)!==","))return D6;pr=pr.replace(/^,/,"")}return xt}(Ze);if(this.fontFaces){var Bt=function(qt,Er){var Kt=qt.getFontList(),xt=JSON.stringify(Kt);if(oe===null||We!==xt){var pr=function(Ke){var gt=[];return Object.keys(Ke).forEach(function(gr){Ke[gr].forEach(function(Ct){var $t=null;switch(Ct){case"bold":$t={family:gr,weight:"bold"};break;case"italic":$t={family:gr,style:"italic"};break;case"bolditalic":$t={family:gr,weight:"bold",style:"italic"};break;case"":case"normal":$t={family:gr}}$t!==null&&($t.ref={name:gr,style:Ct},gt.push($t))})}),gt}(Kt);oe=function(Ke){for(var gt={},gr=0;gr<Ke.length;++gr){var Ct=O6(Ke[gr]),$t=Ct.family,hr=Ct.stretch,mr=Ct.style,er=Ct.weight;gt[$t]=gt[$t]||{},gt[$t][hr]=gt[$t][hr]||{},gt[$t][hr][mr]=gt[$t][hr][mr]||{},gt[$t][hr][mr][er]=Ct}return gt}(pr.concat(Er)),We=xt}return oe}(this.pdf,this.fontFaces),mt=Tt.map(function(qt){return{family:qt,stretch:"normal",weight:ke,style:He}}),_t=function(qt,Er,Kt){for(var xt=(Kt=Kt||{}).defaultFontFamily||"times",pr=Object.assign({},RWe,Kt.genericFontFamilies||{}),Ke=null,gt=null,gr=0;gr<Er.length;++gr)if(pr[(Ke=O6(Er[gr])).family]&&(Ke.family=pr[Ke.family]),qt.hasOwnProperty(Ke.family)){gt=qt[Ke.family];break}if(!(gt=gt||qt[xt]))throw new Error("Could not find a font-family for the rule '"+PK(Ke)+"' and default family '"+xt+"'.");if(gt=function(Ct,$t){if($t[Ct])return $t[Ct];var hr=PO[Ct],mr=hr<=PO.normal?-1:1,er=kK($t,Whe,hr,mr);if(!er)throw new Error("Could not find a matching font-stretch value for "+Ct);return er}(Ke.stretch,gt),gt=function(Ct,$t){if($t[Ct])return $t[Ct];for(var hr=Ghe[Ct],mr=0;mr<hr.length;++mr)if($t[hr[mr]])return $t[hr[mr]];throw new Error("Could not find a matching font-style for "+Ct)}(Ke.style,gt),!(gt=function(Ct,$t){if($t[Ct])return $t[Ct];if(Ct===400&&$t[500])return $t[500];if(Ct===500&&$t[400])return $t[400];var hr=LWe[Ct],mr=kK($t,Khe,hr,Ct<400?-1:1);if(!mr)throw new Error("Could not find a matching font-weight for value "+Ct);return mr}(Ke.weight,gt)))throw new Error("Failed to resolve a font for the rule '"+PK(Ke)+"'.");return gt}(Bt,mt);this.pdf.setFont(_t.ref.name,_t.ref.style)}else{var jt="";(ke==="bold"||parseInt(ke,10)>=700||He==="bold")&&(jt="bold"),He==="italic"&&(jt+="italic"),jt.length===0&&(jt="normal");for(var or="",St={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},at=0;at<Tt.length;at++){if(this.pdf.internal.getFont(Tt[at],jt,{noFallback:!0,disableWarning:!0})!==void 0){or=Tt[at];break}if(jt==="bolditalic"&&this.pdf.internal.getFont(Tt[at],"bold",{noFallback:!0,disableWarning:!0})!==void 0)or=Tt[at],jt="bold";else if(this.pdf.internal.getFont(Tt[at],"normal",{noFallback:!0,disableWarning:!0})!==void 0){or=Tt[at],jt="normal";break}}if(or===""){for(var Ut=0;Ut<Tt.length;Ut++)if(St[Tt[Ut]]){or=St[Tt[Ut]];break}}or=or===""?"Times":or,this.pdf.setFont(or,jt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(z){this.ctx.globalCompositeOperation=z}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(z){this.ctx.globalAlpha=z}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(z){this.ctx.lineDashOffset=z,ve.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(z){this.ctx.lineDash=z,ve.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(z){this.ctx.ignoreClearRect=!!z}})};h.prototype.setLineDash=function(V){this.lineDash=V},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){I.call(this,"fill",!1)},h.prototype.stroke=function(){I.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(V,q){if(isNaN(V)||isNaN(q))throw xs.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new a(V,q));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new a(V,q)},h.prototype.closePath=function(){var V=new a(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&ls(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){V=new a(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(V.x,V.y)},h.prototype.lineTo=function(V,q){if(isNaN(V)||isNaN(q))throw xs.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new a(V,q));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new a(ee.x,ee.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),I.call(this,null,!0)},h.prototype.quadraticCurveTo=function(V,q,ee,re){if(isNaN(ee)||isNaN(re)||isNaN(V)||isNaN(q))throw xs.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var de=this.ctx.transform.applyToPoint(new a(ee,re)),Ae=this.ctx.transform.applyToPoint(new a(V,q));this.path.push({type:"qct",x1:Ae.x,y1:Ae.y,x:de.x,y:de.y}),this.ctx.lastPoint=new a(de.x,de.y)},h.prototype.bezierCurveTo=function(V,q,ee,re,de,Ae){if(isNaN(de)||isNaN(Ae)||isNaN(V)||isNaN(q)||isNaN(ee)||isNaN(re))throw xs.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var _e=this.ctx.transform.applyToPoint(new a(de,Ae)),ye=this.ctx.transform.applyToPoint(new a(V,q)),ce=this.ctx.transform.applyToPoint(new a(ee,re));this.path.push({type:"bct",x1:ye.x,y1:ye.y,x2:ce.x,y2:ce.y,x:_e.x,y:_e.y}),this.ctx.lastPoint=new a(_e.x,_e.y)},h.prototype.arc=function(V,q,ee,re,de,Ae){if(isNaN(V)||isNaN(q)||isNaN(ee)||isNaN(re)||isNaN(de))throw xs.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ae=!!Ae,!this.ctx.transform.isIdentity){var _e=this.ctx.transform.applyToPoint(new a(V,q));V=_e.x,q=_e.y;var ye=this.ctx.transform.applyToPoint(new a(0,ee)),ce=this.ctx.transform.applyToPoint(new a(0,0));ee=Math.sqrt(Math.pow(ye.x-ce.x,2)+Math.pow(ye.y-ce.y,2))}Math.abs(de-re)>=2*Math.PI&&(re=0,de=2*Math.PI),this.path.push({type:"arc",x:V,y:q,radius:ee,startAngle:re,endAngle:de,counterclockwise:Ae})},h.prototype.arcTo=function(V,q,ee,re,de){throw new Error("arcTo not implemented.")},h.prototype.rect=function(V,q,ee,re){if(isNaN(V)||isNaN(q)||isNaN(ee)||isNaN(re))throw xs.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(V,q),this.lineTo(V+ee,q),this.lineTo(V+ee,q+re),this.lineTo(V,q+re),this.lineTo(V,q),this.lineTo(V+ee,q),this.lineTo(V,q)},h.prototype.fillRect=function(V,q,ee,re){if(isNaN(V)||isNaN(q)||isNaN(ee)||isNaN(re))throw xs.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var de={};this.lineCap!=="butt"&&(de.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(de.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(V,q,ee,re),this.fill(),de.hasOwnProperty("lineCap")&&(this.lineCap=de.lineCap),de.hasOwnProperty("lineJoin")&&(this.lineJoin=de.lineJoin)}},h.prototype.strokeRect=function(V,q,ee,re){if(isNaN(V)||isNaN(q)||isNaN(ee)||isNaN(re))throw xs.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(V,q,ee,re),this.stroke())},h.prototype.clearRect=function(V,q,ee,re){if(isNaN(V)||isNaN(q)||isNaN(ee)||isNaN(re))throw xs.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(V,q,ee,re))},h.prototype.save=function(V){V=typeof V!="boolean"||V;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),V){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},h.prototype.restore=function(V){V=typeof V!="boolean"||V;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(q),V&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var A=function(V){var q,ee,re,de;if(V.isCanvasGradient===!0&&(V=V.getColor()),!V)return{r:0,g:0,b:0,a:0,style:V};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(V))q=0,ee=0,re=0,de=0;else{var Ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(V);if(Ae!==null)q=parseInt(Ae[1]),ee=parseInt(Ae[2]),re=parseInt(Ae[3]),de=1;else if((Ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(V))!==null)q=parseInt(Ae[1]),ee=parseInt(Ae[2]),re=parseInt(Ae[3]),de=parseFloat(Ae[4]);else{if(de=1,typeof V=="string"&&V.charAt(0)!=="#"){var _e=new Mhe(V);V=_e.ok?_e.toHex():"#000000"}V.length===4?(q=V.substring(1,2),q+=q,ee=V.substring(2,3),ee+=ee,re=V.substring(3,4),re+=re):(q=V.substring(1,3),ee=V.substring(3,5),re=V.substring(5,7)),q=parseInt(q,16),ee=parseInt(ee,16),re=parseInt(re,16)}}return{r:q,g:ee,b:re,a:de,style:V}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(V,q,ee,re){if(isNaN(q)||isNaN(ee)||typeof V!="string")throw xs.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!g.call(this)){var de=te(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;M.call(this,{text:V,x:q,y:ee,scale:Ae,angle:de,align:this.textAlign,maxWidth:re})}},h.prototype.strokeText=function(V,q,ee,re){if(isNaN(q)||isNaN(ee)||typeof V!="string")throw xs.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){re=isNaN(re)?void 0:re;var de=te(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;M.call(this,{text:V,x:q,y:ee,scale:Ae,renderingMode:"stroke",angle:de,align:this.textAlign,maxWidth:re})}},h.prototype.measureText=function(V){if(typeof V!="string")throw xs.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,ee=this.pdf.internal.scaleFactor,re=q.internal.getFontSize(),de=q.getStringUnitWidth(V)*re/q.internal.scaleFactor;return new function(Ae){var _e=(Ae=Ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return _e}}),this}({width:de*=Math.round(96*ee/72*1e4)/1e4})},h.prototype.scale=function(V,q){if(isNaN(V)||isNaN(q))throw xs.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new c(V,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},h.prototype.rotate=function(V){if(isNaN(V))throw xs.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new c(Math.cos(V),Math.sin(V),-Math.sin(V),Math.cos(V),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},h.prototype.translate=function(V,q){if(isNaN(V)||isNaN(q))throw xs.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new c(1,0,0,1,V,q);this.ctx.transform=this.ctx.transform.multiply(ee)},h.prototype.transform=function(V,q,ee,re,de,Ae){if(isNaN(V)||isNaN(q)||isNaN(ee)||isNaN(re)||isNaN(de)||isNaN(Ae))throw xs.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var _e=new c(V,q,ee,re,de,Ae);this.ctx.transform=this.ctx.transform.multiply(_e)},h.prototype.setTransform=function(V,q,ee,re,de,Ae){V=isNaN(V)?1:V,q=isNaN(q)?0:q,ee=isNaN(ee)?0:ee,re=isNaN(re)?1:re,de=isNaN(de)?0:de,Ae=isNaN(Ae)?0:Ae,this.ctx.transform=new c(V,q,ee,re,de,Ae)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(V,q,ee,re,de,Ae,_e,ye,ce){var Ne=this.pdf.getImageProperties(V),oe=1,We=1,Re=1,z=1;re!==void 0&&ye!==void 0&&(Re=ye/re,z=ce/de,oe=Ne.width/re*ye/re,We=Ne.height/de*ce/de),Ae===void 0&&(Ae=q,_e=ee,q=0,ee=0),re!==void 0&&ye===void 0&&(ye=re,ce=de),re===void 0&&ye===void 0&&(ye=Ne.width,ce=Ne.height);var Fe=this.ctx.transform.decompose(),He=te(Fe.rotate.shx),ke=new c,Te=(ke=(ke=(ke=ke.multiply(Fe.translate)).multiply(Fe.skew)).multiply(Fe.scale)).applyToRectangle(new l(Ae-q*Re,_e-ee*z,re*oe,de*We));if(this.autoPaging){for(var Ze,ze=y.call(this,Te),Tt=[],Bt=0;Bt<ze.length;Bt+=1)Tt.indexOf(ze[Bt])===-1&&Tt.push(ze[Bt]);E(Tt);for(var mt=Tt[0],_t=Tt[Tt.length-1],jt=mt;jt<_t+1;jt++){this.pdf.setPage(jt);var or=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],St=jt===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qt=jt===1?0:at+(jt-2)*Ut;if(this.ctx.clip_path.length!==0){var Er=this.path;Ze=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(Ze,this.posX+this.margin[3],-qt+St+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=Er}var Kt=JSON.parse(JSON.stringify(Te));Kt=_([Kt],this.posX+this.margin[3],-qt+St+this.ctx.prevPageLastElemOffset)[0];var xt=(jt>mt||jt<_t)&&x.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],or,Ut,null).clip().discardPath()),this.pdf.addImage(V,"JPEG",Kt.x,Kt.y,Kt.w,Kt.h,null,null,He),xt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(V,"JPEG",Te.x,Te.y,Te.w,Te.h,null,null,He)};var y=function(V,q,ee){var re=[];q=q||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var de=this.posY+this.ctx.prevPageLastElemOffset;switch(V.type){default:case"mt":case"lt":re.push(Math.floor((V.y+de)/ee)+1);break;case"arc":re.push(Math.floor((V.y+de-V.radius)/ee)+1),re.push(Math.floor((V.y+de+V.radius)/ee)+1);break;case"qct":var Ae=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x,V.y);re.push(Math.floor((Ae.y+de)/ee)+1),re.push(Math.floor((Ae.y+Ae.h+de)/ee)+1);break;case"bct":var _e=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x2,V.y2,V.x,V.y);re.push(Math.floor((_e.y+de)/ee)+1),re.push(Math.floor((_e.y+_e.h+de)/ee)+1);break;case"rect":re.push(Math.floor((V.y+de)/ee)+1),re.push(Math.floor((V.y+V.h+de)/ee)+1)}for(var ye=0;ye<re.length;ye+=1)for(;this.pdf.internal.getNumberOfPages()<re[ye];)w.call(this);return re},w=function(){var V=this.fillStyle,q=this.strokeStyle,ee=this.font,re=this.lineCap,de=this.lineWidth,Ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=V,this.strokeStyle=q,this.font=ee,this.lineCap=re,this.lineWidth=de,this.lineJoin=Ae},_=function(V,q,ee){for(var re=0;re<V.length;re++)switch(V[re].type){case"bct":V[re].x2+=q,V[re].y2+=ee;case"qct":V[re].x1+=q,V[re].y1+=ee;default:V[re].x+=q,V[re].y+=ee}return V},E=function(V){return V.sort(function(q,ee){return q-ee})},I=function(V,q){var ee=this.fillStyle,re=this.strokeStyle,de=this.lineCap,Ae=this.lineWidth,_e=Math.abs(Ae*this.ctx.transform.scaleX),ye=this.lineJoin;if(this.autoPaging){for(var ce,Ne,oe=JSON.parse(JSON.stringify(this.path)),We=JSON.parse(JSON.stringify(this.path)),Re=[],z=0;z<We.length;z++)if(We[z].x!==void 0)for(var Fe=y.call(this,We[z]),He=0;He<Fe.length;He+=1)Re.indexOf(Fe[He])===-1&&Re.push(Fe[He]);for(var ke=0;ke<Re.length;ke++)for(;this.pdf.internal.getNumberOfPages()<Re[ke];)w.call(this);E(Re);for(var Te=Re[0],Ze=Re[Re.length-1],ze=Te;ze<Ze+1;ze++){this.pdf.setPage(ze),this.fillStyle=ee,this.strokeStyle=re,this.lineCap=de,this.lineWidth=_e,this.lineJoin=ye;var Tt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Bt=ze===1?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],jt=ze===1?0:mt+(ze-2)*_t;if(this.ctx.clip_path.length!==0){var or=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(ce,this.posX+this.margin[3],-jt+Bt+this.ctx.prevPageLastElemOffset),N.call(this,V,!0),this.path=or}if(Ne=JSON.parse(JSON.stringify(oe)),this.path=_(Ne,this.posX+this.margin[3],-jt+Bt+this.ctx.prevPageLastElemOffset),q===!1||ze===0){var St=(ze>Te||ze<Ze)&&x.call(this);St&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tt,_t,null).clip().discardPath()),N.call(this,V,q),St&&this.pdf.restoreGraphicsState()}this.lineWidth=Ae}this.path=oe}else this.lineWidth=_e,N.call(this,V,q),this.lineWidth=Ae},N=function(V,q){if((V!=="stroke"||q||!v.call(this))&&(V==="stroke"||q||!g.call(this))){for(var ee,re,de=[],Ae=this.path,_e=0;_e<Ae.length;_e++){var ye=Ae[_e];switch(ye.type){case"begin":de.push({begin:!0});break;case"close":de.push({close:!0});break;case"mt":de.push({start:ye,deltas:[],abs:[]});break;case"lt":var ce=de.length;if(Ae[_e-1]&&!isNaN(Ae[_e-1].x)&&(ee=[ye.x-Ae[_e-1].x,ye.y-Ae[_e-1].y],ce>0)){for(;ce>=0;ce--)if(de[ce-1].close!==!0&&de[ce-1].begin!==!0){de[ce-1].deltas.push(ee),de[ce-1].abs.push(ye);break}}break;case"bct":ee=[ye.x1-Ae[_e-1].x,ye.y1-Ae[_e-1].y,ye.x2-Ae[_e-1].x,ye.y2-Ae[_e-1].y,ye.x-Ae[_e-1].x,ye.y-Ae[_e-1].y],de[de.length-1].deltas.push(ee);break;case"qct":var Ne=Ae[_e-1].x+2/3*(ye.x1-Ae[_e-1].x),oe=Ae[_e-1].y+2/3*(ye.y1-Ae[_e-1].y),We=ye.x+2/3*(ye.x1-ye.x),Re=ye.y+2/3*(ye.y1-ye.y),z=ye.x,Fe=ye.y;ee=[Ne-Ae[_e-1].x,oe-Ae[_e-1].y,We-Ae[_e-1].x,Re-Ae[_e-1].y,z-Ae[_e-1].x,Fe-Ae[_e-1].y],de[de.length-1].deltas.push(ee);break;case"arc":de.push({deltas:[],abs:[],arc:!0}),Array.isArray(de[de.length-1].abs)&&de[de.length-1].abs.push(ye)}}re=q?null:V==="stroke"?"stroke":"fill";for(var He=!1,ke=0;ke<de.length;ke++)if(de[ke].arc)for(var Te=de[ke].abs,Ze=0;Ze<Te.length;Ze++){var ze=Te[Ze];ze.type==="arc"?P.call(this,ze.x,ze.y,ze.radius,ze.startAngle,ze.endAngle,ze.counterclockwise,void 0,q,!He):H.call(this,ze.x,ze.y),He=!0}else if(de[ke].close===!0)this.pdf.internal.out("h"),He=!1;else if(de[ke].begin!==!0){var Tt=de[ke].start.x,Bt=de[ke].start.y;K.call(this,de[ke].deltas,Tt,Bt),He=!0}re&&k.call(this,re),q&&R.call(this)}},j=function(V){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return V-ee;case"top":return V+q-ee;case"hanging":return V+q-2*ee;case"middle":return V+q/2-ee;default:return V}},T=function(V){return V+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var V=function(){};return V.colorStops=[],V.addColorStop=function(q,ee){this.colorStops.push([q,ee])},V.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},V.isCanvasGradient=!0,V},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(V,q,ee,re,de,Ae,_e,ye,ce){for(var Ne=ne.call(this,ee,re,de,Ae),oe=0;oe<Ne.length;oe++){var We=Ne[oe];oe===0&&(ce?O.call(this,We.x1+V,We.y1+q):H.call(this,We.x1+V,We.y1+q)),Y.call(this,V,q,We.x2,We.y2,We.x3,We.y3,We.x4,We.y4)}ye?R.call(this):k.call(this,_e)},k=function(V){switch(V){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(V,q){this.pdf.internal.out(r(V)+" "+n(q)+" m")},M=function(V){var q;switch(V.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var ee,re,de,Ae=this.pdf.getTextDimensions(V.text),_e=j.call(this,V.y),ye=T.call(this,_e)-Ae.h,ce=this.ctx.transform.applyToPoint(new a(V.x,_e));if(this.autoPaging){var Ne=this.ctx.transform.decompose(),oe=new c;oe=(oe=(oe=oe.multiply(Ne.translate)).multiply(Ne.skew)).multiply(Ne.scale);for(var We=this.ctx.transform.applyToRectangle(new l(V.x,_e,Ae.w,Ae.h)),Re=oe.applyToRectangle(new l(V.x,ye,Ae.w,Ae.h)),z=y.call(this,Re),Fe=[],He=0;He<z.length;He+=1)Fe.indexOf(z[He])===-1&&Fe.push(z[He]);E(Fe);for(var ke=Fe[0],Te=Fe[Fe.length-1],Ze=ke;Ze<Te+1;Ze++){this.pdf.setPage(Ze);var ze=Ze===1?this.posY+this.margin[0]:this.margin[0],Tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Bt=this.pdf.internal.pageSize.height-this.margin[2],mt=Bt-this.margin[0],_t=this.pdf.internal.pageSize.width-this.margin[1],jt=_t-this.margin[3],or=Ze===1?0:Tt+(Ze-2)*mt;if(this.ctx.clip_path.length!==0){var St=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(ee,this.posX+this.margin[3],-1*or+ze),N.call(this,"fill",!0),this.path=St}var at=_([JSON.parse(JSON.stringify(Re))],this.posX+this.margin[3],-or+ze+this.ctx.prevPageLastElemOffset)[0];V.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*V.scale),de=this.lineWidth,this.lineWidth=de*V.scale);var Ut=this.autoPaging!=="text";if(Ut||at.y+at.h<=Bt){if(Ut||at.y>=ze&&at.x<=_t){var qt=Ut?V.text:this.pdf.splitTextToSize(V.text,V.maxWidth||_t-at.x)[0],Er=_([JSON.parse(JSON.stringify(We))],this.posX+this.margin[3],-or+ze+this.ctx.prevPageLastElemOffset)[0],Kt=Ut&&(Ze>ke||Ze<Te)&&x.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],jt,mt,null).clip().discardPath()),this.pdf.text(qt,Er.x,Er.y,{angle:V.angle,align:q,renderingMode:V.renderingMode}),Kt&&this.pdf.restoreGraphicsState()}}else at.y<Bt&&(this.ctx.prevPageLastElemOffset+=Bt-at.y);V.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=de)}}else V.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*V.scale),de=this.lineWidth,this.lineWidth=de*V.scale),this.pdf.text(V.text,ce.x+this.posX,ce.y+this.posY,{angle:V.angle,align:q,renderingMode:V.renderingMode,maxWidth:V.maxWidth}),V.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=de)},H=function(V,q,ee,re){ee=ee||0,re=re||0,this.pdf.internal.out(r(V+ee)+" "+n(q+re)+" l")},K=function(V,q,ee){return this.pdf.lines(V,q,ee,null,null)},Y=function(V,q,ee,re,de,Ae,_e,ye){this.pdf.internal.out([t(i(ee+V)),t(s(re+q)),t(i(de+V)),t(s(Ae+q)),t(i(_e+V)),t(s(ye+q)),"c"].join(" "))},ne=function(V,q,ee,re){for(var de=2*Math.PI,Ae=Math.PI/2;q>ee;)q-=de;var _e=Math.abs(ee-q);_e<de&&re&&(_e=de-_e);for(var ye=[],ce=re?-1:1,Ne=q;_e>1e-5;){var oe=Ne+ce*Math.min(_e,Ae);ye.push(le.call(this,V,Ne,oe)),_e-=Math.abs(oe-Ne),Ne=oe}return ye},le=function(V,q,ee){var re=(ee-q)/2,de=V*Math.cos(re),Ae=V*Math.sin(re),_e=de,ye=-Ae,ce=_e*_e+ye*ye,Ne=ce+_e*de+ye*Ae,oe=4/3*(Math.sqrt(2*ce*Ne)-Ne)/(_e*Ae-ye*de),We=_e-oe*ye,Re=ye+oe*_e,z=We,Fe=-Re,He=re+q,ke=Math.cos(He),Te=Math.sin(He);return{x1:V*Math.cos(q),y1:V*Math.sin(q),x2:We*ke-Re*Te,y2:We*Te+Re*ke,x3:z*ke-Fe*Te,y3:z*Te+Fe*ke,x4:V*Math.cos(ee),y4:V*Math.sin(ee)}},te=function(V){return 180*V/Math.PI},X=function(V,q,ee,re,de,Ae){var _e=V+.5*(ee-V),ye=q+.5*(re-q),ce=de+.5*(ee-de),Ne=Ae+.5*(re-Ae),oe=Math.min(V,de,_e,ce),We=Math.max(V,de,_e,ce),Re=Math.min(q,Ae,ye,Ne),z=Math.max(q,Ae,ye,Ne);return new l(oe,Re,We-oe,z-Re)},ue=function(V,q,ee,re,de,Ae,_e,ye){var ce,Ne,oe,We,Re,z,Fe,He,ke,Te,Ze,ze,Tt,Bt,mt=ee-V,_t=re-q,jt=de-ee,or=Ae-re,St=_e-de,at=ye-Ae;for(Ne=0;Ne<41;Ne++)ke=(Fe=(oe=V+(ce=Ne/40)*mt)+ce*((Re=ee+ce*jt)-oe))+ce*(Re+ce*(de+ce*St-Re)-Fe),Te=(He=(We=q+ce*_t)+ce*((z=re+ce*or)-We))+ce*(z+ce*(Ae+ce*at-z)-He),Ne==0?(Ze=ke,ze=Te,Tt=ke,Bt=Te):(Ze=Math.min(Ze,ke),ze=Math.min(ze,Te),Tt=Math.max(Tt,ke),Bt=Math.max(Bt,Te));return new l(Math.round(Ze),Math.round(ze),Math.round(Tt-Ze),Math.round(Bt-ze))},ve=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var V,q,ee=(V=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:V,lineDashOffset:q}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(Hr.API),function(e){var t=function(a){var l,c,u,d,h,A,g,v,x,y;for(c=[],u=0,d=(a+=l="\0\0\0\0".slice(a.length%4||4)).length;d>u;u+=4)(h=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(A=(h=((h=((h=((h=(h-(y=h%85))/85)-(x=h%85))/85)-(v=h%85))/85)-(g=h%85))/85)%85,c.push(A+33,g+33,v+33,x+33,y+33)):c.push(122);return function(w,_){for(var E=_;E>0;E--)w.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(a){var l,c,u,d,h,A=String,g="length",v=255,x="charCodeAt",y="slice",w="replace";for(a[y](-2),a=a[y](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),u=[],d=0,h=(a+=l="uuuuu"[y](a[g]%5||5))[g];h>d;d+=5)c=52200625*(a[x](d)-33)+614125*(a[x](d+1)-33)+7225*(a[x](d+2)-33)+85*(a[x](d+3)-33)+(a[x](d+4)-33),u.push(v&c>>24,v&c>>16,v&c>>8,v&c);return function(_,E){for(var I=E;I>0;I--)_.pop()}(u,l[g]),A.fromCharCode.apply(A,u)},n=function(a){return a.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),l.test(a)===!1)return"";for(var c="",u=0;u<a.length;u+=2)c+=String.fromCharCode("0x"+(a[u]+a[u+1]));return c},s=function(a){for(var l=new Uint8Array(a.length),c=a.length;c--;)l[c]=a.charCodeAt(c);return(l=yO(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};e.processDataByFilters=function(a,l){var c=0,u=a||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(Hr.API),function(e){e.loadFile=function(t,r,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var l=void 0;try{l=function(c,u,d){var h=new XMLHttpRequest,A=0,g=function(v){var x=v.length,y=[],w=String.fromCharCode;for(A=0;A<x;A+=1)y.push(w(255&v.charCodeAt(A)));return y.join("")};if(h.open("GET",c,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?d(g(this.responseText)):d(void 0)}),h.send(null),u&&h.status===200)return g(h.responseText)}(i,s,a)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(Hr.API),function(e){function t(){return(Dn.html2canvas?Promise.resolve(Dn.html2canvas):ml(()=>Promise.resolve().then(()=>g2),void 0)).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(Dn.DOMPurify?Promise.resolve(Dn.DOMPurify):ml(()=>import("./purify.es-sOfw8HaZ.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=ls(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},s=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},a=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(l,c){return l.__proto__=c||a.prototype,l},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},a.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,A=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete A.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var g=0;g<d.length;++g){var v=d[g],x=v.src.find(function(y){return y.format==="truetype"});x&&u.addFont(x.url,v.ref.name,v.ref.style)}return A.windowHeight=A.windowHeight||0,A.windowHeight=A.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):A.windowHeight,u.context2d.save(!0),c(this.prop.container,A)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},a.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},a.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},a.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},a.prototype.get=function(l,c){return this.then(function(){var u=l in a.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},a.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},a.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||Hr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},a.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,h){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(A){return u.updateProgress(null,d),A}).then(d,h).then(function(A){return u.updateProgress(1),A})})},a.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:a.convert(Object.assign({},d),Promise.prototype),A=u.call(h,l,c);return a.convert(A,d.__proto__)},a.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},a.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},a.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return a.convert(c,this)},a.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},a.prototype.error=function(l){return this.then(function(){throw new Error(l)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Hr.getPageSize=function(l,c,u){if(ls(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var h,A=(""+u).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+c}var v,x=0,y=0;if(g.hasOwnProperty(A))x=g[A][1]/h,y=g[A][0]/h;else try{x=u[1],y=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",y>x&&(v=y,y=x,x=v);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",x>y&&(v=y,y=x,x=v)}return{width:y,height:x,unit:c,k:h,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(O6):null;var u=new a(c);return c.worker?u:u.from(l).doCallback()}}(Hr.API),Hr.API.addJS=function(e){return DK=e,this.internal.events.subscribe("postPutResources",function(){YC=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(YC+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),OK=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+DK+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){YC!==void 0&&OK!==void 0&&this.internal.out("/Names <</JavaScript "+YC+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],l=n.exec(a);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(s=0;s<u;s++){var h=r.internal.newObject();d.push(h);var A=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+A.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<d.length;s++)r.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=this.count=this.count_r({count:0},a);if(l>0&&this.line("/Count "+l),a.options&&a.options.pageNumber){var c=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(Hr.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,s,a,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(h){for(var A,g=256*h.charCodeAt(4)+h.charCodeAt(5),v=h.length,x={width:0,height:0,numcomponents:1},y=4;y<v;y+=2){if(y+=g,t.indexOf(h.charCodeAt(y+1))!==-1){A=256*h.charCodeAt(y+5)+h.charCodeAt(y+6),x={width:256*h.charCodeAt(y+7)+h.charCodeAt(y+8),height:A,numcomponents:h.charCodeAt(y+9)};break}g=256*h.charCodeAt(y+2)+h.charCodeAt(y+3)}return x}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:i}}return d}}(Hr.API),Hr.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,s=_We(e,{checkCrc:!0}),a=s.width,l=s.height,c=s.channels,u=s.palette,d=s.depth;i=u&&c===1?function(P){for(var k=P.width,R=P.height,O=P.data,M=P.palette,H=P.depth,K=!1,Y=[],ne=[],le=void 0,te=!1,X=0,ue=0;ue<M.length;ue++){var ve=IW(M[ue],4),V=ve[0],q=ve[1],ee=ve[2],re=ve[3];Y.push(V,q,ee),re!=null&&(re===0?(X++,ne.length<1&&ne.push(ue)):re<255&&(te=!0))}if(te||X>1){K=!0,ne=void 0;var de=k*R;le=new Uint8Array(de);for(var Ae=new DataView(O.buffer),_e=0;_e<de;_e++){var ye=L6(Ae,_e,H),ce=IW(M[ye],4)[3];le[_e]=ce}}else X===0&&(ne=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:K?8:void 0,colorBytes:O,alphaBytes:le,needSMask:K,palette:Y,mask:ne}}(s):c===2||c===4?function(P){for(var k=P.data,R=P.width,O=P.height,M=P.channels,H=P.depth,K=M===2?"DeviceGray":"DeviceRGB",Y=M-1,ne=R*O,le=Y,te=ne*le,X=1*ne,ue=Math.ceil(te*H/8),ve=Math.ceil(X*H/8),V=new Uint8Array(ue),q=new Uint8Array(ve),ee=new DataView(k.buffer),re=new DataView(V.buffer),de=new DataView(q.buffer),Ae=!1,_e=0;_e<ne;_e++){for(var ye=_e*M,ce=0;ce<le;ce++)zK(re,L6(ee,ye+ce,H),_e*le+ce,H);var Ne=L6(ee,ye+le,H);Ne<(1<<H)-1&&(Ae=!0),zK(de,Ne,1*_e,H)}return{colorSpace:K,colorsPerPixel:Y,sMaskBitsPerComponent:Ae?H:void 0,colorBytes:V,alphaBytes:q,needSMask:Ae}}(s):function(P){var k=P.data,R=P.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:R,colorsPerPixel:R==="DeviceGray"?1:3,colorBytes:k instanceof Uint16Array?function(O){for(var M=O.length,H=new Uint8Array(2*M),K=new DataView(H.buffer,H.byteOffset,H.byteLength),Y=0;Y<M;Y++)K.setUint16(2*Y,O[Y],!1);return H}(k):k,needSMask:!1}}(s);var h,A,g,v=i,x=v.colorSpace,y=v.colorsPerPixel,w=v.sMaskBitsPerComponent,_=v.colorBytes,E=v.alphaBytes,I=v.needSMask,N=v.palette,j=v.mask,T=null;return n!==Hr.API.image_compression.NONE&&typeof yO=="function"?(T=function(P){var k;switch(P){case Hr.API.image_compression.FAST:k=11;break;case Hr.API.image_compression.MEDIUM:k=13;break;case Hr.API.image_compression.SLOW:k=14;break;default:k=12}return k}(n),h=this.decode.FLATE_DECODE,A="/Predictor ".concat(T," /Colors ").concat(y," /BitsPerComponent ").concat(d," /Columns ").concat(a),e=UK(_,Math.ceil(a*y*d/8),y,d,n),I&&(g=UK(E,Math.ceil(a*w/8),1,w,n))):(h=void 0,A=void 0,e=_,I&&(g=E)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:r,data:e,index:t,filter:h,decodeParameters:A,transparency:j,palette:N,sMask:g,predictor:T,width:a,height:l,bitsPerComponent:d,sMaskBitsPerComponent:w,colorSpace:x}}},function(e){e.processGIF89A=function(t,r,n,i){var s=new VWe(t),a=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:a,height:l},d=new R6(100).encode(u,100);return e.processJPEG.call(this,d,r,n,i)},e.processGIF87A=e.processGIF89A}(Hr.API),Md.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Md.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){xs.log("bit decode error:"+r)}},Md.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[a+4*l]=c.blue,this.data[a+4*l+1]=c.green,this.data[a+4*l+2]=c.red,this.data[a+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Md.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,l=s>>4,c=15&s,u=this.palette[l];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},Md.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},Md.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&t)/t*255|0,l=(s>>5&t)/t*255|0,c=(s>>10&t)/t*255|0,u=s>>15?255:0,d=n*this.width*4+4*i;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=u}this.pos+=e}},Md.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&t)/t*255|0,c=(a>>5&r)/r*255|0,u=(a>>11)/t*255|0,d=i*this.width*4+4*s;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},Md.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},Md.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=a}},Md.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var s=new Md(t,!1),a=s.width,l=s.height,c={data:s.getData(),width:a,height:l},u=new R6(100).encode(c,100);return e.processJPEG.call(this,u,r,n,i)}}(Hr.API),WK.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var s=new WK(t),a=s.width,l=s.height,c={data:s.getData(),width:a,height:l},u=new R6(100).encode(c,100);return e.processJPEG.call(this,u,r,n,i)}}(Hr.API),Hr.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),l=0,c=0,u=0;u<i;u+=4){var d=n[u],h=n[u+1],A=n[u+2],g=n[u+3];s[l++]=d,s[l++]=h,s[l++]=A,a[c++]=g}var v=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:v,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Hr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},P1=Hr.API,ZC=P1.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:i.metadata.Unicode.kerning,d=u.fof?u.fof:1,h=t.doKerning!==!1,A=0,g=e.length,v=0,x=l[0]||c,y=[];for(r=0;r<g;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?y.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(A=h&&ls(u[n])==="object"&&!isNaN(parseInt(u[n][v],10))?u[n][v]/d:0,y.push((l[n]||x)/c+A)),v=n;return y},LK=P1.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return P1.processArabic&&(e=P1.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:ZC.apply(this,arguments).reduce(function(s,a){return s+a},0)},RK=function(e,t,r,n){for(var i=[],s=0,a=e.length,l=0;s!==a&&l+t[s]<r;)l+=t[s],s++;i.push(e.slice(0,s));var c=s;for(l=0;s!==a;)l+t[s]>n&&(i.push(e.slice(c,s)),l=0,c=s),l+=t[s],s++;return c!==s&&i.push(e.slice(c,s)),i},MK=function(e,t,r){r||(r={});var n,i,s,a,l,c,u,d=[],h=[d],A=r.textIndent||0,g=0,v=0,x=e.split(" "),y=ZC.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?x[0].length+2:r.lineIndent||0){var w=Array(c).join(" "),_=[];x.map(function(I){(I=I.split(/\s*\n/)).length>1?_=_.concat(I.map(function(N,j){return(j&&N.length?`
`:"")+N})):_.push(I[0])}),x=_,c=LK.apply(this,[w,r])}for(s=0,a=x.length;s<a;s++){var E=0;if(n=x[s],c&&n[0]==`
`&&(n=n.substr(1),E=1),A+g+(v=(i=ZC.apply(this,[n,r])).reduce(function(I,N){return I+N},0))>t||E){if(v>t){for(l=RK.apply(this,[n,i,t-(A+g),t]),d.push(l.shift()),d=[l.pop()];l.length;)h.push([l.shift()]);v=i.slice(n.length-(d[0]?d[0].length:0)).reduce(function(I,N){return I+N},0)}else d=[n];h.push(d),A=v+c,g=y}else d.push(n),A+=g+v,g=y}return u=c?function(I,N){return(N?w:"")+I.join(" ")}:function(I){return I.join(" ")},h.map(u)},P1.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle),A="Unicode";return h.metadata[A]?{widths:h.metadata[A].widths||{0:1},kerning:h.metadata[A].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(MK.apply(this,[n[l],a,s]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[r[s]]=t[s],i[t[s]]=r[s];var a=function(A){return"0x"+parseInt(A,10).toString(16)},l=e.__fontmetrics__.compress=function(A){var g,v,x,y,w=["{"];for(var _ in A){if(g=A[_],isNaN(parseInt(_,10))?v="'"+_+"'":(_=parseInt(_,10),v=(v=a(_).slice(2)).slice(0,-1)+i[v.slice(-1)]),typeof g=="number")g<0?(x=a(g).slice(3),y="-"):(x=a(g).slice(2),y=""),x=y+x.slice(0,-1)+i[x.slice(-1)];else{if(ls(g)!=="object")throw new Error("Don't know what to do with value type "+ls(g)+".");x=l(g)}w.push(v+x)}return w.push("}"),w.join("")},c=e.__fontmetrics__.uncompress=function(A){if(typeof A!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,v,x,y,w={},_=1,E=w,I=[],N="",j="",T=A.length-1,P=1;P<T;P+=1)(y=A[P])=="'"?g?(x=g.join(""),g=void 0):g=[]:g?g.push(y):y=="{"?(I.push([E,x]),E={},x=void 0):y=="}"?((v=I.pop())[0][v[1]]=E,x=void 0,E=v[0]):y=="-"?_=-1:x===void 0?n.hasOwnProperty(y)?(N+=n[y],x=parseInt(N,16)*_,_=1,N=""):N+=y:n.hasOwnProperty(y)?(j+=n[y],E[x]=parseInt(j,16)*_,_=1,x=void 0,j=""):j+=y;return w},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(A){var g=A.font,v=h.Unicode[g.postScriptName];v&&(g.metadata.Unicode={},g.metadata.Unicode.widths=v.widths,g.metadata.Unicode.kerning=v.kerning);var x=d.Unicode[g.postScriptName];x&&(g.metadata.Unicode.encoding=x,g.encoding=x.codePages[0])}])}(Hr.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(h4(l)),a.metadata=e.API.TTFFont.open(l),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(Hr),Hr.API.addSvgAsImage=function(e,t,r,n,i,s,a,l){if(isNaN(t)||isNaN(r))throw xs.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw xs.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=i;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(Dn.canvg?Promise.resolve(Dn.canvg):ml(()=>import("./index.es-B5f4YqpE.js"),[])).catch(function(A){return Promise.reject(new Error("Could not load canvg: "+A))}).then(function(A){return A.default?A.default:A}).then(function(A){return A.fromString(u,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(A){return A.render(d)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),t,r,n,i,a,l)})},Hr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},Hr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(a),c=[],u=0,d=0,h=0;function A(v,x){var y,w=!1;for(y=0;y<v.length;y+=1)v[y]===x&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var g=l.length;for(h=0;h<g;h+=1)r[l[h]].value=r[l[h]].defaultValue,r[l[h]].explicitSet=!1}if(ls(e)==="object"){for(i in e)if(s=e[i],A(l,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&A(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")c.push(String(s[u]-1));else if(s[u].length>1){for(d=0;d<s[u].length;d+=1)typeof s[u][d]!="number"&&(n=!1);n===!0&&c.push([s[u][0]-1,s[u][1]-1].join(" "))}r[i].value="["+c.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,x=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?x.push("/"+v+" /"+r[v].value):x.push("/"+v+" "+r[v].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+a.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Hr.API),function(e){var t=e.API,r=t.pdfEscape16=function(s,a){for(var l,c=a.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],h=0,A=s.length;h<A;++h){if(l=a.metadata.characterToGlyph(s.charCodeAt(h)),a.metadata.glyIdsUsed.push(l),a.metadata.toUnicode[l]=s.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(a.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(s){var a,l,c,u,d,h,A;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,A=(l=Object.keys(s).sort(function(g,v){return g-v})).length;h<A;h++)a=l[h],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(u=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(a){var l=a.font,c=a.out,u=a.newObject,d=a.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,A=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),g="",v=0;v<A.length;v++)g+=String.fromCharCode(A[v]);var x=u();d({data:g,addLength1:!0,objectId:x}),c("endobj");var y=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var w=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+X1(l.fontName)),c("/FontFile2 "+x+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var _=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+X1(l.fontName)),c("/FontDescriptor "+w+" 0 R"),c("/W "+e.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+y+" 0 R"),c("/BaseFont /"+X1(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+_+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(a){var l=a.font,c=a.out,u=a.newObject,d=a.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,A="",g=0;g<h.length;g++)A+=String.fromCharCode(h[g]);var v=u();d({data:A,addLength1:!0,objectId:v}),c("endobj");var x=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var y=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+X1(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var w=0;w<l.metadata.hmtx.widths.length;w++)l.metadata.hmtx.widths[w]=parseInt(l.metadata.hmtx.widths[w]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+X1(l.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,l=s.text||"",c=s.x,u=s.y,d=s.options||{},h=s.mutex||{},A=h.pdfEscape,g=h.activeFontKey,v=h.fonts,x=g,y="",w=0,_="",E=v[x].encoding;if(v[x].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:h};for(_=l,x=g,Array.isArray(l)&&(_=l[0]),w=0;w<_.length;w+=1)v[x].metadata.hasOwnProperty("cmap")&&(a=v[x].metadata.cmap.unicode.codeMap[_[w].charCodeAt(0)]),a||_[w].charCodeAt(0)<256&&v[x].metadata.hasOwnProperty("Unicode")?y+=_[w]:y+="";var I="";return parseInt(x.slice(1))<14||E==="WinAnsiEncoding"?I=A(y,x).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(I=r(y,v[x])),h.isHex=!0,{text:I,x:c,y:u,options:d,mutex:h}};t.events.push(["postProcessText",function(s){var a=s.text||"",l=[],c={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?l.push([i(Object.assign({},c,{text:a[u][0]})).text,a[u][1],a[u][2]]):l.push(i(Object.assign({},c,{text:a[u]})).text);s.text=l}else s.text=i(Object.assign({},c,{text:a})).text}])}(Hr),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Hr.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,s,a,l,c,u,d,h=t,A=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,E=0;this.__bidiEngine__={};var I=function(O){var M=O.charCodeAt(),H=M>>8,K=x[H];return K!==void 0?h[256*K+(255&M)]:H===252||H===253?"AL":w.test(H)?"L":H===8?"R":"N"},N=function(O){for(var M,H=0;H<O.length;H++){if((M=I(O.charAt(H)))==="L")return!1;if(M==="R")return!0}return!1},j=function(O,M,H,K){var Y,ne,le,te,X=M[K];switch(X){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"N":case"AN":break;case"EN":_&&(X="AN");break;case"AL":_=!0,X="R";break;case"WS":case"BN":X="N";break;case"CS":K<1||K+1>=M.length||(Y=H[K-1])!=="EN"&&Y!=="AN"||(ne=M[K+1])!=="EN"&&ne!=="AN"?X="N":_&&(ne="AN"),X=ne===Y?ne:"N";break;case"ES":X=(Y=K>0?H[K-1]:"B")==="EN"&&K+1<M.length&&M[K+1]==="EN"?"EN":"N";break;case"ET":if(K>0&&H[K-1]==="EN"){X="EN";break}if(_){X="N";break}for(le=K+1,te=M.length;le<te&&M[le]==="ET";)le++;X=le<te&&M[le]==="EN"?"EN":"N";break;case"NSM":if(a&&!l){for(te=M.length,le=K+1;le<te&&M[le]==="NSM";)le++;if(le<te){var ue=O[K],ve=ue>=1425&&ue<=2303||ue===64286;if(Y=M[le],ve&&(Y==="R"||Y==="AL")){X="R";break}}}X=K<1||(Y=M[K-1])==="B"?"N":H[K-1];break;case"B":_=!1,i=!0,X=E;break;case"S":s=!0,X="N"}return X},T=function(O,M,H){var K=O.split("");return H&&P(K,H,{hiLevel:E}),K.reverse(),M&&M.reverse(),K.join("")},P=function(O,M,H){var K,Y,ne,le,te,X=-1,ue=O.length,ve=0,V=[],q=E?g:A,ee=[];for(_=!1,i=!1,s=!1,Y=0;Y<ue;Y++)ee[Y]=I(O[Y]);for(ne=0;ne<ue;ne++){if(te=ve,V[ne]=j(O,ee,V,ne),K=240&(ve=q[te][v[V[ne]]]),ve&=15,M[ne]=le=q[ve][5],K>0)if(K===16){for(Y=X;Y<ne;Y++)M[Y]=1;X=-1}else X=-1;if(q[ve][6])X===-1&&(X=ne);else if(X>-1){for(Y=X;Y<ne;Y++)M[Y]=le;X=-1}ee[ne]==="B"&&(M[ne]=0),H.hiLevel|=le}s&&function(re,de,Ae){for(var _e=0;_e<Ae;_e++)if(re[_e]==="S"){de[_e]=E;for(var ye=_e-1;ye>=0&&re[ye]==="WS";ye--)de[ye]=E}}(ee,M,ue)},k=function(O,M,H,K,Y){if(!(Y.hiLevel<O)){if(O===1&&E===1&&!i)return M.reverse(),void(H&&H.reverse());for(var ne,le,te,X,ue=M.length,ve=0;ve<ue;){if(K[ve]>=O){for(te=ve+1;te<ue&&K[te]>=O;)te++;for(X=ve,le=te-1;X<le;X++,le--)ne=M[X],M[X]=M[le],M[le]=ne,H&&(ne=H[X],H[X]=H[le],H[le]=ne);ve=te}ve++}}},R=function(O,M,H){var K=O.split(""),Y={hiLevel:E};return H||(H=[]),P(K,H,Y),function(ne,le,te){if(te.hiLevel!==0&&d)for(var X,ue=0;ue<ne.length;ue++)le[ue]===1&&(X=y.indexOf(ne[ue]))>=0&&(ne[ue]=y[X+1])}(K,H,Y),k(2,K,M,H,Y),k(1,K,M,H,Y),K.join("")};return this.__bidiEngine__.doBidiReorder=function(O,M,H){if(function(Y,ne){if(ne)for(var le=0;le<Y.length;le++)ne[le]=le;l===void 0&&(l=N(Y)),u===void 0&&(u=N(Y))}(O,M),a||!c||u)if(a&&c&&l^u)E=l?1:0,O=T(O,M,H);else if(!a&&c&&u)E=l?1:0,O=R(O,M,H),O=T(O,M);else if(!a||l||c||u){if(a&&!c&&l^u)O=T(O,M),l?(E=0,O=R(O,M,H)):(E=1,O=R(O,M,H),O=T(O,M));else if(a&&l&&!c&&u)E=1,O=R(O,M,H),O=T(O,M);else if(!a&&!c&&l^u){var K=d;l?(E=1,O=R(O,M,H),E=0,d=!1,O=R(O,M,H),d=K):(E=0,O=R(O,M,H),O=T(O,M),E=1,d=!1,O=R(O,M,H),d=K,O=T(O,M))}}else E=0,O=R(O,M,H);else E=l?1:0,O=R(O,M,H);return O},this.__bidiEngine__.setOptions=function(O){O&&(a=O.isInputVisual,c=O.isOutputVisual,l=O.isInputRtl,u=O.isOutputRtl,d=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(a=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?a.push([r.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):a.push([r.doBidiReorder(i[l])]);n.text=a}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(Hr),Hr.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Cp(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new sKe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new zWe(this.contents),this.head=new WWe(this),this.name=new ZWe(this),this.cmap=new Xhe(this),this.toUnicode={},this.hhea=new KWe(this),this.maxp=new JWe(this),this.hmtx=new eKe(this),this.post=new XWe(this),this.os2=new qWe(this),this.loca=new iKe(this),this.glyf=new tKe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,l,c,u;for(u=[],a=0,l=(c=this.bbox).length;a<l;a++)t=c[a],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,s,a,l;for(a=0,s=0,l=(t=""+t).length;0<=l?s<l:s>l;s=0<=l?++s:--s)i=t.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return a*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var _f,Cp=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,s,a,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*a+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,s;for(s=[],n=0,i=t.length;n<i;n++)r=t[n],s.push(this.writeByte(r));return s},e}(),zWe=function(){var e;function t(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,s,a,l,c,u,d,h,A,g,v,x;for(x in g=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(g)/c),a=Math.floor(h/c),d=16*g-h,(i=new Cp).writeInt(this.scalarType),i.writeShort(g),i.writeShort(h),i.writeShort(a),i.writeShort(d),s=16*g,u=i.pos+s,l=null,v=[],r)for(A=r[x],i.writeString(x),i.writeInt(e(A)),i.writeInt(u),i.writeInt(A.length),v=v.concat(A),x==="head"&&(l=u),u+=A.length;u%4;)v.push(0),u++;return i.write(v),n=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(n),i.data},e=function(r){var n,i,s,a;for(r=Yhe.call(r);r.length%4;)r.push(0);for(s=new Cp(r),i=0,n=0,a=r.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},t}(),GWe={}.hasOwnProperty,_h=function(e,t){for(var r in t)GWe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};_f=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var WWe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _h(e,_f),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Cp).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),KK=function(){function e(t,r){var n,i,s,a,l,c,u,d,h,A,g,v,x,y,w,_,E;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(g=t.readUInt16(),A=g/2,t.pos+=6,s=function(){var I,N;for(N=[],c=I=0;0<=A?I<A:I>A;c=0<=A?++I:--I)N.push(t.readUInt16());return N}(),t.pos+=2,x=function(){var I,N;for(N=[],c=I=0;0<=A?I<A:I>A;c=0<=A?++I:--I)N.push(t.readUInt16());return N}(),u=function(){var I,N;for(N=[],c=I=0;0<=A?I<A:I>A;c=0<=A?++I:--I)N.push(t.readUInt16());return N}(),d=function(){var I,N;for(N=[],c=I=0;0<=A?I<A:I>A;c=0<=A?++I:--I)N.push(t.readUInt16());return N}(),i=(this.length-t.pos+this.offset)/2,l=function(){var I,N;for(N=[],c=I=0;0<=i?I<i:I>i;c=0<=i?++I:--I)N.push(t.readUInt16());return N}(),c=w=0,E=s.length;w<E;c=++w)for(y=s[c],n=_=v=x[c];v<=y?_<=y:_>=y;n=v<=y?++_:--_)d[c]===0?a=n+u[c]:(a=l[d[c]/2+(n-v)-(A-c)]||0)!==0&&(a+=u[c]),this.codeMap[n]=65535&a}t.pos=h}return e.encode=function(t,r){var n,i,s,a,l,c,u,d,h,A,g,v,x,y,w,_,E,I,N,j,T,P,k,R,O,M,H,K,Y,ne,le,te,X,ue,ve,V,q,ee,re,de,Ae,_e,ye,ce,Ne,oe;switch(K=new Cp,a=Object.keys(t).sort(function(We,Re){return We-Re}),r){case"macroman":for(x=0,y=function(){var We=[];for(v=0;v<256;++v)We.push(0);return We}(),_={0:0},s={},Y=0,X=a.length;Y<X;Y++)_[ye=t[i=a[Y]]]==null&&(_[ye]=++x),s[i]={old:t[i],new:_[t[i]]},y[i]=_[t[i]];return K.writeUInt16(1),K.writeUInt16(0),K.writeUInt32(12),K.writeUInt16(0),K.writeUInt16(262),K.writeUInt16(0),K.write(y),{charMap:s,subtable:K.data,maxGlyphID:x+1};case"unicode":for(M=[],h=[],E=0,_={},n={},w=u=null,ne=0,ue=a.length;ne<ue;ne++)_[N=t[i=a[ne]]]==null&&(_[N]=++E),n[i]={old:N,new:_[N]},l=_[N]-i,w!=null&&l===u||(w&&h.push(w),M.push(i),u=l),w=i;for(w&&h.push(w),h.push(65535),M.push(65535),R=2*(k=M.length),P=2*Math.pow(Math.log(k)/Math.LN2,2),A=Math.log(P/2)/Math.LN2,T=2*k-P,c=[],j=[],g=[],v=le=0,ve=M.length;le<ve;v=++le){if(O=M[v],d=h[v],O===65535){c.push(0),j.push(0);break}if(O-(H=n[O].new)>=32768)for(c.push(0),j.push(2*(g.length+k-v)),i=te=O;O<=d?te<=d:te>=d;i=O<=d?++te:--te)g.push(n[i].new);else c.push(H-O),j.push(0)}for(K.writeUInt16(3),K.writeUInt16(1),K.writeUInt32(12),K.writeUInt16(4),K.writeUInt16(16+8*k+2*g.length),K.writeUInt16(0),K.writeUInt16(R),K.writeUInt16(P),K.writeUInt16(A),K.writeUInt16(T),Ae=0,V=h.length;Ae<V;Ae++)i=h[Ae],K.writeUInt16(i);for(K.writeUInt16(0),_e=0,q=M.length;_e<q;_e++)i=M[_e],K.writeUInt16(i);for(ce=0,ee=c.length;ce<ee;ce++)l=c[ce],K.writeUInt16(l);for(Ne=0,re=j.length;Ne<re;Ne++)I=j[Ne],K.writeUInt16(I);for(oe=0,de=g.length;oe<de;oe++)x=g[oe],K.writeUInt16(x);return{charMap:n,subtable:K.data,maxGlyphID:E+1}}},e}(),Xhe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _h(e,_f),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new KK(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,i;return r==null&&(r="macroman"),n=KK.encode(t,r),(i=new Cp).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},e}(),KWe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _h(e,_f),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),qWe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _h(e,_f),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),XWe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _h(e,_f),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)r=t.readByte(),i.push(this.names.push(t.readString(r)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var a,l,c;for(c=[],s=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;s=0<=l?++a:--a)c.push(t.readUInt32());return c}).call(this)}},e}(),YWe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},ZWe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _h(e,_f),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,i,s,a,l,c,u,d,h,A;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},s=d=0,h=n.length;d<h;s=++d)i=n[s],t.pos=i.offset,u=t.readString(i.length),a=new YWe(u,i),c[A=i.nameID]==null&&(c[A]=[]),c[i.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),JWe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _h(e,_f),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),eKe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _h(e,_f),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,i,s,a,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)d.push(t.readInt16());return d}(),this.widths=(function(){var u,d,h,A;for(A=[],u=0,d=(h=this.metrics).length;u<d;u++)s=h[u],A.push(s.advance);return A}).call(this),n=this.widths[this.widths.length-1],c=[],r=a=0;0<=i?a<i:a>i;r=0<=i?++a:--a)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),Yhe=[].slice,tKe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _h(e,_f),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,i,s,a,l,c,u,d,h;return t in this.cache?this.cache[t]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(t),(i=s.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,a=(l=new Cp(r.read(i))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[t]=a===-1?new nKe(l,u,h,c,d):new rKe(l,a,u,h,c,d),this.cache[t]))},e.prototype.encode=function(t,r,n){var i,s,a,l,c;for(a=[],s=[],l=0,c=r.length;l<c;l++)i=t[r[l]],s.push(a.length),i&&(a=a.concat(i.encode(n)));return s.push(a.length),{table:a,offsets:s}},e}(),rKe=function(){function e(t,r,n,i,s,a){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),nKe=function(){function e(t,r,n,i,s){var a,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;l=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&l;)a.pos+=1&l?4:2,128&l?a.pos+=8:64&l?a.pos+=4:8&l&&(a.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Cp(Yhe.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),iKe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _h(e,_f),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(t.readUInt32());return s}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<n.length;++a)if(n[a]=i,s<r.length&&r[s]==a){++s,n[a]=i;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(i+=c)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},e}(),sKe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,s,a,l,c;for(i={},a=0,l=t.length;a<l;a++)i[s=t[a]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in c=this.glyphsFor(r))n=c[s],i[s]=n;return i},e.prototype.encode=function(t,r){var n,i,s,a,l,c,u,d,h,A,g,v,x,y,w;for(i in n=Xhe.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),g={0:0},w=n.charMap)g[(c=w[i]).old]=c.new;for(v in A=n.maxGlyphID,a)v in g||(g[v]=A++);return d=function(_){var E,I;for(E in I={},_)I[_[E]]=E;return I}(g),h=Object.keys(d).sort(function(_,E){return _-E}),x=function(){var _,E,I;for(I=[],_=0,E=h.length;_<E;_++)l=h[_],I.push(d[l]);return I}(),s=this.font.glyf.encode(a,x,g),u=this.font.loca.encode(s.offsets,x),y={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},e}();Hr.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,s,a;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)a=r[i],s.push("/"+i+" "+t.convert(a));return s.push(">>"),s.join(`
`)}return""+r},t}();const aKe={name:"Your Company Name",address:"123 Business Street, City, State 12345",phone:"+1 (555) 123-4567",email:"info@yourcompany.com",website:"www.yourcompany.com"},oKe=(e,t=aKe)=>{const r=new Hr,n=[41,128,185],i=[52,73,94],s=[236,240,241];r.setFillColor(...n),r.rect(0,0,210,40,"F"),r.setTextColor(255,255,255),r.setFontSize(24),r.setFont("helvetica","bold"),r.text(t.name,20,25),r.setFontSize(16),r.text("INVOICE",150,25),r.setTextColor(...i),r.setFontSize(10),r.setFont("helvetica","normal"),r.text(t.address,20,50),r.text(`Phone: ${t.phone}`,20,57),r.text(`Email: ${t.email}`,20,64),t.website&&r.text(`Website: ${t.website}`,20,71),r.setFont("helvetica","bold"),r.text("Invoice Number:",120,50),r.text("Date:",120,57),r.setFont("helvetica","normal"),r.text(e.invoiceNumber,160,50),r.text(new Date(e.saleDate).toLocaleDateString(),160,57);let a=25;e.customerAddress&&(a=32),r.setFillColor(...s),r.rect(20,80,170,a,"F"),r.setTextColor(...i),r.setFont("helvetica","bold"),r.text("Bill To:",25,90),r.setFont("helvetica","normal");let l=97;r.text(e.customerName,25,l),e.customerMobile&&(l+=7,r.text(`Mobile: ${e.customerMobile}`,25,l)),e.customerAddress&&(l+=7,r.text(`Address: ${e.customerAddress}`,25,l));const c=80+a+15;r.setFillColor(...n),r.rect(20,c,170,10,"F"),r.setTextColor(255,255,255),r.setFont("helvetica","bold"),r.setFontSize(10),r.text("Item",25,c+7),r.text("Qty",120,c+7),r.text("Unit Price",140,c+7),r.text("Total",170,c+7);let u=c+15;r.setTextColor(...i),r.setFont("helvetica","normal"),e.items.forEach((h,A)=>{A%2===0&&(r.setFillColor(248,249,250),r.rect(20,u-5,170,10,"F")),r.text(h.name,25,u),r.text(h.quantity.toString(),125,u),r.text(`${h.unitPrice.toFixed(2)}`,145,u),r.text(`${h.total.toFixed(2)}`,175,u),u+=10});const d=u+10;return r.setDrawColor(...i),r.line(120,d,190,d),r.setFont("helvetica","normal"),r.text("Subtotal:",130,d+10),r.text(`${e.subtotal.toFixed(2)}`,175,d+10),r.text("GST:",130,d+20),r.text(`${e.gst.toFixed(2)}`,175,d+20),r.setFont("helvetica","bold"),r.setFontSize(12),r.text("Total:",130,d+30),r.text(`${e.total.toFixed(2)}`,175,d+30),r.setFontSize(8),r.setFont("helvetica","normal"),r.setTextColor(128,128,128),r.text("Thank you for Shopping",20,275),r.text("Visit Again",20,280),r.setFontSize(6),r.text("Thank you for your purchase!",20,288),r.text("Support: 8482816489 | saniyajamadar8482@gmail.com",20,292),r.text("SANIYA MUNIR JAMADAR | Kolhapur, Maharashtra-416010",20,296),r},Zhe=(e,t)=>{oKe(e,t).save(`invoice-${e.invoiceNumber}.pdf`)},lKe=({invoiceData:e,open:t,onClose:r})=>{const[n,i]=C.useState(!1),s=async()=>{i(!0);try{Zhe(e)}catch(a){console.error("Error downloading invoice:",a)}finally{i(!1)}};return o.jsx(Py,{open:t,onOpenChange:r,children:o.jsxs(Ym,{className:"w-[95vw] max-w-4xl max-h-[90vh] overflow-y-auto mx-4",children:[o.jsxs(Fy,{className:"flex flex-row items-center justify-between",children:[o.jsx(Oy,{className:"text-2xl font-bold gradient-text",children:"Invoice Preview"}),o.jsx(et,{variant:"ghost",size:"sm",onClick:r,children:o.jsx(ef,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"bg-white text-black p-8 rounded-lg shadow-lg",children:[o.jsxs("div",{style:{position:"relative",width:"100%",overflow:"hidden",background:"#1e293b",color:"white",minHeight:"220px"},children:[o.jsx("div",{style:{position:"absolute",top:0,right:0,width:"70%",height:"100px",background:"#dc2626",borderBottomLeftRadius:"50px",zIndex:10,display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 32px"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px",fontSize:"13px",fontWeight:"700"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(G4,{className:"h-4 w-4",style:{color:"white"}}),o.jsx("span",{style:{color:"white",fontWeight:"bold",fontSize:"13px"},children:"9850127385"})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",borderLeft:"2px solid rgba(255, 255, 255, 0.4)",paddingLeft:"20px"},children:[o.jsx(Oie,{className:"h-4 w-4",style:{color:"white"}}),o.jsx("div",{style:{display:"flex",flexDirection:"column",textAlign:"right",lineHeight:"1.4"},children:o.jsx("span",{style:{color:"white",fontWeight:"bold",fontSize:"12px"},children:"SUNILVPATIL27@GMAIL.COM"})})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",borderLeft:"2px solid rgba(255, 255, 255, 0.4)",paddingLeft:"20px"},children:[o.jsx(Jd,{className:"h-4 w-4",style:{color:"white"}}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",textAlign:"right",lineHeight:"1.4",maxWidth:"220px"},children:[o.jsx("span",{style:{color:"white",fontWeight:"bold",fontSize:"11px"},children:"M NO278, A/P SHIRASHI,"}),o.jsx("span",{style:{color:"white",fontWeight:"bold",fontSize:"11px"},children:"SANGLI, Sangli, MAHARASHTRA, 415408"})]})]})]})}),o.jsx("div",{style:{position:"absolute",bottom:0,right:0,width:"40%",height:"100px",background:"white",borderTopLeftRadius:"80px",zIndex:10,display:"flex",alignItems:"flex-end",justifyContent:"flex-end",padding:"28px"},children:o.jsx("h2",{style:{fontSize:"42px",color:"black",fontWeight:"600",fontFamily:"Arial, sans-serif",margin:0,lineHeight:"1"},children:"Tax Invoice"})}),o.jsxs("div",{style:{position:"relative",zIndex:0,padding:"32px",paddingBottom:"12px"},children:[o.jsx("div",{style:{background:"white",padding:"10px",width:"200px",height:"100px",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"28px",borderRadius:"4px"},children:o.jsxs("div",{style:{color:"black",fontWeight:"bold",fontSize:"20px",display:"flex",flexDirection:"column",alignItems:"center"},children:[o.jsx("span",{style:{color:"#dc2626",fontSize:"36px"},children:"dp"}),o.jsx("span",{style:{color:"#f97316",fontSize:"12px",letterSpacing:"0.2em"},children:"ENTERPRISES"})]})}),o.jsxs("div",{style:{marginTop:"36px",marginBottom:"36px",zIndex:20,position:"relative"},children:[o.jsx("h1",{style:{fontSize:"30px",fontWeight:"600",letterSpacing:"0.08em",textTransform:"uppercase",color:"white",fontFamily:"Arial, sans-serif",margin:0,marginBottom:"10px",lineHeight:"1.2"},children:"SHREE DATTA ENTERPRISES"}),o.jsxs("div",{style:{fontSize:"13px",color:"#e5e7eb",marginTop:"10px",lineHeight:"1.6"},children:[o.jsx("p",{style:{margin:"5px 0",fontWeight:"500"},children:"GSTIN: 27AOJPP8472L2Z2"}),o.jsx("p",{style:{margin:"5px 0",fontWeight:"500"},children:"State: 27 - Maharashtra"})]})]})]})]}),o.jsx("div",{style:{display:"flex",justifyContent:"flex-end",padding:"10px 32px",background:"white",marginBottom:"16px",borderBottom:"2px solid #e5e7eb"},children:o.jsxs("div",{style:{textAlign:"right",fontSize:"13px",color:"#374151",lineHeight:"1.6"},children:[o.jsxs("div",{style:{marginBottom:"6px"},children:[o.jsx("strong",{style:{fontSize:"14px"},children:"Invoice No:"})," ",o.jsx("span",{style:{color:"#dc2626",fontWeight:"bold",fontSize:"14px"},children:e.invoiceNumber})]}),o.jsxs("div",{children:[o.jsx("strong",{style:{fontSize:"14px"},children:"Date:"})," ",o.jsx("span",{style:{fontSize:"13px"},children:new Date(e.saleDate).toLocaleDateString()})]})]})}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"bg-gray-100 p-4 rounded",children:[o.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"Bill To:"}),o.jsx("p",{className:"font-medium",children:e.customerName}),e.customerMobile&&o.jsxs("p",{className:"text-sm text-gray-600",children:["Mobile: ",e.customerMobile]}),e.customerAddress&&o.jsxs("p",{className:"text-sm text-gray-600",children:["Address: ",e.customerAddress]})]})}),o.jsx("div",{className:"px-6",children:o.jsxs("table",{className:"w-full border-collapse",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-blue-600 text-white",children:[o.jsx("th",{className:"border p-3 text-left",children:"Item"}),o.jsx("th",{className:"border p-3 text-center",children:"Qty"}),o.jsx("th",{className:"border p-3 text-right",children:"Unit Price"}),o.jsx("th",{className:"border p-3 text-right",children:"Total"})]})}),o.jsx("tbody",{children:e.items.map((a,l)=>o.jsxs("tr",{className:l%2===0?"bg-gray-50":"bg-white",children:[o.jsx("td",{className:"border p-3",children:a.name}),o.jsx("td",{className:"border p-3 text-center",children:a.quantity}),o.jsxs("td",{className:"border p-3 text-right",children:["",a.unitPrice.toFixed(2)]}),o.jsxs("td",{className:"border p-3 text-right",children:["",a.total.toFixed(2)]})]},l))})]})}),o.jsx("div",{className:"p-6",children:o.jsx("div",{className:"flex justify-end",children:o.jsxs("div",{className:"w-64",children:[o.jsxs("div",{className:"flex justify-between py-2 border-t",children:[o.jsx("span",{children:"Subtotal:"}),o.jsxs("span",{children:["",e.subtotal.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between py-2",children:[o.jsx("span",{children:"GST:"}),o.jsxs("span",{children:["",e.gst.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between py-2 border-t-2 border-gray-800 font-bold text-lg",children:[o.jsx("span",{children:"Total:"}),o.jsxs("span",{children:["",e.total.toFixed(2)]})]})]})})}),o.jsxs("div",{className:"p-6 text-center text-sm text-gray-500 border-t",children:[o.jsx("p",{children:"Thank you for Shopping"}),o.jsx("p",{children:"Visit Again"}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-300",children:[o.jsx("p",{className:"text-xs",children:"Thank you for your purchase!"}),o.jsx("p",{className:"text-xs mt-1",children:"Support: 8482816489 | saniyajamadar8482@gmail.com"}),o.jsx("p",{className:"text-xs mt-1",children:"SANIYA MUNIR JAMADAR | Kolhapur, Maharashtra-416010"})]})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 mt-6",children:[o.jsx(et,{variant:"outline",onClick:r,className:"w-full sm:w-auto order-2 sm:order-1",children:"Close"}),o.jsx(et,{onClick:s,disabled:n,className:"w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white order-1 sm:order-2",children:n?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Downloading..."]}):o.jsxs(o.Fragment,{children:[o.jsx(na,{className:"h-4 w-4 mr-2"}),"Download PDF"]})})]})]})})},cKe=()=>{const[e,t]=C.useState([]),[r,n]=C.useState(!0),[i,s]=C.useState(null),[a,l]=C.useState(!1),[c,u]=C.useState(new Date),[d,h]=C.useState(navigator.onLine),A=ds(),g=async(y=!1)=>{y&&n(!0);try{console.log(" Fetching sales from database...");const w=await K2.getSalesWithItems();return console.log(" Database fetch successful:",w.length,"invoices"),t(w),u(new Date),w}catch(w){throw console.error(" Error fetching sales from database:",w),w}finally{y&&n(!1)}};C.useEffect(()=>{g(!0);const y=setInterval(()=>{console.log(" Periodic database fetch for cross-device sync..."),g(!1)},1e4),w=()=>{document.hidden||(console.log(" Window visible - fetching latest invoices..."),g(!1))},_=()=>{console.log(" Window focused - fetching latest invoices..."),g(!1)},E=()=>{h(!0),console.log(" Back online - fetching latest invoices..."),g(!1)},I=()=>{h(!1),console.log(" Gone offline")};return document.addEventListener("visibilitychange",w),window.addEventListener("focus",_),window.addEventListener("online",E),window.addEventListener("offline",I),()=>{clearInterval(y),document.removeEventListener("visibilitychange",w),window.removeEventListener("focus",_),window.removeEventListener("online",E),window.removeEventListener("offline",I)}},[]);const v=y=>{console.log(" Creating invoice for sale:",y);let w;const _=y.saleDate||y.sale_date||y.formattedDate;typeof _=="string"?w=_:_ instanceof Date?w=_.toISOString():_!=null&&_.toDate?w=_.toDate().toISOString():w=new Date().toISOString();const E=y.customerName||y.customer_name||"Unknown Customer",I=y.customerMobile||y.customer_mobile,N=y.customerAddress||y.customer_address,j=y.productName||y.item_name||"Unknown Item",T=y.quantitySold||y.quantity_sold||0;let P=0;if(y.formattedUnitPrice){const K=y.formattedUnitPrice.toString().replace(/[,]/g,"");P=parseFloat(K)||0}else P=y.pricePerUnit||y.unit_price||0;let k=0;if(y.formattedTotalAmount){const K=y.formattedTotalAmount.toString().replace(/[,]/g,"");k=parseFloat(K)||0}else k=y.totalAmount||y.total_amount||0,k>1e4&&(k=k/100);const R=y.saleId||y.invoice_number||`INV-${y.id}`,O=k/1.18,M=O*.18;console.log(" Invoice data extracted:",{itemName:j,customerName:E,quantity:T,unitPrice:P,totalAmount:k,subtotalWithoutGst:O,calculatedGst:M,invoiceNumber:R}),s({invoiceNumber:R,customerName:E,customerMobile:I||void 0,customerAddress:N||void 0,saleDate:w,items:[{name:j,quantity:T,unitPrice:P,total:O}],subtotal:O,gst:M,total:k}),l(!0)},x=y=>{let w;const _=y.sale_date||y.saleDate||y.formattedDate;typeof _=="string"?w=_:_ instanceof Date?w=_.toISOString():_!=null&&_.toDate?w=_.toDate().toISOString():w=new Date().toISOString();const E=y.customer_name||y.customerName||"Unknown Customer",I=y.customer_mobile||y.customerMobile,N=y.customer_address||y.customerAddress,j=y.productName||y.item_name||"Unknown Item",T=y.quantity_sold||y.quantitySold||0;let P=0;if(y.formattedUnitPrice){const K=y.formattedUnitPrice.toString().replace(/[,]/g,"");P=parseFloat(K)||0}else P=y.unit_price||y.pricePerUnit||0;let k=0;if(y.formattedTotalAmount){const K=y.formattedTotalAmount.toString().replace(/[,]/g,"");k=parseFloat(K)||0}else k=y.total_amount||y.totalAmount||0,k>1e4&&(k=k/100);const R=y.invoice_number||y.saleId||`INV-${y.id}`,O=k/1.18,M=O*.18;Zhe({invoiceNumber:R,customerName:E,customerMobile:I||void 0,customerAddress:N||void 0,saleDate:w,items:[{name:j,quantity:T,unitPrice:P,total:O}],subtotal:O,gst:M,total:k})};return o.jsxs("div",{className:"min-h-screen mesh-gradient-bg page-load-animation",children:[o.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"background-orb background-orb-1 -top-40 -right-40 w-96 h-96"}),o.jsx("div",{className:"background-orb background-orb-2 -bottom-40 -left-40 w-96 h-96"})]}),o.jsxs("div",{className:"relative container mx-auto p-4 sm:p-6 space-y-6 sm:space-y-8",children:[o.jsxs("div",{className:"glass-card-strong p-8 gradient-glass-overlay slide-in-left-professional",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(et,{variant:"outline",size:"icon",onClick:()=>A("/"),className:"glass-button hover:scale-110 transition-transform",children:o.jsx(go,{className:"h-4 w-4"})}),o.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold gradient-text-reverse",children:"Sales History"})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("p",{className:"text-base sm:text-lg text-muted-foreground animate-slide-up",children:"View and manage all your sales invoices  Cross-device sync enabled"}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${d?"bg-green-500":"bg-red-500"}`}),o.jsx("span",{children:d?"Online":"Offline"})]}),o.jsxs("span",{children:["Last sync: ",c.toLocaleTimeString()]}),o.jsxs("span",{children:[e.length," invoices loaded"]})]})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(et,{variant:"outline",onClick:()=>g(!0),disabled:r,className:"gap-2",children:[o.jsx(ja,{className:"h-4 w-4"}),r?"Refreshing...":"Refresh Invoices"]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${d?"bg-green-500":"bg-red-500"}`}),"Auto-refresh: 10s"]})]})]}),o.jsxs("div",{className:"glass-card-strong gradient-glass-overlay fade-in-professional",children:[o.jsxs("div",{className:"p-6 sm:p-8 border-b border-white/10",children:[o.jsx("h2",{className:"text-3xl sm:text-4xl font-bold gradient-text-reverse mb-2",children:"Invoice History"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 font-medium",children:"All generated invoices and sales records"})]}),o.jsx("div",{className:"p-4 sm:p-6",children:r?o.jsxs("div",{className:"flex flex-col items-center justify-center py-8 sm:py-12 space-y-4",children:[o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 sm:h-8 sm:w-8 border-b-2 border-primary"}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Loading sales history..."})]}):e.length===0?o.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[o.jsx(ja,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),o.jsx("p",{className:"text-lg",children:"No sales found"}),o.jsx("p",{className:"text-sm",children:"Start selling items to see invoices here"})]}):o.jsx("div",{className:"border-2 border-border/50 rounded-xl overflow-hidden",children:o.jsxs(VE,{children:[o.jsx(zE,{className:"bg-muted/30",children:o.jsxs(ih,{children:[o.jsx(ea,{className:"font-semibold text-foreground py-4",children:"Invoice #"}),o.jsx(ea,{className:"font-semibold text-foreground py-4",children:"Customer"}),o.jsx(ea,{className:"font-semibold text-foreground py-4",children:"Item"}),o.jsx(ea,{className:"font-semibold text-foreground py-4",children:"Quantity"}),o.jsx(ea,{className:"font-semibold text-foreground py-4",children:"Total"}),o.jsx(ea,{className:"font-semibold text-foreground py-4",children:"Date"}),o.jsx(ea,{className:"font-semibold text-foreground py-4 text-right",children:"Actions"})]})}),o.jsx(GE,{children:e.map((y,w)=>o.jsxs(ih,{className:"hover:bg-muted/50 transition-colors fade-in-professional",style:{animationDelay:`${w*.05}s`},children:[o.jsx(Hs,{className:"font-mono text-sm py-4",children:y.invoice_number||y.saleId||`INV-${y.id}`}),o.jsx(Hs,{className:"py-4",children:o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:y.customer_name||y.customerName||"Unknown Customer"}),(y.customer_mobile||y.customerMobile)&&o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Mobile: ",y.customer_mobile||y.customerMobile]})]})}),o.jsx(Hs,{className:"py-4",children:y.productName||y.item_name||"Unknown Item"}),o.jsx(Hs,{className:"py-4",children:o.jsx(cn,{variant:"outline",className:"bg-primary/10 text-primary border-primary/20",children:y.quantity_sold||y.quantitySold||0})}),o.jsx(Hs,{className:"py-4",children:o.jsxs("span",{className:"font-semibold text-green-600",children:["",(()=>{if(y.formattedTotalAmount){const E=y.formattedTotalAmount.toString().replace(/[,]/g,"");return parseFloat(E).toFixed(2)}let _=y.totalAmount||y.total_amount||0;return _>1e4&&(_=_/100),_.toFixed(2)})()]})}),o.jsx(Hs,{className:"py-4",children:(()=>{const _=y.sale_date||y.saleDate||y.formattedDate;return _?typeof _=="string"?new Date(_).toLocaleDateString():_ instanceof Date?_.toLocaleDateString():_.toDate?_.toDate().toLocaleDateString():"Unknown Date":"Unknown Date"})()}),o.jsx(Hs,{className:"py-4",children:o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx(et,{variant:"outline",size:"icon",onClick:()=>v(y),className:"hover:bg-primary hover:text-primary-foreground",children:o.jsx(Ec,{className:"h-4 w-4"})}),o.jsx(et,{variant:"outline",size:"icon",onClick:()=>x(y),className:"hover:bg-green-600 hover:text-white",children:o.jsx(na,{className:"h-4 w-4"})})]})})]},y.id))})]})})})]})]}),i&&o.jsx(lKe,{invoiceData:i,open:a,onClose:()=>l(!1)}),o.jsx(t1,{})]})};var nI="Switch",[uKe,Ejt]=xh(nI),[dKe,fKe]=uKe(nI),Jhe=C.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[A,g]=C.useState(null),v=Ji(t,E=>g(E)),x=C.useRef(!1),y=A?d||!!A.closest("form"):!0,[w,_]=um({prop:i,defaultProp:s??!1,onChange:u,caller:nI});return o.jsxs(dKe,{scope:r,checked:w,disabled:l,children:[o.jsx(Yn.button,{type:"button",role:"switch","aria-checked":w,"aria-required":a,"data-state":nAe(w),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:v,onClick:Cn(e.onClick,E=>{_(I=>!I),y&&(x.current=E.isPropagationStopped(),x.current||E.stopPropagation())})}),y&&o.jsx(rAe,{control:A,bubbles:!x.current,name:n,value:c,checked:w,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Jhe.displayName=nI;var eAe="SwitchThumb",tAe=C.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=fKe(eAe,r);return o.jsx(Yn.span,{"data-state":nAe(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});tAe.displayName=eAe;var hKe="SwitchBubbleInput",rAe=C.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...i},s)=>{const a=C.useRef(null),l=Ji(a,s),c=Due(r),u=cse(t);return C.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&g){const v=new Event("click",{bubbles:n});g.call(d,r),d.dispatchEvent(v)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});rAe.displayName=hKe;function nAe(e){return e?"checked":"unchecked"}var iAe=Jhe,AKe=tAe;const Dl=C.forwardRef(({className:e,...t},r)=>o.jsx(iAe,{className:Zr("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:o.jsx(AKe,{className:Zr("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Dl.displayName=iAe.displayName;var pKe=Array.isArray,tu=pKe,gKe=typeof Zh=="object"&&Zh&&Zh.Object===Object&&Zh,sAe=gKe,mKe=sAe,xKe=typeof self=="object"&&self&&self.Object===Object&&self,vKe=mKe||xKe||Function("return this")(),Eh=vKe,yKe=Eh,wKe=yKe.Symbol,JE=wKe,qK=JE,aAe=Object.prototype,bKe=aAe.hasOwnProperty,_Ke=aAe.toString,Lw=qK?qK.toStringTag:void 0;function EKe(e){var t=bKe.call(e,Lw),r=e[Lw];try{e[Lw]=void 0;var n=!0}catch{}var i=_Ke.call(e);return n&&(t?e[Lw]=r:delete e[Lw]),i}var SKe=EKe,CKe=Object.prototype,NKe=CKe.toString;function TKe(e){return NKe.call(e)}var BKe=TKe,XK=JE,IKe=SKe,kKe=BKe,jKe="[object Null]",PKe="[object Undefined]",YK=XK?XK.toStringTag:void 0;function FKe(e){return e==null?e===void 0?PKe:jKe:YK&&YK in Object(e)?IKe(e):kKe(e)}var DA=FKe;function OKe(e){return e!=null&&typeof e=="object"}var LA=OKe,DKe=DA,LKe=LA,RKe="[object Symbol]";function MKe(e){return typeof e=="symbol"||LKe(e)&&DKe(e)==RKe}var zy=MKe,UKe=tu,HKe=zy,QKe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$Ke=/^\w*$/;function VKe(e,t){if(UKe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||HKe(e)?!0:$Ke.test(e)||!QKe.test(e)||t!=null&&e in Object(t)}var h7=VKe;function zKe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Vp=zKe;const Gy=Gi(Vp);var GKe=DA,WKe=Vp,KKe="[object AsyncFunction]",qKe="[object Function]",XKe="[object GeneratorFunction]",YKe="[object Proxy]";function ZKe(e){if(!WKe(e))return!1;var t=GKe(e);return t==qKe||t==XKe||t==KKe||t==YKe}var A7=ZKe;const Mn=Gi(A7);var JKe=Eh,eqe=JKe["__core-js_shared__"],tqe=eqe,M6=tqe,ZK=function(){var e=/[^.]+$/.exec(M6&&M6.keys&&M6.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function rqe(e){return!!ZK&&ZK in e}var nqe=rqe,iqe=Function.prototype,sqe=iqe.toString;function aqe(e){if(e!=null){try{return sqe.call(e)}catch{}try{return e+""}catch{}}return""}var oAe=aqe,oqe=A7,lqe=nqe,cqe=Vp,uqe=oAe,dqe=/[\\^$.*+?()[\]{}|]/g,fqe=/^\[object .+?Constructor\]$/,hqe=Function.prototype,Aqe=Object.prototype,pqe=hqe.toString,gqe=Aqe.hasOwnProperty,mqe=RegExp("^"+pqe.call(gqe).replace(dqe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xqe(e){if(!cqe(e)||lqe(e))return!1;var t=oqe(e)?mqe:fqe;return t.test(uqe(e))}var vqe=xqe;function yqe(e,t){return e==null?void 0:e[t]}var wqe=yqe,bqe=vqe,_qe=wqe;function Eqe(e,t){var r=_qe(e,t);return bqe(r)?r:void 0}var i1=Eqe,Sqe=i1,Cqe=Sqe(Object,"create"),iI=Cqe,JK=iI;function Nqe(){this.__data__=JK?JK(null):{},this.size=0}var Tqe=Nqe;function Bqe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Iqe=Bqe,kqe=iI,jqe="__lodash_hash_undefined__",Pqe=Object.prototype,Fqe=Pqe.hasOwnProperty;function Oqe(e){var t=this.__data__;if(kqe){var r=t[e];return r===jqe?void 0:r}return Fqe.call(t,e)?t[e]:void 0}var Dqe=Oqe,Lqe=iI,Rqe=Object.prototype,Mqe=Rqe.hasOwnProperty;function Uqe(e){var t=this.__data__;return Lqe?t[e]!==void 0:Mqe.call(t,e)}var Hqe=Uqe,Qqe=iI,$qe="__lodash_hash_undefined__";function Vqe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Qqe&&t===void 0?$qe:t,this}var zqe=Vqe,Gqe=Tqe,Wqe=Iqe,Kqe=Dqe,qqe=Hqe,Xqe=zqe;function Wy(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Wy.prototype.clear=Gqe;Wy.prototype.delete=Wqe;Wy.prototype.get=Kqe;Wy.prototype.has=qqe;Wy.prototype.set=Xqe;var Yqe=Wy;function Zqe(){this.__data__=[],this.size=0}var Jqe=Zqe;function eXe(e,t){return e===t||e!==e&&t!==t}var p7=eXe,tXe=p7;function rXe(e,t){for(var r=e.length;r--;)if(tXe(e[r][0],t))return r;return-1}var sI=rXe,nXe=sI,iXe=Array.prototype,sXe=iXe.splice;function aXe(e){var t=this.__data__,r=nXe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():sXe.call(t,r,1),--this.size,!0}var oXe=aXe,lXe=sI;function cXe(e){var t=this.__data__,r=lXe(t,e);return r<0?void 0:t[r][1]}var uXe=cXe,dXe=sI;function fXe(e){return dXe(this.__data__,e)>-1}var hXe=fXe,AXe=sI;function pXe(e,t){var r=this.__data__,n=AXe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var gXe=pXe,mXe=Jqe,xXe=oXe,vXe=uXe,yXe=hXe,wXe=gXe;function Ky(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ky.prototype.clear=mXe;Ky.prototype.delete=xXe;Ky.prototype.get=vXe;Ky.prototype.has=yXe;Ky.prototype.set=wXe;var aI=Ky,bXe=i1,_Xe=Eh,EXe=bXe(_Xe,"Map"),g7=EXe,eq=Yqe,SXe=aI,CXe=g7;function NXe(){this.size=0,this.__data__={hash:new eq,map:new(CXe||SXe),string:new eq}}var TXe=NXe;function BXe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var IXe=BXe,kXe=IXe;function jXe(e,t){var r=e.__data__;return kXe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var oI=jXe,PXe=oI;function FXe(e){var t=PXe(this,e).delete(e);return this.size-=t?1:0,t}var OXe=FXe,DXe=oI;function LXe(e){return DXe(this,e).get(e)}var RXe=LXe,MXe=oI;function UXe(e){return MXe(this,e).has(e)}var HXe=UXe,QXe=oI;function $Xe(e,t){var r=QXe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var VXe=$Xe,zXe=TXe,GXe=OXe,WXe=RXe,KXe=HXe,qXe=VXe;function qy(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}qy.prototype.clear=zXe;qy.prototype.delete=GXe;qy.prototype.get=WXe;qy.prototype.has=KXe;qy.prototype.set=qXe;var m7=qy,lAe=m7,XXe="Expected a function";function x7(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(XXe);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var a=e.apply(this,n);return r.cache=s.set(i,a)||s,a};return r.cache=new(x7.Cache||lAe),r}x7.Cache=lAe;var cAe=x7;const YXe=Gi(cAe);var ZXe=cAe,JXe=500;function eYe(e){var t=ZXe(e,function(n){return r.size===JXe&&r.clear(),n}),r=t.cache;return t}var tYe=eYe,rYe=tYe,nYe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,iYe=/\\(\\)?/g,sYe=rYe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(nYe,function(r,n,i,s){t.push(i?s.replace(iYe,"$1"):n||r)}),t}),aYe=sYe;function oYe(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var v7=oYe,tq=JE,lYe=v7,cYe=tu,uYe=zy,dYe=1/0,rq=tq?tq.prototype:void 0,nq=rq?rq.toString:void 0;function uAe(e){if(typeof e=="string")return e;if(cYe(e))return lYe(e,uAe)+"";if(uYe(e))return nq?nq.call(e):"";var t=e+"";return t=="0"&&1/e==-dYe?"-0":t}var fYe=uAe,hYe=fYe;function AYe(e){return e==null?"":hYe(e)}var dAe=AYe,pYe=tu,gYe=h7,mYe=aYe,xYe=dAe;function vYe(e,t){return pYe(e)?e:gYe(e,t)?[e]:mYe(xYe(e))}var fAe=vYe,yYe=zy,wYe=1/0;function bYe(e){if(typeof e=="string"||yYe(e))return e;var t=e+"";return t=="0"&&1/e==-wYe?"-0":t}var lI=bYe,_Ye=fAe,EYe=lI;function SYe(e,t){t=_Ye(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[EYe(t[r++])];return r&&r==n?e:void 0}var y7=SYe,CYe=y7;function NYe(e,t,r){var n=e==null?void 0:CYe(e,t);return n===void 0?r:n}var hAe=NYe;const Ou=Gi(hAe);function TYe(e){return e==null}var BYe=TYe;const Xn=Gi(BYe);var IYe=DA,kYe=tu,jYe=LA,PYe="[object String]";function FYe(e){return typeof e=="string"||!kYe(e)&&jYe(e)&&IYe(e)==PYe}var OYe=FYe;const Nm=Gi(OYe);var AAe={exports:{}},fs={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w7=Symbol.for("react.element"),b7=Symbol.for("react.portal"),cI=Symbol.for("react.fragment"),uI=Symbol.for("react.strict_mode"),dI=Symbol.for("react.profiler"),fI=Symbol.for("react.provider"),hI=Symbol.for("react.context"),DYe=Symbol.for("react.server_context"),AI=Symbol.for("react.forward_ref"),pI=Symbol.for("react.suspense"),gI=Symbol.for("react.suspense_list"),mI=Symbol.for("react.memo"),xI=Symbol.for("react.lazy"),LYe=Symbol.for("react.offscreen"),pAe;pAe=Symbol.for("react.module.reference");function Id(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case w7:switch(e=e.type,e){case cI:case dI:case uI:case pI:case gI:return e;default:switch(e=e&&e.$$typeof,e){case DYe:case hI:case AI:case xI:case mI:case fI:return e;default:return t}}case b7:return t}}}fs.ContextConsumer=hI;fs.ContextProvider=fI;fs.Element=w7;fs.ForwardRef=AI;fs.Fragment=cI;fs.Lazy=xI;fs.Memo=mI;fs.Portal=b7;fs.Profiler=dI;fs.StrictMode=uI;fs.Suspense=pI;fs.SuspenseList=gI;fs.isAsyncMode=function(){return!1};fs.isConcurrentMode=function(){return!1};fs.isContextConsumer=function(e){return Id(e)===hI};fs.isContextProvider=function(e){return Id(e)===fI};fs.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===w7};fs.isForwardRef=function(e){return Id(e)===AI};fs.isFragment=function(e){return Id(e)===cI};fs.isLazy=function(e){return Id(e)===xI};fs.isMemo=function(e){return Id(e)===mI};fs.isPortal=function(e){return Id(e)===b7};fs.isProfiler=function(e){return Id(e)===dI};fs.isStrictMode=function(e){return Id(e)===uI};fs.isSuspense=function(e){return Id(e)===pI};fs.isSuspenseList=function(e){return Id(e)===gI};fs.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===cI||e===dI||e===uI||e===pI||e===gI||e===LYe||typeof e=="object"&&e!==null&&(e.$$typeof===xI||e.$$typeof===mI||e.$$typeof===fI||e.$$typeof===hI||e.$$typeof===AI||e.$$typeof===pAe||e.getModuleId!==void 0)};fs.typeOf=Id;AAe.exports=fs;var RYe=AAe.exports,MYe=DA,UYe=LA,HYe="[object Number]";function QYe(e){return typeof e=="number"||UYe(e)&&MYe(e)==HYe}var gAe=QYe;const $Ye=Gi(gAe);var VYe=gAe;function zYe(e){return VYe(e)&&e!=+e}var GYe=zYe;const Xy=Gi(GYe);var mc=function(t){return t===0?0:t>0?1:-1},kg=function(t){return Nm(t)&&t.indexOf("%")===t.length-1},Cr=function(t){return $Ye(t)&&!Xy(t)},WYe=function(t){return Xn(t)},Po=function(t){return Cr(t)||Nm(t)},KYe=0,Yy=function(t){var r=++KYe;return"".concat(t||"").concat(r)},xc=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Cr(t)&&!Nm(t))return n;var s;if(kg(t)){var a=t.indexOf("%");s=r*parseFloat(t.slice(0,a))/100}else s=+t;return Xy(s)&&(s=n),i&&s>r&&(s=r),s},Y1=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},qYe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},Hc=function(t,r){return Cr(t)&&Cr(r)?function(n){return t+n*(r-t)}:function(){return r}};function W5(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Ou(n,t))===r})}var XYe=function(t,r){return Cr(t)&&Cr(r)?t-r:Nm(t)&&Nm(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Wx(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function FO(e){"@babel/helpers - typeof";return FO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},FO(e)}var YYe=["viewBox","children"],ZYe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],iq=["points","pathLength"],U6={svg:YYe,polygon:iq,polyline:iq},_7=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],K5=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(C.isValidElement(t)&&(n=t.props),!Gy(n))return null;var i={};return Object.keys(n).forEach(function(s){_7.includes(s)&&(i[s]=r||function(a){return n[s](n,a)})}),i},JYe=function(t,r,n){return function(i){return t(r,n,i),null}},Tm=function(t,r,n){if(!Gy(t)||FO(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(s){var a=t[s];_7.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=JYe(a,r,n))}),i},eZe=["children"],tZe=["children"];function sq(e,t){if(e==null)return{};var r=rZe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rZe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function OO(e){"@babel/helpers - typeof";return OO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},OO(e)}var aq={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},dA=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},oq=null,H6=null,E7=function e(t){if(t===oq&&Array.isArray(H6))return H6;var r=[];return C.Children.forEach(t,function(n){Xn(n)||(RYe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),H6=r,oq=t,r};function vd(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return dA(i)}):n=[dA(t)],E7(e).forEach(function(i){var s=Ou(i,"type.displayName")||Ou(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function xu(e,t){var r=vd(e,t);return r&&r[0]}var lq=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!Cr(n)||n<=0||!Cr(i)||i<=0)},nZe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],iZe=function(t){return t&&t.type&&Nm(t.type)&&nZe.indexOf(t.type)>=0},sZe=function(t){return t&&OO(t)==="object"&&"clipDot"in t},aZe=function(t,r,n,i){var s,a=(s=U6==null?void 0:U6[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Mn(t)&&(i&&a.includes(r)||ZYe.includes(r))||n&&_7.includes(r)},En=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(C.isValidElement(t)&&(i=t.props),!Gy(i))return null;var s={};return Object.keys(i).forEach(function(a){var l;aZe((l=i)===null||l===void 0?void 0:l[a],a,r,n)&&(s[a]=i[a])}),s},DO=function e(t,r){if(t===r)return!0;var n=C.Children.count(t);if(n!==C.Children.count(r))return!1;if(n===0)return!0;if(n===1)return cq(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=t[i],a=r[i];if(Array.isArray(s)||Array.isArray(a)){if(!e(s,a))return!1}else if(!cq(s,a))return!1}return!0},cq=function(t,r){if(Xn(t)&&Xn(r))return!0;if(!Xn(t)&&!Xn(r)){var n=t.props||{},i=n.children,s=sq(n,eZe),a=r.props||{},l=a.children,c=sq(a,tZe);return i&&l?Wx(s,c)&&DO(i,l):!i&&!l?Wx(s,c):!1}return!1},uq=function(t,r){var n=[],i={};return E7(t).forEach(function(s,a){if(iZe(s))n.push(s);else if(s){var l=dA(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var h=u(s,l,a);n.push(h),i[l]=!0}}}),n},oZe=function(t){var r=t&&t.type;return r&&aq[r]?aq[r]:null},lZe=function(t,r){return E7(r).indexOf(t)},cZe=["children","width","height","viewBox","className","style","title","desc"];function LO(){return LO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LO.apply(this,arguments)}function uZe(e,t){if(e==null)return{};var r=dZe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dZe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function RO(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,s=e.className,a=e.style,l=e.title,c=e.desc,u=uZe(e,cZe),d=i||{width:r,height:n,x:0,y:0},h=qn("recharts-surface",s);return Me.createElement("svg",LO({},En(u,!0,"svg"),{className:h,width:r,height:n,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),Me.createElement("title",null,l),Me.createElement("desc",null,c),t)}var fZe=["children","className"];function MO(){return MO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MO.apply(this,arguments)}function hZe(e,t){if(e==null)return{};var r=AZe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AZe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ii=Me.forwardRef(function(e,t){var r=e.children,n=e.className,i=hZe(e,fZe),s=qn("recharts-layer",n);return Me.createElement("g",MO({className:s},En(i,!0),{ref:t}),r)}),fA=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function pZe(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(i);++n<i;)s[n]=e[n+t];return s}var gZe=pZe,mZe=gZe;function xZe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:mZe(e,t,r)}var vZe=xZe,yZe="\\ud800-\\udfff",wZe="\\u0300-\\u036f",bZe="\\ufe20-\\ufe2f",_Ze="\\u20d0-\\u20ff",EZe=wZe+bZe+_Ze,SZe="\\ufe0e\\ufe0f",CZe="\\u200d",NZe=RegExp("["+CZe+yZe+EZe+SZe+"]");function TZe(e){return NZe.test(e)}var mAe=TZe;function BZe(e){return e.split("")}var IZe=BZe,xAe="\\ud800-\\udfff",kZe="\\u0300-\\u036f",jZe="\\ufe20-\\ufe2f",PZe="\\u20d0-\\u20ff",FZe=kZe+jZe+PZe,OZe="\\ufe0e\\ufe0f",DZe="["+xAe+"]",UO="["+FZe+"]",HO="\\ud83c[\\udffb-\\udfff]",LZe="(?:"+UO+"|"+HO+")",vAe="[^"+xAe+"]",yAe="(?:\\ud83c[\\udde6-\\uddff]){2}",wAe="[\\ud800-\\udbff][\\udc00-\\udfff]",RZe="\\u200d",bAe=LZe+"?",_Ae="["+OZe+"]?",MZe="(?:"+RZe+"(?:"+[vAe,yAe,wAe].join("|")+")"+_Ae+bAe+")*",UZe=_Ae+bAe+MZe,HZe="(?:"+[vAe+UO+"?",UO,yAe,wAe,DZe].join("|")+")",QZe=RegExp(HO+"(?="+HO+")|"+HZe+UZe,"g");function $Ze(e){return e.match(QZe)||[]}var VZe=$Ze,zZe=IZe,GZe=mAe,WZe=VZe;function KZe(e){return GZe(e)?WZe(e):zZe(e)}var qZe=KZe,XZe=vZe,YZe=mAe,ZZe=qZe,JZe=dAe;function eJe(e){return function(t){t=JZe(t);var r=YZe(t)?ZZe(t):void 0,n=r?r[0]:t.charAt(0),i=r?XZe(r,1).join(""):t.slice(1);return n[e]()+i}}var tJe=eJe,rJe=tJe,nJe=rJe("toUpperCase"),iJe=nJe;const vI=Gi(iJe);function Ss(e){return function(){return e}}const EAe=Math.cos,q5=Math.sin,Ef=Math.sqrt,X5=Math.PI,yI=2*X5,QO=Math.PI,$O=2*QO,pg=1e-6,sJe=$O-pg;function SAe(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function aJe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return SAe;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class oJe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?SAe:aJe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,a){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,c=n-t,u=i-r,d=a-t,h=l-r,A=d*d+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(A>pg)if(!(Math.abs(h*c-u*d)>pg)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-a,v=i-l,x=c*c+u*u,y=g*g+v*v,w=Math.sqrt(x),_=Math.sqrt(A),E=s*Math.tan((QO-Math.acos((x+A-y)/(2*w*_)))/2),I=E/_,N=E/w;Math.abs(I-1)>pg&&this._append`L${t+I*d},${r+I*h}`,this._append`A${s},${s},0,0,${+(h*g>d*v)},${this._x1=t+N*c},${this._y1=r+N*u}`}}arc(t,r,n,i,s,a){if(t=+t,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,d=r+c,h=1^a,A=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>pg||Math.abs(this._y1-d)>pg)&&this._append`L${u},${d}`,n&&(A<0&&(A=A%$O+$O),A>sJe?this._append`A${n},${n},0,1,${h},${t-l},${r-c}A${n},${n},0,1,${h},${this._x1=u},${this._y1=d}`:A>pg&&this._append`A${n},${n},0,${+(A>=QO)},${h},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function S7(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new oJe(t)}function C7(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function CAe(e){this._context=e}CAe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function wI(e){return new CAe(e)}function NAe(e){return e[0]}function TAe(e){return e[1]}function BAe(e,t){var r=Ss(!0),n=null,i=wI,s=null,a=S7(l);e=typeof e=="function"?e:e===void 0?NAe:Ss(e),t=typeof t=="function"?t:t===void 0?TAe:Ss(t);function l(c){var u,d=(c=C7(c)).length,h,A=!1,g;for(n==null&&(s=i(g=a())),u=0;u<=d;++u)!(u<d&&r(h=c[u],u,c))===A&&((A=!A)?s.lineStart():s.lineEnd()),A&&s.point(+e(h,u,c),+t(h,u,c));if(g)return s=null,g+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ss(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ss(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ss(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),l):n},l}function JC(e,t,r){var n=null,i=Ss(!0),s=null,a=wI,l=null,c=S7(u);e=typeof e=="function"?e:e===void 0?NAe:Ss(+e),t=typeof t=="function"?t:Ss(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?TAe:Ss(+r);function u(h){var A,g,v,x=(h=C7(h)).length,y,w=!1,_,E=new Array(x),I=new Array(x);for(s==null&&(l=a(_=c())),A=0;A<=x;++A){if(!(A<x&&i(y=h[A],A,h))===w)if(w=!w)g=A,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=A-1;v>=g;--v)l.point(E[v],I[v]);l.lineEnd(),l.areaEnd()}w&&(E[A]=+e(y,A,h),I[A]=+t(y,A,h),l.point(n?+n(y,A,h):E[A],r?+r(y,A,h):I[A]))}if(_)return l=null,_+""||null}function d(){return BAe().defined(i).curve(a).context(s)}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:Ss(+h),n=null,u):e},u.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Ss(+h),u):e},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Ss(+h),u):n},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:Ss(+h),r=null,u):t},u.y0=function(h){return arguments.length?(t=typeof h=="function"?h:Ss(+h),u):t},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Ss(+h),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Ss(!!h),u):i},u.curve=function(h){return arguments.length?(a=h,s!=null&&(l=a(s)),u):a},u.context=function(h){return arguments.length?(h==null?s=l=null:l=a(s=h),u):s},u}class IAe{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function lJe(e){return new IAe(e,!0)}function cJe(e){return new IAe(e,!1)}const N7={draw(e,t){const r=Ef(t/X5);e.moveTo(r,0),e.arc(0,0,r,0,yI)}},uJe={draw(e,t){const r=Ef(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},kAe=Ef(1/3),dJe=kAe*2,fJe={draw(e,t){const r=Ef(t/dJe),n=r*kAe;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},hJe={draw(e,t){const r=Ef(t),n=-r/2;e.rect(n,n,r,r)}},AJe=.8908130915292852,jAe=q5(X5/10)/q5(7*X5/10),pJe=q5(yI/10)*jAe,gJe=-EAe(yI/10)*jAe,mJe={draw(e,t){const r=Ef(t*AJe),n=pJe*r,i=gJe*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const a=yI*s/5,l=EAe(a),c=q5(a);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},Q6=Ef(3),xJe={draw(e,t){const r=-Ef(t/(Q6*3));e.moveTo(0,r*2),e.lineTo(-Q6*r,-r),e.lineTo(Q6*r,-r),e.closePath()}},zu=-.5,Gu=Ef(3)/2,VO=1/Ef(12),vJe=(VO/2+1)*3,yJe={draw(e,t){const r=Ef(t/vJe),n=r/2,i=r*VO,s=n,a=r*VO+r,l=-s,c=a;e.moveTo(n,i),e.lineTo(s,a),e.lineTo(l,c),e.lineTo(zu*n-Gu*i,Gu*n+zu*i),e.lineTo(zu*s-Gu*a,Gu*s+zu*a),e.lineTo(zu*l-Gu*c,Gu*l+zu*c),e.lineTo(zu*n+Gu*i,zu*i-Gu*n),e.lineTo(zu*s+Gu*a,zu*a-Gu*s),e.lineTo(zu*l+Gu*c,zu*c-Gu*l),e.closePath()}};function wJe(e,t){let r=null,n=S7(i);e=typeof e=="function"?e:Ss(e||N7),t=typeof t=="function"?t:Ss(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Ss(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Ss(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Y5(){}function Z5(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function PAe(e){this._context=e}PAe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Z5(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Z5(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bJe(e){return new PAe(e)}function FAe(e){this._context=e}FAe.prototype={areaStart:Y5,areaEnd:Y5,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Z5(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _Je(e){return new FAe(e)}function OAe(e){this._context=e}OAe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Z5(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function EJe(e){return new OAe(e)}function DAe(e){this._context=e}DAe.prototype={areaStart:Y5,areaEnd:Y5,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function SJe(e){return new DAe(e)}function dq(e){return e<0?-1:1}function fq(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),a=(r-e._y1)/(i||n<0&&-0),l=(s*i+a*n)/(n+i);return(dq(s)+dq(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function hq(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function $6(e,t,r){var n=e._x0,i=e._y0,s=e._x1,a=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,i+l*t,s-l,a-l*r,s,a)}function J5(e){this._context=e}J5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$6(this,this._t0,hq(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,$6(this,hq(this,r=fq(this,e,t)),r);break;default:$6(this,this._t0,r=fq(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function LAe(e){this._context=new RAe(e)}(LAe.prototype=Object.create(J5.prototype)).point=function(e,t){J5.prototype.point.call(this,t,e)};function RAe(e){this._context=e}RAe.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function CJe(e){return new J5(e)}function NJe(e){return new LAe(e)}function MAe(e){this._context=e}MAe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Aq(e),i=Aq(t),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[a],t[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Aq(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function TJe(e){return new MAe(e)}function bI(e,t){this._context=e,this._t=t}bI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function BJe(e){return new bI(e,.5)}function IJe(e){return new bI(e,0)}function kJe(e){return new bI(e,1)}function Lv(e,t){if((a=e.length)>1)for(var r=1,n,i,s=e[t[0]],a,l=s.length;r<a;++r)for(i=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function zO(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function jJe(e,t){return e[t]}function PJe(e){const t=[];return t.key=e,t}function FJe(){var e=Ss([]),t=zO,r=Lv,n=jJe;function i(s){var a=Array.from(e.apply(this,arguments),PJe),l,c=a.length,u=-1,d;for(const h of s)for(l=0,++u;l<c;++l)(a[l][u]=[0,+n(h,a[l].key,u,s)]).data=h;for(l=0,d=C7(t(a));l<c;++l)a[d[l]].index=l;return r(a,d),a}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Ss(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Ss(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?zO:typeof s=="function"?s:Ss(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??Lv,i):r},i}function OJe(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=e[r][i][1]||0;if(a)for(r=0;r<n;++r)e[r][i][1]/=a}Lv(e,t)}}function DJe(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var a=0,l=0;a<i;++a)l+=e[a][r][1]||0;n[r][1]+=n[r][0]=-l/2}Lv(e,t)}}function LJe(e,t){if(!(!((a=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var l=0,c=0,u=0;l<a;++l){for(var d=e[t[l]],h=d[n][1]||0,A=d[n-1][1]||0,g=(h-A)/2,v=0;v<l;++v){var x=e[t[v]],y=x[n][1]||0,w=x[n-1][1]||0;g+=y-w}c+=h,u+=g*h}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,Lv(e,t)}}function c_(e){"@babel/helpers - typeof";return c_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c_(e)}var RJe=["type","size","sizeType"];function GO(){return GO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GO.apply(this,arguments)}function pq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pq(Object(r),!0).forEach(function(n){MJe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MJe(e,t,r){return t=UJe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UJe(e){var t=HJe(e,"string");return c_(t)=="symbol"?t:t+""}function HJe(e,t){if(c_(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(c_(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QJe(e,t){if(e==null)return{};var r=$Je(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $Je(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var UAe={symbolCircle:N7,symbolCross:uJe,symbolDiamond:fJe,symbolSquare:hJe,symbolStar:mJe,symbolTriangle:xJe,symbolWye:yJe},VJe=Math.PI/180,zJe=function(t){var r="symbol".concat(vI(t));return UAe[r]||N7},GJe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*VJe;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},WJe=function(t,r){UAe["symbol".concat(vI(t))]=r},T7=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,s=i===void 0?64:i,a=t.sizeType,l=a===void 0?"area":a,c=QJe(t,RJe),u=gq(gq({},c),{},{type:n,size:s,sizeType:l}),d=function(){var y=zJe(n),w=wJe().type(y).size(GJe(s,l,n));return w()},h=u.className,A=u.cx,g=u.cy,v=En(u,!0);return A===+A&&g===+g&&s===+s?Me.createElement("path",GO({},v,{className:qn("recharts-symbols",h),transform:"translate(".concat(A,", ").concat(g,")"),d:d()})):null};T7.registerSymbol=WJe;function Rv(e){"@babel/helpers - typeof";return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rv(e)}function WO(){return WO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WO.apply(this,arguments)}function mq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KJe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mq(Object(r),!0).forEach(function(n){u_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XJe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QAe(n.key),n)}}function YJe(e,t,r){return t&&XJe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZJe(e,t,r){return t=e3(t),JJe(e,HAe()?Reflect.construct(t,r||[],e3(e).constructor):t.apply(e,r))}function JJe(e,t){if(t&&(Rv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eet(e)}function eet(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HAe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HAe=function(){return!!e})()}function e3(e){return e3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},e3(e)}function tet(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KO(e,t)}function KO(e,t){return KO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KO(e,t)}function u_(e,t,r){return t=QAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QAe(e){var t=ret(e,"string");return Rv(t)=="symbol"?t:t+""}function ret(e,t){if(Rv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wu=32,B7=function(e){function t(){return qJe(this,t),ZJe(this,t,arguments)}return tet(t,e),YJe(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=Wu/2,a=Wu/6,l=Wu/3,c=n.inactive?i:n.color;if(n.type==="plainline")return Me.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Wu,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return Me.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Wu,"M").concat(2*l,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return Me.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Wu/8,"h").concat(Wu,"v").concat(Wu*3/4,"h").concat(-Wu,"z"),className:"recharts-legend-icon"});if(Me.isValidElement(n.legendIcon)){var u=KJe({},n);return delete u.legendIcon,Me.cloneElement(n.legendIcon,u)}return Me.createElement(T7,{fill:c,cx:s,cy:s,size:Wu,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,a=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Wu,height:Wu},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},A={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(g,v){var x=g.formatter||c,y=qn(u_(u_({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",g.inactive));if(g.type==="none")return null;var w=Mn(g.value)?null:g.value;fA(!Mn(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=g.inactive?u:g.color;return Me.createElement("li",WO({className:y,style:h,key:"legend-item-".concat(v)},Tm(n.props,g,v)),Me.createElement(RO,{width:a,height:a,viewBox:d,style:A},n.renderIcon(g)),Me.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},x?x(w,g,v):w))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,a=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return Me.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(C.PureComponent);u_(B7,"displayName","Legend");u_(B7,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var net=aI;function iet(){this.__data__=new net,this.size=0}var set=iet;function aet(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var oet=aet;function cet(e){return this.__data__.get(e)}var uet=cet;function det(e){return this.__data__.has(e)}var fet=det,het=aI,Aet=g7,pet=m7,get=200;function met(e,t){var r=this.__data__;if(r instanceof het){var n=r.__data__;if(!Aet||n.length<get-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new pet(n)}return r.set(e,t),this.size=r.size,this}var xet=met,vet=aI,yet=set,wet=oet,bet=uet,_et=fet,Eet=xet;function Zy(e){var t=this.__data__=new vet(e);this.size=t.size}Zy.prototype.clear=yet;Zy.prototype.delete=wet;Zy.prototype.get=bet;Zy.prototype.has=_et;Zy.prototype.set=Eet;var $Ae=Zy,Cet="__lodash_hash_undefined__";function Net(e){return this.__data__.set(e,Cet),this}var Tet=Net;function Bet(e){return this.__data__.has(e)}var Iet=Bet,ket=m7,jet=Tet,Pet=Iet;function t3(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new ket;++t<r;)this.add(e[t])}t3.prototype.add=t3.prototype.push=jet;t3.prototype.has=Pet;var VAe=t3;function Fet(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var zAe=Fet;function Oet(e,t){return e.has(t)}var GAe=Oet,Det=VAe,Let=zAe,Ret=GAe,Met=1,Uet=2;function Het(e,t,r,n,i,s){var a=r&Met,l=e.length,c=t.length;if(l!=c&&!(a&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var h=-1,A=!0,g=r&Uet?new Det:void 0;for(s.set(e,t),s.set(t,e);++h<l;){var v=e[h],x=t[h];if(n)var y=a?n(x,v,h,t,e,s):n(v,x,h,e,t,s);if(y!==void 0){if(y)continue;A=!1;break}if(g){if(!Let(t,function(w,_){if(!Ret(g,_)&&(v===w||i(v,w,r,n,s)))return g.push(_)})){A=!1;break}}else if(!(v===x||i(v,x,r,n,s))){A=!1;break}}return s.delete(e),s.delete(t),A}var WAe=Het,Qet=Eh,$et=Qet.Uint8Array,Vet=$et;function zet(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var Get=zet;function Wet(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var I7=Wet,xq=JE,vq=Vet,Ket=p7,qet=WAe,Xet=Get,Yet=I7,Zet=1,Jet=2,ett="[object Boolean]",ttt="[object Date]",rtt="[object Error]",ntt="[object Map]",itt="[object Number]",stt="[object RegExp]",att="[object Set]",ott="[object String]",ltt="[object Symbol]",ctt="[object ArrayBuffer]",utt="[object DataView]",yq=xq?xq.prototype:void 0,V6=yq?yq.valueOf:void 0;function dtt(e,t,r,n,i,s,a){switch(r){case utt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ctt:return!(e.byteLength!=t.byteLength||!s(new vq(e),new vq(t)));case ett:case ttt:case itt:return Ket(+e,+t);case rtt:return e.name==t.name&&e.message==t.message;case stt:case ott:return e==t+"";case ntt:var l=Xet;case att:var c=n&Zet;if(l||(l=Yet),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;n|=Jet,a.set(e,t);var d=qet(l(e),l(t),n,i,s,a);return a.delete(e),d;case ltt:if(V6)return V6.call(e)==V6.call(t)}return!1}var ftt=dtt;function htt(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var KAe=htt,Att=KAe,ptt=tu;function gtt(e,t,r){var n=t(e);return ptt(e)?n:Att(n,r(e))}var mtt=gtt;function xtt(e,t){for(var r=-1,n=e==null?0:e.length,i=0,s=[];++r<n;){var a=e[r];t(a,r,e)&&(s[i++]=a)}return s}var vtt=xtt;function ytt(){return[]}var wtt=ytt,btt=vtt,_tt=wtt,Ett=Object.prototype,Stt=Ett.propertyIsEnumerable,wq=Object.getOwnPropertySymbols,Ctt=wq?function(e){return e==null?[]:(e=Object(e),btt(wq(e),function(t){return Stt.call(e,t)}))}:_tt,Ntt=Ctt;function Ttt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Btt=Ttt,Itt=DA,ktt=LA,jtt="[object Arguments]";function Ptt(e){return ktt(e)&&Itt(e)==jtt}var Ftt=Ptt,bq=Ftt,Ott=LA,qAe=Object.prototype,Dtt=qAe.hasOwnProperty,Ltt=qAe.propertyIsEnumerable,Rtt=bq(function(){return arguments}())?bq:function(e){return Ott(e)&&Dtt.call(e,"callee")&&!Ltt.call(e,"callee")},k7=Rtt,r3={exports:{}};function Mtt(){return!1}var Utt=Mtt;r3.exports;(function(e,t){var r=Eh,n=Utt,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===i,l=a?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(r3,r3.exports);var XAe=r3.exports,Htt=9007199254740991,Qtt=/^(?:0|[1-9]\d*)$/;function $tt(e,t){var r=typeof e;return t=t??Htt,!!t&&(r=="number"||r!="symbol"&&Qtt.test(e))&&e>-1&&e%1==0&&e<t}var j7=$tt,Vtt=9007199254740991;function ztt(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Vtt}var P7=ztt,Gtt=DA,Wtt=P7,Ktt=LA,qtt="[object Arguments]",Xtt="[object Array]",Ytt="[object Boolean]",Ztt="[object Date]",Jtt="[object Error]",ert="[object Function]",trt="[object Map]",rrt="[object Number]",nrt="[object Object]",irt="[object RegExp]",srt="[object Set]",art="[object String]",ort="[object WeakMap]",lrt="[object ArrayBuffer]",crt="[object DataView]",urt="[object Float32Array]",drt="[object Float64Array]",frt="[object Int8Array]",hrt="[object Int16Array]",Art="[object Int32Array]",prt="[object Uint8Array]",grt="[object Uint8ClampedArray]",mrt="[object Uint16Array]",xrt="[object Uint32Array]",Us={};Us[urt]=Us[drt]=Us[frt]=Us[hrt]=Us[Art]=Us[prt]=Us[grt]=Us[mrt]=Us[xrt]=!0;Us[qtt]=Us[Xtt]=Us[lrt]=Us[Ytt]=Us[crt]=Us[Ztt]=Us[Jtt]=Us[ert]=Us[trt]=Us[rrt]=Us[nrt]=Us[irt]=Us[srt]=Us[art]=Us[ort]=!1;function vrt(e){return Ktt(e)&&Wtt(e.length)&&!!Us[Gtt(e)]}var yrt=vrt;function wrt(e){return function(t){return e(t)}}var YAe=wrt,n3={exports:{}};n3.exports;(function(e,t){var r=sAe,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,a=s&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||a&&a.binding&&a.binding("util")}catch{}}();e.exports=l})(n3,n3.exports);var brt=n3.exports,_rt=yrt,Ert=YAe,_q=brt,Eq=_q&&_q.isTypedArray,Srt=Eq?Ert(Eq):_rt,ZAe=Srt,Crt=Btt,Nrt=k7,Trt=tu,Brt=XAe,Irt=j7,krt=ZAe,jrt=Object.prototype,Prt=jrt.hasOwnProperty;function Frt(e,t){var r=Trt(e),n=!r&&Nrt(e),i=!r&&!n&&Brt(e),s=!r&&!n&&!i&&krt(e),a=r||n||i||s,l=a?Crt(e.length,String):[],c=l.length;for(var u in e)(t||Prt.call(e,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Irt(u,c)))&&l.push(u);return l}var Ort=Frt,Drt=Object.prototype;function Lrt(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Drt;return e===r}var Rrt=Lrt;function Mrt(e,t){return function(r){return e(t(r))}}var JAe=Mrt,Urt=JAe,Hrt=Urt(Object.keys,Object),Qrt=Hrt,$rt=Rrt,Vrt=Qrt,zrt=Object.prototype,Grt=zrt.hasOwnProperty;function Wrt(e){if(!$rt(e))return Vrt(e);var t=[];for(var r in Object(e))Grt.call(e,r)&&r!="constructor"&&t.push(r);return t}var Krt=Wrt,qrt=A7,Xrt=P7;function Yrt(e){return e!=null&&Xrt(e.length)&&!qrt(e)}var _I=Yrt,Zrt=Ort,Jrt=Krt,ent=_I;function tnt(e){return ent(e)?Zrt(e):Jrt(e)}var F7=tnt,rnt=mtt,nnt=Ntt,int=F7;function snt(e){return rnt(e,int,nnt)}var ant=snt,Sq=ant,ont=1,lnt=Object.prototype,cnt=lnt.hasOwnProperty;function unt(e,t,r,n,i,s){var a=r&ont,l=Sq(e),c=l.length,u=Sq(t),d=u.length;if(c!=d&&!a)return!1;for(var h=c;h--;){var A=l[h];if(!(a?A in t:cnt.call(t,A)))return!1}var g=s.get(e),v=s.get(t);if(g&&v)return g==t&&v==e;var x=!0;s.set(e,t),s.set(t,e);for(var y=a;++h<c;){A=l[h];var w=e[A],_=t[A];if(n)var E=a?n(_,w,A,t,e,s):n(w,_,A,e,t,s);if(!(E===void 0?w===_||i(w,_,r,n,s):E)){x=!1;break}y||(y=A=="constructor")}if(x&&!y){var I=e.constructor,N=t.constructor;I!=N&&"constructor"in e&&"constructor"in t&&!(typeof I=="function"&&I instanceof I&&typeof N=="function"&&N instanceof N)&&(x=!1)}return s.delete(e),s.delete(t),x}var dnt=unt,fnt=i1,hnt=Eh,Ant=fnt(hnt,"DataView"),pnt=Ant,gnt=i1,mnt=Eh,xnt=gnt(mnt,"Promise"),vnt=xnt,ynt=i1,wnt=Eh,bnt=ynt(wnt,"Set"),e0e=bnt,_nt=i1,Ent=Eh,Snt=_nt(Ent,"WeakMap"),Cnt=Snt,qO=pnt,XO=g7,YO=vnt,ZO=e0e,JO=Cnt,t0e=DA,Jy=oAe,Cq="[object Map]",Nnt="[object Object]",Nq="[object Promise]",Tq="[object Set]",Bq="[object WeakMap]",Iq="[object DataView]",Tnt=Jy(qO),Bnt=Jy(XO),Int=Jy(YO),knt=Jy(ZO),jnt=Jy(JO),gg=t0e;(qO&&gg(new qO(new ArrayBuffer(1)))!=Iq||XO&&gg(new XO)!=Cq||YO&&gg(YO.resolve())!=Nq||ZO&&gg(new ZO)!=Tq||JO&&gg(new JO)!=Bq)&&(gg=function(e){var t=t0e(e),r=t==Nnt?e.constructor:void 0,n=r?Jy(r):"";if(n)switch(n){case Tnt:return Iq;case Bnt:return Cq;case Int:return Nq;case knt:return Tq;case jnt:return Bq}return t});var Pnt=gg,z6=$Ae,Fnt=WAe,Ont=ftt,Dnt=dnt,kq=Pnt,jq=tu,Pq=XAe,Lnt=ZAe,Rnt=1,Fq="[object Arguments]",Oq="[object Array]",eN="[object Object]",Mnt=Object.prototype,Dq=Mnt.hasOwnProperty;function Unt(e,t,r,n,i,s){var a=jq(e),l=jq(t),c=a?Oq:kq(e),u=l?Oq:kq(t);c=c==Fq?eN:c,u=u==Fq?eN:u;var d=c==eN,h=u==eN,A=c==u;if(A&&Pq(e)){if(!Pq(t))return!1;a=!0,d=!1}if(A&&!d)return s||(s=new z6),a||Lnt(e)?Fnt(e,t,r,n,i,s):Ont(e,t,c,r,n,i,s);if(!(r&Rnt)){var g=d&&Dq.call(e,"__wrapped__"),v=h&&Dq.call(t,"__wrapped__");if(g||v){var x=g?e.value():e,y=v?t.value():t;return s||(s=new z6),i(x,y,r,n,s)}}return A?(s||(s=new z6),Dnt(e,t,r,n,i,s)):!1}var Hnt=Unt,Qnt=Hnt,Lq=LA;function r0e(e,t,r,n,i){return e===t?!0:e==null||t==null||!Lq(e)&&!Lq(t)?e!==e&&t!==t:Qnt(e,t,r,n,r0e,i)}var O7=r0e,$nt=$Ae,Vnt=O7,znt=1,Gnt=2;function Wnt(e,t,r,n){var i=r.length,s=i,a=!n;if(e==null)return!s;for(e=Object(e);i--;){var l=r[i];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<s;){l=r[i];var c=l[0],u=e[c],d=l[1];if(a&&l[2]){if(u===void 0&&!(c in e))return!1}else{var h=new $nt;if(n)var A=n(u,d,c,e,t,h);if(!(A===void 0?Vnt(d,u,znt|Gnt,n,h):A))return!1}}return!0}var Knt=Wnt,qnt=Vp;function Xnt(e){return e===e&&!qnt(e)}var n0e=Xnt,Ynt=n0e,Znt=F7;function Jnt(e){for(var t=Znt(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,Ynt(i)]}return t}var eit=Jnt;function tit(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var i0e=tit,rit=Knt,nit=eit,iit=i0e;function sit(e){var t=nit(e);return t.length==1&&t[0][2]?iit(t[0][0],t[0][1]):function(r){return r===e||rit(r,e,t)}}var ait=sit;function oit(e,t){return e!=null&&t in Object(e)}var lit=oit,cit=fAe,uit=k7,dit=tu,fit=j7,hit=P7,Ait=lI;function pit(e,t,r){t=cit(t,e);for(var n=-1,i=t.length,s=!1;++n<i;){var a=Ait(t[n]);if(!(s=e!=null&&r(e,a)))break;e=e[a]}return s||++n!=i?s:(i=e==null?0:e.length,!!i&&hit(i)&&fit(a,i)&&(dit(e)||uit(e)))}var git=pit,mit=lit,xit=git;function vit(e,t){return e!=null&&xit(e,t,mit)}var yit=vit,wit=O7,bit=hAe,_it=yit,Eit=h7,Sit=n0e,Cit=i0e,Nit=lI,Tit=1,Bit=2;function Iit(e,t){return Eit(e)&&Sit(t)?Cit(Nit(e),t):function(r){var n=bit(r,e);return n===void 0&&n===t?_it(r,e):wit(t,n,Tit|Bit)}}var kit=Iit;function jit(e){return e}var ew=jit;function Pit(e){return function(t){return t==null?void 0:t[e]}}var Fit=Pit,Oit=y7;function Dit(e){return function(t){return Oit(t,e)}}var Lit=Dit,Rit=Fit,Mit=Lit,Uit=h7,Hit=lI;function Qit(e){return Uit(e)?Rit(Hit(e)):Mit(e)}var $it=Qit,Vit=ait,zit=kit,Git=ew,Wit=tu,Kit=$it;function qit(e){return typeof e=="function"?e:e==null?Git:typeof e=="object"?Wit(e)?zit(e[0],e[1]):Vit(e):Kit(e)}var zp=qit;function Xit(e,t,r,n){for(var i=e.length,s=r+(n?1:-1);n?s--:++s<i;)if(t(e[s],s,e))return s;return-1}var Yit=Xit;function Zit(e){return e!==e}var Jit=Zit;function est(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var tst=est,rst=Yit,nst=Jit,ist=tst;function sst(e,t,r){return t===t?ist(e,t,r):rst(e,nst,r)}var ast=sst,ost=ast;function lst(e,t){var r=e==null?0:e.length;return!!r&&ost(e,t,0)>-1}var cst=lst;function ust(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var dst=ust;function fst(){}var hst=fst,G6=e0e,Ast=hst,pst=I7,gst=1/0,mst=G6&&1/pst(new G6([,-0]))[1]==gst?function(e){return new G6(e)}:Ast,xst=mst,vst=VAe,yst=cst,wst=dst,bst=GAe,_st=xst,Est=I7,Sst=200;function Cst(e,t,r){var n=-1,i=yst,s=e.length,a=!0,l=[],c=l;if(r)a=!1,i=wst;else if(s>=Sst){var u=t?null:_st(e);if(u)return Est(u);a=!1,i=bst,c=new vst}else c=t?[]:l;e:for(;++n<s;){var d=e[n],h=t?t(d):d;if(d=r||d!==0?d:0,a&&h===h){for(var A=c.length;A--;)if(c[A]===h)continue e;t&&c.push(h),l.push(d)}else i(c,h,r)||(c!==l&&c.push(h),l.push(d))}return l}var Nst=Cst,Tst=zp,Bst=Nst;function Ist(e,t){return e&&e.length?Bst(e,Tst(t)):[]}var kst=Ist;const Rq=Gi(kst);function s0e(e,t,r){return t===!0?Rq(e,r):Mn(t)?Rq(e,t):e}function Mv(e){"@babel/helpers - typeof";return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mv(e)}var jst=["ref"];function Mq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Uh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mq(Object(r),!0).forEach(function(n){EI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pst(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o0e(n.key),n)}}function Fst(e,t,r){return t&&Uq(e.prototype,t),r&&Uq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ost(e,t,r){return t=i3(t),Dst(e,a0e()?Reflect.construct(t,r||[],i3(e).constructor):t.apply(e,r))}function Dst(e,t){if(t&&(Mv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lst(e)}function Lst(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a0e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a0e=function(){return!!e})()}function i3(e){return i3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},i3(e)}function Rst(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eD(e,t)}function eD(e,t){return eD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eD(e,t)}function EI(e,t,r){return t=o0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o0e(e){var t=Mst(e,"string");return Mv(t)=="symbol"?t:t+""}function Mst(e,t){if(Mv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ust(e,t){if(e==null)return{};var r=Hst(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hst(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qst(e){return e.value}function $st(e,t){if(Me.isValidElement(e))return Me.cloneElement(e,t);if(typeof e=="function")return Me.createElement(e,t);t.ref;var r=Ust(t,jst);return Me.createElement(B7,r)}var Hq=1,Kx=function(e){function t(){var r;Pst(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Ost(this,t,[].concat(i)),EI(r,"lastBoundingBox",{width:-1,height:-1}),r}return Rst(t,e),Fst(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Hq||Math.abs(i.height-this.lastBoundingBox.height)>Hq)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Uh({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,a=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,h,A;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(a==="center"&&s==="vertical"){var g=this.getBBoxSnapshot();h={left:((u||0)-g.width)/2}}else h=a==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();A={top:((d||0)-v.height)/2}}else A=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Uh(Uh({},h),A)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,a=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,h=Uh(Uh({position:"absolute",width:a||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Me.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(g){n.wrapperNode=g}},$st(s,Uh(Uh({},this.props),{},{payload:s0e(d,u,Qst)})))}}],[{key:"getWithHeight",value:function(n,i){var s=Uh(Uh({},this.defaultProps),n.props),a=s.layout;return a==="vertical"&&Cr(n.props.height)?{height:n.props.height}:a==="horizontal"?{width:n.props.width||i}:null}}])}(C.PureComponent);EI(Kx,"displayName","Legend");EI(Kx,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Qq=JE,Vst=k7,zst=tu,$q=Qq?Qq.isConcatSpreadable:void 0;function Gst(e){return zst(e)||Vst(e)||!!($q&&e&&e[$q])}var Wst=Gst,Kst=KAe,qst=Wst;function l0e(e,t,r,n,i){var s=-1,a=e.length;for(r||(r=qst),i||(i=[]);++s<a;){var l=e[s];t>0&&r(l)?t>1?l0e(l,t-1,r,n,i):Kst(i,l):n||(i[i.length]=l)}return i}var c0e=l0e;function Xst(e){return function(t,r,n){for(var i=-1,s=Object(t),a=n(t),l=a.length;l--;){var c=a[e?l:++i];if(r(s[c],c,s)===!1)break}return t}}var Yst=Xst,Zst=Yst,Jst=Zst(),eat=Jst,tat=eat,rat=F7;function nat(e,t){return e&&tat(e,t,rat)}var u0e=nat,iat=_I;function sat(e,t){return function(r,n){if(r==null)return r;if(!iat(r))return e(r,n);for(var i=r.length,s=t?i:-1,a=Object(r);(t?s--:++s<i)&&n(a[s],s,a)!==!1;);return r}}var aat=sat,oat=u0e,lat=aat,cat=lat(oat),D7=cat,uat=D7,dat=_I;function fat(e,t){var r=-1,n=dat(e)?Array(e.length):[];return uat(e,function(i,s,a){n[++r]=t(i,s,a)}),n}var d0e=fat;function hat(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Aat=hat,Vq=zy;function pat(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,s=Vq(e),a=t!==void 0,l=t===null,c=t===t,u=Vq(t);if(!l&&!u&&!s&&e>t||s&&a&&c&&!l&&!u||n&&a&&c||!r&&c||!i)return 1;if(!n&&!s&&!u&&e<t||u&&r&&i&&!n&&!s||l&&r&&i||!a&&i||!c)return-1}return 0}var gat=pat,mat=gat;function xat(e,t,r){for(var n=-1,i=e.criteria,s=t.criteria,a=i.length,l=r.length;++n<a;){var c=mat(i[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var vat=xat,W6=v7,yat=y7,wat=zp,bat=d0e,_at=Aat,Eat=YAe,Sat=vat,Cat=ew,Nat=tu;function Tat(e,t,r){t.length?t=W6(t,function(s){return Nat(s)?function(a){return yat(a,s.length===1?s[0]:s)}:s}):t=[Cat];var n=-1;t=W6(t,Eat(wat));var i=bat(e,function(s,a,l){var c=W6(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return _at(i,function(s,a){return Sat(s,a,r)})}var Bat=Tat;function Iat(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var kat=Iat,jat=kat,zq=Math.max;function Pat(e,t,r){return t=zq(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=zq(n.length-t,0),a=Array(s);++i<s;)a[i]=n[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=n[i];return l[t]=r(a),jat(e,this,l)}}var Fat=Pat;function Oat(e){return function(){return e}}var Dat=Oat,Lat=i1,Rat=function(){try{var e=Lat(Object,"defineProperty");return e({},"",{}),e}catch{}}(),f0e=Rat,Mat=Dat,Gq=f0e,Uat=ew,Hat=Gq?function(e,t){return Gq(e,"toString",{configurable:!0,enumerable:!1,value:Mat(t),writable:!0})}:Uat,Qat=Hat,$at=800,Vat=16,zat=Date.now;function Gat(e){var t=0,r=0;return function(){var n=zat(),i=Vat-(n-r);if(r=n,i>0){if(++t>=$at)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Wat=Gat,Kat=Qat,qat=Wat,Xat=qat(Kat),Yat=Xat,Zat=ew,Jat=Fat,eot=Yat;function tot(e,t){return eot(Jat(e,t,Zat),e+"")}var rot=tot,not=p7,iot=_I,sot=j7,aot=Vp;function oot(e,t,r){if(!aot(r))return!1;var n=typeof t;return(n=="number"?iot(r)&&sot(t,r.length):n=="string"&&t in r)?not(r[t],e):!1}var SI=oot,lot=c0e,cot=Bat,uot=rot,Wq=SI,dot=uot(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Wq(e,t[0],t[1])?t=[]:r>2&&Wq(t[0],t[1],t[2])&&(t=[t[0]]),cot(e,lot(t,1),[])}),fot=dot;const L7=Gi(fot);function d_(e){"@babel/helpers - typeof";return d_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d_(e)}function tD(){return tD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tD.apply(this,arguments)}function hot(e,t){return mot(e)||got(e,t)||pot(e,t)||Aot()}function Aot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pot(e,t){if(e){if(typeof e=="string")return Kq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kq(e,t)}}function Kq(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function got(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function mot(e){if(Array.isArray(e))return e}function qq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function K6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qq(Object(r),!0).forEach(function(n){xot(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xot(e,t,r){return t=vot(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vot(e){var t=yot(e,"string");return d_(t)=="symbol"?t:t+""}function yot(e,t){if(d_(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(d_(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wot(e){return Array.isArray(e)&&Po(e[0])&&Po(e[1])?e.join(" ~ "):e}var bot=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,s=i===void 0?{}:i,a=t.itemStyle,l=a===void 0?{}:a,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,h=t.formatter,A=t.itemSorter,g=t.wrapperClassName,v=t.labelClassName,x=t.label,y=t.labelFormatter,w=t.accessibilityLayer,_=w===void 0?!1:w,E=function(){if(d&&d.length){var M={padding:0,margin:0},H=(A?L7(d,A):d).map(function(K,Y){if(K.type==="none")return null;var ne=K6({display:"block",paddingTop:4,paddingBottom:4,color:K.color||"#000"},l),le=K.formatter||h||wot,te=K.value,X=K.name,ue=te,ve=X;if(le&&ue!=null&&ve!=null){var V=le(te,X,K,Y,d);if(Array.isArray(V)){var q=hot(V,2);ue=q[0],ve=q[1]}else ue=V}return Me.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:ne},Po(ve)?Me.createElement("span",{className:"recharts-tooltip-item-name"},ve):null,Po(ve)?Me.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Me.createElement("span",{className:"recharts-tooltip-item-value"},ue),Me.createElement("span",{className:"recharts-tooltip-item-unit"},K.unit||""))});return Me.createElement("ul",{className:"recharts-tooltip-item-list",style:M},H)}return null},I=K6({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),N=K6({margin:0},u),j=!Xn(x),T=j?x:"",P=qn("recharts-default-tooltip",g),k=qn("recharts-tooltip-label",v);j&&y&&d!==void 0&&d!==null&&(T=y(x,d));var R=_?{role:"status","aria-live":"assertive"}:{};return Me.createElement("div",tD({className:P,style:I},R),Me.createElement("p",{className:k,style:N},Me.isValidElement(T)?T:"".concat(T)),E())};function f_(e){"@babel/helpers - typeof";return f_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f_(e)}function tN(e,t,r){return t=_ot(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ot(e){var t=Eot(e,"string");return f_(t)=="symbol"?t:t+""}function Eot(e,t){if(f_(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(f_(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rw="recharts-tooltip-wrapper",Sot={visibility:"hidden"};function Cot(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return qn(Rw,tN(tN(tN(tN({},"".concat(Rw,"-right"),Cr(r)&&t&&Cr(t.x)&&r>=t.x),"".concat(Rw,"-left"),Cr(r)&&t&&Cr(t.x)&&r<t.x),"".concat(Rw,"-bottom"),Cr(n)&&t&&Cr(t.y)&&n>=t.y),"".concat(Rw,"-top"),Cr(n)&&t&&Cr(t.y)&&n<t.y))}function Xq(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,s=e.position,a=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&Cr(s[n]))return s[n];var d=r[n]-l-i,h=r[n]+i;if(t[n])return a[n]?d:h;if(a[n]){var A=d,g=c[n];return A<g?Math.max(h,c[n]):Math.max(d,c[n])}var v=h+l,x=c[n]+u;return v>x?Math.max(d,c[n]):Math.max(h,c[n])}function Not(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Tot(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,s=e.reverseDirection,a=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,h;return a.height>0&&a.width>0&&r?(d=Xq({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),h=Xq({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),u=Not({translateX:d,translateY:h,useTranslate3d:l})):u=Sot,{cssProperties:u,cssClasses:Cot({translateX:d,translateY:h,coordinate:r})}}function Uv(e){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uv(e)}function Yq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yq(Object(r),!0).forEach(function(n){nD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iot(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A0e(n.key),n)}}function kot(e,t,r){return t&&Iot(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jot(e,t,r){return t=s3(t),Pot(e,h0e()?Reflect.construct(t,r||[],s3(e).constructor):t.apply(e,r))}function Pot(e,t){if(t&&(Uv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fot(e)}function Fot(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h0e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h0e=function(){return!!e})()}function s3(e){return s3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},s3(e)}function Oot(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rD(e,t)}function rD(e,t){return rD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rD(e,t)}function nD(e,t,r){return t=A0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A0e(e){var t=Dot(e,"string");return Uv(t)=="symbol"?t:t+""}function Dot(e,t){if(Uv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jq=1,Lot=function(e){function t(){var r;Bot(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=jot(this,t,[].concat(i)),nD(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),nD(r,"handleKeyDown",function(a){if(a.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Oot(t,e),kot(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Jq||Math.abs(n.height-this.state.lastBoundingBox.height)>Jq)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,h=i.hasPayload,A=i.isAnimationActive,g=i.offset,v=i.position,x=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,_=i.wrapperStyle,E=Tot({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:g,position:v,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:w}),I=E.cssClasses,N=E.cssProperties,j=Zq(Zq({transition:A&&s?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&h?"visible":"hidden",position:"absolute",top:0,left:0},_);return Me.createElement("div",{tabIndex:-1,className:I,style:j,ref:function(P){n.wrapperNode=P}},u)}}])}(C.PureComponent),Rot=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},oh={isSsr:Rot(),get:function(t){return oh[t]},set:function(t,r){if(typeof t=="string")oh[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(i){oh[i]=t[i]})}}};function Hv(e){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hv(e)}function eX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eX(Object(r),!0).forEach(function(n){R7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uot(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g0e(n.key),n)}}function Hot(e,t,r){return t&&Uot(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qot(e,t,r){return t=a3(t),$ot(e,p0e()?Reflect.construct(t,r||[],a3(e).constructor):t.apply(e,r))}function $ot(e,t){if(t&&(Hv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vot(e)}function Vot(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p0e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p0e=function(){return!!e})()}function a3(e){return a3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},a3(e)}function zot(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iD(e,t)}function iD(e,t){return iD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iD(e,t)}function R7(e,t,r){return t=g0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g0e(e){var t=Got(e,"string");return Hv(t)=="symbol"?t:t+""}function Got(e,t){if(Hv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wot(e){return e.dataKey}function Kot(e,t){return Me.isValidElement(e)?Me.cloneElement(e,t):typeof e=="function"?Me.createElement(e,t):Me.createElement(bot,t)}var qd=function(e){function t(){return Mot(this,t),Qot(this,t,arguments)}return zot(t,e),Hot(t,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,h=i.filterNull,A=i.isAnimationActive,g=i.offset,v=i.payload,x=i.payloadUniqBy,y=i.position,w=i.reverseDirection,_=i.useTranslate3d,E=i.viewBox,I=i.wrapperStyle,N=v??[];h&&N.length&&(N=s0e(v.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),x,Wot));var j=N.length>0;return Me.createElement(Lot,{allowEscapeViewBox:a,animationDuration:l,animationEasing:c,isAnimationActive:A,active:s,coordinate:d,hasPayload:j,offset:g,position:y,reverseDirection:w,useTranslate3d:_,viewBox:E,wrapperStyle:I},Kot(u,tX(tX({},this.props),{},{payload:N})))}}])}(C.PureComponent);R7(qd,"displayName","Tooltip");R7(qd,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!oh.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var qot=Eh,Xot=function(){return qot.Date.now()},Yot=Xot,Zot=/\s/;function Jot(e){for(var t=e.length;t--&&Zot.test(e.charAt(t)););return t}var elt=Jot,tlt=elt,rlt=/^\s+/;function nlt(e){return e&&e.slice(0,tlt(e)+1).replace(rlt,"")}var ilt=nlt,slt=ilt,rX=Vp,alt=zy,nX=NaN,olt=/^[-+]0x[0-9a-f]+$/i,llt=/^0b[01]+$/i,clt=/^0o[0-7]+$/i,ult=parseInt;function dlt(e){if(typeof e=="number")return e;if(alt(e))return nX;if(rX(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=rX(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=slt(e);var r=llt.test(e);return r||clt.test(e)?ult(e.slice(2),r?2:8):olt.test(e)?nX:+e}var m0e=dlt,flt=Vp,q6=Yot,iX=m0e,hlt="Expected a function",Alt=Math.max,plt=Math.min;function glt(e,t,r){var n,i,s,a,l,c,u=0,d=!1,h=!1,A=!0;if(typeof e!="function")throw new TypeError(hlt);t=iX(t)||0,flt(r)&&(d=!!r.leading,h="maxWait"in r,s=h?Alt(iX(r.maxWait)||0,t):s,A="trailing"in r?!!r.trailing:A);function g(j){var T=n,P=i;return n=i=void 0,u=j,a=e.apply(P,T),a}function v(j){return u=j,l=setTimeout(w,t),d?g(j):a}function x(j){var T=j-c,P=j-u,k=t-T;return h?plt(k,s-P):k}function y(j){var T=j-c,P=j-u;return c===void 0||T>=t||T<0||h&&P>=s}function w(){var j=q6();if(y(j))return _(j);l=setTimeout(w,x(j))}function _(j){return l=void 0,A&&n?g(j):(n=i=void 0,a)}function E(){l!==void 0&&clearTimeout(l),u=0,n=c=i=l=void 0}function I(){return l===void 0?a:_(q6())}function N(){var j=q6(),T=y(j);if(n=arguments,i=this,c=j,T){if(l===void 0)return v(c);if(h)return clearTimeout(l),l=setTimeout(w,t),g(c)}return l===void 0&&(l=setTimeout(w,t)),a}return N.cancel=E,N.flush=I,N}var mlt=glt,xlt=mlt,vlt=Vp,ylt="Expected a function";function wlt(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(ylt);return vlt(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),xlt(e,t,{leading:n,maxWait:t,trailing:i})}var blt=wlt;const x0e=Gi(blt);function h_(e){"@babel/helpers - typeof";return h_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h_(e)}function sX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sX(Object(r),!0).forEach(function(n){_lt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _lt(e,t,r){return t=Elt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Elt(e){var t=Slt(e,"string");return h_(t)=="symbol"?t:t+""}function Slt(e,t){if(h_(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(h_(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Clt(e,t){return Ilt(e)||Blt(e,t)||Tlt(e,t)||Nlt()}function Nlt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tlt(e,t){if(e){if(typeof e=="string")return aX(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aX(e,t)}}function aX(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Blt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function Ilt(e){if(Array.isArray(e))return e}var X6=C.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=e.width,a=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,h=e.minHeight,A=e.maxHeight,g=e.children,v=e.debounce,x=v===void 0?0:v,y=e.id,w=e.className,_=e.onResize,E=e.style,I=E===void 0?{}:E,N=C.useRef(null),j=C.useRef();j.current=_,C.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var T=C.useState({containerWidth:i.width,containerHeight:i.height}),P=Clt(T,2),k=P[0],R=P[1],O=C.useCallback(function(H,K){R(function(Y){var ne=Math.round(H),le=Math.round(K);return Y.containerWidth===ne&&Y.containerHeight===le?Y:{containerWidth:ne,containerHeight:le}})},[]);C.useEffect(function(){var H=function(X){var ue,ve=X[0].contentRect,V=ve.width,q=ve.height;O(V,q),(ue=j.current)===null||ue===void 0||ue.call(j,V,q)};x>0&&(H=x0e(H,x,{trailing:!0,leading:!1}));var K=new ResizeObserver(H),Y=N.current.getBoundingClientRect(),ne=Y.width,le=Y.height;return O(ne,le),K.observe(N.current),function(){K.disconnect()}},[O,x]);var M=C.useMemo(function(){var H=k.containerWidth,K=k.containerHeight;if(H<0||K<0)return null;fA(kg(a)||kg(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,c),fA(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Y=kg(a)?H:a,ne=kg(c)?K:c;r&&r>0&&(Y?ne=Y/r:ne&&(Y=ne*r),A&&ne>A&&(ne=A)),fA(Y>0||ne>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Y,ne,a,c,d,h,r);var le=!Array.isArray(g)&&dA(g.type).endsWith("Chart");return Me.Children.map(g,function(te){return Me.isValidElement(te)?C.cloneElement(te,rN({width:Y,height:ne},le?{style:rN({height:"100%",width:"100%",maxHeight:ne,maxWidth:Y},te.props.style)}:{})):te})},[r,g,c,A,h,d,k,a]);return Me.createElement("div",{id:y?"".concat(y):void 0,className:qn("recharts-responsive-container",w),style:rN(rN({},I),{},{width:a,height:c,minWidth:d,minHeight:h,maxHeight:A}),ref:N},M)}),CI=function(t){return null};CI.displayName="Cell";function A_(e){"@babel/helpers - typeof";return A_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A_(e)}function oX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oX(Object(r),!0).forEach(function(n){klt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function klt(e,t,r){return t=jlt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jlt(e){var t=Plt(e,"string");return A_(t)=="symbol"?t:t+""}function Plt(e,t){if(A_(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(A_(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F1={widthCache:{},cacheCount:0},Flt=2e3,Olt={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},lX="recharts_measurement_span";function Dlt(e){var t=sD({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var J2=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||oh.isSsr)return{width:0,height:0};var n=Dlt(r),i=JSON.stringify({text:t,copyStyle:n});if(F1.widthCache[i])return F1.widthCache[i];try{var s=document.getElementById(lX);s||(s=document.createElement("span"),s.setAttribute("id",lX),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=sD(sD({},Olt),n);Object.assign(s.style,a),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return F1.widthCache[i]=c,++F1.cacheCount>Flt&&(F1.cacheCount=0,F1.widthCache={}),c}catch{return{width:0,height:0}}},Llt=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function p_(e){"@babel/helpers - typeof";return p_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p_(e)}function o3(e,t){return Hlt(e)||Ult(e,t)||Mlt(e,t)||Rlt()}function Rlt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mlt(e,t){if(e){if(typeof e=="string")return cX(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cX(e,t)}}function cX(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ult(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function Hlt(e){if(Array.isArray(e))return e}function Qlt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vlt(n.key),n)}}function $lt(e,t,r){return t&&uX(e.prototype,t),r&&uX(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vlt(e){var t=zlt(e,"string");return p_(t)=="symbol"?t:t+""}function zlt(e,t){if(p_(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(p_(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Glt=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Wlt=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,v0e={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Klt=Object.keys(v0e),vx="NaN";function qlt(e,t){return e*v0e[t]}var nN=function(){function e(t,r){Qlt(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Glt.test(r)&&(this.num=NaN,this.unit=""),Klt.includes(r)&&(this.num=qlt(t,r),this.unit="px")}return $lt(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Wlt.exec(r))!==null&&n!==void 0?n:[],s=o3(i,3),a=s[1],l=s[2];return new e(parseFloat(a),l??"")}}])}();function y0e(e){if(e.includes(vx))return vx;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=dX.exec(t))!==null&&r!==void 0?r:[],i=o3(n,4),s=i[1],a=i[2],l=i[3],c=nN.parse(s??""),u=nN.parse(l??""),d=a==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return vx;t=t.replace(dX,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,A=(h=fX.exec(t))!==null&&h!==void 0?h:[],g=o3(A,4),v=g[1],x=g[2],y=g[3],w=nN.parse(v??""),_=nN.parse(y??""),E=x==="+"?w.add(_):w.subtract(_);if(E.isNaN())return vx;t=t.replace(fX,E.toString())}return t}var hX=/\(([^()]*)\)/;function Xlt(e){for(var t=e;t.includes("(");){var r=hX.exec(t),n=o3(r,2),i=n[1];t=t.replace(hX,y0e(i))}return t}function Ylt(e){var t=e.replace(/\s+/g,"");return t=Xlt(t),t=y0e(t),t}function Zlt(e){try{return Ylt(e)}catch{return vx}}function Y6(e){var t=Zlt(e.slice(5,-1));return t===vx?"":t}var Jlt=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ect=["dx","dy","angle","className","breakAll"];function aD(){return aD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aD.apply(this,arguments)}function AX(e,t){if(e==null)return{};var r=tct(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tct(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pX(e,t){return sct(e)||ict(e,t)||nct(e,t)||rct()}function rct(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nct(e,t){if(e){if(typeof e=="string")return gX(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gX(e,t)}}function gX(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ict(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function sct(e){if(Array.isArray(e))return e}var w0e=/[ \f\n\r\t\v\u2028\u2029]+/,b0e=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var s=[];Xn(r)||(n?s=r.toString().split(""):s=r.toString().split(w0e));var a=s.map(function(c){return{word:c,width:J2(c,i).width}}),l=n?0:J2("",i).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}},act=function(t,r,n,i,s){var a=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Cr(a),h=l,A=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y.reduce(function(ne,le){var te=le.word,X=le.width,ue=ne[ne.length-1];if(ue&&(i==null||s||ue.width+X+n<Number(i)))ue.words.push(te),ue.width+=X+n;else{var ve={words:[te],width:X};ne.push(ve)}return ne},[])},g=A(r),v=function(Y){return Y.reduce(function(ne,le){return ne.width>le.width?ne:le})};if(!d)return g;for(var x="",y=function(Y){var ne=h.slice(0,Y),le=b0e({breakAll:u,style:c,children:ne+x}).wordsWithComputedWidth,te=A(le),X=te.length>a||v(te).width>Number(i);return[X,te]},w=0,_=h.length-1,E=0,I;w<=_&&E<=h.length-1;){var N=Math.floor((w+_)/2),j=N-1,T=y(j),P=pX(T,2),k=P[0],R=P[1],O=y(N),M=pX(O,1),H=M[0];if(!k&&!H&&(w=N+1),k&&H&&(_=N-1),!k&&H){I=R;break}E++}return I||g},mX=function(t){var r=Xn(t)?[]:t.toString().split(w0e);return[{words:r}]},oct=function(t){var r=t.width,n=t.scaleToFit,i=t.children,s=t.style,a=t.breakAll,l=t.maxLines;if((r||n)&&!oh.isSsr){var c,u,d=b0e({breakAll:a,children:i,style:s});if(d){var h=d.wordsWithComputedWidth,A=d.spaceWidth;c=h,u=A}else return mX(i);return act({breakAll:a,children:i,maxLines:l,style:s},c,u,r,n)}return mX(i)},xX="#808080",Bm=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,a=t.lineHeight,l=a===void 0?"1em":a,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,h=d===void 0?!1:d,A=t.textAnchor,g=A===void 0?"start":A,v=t.verticalAnchor,x=v===void 0?"end":v,y=t.fill,w=y===void 0?xX:y,_=AX(t,Jlt),E=C.useMemo(function(){return oct({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:h,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,h,_.style,_.width]),I=_.dx,N=_.dy,j=_.angle,T=_.className,P=_.breakAll,k=AX(_,ect);if(!Po(n)||!Po(s))return null;var R=n+(Cr(I)?I:0),O=s+(Cr(N)?N:0),M;switch(x){case"start":M=Y6("calc(".concat(u,")"));break;case"middle":M=Y6("calc(".concat((E.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:M=Y6("calc(".concat(E.length-1," * -").concat(l,")"));break}var H=[];if(h){var K=E[0].width,Y=_.width;H.push("scale(".concat((Cr(Y)?Y/K:1)/K,")"))}return j&&H.push("rotate(".concat(j,", ").concat(R,", ").concat(O,")")),H.length&&(k.transform=H.join(" ")),Me.createElement("text",aD({},En(k,!0),{x:R,y:O,className:qn("recharts-text",T),textAnchor:g,fill:w.includes("url")?xX:w}),E.map(function(ne,le){var te=ne.words.join(P?"":" ");return Me.createElement("tspan",{x:R,dy:le===0?M:l,key:"".concat(te,"-").concat(le)},te)}))};function hp(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lct(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function M7(e){let t,r,n;e.length!==2?(t=hp,r=(l,c)=>hp(e(l),c),n=(l,c)=>e(l)-c):(t=e===hp||e===lct?e:cct,r=e,n=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function a(l,c,u=0,d=l.length){const h=i(l,c,u,d-1);return h>u&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:i,center:a,right:s}}function cct(){return 0}function _0e(e){return e===null?NaN:+e}function*uct(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const dct=M7(hp),eS=dct.right;M7(_0e).center;class vX extends Map{constructor(t,r=Act){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(yX(this,t))}has(t){return super.has(yX(this,t))}set(t,r){return super.set(fct(this,t),r)}delete(t){return super.delete(hct(this,t))}}function yX({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function fct({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function hct({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Act(e){return e!==null&&typeof e=="object"?e.valueOf():e}function pct(e=hp){if(e===hp)return E0e;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function E0e(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const gct=Math.sqrt(50),mct=Math.sqrt(10),xct=Math.sqrt(2);function l3(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=gct?10:s>=mct?5:s>=xct?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/a,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*a,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?l3(e,t,r*2):[l,c,u]}function oD(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,a]=n?l3(t,e,r):l3(e,t,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(a<0)for(let u=0;u<l;++u)c[u]=(s-u)/-a;else for(let u=0;u<l;++u)c[u]=(s-u)*a;else if(a<0)for(let u=0;u<l;++u)c[u]=(i+u)/-a;else for(let u=0;u<l;++u)c[u]=(i+u)*a;return c}function lD(e,t,r){return t=+t,e=+e,r=+r,l3(e,t,r)[2]}function cD(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?lD(t,e,r):lD(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function wX(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function bX(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function S0e(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?E0e:pct(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),h=.5*Math.exp(2*d/3),A=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),g=Math.max(r,Math.floor(t-u*h/c+A)),v=Math.min(n,Math.floor(t+(c-u)*h/c+A));S0e(e,t,g,v,i)}const s=e[t];let a=r,l=n;for(Mw(e,r,t),i(e[n],s)>0&&Mw(e,r,n);a<l;){for(Mw(e,a,l),++a,--l;i(e[a],s)<0;)++a;for(;i(e[l],s)>0;)--l}i(e[r],s)===0?Mw(e,r,l):(++l,Mw(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Mw(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function vct(e,t,r){if(e=Float64Array.from(uct(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return bX(e);if(t>=1)return wX(e);var n,i=(n-1)*t,s=Math.floor(i),a=wX(S0e(e,s).subarray(0,s+1)),l=bX(e.subarray(s+1));return a+(l-a)*(i-s)}}function yct(e,t,r=_0e){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),a=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return a+(l-a)*(i-s)}}function wct(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function kd(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function RA(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const uD=Symbol("implicit");function U7(){var e=new vX,t=[],r=[],n=uD;function i(s){let a=e.get(s);if(a===void 0){if(n!==uD)return n;e.set(s,a=t.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new vX;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return U7(t,r).unknown(n)},kd.apply(i,arguments),i}function g_(){var e=U7().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,a,l=!1,c=0,u=0,d=.5;delete e.unknown;function h(){var A=t().length,g=i<n,v=g?i:n,x=g?n:i;s=(x-v)/Math.max(1,A-c+u*2),l&&(s=Math.floor(s)),v+=(x-v-s*(A-c))*d,a=s*(1-c),l&&(v=Math.round(v),a=Math.round(a));var y=wct(A).map(function(w){return v+s*w});return r(g?y.reverse():y)}return e.domain=function(A){return arguments.length?(t(A),h()):t()},e.range=function(A){return arguments.length?([n,i]=A,n=+n,i=+i,h()):[n,i]},e.rangeRound=function(A){return[n,i]=A,n=+n,i=+i,l=!0,h()},e.bandwidth=function(){return a},e.step=function(){return s},e.round=function(A){return arguments.length?(l=!!A,h()):l},e.padding=function(A){return arguments.length?(c=Math.min(1,u=+A),h()):c},e.paddingInner=function(A){return arguments.length?(c=Math.min(1,A),h()):c},e.paddingOuter=function(A){return arguments.length?(u=+A,h()):u},e.align=function(A){return arguments.length?(d=Math.max(0,Math.min(1,A)),h()):d},e.copy=function(){return g_(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},kd.apply(h(),arguments)}function C0e(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return C0e(t())},e}function eb(){return C0e(g_.apply(null,arguments).paddingInner(1))}function H7(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function N0e(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function tS(){}var m_=.7,c3=1/m_,qx="\\s*([+-]?\\d+)\\s*",x_="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",lh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bct=/^#([0-9a-f]{3,8})$/,_ct=new RegExp(`^rgb\\(${qx},${qx},${qx}\\)$`),Ect=new RegExp(`^rgb\\(${lh},${lh},${lh}\\)$`),Sct=new RegExp(`^rgba\\(${qx},${qx},${qx},${x_}\\)$`),Cct=new RegExp(`^rgba\\(${lh},${lh},${lh},${x_}\\)$`),Nct=new RegExp(`^hsl\\(${x_},${lh},${lh}\\)$`),Tct=new RegExp(`^hsla\\(${x_},${lh},${lh},${x_}\\)$`),_X={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};H7(tS,v_,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:EX,formatHex:EX,formatHex8:Bct,formatHsl:Ict,formatRgb:SX,toString:SX});function EX(){return this.rgb().formatHex()}function Bct(){return this.rgb().formatHex8()}function Ict(){return T0e(this).formatHsl()}function SX(){return this.rgb().formatRgb()}function v_(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=bct.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?CX(t):r===3?new Gc(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?iN(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?iN(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=_ct.exec(e))?new Gc(t[1],t[2],t[3],1):(t=Ect.exec(e))?new Gc(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Sct.exec(e))?iN(t[1],t[2],t[3],t[4]):(t=Cct.exec(e))?iN(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Nct.exec(e))?BX(t[1],t[2]/100,t[3]/100,1):(t=Tct.exec(e))?BX(t[1],t[2]/100,t[3]/100,t[4]):_X.hasOwnProperty(e)?CX(_X[e]):e==="transparent"?new Gc(NaN,NaN,NaN,0):null}function CX(e){return new Gc(e>>16&255,e>>8&255,e&255,1)}function iN(e,t,r,n){return n<=0&&(e=t=r=NaN),new Gc(e,t,r,n)}function kct(e){return e instanceof tS||(e=v_(e)),e?(e=e.rgb(),new Gc(e.r,e.g,e.b,e.opacity)):new Gc}function dD(e,t,r,n){return arguments.length===1?kct(e):new Gc(e,t,r,n??1)}function Gc(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}H7(Gc,dD,N0e(tS,{brighter(e){return e=e==null?c3:Math.pow(c3,e),new Gc(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?m_:Math.pow(m_,e),new Gc(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gc(Jg(this.r),Jg(this.g),Jg(this.b),u3(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:NX,formatHex:NX,formatHex8:jct,formatRgb:TX,toString:TX}));function NX(){return`#${jg(this.r)}${jg(this.g)}${jg(this.b)}`}function jct(){return`#${jg(this.r)}${jg(this.g)}${jg(this.b)}${jg((isNaN(this.opacity)?1:this.opacity)*255)}`}function TX(){const e=u3(this.opacity);return`${e===1?"rgb(":"rgba("}${Jg(this.r)}, ${Jg(this.g)}, ${Jg(this.b)}${e===1?")":`, ${e})`}`}function u3(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Jg(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function jg(e){return e=Jg(e),(e<16?"0":"")+e.toString(16)}function BX(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Zd(e,t,r,n)}function T0e(e){if(e instanceof Zd)return new Zd(e.h,e.s,e.l,e.opacity);if(e instanceof tS||(e=v_(e)),!e)return new Zd;if(e instanceof Zd)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),a=NaN,l=s-i,c=(s+i)/2;return l?(t===s?a=(r-n)/l+(r<n)*6:r===s?a=(n-t)/l+2:a=(t-r)/l+4,l/=c<.5?s+i:2-s-i,a*=60):l=c>0&&c<1?0:a,new Zd(a,l,c,e.opacity)}function Pct(e,t,r,n){return arguments.length===1?T0e(e):new Zd(e,t,r,n??1)}function Zd(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}H7(Zd,Pct,N0e(tS,{brighter(e){return e=e==null?c3:Math.pow(c3,e),new Zd(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?m_:Math.pow(m_,e),new Zd(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Gc(Z6(e>=240?e-240:e+120,i,n),Z6(e,i,n),Z6(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Zd(IX(this.h),sN(this.s),sN(this.l),u3(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=u3(this.opacity);return`${e===1?"hsl(":"hsla("}${IX(this.h)}, ${sN(this.s)*100}%, ${sN(this.l)*100}%${e===1?")":`, ${e})`}`}}));function IX(e){return e=(e||0)%360,e<0?e+360:e}function sN(e){return Math.max(0,Math.min(1,e||0))}function Z6(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Q7=e=>()=>e;function Fct(e,t){return function(r){return e+r*t}}function Oct(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Dct(e){return(e=+e)==1?B0e:function(t,r){return r-t?Oct(t,r,e):Q7(isNaN(t)?r:t)}}function B0e(e,t){var r=t-e;return r?Fct(e,r):Q7(isNaN(e)?t:e)}const kX=function e(t){var r=Dct(t);function n(i,s){var a=r((i=dD(i)).r,(s=dD(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),u=B0e(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function Lct(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function Rct(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Mct(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=tw(e[a],t[a]);for(;a<r;++a)s[a]=t[a];return function(l){for(a=0;a<n;++a)s[a]=i[a](l);return s}}function Uct(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function d3(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Hct(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=tw(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var fD=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,J6=new RegExp(fD.source,"g");function Qct(e){return function(){return e}}function $ct(e){return function(t){return e(t)+""}}function Vct(e,t){var r=fD.lastIndex=J6.lastIndex=0,n,i,s,a=-1,l=[],c=[];for(e=e+"",t=t+"";(n=fD.exec(e))&&(i=J6.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),l[a]?l[a]+=s:l[++a]=s),(n=n[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:d3(n,i)})),r=J6.lastIndex;return r<t.length&&(s=t.slice(r),l[a]?l[a]+=s:l[++a]=s),l.length<2?c[0]?$ct(c[0].x):Qct(t):(t=c.length,function(u){for(var d=0,h;d<t;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function tw(e,t){var r=typeof t,n;return t==null||r==="boolean"?Q7(t):(r==="number"?d3:r==="string"?(n=v_(t))?(t=n,kX):Vct:t instanceof v_?kX:t instanceof Date?Uct:Rct(t)?Lct:Array.isArray(t)?Mct:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Hct:d3)(e,t)}function $7(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function zct(e,t){t===void 0&&(t=e,e=tw);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(a){var l=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[l](a-l)}}function Gct(e){return function(){return e}}function f3(e){return+e}var jX=[0,1];function vc(e){return e}function hD(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Gct(isNaN(t)?NaN:.5)}function Wct(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Kct(e,t,r){var n=e[0],i=e[1],s=t[0],a=t[1];return i<n?(n=hD(i,n),s=r(a,s)):(n=hD(n,i),s=r(s,a)),function(l){return s(n(l))}}function qct(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)i[a]=hD(e[a],e[a+1]),s[a]=r(t[a],t[a+1]);return function(l){var c=eS(e,l,1,n)-1;return s[c](i[c](l))}}function rS(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function NI(){var e=jX,t=jX,r=tw,n,i,s,a=vc,l,c,u;function d(){var A=Math.min(e.length,t.length);return a!==vc&&(a=Wct(e[0],e[A-1])),l=A>2?qct:Kct,c=u=null,h}function h(A){return A==null||isNaN(A=+A)?s:(c||(c=l(e.map(n),t,r)))(n(a(A)))}return h.invert=function(A){return a(i((u||(u=l(t,e.map(n),d3)))(A)))},h.domain=function(A){return arguments.length?(e=Array.from(A,f3),d()):e.slice()},h.range=function(A){return arguments.length?(t=Array.from(A),d()):t.slice()},h.rangeRound=function(A){return t=Array.from(A),r=$7,d()},h.clamp=function(A){return arguments.length?(a=A?!0:vc,d()):a!==vc},h.interpolate=function(A){return arguments.length?(r=A,d()):r},h.unknown=function(A){return arguments.length?(s=A,h):s},function(A,g){return n=A,i=g,d()}}function V7(){return NI()(vc,vc)}function Xct(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function h3(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Qv(e){return e=h3(Math.abs(e)),e?e[1]:NaN}function Yct(e,t){return function(r,n){for(var i=r.length,s=[],a=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[a=(a+1)%e.length];return s.reverse().join(t)}}function Zct(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Jct=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function y_(e){if(!(t=Jct.exec(e)))throw new Error("invalid format: "+e);var t;return new z7({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}y_.prototype=z7.prototype;function z7(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}z7.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function eut(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var I0e;function tut(e,t){var r=h3(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(I0e=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+h3(e,Math.max(0,t+s-1))[0]}function PX(e,t){var r=h3(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const FX={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Xct,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>PX(e*100,t),r:PX,s:tut,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function OX(e){return e}var DX=Array.prototype.map,LX=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function rut(e){var t=e.grouping===void 0||e.thousands===void 0?OX:Yct(DX.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?OX:Zct(DX.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(h){h=y_(h);var A=h.fill,g=h.align,v=h.sign,x=h.symbol,y=h.zero,w=h.width,_=h.comma,E=h.precision,I=h.trim,N=h.type;N==="n"?(_=!0,N="g"):FX[N]||(E===void 0&&(E=12),I=!0,N="g"),(y||A==="0"&&g==="=")&&(y=!0,A="0",g="=");var j=x==="$"?r:x==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",T=x==="$"?n:/[%p]/.test(N)?a:"",P=FX[N],k=/[defgprs%]/.test(N);E=E===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function R(O){var M=j,H=T,K,Y,ne;if(N==="c")H=P(O)+H,O="";else{O=+O;var le=O<0||1/O<0;if(O=isNaN(O)?c:P(Math.abs(O),E),I&&(O=eut(O)),le&&+O==0&&v!=="+"&&(le=!1),M=(le?v==="("?v:l:v==="-"||v==="("?"":v)+M,H=(N==="s"?LX[8+I0e/3]:"")+H+(le&&v==="("?")":""),k){for(K=-1,Y=O.length;++K<Y;)if(ne=O.charCodeAt(K),48>ne||ne>57){H=(ne===46?i+O.slice(K+1):O.slice(K))+H,O=O.slice(0,K);break}}}_&&!y&&(O=t(O,1/0));var te=M.length+O.length+H.length,X=te<w?new Array(w-te+1).join(A):"";switch(_&&y&&(O=t(X+O,X.length?w-H.length:1/0),X=""),g){case"<":O=M+O+H+X;break;case"=":O=M+X+O+H;break;case"^":O=X.slice(0,te=X.length>>1)+M+O+H+X.slice(te);break;default:O=X+M+O+H;break}return s(O)}return R.toString=function(){return h+""},R}function d(h,A){var g=u((h=y_(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(Qv(A)/3)))*3,x=Math.pow(10,-v),y=LX[8+v/3];return function(w){return g(x*w)+y}}return{format:u,formatPrefix:d}}var aN,G7,k0e;nut({thousands:",",grouping:[3],currency:["$",""]});function nut(e){return aN=rut(e),G7=aN.format,k0e=aN.formatPrefix,aN}function iut(e){return Math.max(0,-Qv(Math.abs(e)))}function sut(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Qv(t)/3)))*3-Qv(Math.abs(e)))}function aut(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Qv(t)-Qv(e))+1}function j0e(e,t,r,n){var i=cD(e,t,r),s;switch(n=y_(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=sut(i,a))&&(n.precision=s),k0e(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=aut(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=iut(i))&&(n.precision=s-(n.type==="%")*2);break}}return G7(n)}function Gp(e){var t=e.domain;return e.ticks=function(r){var n=t();return oD(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return j0e(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,a=n[i],l=n[s],c,u,d=10;for(l<a&&(u=a,a=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=lD(a,l,r),u===c)return n[i]=a,n[s]=l,t(n);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function A3(){var e=V7();return e.copy=function(){return rS(e,A3())},kd.apply(e,arguments),Gp(e)}function P0e(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,f3),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return P0e(e).unknown(t)},e=arguments.length?Array.from(e,f3):[0,1],Gp(r)}function F0e(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),e[r]=t.floor(i),e[n]=t.ceil(s),e}function RX(e){return Math.log(e)}function MX(e){return Math.exp(e)}function out(e){return-Math.log(-e)}function lut(e){return-Math.exp(-e)}function cut(e){return isFinite(e)?+("1e"+e):e<0?0:e}function uut(e){return e===10?cut:e===Math.E?Math.exp:t=>Math.pow(e,t)}function dut(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function UX(e){return(t,r)=>-e(-t,r)}function W7(e){const t=e(RX,MX),r=t.domain;let n=10,i,s;function a(){return i=dut(n),s=uut(n),r()[0]<0?(i=UX(i),s=UX(s),e(out,lut)):e(RX,MX),t}return t.base=function(l){return arguments.length?(n=+l,a()):n},t.domain=function(l){return arguments.length?(r(l),a()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let A=i(u),g=i(d),v,x;const y=l==null?10:+l;let w=[];if(!(n%1)&&g-A<y){if(A=Math.floor(A),g=Math.ceil(g),u>0){for(;A<=g;++A)for(v=1;v<n;++v)if(x=A<0?v/s(-A):v*s(A),!(x<u)){if(x>d)break;w.push(x)}}else for(;A<=g;++A)for(v=n-1;v>=1;--v)if(x=A>0?v/s(-A):v*s(A),!(x<u)){if(x>d)break;w.push(x)}w.length*2<y&&(w=oD(u,d,y))}else w=oD(A,g,Math.min(g-A,y)).map(s);return h?w.reverse():w},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=y_(c)).precision==null&&(c.trim=!0),c=G7(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let h=d/s(Math.round(i(d)));return h*n<n-.5&&(h*=n),h<=u?c(d):""}},t.nice=()=>r(F0e(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),t}function O0e(){const e=W7(NI()).domain([1,10]);return e.copy=()=>rS(e,O0e()).base(e.base()),kd.apply(e,arguments),e}function HX(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function QX(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function K7(e){var t=1,r=e(HX(t),QX(t));return r.constant=function(n){return arguments.length?e(HX(t=+n),QX(t)):t},Gp(r)}function D0e(){var e=K7(NI());return e.copy=function(){return rS(e,D0e()).constant(e.constant())},kd.apply(e,arguments)}function $X(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function fut(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function hut(e){return e<0?-e*e:e*e}function q7(e){var t=e(vc,vc),r=1;function n(){return r===1?e(vc,vc):r===.5?e(fut,hut):e($X(r),$X(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Gp(t)}function X7(){var e=q7(NI());return e.copy=function(){return rS(e,X7()).exponent(e.exponent())},kd.apply(e,arguments),e}function Aut(){return X7.apply(null,arguments).exponent(.5)}function VX(e){return Math.sign(e)*e*e}function put(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function L0e(){var e=V7(),t=[0,1],r=!1,n;function i(s){var a=put(e(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return e.invert(VX(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,f3)).map(VX)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return L0e(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},kd.apply(i,arguments),Gp(i)}function R0e(){var e=[],t=[],r=[],n;function i(){var a=0,l=Math.max(1,t.length);for(r=new Array(l-1);++a<l;)r[a-1]=yct(e,a/l);return s}function s(a){return a==null||isNaN(a=+a)?n:t[eS(r,a)]}return s.invertExtent=function(a){var l=t.indexOf(a);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let l of a)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(hp),i()},s.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return R0e().domain(e).range(t).unknown(n)},kd.apply(s,arguments)}function M0e(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[eS(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return a}return a.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},a.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},a.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return n.slice()},a.copy=function(){return M0e().domain([e,t]).range(i).unknown(s)},kd.apply(Gp(a),arguments)}function U0e(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[eS(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var a=t.indexOf(s);return[e[a-1],e[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return U0e().domain(e).range(t).unknown(r)},kd.apply(i,arguments)}const eP=new Date,tP=new Date;function Ro(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(t(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<a);return c},i.filter=s=>Ro(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;t(a,-1),!s(a););else for(;--l>=0;)for(;t(a,1),!s(a););}),r&&(i.count=(s,a)=>(eP.setTime(+s),tP.setTime(+a),e(eP),e(tP),Math.floor(r(eP,tP))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const p3=Ro(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);p3.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ro(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):p3);p3.range;const nA=1e3,gd=nA*60,iA=gd*60,BA=iA*24,Y7=BA*7,zX=BA*30,rP=BA*365,Pg=Ro(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*nA)},(e,t)=>(t-e)/nA,e=>e.getUTCSeconds());Pg.range;const Z7=Ro(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*nA)},(e,t)=>{e.setTime(+e+t*gd)},(e,t)=>(t-e)/gd,e=>e.getMinutes());Z7.range;const J7=Ro(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*gd)},(e,t)=>(t-e)/gd,e=>e.getUTCMinutes());J7.range;const e9=Ro(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*nA-e.getMinutes()*gd)},(e,t)=>{e.setTime(+e+t*iA)},(e,t)=>(t-e)/iA,e=>e.getHours());e9.range;const t9=Ro(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*iA)},(e,t)=>(t-e)/iA,e=>e.getUTCHours());t9.range;const nS=Ro(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*gd)/BA,e=>e.getDate()-1);nS.range;const TI=Ro(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/BA,e=>e.getUTCDate()-1);TI.range;const H0e=Ro(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/BA,e=>Math.floor(e/BA));H0e.range;function s1(e){return Ro(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*gd)/Y7)}const BI=s1(0),g3=s1(1),gut=s1(2),mut=s1(3),$v=s1(4),xut=s1(5),vut=s1(6);BI.range;g3.range;gut.range;mut.range;$v.range;xut.range;vut.range;function a1(e){return Ro(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Y7)}const II=a1(0),m3=a1(1),yut=a1(2),wut=a1(3),Vv=a1(4),but=a1(5),_ut=a1(6);II.range;m3.range;yut.range;wut.range;Vv.range;but.range;_ut.range;const r9=Ro(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());r9.range;const n9=Ro(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());n9.range;const IA=Ro(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());IA.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ro(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});IA.range;const kA=Ro(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());kA.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ro(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});kA.range;function Q0e(e,t,r,n,i,s){const a=[[Pg,1,nA],[Pg,5,5*nA],[Pg,15,15*nA],[Pg,30,30*nA],[s,1,gd],[s,5,5*gd],[s,15,15*gd],[s,30,30*gd],[i,1,iA],[i,3,3*iA],[i,6,6*iA],[i,12,12*iA],[n,1,BA],[n,2,2*BA],[r,1,Y7],[t,1,zX],[t,3,3*zX],[e,1,rP]];function l(u,d,h){const A=d<u;A&&([u,d]=[d,u]);const g=h&&typeof h.range=="function"?h:c(u,d,h),v=g?g.range(u,+d+1):[];return A?v.reverse():v}function c(u,d,h){const A=Math.abs(d-u)/h,g=M7(([,,y])=>y).right(a,A);if(g===a.length)return e.every(cD(u/rP,d/rP,h));if(g===0)return p3.every(Math.max(cD(u,d,h),1));const[v,x]=a[A/a[g-1][2]<a[g][2]/A?g-1:g];return v.every(x)}return[l,c]}const[Eut,Sut]=Q0e(kA,n9,II,H0e,t9,J7),[Cut,Nut]=Q0e(IA,r9,BI,nS,e9,Z7);function nP(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function iP(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Uw(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Tut(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,a=e.shortDays,l=e.months,c=e.shortMonths,u=Hw(i),d=Qw(i),h=Hw(s),A=Qw(s),g=Hw(a),v=Qw(a),x=Hw(l),y=Qw(l),w=Hw(c),_=Qw(c),E={a:le,A:te,b:X,B:ue,c:null,d:YX,e:YX,f:Yut,g:odt,G:cdt,H:Kut,I:qut,j:Xut,L:$0e,m:Zut,M:Jut,p:ve,q:V,Q:eY,s:tY,S:edt,u:tdt,U:rdt,V:ndt,w:idt,W:sdt,x:null,X:null,y:adt,Y:ldt,Z:udt,"%":JX},I={a:q,A:ee,b:re,B:de,c:null,d:ZX,e:ZX,f:Adt,g:Edt,G:Cdt,H:ddt,I:fdt,j:hdt,L:z0e,m:pdt,M:gdt,p:Ae,q:_e,Q:eY,s:tY,S:mdt,u:xdt,U:vdt,V:ydt,w:wdt,W:bdt,x:null,X:null,y:_dt,Y:Sdt,Z:Ndt,"%":JX},N={a:R,A:O,b:M,B:H,c:K,d:qX,e:qX,f:Vut,g:KX,G:WX,H:XX,I:XX,j:Uut,L:$ut,m:Mut,M:Hut,p:k,q:Rut,Q:Gut,s:Wut,S:Qut,u:Put,U:Fut,V:Out,w:jut,W:Dut,x:Y,X:ne,y:KX,Y:WX,Z:Lut,"%":zut};E.x=j(r,E),E.X=j(n,E),E.c=j(t,E),I.x=j(r,I),I.X=j(n,I),I.c=j(t,I);function j(ye,ce){return function(Ne){var oe=[],We=-1,Re=0,z=ye.length,Fe,He,ke;for(Ne instanceof Date||(Ne=new Date(+Ne));++We<z;)ye.charCodeAt(We)===37&&(oe.push(ye.slice(Re,We)),(He=GX[Fe=ye.charAt(++We)])!=null?Fe=ye.charAt(++We):He=Fe==="e"?" ":"0",(ke=ce[Fe])&&(Fe=ke(Ne,He)),oe.push(Fe),Re=We+1);return oe.push(ye.slice(Re,We)),oe.join("")}}function T(ye,ce){return function(Ne){var oe=Uw(1900,void 0,1),We=P(oe,ye,Ne+="",0),Re,z;if(We!=Ne.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(ce&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(Re=iP(Uw(oe.y,0,1)),z=Re.getUTCDay(),Re=z>4||z===0?m3.ceil(Re):m3(Re),Re=TI.offset(Re,(oe.V-1)*7),oe.y=Re.getUTCFullYear(),oe.m=Re.getUTCMonth(),oe.d=Re.getUTCDate()+(oe.w+6)%7):(Re=nP(Uw(oe.y,0,1)),z=Re.getDay(),Re=z>4||z===0?g3.ceil(Re):g3(Re),Re=nS.offset(Re,(oe.V-1)*7),oe.y=Re.getFullYear(),oe.m=Re.getMonth(),oe.d=Re.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),z="Z"in oe?iP(Uw(oe.y,0,1)).getUTCDay():nP(Uw(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(z+5)%7:oe.w+oe.U*7-(z+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,iP(oe)):nP(oe)}}function P(ye,ce,Ne,oe){for(var We=0,Re=ce.length,z=Ne.length,Fe,He;We<Re;){if(oe>=z)return-1;if(Fe=ce.charCodeAt(We++),Fe===37){if(Fe=ce.charAt(We++),He=N[Fe in GX?ce.charAt(We++):Fe],!He||(oe=He(ye,Ne,oe))<0)return-1}else if(Fe!=Ne.charCodeAt(oe++))return-1}return oe}function k(ye,ce,Ne){var oe=u.exec(ce.slice(Ne));return oe?(ye.p=d.get(oe[0].toLowerCase()),Ne+oe[0].length):-1}function R(ye,ce,Ne){var oe=g.exec(ce.slice(Ne));return oe?(ye.w=v.get(oe[0].toLowerCase()),Ne+oe[0].length):-1}function O(ye,ce,Ne){var oe=h.exec(ce.slice(Ne));return oe?(ye.w=A.get(oe[0].toLowerCase()),Ne+oe[0].length):-1}function M(ye,ce,Ne){var oe=w.exec(ce.slice(Ne));return oe?(ye.m=_.get(oe[0].toLowerCase()),Ne+oe[0].length):-1}function H(ye,ce,Ne){var oe=x.exec(ce.slice(Ne));return oe?(ye.m=y.get(oe[0].toLowerCase()),Ne+oe[0].length):-1}function K(ye,ce,Ne){return P(ye,t,ce,Ne)}function Y(ye,ce,Ne){return P(ye,r,ce,Ne)}function ne(ye,ce,Ne){return P(ye,n,ce,Ne)}function le(ye){return a[ye.getDay()]}function te(ye){return s[ye.getDay()]}function X(ye){return c[ye.getMonth()]}function ue(ye){return l[ye.getMonth()]}function ve(ye){return i[+(ye.getHours()>=12)]}function V(ye){return 1+~~(ye.getMonth()/3)}function q(ye){return a[ye.getUTCDay()]}function ee(ye){return s[ye.getUTCDay()]}function re(ye){return c[ye.getUTCMonth()]}function de(ye){return l[ye.getUTCMonth()]}function Ae(ye){return i[+(ye.getUTCHours()>=12)]}function _e(ye){return 1+~~(ye.getUTCMonth()/3)}return{format:function(ye){var ce=j(ye+="",E);return ce.toString=function(){return ye},ce},parse:function(ye){var ce=T(ye+="",!1);return ce.toString=function(){return ye},ce},utcFormat:function(ye){var ce=j(ye+="",I);return ce.toString=function(){return ye},ce},utcParse:function(ye){var ce=T(ye+="",!0);return ce.toString=function(){return ye},ce}}}var GX={"-":"",_:" ",0:"0"},sl=/^\s*\d+/,But=/^%/,Iut=/[\\^$*+?|[\]().{}]/g;function Vi(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function kut(e){return e.replace(Iut,"\\$&")}function Hw(e){return new RegExp("^(?:"+e.map(kut).join("|")+")","i")}function Qw(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function jut(e,t,r){var n=sl.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Put(e,t,r){var n=sl.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Fut(e,t,r){var n=sl.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Out(e,t,r){var n=sl.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Dut(e,t,r){var n=sl.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function WX(e,t,r){var n=sl.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function KX(e,t,r){var n=sl.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Lut(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Rut(e,t,r){var n=sl.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Mut(e,t,r){var n=sl.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function qX(e,t,r){var n=sl.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Uut(e,t,r){var n=sl.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function XX(e,t,r){var n=sl.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Hut(e,t,r){var n=sl.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Qut(e,t,r){var n=sl.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function $ut(e,t,r){var n=sl.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Vut(e,t,r){var n=sl.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function zut(e,t,r){var n=But.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Gut(e,t,r){var n=sl.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Wut(e,t,r){var n=sl.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function YX(e,t){return Vi(e.getDate(),t,2)}function Kut(e,t){return Vi(e.getHours(),t,2)}function qut(e,t){return Vi(e.getHours()%12||12,t,2)}function Xut(e,t){return Vi(1+nS.count(IA(e),e),t,3)}function $0e(e,t){return Vi(e.getMilliseconds(),t,3)}function Yut(e,t){return $0e(e,t)+"000"}function Zut(e,t){return Vi(e.getMonth()+1,t,2)}function Jut(e,t){return Vi(e.getMinutes(),t,2)}function edt(e,t){return Vi(e.getSeconds(),t,2)}function tdt(e){var t=e.getDay();return t===0?7:t}function rdt(e,t){return Vi(BI.count(IA(e)-1,e),t,2)}function V0e(e){var t=e.getDay();return t>=4||t===0?$v(e):$v.ceil(e)}function ndt(e,t){return e=V0e(e),Vi($v.count(IA(e),e)+(IA(e).getDay()===4),t,2)}function idt(e){return e.getDay()}function sdt(e,t){return Vi(g3.count(IA(e)-1,e),t,2)}function adt(e,t){return Vi(e.getFullYear()%100,t,2)}function odt(e,t){return e=V0e(e),Vi(e.getFullYear()%100,t,2)}function ldt(e,t){return Vi(e.getFullYear()%1e4,t,4)}function cdt(e,t){var r=e.getDay();return e=r>=4||r===0?$v(e):$v.ceil(e),Vi(e.getFullYear()%1e4,t,4)}function udt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Vi(t/60|0,"0",2)+Vi(t%60,"0",2)}function ZX(e,t){return Vi(e.getUTCDate(),t,2)}function ddt(e,t){return Vi(e.getUTCHours(),t,2)}function fdt(e,t){return Vi(e.getUTCHours()%12||12,t,2)}function hdt(e,t){return Vi(1+TI.count(kA(e),e),t,3)}function z0e(e,t){return Vi(e.getUTCMilliseconds(),t,3)}function Adt(e,t){return z0e(e,t)+"000"}function pdt(e,t){return Vi(e.getUTCMonth()+1,t,2)}function gdt(e,t){return Vi(e.getUTCMinutes(),t,2)}function mdt(e,t){return Vi(e.getUTCSeconds(),t,2)}function xdt(e){var t=e.getUTCDay();return t===0?7:t}function vdt(e,t){return Vi(II.count(kA(e)-1,e),t,2)}function G0e(e){var t=e.getUTCDay();return t>=4||t===0?Vv(e):Vv.ceil(e)}function ydt(e,t){return e=G0e(e),Vi(Vv.count(kA(e),e)+(kA(e).getUTCDay()===4),t,2)}function wdt(e){return e.getUTCDay()}function bdt(e,t){return Vi(m3.count(kA(e)-1,e),t,2)}function _dt(e,t){return Vi(e.getUTCFullYear()%100,t,2)}function Edt(e,t){return e=G0e(e),Vi(e.getUTCFullYear()%100,t,2)}function Sdt(e,t){return Vi(e.getUTCFullYear()%1e4,t,4)}function Cdt(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Vv(e):Vv.ceil(e),Vi(e.getUTCFullYear()%1e4,t,4)}function Ndt(){return"+0000"}function JX(){return"%"}function eY(e){return+e}function tY(e){return Math.floor(+e/1e3)}var O1,W0e,K0e;Tdt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Tdt(e){return O1=Tut(e),W0e=O1.format,O1.parse,K0e=O1.utcFormat,O1.utcParse,O1}function Bdt(e){return new Date(e)}function Idt(e){return e instanceof Date?+e:+new Date(+e)}function i9(e,t,r,n,i,s,a,l,c,u){var d=V7(),h=d.invert,A=d.domain,g=u(".%L"),v=u(":%S"),x=u("%I:%M"),y=u("%I %p"),w=u("%a %d"),_=u("%b %d"),E=u("%B"),I=u("%Y");function N(j){return(c(j)<j?g:l(j)<j?v:a(j)<j?x:s(j)<j?y:n(j)<j?i(j)<j?w:_:r(j)<j?E:I)(j)}return d.invert=function(j){return new Date(h(j))},d.domain=function(j){return arguments.length?A(Array.from(j,Idt)):A().map(Bdt)},d.ticks=function(j){var T=A();return e(T[0],T[T.length-1],j??10)},d.tickFormat=function(j,T){return T==null?N:u(T)},d.nice=function(j){var T=A();return(!j||typeof j.range!="function")&&(j=t(T[0],T[T.length-1],j??10)),j?A(F0e(T,j)):d},d.copy=function(){return rS(d,i9(e,t,r,n,i,s,a,l,c,u))},d}function kdt(){return kd.apply(i9(Cut,Nut,IA,r9,BI,nS,e9,Z7,Pg,W0e).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function jdt(){return kd.apply(i9(Eut,Sut,kA,n9,II,TI,t9,J7,Pg,K0e).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function kI(){var e=0,t=1,r,n,i,s,a=vc,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:a(i===0?.5:(h=(s(h)-r)*i,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,t]=h,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(a=h,u):a};function d(h){return function(A){var g,v;return arguments.length?([g,v]=A,a=h(g,v),u):[a(0),a(1)]}}return u.range=d(tw),u.rangeRound=d($7),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return s=h,r=h(e),n=h(t),i=r===n?0:1/(n-r),u}}function Wp(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function q0e(){var e=Gp(kI()(vc));return e.copy=function(){return Wp(e,q0e())},RA.apply(e,arguments)}function X0e(){var e=W7(kI()).domain([1,10]);return e.copy=function(){return Wp(e,X0e()).base(e.base())},RA.apply(e,arguments)}function Y0e(){var e=K7(kI());return e.copy=function(){return Wp(e,Y0e()).constant(e.constant())},RA.apply(e,arguments)}function s9(){var e=q7(kI());return e.copy=function(){return Wp(e,s9()).exponent(e.exponent())},RA.apply(e,arguments)}function Pdt(){return s9.apply(null,arguments).exponent(.5)}function Z0e(){var e=[],t=vc;function r(n){if(n!=null&&!isNaN(n=+n))return t((eS(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(hp),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>vct(e,s/n))},r.copy=function(){return Z0e(t).domain(e)},RA.apply(r,arguments)}function jI(){var e=0,t=.5,r=1,n=1,i,s,a,l,c,u=vc,d,h=!1,A;function g(x){return isNaN(x=+x)?A:(x=.5+((x=+d(x))-s)*(n*x<n*s?l:c),u(h?Math.max(0,Math.min(1,x)):x))}g.domain=function(x){return arguments.length?([e,t,r]=x,i=d(e=+e),s=d(t=+t),a=d(r=+r),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,g):[e,t,r]},g.clamp=function(x){return arguments.length?(h=!!x,g):h},g.interpolator=function(x){return arguments.length?(u=x,g):u};function v(x){return function(y){var w,_,E;return arguments.length?([w,_,E]=y,u=zct(x,[w,_,E]),g):[u(0),u(.5),u(1)]}}return g.range=v(tw),g.rangeRound=v($7),g.unknown=function(x){return arguments.length?(A=x,g):A},function(x){return d=x,i=x(e),s=x(t),a=x(r),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,g}}function J0e(){var e=Gp(jI()(vc));return e.copy=function(){return Wp(e,J0e())},RA.apply(e,arguments)}function epe(){var e=W7(jI()).domain([.1,1,10]);return e.copy=function(){return Wp(e,epe()).base(e.base())},RA.apply(e,arguments)}function tpe(){var e=K7(jI());return e.copy=function(){return Wp(e,tpe()).constant(e.constant())},RA.apply(e,arguments)}function a9(){var e=q7(jI());return e.copy=function(){return Wp(e,a9()).exponent(e.exponent())},RA.apply(e,arguments)}function Fdt(){return a9.apply(null,arguments).exponent(.5)}const rY=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:g_,scaleDiverging:J0e,scaleDivergingLog:epe,scaleDivergingPow:a9,scaleDivergingSqrt:Fdt,scaleDivergingSymlog:tpe,scaleIdentity:P0e,scaleImplicit:uD,scaleLinear:A3,scaleLog:O0e,scaleOrdinal:U7,scalePoint:eb,scalePow:X7,scaleQuantile:R0e,scaleQuantize:M0e,scaleRadial:L0e,scaleSequential:q0e,scaleSequentialLog:X0e,scaleSequentialPow:s9,scaleSequentialQuantile:Z0e,scaleSequentialSqrt:Pdt,scaleSequentialSymlog:Y0e,scaleSqrt:Aut,scaleSymlog:D0e,scaleThreshold:U0e,scaleTime:kdt,scaleUtc:jdt,tickFormat:j0e},Symbol.toStringTag,{value:"Module"}));var Odt=zy;function Ddt(e,t,r){for(var n=-1,i=e.length;++n<i;){var s=e[n],a=t(s);if(a!=null&&(l===void 0?a===a&&!Odt(a):r(a,l)))var l=a,c=s}return c}var PI=Ddt;function Ldt(e,t){return e>t}var rpe=Ldt,Rdt=PI,Mdt=rpe,Udt=ew;function Hdt(e){return e&&e.length?Rdt(e,Udt,Mdt):void 0}var Qdt=Hdt;const M0=Gi(Qdt);function $dt(e,t){return e<t}var npe=$dt,Vdt=PI,zdt=npe,Gdt=ew;function Wdt(e){return e&&e.length?Vdt(e,Gdt,zdt):void 0}var Kdt=Wdt;const FI=Gi(Kdt);var qdt=v7,Xdt=zp,Ydt=d0e,Zdt=tu;function Jdt(e,t){var r=Zdt(e)?qdt:Ydt;return r(e,Xdt(t))}var eft=Jdt,tft=c0e,rft=eft;function nft(e,t){return tft(rft(e,t),1)}var ift=nft;const sft=Gi(ift);var aft=O7;function oft(e,t){return aft(e,t)}var lft=oft;const zv=Gi(lft);var rw=1e9,cft={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},l9,sa=!0,Cd="[DecimalError] ",em=Cd+"Invalid argument: ",o9=Cd+"Exponent out of range: ",nw=Math.floor,mg=Math.pow,uft=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Su,qo=1e7,Qs=7,ipe=9007199254740991,x3=nw(ipe/Qs),Gr={};Gr.absoluteValue=Gr.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Gr.comparedTo=Gr.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Gr.decimalPlaces=Gr.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Qs;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Gr.dividedBy=Gr.div=function(e){return hA(this,new this.constructor(e))};Gr.dividedToIntegerBy=Gr.idiv=function(e){var t=this,r=t.constructor;return ys(hA(t,new r(e),0,1),r.precision)};Gr.equals=Gr.eq=function(e){return!this.cmp(e)};Gr.exponent=function(){return po(this)};Gr.greaterThan=Gr.gt=function(e){return this.cmp(e)>0};Gr.greaterThanOrEqualTo=Gr.gte=function(e){return this.cmp(e)>=0};Gr.isInteger=Gr.isint=function(){return this.e>this.d.length-2};Gr.isNegative=Gr.isneg=function(){return this.s<0};Gr.isPositive=Gr.ispos=function(){return this.s>0};Gr.isZero=function(){return this.s===0};Gr.lessThan=Gr.lt=function(e){return this.cmp(e)<0};Gr.lessThanOrEqualTo=Gr.lte=function(e){return this.cmp(e)<1};Gr.logarithm=Gr.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Su))throw Error(Cd+"NaN");if(r.s<1)throw Error(Cd+(r.s?"NaN":"-Infinity"));return r.eq(Su)?new n(0):(sa=!1,t=hA(w_(r,s),w_(e,s),s),sa=!0,ys(t,i))};Gr.minus=Gr.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ope(t,e):spe(t,(e.s=-e.s,e))};Gr.modulo=Gr.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Cd+"NaN");return r.s?(sa=!1,t=hA(r,e,0,1).times(e),sa=!0,r.minus(t)):ys(new n(r),i)};Gr.naturalExponential=Gr.exp=function(){return ape(this)};Gr.naturalLogarithm=Gr.ln=function(){return w_(this)};Gr.negated=Gr.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Gr.plus=Gr.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?spe(t,e):ope(t,(e.s=-e.s,e))};Gr.precision=Gr.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(em+e);if(t=po(i)+1,n=i.d.length-1,r=n*Qs+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Gr.squareRoot=Gr.sqrt=function(){var e,t,r,n,i,s,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Cd+"NaN")}for(e=po(l),sa=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=Wf(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=nw((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=a=r+3;;)if(s=n,n=s.plus(hA(l,s,a+2)).times(.5),Wf(s.d).slice(0,a)===(t=Wf(n.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(ys(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;a+=4}return sa=!0,ys(n,r)};Gr.times=Gr.mul=function(e){var t,r,n,i,s,a,l,c,u,d=this,h=d.constructor,A=d.d,g=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,r=d.e+e.e,c=A.length,u=g.length,c<u&&(s=A,A=g,g=s,a=c,c=u,u=a),s=[],a=c+u,n=a;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=s[i]+g[n]*A[i-n-1]+t,s[i--]=l%qo|0,t=l/qo|0;s[i]=(s[i]+t)%qo|0}for(;!s[--a];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,sa?ys(e,h.precision):e};Gr.toDecimalPlaces=Gr.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(gh(e,0,rw),t===void 0?t=n.rounding:gh(t,0,8),ys(r,e+po(r)+1,t))};Gr.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Im(n,!0):(gh(e,0,rw),t===void 0?t=i.rounding:gh(t,0,8),n=ys(new i(n),e+1,t),r=Im(n,!0,e+1)),r};Gr.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Im(i):(gh(e,0,rw),t===void 0?t=s.rounding:gh(t,0,8),n=ys(new s(i),e+po(i)+1,t),r=Im(n.abs(),!1,e+po(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Gr.toInteger=Gr.toint=function(){var e=this,t=e.constructor;return ys(new t(e),po(e)+1,t.rounding)};Gr.toNumber=function(){return+this};Gr.toPower=Gr.pow=function(e){var t,r,n,i,s,a,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Su);if(l=new c(l),!l.s){if(e.s<1)throw Error(Cd+"Infinity");return l}if(l.eq(Su))return l;if(n=c.precision,e.eq(Su))return ys(l,n);if(t=e.e,r=e.d.length-1,a=t>=r,s=l.s,a){if((r=d<0?-d:d)<=ipe){for(i=new c(Su),t=Math.ceil(n/Qs+4),sa=!1;r%2&&(i=i.times(l),iY(i.d,t)),r=nw(r/2),r!==0;)l=l.times(l),iY(l.d,t);return sa=!0,e.s<0?new c(Su).div(i):ys(i,n)}}else if(s<0)throw Error(Cd+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,sa=!1,i=e.times(w_(l,n+u)),sa=!0,i=ape(i),i.s=s,i};Gr.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=po(i),n=Im(i,r<=s.toExpNeg||r>=s.toExpPos)):(gh(e,1,rw),t===void 0?t=s.rounding:gh(t,0,8),i=ys(new s(i),e,t),r=po(i),n=Im(i,e<=r||r<=s.toExpNeg,e)),n};Gr.toSignificantDigits=Gr.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(gh(e,1,rw),t===void 0?t=n.rounding:gh(t,0,8)),ys(new n(r),e,t)};Gr.toString=Gr.valueOf=Gr.val=Gr.toJSON=Gr[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=po(e),r=e.constructor;return Im(e,t<=r.toExpNeg||t>=r.toExpPos)};function spe(e,t){var r,n,i,s,a,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),sa?ys(t,h):t;if(c=e.d,u=t.d,a=e.e,i=t.e,c=c.slice(),s=a-i,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,i=a,l=c.length),a=Math.ceil(h/Qs),l=a>l?a+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/qo|0,c[s]%=qo;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,sa?ys(t,h):t}function gh(e,t,r){if(e!==~~e||e<t||e>r)throw Error(em+e)}function Wf(e){var t,r,n,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)n=e[t]+"",r=Qs-n.length,r&&(s+=p0(r)),s+=n;a=e[t],n=a+"",r=Qs-n.length,r&&(s+=p0(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var hA=function(){function e(n,i){var s,a=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+a,n[l]=s%qo|0,a=s/qo|0;return a&&n.unshift(a),n}function t(n,i,s,a){var l,c;if(s!=a)c=s>a?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*qo+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var l,c,u,d,h,A,g,v,x,y,w,_,E,I,N,j,T,P,k=n.constructor,R=n.s==i.s?1:-1,O=n.d,M=i.d;if(!n.s)return new k(n);if(!i.s)throw Error(Cd+"Division by zero");for(c=n.e-i.e,T=M.length,N=O.length,g=new k(R),v=g.d=[],u=0;M[u]==(O[u]||0);)++u;if(M[u]>(O[u]||0)&&--c,s==null?_=s=k.precision:a?_=s+(po(n)-po(i))+1:_=s,_<0)return new k(0);if(_=_/Qs+2|0,u=0,T==1)for(d=0,M=M[0],_++;(u<N||d)&&_--;u++)E=d*qo+(O[u]||0),v[u]=E/M|0,d=E%M|0;else{for(d=qo/(M[0]+1)|0,d>1&&(M=e(M,d),O=e(O,d),T=M.length,N=O.length),I=T,x=O.slice(0,T),y=x.length;y<T;)x[y++]=0;P=M.slice(),P.unshift(0),j=M[0],M[1]>=qo/2&&++j;do d=0,l=t(M,x,T,y),l<0?(w=x[0],T!=y&&(w=w*qo+(x[1]||0)),d=w/j|0,d>1?(d>=qo&&(d=qo-1),h=e(M,d),A=h.length,y=x.length,l=t(h,x,A,y),l==1&&(d--,r(h,T<A?P:M,A))):(d==0&&(l=d=1),h=M.slice()),A=h.length,A<y&&h.unshift(0),r(x,h,y),l==-1&&(y=x.length,l=t(M,x,T,y),l<1&&(d++,r(x,T<y?P:M,y))),y=x.length):l===0&&(d++,x=[0]),v[u++]=d,l&&x[0]?x[y++]=O[I]||0:(x=[O[I]],y=1);while((I++<N||x[0]!==void 0)&&_--)}return v[0]||v.shift(),g.e=c,ys(g,a?s+po(g)+1:s)}}();function ape(e,t){var r,n,i,s,a,l,c=0,u=0,d=e.constructor,h=d.precision;if(po(e)>16)throw Error(o9+po(e));if(!e.s)return new d(Su);for(t==null?(sa=!1,l=h):l=t,a=new d(.03125);e.abs().gte(.1);)e=e.times(a),u+=5;for(n=Math.log(mg(2,u))/Math.LN10*2+5|0,l+=n,r=i=s=new d(Su),d.precision=l;;){if(i=ys(i.times(e),l),r=r.times(++c),a=s.plus(hA(i,r,l)),Wf(a.d).slice(0,l)===Wf(s.d).slice(0,l)){for(;u--;)s=ys(s.times(s),l);return d.precision=h,t==null?(sa=!0,ys(s,h)):s}s=a}}function po(e){for(var t=e.e*Qs,r=e.d[0];r>=10;r/=10)t++;return t}function sP(e,t,r){if(t>e.LN10.sd())throw sa=!0,r&&(e.precision=r),Error(Cd+"LN10 precision limit exceeded");return ys(new e(e.LN10),t)}function p0(e){for(var t="";e--;)t+="0";return t}function w_(e,t){var r,n,i,s,a,l,c,u,d,h=1,A=10,g=e,v=g.d,x=g.constructor,y=x.precision;if(g.s<1)throw Error(Cd+(g.s?"NaN":"-Infinity"));if(g.eq(Su))return new x(0);if(t==null?(sa=!1,u=y):u=t,g.eq(10))return t==null&&(sa=!0),sP(x,u);if(u+=A,x.precision=u,r=Wf(v),n=r.charAt(0),s=po(g),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=Wf(g.d),n=r.charAt(0),h++;s=po(g),n>1?(g=new x("0."+r),s++):g=new x(n+"."+r.slice(1))}else return c=sP(x,u+2,y).times(s+""),g=w_(new x(n+"."+r.slice(1)),u-A).plus(c),x.precision=y,t==null?(sa=!0,ys(g,y)):g;for(l=a=g=hA(g.minus(Su),g.plus(Su),u),d=ys(g.times(g),u),i=3;;){if(a=ys(a.times(d),u),c=l.plus(hA(a,new x(i),u)),Wf(c.d).slice(0,u)===Wf(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(sP(x,u+2,y).times(s+""))),l=hA(l,new x(h),u),x.precision=y,t==null?(sa=!0,ys(l,y)):l;l=c,i+=2}}function nY(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=nw(r/Qs),e.d=[],n=(r+1)%Qs,r<0&&(n+=Qs),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Qs;n<i;)e.d.push(+t.slice(n,n+=Qs));t=t.slice(n),n=Qs-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),sa&&(e.e>x3||e.e<-x3))throw Error(o9+r)}else e.s=0,e.e=0,e.d=[0];return e}function ys(e,t,r){var n,i,s,a,l,c,u,d,h=e.d;for(a=1,s=h[0];s>=10;s/=10)a++;if(n=t-a,n<0)n+=Qs,i=t,u=h[d=0];else{if(d=Math.ceil((n+1)/Qs),s=h.length,d>=s)return e;for(u=s=h[d],a=1;s>=10;s/=10)a++;n%=Qs,i=n-Qs+a}if(r!==void 0&&(s=mg(10,a-i-1),l=u/s%10|0,c=t<0||h[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/mg(10,a-i):0:h[d-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return c?(s=po(e),h.length=1,t=t-s-1,h[0]=mg(10,(Qs-t%Qs)%Qs),e.e=nw(-t/Qs)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=d,s=1,d--):(h.length=d+1,s=mg(10,Qs-n),h[d]=i>0?(u/mg(10,a-i)%mg(10,i)|0)*s:0),c)for(;;)if(d==0){(h[0]+=s)==qo&&(h[0]=1,++e.e);break}else{if(h[d]+=s,h[d]!=qo)break;h[d--]=0,s=1}for(n=h.length;h[--n]===0;)h.pop();if(sa&&(e.e>x3||e.e<-x3))throw Error(o9+po(e));return e}function ope(e,t){var r,n,i,s,a,l,c,u,d,h,A=e.constructor,g=A.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new A(e),sa?ys(t,g):t;if(c=e.d,h=t.d,n=t.e,u=e.e,c=c.slice(),a=u-n,a){for(d=a<0,d?(r=c,a=-a,l=h.length):(r=h,n=u,l=c.length),i=Math.max(Math.ceil(g/Qs),l)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=h.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}a=0}for(d&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>a;){if(c[--i]<h[i]){for(s=i;s&&c[--s]===0;)c[s]=qo-1;--c[s],c[i]+=qo}c[i]-=h[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,sa?ys(t,g):t):new A(0)}function Im(e,t,r){var n,i=po(e),s=Wf(e.d),a=s.length;return t?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+p0(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+p0(-i-1)+s,r&&(n=r-a)>0&&(s+=p0(n))):i>=a?(s+=p0(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+p0(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=p0(n))),e.s<0?"-"+s:s}function iY(e,t){if(e.length>t)return e.length=t,!0}function lpe(e){var t,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(em+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return nY(a,s.toString())}else if(typeof s!="string")throw Error(em+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,uft.test(s))nY(a,s);else throw Error(em+s)}if(i.prototype=Gr,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=lpe,i.config=i.set=dft,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function dft(e){if(!e||typeof e!="object")throw Error(Cd+"Object expected");var t,r,n,i=["precision",1,rw,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(nw(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(em+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(em+r+": "+n);return this}var l9=lpe(cft);Su=new l9(1);const As=l9;function fft(e){return gft(e)||pft(e)||Aft(e)||hft()}function hft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aft(e,t){if(e){if(typeof e=="string")return AD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AD(e,t)}}function pft(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function gft(e){if(Array.isArray(e))return AD(e)}function AD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var mft=function(t){return t},cpe={"@@functional/placeholder":!0},upe=function(t){return t===cpe},sY=function(t){return function r(){return arguments.length===0||arguments.length===1&&upe(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},xft=function e(t,r){return t===1?r:sY(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var a=i.filter(function(l){return l!==cpe}).length;return a>=t?r.apply(void 0,i):e(t-a,sY(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(h){return upe(h)?c.shift():h});return r.apply(void 0,fft(d).concat(c))}))})},OI=function(t){return xft(t.length,t)},pD=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},vft=OI(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),yft=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return mft;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},gD=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},dpe=function(t){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function wft(e){var t;return e===0?t=1:t=Math.floor(new As(e).abs().log(10).toNumber())+1,t}function bft(e,t,r){for(var n=new As(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var _ft=OI(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),Eft=OI(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Sft=OI(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const DI={rangeStep:bft,getDigitCount:wft,interpolateNumber:_ft,uninterpolateNumber:Eft,uninterpolateTruncation:Sft};function mD(e){return Tft(e)||Nft(e)||fpe(e)||Cft()}function Cft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nft(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Tft(e){if(Array.isArray(e))return xD(e)}function b_(e,t){return kft(e)||Ift(e,t)||fpe(e,t)||Bft()}function Bft(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fpe(e,t){if(e){if(typeof e=="string")return xD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xD(e,t)}}function xD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ift(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,s=void 0;try{for(var a=e[Symbol.iterator](),l;!(n=(l=a.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){i=!0,s=c}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw s}}return r}}function kft(e){if(Array.isArray(e))return e}function hpe(e){var t=b_(e,2),r=t[0],n=t[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function Ape(e,t,r){if(e.lte(0))return new As(0);var n=DI.getDigitCount(e.toNumber()),i=new As(10).pow(n),s=e.div(i),a=n!==1?.05:.1,l=new As(Math.ceil(s.div(a).toNumber())).add(r).mul(a),c=l.mul(i);return t?c:new As(Math.ceil(c))}function jft(e,t,r){var n=1,i=new As(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new As(10).pow(DI.getDigitCount(e)-1),i=new As(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new As(Math.floor(e)))}else e===0?i=new As(Math.floor((t-1)/2)):r||(i=new As(Math.floor(e)));var a=Math.floor((t-1)/2),l=yft(vft(function(c){return i.add(new As(c-a).mul(n)).toNumber()}),pD);return l(0,t)}function ppe(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new As(0),tickMin:new As(0),tickMax:new As(0)};var s=Ape(new As(t).sub(e).div(r-1),n,i),a;e<=0&&t>=0?a=new As(0):(a=new As(e).add(t).div(2),a=a.sub(new As(a).mod(s)));var l=Math.ceil(a.sub(e).div(s).toNumber()),c=Math.ceil(new As(t).sub(a).div(s).toNumber()),u=l+c+1;return u>r?ppe(e,t,r,n,i+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:a.sub(new As(l).mul(s)),tickMax:a.add(new As(c).mul(s))})}function Pft(e){var t=b_(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),l=hpe([r,n]),c=b_(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var h=d===1/0?[u].concat(mD(pD(0,i-1).map(function(){return 1/0}))):[].concat(mD(pD(0,i-1).map(function(){return-1/0})),[d]);return r>n?gD(h):h}if(u===d)return jft(u,i,s);var A=ppe(u,d,a,s),g=A.step,v=A.tickMin,x=A.tickMax,y=DI.rangeStep(v,x.add(new As(.1).mul(g)),g);return r>n?gD(y):y}function Fft(e,t){var r=b_(e,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=hpe([n,i]),l=b_(a,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var d=Math.max(t,2),h=Ape(new As(u).sub(c).div(d-1),s,0),A=[].concat(mD(DI.rangeStep(new As(c),new As(u).sub(new As(.99).mul(h)),h)),[u]);return n>i?gD(A):A}var Oft=dpe(Pft),Dft=dpe(Fft),Lft="Invariant failed";function km(e,t){throw new Error(Lft)}var Rft=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Gv(e){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gv(e)}function v3(){return v3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v3.apply(this,arguments)}function Mft(e,t){return $ft(e)||Qft(e,t)||Hft(e,t)||Uft()}function Uft(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hft(e,t){if(e){if(typeof e=="string")return aY(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aY(e,t)}}function aY(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qft(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function $ft(e){if(Array.isArray(e))return e}function Vft(e,t){if(e==null)return{};var r=zft(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zft(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wft(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xpe(n.key),n)}}function Kft(e,t,r){return t&&Wft(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qft(e,t,r){return t=y3(t),Xft(e,gpe()?Reflect.construct(t,r||[],y3(e).constructor):t.apply(e,r))}function Xft(e,t){if(t&&(Gv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yft(e)}function Yft(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gpe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gpe=function(){return!!e})()}function y3(e){return y3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},y3(e)}function Zft(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vD(e,t)}function vD(e,t){return vD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vD(e,t)}function mpe(e,t,r){return t=xpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xpe(e){var t=Jft(e,"string");return Gv(t)=="symbol"?t:t+""}function Jft(e,t){if(Gv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LI=function(e){function t(){return Gft(this,t),qft(this,t,arguments)}return Zft(t,e),Kft(t,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,a=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,h=n.yAxis,A=Vft(n,Rft),g=En(A,!1);this.props.direction==="x"&&d.type!=="number"&&km();var v=c.map(function(x){var y=u(x,l),w=y.x,_=y.y,E=y.value,I=y.errorVal;if(!I)return null;var N=[],j,T;if(Array.isArray(I)){var P=Mft(I,2);j=P[0],T=P[1]}else j=T=I;if(s==="vertical"){var k=d.scale,R=_+i,O=R+a,M=R-a,H=k(E-j),K=k(E+T);N.push({x1:K,y1:O,x2:K,y2:M}),N.push({x1:H,y1:R,x2:K,y2:R}),N.push({x1:H,y1:O,x2:H,y2:M})}else if(s==="horizontal"){var Y=h.scale,ne=w+i,le=ne-a,te=ne+a,X=Y(E-j),ue=Y(E+T);N.push({x1:le,y1:ue,x2:te,y2:ue}),N.push({x1:ne,y1:X,x2:ne,y2:ue}),N.push({x1:le,y1:X,x2:te,y2:X})}return Me.createElement(Ii,v3({className:"recharts-errorBar",key:"bar-".concat(N.map(function(ve){return"".concat(ve.x1,"-").concat(ve.x2,"-").concat(ve.y1,"-").concat(ve.y2)}))},g),N.map(function(ve){return Me.createElement("line",v3({},ve,{key:"line-".concat(ve.x1,"-").concat(ve.x2,"-").concat(ve.y1,"-").concat(ve.y2)}))}))});return Me.createElement(Ii,{className:"recharts-errorBars"},v)}}])}(Me.Component);mpe(LI,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});mpe(LI,"displayName","ErrorBar");function __(e){"@babel/helpers - typeof";return __=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},__(e)}function oY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function og(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oY(Object(r),!0).forEach(function(n){eht(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eht(e,t,r){return t=tht(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tht(e){var t=rht(e,"string");return __(t)=="symbol"?t:t+""}function rht(e,t){if(__(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(__(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vpe=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,s=t.legendContent,a=xu(r,Kx);if(!a)return null;var l=Kx.defaultProps,c=l!==void 0?og(og({},l),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:s==="children"?u=(n||[]).reduce(function(d,h){var A=h.item,g=h.props,v=g.sectors||g.data||[];return d.concat(v.map(function(x){return{type:a.props.iconType||A.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(n||[]).map(function(d){var h=d.item,A=h.type.defaultProps,g=A!==void 0?og(og({},A),h.props):{},v=g.dataKey,x=g.name,y=g.legendType,w=g.hide;return{inactive:w,dataKey:v,type:c.iconType||y||"square",color:c9(h),value:x||v,payload:g}}),og(og(og({},c),Kx.getWithHeight(a,i)),{},{payload:u,item:a})};function E_(e){"@babel/helpers - typeof";return E_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E_(e)}function lY(e){return aht(e)||sht(e)||iht(e)||nht()}function nht(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iht(e,t){if(e){if(typeof e=="string")return yD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yD(e,t)}}function sht(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aht(e){if(Array.isArray(e))return yD(e)}function yD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ba(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cY(Object(r),!0).forEach(function(n){Xx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xx(e,t,r){return t=oht(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oht(e){var t=lht(e,"string");return E_(t)=="symbol"?t:t+""}function lht(e,t){if(E_(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(E_(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Io(e,t,r){return Xn(e)||Xn(t)?r:Po(t)?Ou(e,t,r):Mn(t)?t(e):r}function tb(e,t,r,n){var i=sft(e,function(l){return Io(l,t)});if(r==="number"){var s=i.filter(function(l){return Cr(l)||parseFloat(l)});return s.length?[FI(s),M0(s)]:[1/0,-1/0]}var a=n?i.filter(function(l){return!Xn(l)}):i;return a.map(function(l){return Po(l)||l instanceof Date?l:""})}var cht=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,h=i[u].coordinate,A=u>=l-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(mc(h-d)!==mc(A-h)){var v=[];if(mc(A-h)===mc(c[1]-c[0])){g=A;var x=h+c[1]-c[0];v[0]=Math.min(x,(x+d)/2),v[1]=Math.max(x,(x+d)/2)}else{g=d;var y=A+c[1]-c[0];v[0]=Math.min(h,(y+h)/2),v[1]=Math.max(h,(y+h)/2)}var w=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(t>w[0]&&t<=w[1]||t>=v[0]&&t<=v[1]){a=i[u].index;break}}else{var _=Math.min(d,A),E=Math.max(d,A);if(t>(_+h)/2&&t<=(E+h)/2){a=i[u].index;break}}}else for(var I=0;I<l;I++)if(I===0&&t<=(n[I].coordinate+n[I+1].coordinate)/2||I>0&&I<l-1&&t>(n[I].coordinate+n[I-1].coordinate)/2&&t<=(n[I].coordinate+n[I+1].coordinate)/2||I===l-1&&t>(n[I].coordinate+n[I-1].coordinate)/2){a=n[I].index;break}return a},c9=function(t){var r,n=t,i=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Ba(Ba({},t.type.defaultProps),t.props):t.props,a=s.stroke,l=s.fill,c;switch(i){case"Line":c=a;break;case"Area":case"Radar":c=a&&a!=="none"?a:l;break;default:c=l;break}return c},uht=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,h=Object.keys(d),A=0,g=h.length;A<g;A++){var v=d[h[A]],x=v.items,y=v.cateAxisId,w=x.filter(function(T){return dA(T.type).indexOf("Bar")>=0});if(w&&w.length){var _=w[0].type.defaultProps,E=_!==void 0?Ba(Ba({},_),w[0].props):w[0].props,I=E.barSize,N=E[y];a[N]||(a[N]=[]);var j=Xn(I)?r:I;a[N].push({item:w[0],stackList:w.slice(1),barSize:Xn(j)?void 0:xc(j,n,0)})}}return a},dht=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,s=t.sizeList,a=s===void 0?[]:s,l=t.maxBarSize,c=a.length;if(c<1)return null;var u=xc(r,i,0,!0),d,h=[];if(a[0].barSize===+a[0].barSize){var A=!1,g=i/c,v=a.reduce(function(I,N){return I+N.barSize||0},0);v+=(c-1)*u,v>=i&&(v-=(c-1)*u,u=0),v>=i&&g>0&&(A=!0,g*=.9,v=c*g);var x=(i-v)/2>>0,y={offset:x-u,size:0};d=a.reduce(function(I,N){var j={item:N.item,position:{offset:y.offset+y.size+u,size:A?g:N.barSize}},T=[].concat(lY(I),[j]);return y=T[T.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(P){T.push({item:P,position:y})}),T},h)}else{var w=xc(n,i,0,!0);i-2*w-(c-1)*u<=0&&(u=0);var _=(i-2*w-(c-1)*u)/c;_>1&&(_>>=0);var E=l===+l?Math.min(_,l):_;d=a.reduce(function(I,N,j){var T=[].concat(lY(I),[{item:N.item,position:{offset:w+(_+u)*j+(_-E)/2,size:E}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(P){T.push({item:P,position:T[T.length-1].position})}),T},h)}return d},fht=function(t,r,n,i){var s=n.children,a=n.width,l=n.margin,c=a-(l.left||0)-(l.right||0),u=vpe({children:s,legendWidth:c});if(u){var d=i||{},h=d.width,A=d.height,g=u.align,v=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&v==="middle")&&g!=="center"&&Cr(t[g]))return Ba(Ba({},t),{},Xx({},g,t[g]+(h||0)));if((x==="horizontal"||x==="vertical"&&g==="center")&&v!=="middle"&&Cr(t[v]))return Ba(Ba({},t),{},Xx({},v,t[v]+(A||0)))}return t},hht=function(t,r,n){return Xn(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},ype=function(t,r,n,i,s){var a=r.props.children,l=vd(a,LI).filter(function(u){return hht(i,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var h=Io(d,n);if(Xn(h))return u;var A=Array.isArray(h)?[FI(h),M0(h)]:[h,h],g=c.reduce(function(v,x){var y=Io(d,x,0),w=A[0]-Math.abs(Array.isArray(y)?y[0]:y),_=A[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(w,v[0]),Math.max(_,v[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},Aht=function(t,r,n,i,s){var a=r.map(function(l){return ype(t,l,n,s,i)}).filter(function(l){return!Xn(l)});return a&&a.length?a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},wpe=function(t,r,n,i,s){var a=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&ype(t,c,u,i)||tb(t,u,n,s)});if(n==="number")return a.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return a.reduce(function(c,u){for(var d=0,h=u.length;d<h;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},bpe=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Fg=function(t,r,n){if(!t)return null;var i=t.scale,s=t.duplicateDomain,a=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&a==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?mc(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(h){var A=s?s.indexOf(h):h;return{coordinate:i(A)+u,value:h,offset:u}});return d.filter(function(h){return!Xy(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,A){return{coordinate:i(h)+u,value:h,index:A,offset:u}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(h){return{coordinate:i(h)+u,value:h,offset:u}}):i.domain().map(function(h,A){return{coordinate:i(h)+u,value:s?s[h]:h,index:A,offset:u}})},aP=new WeakMap,oN=function(t,r){if(typeof r!="function")return t;aP.has(t)||aP.set(t,new WeakMap);var n=aP.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},_pe=function(t,r,n){var i=t.scale,s=t.type,a=t.layout,l=t.axisType;if(i==="auto")return a==="radial"&&l==="radiusAxis"?{scale:g_(),realScaleType:"band"}:a==="radial"&&l==="angleAxis"?{scale:A3(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:eb(),realScaleType:"point"}:s==="category"?{scale:g_(),realScaleType:"band"}:{scale:A3(),realScaleType:"linear"};if(Nm(i)){var c="scale".concat(vI(i));return{scale:(rY[c]||eb)(),realScaleType:rY[c]?c:"point"}}return Mn(i)?{scale:i}:{scale:eb(),realScaleType:"point"}},uY=1e-4,Epe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),s=Math.min(i[0],i[1])-uY,a=Math.max(i[0],i[1])+uY,l=t(r[0]),c=t(r[n-1]);(l<s||l>a||c<s||c>a)&&t.domain([r[0],r[n-1]])}},pht=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},ght=function(t,r){if(!r||r.length!==2||!Cr(r[0])||!Cr(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!Cr(t[0])||t[0]<n)&&(s[0]=n),(!Cr(t[1])||t[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},mht=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,a=0,l=0;l<r;++l){var c=Xy(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1])}},xht=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,a=0;a<r;++a){var l=Xy(t[a][n][1])?t[a][n][0]:t[a][n][1];l>=0?(t[a][n][0]=s,t[a][n][1]=s+l,s=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},vht={sign:mht,expand:OJe,none:Lv,silhouette:DJe,wiggle:LJe,positive:xht},yht=function(t,r,n){var i=r.map(function(l){return l.props.dataKey}),s=vht[n],a=FJe().keys(i).value(function(l,c){return+Io(l,c,0)}).order(zO).offset(s);return a(t)},wht=function(t,r,n,i,s,a){if(!t)return null;var l=a?r.reverse():r,c={},u=l.reduce(function(h,A){var g,v=(g=A.type)!==null&&g!==void 0&&g.defaultProps?Ba(Ba({},A.type.defaultProps),A.props):A.props,x=v.stackId,y=v.hide;if(y)return h;var w=v[n],_=h[w]||{hasStack:!1,stackGroups:{}};if(Po(x)){var E=_.stackGroups[x]||{numericAxisId:n,cateAxisId:i,items:[]};E.items.push(A),_.hasStack=!0,_.stackGroups[x]=E}else _.stackGroups[Yy("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[A]};return Ba(Ba({},h),{},Xx({},w,_))},c),d={};return Object.keys(u).reduce(function(h,A){var g=u[A];if(g.hasStack){var v={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(x,y){var w=g.stackGroups[y];return Ba(Ba({},x),{},Xx({},y,{numericAxisId:n,cateAxisId:i,items:w.items,stackedData:yht(t,w.items,s)}))},v)}return Ba(Ba({},h),{},Xx({},A,g))},d)},Spe=function(t,r){var n=r.realScaleType,i=r.type,s=r.tickCount,a=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Oft(u,s,l);return t.domain([FI(d),M0(d)]),{niceTicks:d}}if(s&&i==="number"){var h=t.domain(),A=Dft(h,s,l);return{niceTicks:A}}return null};function dY(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,s=e.index,a=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Xn(i[t.dataKey])){var l=W5(r,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=Io(i,Xn(a)?t.dataKey:a);return Xn(c)?null:t.scale(c)}var fY=function(t){var r=t.axis,n=t.ticks,i=t.offset,s=t.bandSize,a=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=Io(a,r.dataKey,r.domain[l]);return Xn(c)?null:r.scale(c)-s/2+i},bht=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},_ht=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Ba(Ba({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(Po(s)){var a=r[s];if(a){var l=a.items.indexOf(t);return l>=0?a.stackedData[l]:null}}return null},Eht=function(t){return t.reduce(function(r,n){return[FI(n.concat([r[0]]).filter(Cr)),M0(n.concat([r[1]]).filter(Cr))]},[1/0,-1/0])},Cpe=function(t,r,n){return Object.keys(t).reduce(function(i,s){var a=t[s],l=a.stackedData,c=l.reduce(function(u,d){var h=Eht(d.slice(r,n+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},hY=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AY=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wD=function(t,r,n){if(Mn(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(Cr(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(hY.test(t[0])){var s=+hY.exec(t[0])[1];i[0]=r[0]-s}else Mn(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(Cr(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(AY.test(t[1])){var a=+AY.exec(t[1])[1];i[1]=r[1]+a}else Mn(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},w3=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var s=L7(r,function(h){return h.coordinate}),a=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0},pY=function(t,r,n){return!t||!t.length||zv(t,Ou(n,"type.defaultProps.domain"))?r:t},Npe=function(t,r){var n=t.type.defaultProps?Ba(Ba({},t.type.defaultProps),t.props):t.props,i=n.dataKey,s=n.name,a=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Ba(Ba({},En(t,!1)),{},{dataKey:i,unit:a,formatter:l,name:s||i,color:c9(t),value:Io(r,i),type:c,payload:r,chartType:u,hide:d})};function S_(e){"@babel/helpers - typeof";return S_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S_(e)}function gY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gY(Object(r),!0).forEach(function(n){Tpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tpe(e,t,r){return t=Sht(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sht(e){var t=Cht(e,"string");return S_(t)=="symbol"?t:t+""}function Cht(e,t){if(S_(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(S_(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nht(e,t){return kht(e)||Iht(e,t)||Bht(e,t)||Tht()}function Tht(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bht(e,t){if(e){if(typeof e=="string")return mY(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mY(e,t)}}function mY(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Iht(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function kht(e){if(Array.isArray(e))return e}var b3=Math.PI/180,jht=function(t){return t*180/Math.PI},ks=function(t,r,n,i){return{x:t+Math.cos(-b3*i)*n,y:r+Math.sin(-b3*i)*n}},Bpe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Pht=function(t,r,n,i,s){var a=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=xc(t.cx,a,a/2),h=xc(t.cy,l,l/2),A=Bpe(a,l,n),g=xc(t.innerRadius,A,0),v=xc(t.outerRadius,A,A*.8),x=Object.keys(r);return x.reduce(function(y,w){var _=r[w],E=_.domain,I=_.reversed,N;if(Xn(_.range))i==="angleAxis"?N=[c,u]:i==="radiusAxis"&&(N=[g,v]),I&&(N=[N[1],N[0]]);else{N=_.range;var j=N,T=Nht(j,2);c=T[0],u=T[1]}var P=_pe(_,s),k=P.realScaleType,R=P.scale;R.domain(E).range(N),Epe(R);var O=Spe(R,Wh(Wh({},_),{},{realScaleType:k})),M=Wh(Wh(Wh({},_),O),{},{range:N,radius:v,realScaleType:k,scale:R,cx:d,cy:h,innerRadius:g,outerRadius:v,startAngle:c,endAngle:u});return Wh(Wh({},y),{},Tpe({},w,M))},{})},Fht=function(t,r){var n=t.x,i=t.y,s=r.x,a=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-a,2))},Oht=function(t,r){var n=t.x,i=t.y,s=r.cx,a=r.cy,l=Fht({x:n,y:i},{x:s,y:a});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return i>a&&(u=2*Math.PI-u),{radius:l,angle:jht(u),angleInRadian:u}},Dht=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return{startAngle:r-a*360,endAngle:n-a*360}},Lht=function(t,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),a=Math.floor(i/360),l=Math.min(s,a);return t+l*360},xY=function(t,r){var n=t.x,i=t.y,s=Oht({x:n,y:i},r),a=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(a<c||a>u)return!1;if(a===0)return!0;var d=Dht(r),h=d.startAngle,A=d.endAngle,g=l,v;if(h<=A){for(;g>A;)g-=360;for(;g<h;)g+=360;v=g>=h&&g<=A}else{for(;g>h;)g-=360;for(;g<A;)g+=360;v=g>=A&&g<=h}return v?Wh(Wh({},r),{},{radius:a,angle:Lht(g,r)}):null},Ipe=function(t){return!C.isValidElement(t)&&!Mn(t)&&typeof t!="boolean"?t.className:""};function C_(e){"@babel/helpers - typeof";return C_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C_(e)}var Rht=["offset"];function Mht(e){return $ht(e)||Qht(e)||Hht(e)||Uht()}function Uht(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hht(e,t){if(e){if(typeof e=="string")return bD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bD(e,t)}}function Qht(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $ht(e){if(Array.isArray(e))return bD(e)}function bD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vht(e,t){if(e==null)return{};var r=zht(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zht(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function No(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vY(Object(r),!0).forEach(function(n){Ght(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ght(e,t,r){return t=Wht(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wht(e){var t=Kht(e,"string");return C_(t)=="symbol"?t:t+""}function Kht(e,t){if(C_(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(C_(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N_(){return N_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N_.apply(this,arguments)}var qht=function(t){var r=t.value,n=t.formatter,i=Xn(t.children)?r:t.children;return Mn(n)?n(i):i},Xht=function(t,r){var n=mc(r-t),i=Math.min(Math.abs(r-t),360);return n*i},Yht=function(t,r,n){var i=t.position,s=t.viewBox,a=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,h=c.innerRadius,A=c.outerRadius,g=c.startAngle,v=c.endAngle,x=c.clockWise,y=(h+A)/2,w=Xht(g,v),_=w>=0?1:-1,E,I;i==="insideStart"?(E=g+_*a,I=x):i==="insideEnd"?(E=v-_*a,I=!x):i==="end"&&(E=v+_*a,I=x),I=w<=0?I:!I;var N=ks(u,d,y,E),j=ks(u,d,y,E+(I?1:-1)*359),T="M".concat(N.x,",").concat(N.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(I?0:1,`,
    `).concat(j.x,",").concat(j.y),P=Xn(t.id)?Yy("recharts-radial-line-"):t.id;return Me.createElement("text",N_({},n,{dominantBaseline:"central",className:qn("recharts-radial-bar-label",l)}),Me.createElement("defs",null,Me.createElement("path",{id:P,d:T})),Me.createElement("textPath",{xlinkHref:"#".concat(P)},r))},Zht=function(t){var r=t.viewBox,n=t.offset,i=t.position,s=r,a=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,h=s.endAngle,A=(d+h)/2;if(i==="outside"){var g=ks(a,l,u+n,A),v=g.x,x=g.y;return{x:v,y:x,textAnchor:v>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,w=ks(a,l,y,A),_=w.x,E=w.y;return{x:_,y:E,textAnchor:"middle",verticalAnchor:"middle"}},Jht=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,s=t.position,a=r,l=a.x,c=a.y,u=a.width,d=a.height,h=d>=0?1:-1,A=h*i,g=h>0?"end":"start",v=h>0?"start":"end",x=u>=0?1:-1,y=x*i,w=x>0?"end":"start",_=x>0?"start":"end";if(s==="top"){var E={x:l+u/2,y:c-h*i,textAnchor:"middle",verticalAnchor:g};return No(No({},E),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var I={x:l+u/2,y:c+d+A,textAnchor:"middle",verticalAnchor:v};return No(No({},I),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var N={x:l-y,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return No(No({},N),n?{width:Math.max(N.x-n.x,0),height:d}:{})}if(s==="right"){var j={x:l+u+y,y:c+d/2,textAnchor:_,verticalAnchor:"middle"};return No(No({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:d}:{})}var T=n?{width:u,height:d}:{};return s==="insideLeft"?No({x:l+y,y:c+d/2,textAnchor:_,verticalAnchor:"middle"},T):s==="insideRight"?No({x:l+u-y,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},T):s==="insideTop"?No({x:l+u/2,y:c+A,textAnchor:"middle",verticalAnchor:v},T):s==="insideBottom"?No({x:l+u/2,y:c+d-A,textAnchor:"middle",verticalAnchor:g},T):s==="insideTopLeft"?No({x:l+y,y:c+A,textAnchor:_,verticalAnchor:v},T):s==="insideTopRight"?No({x:l+u-y,y:c+A,textAnchor:w,verticalAnchor:v},T):s==="insideBottomLeft"?No({x:l+y,y:c+d-A,textAnchor:_,verticalAnchor:g},T):s==="insideBottomRight"?No({x:l+u-y,y:c+d-A,textAnchor:w,verticalAnchor:g},T):Gy(s)&&(Cr(s.x)||kg(s.x))&&(Cr(s.y)||kg(s.y))?No({x:l+xc(s.x,u),y:c+xc(s.y,d),textAnchor:"end",verticalAnchor:"end"},T):No({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},T)},eAt=function(t){return"cx"in t&&Cr(t.cx)};function Jo(e){var t=e.offset,r=t===void 0?5:t,n=Vht(e,Rht),i=No({offset:r},n),s=i.viewBox,a=i.position,l=i.value,c=i.children,u=i.content,d=i.className,h=d===void 0?"":d,A=i.textBreakAll;if(!s||Xn(l)&&Xn(c)&&!C.isValidElement(u)&&!Mn(u))return null;if(C.isValidElement(u))return C.cloneElement(u,i);var g;if(Mn(u)){if(g=C.createElement(u,i),C.isValidElement(g))return g}else g=qht(i);var v=eAt(s),x=En(i,!0);if(v&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Yht(i,g,x);var y=v?Zht(i):Jht(i);return Me.createElement(Bm,N_({className:qn("recharts-label",h)},x,y,{breakAll:A}),g)}Jo.displayName="Label";var kpe=function(t){var r=t.cx,n=t.cy,i=t.angle,s=t.startAngle,a=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,h=t.x,A=t.y,g=t.top,v=t.left,x=t.width,y=t.height,w=t.clockWise,_=t.labelViewBox;if(_)return _;if(Cr(x)&&Cr(y)){if(Cr(h)&&Cr(A))return{x:h,y:A,width:x,height:y};if(Cr(g)&&Cr(v))return{x:g,y:v,width:x,height:y}}return Cr(h)&&Cr(A)?{x:h,y:A,width:0,height:0}:Cr(r)&&Cr(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:w}:t.viewBox?t.viewBox:{}},tAt=function(t,r){return t?t===!0?Me.createElement(Jo,{key:"label-implicit",viewBox:r}):Po(t)?Me.createElement(Jo,{key:"label-implicit",viewBox:r,value:t}):C.isValidElement(t)?t.type===Jo?C.cloneElement(t,{key:"label-implicit",viewBox:r}):Me.createElement(Jo,{key:"label-implicit",content:t,viewBox:r}):Mn(t)?Me.createElement(Jo,{key:"label-implicit",content:t,viewBox:r}):Gy(t)?Me.createElement(Jo,N_({viewBox:r},t,{key:"label-implicit"})):null:null},rAt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,s=kpe(t),a=vd(i,Jo).map(function(c,u){return C.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return a;var l=tAt(t.label,r||s);return[l].concat(Mht(a))};Jo.parseViewBox=kpe;Jo.renderCallByParent=rAt;function nAt(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var iAt=nAt;const sAt=Gi(iAt);function T_(e){"@babel/helpers - typeof";return T_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T_(e)}var aAt=["valueAccessor"],oAt=["data","dataKey","clockWise","id","textBreakAll"];function lAt(e){return fAt(e)||dAt(e)||uAt(e)||cAt()}function cAt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uAt(e,t){if(e){if(typeof e=="string")return _D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _D(e,t)}}function dAt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fAt(e){if(Array.isArray(e))return _D(e)}function _D(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _3(){return _3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_3.apply(this,arguments)}function yY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yY(Object(r),!0).forEach(function(n){hAt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hAt(e,t,r){return t=AAt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AAt(e){var t=pAt(e,"string");return T_(t)=="symbol"?t:t+""}function pAt(e,t){if(T_(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(T_(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bY(e,t){if(e==null)return{};var r=gAt(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gAt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var mAt=function(t){return Array.isArray(t.value)?sAt(t.value):t.value};function AA(e){var t=e.valueAccessor,r=t===void 0?mAt:t,n=bY(e,aAt),i=n.data,s=n.dataKey,a=n.clockWise,l=n.id,c=n.textBreakAll,u=bY(n,oAt);return!i||!i.length?null:Me.createElement(Ii,{className:"recharts-label-list"},i.map(function(d,h){var A=Xn(s)?r(d,h):Io(d&&d.payload,s),g=Xn(l)?{}:{id:"".concat(l,"-").concat(h)};return Me.createElement(Jo,_3({},En(d,!0),u,g,{parentViewBox:d.parentViewBox,value:A,textBreakAll:c,viewBox:Jo.parseViewBox(Xn(a)?d:wY(wY({},d),{},{clockWise:a})),key:"label-".concat(h),index:h}))}))}AA.displayName="LabelList";function xAt(e,t){return e?e===!0?Me.createElement(AA,{key:"labelList-implicit",data:t}):Me.isValidElement(e)||Mn(e)?Me.createElement(AA,{key:"labelList-implicit",data:t,content:e}):Gy(e)?Me.createElement(AA,_3({data:t},e,{key:"labelList-implicit"})):null:null}function vAt(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=vd(n,AA).map(function(a,l){return C.cloneElement(a,{data:t,key:"labelList-".concat(l)})});if(!r)return i;var s=xAt(e.label,t);return[s].concat(lAt(i))}AA.renderCallByParent=vAt;function B_(e){"@babel/helpers - typeof";return B_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B_(e)}function ED(){return ED=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ED.apply(this,arguments)}function _Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function EY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_Y(Object(r),!0).forEach(function(n){yAt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_Y(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yAt(e,t,r){return t=wAt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wAt(e){var t=bAt(e,"string");return B_(t)=="symbol"?t:t+""}function bAt(e,t){if(B_(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(B_(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _At=function(t,r){var n=mc(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},lN=function(t){var r=t.cx,n=t.cy,i=t.radius,s=t.angle,a=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+i,h=Math.asin(c/d)/b3,A=u?s:s+a*h,g=ks(r,n,d,A),v=ks(r,n,i,A),x=u?s-a*h:s,y=ks(r,n,d*Math.cos(h*b3),x);return{center:g,circleTangency:v,lineTangency:y,theta:h}},jpe=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,a=t.startAngle,l=t.endAngle,c=_At(a,l),u=a+c,d=ks(r,n,s,a),h=ks(r,n,s,u),A="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var g=ks(r,n,i,a),v=ks(r,n,i,u);A+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else A+="L ".concat(r,",").concat(n," Z");return A},EAt=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,a=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,h=mc(d-u),A=lN({cx:r,cy:n,radius:s,angle:u,sign:h,cornerRadius:a,cornerIsExternal:c}),g=A.circleTangency,v=A.lineTangency,x=A.theta,y=lN({cx:r,cy:n,radius:s,angle:d,sign:-h,cornerRadius:a,cornerIsExternal:c}),w=y.circleTangency,_=y.lineTangency,E=y.theta,I=c?Math.abs(u-d):Math.abs(u-d)-x-E;if(I<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):jpe({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d});var N="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(I>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var j=lN({cx:r,cy:n,radius:i,angle:u,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),T=j.circleTangency,P=j.lineTangency,k=j.theta,R=lN({cx:r,cy:n,radius:i,angle:d,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),O=R.circleTangency,M=R.lineTangency,H=R.theta,K=c?Math.abs(u-d):Math.abs(u-d)-k-H;if(K<0&&a===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(K>180),",").concat(+(h>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},SAt={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Ppe=function(t){var r=EY(EY({},SAt),t),n=r.cx,i=r.cy,s=r.innerRadius,a=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,h=r.endAngle,A=r.className;if(a<s||d===h)return null;var g=qn("recharts-sector",A),v=a-s,x=xc(l,v,0,!0),y;return x>0&&Math.abs(d-h)<360?y=EAt({cx:n,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(x,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:h}):y=jpe({cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:d,endAngle:h}),Me.createElement("path",ED({},En(r,!0),{className:g,d:y,role:"img"}))};function I_(e){"@babel/helpers - typeof";return I_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I_(e)}function SD(){return SD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SD.apply(this,arguments)}function SY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function CY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SY(Object(r),!0).forEach(function(n){CAt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CAt(e,t,r){return t=NAt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NAt(e){var t=TAt(e,"string");return I_(t)=="symbol"?t:t+""}function TAt(e,t){if(I_(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(I_(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NY={curveBasisClosed:_Je,curveBasisOpen:EJe,curveBasis:bJe,curveBumpX:lJe,curveBumpY:cJe,curveLinearClosed:SJe,curveLinear:wI,curveMonotoneX:CJe,curveMonotoneY:NJe,curveNatural:TJe,curveStep:BJe,curveStepAfter:kJe,curveStepBefore:IJe},cN=function(t){return t.x===+t.x&&t.y===+t.y},$w=function(t){return t.x},Vw=function(t){return t.y},BAt=function(t,r){if(Mn(t))return t;var n="curve".concat(vI(t));return(n==="curveMonotone"||n==="curveBump")&&r?NY["".concat(n).concat(r==="vertical"?"Y":"X")]:NY[n]||wI},IAt=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,s=i===void 0?[]:i,a=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=BAt(n,l),h=u?s.filter(function(x){return cN(x)}):s,A;if(Array.isArray(a)){var g=u?a.filter(function(x){return cN(x)}):a,v=h.map(function(x,y){return CY(CY({},x),{},{base:g[y]})});return l==="vertical"?A=JC().y(Vw).x1($w).x0(function(x){return x.base.x}):A=JC().x($w).y1(Vw).y0(function(x){return x.base.y}),A.defined(cN).curve(d),A(v)}return l==="vertical"&&Cr(a)?A=JC().y(Vw).x1($w).x0(a):Cr(a)?A=JC().x($w).y1(Vw).y0(a):A=BAe().x($w).y(Vw),A.defined(cN).curve(d),A(h)},Yx=function(t){var r=t.className,n=t.points,i=t.path,s=t.pathRef;if((!n||!n.length)&&!i)return null;var a=n&&n.length?IAt(t):i;return C.createElement("path",SD({},En(t,!1),K5(t),{className:qn("recharts-curve",r),d:a,ref:s}))},kAt=Object.getOwnPropertyNames,jAt=Object.getOwnPropertySymbols,PAt=Object.prototype.hasOwnProperty;function TY(e,t){return function(n,i,s){return e(n,i,s)&&t(n,i,s)}}function uN(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var s=i.cache,a=s.get(r),l=s.get(n);if(a&&l)return a===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,i);return s.delete(r),s.delete(n),c}}function BY(e){return kAt(e).concat(jAt(e))}var FAt=Object.hasOwn||function(e,t){return PAt.call(e,t)};function o1(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var OAt="__v",DAt="__o",LAt="_owner",IY=Object.getOwnPropertyDescriptor,kY=Object.keys;function RAt(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function MAt(e,t){return o1(e.getTime(),t.getTime())}function UAt(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function HAt(e,t){return e===t}function jY(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),s=e.entries(),a,l,c=0;(a=s.next())&&!a.done;){for(var u=t.entries(),d=!1,h=0;(l=u.next())&&!l.done;){if(i[h]){h++;continue}var A=a.value,g=l.value;if(r.equals(A[0],g[0],c,h,e,t,r)&&r.equals(A[1],g[1],A[0],g[0],e,t,r)){d=i[h]=!0;break}h++}if(!d)return!1;c++}return!0}var QAt=o1;function $At(e,t,r){var n=kY(e),i=n.length;if(kY(t).length!==i)return!1;for(;i-- >0;)if(!Fpe(e,t,r,n[i]))return!1;return!0}function zw(e,t,r){var n=BY(e),i=n.length;if(BY(t).length!==i)return!1;for(var s,a,l;i-- >0;)if(s=n[i],!Fpe(e,t,r,s)||(a=IY(e,s),l=IY(t,s),(a||l)&&(!a||!l||a.configurable!==l.configurable||a.enumerable!==l.enumerable||a.writable!==l.writable)))return!1;return!0}function VAt(e,t){return o1(e.valueOf(),t.valueOf())}function zAt(e,t){return e.source===t.source&&e.flags===t.flags}function PY(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),s=e.values(),a,l;(a=s.next())&&!a.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!i[d]&&r.equals(a.value,l.value,a.value,l.value,e,t,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function GAt(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function WAt(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Fpe(e,t,r,n){return(n===LAt||n===DAt||n===OAt)&&(e.$$typeof||t.$$typeof)?!0:FAt(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var KAt="[object Arguments]",qAt="[object Boolean]",XAt="[object Date]",YAt="[object Error]",ZAt="[object Map]",JAt="[object Number]",e0t="[object Object]",t0t="[object RegExp]",r0t="[object Set]",n0t="[object String]",i0t="[object URL]",s0t=Array.isArray,FY=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,OY=Object.assign,a0t=Object.prototype.toString.call.bind(Object.prototype.toString);function o0t(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,s=e.areMapsEqual,a=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,h=e.areTypedArraysEqual,A=e.areUrlsEqual;return function(v,x,y){if(v===x)return!0;if(v==null||x==null)return!1;var w=typeof v;if(w!==typeof x)return!1;if(w!=="object")return w==="number"?a(v,x,y):w==="function"?i(v,x,y):!1;var _=v.constructor;if(_!==x.constructor)return!1;if(_===Object)return l(v,x,y);if(s0t(v))return t(v,x,y);if(FY!=null&&FY(v))return h(v,x,y);if(_===Date)return r(v,x,y);if(_===RegExp)return u(v,x,y);if(_===Map)return s(v,x,y);if(_===Set)return d(v,x,y);var E=a0t(v);return E===XAt?r(v,x,y):E===t0t?u(v,x,y):E===ZAt?s(v,x,y):E===r0t?d(v,x,y):E===e0t?typeof v.then!="function"&&typeof x.then!="function"&&l(v,x,y):E===i0t?A(v,x,y):E===YAt?n(v,x,y):E===KAt?l(v,x,y):E===qAt||E===JAt||E===n0t?c(v,x,y):!1}}function l0t(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?zw:RAt,areDatesEqual:MAt,areErrorsEqual:UAt,areFunctionsEqual:HAt,areMapsEqual:n?TY(jY,zw):jY,areNumbersEqual:QAt,areObjectsEqual:n?zw:$At,arePrimitiveWrappersEqual:VAt,areRegExpsEqual:zAt,areSetsEqual:n?TY(PY,zw):PY,areTypedArraysEqual:n?zw:GAt,areUrlsEqual:WAt};if(r&&(i=OY({},i,r(i))),t){var s=uN(i.areArraysEqual),a=uN(i.areMapsEqual),l=uN(i.areObjectsEqual),c=uN(i.areSetsEqual);i=OY({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:l,areSetsEqual:c})}return i}function c0t(e){return function(t,r,n,i,s,a,l){return e(t,r,l)}}function u0t(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,s=e.strict;if(n)return function(c,u){var d=n(),h=d.cache,A=h===void 0?t?new WeakMap:void 0:h,g=d.meta;return r(c,u,{cache:A,equals:i,meta:g,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,u){return r(c,u,a)}}var d0t=Kp();Kp({strict:!0});Kp({circular:!0});Kp({circular:!0,strict:!0});Kp({createInternalComparator:function(){return o1}});Kp({strict:!0,createInternalComparator:function(){return o1}});Kp({circular:!0,createInternalComparator:function(){return o1}});Kp({circular:!0,createInternalComparator:function(){return o1},strict:!0});function Kp(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,s=e.strict,a=s===void 0?!1:s,l=l0t(e),c=o0t(l),u=n?n(c):c0t(c);return u0t({circular:r,comparator:c,createState:i,equals:u,strict:a})}function f0t(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function DY(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>t?(e(s),r=-1):f0t(i)};requestAnimationFrame(n)}function CD(e){"@babel/helpers - typeof";return CD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},CD(e)}function h0t(e){return m0t(e)||g0t(e)||p0t(e)||A0t()}function A0t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p0t(e,t){if(e){if(typeof e=="string")return LY(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LY(e,t)}}function LY(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g0t(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function m0t(e){if(Array.isArray(e))return e}function x0t(){var e={},t=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var a=s,l=h0t(a),c=l[0],u=l.slice(1);if(typeof c=="number"){DY(i.bind(null,u),c);return}i(c),DY(i.bind(null,u));return}CD(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function k_(e){"@babel/helpers - typeof";return k_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k_(e)}function RY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function MY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RY(Object(r),!0).forEach(function(n){Ope(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ope(e,t,r){return t=v0t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v0t(e){var t=y0t(e,"string");return k_(t)==="symbol"?t:String(t)}function y0t(e,t){if(k_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(k_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w0t=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},b0t=function(t){return t},_0t=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},rb=function(t,r){return Object.keys(r).reduce(function(n,i){return MY(MY({},n),{},Ope({},i,t(i,r[i])))},{})},UY=function(t,r,n){return t.map(function(i){return"".concat(_0t(i)," ").concat(r,"ms ").concat(n)}).join(",")};function E0t(e,t){return N0t(e)||C0t(e,t)||Dpe(e,t)||S0t()}function S0t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C0t(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function N0t(e){if(Array.isArray(e))return e}function T0t(e){return k0t(e)||I0t(e)||Dpe(e)||B0t()}function B0t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dpe(e,t){if(e){if(typeof e=="string")return ND(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ND(e,t)}}function I0t(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function k0t(e){if(Array.isArray(e))return ND(e)}function ND(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var E3=1e-4,Lpe=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},Rpe=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},HY=function(t,r){return function(n){var i=Lpe(t,r);return Rpe(i,n)}},j0t=function(t,r){return function(n){var i=Lpe(t,r),s=[].concat(T0t(i.map(function(a,l){return a*l}).slice(1)),[0]);return Rpe(s,n)}},QY=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],s=r[1],a=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,a=1,l=1;break;case"ease":i=.25,s=.1,a=.25,l=1;break;case"ease-in":i=.42,s=0,a=1,l=1;break;case"ease-out":i=.42,s=0,a=.58,l=1;break;case"ease-in-out":i=0,s=0,a=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=E0t(u,4);i=d[0],s=d[1],a=d[2],l=d[3]}}}var h=HY(i,a),A=HY(s,l),g=j0t(i,a),v=function(w){return w>1?1:w<0?0:w},x=function(w){for(var _=w>1?1:w,E=_,I=0;I<8;++I){var N=h(E)-_,j=g(E);if(Math.abs(N-_)<E3||j<E3)return A(E);E=v(E-N/j)}return A(E)};return x.isStepper=!1,x},P0t=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,s=i===void 0?8:i,a=t.dt,l=a===void 0?17:a,c=function(d,h,A){var g=-(d-h)*n,v=A*s,x=A+(g-v)*l/1e3,y=A*l/1e3+d;return Math.abs(y-h)<E3&&Math.abs(x)<E3?[h,0]:[y,x]};return c.isStepper=!0,c.dt=l,c},F0t=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return QY(i);case"spring":return P0t();default:if(i.split("(")[0]==="cubic-bezier")return QY(i)}return typeof i=="function"?i:null};function j_(e){"@babel/helpers - typeof";return j_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j_(e)}function $Y(e){return L0t(e)||D0t(e)||Mpe(e)||O0t()}function O0t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D0t(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function L0t(e){if(Array.isArray(e))return BD(e)}function VY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VY(Object(r),!0).forEach(function(n){TD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TD(e,t,r){return t=R0t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R0t(e){var t=M0t(e,"string");return j_(t)==="symbol"?t:String(t)}function M0t(e,t){if(j_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(j_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U0t(e,t){return $0t(e)||Q0t(e,t)||Mpe(e,t)||H0t()}function H0t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mpe(e,t){if(e){if(typeof e=="string")return BD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BD(e,t)}}function BD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Q0t(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function $0t(e){if(Array.isArray(e))return e}var S3=function(t,r,n){return t+(r-t)*n},ID=function(t){var r=t.from,n=t.to;return r!==n},V0t=function e(t,r,n){var i=rb(function(s,a){if(ID(a)){var l=t(a.from,a.to,a.velocity),c=U0t(l,2),u=c[0],d=c[1];return fl(fl({},a),{},{from:u,velocity:d})}return a},r);return n<1?rb(function(s,a){return ID(a)?fl(fl({},a),{},{velocity:S3(a.velocity,i[s].velocity,n),from:S3(a.from,i[s].from,n)}):a},r):e(t,i,n-1)};const z0t=function(e,t,r,n,i){var s=w0t(e,t),a=s.reduce(function(y,w){return fl(fl({},y),{},TD({},w,[e[w],t[w]]))},{}),l=s.reduce(function(y,w){return fl(fl({},y),{},TD({},w,{from:e[w],velocity:0,to:t[w]}))},{}),c=-1,u,d,h=function(){return null},A=function(){return rb(function(w,_){return _.from},l)},g=function(){return!Object.values(l).filter(ID).length},v=function(w){u||(u=w);var _=w-u,E=_/r.dt;l=V0t(r,l,E),i(fl(fl(fl({},e),t),A())),u=w,g()||(c=requestAnimationFrame(h))},x=function(w){d||(d=w);var _=(w-d)/n,E=rb(function(N,j){return S3.apply(void 0,$Y(j).concat([r(_)]))},a);if(i(fl(fl(fl({},e),t),E)),_<1)c=requestAnimationFrame(h);else{var I=rb(function(N,j){return S3.apply(void 0,$Y(j).concat([r(1)]))},a);i(fl(fl(fl({},e),t),I))}};return h=r.isStepper?v:x,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function Wv(e){"@babel/helpers - typeof";return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wv(e)}var G0t=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function W0t(e,t){if(e==null)return{};var r=K0t(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function K0t(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function oP(e){return Z0t(e)||Y0t(e)||X0t(e)||q0t()}function q0t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X0t(e,t){if(e){if(typeof e=="string")return kD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kD(e,t)}}function Y0t(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Z0t(e){if(Array.isArray(e))return kD(e)}function kD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ud(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zY(Object(r),!0).forEach(function(n){v2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v2(e,t,r){return t=Upe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J0t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ept(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Upe(n.key),n)}}function tpt(e,t,r){return t&&ept(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Upe(e){var t=rpt(e,"string");return Wv(t)==="symbol"?t:String(t)}function rpt(e,t){if(Wv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function npt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jD(e,t)}function jD(e,t){return jD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jD(e,t)}function ipt(e){var t=spt();return function(){var n=C3(e),i;if(t){var s=C3(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return PD(this,i)}}function PD(e,t){if(t&&(Wv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FD(e)}function FD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function spt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function C3(e){return C3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},C3(e)}var mh=function(e){npt(r,e);var t=ipt(r);function r(n,i){var s;J0t(this,r),s=t.call(this,n,i);var a=s.props,l=a.isActive,c=a.attributeName,u=a.from,d=a.to,h=a.steps,A=a.children,g=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(FD(s)),s.changeStyle=s.changeStyle.bind(FD(s)),!l||g<=0)return s.state={style:{}},typeof A=="function"&&(s.state={style:d}),PD(s);if(h&&h.length)s.state={style:h[0].style};else if(u){if(typeof A=="function")return s.state={style:u},PD(s);s.state={style:c?v2({},c,u):u}}else s.state={style:{}};return s}return tpt(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,h=s.from,A=this.state.style;if(l){if(!a){var g={style:c?v2({},c,d):d};this.state&&A&&(c&&A[c]!==d||!c&&A!==d)&&this.setState(g);return}if(!(d0t(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=v||u?h:i.to;if(this.state&&A){var y={style:c?v2({},c,x):x};(c&&A[c]!==x||!c&&A!==x)&&this.setState(y)}this.runAnimation(Ud(Ud({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,h=i.onAnimationEnd,A=i.onAnimationStart,g=z0t(a,l,F0t(u),c,this.changeStyle),v=function(){s.stopJSAnimation=g()};this.manager.start([A,d,v,c,h])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,l=i.begin,c=i.onAnimationStart,u=a[0],d=u.style,h=u.duration,A=h===void 0?0:h,g=function(x,y,w){if(w===0)return x;var _=y.duration,E=y.easing,I=E===void 0?"ease":E,N=y.style,j=y.properties,T=y.onAnimationEnd,P=w>0?a[w-1]:y,k=j||Object.keys(N);if(typeof I=="function"||I==="spring")return[].concat(oP(x),[s.runJSAnimation.bind(s,{from:P.style,to:N,duration:_,easing:I}),_]);var R=UY(k,_,I),O=Ud(Ud(Ud({},P.style),N),{},{transition:R});return[].concat(oP(x),[O,_,T]).filter(b0t)};return this.manager.start([c].concat(oP(a.reduce(g,[d,Math.max(A,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=x0t());var s=i.begin,a=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,h=i.onAnimationEnd,A=i.steps,g=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(A.length>1){this.runStepAnimation(i);return}var x=l?v2({},l,c):c,y=UY(Object.keys(x),a,u);v.start([d,s,Ud(Ud({},x),{},{transition:y}),a,h])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=W0t(i,G0t),u=C.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||a<=0)return s;var h=function(g){var v=g.props,x=v.style,y=x===void 0?{}:x,w=v.className,_=C.cloneElement(g,Ud(Ud({},c),{},{style:Ud(Ud({},y),d),className:w}));return _};return u===1?h(C.Children.only(s)):Me.createElement("div",null,C.Children.map(s,function(A){return h(A)}))}}]),r}(C.PureComponent);mh.displayName="Animate";mh.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};mh.propTypes={from:qi.oneOfType([qi.object,qi.string]),to:qi.oneOfType([qi.object,qi.string]),attributeName:qi.string,duration:qi.number,begin:qi.number,easing:qi.oneOfType([qi.string,qi.func]),steps:qi.arrayOf(qi.shape({duration:qi.number.isRequired,style:qi.object.isRequired,easing:qi.oneOfType([qi.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),qi.func]),properties:qi.arrayOf("string"),onAnimationEnd:qi.func})),children:qi.oneOfType([qi.node,qi.func]),isActive:qi.bool,canBegin:qi.bool,onAnimationEnd:qi.func,shouldReAnimate:qi.bool,onAnimationStart:qi.func,onAnimationReStart:qi.func};function P_(e){"@babel/helpers - typeof";return P_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P_(e)}function N3(){return N3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N3.apply(this,arguments)}function apt(e,t){return upt(e)||cpt(e,t)||lpt(e,t)||opt()}function opt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lpt(e,t){if(e){if(typeof e=="string")return GY(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GY(e,t)}}function GY(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cpt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function upt(e){if(Array.isArray(e))return e}function WY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WY(Object(r),!0).forEach(function(n){dpt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dpt(e,t,r){return t=fpt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fpt(e){var t=hpt(e,"string");return P_(t)=="symbol"?t:t+""}function hpt(e,t){if(P_(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(P_(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qY=function(t,r,n,i,s){var a=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(a>0&&s instanceof Array){for(var h=[0,0,0,0],A=0,g=4;A<g;A++)h[A]=s[A]>a?a:s[A];d="M".concat(t,",").concat(r+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(t+c*h[0],",").concat(r)),d+="L ".concat(t+n-c*h[1],",").concat(r),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*h[1])),d+="L ".concat(t+n,",").concat(r+i-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(t+n-c*h[2],",").concat(r+i)),d+="L ".concat(t+c*h[3],",").concat(r+i),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+i-l*h[3])),d+="Z"}else if(a>0&&s===+s&&s>0){var v=Math.min(a,s);d="M ".concat(t,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+c*v,",").concat(r,`
            L `).concat(t+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*v,`
            L `).concat(t+n,",").concat(r+i-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-c*v,",").concat(r+i,`
            L `).concat(t+c*v,",").concat(r+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(r+i-l*v," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},Apt=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,s=r.x,a=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),h=Math.min(a,a+c),A=Math.max(a,a+c);return n>=u&&n<=d&&i>=h&&i<=A}return!1},ppt={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},u9=function(t){var r=KY(KY({},ppt),t),n=C.useRef(),i=C.useState(-1),s=apt(i,2),a=s[0],l=s[1];C.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&l(I)}catch{}},[]);var c=r.x,u=r.y,d=r.width,h=r.height,A=r.radius,g=r.className,v=r.animationEasing,x=r.animationDuration,y=r.animationBegin,w=r.isAnimationActive,_=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var E=qn("recharts-rectangle",g);return _?Me.createElement(mh,{canBegin:a>0,from:{width:d,height:h,x:c,y:u},to:{width:d,height:h,x:c,y:u},duration:x,animationEasing:v,isActive:_},function(I){var N=I.width,j=I.height,T=I.x,P=I.y;return Me.createElement(mh,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,isActive:w,easing:v},Me.createElement("path",N3({},En(r,!0),{className:E,d:qY(T,P,N,j,A),ref:n})))}):Me.createElement("path",N3({},En(r,!0),{className:E,d:qY(c,u,d,h,A)}))},gpt=["points","className","baseLinePoints","connectNulls"];function yx(){return yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yx.apply(this,arguments)}function mpt(e,t){if(e==null)return{};var r=xpt(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xpt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function XY(e){return bpt(e)||wpt(e)||ypt(e)||vpt()}function vpt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ypt(e,t){if(e){if(typeof e=="string")return OD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OD(e,t)}}function wpt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bpt(e){if(Array.isArray(e))return OD(e)}function OD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var YY=function(t){return t&&t.x===+t.x&&t.y===+t.y},_pt=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){YY(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),YY(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},nb=function(t,r){var n=_pt(t);r&&(n=[n.reduce(function(s,a){return[].concat(XY(s),XY(a))},[])]);var i=n.map(function(s){return s.reduce(function(a,l,c){return"".concat(a).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Ept=function(t,r,n){var i=nb(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(nb(r.reverse(),n).slice(1))},Spt=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,s=t.connectNulls,a=mpt(t,gpt);if(!r||!r.length)return null;var l=qn("recharts-polygon",n);if(i&&i.length){var c=a.stroke&&a.stroke!=="none",u=Ept(r,i,s);return Me.createElement("g",{className:l},Me.createElement("path",yx({},En(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),c?Me.createElement("path",yx({},En(a,!0),{fill:"none",d:nb(r,s)})):null,c?Me.createElement("path",yx({},En(a,!0),{fill:"none",d:nb(i,s)})):null)}var d=nb(r,s);return Me.createElement("path",yx({},En(a,!0),{fill:d.slice(-1)==="Z"?a.fill:"none",className:l,d}))};function DD(){return DD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DD.apply(this,arguments)}var RI=function(t){var r=t.cx,n=t.cy,i=t.r,s=t.className,a=qn("recharts-dot",s);return r===+r&&n===+n&&i===+i?C.createElement("circle",DD({},En(t,!1),K5(t),{className:a,cx:r,cy:n,r:i})):null};function F_(e){"@babel/helpers - typeof";return F_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F_(e)}var Cpt=["x","y","top","left","width","height","className"];function LD(){return LD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LD.apply(this,arguments)}function ZY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Npt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZY(Object(r),!0).forEach(function(n){Tpt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tpt(e,t,r){return t=Bpt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bpt(e){var t=Ipt(e,"string");return F_(t)=="symbol"?t:t+""}function Ipt(e,t){if(F_(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(F_(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kpt(e,t){if(e==null)return{};var r=jpt(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jpt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ppt=function(t,r,n,i,s,a){return"M".concat(t,",").concat(s,"v").concat(i,"M").concat(a,",").concat(r,"h").concat(n)},Fpt=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,a=t.top,l=a===void 0?0:a,c=t.left,u=c===void 0?0:c,d=t.width,h=d===void 0?0:d,A=t.height,g=A===void 0?0:A,v=t.className,x=kpt(t,Cpt),y=Npt({x:n,y:s,top:l,left:u,width:h,height:g},x);return!Cr(n)||!Cr(s)||!Cr(h)||!Cr(g)||!Cr(l)||!Cr(u)?null:Me.createElement("path",LD({},En(y,!0),{className:qn("recharts-cross",v),d:Ppt(n,s,h,g,l,u)}))},Opt=PI,Dpt=rpe,Lpt=zp;function Rpt(e,t){return e&&e.length?Opt(e,Lpt(t),Dpt):void 0}var Mpt=Rpt;const Upt=Gi(Mpt);var Hpt=PI,Qpt=zp,$pt=npe;function Vpt(e,t){return e&&e.length?Hpt(e,Qpt(t),$pt):void 0}var zpt=Vpt;const Gpt=Gi(zpt);var Wpt=["cx","cy","angle","ticks","axisLine"],Kpt=["ticks","tick","angle","tickFormatter","stroke"];function Kv(e){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kv(e)}function ib(){return ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ib.apply(this,arguments)}function JY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JY(Object(r),!0).forEach(function(n){MI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eZ(e,t){if(e==null)return{};var r=qpt(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qpt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Xpt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qpe(n.key),n)}}function Ypt(e,t,r){return t&&tZ(e.prototype,t),r&&tZ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zpt(e,t,r){return t=T3(t),Jpt(e,Hpe()?Reflect.construct(t,r||[],T3(e).constructor):t.apply(e,r))}function Jpt(e,t){if(t&&(Kv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return egt(e)}function egt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hpe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hpe=function(){return!!e})()}function T3(e){return T3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},T3(e)}function tgt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RD(e,t)}function RD(e,t){return RD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},RD(e,t)}function MI(e,t,r){return t=Qpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qpe(e){var t=rgt(e,"string");return Kv(t)=="symbol"?t:t+""}function rgt(e,t){if(Kv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UI=function(e){function t(){return Xpt(this,t),Zpt(this,t,arguments)}return tgt(t,e),Ypt(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,s=this.props,a=s.angle,l=s.cx,c=s.cy;return ks(l,c,i,a)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,s=n.cy,a=n.angle,l=n.ticks,c=Upt(l,function(d){return d.coordinate||0}),u=Gpt(l,function(d){return d.coordinate||0});return{cx:i,cy:s,startAngle:a,endAngle:a,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,a=n.angle,l=n.ticks,c=n.axisLine,u=eZ(n,Wpt),d=l.reduce(function(v,x){return[Math.min(v[0],x.coordinate),Math.max(v[1],x.coordinate)]},[1/0,-1/0]),h=ks(i,s,d[0],a),A=ks(i,s,d[1],a),g=lg(lg(lg({},En(u,!1)),{},{fill:"none"},En(c,!1)),{},{x1:h.x,y1:h.y,x2:A.x,y2:A.y});return Me.createElement("line",ib({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,a=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=eZ(i,Kpt),h=this.getTickTextAnchor(),A=En(d,!1),g=En(a,!1),v=s.map(function(x,y){var w=n.getTickValueCoord(x),_=lg(lg(lg(lg({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(w.x,", ").concat(w.y,")")},A),{},{stroke:"none",fill:u},g),{},{index:y},w),{},{payload:x});return Me.createElement(Ii,ib({className:qn("recharts-polar-radius-axis-tick",Ipe(a)),key:"tick-".concat(x.coordinate)},Tm(n.props,x,y)),t.renderTickItem(a,_,c?c(x.value,y):x.value))});return Me.createElement(Ii,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.axisLine,a=n.tick;return!i||!i.length?null:Me.createElement(Ii,{className:qn("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),a&&this.renderTicks(),Jo.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,s){var a;return Me.isValidElement(n)?a=Me.cloneElement(n,i):Mn(n)?a=n(i):a=Me.createElement(Bm,ib({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),a}}])}(C.PureComponent);MI(UI,"displayName","PolarRadiusAxis");MI(UI,"axisType","radiusAxis");MI(UI,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function qv(e){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qv(e)}function yg(){return yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yg.apply(this,arguments)}function rZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rZ(Object(r),!0).forEach(function(n){HI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rZ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ngt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vpe(n.key),n)}}function igt(e,t,r){return t&&nZ(e.prototype,t),r&&nZ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sgt(e,t,r){return t=B3(t),agt(e,$pe()?Reflect.construct(t,r||[],B3(e).constructor):t.apply(e,r))}function agt(e,t){if(t&&(qv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ogt(e)}function ogt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $pe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($pe=function(){return!!e})()}function B3(e){return B3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},B3(e)}function lgt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MD(e,t)}function MD(e,t){return MD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},MD(e,t)}function HI(e,t,r){return t=Vpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vpe(e){var t=cgt(e,"string");return qv(t)=="symbol"?t:t+""}function cgt(e,t){if(qv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ugt=Math.PI/180,iZ=1e-5,QI=function(e){function t(){return ngt(this,t),sgt(this,t,arguments)}return lgt(t,e),igt(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.cx,a=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,h=ks(s,a,l,n.coordinate),A=ks(s,a,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:h.x,y1:h.y,x2:A.x,y2:A.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,s=Math.cos(-n.coordinate*ugt),a;return s>iZ?a=i==="outer"?"start":"end":s<-iZ?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,a=n.radius,l=n.axisLine,c=n.axisLineType,u=cg(cg({},En(this.props,!1)),{},{fill:"none"},En(l,!1));if(c==="circle")return Me.createElement(RI,yg({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:s,r:a}));var d=this.props.ticks,h=d.map(function(A){return ks(i,s,a,A.coordinate)});return Me.createElement(Spt,yg({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,a=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=En(this.props,!1),h=En(a,!1),A=cg(cg({},d),{},{fill:"none"},En(l,!1)),g=s.map(function(v,x){var y=n.getTickLineCoord(v),w=n.getTickTextAnchor(v),_=cg(cg(cg({textAnchor:w},d),{},{stroke:"none",fill:u},h),{},{index:x,payload:v,x:y.x2,y:y.y2});return Me.createElement(Ii,yg({className:qn("recharts-polar-angle-axis-tick",Ipe(a)),key:"tick-".concat(v.coordinate)},Tm(n.props,v,x)),l&&Me.createElement("line",yg({className:"recharts-polar-angle-axis-tick-line"},A,y)),a&&t.renderTickItem(a,_,c?c(v.value,x):v.value))});return Me.createElement(Ii,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.radius,a=n.axisLine;return s<=0||!i||!i.length?null:Me.createElement(Ii,{className:qn("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,s){var a;return Me.isValidElement(n)?a=Me.cloneElement(n,i):Mn(n)?a=n(i):a=Me.createElement(Bm,yg({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),a}}])}(C.PureComponent);HI(QI,"displayName","PolarAngleAxis");HI(QI,"axisType","angleAxis");HI(QI,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var dgt=JAe,fgt=dgt(Object.getPrototypeOf,Object),hgt=fgt,Agt=DA,pgt=hgt,ggt=LA,mgt="[object Object]",xgt=Function.prototype,vgt=Object.prototype,zpe=xgt.toString,ygt=vgt.hasOwnProperty,wgt=zpe.call(Object);function bgt(e){if(!ggt(e)||Agt(e)!=mgt)return!1;var t=pgt(e);if(t===null)return!0;var r=ygt.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&zpe.call(r)==wgt}var _gt=bgt;const Egt=Gi(_gt);var Sgt=DA,Cgt=LA,Ngt="[object Boolean]";function Tgt(e){return e===!0||e===!1||Cgt(e)&&Sgt(e)==Ngt}var Bgt=Tgt;const Igt=Gi(Bgt);function O_(e){"@babel/helpers - typeof";return O_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O_(e)}function I3(){return I3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I3.apply(this,arguments)}function kgt(e,t){return Ogt(e)||Fgt(e,t)||Pgt(e,t)||jgt()}function jgt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pgt(e,t){if(e){if(typeof e=="string")return sZ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sZ(e,t)}}function sZ(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fgt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function Ogt(e){if(Array.isArray(e))return e}function aZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aZ(Object(r),!0).forEach(function(n){Dgt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aZ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dgt(e,t,r){return t=Lgt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lgt(e){var t=Rgt(e,"string");return O_(t)=="symbol"?t:t+""}function Rgt(e,t){if(O_(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(O_(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lZ=function(t,r,n,i,s){var a=n-i,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-a/2,",").concat(r+s),l+="L ".concat(t+n-a/2-i,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},Mgt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ugt=function(t){var r=oZ(oZ({},Mgt),t),n=C.useRef(),i=C.useState(-1),s=kgt(i,2),a=s[0],l=s[1];C.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&l(E)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,h=r.lowerWidth,A=r.height,g=r.className,v=r.animationEasing,x=r.animationDuration,y=r.animationBegin,w=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||A!==+A||d===0&&h===0||A===0)return null;var _=qn("recharts-trapezoid",g);return w?Me.createElement(mh,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:A,x:c,y:u},to:{upperWidth:d,lowerWidth:h,height:A,x:c,y:u},duration:x,animationEasing:v,isActive:w},function(E){var I=E.upperWidth,N=E.lowerWidth,j=E.height,T=E.x,P=E.y;return Me.createElement(mh,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,easing:v},Me.createElement("path",I3({},En(r,!0),{className:_,d:lZ(T,P,I,N,j),ref:n})))}):Me.createElement("g",null,Me.createElement("path",I3({},En(r,!0),{className:_,d:lZ(c,u,d,h,A)})))},Hgt=["option","shapeType","propTransformer","activeClassName","isActive"];function D_(e){"@babel/helpers - typeof";return D_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D_(e)}function Qgt(e,t){if(e==null)return{};var r=$gt(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $gt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function k3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cZ(Object(r),!0).forEach(function(n){Vgt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cZ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vgt(e,t,r){return t=zgt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zgt(e){var t=Ggt(e,"string");return D_(t)=="symbol"?t:t+""}function Ggt(e,t){if(D_(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(D_(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wgt(e,t){return k3(k3({},t),e)}function Kgt(e,t){return e==="symbols"}function uZ(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Me.createElement(u9,r);case"trapezoid":return Me.createElement(Ugt,r);case"sector":return Me.createElement(Ppe,r);case"symbols":if(Kgt(t))return Me.createElement(T7,r);break;default:return null}}function qgt(e){return C.isValidElement(e)?e.props:e}function Gpe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?Wgt:n,s=e.activeClassName,a=s===void 0?"recharts-active-shape":s,l=e.isActive,c=Qgt(e,Hgt),u;if(C.isValidElement(t))u=C.cloneElement(t,k3(k3({},c),qgt(t)));else if(Mn(t))u=t(c);else if(Egt(t)&&!Igt(t)){var d=i(t,c);u=Me.createElement(uZ,{shapeType:r,elementProps:d})}else{var h=c;u=Me.createElement(uZ,{shapeType:r,elementProps:h})}return l?Me.createElement(Ii,{className:a},u):u}function $I(e,t){return t!=null&&"trapezoids"in e.props}function VI(e,t){return t!=null&&"sectors"in e.props}function L_(e,t){return t!=null&&"points"in e.props}function Xgt(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&s}function Ygt(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Zgt(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function Jgt(e,t){var r;return $I(e,t)?r=Xgt:VI(e,t)?r=Ygt:L_(e,t)&&(r=Zgt),r}function emt(e,t){var r;return $I(e,t)?r="trapezoids":VI(e,t)?r="sectors":L_(e,t)&&(r="points"),r}function tmt(e,t){if($I(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(VI(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return L_(e,t)?t.payload:{}}function rmt(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=emt(r,t),s=tmt(r,t),a=n.filter(function(c,u){var d=zv(s,c),h=r.props[i].filter(function(v){var x=Jgt(r,t);return x(v,t)}),A=r.props[i].indexOf(h[h.length-1]),g=u===A;return d&&g}),l=n.indexOf(a[a.length-1]);return l}var x4;function Xv(e){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xv(e)}function wx(){return wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wx.apply(this,arguments)}function dZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Es(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dZ(Object(r),!0).forEach(function(n){dd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dZ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nmt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kpe(n.key),n)}}function imt(e,t,r){return t&&fZ(e.prototype,t),r&&fZ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function smt(e,t,r){return t=j3(t),amt(e,Wpe()?Reflect.construct(t,r||[],j3(e).constructor):t.apply(e,r))}function amt(e,t){if(t&&(Xv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return omt(e)}function omt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wpe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wpe=function(){return!!e})()}function j3(e){return j3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},j3(e)}function lmt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UD(e,t)}function UD(e,t){return UD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},UD(e,t)}function dd(e,t,r){return t=Kpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kpe(e){var t=cmt(e,"string");return Xv(t)=="symbol"?t:t+""}function cmt(e,t){if(Xv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MA=function(e){function t(r){var n;return nmt(this,t),n=smt(this,t,[r]),dd(n,"pieRef",null),dd(n,"sectorRefs",[]),dd(n,"id",Yy("recharts-pie-")),dd(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Mn(i)&&i()}),dd(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Mn(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return lmt(t,e),imt(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=En(this.props,!1),h=En(a,!1),A=En(l,!1),g=a&&a.offsetRadius||20,v=n.map(function(x,y){var w=(x.startAngle+x.endAngle)/2,_=ks(x.cx,x.cy,x.outerRadius+g,w),E=Es(Es(Es(Es({},d),x),{},{stroke:"none"},h),{},{index:y,textAnchor:t.getTextAnchor(_.x,x.cx)},_),I=Es(Es(Es(Es({},d),x),{},{fill:"none",stroke:x.fill},A),{},{index:y,points:[ks(x.cx,x.cy,x.outerRadius,w),_]}),N=c;return Xn(c)&&Xn(u)?N="value":Xn(c)&&(N=u),Me.createElement(Ii,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(y)},l&&t.renderLabelLineItem(l,I,"line"),t.renderLabelItem(a,E,Io(x,N)))});return Me.createElement(Ii,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,a=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var h=i.isActiveIndex(d),A=c&&i.hasActiveIndex()?c:null,g=h?a:A,v=Es(Es({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return Me.createElement(Ii,wx({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Tm(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),Me.createElement(Gpe,wx({option:g,isActive:h,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,a=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,h=this.state,A=h.prevSectors,g=h.prevIsAnimationActive;return Me.createElement(mh,{begin:l,duration:c,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var x=v.t,y=[],w=s&&s[0],_=w.startAngle;return s.forEach(function(E,I){var N=A&&A[I],j=I>0?Ou(E,"paddingAngle",0):0;if(N){var T=Hc(N.endAngle-N.startAngle,E.endAngle-E.startAngle),P=Es(Es({},E),{},{startAngle:_+j,endAngle:_+T(x)+j});y.push(P),_=P.endAngle}else{var k=E.endAngle,R=E.startAngle,O=Hc(0,k-R),M=O(x),H=Es(Es({},E),{},{startAngle:_+j,endAngle:_+M+j});y.push(H),_=H.endAngle}}),Me.createElement(Ii,null,n.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,a=this.state.prevSectors;return s&&i&&i.length&&(!a||!zv(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,a=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,h=i.innerRadius,A=i.outerRadius,g=i.isAnimationActive,v=this.state.isAnimationFinished;if(s||!a||!a.length||!Cr(u)||!Cr(d)||!Cr(h)||!Cr(A))return null;var x=qn("recharts-pie",l);return Me.createElement(Ii,{tabIndex:this.props.rootTabIndex,className:x,ref:function(w){n.pieRef=w}},this.renderSectors(),c&&this.renderLabels(a),Jo.renderCallByParent(this.props,null,!1),(!g||v)&&AA.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(Me.isValidElement(n))return Me.cloneElement(n,i);if(Mn(n))return n(i);var a=qn("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return Me.createElement(Yx,wx({},i,{key:s,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(n,i,s){if(Me.isValidElement(n))return Me.cloneElement(n,i);var a=s;if(Mn(n)&&(a=n(i),Me.isValidElement(a)))return a;var l=qn("recharts-pie-label-text",typeof n!="boolean"&&!Mn(n)?n.className:"");return Me.createElement(Bm,wx({},i,{alignmentBaseline:"middle",className:l}),a)}}])}(C.PureComponent);x4=MA;dd(MA,"displayName","Pie");dd(MA,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!oh.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});dd(MA,"parseDeltaAngle",function(e,t){var r=mc(t-e),n=Math.min(Math.abs(t-e),360);return r*n});dd(MA,"getRealPieData",function(e){var t=e.data,r=e.children,n=En(e,!1),i=vd(r,CI);return t&&t.length?t.map(function(s,a){return Es(Es(Es({payload:s},n),s),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(s){return Es(Es({},n),s.props)}):[]});dd(MA,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,s=t.height,a=Bpe(i,s),l=n+xc(e.cx,i,i/2),c=r+xc(e.cy,s,s/2),u=xc(e.innerRadius,a,0),d=xc(e.outerRadius,a,a*.8),h=e.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:h}});dd(MA,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Es(Es({},t.type.defaultProps),t.props):t.props,i=x4.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,a=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,h=n.valueKey,A=n.tooltipType,g=Math.abs(n.minAngle),v=x4.parseCoordinateOfPie(n,r),x=x4.parseDeltaAngle(a,l),y=Math.abs(x),w=u;Xn(u)&&Xn(h)?(fA(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):Xn(u)&&(fA(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=h);var _=i.filter(function(P){return Io(P,w,0)!==0}).length,E=(y>=360?_:_-1)*c,I=y-_*g-E,N=i.reduce(function(P,k){var R=Io(k,w,0);return P+(Cr(R)?R:0)},0),j;if(N>0){var T;j=i.map(function(P,k){var R=Io(P,w,0),O=Io(P,d,k),M=(Cr(R)?R:0)/N,H;k?H=T.endAngle+mc(x)*c*(R!==0?1:0):H=a;var K=H+mc(x)*((R!==0?g:0)+M*I),Y=(H+K)/2,ne=(v.innerRadius+v.outerRadius)/2,le=[{name:O,value:R,payload:P,dataKey:w,type:A}],te=ks(v.cx,v.cy,ne,Y);return T=Es(Es(Es({percent:M,cornerRadius:s,name:O,tooltipPayload:le,midAngle:Y,middleRadius:ne,tooltipPosition:te},P),v),{},{value:Io(P,w),startAngle:H,endAngle:K,payload:P,paddingAngle:mc(x)*c}),T})}return Es(Es({},v),{},{sectors:j,data:i})});var umt=Math.ceil,dmt=Math.max;function fmt(e,t,r,n){for(var i=-1,s=dmt(umt((t-e)/(r||1)),0),a=Array(s);s--;)a[n?s:++i]=e,e+=r;return a}var hmt=fmt,Amt=m0e,hZ=1/0,pmt=17976931348623157e292;function gmt(e){if(!e)return e===0?e:0;if(e=Amt(e),e===hZ||e===-hZ){var t=e<0?-1:1;return t*pmt}return e===e?e:0}var mmt=gmt,xmt=hmt,vmt=SI,lP=mmt;function ymt(e){return function(t,r,n){return n&&typeof n!="number"&&vmt(t,r,n)&&(r=n=void 0),t=lP(t),r===void 0?(r=t,t=0):r=lP(r),n=n===void 0?t<r?1:-1:lP(n),xmt(t,r,n,e)}}var wmt=ymt,bmt=wmt,_mt=bmt(),Emt=_mt;const P3=Gi(Emt);function R_(e){"@babel/helpers - typeof";return R_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R_(e)}function AZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AZ(Object(r),!0).forEach(function(n){qpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AZ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qpe(e,t,r){return t=Smt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Smt(e){var t=Cmt(e,"string");return R_(t)=="symbol"?t:t+""}function Cmt(e,t){if(R_(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(R_(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nmt=["Webkit","Moz","O","ms"],Tmt=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),i=Nmt.reduce(function(s,a){return pZ(pZ({},s),{},qpe({},a+n,r))},{});return i[t]=r,i};function Yv(e){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yv(e)}function F3(){return F3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F3.apply(this,arguments)}function gZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gZ(Object(r),!0).forEach(function(n){gu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gZ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bmt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ype(n.key),n)}}function Imt(e,t,r){return t&&mZ(e.prototype,t),r&&mZ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kmt(e,t,r){return t=O3(t),jmt(e,Xpe()?Reflect.construct(t,r||[],O3(e).constructor):t.apply(e,r))}function jmt(e,t){if(t&&(Yv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pmt(e)}function Pmt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xpe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xpe=function(){return!!e})()}function O3(e){return O3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},O3(e)}function Fmt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HD(e,t)}function HD(e,t){return HD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},HD(e,t)}function gu(e,t,r){return t=Ype(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ype(e){var t=Omt(e,"string");return Yv(t)=="symbol"?t:t+""}function Omt(e,t){if(Yv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dmt=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,s=t.x,a=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=eb().domain(P3(0,c)).range([s,s+a-l]),d=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},xZ=function(t){return t.changedTouches&&!!t.changedTouches.length},Zv=function(e){function t(r){var n;return Bmt(this,t),n=kmt(this,t,[r]),gu(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),gu(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),gu(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,a=i.onDragEnd,l=i.startIndex;a==null||a({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),gu(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),gu(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),gu(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),gu(n,"handleSlideDragStart",function(i){var s=xZ(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Fmt(t,e),Imt(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,a=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,h=Math.min(i,s),A=Math.max(i,s),g=t.getIndexInRange(a,h),v=t.getIndexInRange(a,A);return{startIndex:g-g%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,a=i.tickFormatter,l=i.dataKey,c=Io(s[n],l,n);return Mn(a)?a(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,a=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,h=c.travellerWidth,A=c.startIndex,g=c.endIndex,v=c.onChange,x=n.pageX-s;x>0?x=Math.min(x,u+d-h-l,u+d-h-a):x<0&&(x=Math.max(x,u-a,u-l));var y=this.getIndex({startX:a+x,endX:l+x});(y.startIndex!==A||y.endIndex!==g)&&v&&v(y),this.setState({startX:a+x,endX:l+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=xZ(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[a],d=this.props,h=d.x,A=d.width,g=d.travellerWidth,v=d.onChange,x=d.gap,y=d.data,w={startX:this.state.startX,endX:this.state.endX},_=n.pageX-s;_>0?_=Math.min(_,h+A-g-u):_<0&&(_=Math.max(_,h-u)),w[a]=u+_;var E=this.getIndex(w),I=E.startIndex,N=E.endIndex,j=function(){var P=y.length-1;return a==="startX"&&(l>c?I%x===0:N%x===0)||l<c&&N===P||a==="endX"&&(l>c?N%x===0:I%x===0)||l>c&&N===P};this.setState(gu(gu({},a,u+_),"brushMoveStartX",n.pageX),function(){v&&j()&&v(E)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,a=this.state,l=a.scaleValues,c=a.startX,u=a.endX,d=this.state[i],h=l.indexOf(d);if(h!==-1){var A=h+n;if(!(A===-1||A>=l.length)){var g=l[A];i==="startX"&&g>=u||i==="endX"&&g<=c||this.setState(gu({},i,g),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,l=n.height,c=n.fill,u=n.stroke;return Me.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:a,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,h=C.Children.only(u);return h?Me.cloneElement(h,{x:i,y:s,width:a,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,a,l=this,c=this.props,u=c.y,d=c.travellerWidth,h=c.height,A=c.traveller,g=c.ariaLabel,v=c.data,x=c.startIndex,y=c.endIndex,w=Math.max(n,this.props.x),_=cP(cP({},En(this.props,!1)),{},{x:w,y:u,width:d,height:h}),E=g||"Min value: ".concat((s=v[x])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=v[y])===null||a===void 0?void 0:a.name);return Me.createElement(Ii,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(A,_))}},{key:"renderSlide",value:function(n,i){var s=this.props,a=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,i)+u,h=Math.max(Math.abs(i-n)-u,0);return Me.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:a,width:h,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,a=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,h=d.startX,A=d.endX,g=5,v={pointerEvents:"none",fill:u};return Me.createElement(Ii,{className:"recharts-brush-texts"},Me.createElement(Bm,F3({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,A)-g,y:a+l/2},v),this.getTextOfTick(i)),Me.createElement(Bm,F3({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,A)+c+g,y:a+l/2},v),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,a=n.children,l=n.x,c=n.y,u=n.width,d=n.height,h=n.alwaysShowText,A=this.state,g=A.startX,v=A.endX,x=A.isTextActive,y=A.isSlideMoving,w=A.isTravellerMoving,_=A.isTravellerFocused;if(!i||!i.length||!Cr(l)||!Cr(c)||!Cr(u)||!Cr(d)||u<=0||d<=0)return null;var E=qn("recharts-brush",s),I=Me.Children.count(a)===1,N=Tmt("userSelect","none");return Me.createElement(Ii,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),I&&this.renderPanorama(),this.renderSlide(g,v),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(v,"endX"),(x||y||w||_||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,a=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return Me.createElement(Me.Fragment,null,Me.createElement("rect",{x:i,y:s,width:a,height:l,fill:c,stroke:"none"}),Me.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),Me.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return Me.isValidElement(n)?s=Me.cloneElement(n,i):Mn(n)?s=n(i):s=t.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,a=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,h=n.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return cP({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:a},s&&s.length?Dmt({data:s,width:a,x:l,travellerWidth:c,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+a-c]);var A=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:a,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:A}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,a=0,l=s-1;l-a>1;){var c=Math.floor((a+l)/2);n[c]>i?l=c:a=c}return i>=n[l]?l:a}}])}(C.PureComponent);gu(Zv,"displayName","Brush");gu(Zv,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Lmt=D7;function Rmt(e,t){var r;return Lmt(e,function(n,i,s){return r=t(n,i,s),!r}),!!r}var Mmt=Rmt,Umt=zAe,Hmt=zp,Qmt=Mmt,$mt=tu,Vmt=SI;function zmt(e,t,r){var n=$mt(e)?Umt:Qmt;return r&&Vmt(e,t,r)&&(t=void 0),n(e,Hmt(t))}var Gmt=zmt;const Wmt=Gi(Gmt);var ch=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},vZ=f0e;function Kmt(e,t,r){t=="__proto__"&&vZ?vZ(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var qmt=Kmt,Xmt=qmt,Ymt=u0e,Zmt=zp;function Jmt(e,t){var r={};return t=Zmt(t),Ymt(e,function(n,i,s){Xmt(r,i,t(n,i,s))}),r}var e1t=Jmt;const t1t=Gi(e1t);function r1t(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var n1t=r1t,i1t=D7;function s1t(e,t){var r=!0;return i1t(e,function(n,i,s){return r=!!t(n,i,s),r}),r}var a1t=s1t,o1t=n1t,l1t=a1t,c1t=zp,u1t=tu,d1t=SI;function f1t(e,t,r){var n=u1t(e)?o1t:l1t;return r&&d1t(e,t,r)&&(t=void 0),n(e,c1t(t))}var h1t=f1t;const A1t=Gi(h1t);var p1t=["x","y"];function M_(e){"@babel/helpers - typeof";return M_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M_(e)}function QD(){return QD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QD.apply(this,arguments)}function yZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yZ(Object(r),!0).forEach(function(n){g1t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yZ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g1t(e,t,r){return t=m1t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m1t(e){var t=x1t(e,"string");return M_(t)=="symbol"?t:t+""}function x1t(e,t){if(M_(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(M_(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v1t(e,t){if(e==null)return{};var r=y1t(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y1t(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function w1t(e,t){var r=e.x,n=e.y,i=v1t(e,p1t),s="".concat(r),a=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||i.height),d=parseInt(u,10),h="".concat(t.width||i.width),A=parseInt(h,10);return Gw(Gw(Gw(Gw(Gw({},t),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:d,width:A,name:t.name,radius:t.radius})}function wZ(e){return Me.createElement(Gpe,QD({shapeType:"rectangle",propTransformer:w1t,activeClassName:"recharts-active-bar"},e))}var b1t=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var s=Cr(n)||WYe(n);return s?t(n,i):(s||km(),r)}},_1t=["value","background"],Zpe;function Jv(e){"@babel/helpers - typeof";return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jv(e)}function E1t(e,t){if(e==null)return{};var r=S1t(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function S1t(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function D3(){return D3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D3.apply(this,arguments)}function bZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function io(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bZ(Object(r),!0).forEach(function(n){U0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bZ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C1t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ege(n.key),n)}}function N1t(e,t,r){return t&&_Z(e.prototype,t),r&&_Z(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function T1t(e,t,r){return t=L3(t),B1t(e,Jpe()?Reflect.construct(t,r||[],L3(e).constructor):t.apply(e,r))}function B1t(e,t){if(t&&(Jv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I1t(e)}function I1t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jpe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jpe=function(){return!!e})()}function L3(e){return L3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},L3(e)}function k1t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$D(e,t)}function $D(e,t){return $D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$D(e,t)}function U0(e,t,r){return t=ege(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ege(e){var t=j1t(e,"string");return Jv(t)=="symbol"?t:t+""}function j1t(e,t){if(Jv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l1=function(e){function t(){var r;C1t(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=T1t(this,t,[].concat(i)),U0(r,"state",{isAnimationFinished:!1}),U0(r,"id",Yy("recharts-bar-")),U0(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),a&&a()}),U0(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),a&&a()}),r}return k1t(t,e),N1t(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,a=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=En(this.props,!1);return n&&n.map(function(h,A){var g=A===c,v=g?u:a,x=io(io(io({},d),h),{},{isActive:g,option:v,index:A,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Me.createElement(Ii,D3({className:"recharts-bar-rectangle"},Tm(i.props,h,A),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(A)}),Me.createElement(wZ,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,a=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,h=i.animationId,A=this.state.prevData;return Me.createElement(mh,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var v=g.t,x=s.map(function(y,w){var _=A&&A[w];if(_){var E=Hc(_.x,y.x),I=Hc(_.y,y.y),N=Hc(_.width,y.width),j=Hc(_.height,y.height);return io(io({},y),{},{x:E(v),y:I(v),width:N(v),height:j(v)})}if(a==="horizontal"){var T=Hc(0,y.height),P=T(v);return io(io({},y),{},{y:y.y+y.height-P,height:P})}var k=Hc(0,y.width),R=k(v);return io(io({},y),{},{width:R})});return Me.createElement(Ii,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!zv(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,a=i.dataKey,l=i.activeIndex,c=En(this.props.background,!1);return s.map(function(u,d){u.value;var h=u.background,A=E1t(u,_1t);if(!h)return null;var g=io(io(io(io(io({},A),{},{fill:"#eee"},h),c),Tm(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return Me.createElement(wZ,D3({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},g))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,h=vd(d,LI);if(!h)return null;var A=u==="vertical"?a[0].height/2:a[0].width/2,g=function(y,w){var _=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:_,errorVal:Io(y,w)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Me.createElement(Ii,v,h.map(function(x){return Me.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:a,xAxis:l,yAxis:c,layout:u,offset:A,dataPointFormatter:g})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,a=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,h=n.width,A=n.height,g=n.isAnimationActive,v=n.background,x=n.id;if(i||!s||!s.length)return null;var y=this.state.isAnimationFinished,w=qn("recharts-bar",a),_=l&&l.allowDataOverflow,E=c&&c.allowDataOverflow,I=_||E,N=Xn(x)?this.id:x;return Me.createElement(Ii,{className:w},_||E?Me.createElement("defs",null,Me.createElement("clipPath",{id:"clipPath-".concat(N)},Me.createElement("rect",{x:_?u:u-h/2,y:E?d:d-A/2,width:_?h:h*2,height:E?A:A*2}))):null,Me.createElement(Ii,{className:"recharts-bar-rectangles",clipPath:I?"url(#clipPath-".concat(N,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(I,N),(!g||y)&&AA.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(C.PureComponent);Zpe=l1;U0(l1,"displayName","Bar");U0(l1,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!oh.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});U0(l1,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,s=e.xAxis,a=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,h=e.displayedData,A=e.offset,g=pht(n,r);if(!g)return null;var v=t.layout,x=r.type.defaultProps,y=x!==void 0?io(io({},x),r.props):r.props,w=y.dataKey,_=y.children,E=y.minPointSize,I=v==="horizontal"?a:s,N=u?I.scale.domain():null,j=bht({numericAxis:I}),T=vd(_,CI),P=h.map(function(k,R){var O,M,H,K,Y,ne;u?O=ght(u[d+R],N):(O=Io(k,w),Array.isArray(O)||(O=[j,O]));var le=b1t(E,Zpe.defaultProps.minPointSize)(O[1],R);if(v==="horizontal"){var te,X=[a.scale(O[0]),a.scale(O[1])],ue=X[0],ve=X[1];M=fY({axis:s,ticks:l,bandSize:i,offset:g.offset,entry:k,index:R}),H=(te=ve??ue)!==null&&te!==void 0?te:void 0,K=g.size;var V=ue-ve;if(Y=Number.isNaN(V)?0:V,ne={x:M,y:a.y,width:K,height:a.height},Math.abs(le)>0&&Math.abs(Y)<Math.abs(le)){var q=mc(Y||le)*(Math.abs(le)-Math.abs(Y));H-=q,Y+=q}}else{var ee=[s.scale(O[0]),s.scale(O[1])],re=ee[0],de=ee[1];if(M=re,H=fY({axis:a,ticks:c,bandSize:i,offset:g.offset,entry:k,index:R}),K=de-re,Y=g.size,ne={x:s.x,y:H,width:s.width,height:Y},Math.abs(le)>0&&Math.abs(K)<Math.abs(le)){var Ae=mc(K||le)*(Math.abs(le)-Math.abs(K));K+=Ae}}return io(io(io({},k),{},{x:M,y:H,width:K,height:Y,value:u?O:O[1],payload:k,background:ne},T&&T[R]&&T[R].props),{},{tooltipPayload:[Npe(r,k)],tooltipPosition:{x:M+K/2,y:H+Y/2}})});return io({data:P,layout:v},A)});function U_(e){"@babel/helpers - typeof";return U_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U_(e)}function P1t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tge(n.key),n)}}function F1t(e,t,r){return t&&EZ(e.prototype,t),r&&EZ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function SZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SZ(Object(r),!0).forEach(function(n){zI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SZ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zI(e,t,r){return t=tge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tge(e){var t=O1t(e,"string");return U_(t)=="symbol"?t:t+""}function O1t(e,t){if(U_(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(U_(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rge=function(t,r,n,i,s){var a=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),h={left:n.left,leftMirror:n.left,right:a-n.right,rightMirror:a-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},A=!!xu(u,l1);return d.reduce(function(g,v){var x=r[v],y=x.orientation,w=x.domain,_=x.padding,E=_===void 0?{}:_,I=x.mirror,N=x.reversed,j="".concat(y).concat(I?"Mirror":""),T,P,k,R,O;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var M=w[1]-w[0],H=1/0,K=x.categoricalDomain.sort(XYe);if(K.forEach(function(ee,re){re>0&&(H=Math.min((ee||0)-(K[re-1]||0),H))}),Number.isFinite(H)){var Y=H/M,ne=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(T=Y*ne/2),x.padding==="no-gap"){var le=xc(t.barCategoryGap,Y*ne),te=Y*ne/2;T=te-le-(te-le)/ne*le}}}i==="xAxis"?P=[n.left+(E.left||0)+(T||0),n.left+n.width-(E.right||0)-(T||0)]:i==="yAxis"?P=c==="horizontal"?[n.top+n.height-(E.bottom||0),n.top+(E.top||0)]:[n.top+(E.top||0)+(T||0),n.top+n.height-(E.bottom||0)-(T||0)]:P=x.range,N&&(P=[P[1],P[0]]);var X=_pe(x,s,A),ue=X.scale,ve=X.realScaleType;ue.domain(w).range(P),Epe(ue);var V=Spe(ue,Xd(Xd({},x),{},{realScaleType:ve}));i==="xAxis"?(O=y==="top"&&!I||y==="bottom"&&I,k=n.left,R=h[j]-O*x.height):i==="yAxis"&&(O=y==="left"&&!I||y==="right"&&I,k=h[j]-O*x.width,R=n.top);var q=Xd(Xd(Xd({},x),V),{},{realScaleType:ve,x:k,y:R,scale:ue,width:i==="xAxis"?n.width:x.width,height:i==="yAxis"?n.height:x.height});return q.bandSize=w3(q,V),!x.hide&&i==="xAxis"?h[j]+=(O?-1:1)*q.height:x.hide||(h[j]+=(O?-1:1)*q.width),Xd(Xd({},g),{},zI({},v,q))},{})},nge=function(t,r){var n=t.x,i=t.y,s=r.x,a=r.y;return{x:Math.min(n,s),y:Math.min(i,a),width:Math.abs(s-n),height:Math.abs(a-i)}},D1t=function(t){var r=t.x1,n=t.y1,i=t.x2,s=t.y2;return nge({x:r,y:n},{x:i,y:s})},ige=function(){function e(t){P1t(this,e),this.scale=t}return F1t(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+a}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();zI(ige,"EPS",1e-4);var d9=function(t){var r=Object.keys(t).reduce(function(n,i){return Xd(Xd({},n),{},zI({},i,ige.create(t[i])))},{});return Xd(Xd({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,l=s.position;return t1t(i,function(c,u){return r[u].apply(c,{bandAware:a,position:l})})},isInRange:function(i){return A1t(i,function(s,a){return r[a].isInRange(s)})}})};function L1t(e){return(e%180+180)%180}var R1t=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=L1t(i),a=s*Math.PI/180,l=Math.atan(n/r),c=a>l&&a<Math.PI-l?n/Math.sin(a):r/Math.cos(a);return Math.abs(c)},M1t=YXe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),sge=C.createContext(void 0),age=C.createContext(void 0),oge=C.createContext(void 0),U1t=C.createContext({}),lge=C.createContext(void 0),cge=C.createContext(0),uge=C.createContext(0),CZ=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,a=t.clipPathId,l=t.children,c=t.width,u=t.height,d=M1t(s);return Me.createElement(sge.Provider,{value:n},Me.createElement(age.Provider,{value:i},Me.createElement(U1t.Provider,{value:s},Me.createElement(oge.Provider,{value:d},Me.createElement(lge.Provider,{value:a},Me.createElement(cge.Provider,{value:u},Me.createElement(uge.Provider,{value:c},l)))))))},H1t=function(){return C.useContext(lge)},dge=function(t){var r=C.useContext(sge);r==null&&km();var n=r[t];return n==null&&km(),n},fge=function(t){var r=C.useContext(age);r==null&&km();var n=r[t];return n==null&&km(),n},Q1t=function(){var t=C.useContext(oge);return t},hge=function(){return C.useContext(uge)},Age=function(){return C.useContext(cge)};function ey(e){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ey(e)}function $1t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V1t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gge(n.key),n)}}function z1t(e,t,r){return t&&V1t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function G1t(e,t,r){return t=R3(t),W1t(e,pge()?Reflect.construct(t,r||[],R3(e).constructor):t.apply(e,r))}function W1t(e,t){if(t&&(ey(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K1t(e)}function K1t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pge(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pge=function(){return!!e})()}function R3(e){return R3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},R3(e)}function q1t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VD(e,t)}function VD(e,t){return VD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VD(e,t)}function NZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function TZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NZ(Object(r),!0).forEach(function(n){f9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NZ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f9(e,t,r){return t=gge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gge(e){var t=X1t(e,"string");return ey(t)=="symbol"?t:t+""}function X1t(e,t){if(ey(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ey(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y1t(e,t){return txt(e)||ext(e,t)||J1t(e,t)||Z1t()}function Z1t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J1t(e,t){if(e){if(typeof e=="string")return BZ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BZ(e,t)}}function BZ(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ext(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function txt(e){if(Array.isArray(e))return e}function zD(){return zD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zD.apply(this,arguments)}var rxt=function(t,r){var n;return Me.isValidElement(t)?n=Me.cloneElement(t,r):Mn(t)?n=t(r):n=Me.createElement("line",zD({},r,{className:"recharts-reference-line-line"})),n},nxt=function(t,r,n,i,s,a,l,c,u){var d=s.x,h=s.y,A=s.width,g=s.height;if(n){var v=u.y,x=t.y.apply(v,{position:a});if(ch(u,"discard")&&!t.y.isInRange(x))return null;var y=[{x:d+A,y:x},{x:d,y:x}];return c==="left"?y.reverse():y}if(r){var w=u.x,_=t.x.apply(w,{position:a});if(ch(u,"discard")&&!t.x.isInRange(_))return null;var E=[{x:_,y:h+g},{x:_,y:h}];return l==="top"?E.reverse():E}if(i){var I=u.segment,N=I.map(function(j){return t.apply(j,{position:a})});return ch(u,"discard")&&Wmt(N,function(j){return!t.isInRange(j)})?null:N}return null};function ixt(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,s=e.yAxisId,a=e.shape,l=e.className,c=e.alwaysShow,u=H1t(),d=dge(i),h=fge(s),A=Q1t();if(!u||!A)return null;fA(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=d9({x:d.scale,y:h.scale}),v=Po(t),x=Po(r),y=n&&n.length===2,w=nxt(g,v,x,y,A,e.position,d.orientation,h.orientation,e);if(!w)return null;var _=Y1t(w,2),E=_[0],I=E.x,N=E.y,j=_[1],T=j.x,P=j.y,k=ch(e,"hidden")?"url(#".concat(u,")"):void 0,R=TZ(TZ({clipPath:k},En(e,!0)),{},{x1:I,y1:N,x2:T,y2:P});return Me.createElement(Ii,{className:qn("recharts-reference-line",l)},rxt(a,R),Jo.renderCallByParent(e,D1t({x1:I,y1:N,x2:T,y2:P})))}var h9=function(e){function t(){return $1t(this,t),G1t(this,t,arguments)}return q1t(t,e),z1t(t,[{key:"render",value:function(){return Me.createElement(ixt,this.props)}}])}(Me.Component);f9(h9,"displayName","ReferenceLine");f9(h9,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function GD(){return GD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GD.apply(this,arguments)}function ty(e){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ty(e)}function IZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IZ(Object(r),!0).forEach(function(n){GI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IZ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sxt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function axt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xge(n.key),n)}}function oxt(e,t,r){return t&&axt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lxt(e,t,r){return t=M3(t),cxt(e,mge()?Reflect.construct(t,r||[],M3(e).constructor):t.apply(e,r))}function cxt(e,t){if(t&&(ty(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uxt(e)}function uxt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mge(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mge=function(){return!!e})()}function M3(e){return M3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},M3(e)}function dxt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WD(e,t)}function WD(e,t){return WD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},WD(e,t)}function GI(e,t,r){return t=xge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xge(e){var t=fxt(e,"string");return ty(t)=="symbol"?t:t+""}function fxt(e,t){if(ty(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ty(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hxt=function(t){var r=t.x,n=t.y,i=t.xAxis,s=t.yAxis,a=d9({x:i.scale,y:s.scale}),l=a.apply({x:r,y:n},{bandAware:!0});return ch(t,"discard")&&!a.isInRange(l)?null:l},WI=function(e){function t(){return sxt(this,t),lxt(this,t,arguments)}return dxt(t,e),oxt(t,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,a=n.r,l=n.alwaysShow,c=n.clipPathId,u=Po(i),d=Po(s);if(fA(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var h=hxt(this.props);if(!h)return null;var A=h.x,g=h.y,v=this.props,x=v.shape,y=v.className,w=ch(this.props,"hidden")?"url(#".concat(c,")"):void 0,_=kZ(kZ({clipPath:w},En(this.props,!0)),{},{cx:A,cy:g});return Me.createElement(Ii,{className:qn("recharts-reference-dot",y)},t.renderDot(x,_),Jo.renderCallByParent(this.props,{x:A-a,y:g-a,width:2*a,height:2*a}))}}])}(Me.Component);GI(WI,"displayName","ReferenceDot");GI(WI,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});GI(WI,"renderDot",function(e,t){var r;return Me.isValidElement(e)?r=Me.cloneElement(e,t):Mn(e)?r=e(t):r=Me.createElement(RI,GD({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function KD(){return KD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KD.apply(this,arguments)}function ry(e){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ry(e)}function jZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function PZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jZ(Object(r),!0).forEach(function(n){KI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jZ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Axt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pxt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yge(n.key),n)}}function gxt(e,t,r){return t&&pxt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mxt(e,t,r){return t=U3(t),xxt(e,vge()?Reflect.construct(t,r||[],U3(e).constructor):t.apply(e,r))}function xxt(e,t){if(t&&(ry(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vxt(e)}function vxt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vge(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vge=function(){return!!e})()}function U3(e){return U3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},U3(e)}function yxt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qD(e,t)}function qD(e,t){return qD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qD(e,t)}function KI(e,t,r){return t=yge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yge(e){var t=wxt(e,"string");return ry(t)=="symbol"?t:t+""}function wxt(e,t){if(ry(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ry(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bxt=function(t,r,n,i,s){var a=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,h=s.yAxis;if(!d||!h)return null;var A=d9({x:d.scale,y:h.scale}),g={x:t?A.x.apply(a,{position:"start"}):A.x.rangeMin,y:n?A.y.apply(c,{position:"start"}):A.y.rangeMin},v={x:r?A.x.apply(l,{position:"end"}):A.x.rangeMax,y:i?A.y.apply(u,{position:"end"}):A.y.rangeMax};return ch(s,"discard")&&(!A.isInRange(g)||!A.isInRange(v))?null:nge(g,v)},qI=function(e){function t(){return Axt(this,t),mxt(this,t,arguments)}return yxt(t,e),gxt(t,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,a=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;fA(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Po(i),A=Po(s),g=Po(a),v=Po(l),x=this.props.shape;if(!h&&!A&&!g&&!v&&!x)return null;var y=bxt(h,A,g,v,this.props);if(!y&&!x)return null;var w=ch(this.props,"hidden")?"url(#".concat(d,")"):void 0;return Me.createElement(Ii,{className:qn("recharts-reference-area",c)},t.renderRect(x,PZ(PZ({clipPath:w},En(this.props,!0)),y)),Jo.renderCallByParent(this.props,y))}}])}(Me.Component);KI(qI,"displayName","ReferenceArea");KI(qI,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});KI(qI,"renderRect",function(e,t){var r;return Me.isValidElement(e)?r=Me.cloneElement(e,t):Mn(e)?r=e(t):r=Me.createElement(u9,KD({},t,{className:"recharts-reference-area-rect"})),r});function wge(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function _xt(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return R1t(n,r)}function Ext(e,t,r){var n=r==="width",i=e.x,s=e.y,a=e.width,l=e.height;return t===1?{start:n?i:s,end:n?i+a:s+l}:{start:n?i+a:s+l,end:n?i:s}}function H3(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function Sxt(e,t){return wge(e,t+1)}function Cxt(e,t,r,n,i){for(var s=(n||[]).slice(),a=t.start,l=t.end,c=0,u=1,d=a,h=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:wge(n,u)};var x=c,y,w=function(){return y===void 0&&(y=r(v,x)),y},_=v.coordinate,E=c===0||H3(e,_,w,d,l);E||(c=0,d=a,u+=1),E&&(d=_+e*(w()/2+i),c+=u)},A;u<=s.length;)if(A=h(),A)return A.v;return[]}function H_(e){"@babel/helpers - typeof";return H_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H_(e)}function FZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ml(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FZ(Object(r),!0).forEach(function(n){Nxt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FZ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nxt(e,t,r){return t=Txt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Txt(e){var t=Bxt(e,"string");return H_(t)=="symbol"?t:t+""}function Bxt(e,t){if(H_(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(H_(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ixt(e,t,r,n,i){for(var s=(n||[]).slice(),a=s.length,l=t.start,c=t.end,u=function(A){var g=s[A],v,x=function(){return v===void 0&&(v=r(g,A)),v};if(A===a-1){var y=e*(g.coordinate+e*x()/2-c);s[A]=g=Ml(Ml({},g),{},{tickCoord:y>0?g.coordinate-y*e:g.coordinate})}else s[A]=g=Ml(Ml({},g),{},{tickCoord:g.coordinate});var w=H3(e,g.tickCoord,x,l,c);w&&(c=g.tickCoord-e*(x()/2+i),s[A]=Ml(Ml({},g),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return s}function kxt(e,t,r,n,i,s){var a=(n||[]).slice(),l=a.length,c=t.start,u=t.end;if(s){var d=n[l-1],h=r(d,l-1),A=e*(d.coordinate+e*h/2-u);a[l-1]=d=Ml(Ml({},d),{},{tickCoord:A>0?d.coordinate-A*e:d.coordinate});var g=H3(e,d.tickCoord,function(){return h},c,u);g&&(u=d.tickCoord-e*(h/2+i),a[l-1]=Ml(Ml({},d),{},{isShow:!0}))}for(var v=s?l-1:l,x=function(_){var E=a[_],I,N=function(){return I===void 0&&(I=r(E,_)),I};if(_===0){var j=e*(E.coordinate-e*N()/2-c);a[_]=E=Ml(Ml({},E),{},{tickCoord:j<0?E.coordinate-j*e:E.coordinate})}else a[_]=E=Ml(Ml({},E),{},{tickCoord:E.coordinate});var T=H3(e,E.tickCoord,N,c,u);T&&(c=E.tickCoord+e*(N()/2+i),a[_]=Ml(Ml({},E),{},{isShow:!0}))},y=0;y<v;y++)x(y);return a}function jxt(e,t,r){var n=e.tick,i=e.ticks,s=e.viewBox,a=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,h=e.angle;if(!i||!i.length||!n)return[];if(Cr(c)||oh.isSsr)return Sxt(i,typeof c=="number"&&Cr(c)?c:0);var A=[],g=l==="top"||l==="bottom"?"width":"height",v=d&&g==="width"?J2(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=function(E,I){var N=Mn(u)?u(E.value,I):E.value;return g==="width"?_xt(J2(N,{fontSize:t,letterSpacing:r}),v,h):J2(N,{fontSize:t,letterSpacing:r})[g]},y=i.length>=2?mc(i[1].coordinate-i[0].coordinate):1,w=Ext(s,y,g);return c==="equidistantPreserveStart"?Cxt(y,w,x,i,a):(c==="preserveStart"||c==="preserveStartEnd"?A=kxt(y,w,x,i,a,c==="preserveStartEnd"):A=Ixt(y,w,x,i,a),A.filter(function(_){return _.isShow}))}var Pxt=["viewBox"],Fxt=["viewBox"],Oxt=["ticks"];function ny(e){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ny(e)}function bx(){return bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bx.apply(this,arguments)}function OZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Co(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OZ(Object(r),!0).forEach(function(n){A9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OZ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uP(e,t){if(e==null)return{};var r=Dxt(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dxt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Lxt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_ge(n.key),n)}}function Rxt(e,t,r){return t&&DZ(e.prototype,t),r&&DZ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mxt(e,t,r){return t=Q3(t),Uxt(e,bge()?Reflect.construct(t,r||[],Q3(e).constructor):t.apply(e,r))}function Uxt(e,t){if(t&&(ny(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hxt(e)}function Hxt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bge(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bge=function(){return!!e})()}function Q3(e){return Q3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Q3(e)}function Qxt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XD(e,t)}function XD(e,t){return XD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},XD(e,t)}function A9(e,t,r){return t=_ge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ge(e){var t=$xt(e,"string");return ny(t)=="symbol"?t:t+""}function $xt(e,t){if(ny(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ny(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XI=function(e){function t(r){var n;return Lxt(this,t),n=Mxt(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Qxt(t,e),Rxt(t,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,a=uP(n,Pxt),l=this.props,c=l.viewBox,u=uP(l,Fxt);return!Wx(s,c)||!Wx(a,u)||!Wx(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,a=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,h=i.mirror,A=i.tickMargin,g,v,x,y,w,_,E=h?-1:1,I=n.tickSize||d,N=Cr(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":g=v=n.coordinate,y=a+ +!h*c,x=y-E*I,_=x-E*A,w=N;break;case"left":x=y=n.coordinate,v=s+ +!h*l,g=v-E*I,w=g-E*A,_=N;break;case"right":x=y=n.coordinate,v=s+ +h*l,g=v+E*I,w=g+E*A,_=N;break;default:g=v=n.coordinate,y=a+ +h*c,x=y+E*I,_=x+E*A,w=N;break}return{line:{x1:g,y1:x,x2:v,y2:y},tick:{x:w,y:_}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,h=Co(Co(Co({},En(this.props,!1)),En(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var A=+(c==="top"&&!u||c==="bottom"&&u);h=Co(Co({},h),{},{x1:i,y1:s+A*l,x2:i+a,y2:s+A*l})}else{var g=+(c==="left"&&!u||c==="right"&&u);h=Co(Co({},h),{},{x1:i+g*a,y1:s,x2:i+g*a,y2:s+l})}return Me.createElement("line",bx({},h,{className:qn("recharts-cartesian-axis-line",Ou(d,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var a=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,h=l.tickFormatter,A=l.unit,g=jxt(Co(Co({},this.props),{},{ticks:n}),i,s),v=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),y=En(this.props,!1),w=En(d,!1),_=Co(Co({},y),{},{fill:"none"},En(c,!1)),E=g.map(function(I,N){var j=a.getTickLineCoord(I),T=j.line,P=j.tick,k=Co(Co(Co(Co({textAnchor:v,verticalAnchor:x},y),{},{stroke:"none",fill:u},w),P),{},{index:N,payload:I,visibleTicksCount:g.length,tickFormatter:h});return Me.createElement(Ii,bx({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},Tm(a.props,I,N)),c&&Me.createElement("line",bx({},_,T,{className:qn("recharts-cartesian-axis-tick-line",Ou(c,"className"))})),d&&t.renderTickItem(d,k,"".concat(Mn(h)?h(I.value,N):I.value).concat(A||"")))});return Me.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,a=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var h=this.props,A=h.ticks,g=uP(h,Oxt),v=A;return Mn(c)&&(v=A&&A.length>0?c(this.props):c(g)),a<=0||l<=0||!v||!v.length?null:Me.createElement(Ii,{className:qn("recharts-cartesian-axis",u),ref:function(y){n.layerReference=y}},s&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Jo.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var a,l=qn(i.className,"recharts-cartesian-axis-tick-value");return Me.isValidElement(n)?a=Me.cloneElement(n,Co(Co({},i),{},{className:l})):Mn(n)?a=n(Co(Co({},i),{},{className:l})):a=Me.createElement(Bm,bx({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])}(C.Component);A9(XI,"displayName","CartesianAxis");A9(XI,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Vxt=["layout","type","stroke","connectNulls","isRange","ref"],zxt=["key"],Ege;function iy(e){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iy(e)}function Sge(e,t){if(e==null)return{};var r=Gxt(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gxt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Og(){return Og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Og.apply(this,arguments)}function LZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function l0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LZ(Object(r),!0).forEach(function(n){Kf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LZ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wxt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Nge(n.key),n)}}function Kxt(e,t,r){return t&&RZ(e.prototype,t),r&&RZ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qxt(e,t,r){return t=$3(t),Xxt(e,Cge()?Reflect.construct(t,r||[],$3(e).constructor):t.apply(e,r))}function Xxt(e,t){if(t&&(iy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yxt(e)}function Yxt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cge(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cge=function(){return!!e})()}function $3(e){return $3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$3(e)}function Zxt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YD(e,t)}function YD(e,t){return YD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YD(e,t)}function Kf(e,t,r){return t=Nge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nge(e){var t=Jxt(e,"string");return iy(t)=="symbol"?t:t+""}function Jxt(e,t){if(iy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(iy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qp=function(e){function t(){var r;Wxt(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=qxt(this,t,[].concat(i)),Kf(r,"state",{isAnimationFinished:!0}),Kf(r,"id",Yy("recharts-area-")),Kf(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Mn(a)&&a()}),Kf(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Mn(a)&&a()}),r}return Zxt(t,e),Kxt(t,[{key:"renderDots",value:function(n,i,s){var a=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(a&&!l)return null;var c=this.props,u=c.dot,d=c.points,h=c.dataKey,A=En(this.props,!1),g=En(u,!0),v=d.map(function(y,w){var _=l0(l0(l0({key:"dot-".concat(w),r:3},A),g),{},{index:w,cx:y.x,cy:y.y,dataKey:h,value:y.value,payload:y.payload,points:d});return t.renderDotItem(u,_)}),x={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return Me.createElement(Ii,Og({className:"recharts-area-dots"},x),v)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,s=i.baseLine,a=i.points,l=i.strokeWidth,c=a[0].x,u=a[a.length-1].x,d=n*Math.abs(c-u),h=M0(a.map(function(A){return A.y||0}));return Cr(s)&&typeof s=="number"?h=Math.max(s,h):s&&Array.isArray(s)&&s.length&&(h=Math.max(M0(s.map(function(A){return A.y||0})),h)),Cr(h)?Me.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,s=i.baseLine,a=i.points,l=i.strokeWidth,c=a[0].y,u=a[a.length-1].y,d=n*Math.abs(c-u),h=M0(a.map(function(A){return A.x||0}));return Cr(s)&&typeof s=="number"?h=Math.max(s,h):s&&Array.isArray(s)&&s.length&&(h=Math.max(M0(s.map(function(A){return A.x||0})),h)),Cr(h)?Me.createElement("rect",{x:0,y:c<u?c:c-d,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,s,a){var l=this.props,c=l.layout,u=l.type,d=l.stroke,h=l.connectNulls,A=l.isRange;l.ref;var g=Sge(l,Vxt);return Me.createElement(Ii,{clipPath:s?"url(#clipPath-".concat(a,")"):null},Me.createElement(Yx,Og({},En(g,!0),{points:n,connectNulls:h,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&Me.createElement(Yx,Og({},En(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:n})),d!=="none"&&A&&Me.createElement(Yx,Og({},En(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var s=this,a=this.props,l=a.points,c=a.baseLine,u=a.isAnimationActive,d=a.animationBegin,h=a.animationDuration,A=a.animationEasing,g=a.animationId,v=this.state,x=v.prevPoints,y=v.prevBaseLine;return Me.createElement(mh,{begin:d,duration:h,isActive:u,easing:A,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var _=w.t;if(x){var E=x.length/l.length,I=l.map(function(P,k){var R=Math.floor(k*E);if(x[R]){var O=x[R],M=Hc(O.x,P.x),H=Hc(O.y,P.y);return l0(l0({},P),{},{x:M(_),y:H(_)})}return P}),N;if(Cr(c)&&typeof c=="number"){var j=Hc(y,c);N=j(_)}else if(Xn(c)||Xy(c)){var T=Hc(y,0);N=T(_)}else N=c.map(function(P,k){var R=Math.floor(k*E);if(y[R]){var O=y[R],M=Hc(O.x,P.x),H=Hc(O.y,P.y);return l0(l0({},P),{},{x:M(_),y:H(_)})}return P});return s.renderAreaStatically(I,N,n,i)}return Me.createElement(Ii,null,Me.createElement("defs",null,Me.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(_))),Me.createElement(Ii,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(l,c,n,i)))})}},{key:"renderArea",value:function(n,i){var s=this.props,a=s.points,l=s.baseLine,c=s.isAnimationActive,u=this.state,d=u.prevPoints,h=u.prevBaseLine,A=u.totalLength;return c&&a&&a.length&&(!d&&A>0||!zv(d,a)||!zv(h,l))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(a,l,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,a=i.dot,l=i.points,c=i.className,u=i.top,d=i.left,h=i.xAxis,A=i.yAxis,g=i.width,v=i.height,x=i.isAnimationActive,y=i.id;if(s||!l||!l.length)return null;var w=this.state.isAnimationFinished,_=l.length===1,E=qn("recharts-area",c),I=h&&h.allowDataOverflow,N=A&&A.allowDataOverflow,j=I||N,T=Xn(y)?this.id:y,P=(n=En(a,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},k=P.r,R=k===void 0?3:k,O=P.strokeWidth,M=O===void 0?2:O,H=sZe(a)?a:{},K=H.clipDot,Y=K===void 0?!0:K,ne=R*2+M;return Me.createElement(Ii,{className:E},I||N?Me.createElement("defs",null,Me.createElement("clipPath",{id:"clipPath-".concat(T)},Me.createElement("rect",{x:I?d:d-g/2,y:N?u:u-v/2,width:I?g:g*2,height:N?v:v*2})),!Y&&Me.createElement("clipPath",{id:"clipPath-dots-".concat(T)},Me.createElement("rect",{x:d-ne/2,y:u-ne/2,width:g+ne,height:v+ne}))):null,_?null:this.renderArea(j,T),(a||_)&&this.renderDots(j,Y,T),(!x||w)&&AA.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(C.PureComponent);Ege=qp;Kf(qp,"displayName","Area");Kf(qp,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!oh.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Kf(qp,"getBaseValue",function(e,t,r,n){var i=e.layout,s=e.baseValue,a=t.props.baseValue,l=a??s;if(Cr(l)&&typeof l=="number")return l;var c=i==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return l==="dataMin"?h:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Kf(qp,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,i=e.yAxis,s=e.xAxisTicks,a=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,h=e.displayedData,A=e.offset,g=t.layout,v=u&&u.length,x=Ege.getBaseValue(t,r,n,i),y=g==="horizontal",w=!1,_=h.map(function(I,N){var j;v?j=u[d+N]:(j=Io(I,c),Array.isArray(j)?w=!0:j=[x,j]);var T=j[1]==null||v&&Io(I,c)==null;return y?{x:dY({axis:n,ticks:s,bandSize:l,entry:I,index:N}),y:T?null:i.scale(j[1]),value:j,payload:I}:{x:T?null:n.scale(j[1]),y:dY({axis:i,ticks:a,bandSize:l,entry:I,index:N}),value:j,payload:I}}),E;return v||w?E=_.map(function(I){var N=Array.isArray(I.value)?I.value[0]:null;return y?{x:I.x,y:N!=null&&I.y!=null?i.scale(N):null}:{x:N!=null?n.scale(N):null,y:I.y}}):E=y?i.scale(x):n.scale(x),l0({points:_,baseLine:E,layout:g,isRange:w},A)});Kf(qp,"renderDotItem",function(e,t){var r;if(Me.isValidElement(e))r=Me.cloneElement(e,t);else if(Mn(e))r=e(t);else{var n=qn("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,s=Sge(t,zxt);r=Me.createElement(RI,Og({},s,{key:i,className:n}))}return r});function sy(e){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sy(e)}function evt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tvt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ige(n.key),n)}}function rvt(e,t,r){return t&&tvt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nvt(e,t,r){return t=V3(t),ivt(e,Tge()?Reflect.construct(t,r||[],V3(e).constructor):t.apply(e,r))}function ivt(e,t){if(t&&(sy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return svt(e)}function svt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tge(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tge=function(){return!!e})()}function V3(e){return V3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},V3(e)}function avt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZD(e,t)}function ZD(e,t){return ZD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZD(e,t)}function Bge(e,t,r){return t=Ige(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ige(e){var t=ovt(e,"string");return sy(t)=="symbol"?t:t+""}function ovt(e,t){if(sy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JD(){return JD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JD.apply(this,arguments)}function lvt(e){var t=e.xAxisId,r=hge(),n=Age(),i=dge(t);return i==null?null:C.createElement(XI,JD({},i,{className:qn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(a){return Fg(a,!0)}}))}var ay=function(e){function t(){return evt(this,t),nvt(this,t,arguments)}return avt(t,e),rvt(t,[{key:"render",value:function(){return C.createElement(lvt,this.props)}}])}(C.Component);Bge(ay,"displayName","XAxis");Bge(ay,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function oy(e){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oy(e)}function cvt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uvt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pge(n.key),n)}}function dvt(e,t,r){return t&&uvt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fvt(e,t,r){return t=z3(t),hvt(e,kge()?Reflect.construct(t,r||[],z3(e).constructor):t.apply(e,r))}function hvt(e,t){if(t&&(oy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Avt(e)}function Avt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kge(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kge=function(){return!!e})()}function z3(e){return z3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},z3(e)}function pvt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eL(e,t)}function eL(e,t){return eL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eL(e,t)}function jge(e,t,r){return t=Pge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pge(e){var t=gvt(e,"string");return oy(t)=="symbol"?t:t+""}function gvt(e,t){if(oy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(oy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tL(){return tL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tL.apply(this,arguments)}var mvt=function(t){var r=t.yAxisId,n=hge(),i=Age(),s=fge(r);return s==null?null:C.createElement(XI,tL({},s,{className:qn("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return Fg(l,!0)}}))},YI=function(e){function t(){return cvt(this,t),fvt(this,t,arguments)}return pvt(t,e),dvt(t,[{key:"render",value:function(){return C.createElement(mvt,this.props)}}])}(C.Component);jge(YI,"displayName","YAxis");jge(YI,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function MZ(e){return wvt(e)||yvt(e)||vvt(e)||xvt()}function xvt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vvt(e,t){if(e){if(typeof e=="string")return rL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rL(e,t)}}function yvt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wvt(e){if(Array.isArray(e))return rL(e)}function rL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var nL=function(t,r,n,i,s){var a=vd(t,h9),l=vd(t,WI),c=[].concat(MZ(a),MZ(l)),u=vd(t,qI),d="".concat(i,"Id"),h=i[0],A=r;if(c.length&&(A=c.reduce(function(x,y){if(y.props[d]===n&&ch(y.props,"extendDomain")&&Cr(y.props[h])){var w=y.props[h];return[Math.min(x[0],w),Math.max(x[1],w)]}return x},A)),u.length){var g="".concat(h,"1"),v="".concat(h,"2");A=u.reduce(function(x,y){if(y.props[d]===n&&ch(y.props,"extendDomain")&&Cr(y.props[g])&&Cr(y.props[v])){var w=y.props[g],_=y.props[v];return[Math.min(x[0],w,_),Math.max(x[1],w,_)]}return x},A)}return s&&s.length&&(A=s.reduce(function(x,y){return Cr(y)?[Math.min(x[0],y),Math.max(x[1],y)]:x},A)),A},Fge={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,h,A){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,h||c,A),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],g]:c._events[v].push(g):(c._events[v]=g,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)t.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var A=0,g=h.length,v=new Array(g);A<g;A++)v[A]=h[A].fn;return v},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,A,g,v){var x=r?r+u:u;if(!this._events[x])return!1;var y=this._events[x],w=arguments.length,_,E;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,h),!0;case 4:return y.fn.call(y.context,d,h,A),!0;case 5:return y.fn.call(y.context,d,h,A,g),!0;case 6:return y.fn.call(y.context,d,h,A,g,v),!0}for(E=1,_=new Array(w-1);E<w;E++)_[E-1]=arguments[E];y.fn.apply(y.context,_)}else{var I=y.length,N;for(E=0;E<I;E++)switch(y[E].once&&this.removeListener(u,y[E].fn,void 0,!0),w){case 1:y[E].fn.call(y[E].context);break;case 2:y[E].fn.call(y[E].context,d);break;case 3:y[E].fn.call(y[E].context,d,h);break;case 4:y[E].fn.call(y[E].context,d,h,A);break;default:if(!_)for(N=1,_=new Array(w-1);N<w;N++)_[N-1]=arguments[N];y[E].fn.apply(y[E].context,_)}}return!0},l.prototype.on=function(u,d,h){return s(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return s(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,A){var g=r?r+u:u;if(!this._events[g])return this;if(!d)return a(this,g),this;var v=this._events[g];if(v.fn)v.fn===d&&(!A||v.once)&&(!h||v.context===h)&&a(this,g);else{for(var x=0,y=[],w=v.length;x<w;x++)(v[x].fn!==d||A&&!v[x].once||h&&v[x].context!==h)&&y.push(v[x]);y.length?this._events[g]=y.length===1?y[0]:y:a(this,g)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(Fge);var bvt=Fge.exports;const _vt=Gi(bvt);var dP=new _vt,fP="recharts.syncMouseEvents";function Q_(e){"@babel/helpers - typeof";return Q_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q_(e)}function Evt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Svt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Oge(n.key),n)}}function Cvt(e,t,r){return t&&Svt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hP(e,t,r){return t=Oge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oge(e){var t=Nvt(e,"string");return Q_(t)=="symbol"?t:t+""}function Nvt(e,t){if(Q_(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Q_(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Tvt=function(){function e(){Evt(this,e),hP(this,"activeIndex",0),hP(this,"coordinateList",[]),hP(this,"layout","horizontal")}return Cvt(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,a=r.container,l=a===void 0?null:a,c=r.layout,u=c===void 0?null:c,d=r.offset,h=d===void 0?null:d,A=r.mouseHandlerCallback,g=A===void 0?null:A;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=s+c+u,A=a+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:h,pageY:A})}}}])}();function Bvt(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&Cr(n)&&Cr(i))return!0}return!1}function Ivt(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Dge(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,s=e.endAngle,a=ks(t,r,n,i),l=ks(t,r,n,s);return{points:[a,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function kvt(e,t,r){var n,i,s,a;if(e==="horizontal")n=t.x,s=n,i=r.top,a=r.top+r.height;else if(e==="vertical")i=t.y,a=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,h=t.angle,A=ks(l,c,u,h),g=ks(l,c,d,h);n=A.x,i=A.y,s=g.x,a=g.y}else return Dge(t);return[{x:n,y:i},{x:s,y:a}]}function $_(e){"@babel/helpers - typeof";return $_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$_(e)}function UZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UZ(Object(r),!0).forEach(function(n){jvt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UZ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jvt(e,t,r){return t=Pvt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pvt(e){var t=Fvt(e,"string");return $_(t)=="symbol"?t:t+""}function Fvt(e,t){if($_(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($_(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ovt(e){var t,r,n=e.element,i=e.tooltipEventType,s=e.isActive,a=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,h=e.layout,A=e.chartName,g=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!g||!s||!a||A!=="ScatterChart"&&i!=="axis")return null;var v,x=Yx;if(A==="ScatterChart")v=a,x=Fpt;else if(A==="BarChart")v=Ivt(h,a,c,d),x=u9;else if(h==="radial"){var y=Dge(a),w=y.cx,_=y.cy,E=y.radius,I=y.startAngle,N=y.endAngle;v={cx:w,cy:_,startAngle:I,endAngle:N,innerRadius:E,outerRadius:E},x=Ppe}else v={points:kvt(h,a,c)},x=Yx;var j=dN(dN(dN(dN({stroke:"#ccc",pointerEvents:"none"},c),v),En(g,!1)),{},{payload:l,payloadIndex:u,className:qn("recharts-tooltip-cursor",g.className)});return C.isValidElement(g)?C.cloneElement(g,j):C.createElement(x,j)}var Dvt=["item"],Lvt=["children","className","width","height","style","compact","title","desc"];function ly(e){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ly(e)}function _x(){return _x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_x.apply(this,arguments)}function HZ(e,t){return Uvt(e)||Mvt(e,t)||Rge(e,t)||Rvt()}function Rvt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mvt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function Uvt(e){if(Array.isArray(e))return e}function QZ(e,t){if(e==null)return{};var r=Hvt(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hvt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qvt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $vt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mge(n.key),n)}}function Vvt(e,t,r){return t&&$vt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zvt(e,t,r){return t=G3(t),Gvt(e,Lge()?Reflect.construct(t,r||[],G3(e).constructor):t.apply(e,r))}function Gvt(e,t){if(t&&(ly(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wvt(e)}function Wvt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lge(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lge=function(){return!!e})()}function G3(e){return G3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G3(e)}function Kvt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iL(e,t)}function iL(e,t){return iL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iL(e,t)}function cy(e){return Yvt(e)||Xvt(e)||Rge(e)||qvt()}function qvt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rge(e,t){if(e){if(typeof e=="string")return sL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sL(e,t)}}function Xvt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yvt(e){if(Array.isArray(e))return sL(e)}function sL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$Z(Object(r),!0).forEach(function(n){Nn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$Z(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nn(e,t,r){return t=Mge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mge(e){var t=Zvt(e,"string");return ly(t)=="symbol"?t:t+""}function Zvt(e,t){if(ly(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ly(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jvt={xAxis:["bottom","top"],yAxis:["left","right"]},eyt={width:"100%",height:"100%"},Uge={x:0,y:0};function fN(e){return e}var tyt=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},ryt=function(t,r,n,i){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:s.coordinate};if(t==="centric"){var a=s.coordinate,l=i.radius;return Lt(Lt(Lt({},i),ks(i.cx,i.cy,l,a)),{},{angle:a,radius:l})}var c=s.coordinate,u=i.angle;return Lt(Lt(Lt({},i),ks(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return Uge},ZI=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,a=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(cy(l),cy(u)):l},[]);return a.length>0?a:t&&t.length&&Cr(i)&&Cr(s)?t.slice(i,s+1):[]};function Hge(e){return e==="number"?[0,"auto"]:void 0}var aL=function(t,r,n,i){var s=t.graphicalItems,a=t.tooltipAxis,l=ZI(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,h=(d=u.props.data)!==null&&d!==void 0?d:r;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var A;if(a.dataKey&&!a.allowDuplicatedCategory){var g=h===void 0?l:h;A=W5(g,a.dataKey,i)}else A=h&&h[n]||l[n];return A?[].concat(cy(c),[Npe(u,A)]):c},[])},VZ=function(t,r,n,i){var s=i||{x:t.chartX,y:t.chartY},a=tyt(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=cht(a,l,u,c);if(d>=0&&u){var h=u[d]&&u[d].value,A=aL(t,r,d,h),g=ryt(n,l,d,s);return{activeTooltipIndex:d,activeLabel:h,activePayload:A,activeCoordinate:g}}return null},nyt=function(t,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,a=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,h=t.children,A=t.stackOffset,g=bpe(d,s);return n.reduce(function(v,x){var y,w=x.type.defaultProps!==void 0?Lt(Lt({},x.type.defaultProps),x.props):x.props,_=w.type,E=w.dataKey,I=w.allowDataOverflow,N=w.allowDuplicatedCategory,j=w.scale,T=w.ticks,P=w.includeHidden,k=w[a];if(v[k])return v;var R=ZI(t.data,{graphicalItems:i.filter(function(V){var q,ee=a in V.props?V.props[a]:(q=V.type.defaultProps)===null||q===void 0?void 0:q[a];return ee===k}),dataStartIndex:c,dataEndIndex:u}),O=R.length,M,H,K;Bvt(w.domain,I,_)&&(M=wD(w.domain,null,I),g&&(_==="number"||j!=="auto")&&(K=tb(R,E,"category")));var Y=Hge(_);if(!M||M.length===0){var ne,le=(ne=w.domain)!==null&&ne!==void 0?ne:Y;if(E){if(M=tb(R,E,_),_==="category"&&g){var te=qYe(M);N&&te?(H=M,M=P3(0,O)):N||(M=pY(le,M,x).reduce(function(V,q){return V.indexOf(q)>=0?V:[].concat(cy(V),[q])},[]))}else if(_==="category")N?M=M.filter(function(V){return V!==""&&!Xn(V)}):M=pY(le,M,x).reduce(function(V,q){return V.indexOf(q)>=0||q===""||Xn(q)?V:[].concat(cy(V),[q])},[]);else if(_==="number"){var X=Aht(R,i.filter(function(V){var q,ee,re=a in V.props?V.props[a]:(q=V.type.defaultProps)===null||q===void 0?void 0:q[a],de="hide"in V.props?V.props.hide:(ee=V.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return re===k&&(P||!de)}),E,s,d);X&&(M=X)}g&&(_==="number"||j!=="auto")&&(K=tb(R,E,"category"))}else g?M=P3(0,O):l&&l[k]&&l[k].hasStack&&_==="number"?M=A==="expand"?[0,1]:Cpe(l[k].stackGroups,c,u):M=wpe(R,i.filter(function(V){var q=a in V.props?V.props[a]:V.type.defaultProps[a],ee="hide"in V.props?V.props.hide:V.type.defaultProps.hide;return q===k&&(P||!ee)}),_,d,!0);if(_==="number")M=nL(h,M,k,s,T),le&&(M=wD(le,M,I));else if(_==="category"&&le){var ue=le,ve=M.every(function(V){return ue.indexOf(V)>=0});ve&&(M=ue)}}return Lt(Lt({},v),{},Nn({},k,Lt(Lt({},w),{},{axisType:s,domain:M,categoricalDomain:K,duplicateDomain:H,originalDomain:(y=w.domain)!==null&&y!==void 0?y:Y,isCategorical:g,layout:d})))},{})},iyt=function(t,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,a=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,h=t.children,A=ZI(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),g=A.length,v=bpe(d,s),x=-1;return n.reduce(function(y,w){var _=w.type.defaultProps!==void 0?Lt(Lt({},w.type.defaultProps),w.props):w.props,E=_[a],I=Hge("number");if(!y[E]){x++;var N;return v?N=P3(0,g):l&&l[E]&&l[E].hasStack?(N=Cpe(l[E].stackGroups,c,u),N=nL(h,N,E,s)):(N=wD(I,wpe(A,n.filter(function(j){var T,P,k=a in j.props?j.props[a]:(T=j.type.defaultProps)===null||T===void 0?void 0:T[a],R="hide"in j.props?j.props.hide:(P=j.type.defaultProps)===null||P===void 0?void 0:P.hide;return k===E&&!R}),"number",d),i.defaultProps.allowDataOverflow),N=nL(h,N,E,s)),Lt(Lt({},y),{},Nn({},E,Lt(Lt({axisType:s},i.defaultProps),{},{hide:!0,orientation:Ou(Jvt,"".concat(s,".").concat(x%2),null),domain:N,originalDomain:I,isCategorical:v,layout:d})))}return y},{})},syt=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,a=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,h="".concat(i,"Id"),A=vd(d,s),g={};return A&&A.length?g=nyt(t,{axes:A,graphicalItems:a,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):a&&a.length&&(g=iyt(t,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),g},ayt=function(t){var r=Y1(t),n=Fg(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:L7(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:w3(r,n)}},zZ=function(t){var r=t.children,n=t.defaultShowTooltip,i=xu(r,Zv),s=0,a=0;return t.data&&t.data.length!==0&&(a=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!n}},oyt=function(t){return!t||!t.length?!1:t.some(function(r){var n=dA(r&&r.type);return n&&n.indexOf("Bar")>=0})},GZ=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},lyt=function(t,r){var n=t.props,i=t.graphicalItems,s=t.xAxisMap,a=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,h=n.children,A=n.margin||{},g=xu(h,Zv),v=xu(h,Kx),x=Object.keys(c).reduce(function(N,j){var T=c[j],P=T.orientation;return!T.mirror&&!T.hide?Lt(Lt({},N),{},Nn({},P,N[P]+T.width)):N},{left:A.left||0,right:A.right||0}),y=Object.keys(a).reduce(function(N,j){var T=a[j],P=T.orientation;return!T.mirror&&!T.hide?Lt(Lt({},N),{},Nn({},P,Ou(N,"".concat(P))+T.height)):N},{top:A.top||0,bottom:A.bottom||0}),w=Lt(Lt({},y),x),_=w.bottom;g&&(w.bottom+=g.props.height||Zv.defaultProps.height),v&&r&&(w=fht(w,i,n,r));var E=u-w.left-w.right,I=d-w.top-w.bottom;return Lt(Lt({brushBottom:_},w),{},{width:Math.max(E,0),height:Math.max(I,0)})},cyt=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},p9=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,s=i===void 0?"axis":i,a=t.validateTooltipEventTypes,l=a===void 0?["axis"]:a,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,h=t.defaultProps,A=function(w,_){var E=_.graphicalItems,I=_.stackGroups,N=_.offset,j=_.updateId,T=_.dataStartIndex,P=_.dataEndIndex,k=w.barSize,R=w.layout,O=w.barGap,M=w.barCategoryGap,H=w.maxBarSize,K=GZ(R),Y=K.numericAxisName,ne=K.cateAxisName,le=oyt(E),te=[];return E.forEach(function(X,ue){var ve=ZI(w.data,{graphicalItems:[X],dataStartIndex:T,dataEndIndex:P}),V=X.type.defaultProps!==void 0?Lt(Lt({},X.type.defaultProps),X.props):X.props,q=V.dataKey,ee=V.maxBarSize,re=V["".concat(Y,"Id")],de=V["".concat(ne,"Id")],Ae={},_e=c.reduce(function(ze,Tt){var Bt=_["".concat(Tt.axisType,"Map")],mt=V["".concat(Tt.axisType,"Id")];Bt&&Bt[mt]||Tt.axisType==="zAxis"||km();var _t=Bt[mt];return Lt(Lt({},ze),{},Nn(Nn({},Tt.axisType,_t),"".concat(Tt.axisType,"Ticks"),Fg(_t)))},Ae),ye=_e[ne],ce=_e["".concat(ne,"Ticks")],Ne=I&&I[re]&&I[re].hasStack&&_ht(X,I[re].stackGroups),oe=dA(X.type).indexOf("Bar")>=0,We=w3(ye,ce),Re=[],z=le&&uht({barSize:k,stackGroups:I,totalSize:cyt(_e,ne)});if(oe){var Fe,He,ke=Xn(ee)?H:ee,Te=(Fe=(He=w3(ye,ce,!0))!==null&&He!==void 0?He:ke)!==null&&Fe!==void 0?Fe:0;Re=dht({barGap:O,barCategoryGap:M,bandSize:Te!==We?Te:We,sizeList:z[de],maxBarSize:ke}),Te!==We&&(Re=Re.map(function(ze){return Lt(Lt({},ze),{},{position:Lt(Lt({},ze.position),{},{offset:ze.position.offset-Te/2})})}))}var Ze=X&&X.type&&X.type.getComposedData;Ze&&te.push({props:Lt(Lt({},Ze(Lt(Lt({},_e),{},{displayedData:ve,props:w,dataKey:q,item:X,bandSize:We,barPosition:Re,offset:N,stackedData:Ne,layout:R,dataStartIndex:T,dataEndIndex:P}))),{},Nn(Nn(Nn({key:X.key||"item-".concat(ue)},Y,_e[Y]),ne,_e[ne]),"animationId",j)),childIndex:lZe(X,w.children),item:X})}),te},g=function(w,_){var E=w.props,I=w.dataStartIndex,N=w.dataEndIndex,j=w.updateId;if(!lq({props:E}))return null;var T=E.children,P=E.layout,k=E.stackOffset,R=E.data,O=E.reverseStackOrder,M=GZ(P),H=M.numericAxisName,K=M.cateAxisName,Y=vd(T,n),ne=wht(R,Y,"".concat(H,"Id"),"".concat(K,"Id"),k,O),le=c.reduce(function(V,q){var ee="".concat(q.axisType,"Map");return Lt(Lt({},V),{},Nn({},ee,syt(E,Lt(Lt({},q),{},{graphicalItems:Y,stackGroups:q.axisType===H&&ne,dataStartIndex:I,dataEndIndex:N}))))},{}),te=lyt(Lt(Lt({},le),{},{props:E,graphicalItems:Y}),_==null?void 0:_.legendBBox);Object.keys(le).forEach(function(V){le[V]=d(E,le[V],te,V.replace("Map",""),r)});var X=le["".concat(K,"Map")],ue=ayt(X),ve=A(E,Lt(Lt({},le),{},{dataStartIndex:I,dataEndIndex:N,updateId:j,graphicalItems:Y,stackGroups:ne,offset:te}));return Lt(Lt({formattedGraphicalItems:ve,graphicalItems:Y,offset:te,stackGroups:ne},ue),le)},v=function(y){function w(_){var E,I,N;return Qvt(this,w),N=zvt(this,w,[_]),Nn(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Nn(N,"accessibilityManager",new Tvt),Nn(N,"handleLegendBBoxUpdate",function(j){if(j){var T=N.state,P=T.dataStartIndex,k=T.dataEndIndex,R=T.updateId;N.setState(Lt({legendBBox:j},g({props:N.props,dataStartIndex:P,dataEndIndex:k,updateId:R},Lt(Lt({},N.state),{},{legendBBox:j}))))}}),Nn(N,"handleReceiveSyncEvent",function(j,T,P){if(N.props.syncId===j){if(P===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(T)}}),Nn(N,"handleBrushChange",function(j){var T=j.startIndex,P=j.endIndex;if(T!==N.state.dataStartIndex||P!==N.state.dataEndIndex){var k=N.state.updateId;N.setState(function(){return Lt({dataStartIndex:T,dataEndIndex:P},g({props:N.props,dataStartIndex:T,dataEndIndex:P,updateId:k},N.state))}),N.triggerSyncEvent({dataStartIndex:T,dataEndIndex:P})}}),Nn(N,"handleMouseEnter",function(j){var T=N.getMouseInfo(j);if(T){var P=Lt(Lt({},T),{},{isTooltipActive:!0});N.setState(P),N.triggerSyncEvent(P);var k=N.props.onMouseEnter;Mn(k)&&k(P,j)}}),Nn(N,"triggeredAfterMouseMove",function(j){var T=N.getMouseInfo(j),P=T?Lt(Lt({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(P),N.triggerSyncEvent(P);var k=N.props.onMouseMove;Mn(k)&&k(P,j)}),Nn(N,"handleItemMouseEnter",function(j){N.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),Nn(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Nn(N,"handleMouseMove",function(j){j.persist(),N.throttleTriggeredAfterMouseMove(j)}),Nn(N,"handleMouseLeave",function(j){N.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};N.setState(T),N.triggerSyncEvent(T);var P=N.props.onMouseLeave;Mn(P)&&P(T,j)}),Nn(N,"handleOuterEvent",function(j){var T=oZe(j),P=Ou(N.props,"".concat(T));if(T&&Mn(P)){var k,R;/.*touch.*/i.test(T)?R=N.getMouseInfo(j.changedTouches[0]):R=N.getMouseInfo(j),P((k=R)!==null&&k!==void 0?k:{},j)}}),Nn(N,"handleClick",function(j){var T=N.getMouseInfo(j);if(T){var P=Lt(Lt({},T),{},{isTooltipActive:!0});N.setState(P),N.triggerSyncEvent(P);var k=N.props.onClick;Mn(k)&&k(P,j)}}),Nn(N,"handleMouseDown",function(j){var T=N.props.onMouseDown;if(Mn(T)){var P=N.getMouseInfo(j);T(P,j)}}),Nn(N,"handleMouseUp",function(j){var T=N.props.onMouseUp;if(Mn(T)){var P=N.getMouseInfo(j);T(P,j)}}),Nn(N,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),Nn(N,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&N.handleMouseDown(j.changedTouches[0])}),Nn(N,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&N.handleMouseUp(j.changedTouches[0])}),Nn(N,"handleDoubleClick",function(j){var T=N.props.onDoubleClick;if(Mn(T)){var P=N.getMouseInfo(j);T(P,j)}}),Nn(N,"handleContextMenu",function(j){var T=N.props.onContextMenu;if(Mn(T)){var P=N.getMouseInfo(j);T(P,j)}}),Nn(N,"triggerSyncEvent",function(j){N.props.syncId!==void 0&&dP.emit(fP,N.props.syncId,j,N.eventEmitterSymbol)}),Nn(N,"applySyncEvent",function(j){var T=N.props,P=T.layout,k=T.syncMethod,R=N.state.updateId,O=j.dataStartIndex,M=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)N.setState(Lt({dataStartIndex:O,dataEndIndex:M},g({props:N.props,dataStartIndex:O,dataEndIndex:M,updateId:R},N.state)));else if(j.activeTooltipIndex!==void 0){var H=j.chartX,K=j.chartY,Y=j.activeTooltipIndex,ne=N.state,le=ne.offset,te=ne.tooltipTicks;if(!le)return;if(typeof k=="function")Y=k(te,j);else if(k==="value"){Y=-1;for(var X=0;X<te.length;X++)if(te[X].value===j.activeLabel){Y=X;break}}var ue=Lt(Lt({},le),{},{x:le.left,y:le.top}),ve=Math.min(H,ue.x+ue.width),V=Math.min(K,ue.y+ue.height),q=te[Y]&&te[Y].value,ee=aL(N.state,N.props.data,Y),re=te[Y]?{x:P==="horizontal"?te[Y].coordinate:ve,y:P==="horizontal"?V:te[Y].coordinate}:Uge;N.setState(Lt(Lt({},j),{},{activeLabel:q,activeCoordinate:re,activePayload:ee,activeTooltipIndex:Y}))}else N.setState(j)}),Nn(N,"renderCursor",function(j){var T,P=N.state,k=P.isTooltipActive,R=P.activeCoordinate,O=P.activePayload,M=P.offset,H=P.activeTooltipIndex,K=P.tooltipAxisBandSize,Y=N.getTooltipEventType(),ne=(T=j.props.active)!==null&&T!==void 0?T:k,le=N.props.layout,te=j.key||"_recharts-cursor";return Me.createElement(Ovt,{key:te,activeCoordinate:R,activePayload:O,activeTooltipIndex:H,chartName:r,element:j,isActive:ne,layout:le,offset:M,tooltipAxisBandSize:K,tooltipEventType:Y})}),Nn(N,"renderPolarAxis",function(j,T,P){var k=Ou(j,"type.axisType"),R=Ou(N.state,"".concat(k,"Map")),O=j.type.defaultProps,M=O!==void 0?Lt(Lt({},O),j.props):j.props,H=R&&R[M["".concat(k,"Id")]];return C.cloneElement(j,Lt(Lt({},H),{},{className:qn(k,H.className),key:j.key||"".concat(T,"-").concat(P),ticks:Fg(H,!0)}))}),Nn(N,"renderPolarGrid",function(j){var T=j.props,P=T.radialLines,k=T.polarAngles,R=T.polarRadius,O=N.state,M=O.radiusAxisMap,H=O.angleAxisMap,K=Y1(M),Y=Y1(H),ne=Y.cx,le=Y.cy,te=Y.innerRadius,X=Y.outerRadius;return C.cloneElement(j,{polarAngles:Array.isArray(k)?k:Fg(Y,!0).map(function(ue){return ue.coordinate}),polarRadius:Array.isArray(R)?R:Fg(K,!0).map(function(ue){return ue.coordinate}),cx:ne,cy:le,innerRadius:te,outerRadius:X,key:j.key||"polar-grid",radialLines:P})}),Nn(N,"renderLegend",function(){var j=N.state.formattedGraphicalItems,T=N.props,P=T.children,k=T.width,R=T.height,O=N.props.margin||{},M=k-(O.left||0)-(O.right||0),H=vpe({children:P,formattedGraphicalItems:j,legendWidth:M,legendContent:u});if(!H)return null;var K=H.item,Y=QZ(H,Dvt);return C.cloneElement(K,Lt(Lt({},Y),{},{chartWidth:k,chartHeight:R,margin:O,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Nn(N,"renderTooltip",function(){var j,T=N.props,P=T.children,k=T.accessibilityLayer,R=xu(P,qd);if(!R)return null;var O=N.state,M=O.isTooltipActive,H=O.activeCoordinate,K=O.activePayload,Y=O.activeLabel,ne=O.offset,le=(j=R.props.active)!==null&&j!==void 0?j:M;return C.cloneElement(R,{viewBox:Lt(Lt({},ne),{},{x:ne.left,y:ne.top}),active:le,label:Y,payload:le?K:[],coordinate:H,accessibilityLayer:k})}),Nn(N,"renderBrush",function(j){var T=N.props,P=T.margin,k=T.data,R=N.state,O=R.offset,M=R.dataStartIndex,H=R.dataEndIndex,K=R.updateId;return C.cloneElement(j,{key:j.key||"_recharts-brush",onChange:oN(N.handleBrushChange,j.props.onChange),data:k,x:Cr(j.props.x)?j.props.x:O.left,y:Cr(j.props.y)?j.props.y:O.top+O.height+O.brushBottom-(P.bottom||0),width:Cr(j.props.width)?j.props.width:O.width,startIndex:M,endIndex:H,updateId:"brush-".concat(K)})}),Nn(N,"renderReferenceElement",function(j,T,P){if(!j)return null;var k=N,R=k.clipPathId,O=N.state,M=O.xAxisMap,H=O.yAxisMap,K=O.offset,Y=j.type.defaultProps||{},ne=j.props,le=ne.xAxisId,te=le===void 0?Y.xAxisId:le,X=ne.yAxisId,ue=X===void 0?Y.yAxisId:X;return C.cloneElement(j,{key:j.key||"".concat(T,"-").concat(P),xAxis:M[te],yAxis:H[ue],viewBox:{x:K.left,y:K.top,width:K.width,height:K.height},clipPathId:R})}),Nn(N,"renderActivePoints",function(j){var T=j.item,P=j.activePoint,k=j.basePoint,R=j.childIndex,O=j.isRange,M=[],H=T.props.key,K=T.item.type.defaultProps!==void 0?Lt(Lt({},T.item.type.defaultProps),T.item.props):T.item.props,Y=K.activeDot,ne=K.dataKey,le=Lt(Lt({index:R,dataKey:ne,cx:P.x,cy:P.y,r:4,fill:c9(T.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},En(Y,!1)),K5(Y));return M.push(w.renderActiveDot(Y,le,"".concat(H,"-activePoint-").concat(R))),k?M.push(w.renderActiveDot(Y,Lt(Lt({},le),{},{cx:k.x,cy:k.y}),"".concat(H,"-basePoint-").concat(R))):O&&M.push(null),M}),Nn(N,"renderGraphicChild",function(j,T,P){var k=N.filterFormatItem(j,T,P);if(!k)return null;var R=N.getTooltipEventType(),O=N.state,M=O.isTooltipActive,H=O.tooltipAxis,K=O.activeTooltipIndex,Y=O.activeLabel,ne=N.props.children,le=xu(ne,qd),te=k.props,X=te.points,ue=te.isRange,ve=te.baseLine,V=k.item.type.defaultProps!==void 0?Lt(Lt({},k.item.type.defaultProps),k.item.props):k.item.props,q=V.activeDot,ee=V.hide,re=V.activeBar,de=V.activeShape,Ae=!!(!ee&&M&&le&&(q||re||de)),_e={};R!=="axis"&&le&&le.props.trigger==="click"?_e={onClick:oN(N.handleItemMouseEnter,j.props.onClick)}:R!=="axis"&&(_e={onMouseLeave:oN(N.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:oN(N.handleItemMouseEnter,j.props.onMouseEnter)});var ye=C.cloneElement(j,Lt(Lt({},k.props),_e));function ce(Tt){return typeof H.dataKey=="function"?H.dataKey(Tt.payload):null}if(Ae)if(K>=0){var Ne,oe;if(H.dataKey&&!H.allowDuplicatedCategory){var We=typeof H.dataKey=="function"?ce:"payload.".concat(H.dataKey.toString());Ne=W5(X,We,Y),oe=ue&&ve&&W5(ve,We,Y)}else Ne=X==null?void 0:X[K],oe=ue&&ve&&ve[K];if(de||re){var Re=j.props.activeIndex!==void 0?j.props.activeIndex:K;return[C.cloneElement(j,Lt(Lt(Lt({},k.props),_e),{},{activeIndex:Re})),null,null]}if(!Xn(Ne))return[ye].concat(cy(N.renderActivePoints({item:k,activePoint:Ne,basePoint:oe,childIndex:K,isRange:ue})))}else{var z,Fe=(z=N.getItemByXY(N.state.activeCoordinate))!==null&&z!==void 0?z:{graphicalItem:ye},He=Fe.graphicalItem,ke=He.item,Te=ke===void 0?j:ke,Ze=He.childIndex,ze=Lt(Lt(Lt({},k.props),_e),{},{activeIndex:Ze});return[C.cloneElement(Te,ze),null,null]}return ue?[ye,null,null]:[ye,null]}),Nn(N,"renderCustomized",function(j,T,P){return C.cloneElement(j,Lt(Lt({key:"recharts-customized-".concat(P)},N.props),N.state))}),Nn(N,"renderMap",{CartesianGrid:{handler:fN,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:fN},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:fN},YAxis:{handler:fN},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((E=_.id)!==null&&E!==void 0?E:Yy("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=x0e(N.triggeredAfterMouseMove,(I=_.throttleDelay)!==null&&I!==void 0?I:1e3/60),N.state={},N}return Kvt(w,y),Vvt(w,[{key:"componentDidMount",value:function(){var E,I;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,I=E.children,N=E.data,j=E.height,T=E.layout,P=xu(I,qd);if(P){var k=P.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,O=aL(this.state,N,k,R),M=this.state.tooltipTicks[k].coordinate,H=(this.state.offset.top+j)/2,K=T==="horizontal",Y=K?{x:M,y:H}:{y:M,x:H},ne=this.state.formattedGraphicalItems.find(function(te){var X=te.item;return X.type.name==="Scatter"});ne&&(Y=Lt(Lt({},Y),ne.props.points[k].tooltipPosition),O=ne.props.points[k].tooltipPayload);var le={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:R,activePayload:O,activeCoordinate:Y};this.setState(le),this.renderCursor(P),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,I){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==I.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var N,j;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(E){DO([xu(E.children,qd)],[xu(this.props.children,qd)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=xu(this.props.children,qd);if(E&&typeof E.props.shared=="boolean"){var I=E.props.shared?"axis":"item";return l.indexOf(I)>=0?I:s}return s}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var I=this.container,N=I.getBoundingClientRect(),j=Llt(N),T={chartX:Math.round(E.pageX-j.left),chartY:Math.round(E.pageY-j.top)},P=N.width/I.offsetWidth||1,k=this.inRange(T.chartX,T.chartY,P);if(!k)return null;var R=this.state,O=R.xAxisMap,M=R.yAxisMap,H=this.getTooltipEventType(),K=VZ(this.state,this.props.data,this.props.layout,k);if(H!=="axis"&&O&&M){var Y=Y1(O).scale,ne=Y1(M).scale,le=Y&&Y.invert?Y.invert(T.chartX):null,te=ne&&ne.invert?ne.invert(T.chartY):null;return Lt(Lt({},T),{},{xValue:le,yValue:te},K)}return K?Lt(Lt({},T),K):null}},{key:"inRange",value:function(E,I){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,T=E/N,P=I/N;if(j==="horizontal"||j==="vertical"){var k=this.state.offset,R=T>=k.left&&T<=k.left+k.width&&P>=k.top&&P<=k.top+k.height;return R?{x:T,y:P}:null}var O=this.state,M=O.angleAxisMap,H=O.radiusAxisMap;if(M&&H){var K=Y1(M);return xY({x:T,y:P},K)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,I=this.getTooltipEventType(),N=xu(E,qd),j={};N&&I==="axis"&&(N.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=K5(this.props,this.handleOuterEvent);return Lt(Lt({},T),j)}},{key:"addListener",value:function(){dP.on(fP,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){dP.removeListener(fP,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,I,N){for(var j=this.state.formattedGraphicalItems,T=0,P=j.length;T<P;T++){var k=j[T];if(k.item===E||k.props.key===E.key||I===dA(k.item.type)&&N===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,I=this.state.offset,N=I.left,j=I.top,T=I.height,P=I.width;return Me.createElement("defs",null,Me.createElement("clipPath",{id:E},Me.createElement("rect",{x:N,y:j,height:T,width:P})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(I,N){var j=HZ(N,2),T=j[0],P=j[1];return Lt(Lt({},I),{},Nn({},T,P.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(I,N){var j=HZ(N,2),T=j[0],P=j[1];return Lt(Lt({},I),{},Nn({},T,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var I;return(I=this.state.xAxisMap)===null||I===void 0||(I=I[E])===null||I===void 0?void 0:I.scale}},{key:"getYScaleByAxisId",value:function(E){var I;return(I=this.state.yAxisMap)===null||I===void 0||(I=I[E])===null||I===void 0?void 0:I.scale}},{key:"getItemByXY",value:function(E){var I=this.state,N=I.formattedGraphicalItems,j=I.activeItem;if(N&&N.length)for(var T=0,P=N.length;T<P;T++){var k=N[T],R=k.props,O=k.item,M=O.type.defaultProps!==void 0?Lt(Lt({},O.type.defaultProps),O.props):O.props,H=dA(O.type);if(H==="Bar"){var K=(R.data||[]).find(function(te){return Apt(E,te)});if(K)return{graphicalItem:k,payload:K}}else if(H==="RadialBar"){var Y=(R.data||[]).find(function(te){return xY(E,te)});if(Y)return{graphicalItem:k,payload:Y}}else if($I(k,j)||VI(k,j)||L_(k,j)){var ne=rmt({graphicalItem:k,activeTooltipItem:j,itemData:M.data}),le=M.activeIndex===void 0?ne:M.activeIndex;return{graphicalItem:Lt(Lt({},k),{},{childIndex:le}),payload:L_(k,j)?M.data[ne]:k.props.data[ne]}}}return null}},{key:"render",value:function(){var E=this;if(!lq(this))return null;var I=this.props,N=I.children,j=I.className,T=I.width,P=I.height,k=I.style,R=I.compact,O=I.title,M=I.desc,H=QZ(I,Lvt),K=En(H,!1);if(R)return Me.createElement(CZ,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Me.createElement(RO,_x({},K,{width:T,height:P,title:O,desc:M}),this.renderClipPath(),uq(N,this.renderMap)));if(this.props.accessibilityLayer){var Y,ne;K.tabIndex=(Y=this.props.tabIndex)!==null&&Y!==void 0?Y:0,K.role=(ne=this.props.role)!==null&&ne!==void 0?ne:"application",K.onKeyDown=function(te){E.accessibilityManager.keyboardEvent(te)},K.onFocus=function(){E.accessibilityManager.focus()}}var le=this.parseEventsOfWrapper();return Me.createElement(CZ,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Me.createElement("div",_x({className:qn("recharts-wrapper",j),style:Lt({position:"relative",cursor:"default",width:T,height:P},k)},le,{ref:function(X){E.container=X}}),Me.createElement(RO,_x({},K,{width:T,height:P,title:O,desc:M,style:eyt}),this.renderClipPath(),uq(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(C.Component);Nn(v,"displayName",r),Nn(v,"defaultProps",Lt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Nn(v,"getDerivedStateFromProps",function(y,w){var _=y.dataKey,E=y.data,I=y.children,N=y.width,j=y.height,T=y.layout,P=y.stackOffset,k=y.margin,R=w.dataStartIndex,O=w.dataEndIndex;if(w.updateId===void 0){var M=zZ(y);return Lt(Lt(Lt({},M),{},{updateId:0},g(Lt(Lt({props:y},M),{},{updateId:0}),w)),{},{prevDataKey:_,prevData:E,prevWidth:N,prevHeight:j,prevLayout:T,prevStackOffset:P,prevMargin:k,prevChildren:I})}if(_!==w.prevDataKey||E!==w.prevData||N!==w.prevWidth||j!==w.prevHeight||T!==w.prevLayout||P!==w.prevStackOffset||!Wx(k,w.prevMargin)){var H=zZ(y),K={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},Y=Lt(Lt({},VZ(w,E,T)),{},{updateId:w.updateId+1}),ne=Lt(Lt(Lt({},H),K),Y);return Lt(Lt(Lt({},ne),g(Lt({props:y},ne),w)),{},{prevDataKey:_,prevData:E,prevWidth:N,prevHeight:j,prevLayout:T,prevStackOffset:P,prevMargin:k,prevChildren:I})}if(!DO(I,w.prevChildren)){var le,te,X,ue,ve=xu(I,Zv),V=ve&&(le=(te=ve.props)===null||te===void 0?void 0:te.startIndex)!==null&&le!==void 0?le:R,q=ve&&(X=(ue=ve.props)===null||ue===void 0?void 0:ue.endIndex)!==null&&X!==void 0?X:O,ee=V!==R||q!==O,re=!Xn(E),de=re&&!ee?w.updateId:w.updateId+1;return Lt(Lt({updateId:de},g(Lt(Lt({props:y},w),{},{updateId:de,dataStartIndex:V,dataEndIndex:q}),w)),{},{prevChildren:I,dataStartIndex:V,dataEndIndex:q})}return null}),Nn(v,"renderActiveDot",function(y,w,_){var E;return C.isValidElement(y)?E=C.cloneElement(y,w):Mn(y)?E=y(w):E=Me.createElement(RI,w),Me.createElement(Ii,{className:"recharts-active-dot",key:_},E)});var x=C.forwardRef(function(w,_){return Me.createElement(v,_x({},w,{ref:_}))});return x.displayName=v.displayName,x},uyt=p9({chartName:"BarChart",GraphicalChild:l1,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ay},{axisType:"yAxis",AxisComp:YI}],formatAxisMap:rge}),dyt=p9({chartName:"PieChart",GraphicalChild:MA,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:QI},{axisType:"radiusAxis",AxisComp:UI}],formatAxisMap:Pht,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),fyt=p9({chartName:"AreaChart",GraphicalChild:qp,axisComponents:[{axisType:"xAxis",AxisComp:ay},{axisType:"yAxis",AxisComp:YI}],formatAxisMap:rge});const AP=[{name:"Aria Mitchell",role:"Product Manager",status:"Active",lastActive:"2m ago",kpi:"+12%"},{name:"Leo Park",role:"Sales Lead",status:"Active",lastActive:"6m ago",kpi:"+8%"},{name:"Maya Laghari",role:"Ops Strategist",status:"Pending",lastActive:"Awaiting invite",kpi:""},{name:"Carlos Shin",role:"Finance",status:"Active",lastActive:"18m ago",kpi:"+4%"},{name:"Evelyn Brooks",role:"Design Systems",status:"Suspended",lastActive:"3d ago",kpi:"-2%"},{name:"Noah Patel",role:"Inventory Lead",status:"Active",lastActive:"just now",kpi:"+15%"}],hyt=[{title:"Add Product",description:"Upload media, set pricing, sync channels",icon:dh,accent:"from-[#4f46e5] to-[#7c3aed]"},{title:"View Reports",description:"Instant health check with AI insights",icon:Abe,accent:"from-[#0ea5e9] to-[#06b6d4]"},{title:"Settings",description:"Automation, thresholds, API keys",icon:xE,accent:"from-[#ec4899] to-[#f97316]"}],hN=["#4F46E5","#A855F7","#06B6D4"],Ayt=()=>{const{toast:e}=Lo(),[t,r]=C.useState([]),[n,i]=C.useState([]),[s,a]=C.useState(!0),[l,c]=C.useState(!1),[u,d]=C.useState(!1),[h,A]=C.useState("dashboard"),[g,v]=C.useState(()=>typeof document<"u"&&document.documentElement.classList.contains("dark")),[x,y]=C.useState(""),[w,_]=C.useState("");C.useEffect(()=>{document.documentElement.classList.toggle("dark",g)},[g]),C.useEffect(()=>{(async()=>{try{a(!0);const[ue,ve]=await Promise.all([xa.getItems(),K2.getSalesWithItems()]);r(ue),i(ve)}catch(ue){console.error(ue),e({title:"Unable to load data",description:"Please check your connection and try again.",variant:"destructive"})}finally{a(!1)}})();const X=xa.subscribeToItems(r);return()=>{X()}},[e]);const E=C.useMemo(()=>{const te=AP.length+4680,X=n.length,ue=n.reduce((ee,re)=>ee+re.total_amount,0),ve=t.reduce((ee,re)=>ee+re.quantity,0),V=t.filter(ee=>ee.quantity>0&&ee.quantity<10).length,q=X>10?18:6;return{totalUsers:te,totalRevenue:ue,totalOrders:X,itemsInStock:ve,lowStock:V,growth:q}},[t,n]),I=C.useMemo(()=>{const te=Array.from({length:6}).map((X,ue)=>{const ve=new Date;return ve.setMonth(ve.getMonth()-(5-ue)),{key:`${ve.getFullYear()}-${ve.getMonth()}`,label:ve.toLocaleString("default",{month:"short"}),revenue:0,orders:0}});return n.forEach(X=>{const ue=X.sale_date instanceof Date?X.sale_date:X.sale_date.toDate(),ve=`${ue.getFullYear()}-${ue.getMonth()}`,V=te.find(q=>q.key===ve);V&&(V.revenue+=X.total_amount,V.orders+=1)}),te.map(X=>({name:X.label,revenue:Math.round(X.revenue),orders:X.orders}))},[n]),N=C.useMemo(()=>{const te=new Map;return t.forEach(X=>{X.category&&te.set(X.category,(te.get(X.category)??0)+X.quantity)}),Array.from(te.entries()).map(([X,ue])=>({category:X,stock:ue})).slice(0,5)},[t]),j=C.useMemo(()=>{const te=t.filter(ve=>ve.quantity>10).length,X=t.filter(ve=>ve.quantity>0&&ve.quantity<=10).length,ue=t.filter(ve=>ve.quantity===0).length;return[{name:"Healthy",value:te||1},{name:"Low Stock",value:X||1},{name:"Out of Stock",value:ue||1}]},[t]),T=[{title:"Users",value:E.totalUsers.toLocaleString(),change:"+5.8%",icon:fh},{title:"Sales",value:`${E.totalRevenue.toLocaleString("en-IN")}`,change:"+18%",icon:fbe},{title:"Trends",value:`${E.growth}% growth`,change:"vs last month",icon:kx},{title:"Orders",value:E.totalOrders.toLocaleString(),change:"+42 open",icon:fm},{title:"Growth",value:`${E.growth}% YoY`,change:"Sustained uptrend",icon:DF}],P=C.useMemo(()=>n.slice(0,5).map(te=>{const X=te.sale_date instanceof Date?te.sale_date:te.sale_date.toDate();return{title:`${te.customer_name} purchased ${te.item_name}`,subtitle:`Invoice  ${te.invoice_number}`,amount:`${te.total_amount.toFixed(2)}`,timeAgo:X.toLocaleDateString()}}),[n]),k=AP.filter(te=>te.name.toLowerCase().includes(x.toLowerCase())),R=t.filter(te=>te.name.toLowerCase().includes(w.toLowerCase())),O=()=>o.jsxs("div",{className:"space-y-8 pb-10",children:[o.jsx("section",{className:"grid gap-6 lg:grid-cols-5 md:grid-cols-3 sm:grid-cols-2",children:T.map((te,X)=>{const ue=te.icon;return o.jsxs("div",{className:Zr("glass-card p-6 rounded-[26px] border border-white/10 text-slate-100 relative overflow-hidden group","bg-gradient-to-br from-white/10 via-white/5 to-transparent dark:from-white/5 dark:via-white/10 dark:to-white/5"),style:{animationDelay:`${X*60}ms`},children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm uppercase tracking-wide text-white/70",children:te.title}),o.jsx("div",{className:"p-2 rounded-2xl bg-white/10 backdrop-blur-sm text-white",children:o.jsx(ue,{className:"h-5 w-5"})})]}),o.jsx("div",{className:"mt-6 text-3xl font-semibold",children:te.value}),o.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-emerald-300",children:[o.jsx(sj,{className:"h-4 w-4"}),te.change]}),o.jsx("div",{className:"absolute inset-x-4 bottom-4 h-0.5 bg-gradient-to-r from-transparent via-white/50 to-transparent animate-pulse"})]},te.title)})}),o.jsxs("section",{className:"grid gap-6 lg:grid-cols-3",children:[o.jsxs(Sr,{className:"col-span-2 bg-[#151c3b]/80 border-white/10 rounded-[28px] text-white shadow-[0_20px_60px_rgba(11,12,24,0.65)]",children:[o.jsxs(fn,{className:"flex flex-row items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(hn,{className:"text-white",children:"Performance Trends"}),o.jsx(_n,{className:"text-white/70",children:"Multi-channel velocity"})]}),o.jsx(et,{variant:"secondary",className:"bg-white/10 text-white border-white/20",children:"Last 6 months"})]}),o.jsx(Pr,{className:"h-[320px]",children:o.jsx(X6,{width:"100%",height:"100%",children:o.jsxs(fyt,{data:I,margin:{left:0,right:0},children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"revenueGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"#5B7CFD",stopOpacity:.8}),o.jsx("stop",{offset:"95%",stopColor:"#5B7CFD",stopOpacity:0})]})}),o.jsx(ay,{dataKey:"name",stroke:"#94a3b8"}),o.jsx(qd,{contentStyle:{backgroundColor:"#11152c",borderRadius:16,border:"none"}}),o.jsx(qp,{type:"monotone",dataKey:"revenue",stroke:"#5B7CFD",fillOpacity:1,fill:"url(#revenueGradient)",strokeWidth:3})]})})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Sr,{className:"bg-[#151c3b]/80 border-white/10 rounded-[28px] text-white",children:[o.jsxs(fn,{className:"pb-4",children:[o.jsx(hn,{children:"Inventory Pulse"}),o.jsx(_n,{className:"text-white/70",children:"Category saturation"})]}),o.jsx(Pr,{className:"h-[160px]",children:o.jsx(X6,{width:"100%",height:"100%",children:o.jsxs(uyt,{data:N,barSize:18,children:[o.jsx(ay,{dataKey:"category",stroke:"#cbd5f5"}),o.jsx(qd,{contentStyle:{backgroundColor:"#121530",borderRadius:18,border:"none"}}),o.jsx(l1,{dataKey:"stock",radius:[12,12,12,12],fill:"#A855F7"})]})})})]}),o.jsxs(Sr,{className:"bg-[#151c3b]/80 border-white/10 rounded-[28px] text-white",children:[o.jsxs(fn,{className:"pb-4",children:[o.jsx(hn,{children:"Stock Health"}),o.jsx(_n,{className:"text-white/70",children:"Real-time coverage"})]}),o.jsxs(Pr,{className:"flex items-center gap-4",children:[o.jsx("div",{className:"h-40 w-40",children:o.jsx(X6,{children:o.jsx(dyt,{children:o.jsx(MA,{data:j,dataKey:"value",innerRadius:50,outerRadius:70,paddingAngle:6,children:j.map((te,X)=>o.jsx(CI,{fill:hN[X%hN.length]},X))})})})}),o.jsx("div",{className:"space-y-3 text-sm",children:j.map((te,X)=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"h-2 w-8 rounded-full",style:{backgroundColor:hN[X%hN.length]}}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-white",children:te.name}),o.jsxs("p",{className:"text-white/60",children:[te.value," SKUs"]})]})]},te.name))})]})]})]})]}),o.jsxs("section",{className:"grid gap-6 lg:grid-cols-3",children:[o.jsxs(Sr,{className:"bg-[#151c3b]/80 border-white/5 rounded-[28px] text-white",children:[o.jsxs(fn,{children:[o.jsx(hn,{children:"Recent Activity"}),o.jsx(_n,{className:"text-white/70",children:"In-flight operational updates"})]}),o.jsxs(Pr,{className:"space-y-4",children:[P.length===0&&o.jsx("p",{className:"text-white/60 text-sm",children:"No recent activity logged."}),P.map((te,X)=>o.jsxs("div",{className:"flex items-center gap-4 rounded-2xl bg-white/5 px-4 py-3 border border-white/5 hover:border-white/20 transition-all duration-300",children:[o.jsx("div",{className:"h-10 w-10 rounded-2xl bg-gradient-to-br from-[#4f46e5] to-[#a855f7] flex items-center justify-center text-white",children:o.jsx(_be,{className:"h-4 w-4"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-white",children:te.title}),o.jsx("p",{className:"text-sm text-white/60",children:te.subtitle})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-white font-semibold",children:te.amount}),o.jsx("p",{className:"text-xs text-white/60",children:te.timeAgo})]})]},X))]})]}),o.jsxs(Sr,{className:"bg-[#151c3b]/80 border-white/5 rounded-[28px] text-white",children:[o.jsxs(fn,{children:[o.jsx(hn,{children:"User Management"}),o.jsx(_n,{className:"text-white/70",children:"Leadership visibility"})]}),o.jsxs(Pr,{className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Is,{className:"absolute left-4 top-3 h-4 w-4 text-white/50"}),o.jsx(Or,{placeholder:"Search teammates",className:"pl-10 bg-white/5 border-white/10 text-white placeholder:text-white/40",value:x,onChange:te=>y(te.target.value)})]}),o.jsx("div",{className:"space-y-3",children:k.map(te=>o.jsxs("div",{className:"rounded-2xl border border-white/10 p-4 flex items-center justify-between bg-white/5 hover:bg-white/10 transition",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold",children:te.name}),o.jsx("p",{className:"text-sm text-white/60",children:te.role})]}),o.jsxs("div",{className:"text-right",children:[o.jsx(cn,{className:Zr("rounded-full",{"bg-emerald-400/20 text-emerald-200":te.status==="Active","bg-amber-400/20 text-amber-100":te.status==="Pending","bg-rose-400/20 text-rose-100":te.status==="Suspended"}),children:te.status}),o.jsx("p",{className:"text-xs text-white/50 mt-1",children:te.lastActive})]})]},te.name))})]})]}),o.jsxs(Sr,{className:"bg-[#151c3b]/80 border-white/5 rounded-[28px] text-white",children:[o.jsxs(fn,{children:[o.jsx(hn,{children:"Quick Actions"}),o.jsx(_n,{className:"text-white/70",children:"One-tap launchpads"})]}),o.jsx(Pr,{className:"space-y-4",children:hyt.map(te=>{const X=te.icon;return o.jsx("button",{className:Zr("w-full rounded-3xl p-4 text-left transition-all duration-300 hover:scale-[1.01]","bg-gradient-to-r text-white border border-white/10",te.accent),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-lg font-semibold",children:te.title}),o.jsx("p",{className:"text-sm text-white/75",children:te.description})]}),o.jsx("span",{className:"h-10 w-10 rounded-2xl bg-white/20 flex items-center justify-center",children:o.jsx(X,{className:"h-5 w-5"})})]})},te.title)})})]})]})]}),M=()=>o.jsxs("div",{className:"space-y-8 pb-10",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-3 justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-semibold text-white",children:"Users"}),o.jsx("p",{className:"text-white/60",children:"Control access, visibility, and SLAs."})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(et,{className:"rounded-2xl bg-gradient-to-r from-[#4f46e5] to-[#a855f7] text-white border-none",children:"Invite teammate"}),o.jsx(et,{variant:"outline",className:"rounded-2xl border-white/20 text-white bg-white/10",children:"Export"})]})]}),o.jsxs(Sr,{className:"bg-[#151c3b]/80 border-white/10 rounded-[32px] text-white",children:[o.jsxs(fn,{children:[o.jsx(hn,{children:"Leadership Roster"}),o.jsx(_n,{className:"text-white/70",children:"Adaptive filters"})]}),o.jsxs(Pr,{children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-3 mb-6",children:[o.jsx(Or,{placeholder:"Search names",className:"bg-white/5 border-white/10 text-white"}),o.jsx(Or,{placeholder:"Role",className:"bg-white/5 border-white/10 text-white"}),o.jsx(Or,{placeholder:"Status",className:"bg-white/5 border-white/10 text-white"})]}),o.jsxs(VE,{children:[o.jsx(zE,{children:o.jsxs(ih,{className:"border-white/10",children:[o.jsx(ea,{className:"text-white/70",children:"Name"}),o.jsx(ea,{className:"text-white/70",children:"Role"}),o.jsx(ea,{className:"text-white/70",children:"Status"}),o.jsx(ea,{className:"text-white/70",children:"Last Active"}),o.jsx(ea,{className:"text-right text-white/70",children:"KPI Delta"})]})}),o.jsx(GE,{children:AP.map(te=>o.jsxs(ih,{className:"border-white/5",children:[o.jsx(Hs,{className:"text-white",children:te.name}),o.jsx(Hs,{className:"text-white/80",children:te.role}),o.jsx(Hs,{children:o.jsx(cn,{className:Zr("rounded-full",{"bg-emerald-500/15 text-emerald-200":te.status==="Active","bg-amber-500/15 text-amber-200":te.status==="Pending","bg-rose-500/15 text-rose-200":te.status==="Suspended"}),children:te.status})}),o.jsx(Hs,{className:"text-white/70",children:te.lastActive}),o.jsx(Hs,{className:"text-right text-emerald-300",children:te.kpi})]},te.name))})]})]})]})]}),H=()=>o.jsxs("div",{className:"space-y-8 pb-10",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-semibold text-white",children:"Orders"}),o.jsx("p",{className:"text-white/60",children:"Real-time pipeline of every fulfillment touchpoint."})]}),o.jsx(et,{className:"rounded-2xl bg-gradient-to-r from-[#0ea5e9] to-[#06b6d4] text-white",children:"Create order"})]}),o.jsx("div",{className:"grid gap-6 lg:grid-cols-4",children:[{label:"Open",value:42,change:"+12%",icon:xbe},{label:"Processing",value:68,change:"+4%",icon:DF},{label:"Ready to ship",value:28,change:"-6%",icon:Fo},{label:"Delivered",value:312,change:"+22%",icon:wbe}].map(te=>{const X=te.icon;return o.jsxs("div",{className:"glass-card rounded-[28px] bg-white/5 border-white/10 p-6 text-white",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-white/60 text-sm",children:te.label}),o.jsx(X,{className:"h-5 w-5 text-white/70"})]}),o.jsx("p",{className:"text-3xl font-semibold mt-4",children:te.value}),o.jsxs("p",{className:"text-sm text-emerald-300 flex items-center gap-1 mt-2",children:[o.jsx(sj,{className:"h-4 w-4"})," ",te.change]})]},te.label)})}),o.jsxs(Sr,{className:"bg-[#151c3b]/80 border-white/5 rounded-[32px] text-white",children:[o.jsxs(fn,{children:[o.jsx(hn,{children:"Live orders"}),o.jsx(_n,{className:"text-white/70",children:"Integrated SLA monitoring"})]}),o.jsx(Pr,{className:"space-y-4",children:n.slice(0,6).map(te=>o.jsxs("div",{className:"flex flex-wrap items-center justify-between rounded-3xl bg-white/5 px-4 py-3 border border-white/10",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold",children:te.customer_name}),o.jsx("p",{className:"text-sm text-white/60",children:te.item_name})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-white font-semibold",children:["",te.total_amount.toFixed(2)]}),o.jsxs("p",{className:"text-sm text-white/60",children:["#",te.invoice_number]})]})]},te.id))})]})]}),K=()=>o.jsxs("div",{className:"space-y-8 pb-10",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-semibold text-white",children:"Products"}),o.jsx("p",{className:"text-white/60",children:"Unified catalog with inline editing."})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(et,{variant:"outline",className:"rounded-2xl border-white/20 text-white",children:"Import CSV"}),o.jsx(et,{className:"rounded-2xl bg-gradient-to-r from-[#facc15] to-[#f97316] text-slate-900 font-semibold",children:"New SKU"})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Is,{className:"absolute left-4 top-3 h-4 w-4 text-white/60"}),o.jsx(Or,{placeholder:"Search products, categories, barcodes",className:"pl-10 bg-white/5 border-white/10 text-white placeholder:text-white/40",value:w,onChange:te=>_(te.target.value)})]}),o.jsxs("div",{className:"grid gap-6 sm:grid-cols-2 xl:grid-cols-3",children:[R.slice(0,9).map(te=>{var X;return o.jsxs("div",{className:"rounded-[28px] border border-white/10 bg-white/5 p-5 text-white hover:-translate-y-1 transition",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-lg font-semibold",children:te.name}),o.jsx("p",{className:"text-sm text-white/60",children:te.category??"Uncategorized"})]}),o.jsxs(cn,{className:"bg-emerald-500/15 text-emerald-200 rounded-full",children:[te.quantity," in stock"]})]}),o.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[o.jsxs("p",{className:"text-3xl font-semibold text-white",children:["",((X=te.price)==null?void 0:X.toFixed(2))??"0.00"]}),o.jsx(et,{size:"sm",variant:"outline",className:"border-white/20 text-white rounded-xl bg-white/10",children:"Manage"})]})]},te.id)}),R.length===0&&o.jsx("p",{className:"text-white/60",children:"No matching products."})]})]}),Y=()=>o.jsxs("div",{className:"space-y-8 pb-10",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-semibold text-white",children:"Settings"}),o.jsx("p",{className:"text-white/60",children:"Control automation, billing, and security."})]}),o.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[o.jsxs(Sr,{className:"bg-[#151c3b]/80 border-white/10 rounded-[32px] text-white",children:[o.jsxs(fn,{children:[o.jsx(hn,{children:"Automation"}),o.jsx(_n,{className:"text-white/70",children:"Realtime guardrails"})]}),o.jsx(Pr,{className:"space-y-5",children:[{label:"Low stock alerts",description:"Notify team when SKU hits dynamic threshold",defaultChecked:!0},{label:"Auto fulfillment",description:"Push available stock to closest node",defaultChecked:!0},{label:"AI insights",description:"Surface anomalies & forecast risk",defaultChecked:!0}].map(te=>o.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-white/10 p-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold",children:te.label}),o.jsx("p",{className:"text-sm text-white/60",children:te.description})]}),o.jsx(Dl,{defaultChecked:te.defaultChecked})]},te.label))})]}),o.jsxs(Sr,{className:"bg-[#151c3b]/80 border-white/10 rounded-[32px] text-white",children:[o.jsx(fn,{children:o.jsx(hn,{children:"Billing & API"})}),o.jsxs(Pr,{className:"space-y-6",children:[o.jsxs("div",{className:"rounded-2xl border border-white/10 p-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-white/60",children:"Current plan"}),o.jsx("p",{className:"text-lg font-semibold",children:"Enterprise"})]}),o.jsx(et,{className:"rounded-2xl bg-white/10 border-white/10 text-white",children:"Upgrade"})]}),o.jsxs("div",{className:"rounded-2xl border border-white/10 p-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Z0,{className:"h-5 w-5 text-white/70"}),o.jsx("p",{className:"font-semibold",children:"Payment method"})]}),o.jsx(et,{variant:"outline",className:"w-full rounded-2xl border-white/20 text-white bg-white/5",children:"Manage cards"})]}),o.jsxs("div",{className:"rounded-2xl border border-white/10 p-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(gbe,{className:"h-5 w-5 text-white/70"}),o.jsx("p",{className:"font-semibold",children:"API Keys"})]}),o.jsx(et,{className:"rounded-2xl bg-gradient-to-r from-[#4f46e5] to-[#06b6d4] text-white w-full",children:"Generate new key"})]})]})]})]})]}),ne={dashboard:O(),users:M(),orders:H(),products:K(),settings:Y()},le=[{key:"dashboard",label:"Dashboard",icon:mbe},{key:"users",label:"Users",icon:fh},{key:"orders",label:"Orders",icon:bbe},{key:"products",label:"Products",icon:Fo},{key:"settings",label:"Settings",icon:xE}];return s?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#05060f]",children:o.jsxs("div",{className:"glass-card px-10 py-8 text-center text-white",children:[o.jsx("div",{className:"w-10 h-10 border-2 border-white/40 border-t-white rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-lg tracking-wide text-white/80",children:"Launching admin fabric..."})]})}):o.jsxs("div",{className:"min-h-screen flex bg-[#05060f] text-white",children:[o.jsxs("aside",{className:Zr("hidden lg:flex flex-col transition-all duration-500 backdrop-blur-2xl border-r border-white/5",l?"w-[92px]":"w-[260px]"),style:{background:"linear-gradient(180deg, rgba(19,23,52,0.9) 0%, rgba(5,6,15,0.95) 100%)"},children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-8",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-2xl bg-gradient-to-br from-[#4f46e5] to-[#a855f7] flex items-center justify-center font-bold text-lg",children:""}),!l&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm uppercase tracking-[0.3em] text-white/70",children:"Nova"}),o.jsx("p",{className:"text-xl font-semibold",children:"Admin"})]})]}),o.jsx(et,{size:"icon",variant:"ghost",className:"text-white/70 hover:text-white hover:bg-white/10",onClick:()=>c(te=>!te),children:l?o.jsx(jie,{className:"h-5 w-5"}):o.jsx(kie,{className:"h-5 w-5"})})]}),o.jsx("nav",{className:"flex-1 space-y-1 px-3",children:le.map((te,X)=>{const ue=te.icon,ve=h===te.key;return o.jsxs("button",{onClick:()=>A(te.key),className:Zr("w-full flex items-center gap-3 rounded-2xl px-4 py-3 transition-all duration-300 sidebar-item relative overflow-hidden",ve?"bg-white/15 text-white shadow-[0_20px_45px_rgba(79,70,229,0.35)]":"text-white/60 hover:text-white hover:bg-white/5"),style:{animationDelay:`${X*80}ms`},children:[o.jsx("span",{className:"h-10 w-10 rounded-xl bg-white/10 flex items-center justify-center",children:o.jsx(ue,{className:"h-4 w-4"})}),!l&&o.jsx("span",{className:"text-sm font-medium",children:te.label}),ve&&o.jsx("span",{className:"absolute left-0 inset-y-1 w-[3px] bg-gradient-to-b from-[#4f46e5] to-[#a855f7]"})]},te.key)})}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"rounded-3xl border border-white/10 bg-white/5 p-4 space-y-3",children:[o.jsx("p",{className:"text-sm text-white/70",children:"Storage utilization"}),o.jsxs("div",{className:"flex items-end gap-2",children:[o.jsx("p",{className:"text-3xl font-semibold",children:"78%"}),o.jsxs("span",{className:"text-sm text-emerald-300 inline-flex items-center gap-1",children:[o.jsx(sj,{className:"h-4 w-4"})," +6%"]})]}),o.jsx("div",{className:"h-2 rounded-full bg-white/10 overflow-hidden",children:o.jsx("div",{className:"w-[78%] h-full bg-gradient-to-r from-[#4f46e5] to-[#06b6d4]"})})]})})]}),u&&o.jsxs("div",{className:"lg:hidden fixed inset-0 z-40",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:()=>d(!1)}),o.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-72 bg-[#0b0d1d] border-r border-white/10 p-6 space-y-4",children:[o.jsx(et,{variant:"ghost",size:"icon",onClick:()=>d(!1),children:o.jsx(ef,{className:"h-5 w-5"})}),le.map(te=>o.jsxs("button",{onClick:()=>{A(te.key),d(!1)},className:Zr("w-full flex items-center gap-3 rounded-2xl px-4 py-3",h===te.key?"bg-white/10 text-white":"text-white/60 hover:bg-white/5"),children:[o.jsx(te.icon,{className:"h-4 w-4"})," ",te.label]},te.key))]})]}),o.jsxs("div",{className:"flex-1 flex flex-col",children:[o.jsxs("header",{className:"px-6 py-5 border-b border-white/5 flex items-center justify-between sticky top-0 z-20 backdrop-blur-lg bg-[#05060f]/70",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(et,{variant:"ghost",size:"icon",className:"lg:hidden text-white/70",onClick:()=>d(!0),children:o.jsx(Die,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase text-white/50 tracking-[0.3em]",children:"Control Room"}),o.jsx("h1",{className:"text-2xl font-semibold",children:"Futuristic Admin"})]})]}),o.jsx("div",{className:"hidden md:flex items-center gap-4 flex-1 justify-center max-w-xl",children:o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Is,{className:"absolute left-4 top-3 h-4 w-4 text-white/50"}),o.jsx(Or,{placeholder:"Search across dashboards, SKUs, invoices",className:"pl-10 bg-white/5 border-white/10 text-white placeholder:text-white/50 rounded-2xl"})]})}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(et,{size:"icon",variant:"ghost",className:"rounded-2xl border border-white/10 bg-white/10",onClick:()=>v(te=>!te),children:g?o.jsx(Uie,{className:"h-4 w-4"}):o.jsx(Lie,{className:"h-4 w-4"})}),o.jsxs(et,{size:"icon",variant:"ghost",className:"relative rounded-2xl border border-white/10 bg-white/10",children:[o.jsx(dm,{className:"h-4 w-4"}),o.jsx("span",{className:"absolute -top-1 -right-1 h-2.5 w-2.5 rounded-full bg-rose-500 animate-pulse"})]}),o.jsx("div",{className:"h-11 w-11 rounded-2xl bg-gradient-to-br from-[#facc15] to-[#f97316] flex items-center justify-center text-slate-900 font-semibold",children:"AM"})]})]}),o.jsx("main",{className:"flex-1 overflow-y-auto px-6 sm:px-8 md:px-10 lg:px-12 py-8 space-y-8 bg-gradient-to-b from-[#05060f] via-[#070922] to-[#05060f]",children:ne[h]})]})]})},pyt=()=>{const[e,t]=C.useState([]),[r,n]=C.useState(!0),[i,s]=C.useState(new Map),[a,l]=C.useState(""),c=ds(),u=async()=>{try{const w=await xa.getItems(),_=new Map;w.forEach(E=>{E.barcode_id&&_.set(E.barcode_id,E.quantity),_.set(E.name,E.quantity)}),s(_),console.log(" Stock data loaded:",_)}catch(w){console.error(" Error fetching stock data:",w)}},d=w=>w.barcode&&i.has(w.barcode)?i.get(w.barcode)||0:i.has(w.name)&&i.get(w.name)||0,h=async()=>{try{console.log(" Fetching all inquiries from Firebase..."),console.log(" Firebase DB instance:",Et),console.log(" Collection name: Enquiries");const w=jr(Et,"Enquiries"),_=await Si(w);if(console.log(" Documents found:",_.size),_.empty){console.warn(" No documents found in Enquiries collection"),n(!1);return}const E=[];_.forEach(I=>{const N=I.data();console.log(" Raw Firebase data:",N),console.log(" Processing inquiry:",{id:I.id,customerPhone:N.customerPhone,productNames:N.productNames,products:N.products,quantity:N.itemCount,status:N.status,createdAt:N.createdAt});let j="Unknown Product";N.productNames&&Array.isArray(N.productNames)&&N.productNames.length>0?j=N.productNames[0]:N.products&&typeof N.products=="string"?j=N.products:N.productName&&(j=N.productName);const T={barcode:N.productId||N.product_id||"",id:N.productId||N.product_id||"",name:j,price:0,quantity:parseInt(N.itemCount||N.quantity)||1};console.log(" Mapped product:",T),E.push({id:I.id,customerName:N.customerName||N.userName||"Unknown Customer",customerEmail:N.customerEmail||N.userEmail||"",customerPhone:N.customerPhone||N.userPhone||"",message:N.message||N.userMessage||"",products:[T],createdAt:N.createdAt||N.submittedAt||new Date,status:N.status||"submitted"})}),E.sort((I,N)=>{var P,k,R,O;const j=((k=(P=I.createdAt)==null?void 0:P.toDate)==null?void 0:k.call(P))||new Date(I.createdAt);return(((O=(R=N.createdAt)==null?void 0:R.toDate)==null?void 0:O.call(R))||new Date(N.createdAt)).getTime()-j.getTime()}),console.log(" Fetched inquiries:",E.length),console.log(" First inquiry:",E[0]),t(E)}catch(w){console.error(" Error fetching inquiries:",w)}finally{n(!1)}};C.useEffect(()=>{h(),u();const w=jr(Et,"Enquiries"),_=vs(w,I=>{const N=[];I.forEach(j=>{const T=j.data();console.log(" Real-time update - Raw data:",T);let P="Unknown Product";T.productNames&&Array.isArray(T.productNames)&&T.productNames.length>0?P=T.productNames[0]:T.products&&typeof T.products=="string"?P=T.products:T.productName&&(P=T.productName);const k={barcode:T.productId||T.product_id||"",id:T.productId||T.product_id||"",name:P,price:0,quantity:parseInt(T.itemCount||T.quantity)||1};console.log(" Real-time mapped product:",k),N.push({id:j.id,customerName:T.customerName||T.userName||"Unknown Customer",customerEmail:T.customerEmail||T.userEmail||"",customerPhone:T.customerPhone||T.userPhone||"",message:T.message||T.userMessage||"",products:[k],createdAt:T.createdAt||T.submittedAt||new Date,status:T.status||"submitted"})}),N.sort((j,T)=>{var R,O,M,H;const P=((O=(R=j.createdAt)==null?void 0:R.toDate)==null?void 0:O.call(R))||new Date(j.createdAt);return(((H=(M=T.createdAt)==null?void 0:M.toDate)==null?void 0:H.call(M))||new Date(T.createdAt)).getTime()-P.getTime()}),t(N),n(!1)}),E=xa.subscribeToItems(I=>{const N=new Map;I.forEach(j=>{j.barcode_id&&N.set(j.barcode_id,j.quantity),N.set(j.name,j.quantity)}),s(N)});return()=>{_(),E()}},[]);const A=async(w,_)=>{try{const E=pn(Et,"Enquiries",w);await Ns(E,{status:_,updatedAt:new Date}),console.log(` Enquiry ${w} status updated to ${_}`)}catch(E){console.error(" Error updating enquiry status:",E),alert("Failed to update enquiry status. Please try again.")}},g=w=>{try{return w&&typeof w.toDate=="function"?w.toDate().toLocaleDateString()+" "+w.toDate().toLocaleTimeString():w instanceof Date?w.toLocaleDateString()+" "+w.toLocaleTimeString():typeof w=="string"?new Date(w).toLocaleDateString()+" "+new Date(w).toLocaleTimeString():"Unknown date"}catch{return"Invalid date"}},v=w=>w.reduce((_,E)=>_+E.quantity,0),x=e.filter(w=>{if(!a.trim())return!0;const _=a.toLowerCase(),E=w.customerName.toLowerCase().includes(_)||w.customerPhone.toLowerCase().includes(_)||w.customerEmail.toLowerCase().includes(_),I=w.message.toLowerCase().includes(_),N=w.products.some(j=>j.name.toLowerCase().includes(_)||j.barcode.toLowerCase().includes(_));return E||I||N}),y=e.filter(w=>w.status==="submitted"||w.status==="pending").length;return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[o.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm sticky top-0 z-50",children:o.jsx("div",{className:"container mx-auto px-4 sm:px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(et,{variant:"ghost",size:"icon",onClick:()=>c(-1),className:"hover:bg-gray-100",children:o.jsx(go,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Customer Inquiries"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage and respond to customer product requests"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[y>0&&o.jsxs("div",{className:"flex items-center gap-2 bg-red-50 text-red-700 px-4 py-2 rounded-full border border-red-200",children:[o.jsx(dm,{className:"h-4 w-4 animate-pulse"}),o.jsxs("span",{className:"font-semibold",children:[y," Pending"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.length}),o.jsx("p",{className:"text-xs text-gray-500",children:"Total"})]})]})]})})}),o.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:o.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-4",children:[o.jsxs("div",{className:"relative max-w-2xl mx-auto",children:[o.jsx(Is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx(Or,{type:"text",placeholder:"Search by customer name, phone, email, product name, or message...",value:a,onChange:w=>l(w.target.value),className:"pl-10 pr-4 py-6 text-base border-2 border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 rounded-lg"}),a&&o.jsx(et,{variant:"ghost",size:"sm",onClick:()=>l(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:"Clear"})]}),a&&o.jsxs("p",{className:"text-center text-sm text-gray-600 mt-3",children:["Found ",x.length," result",x.length!==1?"s":"",' for "',a,'"']})]})}),o.jsx("div",{className:"container mx-auto px-4 sm:px-6 py-6 space-y-4",children:r?o.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent mb-4"}),o.jsx("p",{className:"text-gray-600 font-medium",children:"Loading inquiries..."})]}):e.length===0?o.jsx(Sr,{className:"border-2 border-dashed border-gray-300 bg-white",children:o.jsxs(Pr,{className:"flex flex-col items-center justify-center py-16",children:[o.jsx("div",{className:"bg-gray-100 p-6 rounded-full mb-4",children:o.jsx(fm,{className:"h-12 w-12 text-gray-400"})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Inquiries Yet"}),o.jsx("p",{className:"text-gray-500 text-center max-w-md",children:"Customer inquiries will appear here when they request products from your website"})]})}):x.length===0?o.jsx(Sr,{className:"border-2 border-dashed border-gray-300 bg-white",children:o.jsxs(Pr,{className:"flex flex-col items-center justify-center py-16",children:[o.jsx("div",{className:"bg-gray-100 p-6 rounded-full mb-4",children:o.jsx(Is,{className:"h-12 w-12 text-gray-400"})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Results Found"}),o.jsxs("p",{className:"text-gray-500 text-center max-w-md",children:['No inquiries match your search "',a,'". Try different keywords.']}),o.jsx(et,{variant:"outline",onClick:()=>l(""),className:"mt-4",children:"Clear Search"})]})}):x.map(w=>o.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:o.jsx(Qm,{className:"h-5 w-5 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:w.customerName}),o.jsx("p",{className:"text-sm text-gray-500",children:"Customer Inquiry"})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[o.jsx(G4,{className:"h-4 w-4 text-blue-500"}),o.jsx("span",{className:"font-medium",children:w.customerPhone})]}),w.customerEmail&&o.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[o.jsx(Oie,{className:"h-4 w-4 text-blue-500"}),o.jsx("span",{children:w.customerEmail})]}),o.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[o.jsx(Mf,{className:"h-4 w-4 text-blue-500"}),o.jsx("span",{children:g(w.createdAt)})]})]})]}),o.jsx(cn,{variant:w.status==="submitted"?"destructive":w.status==="approved"?"default":"secondary",className:"text-sm px-3 py-1 font-semibold",children:w.status==="submitted"?" Pending":w.status==="approved"?" Approved":" Rejected"})]})}),o.jsxs("div",{className:"space-y-4 p-6",children:[w.message&&o.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg",children:[o.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Customer Message:"}),o.jsx("p",{className:"text-blue-800",children:w.message})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h4",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(Fo,{className:"h-5 w-5 text-primary"}),"Requested Products (",w.products.length,")"]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total Items: ",v(w.products)]})]}),o.jsx("div",{className:"grid gap-3",children:w.products.map((_,E)=>{const I=d(_),N=I===0,j=I>0&&I<_.quantity,T=I>=_.quantity;return o.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h5",{className:"font-bold text-lg text-green-900",children:_.name}),o.jsxs("div",{className:"flex items-center gap-2",children:[N&&o.jsxs(cn,{variant:"destructive",className:"gap-1",children:[o.jsx(Gg,{className:"h-3 w-3"}),"Out of Stock"]}),j&&o.jsxs(cn,{variant:"secondary",className:"gap-1 bg-yellow-100 text-yellow-800 border-yellow-300",children:[o.jsx(Gg,{className:"h-3 w-3"}),"Low Stock"]}),T&&o.jsxs(cn,{variant:"default",className:"gap-1 bg-green-100 text-green-800 border-green-300",children:[o.jsx(id,{className:"h-3 w-3"}),"In Stock"]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 text-sm",children:[o.jsxs("div",{className:"bg-white/70 p-2 rounded border border-green-200",children:[o.jsx("span",{className:"text-gray-600",children:"Requested Qty: "}),o.jsx("span",{className:"font-semibold",children:_.quantity})]}),o.jsxs("div",{className:`p-2 rounded border ${N?"bg-red-100 border-red-300":j?"bg-yellow-100 border-yellow-300":"bg-green-100 border-green-300"}`,children:[o.jsx("span",{className:"text-gray-600 block text-xs mb-1",children:"Stock Available:"}),o.jsxs("span",{className:`font-bold text-base ${N?"text-red-700":j?"text-yellow-700":"text-green-700"}`,children:[I," units"]})]}),o.jsxs("div",{className:"bg-white/70 p-2 rounded border border-green-200",children:[o.jsx("span",{className:"text-gray-600",children:"Product ID: "}),o.jsx("span",{className:"font-mono text-xs",children:_.barcode||"N/A"})]})]}),N&&o.jsx("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 rounded text-sm text-red-700 font-medium",children:" This product is currently out of stock. Cannot fulfill this inquiry."}),j&&o.jsxs("div",{className:"mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded text-sm text-yellow-700 font-medium",children:[" Insufficient stock: Only ",I," units available. Customer requested ",_.quantity," units."]})]},E)})}),o.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 p-4 rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-lg font-semibold text-blue-900",children:"Total Items Requested:"}),o.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[v(w.products)," units"]})]})})]}),w.status==="submitted"&&o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsxs(et,{onClick:()=>A(w.id,"approved"),className:"flex-1 gap-2 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white shadow-md hover:shadow-lg transition-all",children:[o.jsx(id,{className:"h-5 w-5"}),"Approve Inquiry"]}),o.jsxs(et,{onClick:()=>A(w.id,"rejected"),variant:"outline",className:"flex-1 gap-2 text-red-600 border-2 border-red-300 hover:bg-red-50 hover:border-red-400 transition-all",children:[o.jsx(LT,{className:"h-5 w-5"}),"Reject Inquiry"]})]})]})]},w.id))}),o.jsx(t1,{})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var W3={};W3.version="0.18.5";var Qge=1252,gyt=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],g9={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},m9=function(e){gyt.indexOf(e)!=-1&&(Qge=g9[0]=e)};function myt(){m9(1252)}var sf=function(e){m9(e)};function x9(){sf(1200),myt()}function WZ(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function xyt(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function $ge(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var y2=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?xyt(e.slice(2)):t==254&&r==255?$ge(e.slice(2)):t==65279?e.slice(1):e},AN=function(t){return String.fromCharCode(t)},KZ=function(t){return String.fromCharCode(t)},E0,H0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function V_(e){for(var t="",r=0,n=0,i=0,s=0,a=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),s=r>>2,n=e.charCodeAt(u++),a=(r&3)<<4|n>>4,i=e.charCodeAt(u++),l=(n&15)<<2|i>>6,c=i&63,isNaN(n)?l=c=64:isNaN(i)&&(c=64),t+=H0.charAt(s)+H0.charAt(a)+H0.charAt(l)+H0.charAt(c);return t}function Lu(e){var t="",r=0,n=0,i=0,s=0,a=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)s=H0.indexOf(e.charAt(u++)),a=H0.indexOf(e.charAt(u++)),r=s<<2|a>>4,t+=String.fromCharCode(r),l=H0.indexOf(e.charAt(u++)),n=(a&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=H0.indexOf(e.charAt(u++)),i=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(i));return t}var di=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),UA=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Np(e){return di?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function qZ(e){return di?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Cu=function(t){return di?UA(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function JI(e){if(typeof ArrayBuffer>"u")return Cu(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Xp(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function vyt(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function v9(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return v9(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var tl=di?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:UA(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),i=0;for(t=0,r=0;t<e.length;r+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function yyt(e){for(var t=[],r=0,n=e.length+250,i=Np(e.length+255),s=0;s<e.length;++s){var a=e.charCodeAt(s);if(a<128)i[r++]=a;else if(a<2048)i[r++]=192|a>>6&31,i[r++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var l=e.charCodeAt(++s)&1023;i[r++]=240|a>>8&7,i[r++]=128|a>>2&63,i[r++]=128|l>>6&15|(a&3)<<4,i[r++]=128|l&63}else i[r++]=224|a>>12&15,i[r++]=128|a>>6&63,i[r++]=128|a&63;r>n&&(t.push(i.slice(0,r)),r=0,i=Np(65535),n=65530)}return t.push(i.slice(0,r)),tl(t)}var _c=/\u0000/g,w2=/[\u0001-\u0006]/g;function Zx(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function af(e,t){var r=""+e;return r.length>=t?r:Ia("0",t-r.length)+r}function y9(e,t){var r=""+e;return r.length>=t?r:Ia(" ",t-r.length)+r}function K3(e,t){var r=""+e;return r.length>=t?r:r+Ia(" ",t-r.length)}function wyt(e,t){var r=""+Math.round(e);return r.length>=t?r:Ia("0",t-r.length)+r}function byt(e,t){var r=""+e;return r.length>=t?r:Ia("0",t-r.length)+r}var XZ=Math.pow(2,32);function D1(e,t){if(e>XZ||e<-XZ)return wyt(e,t);var r=Math.round(e);return byt(r,t)}function q3(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var YZ=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],pP=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function _yt(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Tn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},ZZ={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Eyt={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function X3(e,t,r){for(var n=e<0?-1:1,i=e*n,s=0,a=1,l=0,c=1,u=0,d=0,h=Math.floor(i);u<t&&(h=Math.floor(i),l=h*a+s,d=h*u+c,!(i-h<5e-8));)i=1/(i-h),s=a,a=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=s):(d=u,l=a)),!r)return[0,n*l,d];var A=Math.floor(n*l/d);return[A,n*l-A*d,d]}function Dg(e,t,r){if(e>2958465||e<0)return null;var n=e|0,i=Math.floor(86400*(e-n)),s=0,a=[],l={D:n,T:i,u:86400*(e-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++i==86400&&(l.T=i=0,++n,++l.D)),n===60)a=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)a=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),a=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),n<60&&(s=(s+6)%7),r&&(s=Iyt(c,a))}return l.y=a[0],l.m=a[1],l.d=a[2],l.S=i%60,i=Math.floor(i/60),l.M=i%60,i=Math.floor(i/60),l.H=i,l.q=s,l}var Vge=new Date(1899,11,31,0,0,0),Syt=Vge.getTime(),Cyt=new Date(1900,2,1,0,0,0);function zge(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Cyt&&(r+=24*60*60*1e3),(r-(Syt+(e.getTimezoneOffset()-Vge.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function w9(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Nyt(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Tyt(e){var t=e<0?12:11,r=w9(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function Byt(e){var t=w9(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function z_(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Tyt(e):t===10?r=e.toFixed(10).substr(0,12):r=Byt(e),w9(Nyt(r.toUpperCase()))}function jm(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):z_(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Nd(14,zge(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Iyt(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function kyt(e,t,r,n){var i="",s=0,a=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return pP[r.m-1][1];case 5:return pP[r.m-1][0];default:return pP[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return YZ[r.q][0];default:return YZ[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?af(r.S,t.length):(n>=2?a=n===3?1e3:100:a=n===1?10:1,s=Math.round(a*(r.S+r.u)),s>=60*a&&(s=0),t==="s"?s===0?"0":""+s/a:(i=af(s,2+n),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?af(c,u):"";return d}function Q0(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var Gge=/%/g;function jyt(e,t,r){var n=t.replace(Gge,""),i=t.length-n.length;return pA(e,n,r*Math.pow(10,2*i))+Ia("%",i)}function Pyt(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return pA(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Wge(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Wge(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(t/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),r.indexOf("e")===-1){var a=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var Kge=/# (\?+)( ?)\/( ?)(\d+)/;function Fyt(e,t,r){var n=parseInt(e[4],10),i=Math.round(t*n),s=Math.floor(i/n),a=i-s*n,l=n;return r+(s===0?"":""+s)+" "+(a===0?Ia(" ",e[1].length+1+e[4].length):y9(a,e[1].length)+e[2]+"/"+e[3]+af(l,e[4].length))}function Oyt(e,t,r){return r+(t===0?"":""+t)+Ia(" ",e[1].length+2+e[4].length)}var qge=/^#*0*\.([0#]+)/,Xge=/\).*[0#]/,Yge=/\(###\) ###\\?-####/;function fc(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function JZ(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function eJ(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Dyt(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Lyt(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Xu(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Xge)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Xu("n",n,r):"("+Xu("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Pyt(e,t,r);if(t.indexOf("%")!==-1)return jyt(e,t,r);if(t.indexOf("E")!==-1)return Wge(t,r);if(t.charCodeAt(0)===36)return"$"+Xu(e,t.substr(t.charAt(1)==" "?2:1),r);var i,s,a,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+D1(c,t.length);if(t.match(/^[#?]+$/))return i=D1(r,0),i==="0"&&(i=""),i.length>t.length?i:fc(t.substr(0,t.length-i.length))+i;if(s=t.match(Kge))return Fyt(s,c,u);if(t.match(/^#+0+$/))return u+D1(c,t.length-t.indexOf("0"));if(s=t.match(qge))return i=JZ(r,s[1].length).replace(/^([^\.]+)$/,"$1."+fc(s[1])).replace(/\.$/,"."+fc(s[1])).replace(/\.(\d*)$/,function(v,x){return"."+x+Ia("0",fc(s[1]).length-x.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+JZ(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+Q0(D1(c,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Xu(e,t,-r):Q0(""+(Math.floor(r)+Dyt(r,s[1].length)))+"."+af(eJ(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Xu(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Zx(Xu(e,t.replace(/[\\-]/g,""),r)),a=0,Zx(Zx(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return a<i.length?i.charAt(a++):v==="0"?"0":""}));if(t.match(Yge))return i=Xu(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),l=X3(c,Math.pow(10,a)-1,!1),i=""+u,d=pA("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=K3(l[2],a),d.length<s[4].length&&(d=fc(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),l=X3(c,Math.pow(10,a)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?y9(l[1],a)+s[2]+"/"+s[3]+K3(l[2],a):Ia(" ",2*a+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=D1(r,0),t.length<=i.length?i:fc(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var h=t.indexOf(".")-a,A=t.length-i.length-h;return fc(t.substr(0,h)+i+t.substr(t.length-A))}if(s=t.match(/^00,000\.([#0]*0)$/))return a=eJ(r,s[1].length),r<0?"-"+Xu(e,t,-r):Q0(Lyt(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?af(0,3-v.length):"")+v})+"."+af(a,s[1].length);switch(t){case"###,##0.00":return Xu(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var g=Q0(D1(c,0));return g!=="0"?u+g:"";case"###,###.00":return Xu(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Xu(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Ryt(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return pA(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Myt(e,t,r){var n=t.replace(Gge,""),i=t.length-n.length;return pA(e,n,r*Math.pow(10,2*i))+Ia("%",i)}function Zge(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Zge(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(t/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!r.match(/[Ee]/)){var a=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function If(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Xge)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?If("n",n,r):"("+If("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Ryt(e,t,r);if(t.indexOf("%")!==-1)return Myt(e,t,r);if(t.indexOf("E")!==-1)return Zge(t,r);if(t.charCodeAt(0)===36)return"$"+If(e,t.substr(t.charAt(1)==" "?2:1),r);var i,s,a,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+af(c,t.length);if(t.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>t.length?i:fc(t.substr(0,t.length-i.length))+i;if(s=t.match(Kge))return Oyt(s,c,u);if(t.match(/^#+0+$/))return u+af(c,t.length-t.indexOf("0"));if(s=t.match(qge))return i=(""+r).replace(/^([^\.]+)$/,"$1."+fc(s[1])).replace(/\.$/,"."+fc(s[1])),i=i.replace(/\.(\d*)$/,function(v,x){return"."+x+Ia("0",fc(s[1]).length-x.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+Q0(""+c);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+If(e,t,-r):Q0(""+r)+"."+Ia("0",s[1].length);if(s=t.match(/^#,#*,#0/))return If(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Zx(If(e,t.replace(/[\\-]/g,""),r)),a=0,Zx(Zx(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return a<i.length?i.charAt(a++):v==="0"?"0":""}));if(t.match(Yge))return i=If(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),l=X3(c,Math.pow(10,a)-1,!1),i=""+u,d=pA("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=K3(l[2],a),d.length<s[4].length&&(d=fc(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),l=X3(c,Math.pow(10,a)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?y9(l[1],a)+s[2]+"/"+s[3]+K3(l[2],a):Ia(" ",2*a+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=""+r,t.length<=i.length?i:fc(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var h=t.indexOf(".")-a,A=t.length-i.length-h;return fc(t.substr(0,h)+i+t.substr(t.length-A))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+If(e,t,-r):Q0(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?af(0,3-v.length):"")+v})+"."+af(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var g=Q0(""+c);return g!=="0"?u+g:"";default:if(t.match(/\.[0#?]*$/))return If(e,t.slice(0,t.lastIndexOf(".")),r)+fc(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function pA(e,t,r){return(r|0)===r?If(e,t,r):Xu(e,t,r)}function Uyt(e){for(var t=[],r=!1,n=0,i=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(i,n-i),i=n+1}if(t[t.length]=e.substr(i),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Jge=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function iw(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":q3(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(Jge))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Hyt(e,t,r,n){for(var i=[],s="",a=0,l="",c="t",u,d,h,A="H";a<e.length;)switch(l=e.charAt(a)){case"G":if(!q3(e,a))throw new Error("unrecognized character "+l+" in "+e);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(h=e.charCodeAt(++a))!==34&&a<e.length;)s+=String.fromCharCode(h);i[i.length]={t:"t",v:s},++a;break;case"\\":var g=e.charAt(++a),v=g==="("||g===")"?g:"t";i[i.length]={t:v,v:g},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:t},++a;break;case"B":case"b":if(e.charAt(a+1)==="1"||e.charAt(a+1)==="2"){if(u==null&&(u=Dg(t,r,e.charAt(a+1)==="2"),u==null))return"";i[i.length]={t:"X",v:e.substr(a,2)},c=l,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Dg(t,r),u==null))return"";for(s=l;++a<e.length&&e.charAt(a).toLowerCase()===l;)s+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=A),i[i.length]={t:l,v:s},c=l;break;case"A":case"a":case"":var x={t:l,v:l};if(u==null&&(u=Dg(t,r)),e.substr(a,3).toUpperCase()==="A/P"?(u!=null&&(x.v=u.H>=12?"P":"A"),x.t="T",A="h",a+=3):e.substr(a,5).toUpperCase()==="AM/PM"?(u!=null&&(x.v=u.H>=12?"PM":"AM"),x.t="T",a+=5,A="h"):e.substr(a,5).toUpperCase()==="/"?(u!=null&&(x.v=u.H>=12?"":""),x.t="T",a+=5,A="h"):(x.t="t",++a),u==null&&x.t==="T")return"";i[i.length]=x,c=l;break;case"[":for(s=l;e.charAt(a++)!=="]"&&a<e.length;)s+=e.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(Jge)){if(u==null&&(u=Dg(t,r),u==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",iw(e)||(i[i.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=l;++a<e.length&&(l=e.charAt(a))==="0";)s+=l;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++a<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(a))>-1;)s+=l;i[i.length]={t:"n",v:s};break;case"?":for(s=l;e.charAt(++a)===l;)s+=l;i[i.length]={t:l,v:s},c=l;break;case"*":++a,(e.charAt(a)==" "||e.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:n===1?"t":l,v:l},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;a<e.length&&"0123456789".indexOf(e.charAt(++a))>-1;)s+=e.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:l,v:l},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);i[i.length]={t:"t",v:l},++a;break}var y=0,w=0,_;for(a=i.length-1,c="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=A,c="h",y<1&&(y=1);break;case"s":(_=i[a].v.match(/\.0+$/))&&(w=Math.max(w,_[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":c=i[a].t;break;case"m":c==="s"&&(i[a].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&i[a].v.match(/[Hh]/)&&(y=1),y<2&&i[a].v.match(/[Mm]/)&&(y=2),y<3&&i[a].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var E="",I;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=kyt(i[a].t.charCodeAt(0),i[a].v,u,w),i[a].t="t";break;case"n":case"?":for(I=a+1;i[I]!=null&&((l=i[I].t)==="?"||l==="D"||(l===" "||l==="t")&&i[I+1]!=null&&(i[I+1].t==="?"||i[I+1].t==="t"&&i[I+1].v==="/")||i[a].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(i[I].v==="/"||i[I].v===" "&&i[I+1]!=null&&i[I+1].t=="?"));)i[a].v+=i[I].v,i[I]={v:"",t:";"},++I;E+=i[a].v,a=I-1;break;case"G":i[a].t="t",i[a].v=jm(t,r);break}var N="",j,T;if(E.length>0){E.charCodeAt(0)==40?(j=t<0&&E.charCodeAt(0)===45?-t:t,T=pA("n",E,j)):(j=t<0&&n>1?-t:t,T=pA("n",E,j),j<0&&i[0]&&i[0].t=="t"&&(T=T.substr(1),i[0].v="-"+i[0].v)),I=T.length-1;var P=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){P=a;break}var k=i.length;if(P===i.length&&T.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(I>=i[a].v.length-1?(I-=i[a].v.length,i[a].v=T.substr(I+1,i[a].v.length)):I<0?i[a].v="":(i[a].v=T.substr(0,I+1),I=-1),i[a].t="t",k=a);I>=0&&k<i.length&&(i[k].v=T.substr(0,I+1)+i[k].v)}else if(P!==i.length&&T.indexOf("E")===-1){for(I=T.indexOf(".")-1,a=P;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(d=i[a].v.indexOf(".")>-1&&a===P?i[a].v.indexOf(".")-1:i[a].v.length-1,N=i[a].v.substr(d+1);d>=0;--d)I>=0&&(i[a].v.charAt(d)==="0"||i[a].v.charAt(d)==="#")&&(N=T.charAt(I--)+N);i[a].v=N,i[a].t="t",k=a}for(I>=0&&k<i.length&&(i[k].v=T.substr(0,I+1)+i[k].v),I=T.indexOf(".")+1,a=P;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==P)){for(d=i[a].v.indexOf(".")>-1&&a===P?i[a].v.indexOf(".")+1:0,N=i[a].v.substr(0,d);d<i[a].v.length;++d)I<T.length&&(N+=T.charAt(I++));i[a].v=N,i[a].t="t",k=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(j=n>1&&t<0&&a>0&&i[a-1].v==="-"?-t:t,i[a].v=pA(i[a].t,i[a].v,j),i[a].t="t");var R="";for(a=0;a!==i.length;++a)i[a]!=null&&(R+=i[a].v);return R}var tJ=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function rJ(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Qyt(e,t){var r=Uyt(e),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var a=r[0].match(tJ),l=r[1].match(tJ);return rJ(t,a)?[n,r[0]]:rJ(t,l)?[n,r[1]]:[n,r[a!=null&&l!=null?2:1]]}return[n,s]}function Nd(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Tn)[e],n==null&&(n=r.table&&r.table[ZZ[e]]||Tn[ZZ[e]]),n==null&&(n=Eyt[e]||"General");break}if(q3(n,0))return jm(t,r);t instanceof Date&&(t=zge(t,r.date1904));var i=Qyt(n,t);if(q3(i[1]))return jm(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Hyt(i[1],t,r,i[0])}function gA(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Tn[r]==null){t<0&&(t=r);continue}if(Tn[r]==e){t=r;break}}t<0&&(t=391)}return Tn[t]=e,t}function ek(e){for(var t=0;t!=392;++t)e[t]!==void 0&&gA(e[t],t)}function sw(){Tn=_yt()}var $yt={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},eme=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Vyt(e){var t=typeof e=="number"?Tn[e]:e;return t=t.replace(eme,"(\\d+)"),new RegExp("^"+t+"$")}function zyt(e,t,r){var n=-1,i=-1,s=-1,a=-1,l=-1,c=-1;(t.match(eme)||[]).forEach(function(h,A){var g=parseInt(r[A+1],10);switch(h.toLowerCase().charAt(0)){case"y":n=g;break;case"d":s=g;break;case"h":a=g;break;case"s":c=g;break;case"m":a>=0?l=g:i=g;break}}),c>=0&&l==-1&&i>=0&&(l=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return a==-1&&l==-1&&c==-1?u:n==-1&&i==-1&&s==-1?d:u+"T"+d}var Gyt=function(){var e={};e.version="1.2.0";function t(){for(var T=0,P=new Array(256),k=0;k!=256;++k)T=k,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,P[k]=T;return typeof Int32Array<"u"?new Int32Array(P):P}var r=t();function n(T){var P=0,k=0,R=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(R=0;R!=256;++R)O[R]=T[R];for(R=0;R!=256;++R)for(k=T[R],P=256+R;P<4096;P+=256)k=O[P]=k>>>8^T[k&255];var M=[];for(R=1;R!=16;++R)M[R-1]=typeof Int32Array<"u"?O.subarray(R*256,R*256+256):O.slice(R*256,R*256+256);return M}var i=n(r),s=i[0],a=i[1],l=i[2],c=i[3],u=i[4],d=i[5],h=i[6],A=i[7],g=i[8],v=i[9],x=i[10],y=i[11],w=i[12],_=i[13],E=i[14];function I(T,P){for(var k=P^-1,R=0,O=T.length;R<O;)k=k>>>8^r[(k^T.charCodeAt(R++))&255];return~k}function N(T,P){for(var k=P^-1,R=T.length-15,O=0;O<R;)k=E[T[O++]^k&255]^_[T[O++]^k>>8&255]^w[T[O++]^k>>16&255]^y[T[O++]^k>>>24]^x[T[O++]]^v[T[O++]]^g[T[O++]]^A[T[O++]]^h[T[O++]]^d[T[O++]]^u[T[O++]]^c[T[O++]]^l[T[O++]]^a[T[O++]]^s[T[O++]]^r[T[O++]];for(R+=15;O<R;)k=k>>>8^r[(k^T[O++])&255];return~k}function j(T,P){for(var k=P^-1,R=0,O=T.length,M=0,H=0;R<O;)M=T.charCodeAt(R++),M<128?k=k>>>8^r[(k^M)&255]:M<2048?(k=k>>>8^r[(k^(192|M>>6&31))&255],k=k>>>8^r[(k^(128|M&63))&255]):M>=55296&&M<57344?(M=(M&1023)+64,H=T.charCodeAt(R++)&1023,k=k>>>8^r[(k^(240|M>>8&7))&255],k=k>>>8^r[(k^(128|M>>2&63))&255],k=k>>>8^r[(k^(128|H>>6&15|(M&3)<<4))&255],k=k>>>8^r[(k^(128|H&63))&255]):(k=k>>>8^r[(k^(224|M>>12&15))&255],k=k>>>8^r[(k^(128|M>>6&63))&255],k=k>>>8^r[(k^(128|M&63))&255]);return~k}return e.table=r,e.bstr=I,e.buf=N,e.str=j,e}(),mn=function(){var t={};t.version="1.2.1";function r(xe,Ee){for(var Ie=xe.split("/"),je=Ee.split("/"),De=0,Ue=0,lt=Math.min(Ie.length,je.length);De<lt;++De){if(Ue=Ie[De].length-je[De].length)return Ue;if(Ie[De]!=je[De])return Ie[De]<je[De]?-1:1}return Ie.length-je.length}function n(xe){if(xe.charAt(xe.length-1)=="/")return xe.slice(0,-1).indexOf("/")===-1?xe:n(xe.slice(0,-1));var Ee=xe.lastIndexOf("/");return Ee===-1?xe:xe.slice(0,Ee+1)}function i(xe){if(xe.charAt(xe.length-1)=="/")return i(xe.slice(0,-1));var Ee=xe.lastIndexOf("/");return Ee===-1?xe:xe.slice(Ee+1)}function s(xe,Ee){typeof Ee=="string"&&(Ee=new Date(Ee));var Ie=Ee.getHours();Ie=Ie<<6|Ee.getMinutes(),Ie=Ie<<5|Ee.getSeconds()>>>1,xe.write_shift(2,Ie);var je=Ee.getFullYear()-1980;je=je<<4|Ee.getMonth()+1,je=je<<5|Ee.getDate(),xe.write_shift(2,je)}function a(xe){var Ee=xe.read_shift(2)&65535,Ie=xe.read_shift(2)&65535,je=new Date,De=Ie&31;Ie>>>=5;var Ue=Ie&15;Ie>>>=4,je.setMilliseconds(0),je.setFullYear(Ie+1980),je.setMonth(Ue-1),je.setDate(De);var lt=Ee&31;Ee>>>=5;var bt=Ee&63;return Ee>>>=6,je.setHours(Ee),je.setMinutes(bt),je.setSeconds(lt<<1),je}function l(xe){xl(xe,0);for(var Ee={},Ie=0;xe.l<=xe.length-4;){var je=xe.read_shift(2),De=xe.read_shift(2),Ue=xe.l+De,lt={};switch(je){case 21589:Ie=xe.read_shift(1),Ie&1&&(lt.mtime=xe.read_shift(4)),De>5&&(Ie&2&&(lt.atime=xe.read_shift(4)),Ie&4&&(lt.ctime=xe.read_shift(4))),lt.mtime&&(lt.mt=new Date(lt.mtime*1e3));break}xe.l=Ue,Ee[je]=lt}return Ee}var c;function u(){return c||(c={})}function d(xe,Ee){if(xe[0]==80&&xe[1]==75)return $t(xe,Ee);if((xe[0]|32)==109&&(xe[1]|32)==105)return Fr(xe,Ee);if(xe.length<512)throw new Error("CFB file size "+xe.length+" < 512");var Ie=3,je=512,De=0,Ue=0,lt=0,bt=0,it=0,ct=[],ht=xe.slice(0,512);xl(ht,0);var Vt=h(ht);switch(Ie=Vt[0],Ie){case 3:je=512;break;case 4:je=4096;break;case 0:if(Vt[1]==0)return $t(xe,Ee);default:throw new Error("Major Version: Expected 3 or 4 saw "+Ie)}je!==512&&(ht=xe.slice(0,je),xl(ht,28));var tr=xe.slice(0,je);A(ht,Ie);var Jt=ht.read_shift(4,"i");if(Ie===3&&Jt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Jt);ht.l+=4,lt=ht.read_shift(4,"i"),ht.l+=4,ht.chk("00100000","Mini Stream Cutoff Size: "),bt=ht.read_shift(4,"i"),De=ht.read_shift(4,"i"),it=ht.read_shift(4,"i"),Ue=ht.read_shift(4,"i");for(var ar=-1,yr=0;yr<109&&(ar=ht.read_shift(4,"i"),!(ar<0));++yr)ct[yr]=ar;var tn=g(xe,je);y(it,Ue,tn,je,ct);var Nt=_(tn,lt,ct,je);Nt[lt].name="!Directory",De>0&&bt!==H&&(Nt[bt].name="!MiniFAT"),Nt[ct[0]].name="!FAT",Nt.fat_addrs=ct,Nt.ssz=je;var Ln={},wn=[],oa=[],xo=[];E(lt,Nt,tn,wn,De,Ln,oa,bt),v(oa,xo,wn),wn.shift();var On={FileIndex:oa,FullPaths:xo};return Ee&&Ee.raw&&(On.raw={header:tr,sectors:tn}),On}function h(xe){if(xe[xe.l]==80&&xe[xe.l+1]==75)return[0,0];xe.chk(K,"Header Signature: "),xe.l+=16;var Ee=xe.read_shift(2,"u");return[xe.read_shift(2,"u"),Ee]}function A(xe,Ee){var Ie=9;switch(xe.l+=2,Ie=xe.read_shift(2)){case 9:if(Ee!=3)throw new Error("Sector Shift: Expected 9 saw "+Ie);break;case 12:if(Ee!=4)throw new Error("Sector Shift: Expected 12 saw "+Ie);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Ie)}xe.chk("0600","Mini Sector Shift: "),xe.chk("000000000000","Reserved: ")}function g(xe,Ee){for(var Ie=Math.ceil(xe.length/Ee)-1,je=[],De=1;De<Ie;++De)je[De-1]=xe.slice(De*Ee,(De+1)*Ee);return je[Ie-1]=xe.slice(Ie*Ee),je}function v(xe,Ee,Ie){for(var je=0,De=0,Ue=0,lt=0,bt=0,it=Ie.length,ct=[],ht=[];je<it;++je)ct[je]=ht[je]=je,Ee[je]=Ie[je];for(;bt<ht.length;++bt)je=ht[bt],De=xe[je].L,Ue=xe[je].R,lt=xe[je].C,ct[je]===je&&(De!==-1&&ct[De]!==De&&(ct[je]=ct[De]),Ue!==-1&&ct[Ue]!==Ue&&(ct[je]=ct[Ue])),lt!==-1&&(ct[lt]=je),De!==-1&&je!=ct[je]&&(ct[De]=ct[je],ht.lastIndexOf(De)<bt&&ht.push(De)),Ue!==-1&&je!=ct[je]&&(ct[Ue]=ct[je],ht.lastIndexOf(Ue)<bt&&ht.push(Ue));for(je=1;je<it;++je)ct[je]===je&&(Ue!==-1&&ct[Ue]!==Ue?ct[je]=ct[Ue]:De!==-1&&ct[De]!==De&&(ct[je]=ct[De]));for(je=1;je<it;++je)if(xe[je].type!==0){if(bt=je,bt!=ct[bt])do bt=ct[bt],Ee[je]=Ee[bt]+"/"+Ee[je];while(bt!==0&&ct[bt]!==-1&&bt!=ct[bt]);ct[je]=-1}for(Ee[0]+="/",je=1;je<it;++je)xe[je].type!==2&&(Ee[je]+="/")}function x(xe,Ee,Ie){for(var je=xe.start,De=xe.size,Ue=[],lt=je;Ie&&De>0&&lt>=0;)Ue.push(Ee.slice(lt*M,lt*M+M)),De-=M,lt=wg(Ie,lt*4);return Ue.length===0?Ft(0):tl(Ue).slice(0,xe.size)}function y(xe,Ee,Ie,je,De){var Ue=H;if(xe===H){if(Ee!==0)throw new Error("DIFAT chain shorter than expected")}else if(xe!==-1){var lt=Ie[xe],bt=(je>>>2)-1;if(!lt)return;for(var it=0;it<bt&&(Ue=wg(lt,it*4))!==H;++it)De.push(Ue);y(wg(lt,je-4),Ee-1,Ie,je,De)}}function w(xe,Ee,Ie,je,De){var Ue=[],lt=[];De||(De=[]);var bt=je-1,it=0,ct=0;for(it=Ee;it>=0;){De[it]=!0,Ue[Ue.length]=it,lt.push(xe[it]);var ht=Ie[Math.floor(it*4/je)];if(ct=it*4&bt,je<4+ct)throw new Error("FAT boundary crossed: "+it+" 4 "+je);if(!xe[ht])break;it=wg(xe[ht],ct)}return{nodes:Ue,data:AJ([lt])}}function _(xe,Ee,Ie,je){var De=xe.length,Ue=[],lt=[],bt=[],it=[],ct=je-1,ht=0,Vt=0,tr=0,Jt=0;for(ht=0;ht<De;++ht)if(bt=[],tr=ht+Ee,tr>=De&&(tr-=De),!lt[tr]){it=[];var ar=[];for(Vt=tr;Vt>=0;){ar[Vt]=!0,lt[Vt]=!0,bt[bt.length]=Vt,it.push(xe[Vt]);var yr=Ie[Math.floor(Vt*4/je)];if(Jt=Vt*4&ct,je<4+Jt)throw new Error("FAT boundary crossed: "+Vt+" 4 "+je);if(!xe[yr]||(Vt=wg(xe[yr],Jt),ar[Vt]))break}Ue[tr]={nodes:bt,data:AJ([it])}}return Ue}function E(xe,Ee,Ie,je,De,Ue,lt,bt){for(var it=0,ct=je.length?2:0,ht=Ee[xe].data,Vt=0,tr=0,Jt;Vt<ht.length;Vt+=128){var ar=ht.slice(Vt,Vt+128);xl(ar,64),tr=ar.read_shift(2),Jt=T9(ar,0,tr-ct),je.push(Jt);var yr={name:Jt,type:ar.read_shift(1),color:ar.read_shift(1),L:ar.read_shift(4,"i"),R:ar.read_shift(4,"i"),C:ar.read_shift(4,"i"),clsid:ar.read_shift(16),state:ar.read_shift(4,"i"),start:0,size:0},tn=ar.read_shift(2)+ar.read_shift(2)+ar.read_shift(2)+ar.read_shift(2);tn!==0&&(yr.ct=I(ar,ar.l-8));var Nt=ar.read_shift(2)+ar.read_shift(2)+ar.read_shift(2)+ar.read_shift(2);Nt!==0&&(yr.mt=I(ar,ar.l-8)),yr.start=ar.read_shift(4,"i"),yr.size=ar.read_shift(4,"i"),yr.size<0&&yr.start<0&&(yr.size=yr.type=0,yr.start=H,yr.name=""),yr.type===5?(it=yr.start,De>0&&it!==H&&(Ee[it].name="!StreamData")):yr.size>=4096?(yr.storage="fat",Ee[yr.start]===void 0&&(Ee[yr.start]=w(Ie,yr.start,Ee.fat_addrs,Ee.ssz)),Ee[yr.start].name=yr.name,yr.content=Ee[yr.start].data.slice(0,yr.size)):(yr.storage="minifat",yr.size<0?yr.size=0:it!==H&&yr.start!==H&&Ee[it]&&(yr.content=x(yr,Ee[it].data,(Ee[bt]||{}).data))),yr.content&&xl(yr.content,0),Ue[Jt]=yr,lt.push(yr)}}function I(xe,Ee){return new Date((wu(xe,Ee+4)/1e7*Math.pow(2,32)+wu(xe,Ee)/1e7-11644473600)*1e3)}function N(xe,Ee){return u(),d(c.readFileSync(xe),Ee)}function j(xe,Ee){var Ie=Ee&&Ee.type;switch(Ie||di&&Buffer.isBuffer(xe)&&(Ie="buffer"),Ie||"base64"){case"file":return N(xe,Ee);case"base64":return d(Cu(Lu(xe)),Ee);case"binary":return d(Cu(xe),Ee)}return d(xe,Ee)}function T(xe,Ee){var Ie=Ee||{},je=Ie.root||"Root Entry";if(xe.FullPaths||(xe.FullPaths=[]),xe.FileIndex||(xe.FileIndex=[]),xe.FullPaths.length!==xe.FileIndex.length)throw new Error("inconsistent CFB structure");xe.FullPaths.length===0&&(xe.FullPaths[0]=je+"/",xe.FileIndex[0]={name:je,type:5}),Ie.CLSID&&(xe.FileIndex[0].clsid=Ie.CLSID),P(xe)}function P(xe){var Ee="Sh33tJ5";if(!mn.find(xe,"/"+Ee)){var Ie=Ft(4);Ie[0]=55,Ie[1]=Ie[3]=50,Ie[2]=54,xe.FileIndex.push({name:Ee,type:2,content:Ie,size:4,L:69,R:69,C:69}),xe.FullPaths.push(xe.FullPaths[0]+Ee),k(xe)}}function k(xe,Ee){T(xe);for(var Ie=!1,je=!1,De=xe.FullPaths.length-1;De>=0;--De){var Ue=xe.FileIndex[De];switch(Ue.type){case 0:je?Ie=!0:(xe.FileIndex.pop(),xe.FullPaths.pop());break;case 1:case 2:case 5:je=!0,isNaN(Ue.R*Ue.L*Ue.C)&&(Ie=!0),Ue.R>-1&&Ue.L>-1&&Ue.R==Ue.L&&(Ie=!0);break;default:Ie=!0;break}}if(!(!Ie&&!Ee)){var lt=new Date(1987,1,19),bt=0,it=Object.create?Object.create(null):{},ct=[];for(De=0;De<xe.FullPaths.length;++De)it[xe.FullPaths[De]]=!0,xe.FileIndex[De].type!==0&&ct.push([xe.FullPaths[De],xe.FileIndex[De]]);for(De=0;De<ct.length;++De){var ht=n(ct[De][0]);je=it[ht],je||(ct.push([ht,{name:i(ht).replace("/",""),type:1,clsid:ne,ct:lt,mt:lt,content:null}]),it[ht]=!0)}for(ct.sort(function(Jt,ar){return r(Jt[0],ar[0])}),xe.FullPaths=[],xe.FileIndex=[],De=0;De<ct.length;++De)xe.FullPaths[De]=ct[De][0],xe.FileIndex[De]=ct[De][1];for(De=0;De<ct.length;++De){var Vt=xe.FileIndex[De],tr=xe.FullPaths[De];if(Vt.name=i(tr).replace("/",""),Vt.L=Vt.R=Vt.C=-(Vt.color=1),Vt.size=Vt.content?Vt.content.length:0,Vt.start=0,Vt.clsid=Vt.clsid||ne,De===0)Vt.C=ct.length>1?1:-1,Vt.size=0,Vt.type=5;else if(tr.slice(-1)=="/"){for(bt=De+1;bt<ct.length&&n(xe.FullPaths[bt])!=tr;++bt);for(Vt.C=bt>=ct.length?-1:bt,bt=De+1;bt<ct.length&&n(xe.FullPaths[bt])!=n(tr);++bt);Vt.R=bt>=ct.length?-1:bt,Vt.type=1}else n(xe.FullPaths[De+1]||"")==n(tr)&&(Vt.R=De+1),Vt.type=2}}}function R(xe,Ee){var Ie=Ee||{};if(Ie.fileType=="mad")return Zn(xe,Ie);switch(k(xe),Ie.fileType){case"zip":return mr(xe,Ie)}var je=function(Jt){for(var ar=0,yr=0,tn=0;tn<Jt.FileIndex.length;++tn){var Nt=Jt.FileIndex[tn];if(Nt.content){var Ln=Nt.content.length;Ln>0&&(Ln<4096?ar+=Ln+63>>6:yr+=Ln+511>>9)}}for(var wn=Jt.FullPaths.length+3>>2,oa=ar+7>>3,xo=ar+127>>7,On=oa+yr+wn+xo,Jr=On+127>>7,xn=Jr<=109?0:Math.ceil((Jr-109)/127);On+Jr+xn+127>>7>Jr;)xn=++Jr<=109?0:Math.ceil((Jr-109)/127);var Rn=[1,xn,Jr,xo,wn,yr,ar,0];return Jt.FileIndex[0].size=ar<<6,Rn[7]=(Jt.FileIndex[0].start=Rn[0]+Rn[1]+Rn[2]+Rn[3]+Rn[4]+Rn[5])+(Rn[6]+7>>3),Rn}(xe),De=Ft(je[7]<<9),Ue=0,lt=0;{for(Ue=0;Ue<8;++Ue)De.write_shift(1,Y[Ue]);for(Ue=0;Ue<8;++Ue)De.write_shift(2,0);for(De.write_shift(2,62),De.write_shift(2,3),De.write_shift(2,65534),De.write_shift(2,9),De.write_shift(2,6),Ue=0;Ue<3;++Ue)De.write_shift(2,0);for(De.write_shift(4,0),De.write_shift(4,je[2]),De.write_shift(4,je[0]+je[1]+je[2]+je[3]-1),De.write_shift(4,0),De.write_shift(4,4096),De.write_shift(4,je[3]?je[0]+je[1]+je[2]-1:H),De.write_shift(4,je[3]),De.write_shift(-4,je[1]?je[0]-1:H),De.write_shift(4,je[1]),Ue=0;Ue<109;++Ue)De.write_shift(-4,Ue<je[2]?je[1]+Ue:-1)}if(je[1])for(lt=0;lt<je[1];++lt){for(;Ue<236+lt*127;++Ue)De.write_shift(-4,Ue<je[2]?je[1]+Ue:-1);De.write_shift(-4,lt===je[1]-1?H:lt+1)}var bt=function(Jt){for(lt+=Jt;Ue<lt-1;++Ue)De.write_shift(-4,Ue+1);Jt&&(++Ue,De.write_shift(-4,H))};for(lt=Ue=0,lt+=je[1];Ue<lt;++Ue)De.write_shift(-4,le.DIFSECT);for(lt+=je[2];Ue<lt;++Ue)De.write_shift(-4,le.FATSECT);bt(je[3]),bt(je[4]);for(var it=0,ct=0,ht=xe.FileIndex[0];it<xe.FileIndex.length;++it)ht=xe.FileIndex[it],ht.content&&(ct=ht.content.length,!(ct<4096)&&(ht.start=lt,bt(ct+511>>9)));for(bt(je[6]+7>>3);De.l&511;)De.write_shift(-4,le.ENDOFCHAIN);for(lt=Ue=0,it=0;it<xe.FileIndex.length;++it)ht=xe.FileIndex[it],ht.content&&(ct=ht.content.length,!(!ct||ct>=4096)&&(ht.start=lt,bt(ct+63>>6)));for(;De.l&511;)De.write_shift(-4,le.ENDOFCHAIN);for(Ue=0;Ue<je[4]<<2;++Ue){var Vt=xe.FullPaths[Ue];if(!Vt||Vt.length===0){for(it=0;it<17;++it)De.write_shift(4,0);for(it=0;it<3;++it)De.write_shift(4,-1);for(it=0;it<12;++it)De.write_shift(4,0);continue}ht=xe.FileIndex[Ue],Ue===0&&(ht.start=ht.size?ht.start-1:H);var tr=Ue===0&&Ie.root||ht.name;if(ct=2*(tr.length+1),De.write_shift(64,tr,"utf16le"),De.write_shift(2,ct),De.write_shift(1,ht.type),De.write_shift(1,ht.color),De.write_shift(-4,ht.L),De.write_shift(-4,ht.R),De.write_shift(-4,ht.C),ht.clsid)De.write_shift(16,ht.clsid,"hex");else for(it=0;it<4;++it)De.write_shift(4,0);De.write_shift(4,ht.state||0),De.write_shift(4,0),De.write_shift(4,0),De.write_shift(4,0),De.write_shift(4,0),De.write_shift(4,ht.start),De.write_shift(4,ht.size),De.write_shift(4,0)}for(Ue=1;Ue<xe.FileIndex.length;++Ue)if(ht=xe.FileIndex[Ue],ht.size>=4096)if(De.l=ht.start+1<<9,di&&Buffer.isBuffer(ht.content))ht.content.copy(De,De.l,0,ht.size),De.l+=ht.size+511&-512;else{for(it=0;it<ht.size;++it)De.write_shift(1,ht.content[it]);for(;it&511;++it)De.write_shift(1,0)}for(Ue=1;Ue<xe.FileIndex.length;++Ue)if(ht=xe.FileIndex[Ue],ht.size>0&&ht.size<4096)if(di&&Buffer.isBuffer(ht.content))ht.content.copy(De,De.l,0,ht.size),De.l+=ht.size+63&-64;else{for(it=0;it<ht.size;++it)De.write_shift(1,ht.content[it]);for(;it&63;++it)De.write_shift(1,0)}if(di)De.l=De.length;else for(;De.l<De.length;)De.write_shift(1,0);return De}function O(xe,Ee){var Ie=xe.FullPaths.map(function(it){return it.toUpperCase()}),je=Ie.map(function(it){var ct=it.split("/");return ct[ct.length-(it.slice(-1)=="/"?2:1)]}),De=!1;Ee.charCodeAt(0)===47?(De=!0,Ee=Ie[0].slice(0,-1)+Ee):De=Ee.indexOf("/")!==-1;var Ue=Ee.toUpperCase(),lt=De===!0?Ie.indexOf(Ue):je.indexOf(Ue);if(lt!==-1)return xe.FileIndex[lt];var bt=!Ue.match(w2);for(Ue=Ue.replace(_c,""),bt&&(Ue=Ue.replace(w2,"!")),lt=0;lt<Ie.length;++lt)if((bt?Ie[lt].replace(w2,"!"):Ie[lt]).replace(_c,"")==Ue||(bt?je[lt].replace(w2,"!"):je[lt]).replace(_c,"")==Ue)return xe.FileIndex[lt];return null}var M=64,H=-2,K="d0cf11e0a1b11ae1",Y=[208,207,17,224,161,177,26,225],ne="00000000000000000000000000000000",le={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:H,FREESECT:-1,HEADER_SIGNATURE:K,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ne,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function te(xe,Ee,Ie){u();var je=R(xe,Ie);c.writeFileSync(Ee,je)}function X(xe){for(var Ee=new Array(xe.length),Ie=0;Ie<xe.length;++Ie)Ee[Ie]=String.fromCharCode(xe[Ie]);return Ee.join("")}function ue(xe,Ee){var Ie=R(xe,Ee);switch(Ee&&Ee.type||"buffer"){case"file":return u(),c.writeFileSync(Ee.filename,Ie),Ie;case"binary":return typeof Ie=="string"?Ie:X(Ie);case"base64":return V_(typeof Ie=="string"?Ie:X(Ie));case"buffer":if(di)return Buffer.isBuffer(Ie)?Ie:UA(Ie);case"array":return typeof Ie=="string"?Cu(Ie):Ie}return Ie}var ve;function V(xe){try{var Ee=xe.InflateRaw,Ie=new Ee;if(Ie._processChunk(new Uint8Array([3,0]),Ie._finishFlushFlag),Ie.bytesRead)ve=xe;else throw new Error("zlib does not expose bytesRead")}catch(je){console.error("cannot use native zlib: "+(je.message||je))}}function q(xe,Ee){if(!ve)return gr(xe,Ee);var Ie=ve.InflateRaw,je=new Ie,De=je._processChunk(xe.slice(xe.l),je._finishFlushFlag);return xe.l+=je.bytesRead,De}function ee(xe){return ve?ve.deflateRawSync(xe):Ut(xe)}var re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],de=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ae=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function _e(xe){var Ee=(xe<<1|xe<<11)&139536|(xe<<5|xe<<15)&558144;return(Ee>>16|Ee>>8|Ee)&255}for(var ye=typeof Uint8Array<"u",ce=ye?new Uint8Array(256):[],Ne=0;Ne<256;++Ne)ce[Ne]=_e(Ne);function oe(xe,Ee){var Ie=ce[xe&255];return Ee<=8?Ie>>>8-Ee:(Ie=Ie<<8|ce[xe>>8&255],Ee<=16?Ie>>>16-Ee:(Ie=Ie<<8|ce[xe>>16&255],Ie>>>24-Ee))}function We(xe,Ee){var Ie=Ee&7,je=Ee>>>3;return(xe[je]|(Ie<=6?0:xe[je+1]<<8))>>>Ie&3}function Re(xe,Ee){var Ie=Ee&7,je=Ee>>>3;return(xe[je]|(Ie<=5?0:xe[je+1]<<8))>>>Ie&7}function z(xe,Ee){var Ie=Ee&7,je=Ee>>>3;return(xe[je]|(Ie<=4?0:xe[je+1]<<8))>>>Ie&15}function Fe(xe,Ee){var Ie=Ee&7,je=Ee>>>3;return(xe[je]|(Ie<=3?0:xe[je+1]<<8))>>>Ie&31}function He(xe,Ee){var Ie=Ee&7,je=Ee>>>3;return(xe[je]|(Ie<=1?0:xe[je+1]<<8))>>>Ie&127}function ke(xe,Ee,Ie){var je=Ee&7,De=Ee>>>3,Ue=(1<<Ie)-1,lt=xe[De]>>>je;return Ie<8-je||(lt|=xe[De+1]<<8-je,Ie<16-je)||(lt|=xe[De+2]<<16-je,Ie<24-je)||(lt|=xe[De+3]<<24-je),lt&Ue}function Te(xe,Ee,Ie){var je=Ee&7,De=Ee>>>3;return je<=5?xe[De]|=(Ie&7)<<je:(xe[De]|=Ie<<je&255,xe[De+1]=(Ie&7)>>8-je),Ee+3}function Ze(xe,Ee,Ie){var je=Ee&7,De=Ee>>>3;return Ie=(Ie&1)<<je,xe[De]|=Ie,Ee+1}function ze(xe,Ee,Ie){var je=Ee&7,De=Ee>>>3;return Ie<<=je,xe[De]|=Ie&255,Ie>>>=8,xe[De+1]=Ie,Ee+8}function Tt(xe,Ee,Ie){var je=Ee&7,De=Ee>>>3;return Ie<<=je,xe[De]|=Ie&255,Ie>>>=8,xe[De+1]=Ie&255,xe[De+2]=Ie>>>8,Ee+16}function Bt(xe,Ee){var Ie=xe.length,je=2*Ie>Ee?2*Ie:Ee+5,De=0;if(Ie>=Ee)return xe;if(di){var Ue=qZ(je);if(xe.copy)xe.copy(Ue);else for(;De<xe.length;++De)Ue[De]=xe[De];return Ue}else if(ye){var lt=new Uint8Array(je);if(lt.set)lt.set(xe);else for(;De<Ie;++De)lt[De]=xe[De];return lt}return xe.length=je,xe}function mt(xe){for(var Ee=new Array(xe),Ie=0;Ie<xe;++Ie)Ee[Ie]=0;return Ee}function _t(xe,Ee,Ie){var je=1,De=0,Ue=0,lt=0,bt=0,it=xe.length,ct=ye?new Uint16Array(32):mt(32);for(Ue=0;Ue<32;++Ue)ct[Ue]=0;for(Ue=it;Ue<Ie;++Ue)xe[Ue]=0;it=xe.length;var ht=ye?new Uint16Array(it):mt(it);for(Ue=0;Ue<it;++Ue)ct[De=xe[Ue]]++,je<De&&(je=De),ht[Ue]=0;for(ct[0]=0,Ue=1;Ue<=je;++Ue)ct[Ue+16]=bt=bt+ct[Ue-1]<<1;for(Ue=0;Ue<it;++Ue)bt=xe[Ue],bt!=0&&(ht[Ue]=ct[bt+16]++);var Vt=0;for(Ue=0;Ue<it;++Ue)if(Vt=xe[Ue],Vt!=0)for(bt=oe(ht[Ue],je)>>je-Vt,lt=(1<<je+4-Vt)-1;lt>=0;--lt)Ee[bt|lt<<Vt]=Vt&15|Ue<<4;return je}var jt=ye?new Uint16Array(512):mt(512),or=ye?new Uint16Array(32):mt(32);if(!ye){for(var St=0;St<512;++St)jt[St]=0;for(St=0;St<32;++St)or[St]=0}(function(){for(var xe=[],Ee=0;Ee<32;Ee++)xe.push(5);_t(xe,or,32);var Ie=[];for(Ee=0;Ee<=143;Ee++)Ie.push(8);for(;Ee<=255;Ee++)Ie.push(9);for(;Ee<=279;Ee++)Ie.push(7);for(;Ee<=287;Ee++)Ie.push(8);_t(Ie,jt,288)})();var at=function(){for(var Ee=ye?new Uint8Array(32768):[],Ie=0,je=0;Ie<Ae.length-1;++Ie)for(;je<Ae[Ie+1];++je)Ee[je]=Ie;for(;je<32768;++je)Ee[je]=29;var De=ye?new Uint8Array(259):[];for(Ie=0,je=0;Ie<de.length-1;++Ie)for(;je<de[Ie+1];++je)De[je]=Ie;function Ue(bt,it){for(var ct=0;ct<bt.length;){var ht=Math.min(65535,bt.length-ct),Vt=ct+ht==bt.length;for(it.write_shift(1,+Vt),it.write_shift(2,ht),it.write_shift(2,~ht&65535);ht-- >0;)it[it.l++]=bt[ct++]}return it.l}function lt(bt,it){for(var ct=0,ht=0,Vt=ye?new Uint16Array(32768):[];ht<bt.length;){var tr=Math.min(65535,bt.length-ht);if(tr<10){for(ct=Te(it,ct,+(ht+tr==bt.length)),ct&7&&(ct+=8-(ct&7)),it.l=ct/8|0,it.write_shift(2,tr),it.write_shift(2,~tr&65535);tr-- >0;)it[it.l++]=bt[ht++];ct=it.l*8;continue}ct=Te(it,ct,+(ht+tr==bt.length)+2);for(var Jt=0;tr-- >0;){var ar=bt[ht];Jt=(Jt<<5^ar)&32767;var yr=-1,tn=0;if((yr=Vt[Jt])&&(yr|=ht&-32768,yr>ht&&(yr-=32768),yr<ht))for(;bt[yr+tn]==bt[ht+tn]&&tn<250;)++tn;if(tn>2){ar=De[tn],ar<=22?ct=ze(it,ct,ce[ar+1]>>1)-1:(ze(it,ct,3),ct+=5,ze(it,ct,ce[ar-23]>>5),ct+=3);var Nt=ar<8?0:ar-4>>2;Nt>0&&(Tt(it,ct,tn-de[ar]),ct+=Nt),ar=Ee[ht-yr],ct=ze(it,ct,ce[ar]>>3),ct-=3;var Ln=ar<4?0:ar-2>>1;Ln>0&&(Tt(it,ct,ht-yr-Ae[ar]),ct+=Ln);for(var wn=0;wn<tn;++wn)Vt[Jt]=ht&32767,Jt=(Jt<<5^bt[ht])&32767,++ht;tr-=tn-1}else ar<=143?ar=ar+48:ct=Ze(it,ct,1),ct=ze(it,ct,ce[ar]),Vt[Jt]=ht&32767,++ht}ct=ze(it,ct,0)-1}return it.l=(ct+7)/8|0,it.l}return function(it,ct){return it.length<8?Ue(it,ct):lt(it,ct)}}();function Ut(xe){var Ee=Ft(50+Math.floor(xe.length*1.1)),Ie=at(xe,Ee);return Ee.slice(0,Ie)}var qt=ye?new Uint16Array(32768):mt(32768),Er=ye?new Uint16Array(32768):mt(32768),Kt=ye?new Uint16Array(128):mt(128),xt=1,pr=1;function Ke(xe,Ee){var Ie=Fe(xe,Ee)+257;Ee+=5;var je=Fe(xe,Ee)+1;Ee+=5;var De=z(xe,Ee)+4;Ee+=4;for(var Ue=0,lt=ye?new Uint8Array(19):mt(19),bt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],it=1,ct=ye?new Uint8Array(8):mt(8),ht=ye?new Uint8Array(8):mt(8),Vt=lt.length,tr=0;tr<De;++tr)lt[re[tr]]=Ue=Re(xe,Ee),it<Ue&&(it=Ue),ct[Ue]++,Ee+=3;var Jt=0;for(ct[0]=0,tr=1;tr<=it;++tr)ht[tr]=Jt=Jt+ct[tr-1]<<1;for(tr=0;tr<Vt;++tr)(Jt=lt[tr])!=0&&(bt[tr]=ht[Jt]++);var ar=0;for(tr=0;tr<Vt;++tr)if(ar=lt[tr],ar!=0){Jt=ce[bt[tr]]>>8-ar;for(var yr=(1<<7-ar)-1;yr>=0;--yr)Kt[Jt|yr<<ar]=ar&7|tr<<3}var tn=[];for(it=1;tn.length<Ie+je;)switch(Jt=Kt[He(xe,Ee)],Ee+=Jt&7,Jt>>>=3){case 16:for(Ue=3+We(xe,Ee),Ee+=2,Jt=tn[tn.length-1];Ue-- >0;)tn.push(Jt);break;case 17:for(Ue=3+Re(xe,Ee),Ee+=3;Ue-- >0;)tn.push(0);break;case 18:for(Ue=11+He(xe,Ee),Ee+=7;Ue-- >0;)tn.push(0);break;default:tn.push(Jt),it<Jt&&(it=Jt);break}var Nt=tn.slice(0,Ie),Ln=tn.slice(Ie);for(tr=Ie;tr<286;++tr)Nt[tr]=0;for(tr=je;tr<30;++tr)Ln[tr]=0;return xt=_t(Nt,qt,286),pr=_t(Ln,Er,30),Ee}function gt(xe,Ee){if(xe[0]==3&&!(xe[1]&3))return[Np(Ee),2];for(var Ie=0,je=0,De=qZ(Ee||1<<18),Ue=0,lt=De.length>>>0,bt=0,it=0;!(je&1);){if(je=Re(xe,Ie),Ie+=3,je>>>1)je>>1==1?(bt=9,it=5):(Ie=Ke(xe,Ie),bt=xt,it=pr);else{Ie&7&&(Ie+=8-(Ie&7));var ct=xe[Ie>>>3]|xe[(Ie>>>3)+1]<<8;if(Ie+=32,ct>0)for(!Ee&&lt<Ue+ct&&(De=Bt(De,Ue+ct),lt=De.length);ct-- >0;)De[Ue++]=xe[Ie>>>3],Ie+=8;continue}for(;;){!Ee&&lt<Ue+32767&&(De=Bt(De,Ue+32767),lt=De.length);var ht=ke(xe,Ie,bt),Vt=je>>>1==1?jt[ht]:qt[ht];if(Ie+=Vt&15,Vt>>>=4,!(Vt>>>8&255))De[Ue++]=Vt;else{if(Vt==256)break;Vt-=257;var tr=Vt<8?0:Vt-4>>2;tr>5&&(tr=0);var Jt=Ue+de[Vt];tr>0&&(Jt+=ke(xe,Ie,tr),Ie+=tr),ht=ke(xe,Ie,it),Vt=je>>>1==1?or[ht]:Er[ht],Ie+=Vt&15,Vt>>>=4;var ar=Vt<4?0:Vt-2>>1,yr=Ae[Vt];for(ar>0&&(yr+=ke(xe,Ie,ar),Ie+=ar),!Ee&&lt<Jt&&(De=Bt(De,Jt+100),lt=De.length);Ue<Jt;)De[Ue]=De[Ue-yr],++Ue}}}return Ee?[De,Ie+7>>>3]:[De.slice(0,Ue),Ie+7>>>3]}function gr(xe,Ee){var Ie=xe.slice(xe.l||0),je=gt(Ie,Ee);return xe.l+=je[1],je[0]}function Ct(xe,Ee){if(xe)typeof console<"u"&&console.error(Ee);else throw new Error(Ee)}function $t(xe,Ee){var Ie=xe;xl(Ie,0);var je=[],De=[],Ue={FileIndex:je,FullPaths:De};T(Ue,{root:Ee.root});for(var lt=Ie.length-4;(Ie[lt]!=80||Ie[lt+1]!=75||Ie[lt+2]!=5||Ie[lt+3]!=6)&&lt>=0;)--lt;Ie.l=lt+4,Ie.l+=4;var bt=Ie.read_shift(2);Ie.l+=6;var it=Ie.read_shift(4);for(Ie.l=it,lt=0;lt<bt;++lt){Ie.l+=20;var ct=Ie.read_shift(4),ht=Ie.read_shift(4),Vt=Ie.read_shift(2),tr=Ie.read_shift(2),Jt=Ie.read_shift(2);Ie.l+=8;var ar=Ie.read_shift(4),yr=l(Ie.slice(Ie.l+Vt,Ie.l+Vt+tr));Ie.l+=Vt+tr+Jt;var tn=Ie.l;Ie.l=ar+4,hr(Ie,ct,ht,Ue,yr),Ie.l=tn}return Ue}function hr(xe,Ee,Ie,je,De){xe.l+=2;var Ue=xe.read_shift(2),lt=xe.read_shift(2),bt=a(xe);if(Ue&8257)throw new Error("Unsupported ZIP encryption");for(var it=xe.read_shift(4),ct=xe.read_shift(4),ht=xe.read_shift(4),Vt=xe.read_shift(2),tr=xe.read_shift(2),Jt="",ar=0;ar<Vt;++ar)Jt+=String.fromCharCode(xe[xe.l++]);if(tr){var yr=l(xe.slice(xe.l,xe.l+tr));(yr[21589]||{}).mt&&(bt=yr[21589].mt),((De||{})[21589]||{}).mt&&(bt=De[21589].mt)}xe.l+=tr;var tn=xe.slice(xe.l,xe.l+ct);switch(lt){case 8:tn=q(xe,ht);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+lt)}var Nt=!1;Ue&8&&(it=xe.read_shift(4),it==134695760&&(it=xe.read_shift(4),Nt=!0),ct=xe.read_shift(4),ht=xe.read_shift(4)),ct!=Ee&&Ct(Nt,"Bad compressed size: "+Ee+" != "+ct),ht!=Ie&&Ct(Nt,"Bad uncompressed size: "+Ie+" != "+ht),Jn(je,Jt,tn,{unsafe:!0,mt:bt})}function mr(xe,Ee){var Ie=Ee||{},je=[],De=[],Ue=Ft(1),lt=Ie.compression?8:0,bt=0,it=0,ct=0,ht=0,Vt=0,tr=xe.FullPaths[0],Jt=tr,ar=xe.FileIndex[0],yr=[],tn=0;for(it=1;it<xe.FullPaths.length;++it)if(Jt=xe.FullPaths[it].slice(tr.length),ar=xe.FileIndex[it],!(!ar.size||!ar.content||Jt=="Sh33tJ5")){var Nt=ht,Ln=Ft(Jt.length);for(ct=0;ct<Jt.length;++ct)Ln.write_shift(1,Jt.charCodeAt(ct)&127);Ln=Ln.slice(0,Ln.l),yr[Vt]=Gyt.buf(ar.content,0);var wn=ar.content;lt==8&&(wn=ee(wn)),Ue=Ft(30),Ue.write_shift(4,67324752),Ue.write_shift(2,20),Ue.write_shift(2,bt),Ue.write_shift(2,lt),ar.mt?s(Ue,ar.mt):Ue.write_shift(4,0),Ue.write_shift(-4,yr[Vt]),Ue.write_shift(4,wn.length),Ue.write_shift(4,ar.content.length),Ue.write_shift(2,Ln.length),Ue.write_shift(2,0),ht+=Ue.length,je.push(Ue),ht+=Ln.length,je.push(Ln),ht+=wn.length,je.push(wn),Ue=Ft(46),Ue.write_shift(4,33639248),Ue.write_shift(2,0),Ue.write_shift(2,20),Ue.write_shift(2,bt),Ue.write_shift(2,lt),Ue.write_shift(4,0),Ue.write_shift(-4,yr[Vt]),Ue.write_shift(4,wn.length),Ue.write_shift(4,ar.content.length),Ue.write_shift(2,Ln.length),Ue.write_shift(2,0),Ue.write_shift(2,0),Ue.write_shift(2,0),Ue.write_shift(2,0),Ue.write_shift(4,0),Ue.write_shift(4,Nt),tn+=Ue.l,De.push(Ue),tn+=Ln.length,De.push(Ln),++Vt}return Ue=Ft(22),Ue.write_shift(4,101010256),Ue.write_shift(2,0),Ue.write_shift(2,0),Ue.write_shift(2,Vt),Ue.write_shift(2,Vt),Ue.write_shift(4,tn),Ue.write_shift(4,ht),Ue.write_shift(2,0),tl([tl(je),tl(De),Ue])}var er={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function sr(xe,Ee){if(xe.ctype)return xe.ctype;var Ie=xe.name||"",je=Ie.match(/\.([^\.]+)$/);return je&&er[je[1]]||Ee&&(je=(Ie=Ee).match(/[\.\\]([^\.\\])+$/),je&&er[je[1]])?er[je[1]]:"application/octet-stream"}function Zt(xe){for(var Ee=V_(xe),Ie=[],je=0;je<Ee.length;je+=76)Ie.push(Ee.slice(je,je+76));return Ie.join(`\r
`)+`\r
`}function br(xe){var Ee=xe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ct){var ht=ct.charCodeAt(0).toString(16).toUpperCase();return"="+(ht.length==1?"0"+ht:ht)});Ee=Ee.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Ee.charAt(0)==`
`&&(Ee="=0D"+Ee.slice(1)),Ee=Ee.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Ie=[],je=Ee.split(`\r
`),De=0;De<je.length;++De){var Ue=je[De];if(Ue.length==0){Ie.push("");continue}for(var lt=0;lt<Ue.length;){var bt=76,it=Ue.slice(lt,lt+bt);it.charAt(bt-1)=="="?bt--:it.charAt(bt-2)=="="?bt-=2:it.charAt(bt-3)=="="&&(bt-=3),it=Ue.slice(lt,lt+bt),lt+=bt,lt<Ue.length&&(it+="="),Ie.push(it)}}return Ie.join(`\r
`)}function Xr(xe){for(var Ee=[],Ie=0;Ie<xe.length;++Ie){for(var je=xe[Ie];Ie<=xe.length&&je.charAt(je.length-1)=="=";)je=je.slice(0,je.length-1)+xe[++Ie];Ee.push(je)}for(var De=0;De<Ee.length;++De)Ee[De]=Ee[De].replace(/[=][0-9A-Fa-f]{2}/g,function(Ue){return String.fromCharCode(parseInt(Ue.slice(1),16))});return Cu(Ee.join(`\r
`))}function Un(xe,Ee,Ie){for(var je="",De="",Ue="",lt,bt=0;bt<10;++bt){var it=Ee[bt];if(!it||it.match(/^\s*$/))break;var ct=it.match(/^(.*?):\s*([^\s].*)$/);if(ct)switch(ct[1].toLowerCase()){case"content-location":je=ct[2].trim();break;case"content-type":Ue=ct[2].trim();break;case"content-transfer-encoding":De=ct[2].trim();break}}switch(++bt,De.toLowerCase()){case"base64":lt=Cu(Lu(Ee.slice(bt).join("")));break;case"quoted-printable":lt=Xr(Ee.slice(bt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+De)}var ht=Jn(xe,je.slice(Ie.length),lt,{unsafe:!0});Ue&&(ht.ctype=Ue)}function Fr(xe,Ee){if(X(xe.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Ie=Ee&&Ee.root||"",je=(di&&Buffer.isBuffer(xe)?xe.toString("binary"):X(xe)).split(`\r
`),De=0,Ue="";for(De=0;De<je.length;++De)if(Ue=je[De],!!/^Content-Location:/i.test(Ue)&&(Ue=Ue.slice(Ue.indexOf("file")),Ie||(Ie=Ue.slice(0,Ue.lastIndexOf("/")+1)),Ue.slice(0,Ie.length)!=Ie))for(;Ie.length>0&&(Ie=Ie.slice(0,Ie.length-1),Ie=Ie.slice(0,Ie.lastIndexOf("/")+1),Ue.slice(0,Ie.length)!=Ie););var lt=(je[1]||"").match(/boundary="(.*?)"/);if(!lt)throw new Error("MAD cannot find boundary");var bt="--"+(lt[1]||""),it=[],ct=[],ht={FileIndex:it,FullPaths:ct};T(ht);var Vt,tr=0;for(De=0;De<je.length;++De){var Jt=je[De];Jt!==bt&&Jt!==bt+"--"||(tr++&&Un(ht,je.slice(Vt,De),Ie),Vt=De)}return ht}function Zn(xe,Ee){var Ie=Ee||{},je=Ie.boundary||"SheetJS";je="------="+je;for(var De=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+je.slice(2)+'"',"","",""],Ue=xe.FullPaths[0],lt=Ue,bt=xe.FileIndex[0],it=1;it<xe.FullPaths.length;++it)if(lt=xe.FullPaths[it].slice(Ue.length),bt=xe.FileIndex[it],!(!bt.size||!bt.content||lt=="Sh33tJ5")){lt=lt.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(tn){return"_x"+tn.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(tn){return"_u"+tn.charCodeAt(0).toString(16)+"_"});for(var ct=bt.content,ht=di&&Buffer.isBuffer(ct)?ct.toString("binary"):X(ct),Vt=0,tr=Math.min(1024,ht.length),Jt=0,ar=0;ar<=tr;++ar)(Jt=ht.charCodeAt(ar))>=32&&Jt<128&&++Vt;var yr=Vt>=tr*4/5;De.push(je),De.push("Content-Location: "+(Ie.root||"file:///C:/SheetJS/")+lt),De.push("Content-Transfer-Encoding: "+(yr?"quoted-printable":"base64")),De.push("Content-Type: "+sr(bt,lt)),De.push(""),De.push(yr?br(ht):Zt(ht))}return De.push(je+`--\r
`),De.join(`\r
`)}function Mr(xe){var Ee={};return T(Ee,xe),Ee}function Jn(xe,Ee,Ie,je){var De=je&&je.unsafe;De||T(xe);var Ue=!De&&mn.find(xe,Ee);if(!Ue){var lt=xe.FullPaths[0];Ee.slice(0,lt.length)==lt?lt=Ee:(lt.slice(-1)!="/"&&(lt+="/"),lt=(lt+Ee).replace("//","/")),Ue={name:i(Ee),type:2},xe.FileIndex.push(Ue),xe.FullPaths.push(lt),De||mn.utils.cfb_gc(xe)}return Ue.content=Ie,Ue.size=Ie?Ie.length:0,je&&(je.CLSID&&(Ue.clsid=je.CLSID),je.mt&&(Ue.mt=je.mt),je.ct&&(Ue.ct=je.ct)),Ue}function bi(xe,Ee){T(xe);var Ie=mn.find(xe,Ee);if(Ie){for(var je=0;je<xe.FileIndex.length;++je)if(xe.FileIndex[je]==Ie)return xe.FileIndex.splice(je,1),xe.FullPaths.splice(je,1),!0}return!1}function jn(xe,Ee,Ie){T(xe);var je=mn.find(xe,Ee);if(je){for(var De=0;De<xe.FileIndex.length;++De)if(xe.FileIndex[De]==je)return xe.FileIndex[De].name=i(Ie),xe.FullPaths[De]=Ie,!0}return!1}function li(xe){k(xe,!0)}return t.find=O,t.read=j,t.parse=d,t.write=ue,t.writeFile=te,t.utils={cfb_new:Mr,cfb_add:Jn,cfb_del:bi,cfb_mov:jn,cfb_gc:li,ReadShift:sb,CheckField:bme,prep_blob:xl,bconcat:tl,use_zlib:V,_deflateRaw:Ut,_inflateRaw:gr,consts:le},t}();function Wyt(e){return typeof e=="string"?JI(e):Array.isArray(e)?vyt(e):e}function iS(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=JI(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?qf(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var i=new Blob([Wyt(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if(typeof saveAs<"u")return saveAs(i,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=e,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=Xp(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function Kyt(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Fa(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function nJ(e,t){for(var r=[],n=Fa(e),i=0;i!==n.length;++i)r[e[n[i]][t]]==null&&(r[e[n[i]][t]]=n[i]);return r}function tk(e){for(var t=[],r=Fa(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function rk(e){for(var t=[],r=Fa(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function qyt(e){for(var t=[],r=Fa(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Y3=new Date(1899,11,30,0,0,0);function Do(e,t){var r=e.getTime(),n=Y3.getTime()+(e.getTimezoneOffset()-Y3.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var tme=new Date,Xyt=Y3.getTime()+(tme.getTimezoneOffset()-Y3.getTimezoneOffset())*6e4,iJ=tme.getTimezoneOffset();function nk(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Xyt),t.getTimezoneOffset()!==iJ&&t.setTime(t.getTime()+(t.getTimezoneOffset()-iJ)*6e4),t}function Yyt(e){var t=0,r=0,n=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(r=1,s>3&&(n=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(i[s],10)}return t}var sJ=new Date("2017-02-19T19:06:09.000Z"),rme=isNaN(sJ.getFullYear())?new Date("2/19/17"):sJ,Zyt=rme.getFullYear()==2017;function Gs(e,t){var r=new Date(e);if(Zyt)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(rme.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Pm(e,t){if(di&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return qf(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return qf($ge(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return qf(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return qf(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],i=0;i!=e.length;++i)n.push(String.fromCharCode(e[i]));return n.join("")}function Ws(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Ws(e[r]));return t}function Ia(e,t){for(var r="";r.length<t;)r+=e;return r}function df(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var Jyt=["january","february","march","april","may","june","july","august","september","october","november","december"];function uy(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),i=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var a=e.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&Jyt.indexOf(a)==-1)return r}else if(a.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var ewt=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,i){if(e||typeof n=="string")return r.split(n);for(var s=r.split(n),a=[s[0]],l=1;l<s.length;++l)a.push(i),a.push(s[l]);return a}}();function nme(e){return e?e.content&&e.type?Pm(e.content,!0):e.data?y2(e.data):e.asNodeBuffer&&di?y2(e.asNodeBuffer().toString("binary")):e.asBinary?y2(e.asBinary()):e._data&&e._data.getContent?y2(Pm(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function ime(e){if(!e)return null;if(e.data)return WZ(e.data);if(e.asNodeBuffer&&di)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?WZ(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function twt(e){return e&&e.name.slice(-4)===".bin"?ime(e):nme(e)}function td(e,t){for(var r=e.FullPaths||Fa(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var a=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==a||i==a)return e.files?e.files[r[s]]:e.FileIndex[s]}return null}function b9(e,t){var r=td(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function so(e,t,r){if(!r)return twt(b9(e,t));if(!t)return null;try{return so(e,t)}catch{return null}}function Nu(e,t,r){if(!r)return nme(b9(e,t));if(!t)return null;try{return Nu(e,t)}catch{return null}}function rwt(e,t,r){return ime(b9(e,t))}function aJ(e){for(var t=e.FullPaths||Fa(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function ai(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return di?n=UA(r):n=yyt(r),mn.utils.cfb_add(e,t,n)}mn.utils.cfb_add(e,t,r)}else e.file(t,r)}function _9(){return mn.utils.cfb_new()}function sme(e,t){switch(t.type){case"base64":return mn.read(e,{type:"base64"});case"binary":return mn.read(e,{type:"binary"});case"buffer":case"array":return mn.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function b2(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var i=n.shift();i===".."?r.pop():i!=="."&&r.push(i)}return r.join("/")}var Za=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,nwt=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,oJ=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,iwt=/<[^>]*>/g,ec=Za.match(oJ)?oJ:iwt,swt=/<\w*:/,awt=/<(\/?)\w+:/;function Fn(e,t,r){for(var n={},i=0,s=0;i!==e.length&&!((s=e.charCodeAt(i))===32||s===10||s===13);++i);if(t||(n[0]=e.slice(0,i)),i===e.length)return n;var a=e.match(nwt),l=0,c="",u=0,d="",h="",A=1;if(a)for(u=0;u!=a.length;++u){for(h=a[u],s=0;s!=h.length&&h.charCodeAt(s)!==61;++s);for(d=h.slice(0,s).trim();h.charCodeAt(s+1)==32;)++s;for(A=(i=h.charCodeAt(s+1))==34||i==39?1:0,c=h.slice(s+1+A,h.length-A),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var g=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(n[g]&&d.slice(l-3,l)=="ext")continue;n[g]=c,n[g.toLowerCase()]=c}}return n}function Sh(e){return e.replace(awt,"<$1")}var ame={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},E9=tk(ame),Li=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var i=n+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(e,function(l,c){return ame[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var a=i.indexOf("]]>");return r(i.slice(0,s))+i.slice(s+9,a)+r(i.slice(a+3))}}(),S9=/[&<>'"]/g,owt=/[\u0000-\u0008\u000b-\u001f]/g;function cs(e){var t=e+"";return t.replace(S9,function(r){return E9[r]}).replace(owt,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function lJ(e){return cs(e).replace(/ /g,"_x0020_")}var ome=/[\u0000-\u001f]/g;function C9(e){var t=e+"";return t.replace(S9,function(r){return E9[r]}).replace(/\n/g,"<br/>").replace(ome,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function lwt(e){var t=e+"";return t.replace(S9,function(r){return E9[r]}).replace(ome,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var cJ=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function cwt(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function $s(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function gP(e){for(var t="",r=0,n=0,i=0,s=0,a=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(i=e.charCodeAt(r++),n>191&&n<224){a=(n&31)<<6,a|=i&63,t+=String.fromCharCode(a);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}a=e.charCodeAt(r++),l=((n&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function uJ(e){var t=Np(2*e.length),r,n,i=1,s=0,a=0,l;for(n=0;n<e.length;n+=i)i=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),i=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),i=3):(i=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,a=55296+(r>>>10&1023),r=56320+(r&1023)),a!==0&&(t[s++]=a&255,t[s++]=a>>>8,a=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function dJ(e){return UA(e,"binary").toString("utf8")}var pN="foo bar baz",gs=di&&(dJ(pN)==gP(pN)&&dJ||uJ(pN)==gP(pN)&&uJ)||gP,qf=di?function(e){return UA(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,i=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},G_=function(){var e={};return function(r,n){var i=r+"|"+(n||"");return e[i]?e[i]:e[i]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),lme=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)n=n.replace(e[i][0],e[i][1]);return n}}(),uwt=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),dwt=/<\/?(?:vt:)?variant>/g,fwt=/<(?:vt:)([^>]*)>([\s\S]*)</;function fJ(e,t){var r=Fn(e),n=e.match(uwt(r.baseType))||[],i=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return i}return n.forEach(function(s){var a=s.replace(dwt,"").match(fwt);a&&i.push({v:gs(a[2]),t:a[1]})}),i}var cme=/(^\s|\s$|\n)/;function vl(e,t){return"<"+e+(t.match(cme)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function W_(e){return Fa(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Nr(e,t,r){return"<"+e+(r!=null?W_(r):"")+(t!=null?(t.match(cme)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function oL(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function hwt(e,t){switch(typeof e){case"string":var r=Nr("vt:lpwstr",cs(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Nr((e|0)==e?"vt:i4":"vt:r8",cs(String(e)));case"boolean":return Nr("vt:bool",e?"true":"false")}if(e instanceof Date)return Nr("vt:filetime",oL(e));throw new Error("Unable to serialize "+e)}function N9(e){if(di&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return gs(Xp(v9(e)));throw new Error("Bad input format: expected Buffer or string")}var K_=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,ko={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},c1=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],yu={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Awt(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,s=5;s>=0;--s)i=i*256+e[t+s];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function pwt(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,i=0,s=0,a=n?-t:t;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(t)?26985:0);for(var l=0;l<=5;++l,s/=256)e[r+l]=s&255;e[r+6]=(i&15)<<4|s&15,e[r+7]=i>>4|n}var hJ=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var i=0,s=e[0][n].length;i<s;i+=r)t.push.apply(t,e[0][n].slice(i,i+r));return t},AJ=di?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:UA(t)})):hJ(e)}:hJ,pJ=function(e,t,r){for(var n=[],i=t;i<r;i+=2)n.push(String.fromCharCode(sA(e,i)));return n.join("").replace(_c,"")},T9=di?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(_c,""):pJ(e,t,r)}:pJ,gJ=function(e,t,r){for(var n=[],i=t;i<t+r;++i)n.push(("0"+e[i].toString(16)).slice(-2));return n.join("")},ume=di?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):gJ(e,t,r)}:gJ,mJ=function(e,t,r){for(var n=[],i=t;i<r;i++)n.push(String.fromCharCode(Z1(e,i)));return n.join("")},sS=di?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):mJ(t,r,n)}:mJ,dme=function(e,t){var r=wu(e,t);return r>0?sS(e,t+4,t+4+r-1):""},fme=dme,hme=function(e,t){var r=wu(e,t);return r>0?sS(e,t+4,t+4+r-1):""},Ame=hme,pme=function(e,t){var r=2*wu(e,t);return r>0?sS(e,t+4,t+4+r-1):""},gme=pme,mme=function(t,r){var n=wu(t,r);return n>0?T9(t,r+4,r+4+n):""},xme=mme,vme=function(e,t){var r=wu(e,t);return r>0?sS(e,t+4,t+4+r):""},yme=vme,wme=function(e,t){return Awt(e,t)},Z3=wme,B9=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};di&&(fme=function(t,r){if(!Buffer.isBuffer(t))return dme(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Ame=function(t,r){if(!Buffer.isBuffer(t))return hme(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},gme=function(t,r){if(!Buffer.isBuffer(t))return pme(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},xme=function(t,r){if(!Buffer.isBuffer(t))return mme(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},yme=function(t,r){if(!Buffer.isBuffer(t))return vme(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Z3=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):wme(t,r)},B9=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Z1=function(e,t){return e[t]},sA=function(e,t){return e[t+1]*256+e[t]},gwt=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},wu=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},wg=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},mwt=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function sb(e,t){var r="",n,i,s=[],a,l,c,u;switch(t){case"dbcs":if(u=this.l,di&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(sA(this,u)),u+=2;e*=2;break;case"utf8":r=sS(this,this.l,this.l+e);break;case"utf16le":e*=2,r=T9(this,this.l,this.l+e);break;case"wstr":return sb.call(this,e,"dbcs");case"lpstr-ansi":r=fme(this,this.l),e=4+wu(this,this.l);break;case"lpstr-cp":r=Ame(this,this.l),e=4+wu(this,this.l);break;case"lpwstr":r=gme(this,this.l),e=4+2*wu(this,this.l);break;case"lpp4":e=4+wu(this,this.l),r=xme(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+wu(this,this.l),r=yme(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(a=Z1(this,this.l+e++))!==0;)s.push(AN(a));r=s.join("");break;case"_wstr":for(e=0,r="";(a=sA(this,this.l+e))!==0;)s.push(AN(a)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return a=Z1(this,u),this.l=u+1,l=sb.call(this,e-c,a?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(AN(sA(this,u))),u+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return a=Z1(this,u),this.l=u+1,l=sb.call(this,e-c,a?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(AN(Z1(this,u))),u+=1}r=s.join("");break;default:switch(e){case 1:return n=Z1(this,this.l),this.l++,n;case 2:return n=(t==="i"?gwt:sA)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?wg:mwt)(this,this.l),this.l+=4,n):(i=wu(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=Z3(this,this.l):i=Z3([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:r=ume(this,this.l,e);break}}return this.l+=e,r}var xwt=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},vwt=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},ywt=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function wwt(e,t,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=t.length;++i)ywt(this,t.charCodeAt(i),this.l+2*i);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;n=t.length}else if(r==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var a=t.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,xwt(this,t,this.l);break;case 8:if(n=8,r==="f"){pwt(this,t,this.l);break}case 16:break;case-4:n=4,vwt(this,t,this.l);break}return this.l+=n,this}function bme(e,t){var r=ume(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function xl(e,t){e.l=t,e.read_shift=sb,e.chk=bme,e.write_shift=wwt}function Jl(e,t){e.l+=t}function Ft(e){var t=Np(e);return xl(t,0),t}function HA(e,t,r){if(e){var n,i,s;xl(e,e.l||0);for(var a=e.length,l=0,c=0;e.l<a;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var u=eE[l]||eE[65535];for(n=e.read_shift(1),s=n&127,i=1;i<4&&n&128;++i)s+=((n=e.read_shift(1))&127)<<7*i;c=e.l+s;var d=u.f&&u.f(e,s,r);if(e.l=c,t(d,u,l))return}}}function Zc(){var e=[],t=di?256:2048,r=function(u){var d=Ft(u);return xl(d,0),d},n=r(t),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(i(),n=r(Math.max(u+1,t)))},a=function(){return i(),tl(e)},l=function(u){i(),n=u,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:l,end:a,_bufs:e}}function nr(e,t,r,n){var i=+t,s;if(!isNaN(i)){n||(n=eE[i].p||(r||[]).length||0),s=1+(i>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var a=e.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var l=0;l!=4;++l)if(n>=128)a.write_shift(1,(n&127)+128),n>>=7;else{a.write_shift(1,n);break}n>0&&B9(r)&&e.push(r)}}function ab(e,t,r){var n=Ws(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function xJ(e,t,r){var n=Ws(e);return n.s=ab(n.s,t.s,r),n.e=ab(n.e,t.s,r),n}function ob(e,t){if(e.cRel&&e.c<0)for(e=Ws(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Ws(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Bn(e);return!e.cRel&&e.cRel!=null&&(r=Ewt(r)),!e.rRel&&e.rRel!=null&&(r=bwt(r)),r}function mP(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+pa(e.s.c)+":"+(e.e.cRel?"":"$")+pa(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ya(e.s.r)+":"+(e.e.rRel?"":"$")+Ya(e.e.r):ob(e.s,t.biff)+":"+ob(e.e,t.biff)}function I9(e){return parseInt(_wt(e),10)-1}function Ya(e){return""+(e+1)}function bwt(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function _wt(e){return e.replace(/\$(\d+)$/,"$1")}function k9(e){for(var t=Swt(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function pa(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Ewt(e){return e.replace(/^([A-Z])/,"$$$1")}function Swt(e){return e.replace(/^\$([A-Z])/,"$1")}function Cwt(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ga(e){for(var t=0,r=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:t-1}}function Bn(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Jc(e){var t=e.indexOf(":");return t==-1?{s:ga(e),e:ga(e)}:{s:ga(e.slice(0,t)),e:ga(e.slice(t+1))}}function ei(e,t){return typeof t>"u"||typeof t=="number"?ei(e.s,e.e):(typeof e!="string"&&(e=Bn(e)),typeof t!="string"&&(t=Bn(t)),e==t?e:e+":"+t)}function Ri(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,s=e.length;for(r=0;n<s&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.s.c=--r,r=0;n<s&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(t.s.r=--r,n===s||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.e.c=--r,r=0;n!=s&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return t.e.r=--r,t}function vJ(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Nd(e.z,r?Do(t):t)}catch{}try{return e.w=Nd((e.XF||{}).numFmtId||(r?14:0),r?Do(t):t)}catch{return""+t}}function jA(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?QA[e.v]||e.v:t==null?vJ(e,e.v):vJ(e,t))}function Yp(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function _me(e,t,r){var n=r||{},i=e?Array.isArray(e):n.dense,s=e||(i?[]:{}),a=0,l=0;if(s&&n.origin!=null){if(typeof n.origin=="number")a=n.origin;else{var c=typeof n.origin=="string"?ga(n.origin):n.origin;a=c.r,l=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=Ri(s["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),a==-1&&(u.e.r=a=d.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var A=0;A!=t[h].length;++A)if(!(typeof t[h][A]>"u")){var g={v:t[h][A]},v=a+h,x=l+A;if(u.s.r>v&&(u.s.r=v),u.s.c>x&&(u.s.c=x),u.e.r<v&&(u.e.r=v),u.e.c<x&&(u.e.c=x),t[h][A]&&typeof t[h][A]=="object"&&!Array.isArray(t[h][A])&&!(t[h][A]instanceof Date))g=t[h][A];else if(Array.isArray(g.v)&&(g.f=t[h][A][1],g.v=g.v[0]),g.v===null)if(g.f)g.t="n";else if(n.nullError)g.t="e",g.v=0;else if(n.sheetStubs)g.t="z";else continue;else typeof g.v=="number"?g.t="n":typeof g.v=="boolean"?g.t="b":g.v instanceof Date?(g.z=n.dateNF||Tn[14],n.cellDates?(g.t="d",g.w=Nd(g.z,Do(g.v))):(g.t="n",g.v=Do(g.v),g.w=Nd(g.z,g.v))):g.t="s";if(i)s[v]||(s[v]=[]),s[v][x]&&s[v][x].z&&(g.z=s[v][x].z),s[v][x]=g;else{var y=Bn({c:x,r:v});s[y]&&s[y].z&&(g.z=s[y].z),s[y]=g}}}return u.s.c<1e7&&(s["!ref"]=ei(u)),s}function aw(e,t){return _me(null,e,t)}function Nwt(e){return e.read_shift(4,"i")}function ff(e,t){return t||(t=Ft(4)),t.write_shift(4,e),t}function Xl(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function rl(e,t){var r=!1;return t==null&&(r=!0,t=Ft(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function Twt(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Bwt(e,t){return t||(t=Ft(4)),t.write_shift(2,0),t.write_shift(2,0),t}function j9(e,t){var r=e.l,n=e.read_shift(1),i=Xl(e),s=[],a={t:i,h:i};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)s.push(Twt(e));a.r=s}else a.r=[{ich:0,ifnt:0}];return e.l=r+t,a}function Iwt(e,t){var r=!1;return t==null&&(r=!0,t=Ft(15+4*e.t.length)),t.write_shift(1,0),rl(e.t,t),r?t.slice(0,t.l):t}var kwt=j9;function jwt(e,t){var r=!1;return t==null&&(r=!0,t=Ft(23+4*e.t.length)),t.write_shift(1,1),rl(e.t,t),t.write_shift(4,1),Bwt({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function jd(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function u1(e,t){return t==null&&(t=Ft(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function d1(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function f1(e,t){return t==null&&(t=Ft(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Pwt=Xl,Eme=rl;function P9(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function J3(e,t){var r=!1;return t==null&&(r=!0,t=Ft(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var Fwt=Xl,lL=P9,F9=J3;function O9(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var i=n===0?Z3([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):wg(t,0)>>2;return r?i/100:i}function Sme(e,t){t==null&&(t=Ft(4));var r=0,n=0,i=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?n=1:i==(i|0)&&i>=-(1<<29)&&i<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?i:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function Cme(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function Owt(e,t){return t||(t=Ft(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var h1=Cme,ow=Owt;function Wl(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Fm(e,t){return(t||Ft(8)).write_shift(8,e,"f")}function Dwt(e){var t={},r=e.read_shift(1),n=r>>>1,i=e.read_shift(1),s=e.read_shift(2,"i"),a=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=i;var u=tm[i];u&&(t.rgb=X_(u));break;case 2:t.rgb=X_([a,l,c]);break;case 3:t.theme=i;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function eT(e,t){if(t||(t=Ft(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function Lwt(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Rwt(e,t){t||(t=Ft(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function Nme(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function Mwt(e){return Nme(e,1)}function Uwt(e){return Nme(e,2)}var D9=2,Dc=3,gN=11,yJ=12,tT=19,mN=64,Hwt=65,Qwt=71,$wt=4108,Vwt=4126,Xo=80,Tme=81,zwt=[Xo,Tme],cL={1:{n:"CodePage",t:D9},2:{n:"Category",t:Xo},3:{n:"PresentationFormat",t:Xo},4:{n:"ByteCount",t:Dc},5:{n:"LineCount",t:Dc},6:{n:"ParagraphCount",t:Dc},7:{n:"SlideCount",t:Dc},8:{n:"NoteCount",t:Dc},9:{n:"HiddenCount",t:Dc},10:{n:"MultimediaClipCount",t:Dc},11:{n:"ScaleCrop",t:gN},12:{n:"HeadingPairs",t:$wt},13:{n:"TitlesOfParts",t:Vwt},14:{n:"Manager",t:Xo},15:{n:"Company",t:Xo},16:{n:"LinksUpToDate",t:gN},17:{n:"CharacterCount",t:Dc},19:{n:"SharedDoc",t:gN},22:{n:"HyperlinksChanged",t:gN},23:{n:"AppVersion",t:Dc,p:"version"},24:{n:"DigSig",t:Hwt},26:{n:"ContentType",t:Xo},27:{n:"ContentStatus",t:Xo},28:{n:"Language",t:Xo},29:{n:"Version",t:Xo},255:{},2147483648:{n:"Locale",t:tT},2147483651:{n:"Behavior",t:tT},1919054434:{}},uL={1:{n:"CodePage",t:D9},2:{n:"Title",t:Xo},3:{n:"Subject",t:Xo},4:{n:"Author",t:Xo},5:{n:"Keywords",t:Xo},6:{n:"Comments",t:Xo},7:{n:"Template",t:Xo},8:{n:"LastAuthor",t:Xo},9:{n:"RevNumber",t:Xo},10:{n:"EditTime",t:mN},11:{n:"LastPrinted",t:mN},12:{n:"CreatedDate",t:mN},13:{n:"ModifiedDate",t:mN},14:{n:"PageCount",t:Dc},15:{n:"WordCount",t:Dc},16:{n:"CharCount",t:Dc},17:{n:"Thumbnail",t:Qwt},18:{n:"Application",t:Xo},19:{n:"DocSecurity",t:Dc},255:{},2147483648:{n:"Locale",t:tT},2147483651:{n:"Behavior",t:tT},1919054434:{}},wJ={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Gwt=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Wwt(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Kwt=Wwt([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),tm=Ws(Kwt),QA={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Bme={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},dL={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},xN={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function L9(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function qwt(e){var t=L9();if(!e||!e.match)return t;var r={};if((e.match(ec)||[]).forEach(function(n){var i=Fn(n);switch(i[0].replace(swt,"<")){case"<?xml":break;case"<Types":t.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[i.Extension]=i.ContentType;break;case"<Override":t[dL[i.ContentType]]!==void 0&&t[dL[i.ContentType]].push(i.PartName);break}}),t.xmlns!==ko.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function Ime(e,t){var r=qyt(dL),n=[],i;n[n.length]=Za,n[n.length]=Nr("Types",null,{xmlns:ko.CT,"xmlns:xsd":ko.xsd,"xmlns:xsi":ko.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Nr("Default",null,{Extension:c[0],ContentType:c[1]})}));var s=function(c){e[c]&&e[c].length>0&&(i=e[c][0],n[n.length]=Nr("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:xN[c][t.bookType]||xN[c].xlsx}))},a=function(c){(e[c]||[]).forEach(function(u){n[n.length]=Nr("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:xN[c][t.bookType]||xN[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){n[n.length]=Nr("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return s("workbooks"),a("sheets"),a("charts"),l("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),a("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var hi={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function q_(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function lb(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(ec)||[]).forEach(function(i){var s=Fn(i);if(s[0]==="<Relationship"){var a={};a.Type=s.Type,a.Target=s.Target,a.Id=s.Id,s.TargetMode&&(a.TargetMode=s.TargetMode);var l=s.TargetMode==="External"?s.Target:b2(s.Target,t);r[l]=a,n[s.Id]=a}}),r["!id"]=n,r}function Jx(e){var t=[Za,Nr("Relationships",null,{xmlns:ko.RELS})];return Fa(e["!id"]).forEach(function(r){t[t.length]=Nr("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function os(e,t,r,n,i,s){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,i.Id="rId"+t,i.Type=n,i.Target=r,[hi.HLINK,hi.XPATH,hi.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}var Xwt="application/vnd.oasis.opendocument.spreadsheet";function Ywt(e,t){for(var r=N9(e),n,i;n=K_.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(i=Fn(n[0],!1),i.path=="/"&&i.type!==Xwt)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function Zwt(e){var t=[Za];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function bJ(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function Jwt(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function e2t(e){var t=[Za];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(bJ(e[r][0],e[r][1])),t.push(Jwt("",e[r][0]));return t.push(bJ("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function kme(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+W3.version+"</meta:generator></office:meta></office:document-meta>"}var yd=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],t2t=function(){for(var e=new Array(yd.length),t=0;t<yd.length;++t){var r=yd[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function jme(e){var t={};e=gs(e);for(var r=0;r<yd.length;++r){var n=yd[r],i=e.match(t2t[r]);i!=null&&i.length>0&&(t[n[1]]=Li(i[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Gs(t[n[1]]))}return t}function xP(e,t,r,n,i){i[e]!=null||t==null||t===""||(i[e]=t,t=cs(t),n[n.length]=r?Nr(e,t,r):vl(e,t))}function Pme(e,t){var r=t||{},n=[Za,Nr("cp:coreProperties",null,{"xmlns:cp":ko.CORE_PROPS,"xmlns:dc":ko.dc,"xmlns:dcterms":ko.dcterms,"xmlns:dcmitype":ko.dcmitype,"xmlns:xsi":ko.xsi})],i={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&xP("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:oL(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),e.ModifiedDate!=null&&xP("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:oL(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var s=0;s!=yd.length;++s){var a=yd[s],l=r.Props&&r.Props[a[1]]!=null?r.Props[a[1]]:e?e[a[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&xP(a[0],l,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var rm=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Fme=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Ome(e,t,r,n){var i=[];if(typeof e=="string")i=fJ(e,n);else for(var s=0;s<e.length;++s)i=i.concat(e[s].map(function(d){return{v:d}}));var a=typeof t=="string"?fJ(t,n).map(function(d){return d.v}):t,l=0,c=0;if(a.length>0)for(var u=0;u!==i.length;u+=2){switch(c=+i[u+1].v,i[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=a.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=a.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=a.slice(l,l+c);break}l+=c}}function r2t(e,t,r){var n={};return t||(t={}),e=gs(e),rm.forEach(function(i){var s=(e.match(G_(i[0]))||[])[1];switch(i[2]){case"string":s&&(t[i[1]]=Li(s));break;case"bool":t[i[1]]=s==="true";break;case"raw":var a=e.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));a&&a.length>0&&(n[i[1]]=a[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&Ome(n.HeadingPairs,n.TitlesOfParts,t,r),t}function Dme(e){var t=[],r=Nr;return e||(e={}),e.Application="SheetJS",t[t.length]=Za,t[t.length]=Nr("Properties",null,{xmlns:ko.EXT_PROPS,"xmlns:vt":ko.vt}),rm.forEach(function(n){if(e[n[1]]!==void 0){var i;switch(n[2]){case"string":i=cs(String(e[n[1]]));break;case"bool":i=e[n[1]]?"true":"false";break}i!==void 0&&(t[t.length]=r(n[0],i))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+cs(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var n2t=/<[^>]+>[^<]*/g;function i2t(e,t){var r={},n="",i=e.match(n2t);if(i)for(var s=0;s!=i.length;++s){var a=i[s],l=Fn(a);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Li(l.name);break;case"</property>":n=null;break;default:if(a.indexOf("<vt:")===0){var c=a.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=Li(d);break;case"bool":r[n]=$s(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Gs(d);break;case"cy":case"error":r[n]=Li(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",a,u,c)}}else if(a.slice(0,2)!=="</"){if(t.WTF)throw new Error(a)}}}return r}function Lme(e){var t=[Za,Nr("Properties",null,{xmlns:ko.CUST_PROPS,"xmlns:vt":ko.vt})];if(!e)return t.join("");var r=1;return Fa(e).forEach(function(i){++r,t[t.length]=Nr("property",hwt(e[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:cs(i)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var fL={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},vP;function s2t(e,t,r){vP||(vP=tk(fL)),t=vP[t]||t,e[t]=r}function a2t(e,t){var r=[];return Fa(fL).map(function(n){for(var i=0;i<yd.length;++i)if(yd[i][1]==n)return yd[i];for(i=0;i<rm.length;++i)if(rm[i][1]==n)return rm[i];throw n}).forEach(function(n){if(e[n[1]]!=null){var i=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(vl(fL[n[1]]||n[1],i))}}),Nr("DocumentProperties",r.join(""),{xmlns:yu.o})}function o2t(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return e&&Fa(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var a=0;a<yd.length;++a)if(s==yd[a][1])return;for(a=0;a<rm.length;++a)if(s==rm[a][1])return;for(a=0;a<r.length;++a)if(s==r[a])return;var l=e[s],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),i.push(Nr(lJ(s),l,{"dt:dt":c}))}}),t&&Fa(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(e&&Object.prototype.hasOwnProperty.call(e,s))){var a=t[s],l="string";typeof a=="number"?(l="float",a=String(a)):a===!0||a===!1?(l="boolean",a=a?"1":"0"):a instanceof Date?(l="dateTime.tz",a=a.toISOString()):a=String(a),i.push(Nr(lJ(s),a,{"dt:dt":l}))}}),"<"+n+' xmlns="'+yu.o+'">'+i.join("")+"</"+n+">"}function R9(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function l2t(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),i+=s);var a=Ft(8);return a.write_shift(4,n),a.write_shift(4,i),a}function Rme(e,t,r){var n=e.l,i=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return i}function Mme(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function Ume(e,t,r){return t===31?Mme(e):Rme(e,t,r)}function hL(e,t,r){return Ume(e,t,r===!1?0:4)}function c2t(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return Ume(e,t,0)}function u2t(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var i=e.l;r[n]=e.read_shift(0,"lpwstr").replace(_c,""),e.l-i&2&&(e.l+=2)}return r}function d2t(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(_c,"");return r}function f2t(e){var t=e.l,r=rT(e,Tme);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=rT(e,Dc);return[r,n]}function h2t(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(f2t(e));return r}function _J(e,t){for(var r=e.read_shift(4),n={},i=0;i!=r;++i){var s=e.read_shift(4),a=e.read_shift(4);n[s]=e.read_shift(a,t===1200?"utf16le":"utf8").replace(_c,"").replace(w2,"!"),t===1200&&a%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function Hme(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function A2t(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function rT(e,t,r){var n=e.read_shift(2),i,s=r||{};if(e.l+=2,t!==yJ&&n!==t&&zwt.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===yJ?n:t){case 2:return i=e.read_shift(2,"i"),s.raw||(e.l+=2),i;case 3:return i=e.read_shift(4,"i"),i;case 11:return e.read_shift(4)!==0;case 19:return i=e.read_shift(4),i;case 30:return Rme(e,n,4).replace(_c,"");case 31:return Mme(e);case 64:return R9(e);case 65:return Hme(e);case 71:return A2t(e);case 80:return hL(e,n,!s.raw).replace(_c,"");case 81:return c2t(e,n).replace(_c,"");case 4108:return h2t(e);case 4126:case 4127:return n==4127?u2t(e):d2t(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function EJ(e,t){var r=Ft(4),n=Ft(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Ft(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=l2t(t);break;case 31:case 80:for(n=Ft(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return tl([r,n])}function SJ(e,t){var r=e.l,n=e.read_shift(4),i=e.read_shift(4),s=[],a=0,l=0,c=-1,u={};for(a=0;a!=i;++a){var d=e.read_shift(4),h=e.read_shift(4);s[a]=[d,h+r]}s.sort(function(_,E){return _[1]-E[1]});var A={};for(a=0;a!=i;++a){if(e.l!==s[a][1]){var g=!0;if(a>0&&t)switch(t[s[a-1][0]].t){case 2:e.l+2===s[a][1]&&(e.l+=2,g=!1);break;case 80:e.l<=s[a][1]&&(e.l=s[a][1],g=!1);break;case 4108:e.l<=s[a][1]&&(e.l=s[a][1],g=!1);break}if((!t||a==0)&&e.l<=s[a][1]&&(g=!1,e.l=s[a][1]),g)throw new Error("Read Error: Expected address "+s[a][1]+" at "+e.l+" :"+a)}if(t){var v=t[s[a][0]];if(A[v.n]=rT(e,v.t,{raw:!0}),v.p==="version"&&(A[v.n]=String(A[v.n]>>16)+"."+("0000"+String(A[v.n]&65535)).slice(-4)),v.n=="CodePage")switch(A[v.n]){case 0:A[v.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:sf(l=A[v.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+A[v.n])}}else if(s[a][0]===1){if(l=A.CodePage=rT(e,D9),sf(l),c!==-1){var x=e.l;e.l=s[c][1],u=_J(e,l),e.l=x}}else if(s[a][0]===0){if(l===0){c=a,e.l=s[a+1][1];continue}u=_J(e,l)}else{var y=u[s[a][0]],w;switch(e[e.l]){case 65:e.l+=4,w=Hme(e);break;case 30:e.l+=4,w=hL(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,w=hL(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,w=e.read_shift(4,"i");break;case 19:e.l+=4,w=e.read_shift(4);break;case 5:e.l+=4,w=e.read_shift(8,"f");break;case 11:e.l+=4,w=Ha(e,4);break;case 64:e.l+=4,w=Gs(R9(e));break;default:throw new Error("unparsed value: "+e[e.l])}A[y]=w}}return e.l=r+n,A}var Qme=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function p2t(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function CJ(e,t,r){var n=Ft(8),i=[],s=[],a=8,l=0,c=Ft(8),u=Ft(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),s.push(c),i.push(u),a+=8+c.length,!t){u=Ft(8),u.write_shift(4,0),i.unshift(u);var d=[Ft(4)];for(d[0].write_shift(4,e.length),l=0;l<e.length;++l){var h=e[l][0];for(c=Ft(8+2*(h.length+1)+(h.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,h.length+1),c.write_shift(0,h,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=tl(d),s.unshift(c),a+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(Qme.indexOf(e[l][0])>-1||Fme.indexOf(e[l][0])>-1)&&e[l][1]!=null){var A=e[l][1],g=0;if(t){g=+t[e[l][0]];var v=r[g];if(v.p=="version"&&typeof A=="string"){var x=A.split(".");A=(+x[0]<<16)+(+x[1]||0)}c=EJ(v.t,A)}else{var y=p2t(A);y==-1&&(y=31,A=String(A)),c=EJ(y,A)}s.push(c),u=Ft(8),u.write_shift(4,t?g:2+l),i.push(u),a+=8+c.length}var w=8*(s.length+1);for(l=0;l<s.length;++l)i[l].write_shift(4,w),w+=s[l].length;return n.write_shift(4,a),n.write_shift(4,s.length),tl([n].concat(i).concat(s))}function NJ(e,t,r){var n=e.content;if(!n)return{};xl(n,0);var i,s,a,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==mn.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=n.read_shift(16),l=n.read_shift(4),i===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);i===2&&(a=n.read_shift(16),c=n.read_shift(4));var h=SJ(n,t),A={SystemIdentifier:u};for(var g in h)A[g]=h[g];if(A.FMTID=s,i===1)return A;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var v;try{v=SJ(n,null)}catch{}for(g in v)A[g]=v[g];return A.FMTID=[s,a],A}function TJ(e,t,r,n,i,s){var a=Ft(i?68:48),l=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,mn.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,t,"hex"),a.write_shift(4,i?68:48);var c=CJ(e,r,n);if(l.push(c),i){var u=CJ(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+c.length),l.push(u)}return tl(l)}function t0(e,t){return e.read_shift(t),null}function g2t(e,t){t||(t=Ft(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function m2t(e,t,r){for(var n=[],i=e.l+t;e.l<i;)n.push(r(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return n}function Ha(e,t){return e.read_shift(t)===1}function hc(e,t){return t||(t=Ft(2)),t.write_shift(2,+!!e),t}function ao(e){return e.read_shift(2,"u")}function nd(e,t){return t||(t=Ft(2)),t.write_shift(2,e),t}function $me(e,t){return m2t(e,t,ao)}function x2t(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function Vme(e,t,r){return r||(r=Ft(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function aS(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var a=n?e.read_shift(n,i):"";return a}function v2t(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,i=r&8,s=1+(r&1),a=0,l,c={};i&&(a=e.read_shift(2)),n&&(l=e.read_shift(4));var u=s==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return i&&(e.l+=4*a),n&&(e.l+=l),c.t=d,i||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function y2t(e){var t=e.t||"",r=Ft(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Ft(2*t.length);n.write_shift(2*t.length,t,"utf16le");var i=[r,n];return tl(i)}function Om(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function oS(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Om(e,n,r)}function A1(e,t,r){if(r.biff>5)return oS(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function zme(e,t,r){return r||(r=Ft(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function w2t(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function b2t(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var i=e.read_shift((n?t-24:t)>>1,"utf16le").replace(_c,"");return n&&(e.l+=24),i}function _2t(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=e.read_shift(4);if(i===0)return r+n.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=e.read_shift(s>>1,"utf16le").replace(_c,"");return r+a}function E2t(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return b2t(e);case"0303000000000000c000000000000046":return _2t(e);default:throw new Error("Unsupported Moniker "+r)}}function vN(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(_c,""):"";return r}function BJ(e,t){t||(t=Ft(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function S2t(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=e.read_shift(2);e.l+=2;var s,a,l,c,u="",d,h;i&16&&(s=vN(e,r-e.l)),i&128&&(a=vN(e,r-e.l)),(i&257)===257&&(l=vN(e,r-e.l)),(i&257)===1&&(c=E2t(e,r-e.l)),i&8&&(u=vN(e,r-e.l)),i&32&&(d=e.read_shift(16)),i&64&&(h=R9(e)),e.l=r;var A=a||l||c||"";A&&u&&(A+="#"+u),A||(A="#"+u),i&2&&A.charAt(0)=="/"&&A.charAt(1)!="/"&&(A="file://"+A);var g={Target:A};return d&&(g.guid=d),h&&(g.time=h),s&&(g.Tooltip=s),g}function C2t(e){var t=Ft(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),s=i>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(r=0;r<a.length;++r)t.write_shift(4,a[r]);if(s==28)n=n.slice(1),BJ(n,t);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<a.length;++r)t.write_shift(1,parseInt(a[r],16));var l=i>-1?n.slice(0,i):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),s&8&&BJ(i>-1?n.slice(i+1):"",t)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<a.length;++r)t.write_shift(1,parseInt(a[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Gme(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),i=e.read_shift(1);return[t,r,n,i]}function Wme(e,t){var r=Gme(e);return r[3]=0,r}function Ch(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Dm(e,t,r,n){return n||(n=Ft(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function N2t(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function T2t(e,t,r){return t===0?"":A1(e,t,r)}function B2t(e,t,r){var n=r.biff>8?4:2,i=e.read_shift(n),s=e.read_shift(n,"i"),a=e.read_shift(n,"i");return[i,s,a]}function Kme(e){var t=e.read_shift(2),r=O9(e);return[t,r]}function I2t(e,t,r){e.l+=4,t-=4;var n=e.l+t,i=aS(e,t,r),s=e.read_shift(2);if(n-=e.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return e.l+=s,i}function ik(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);return{s:{c:n,r:t},e:{c:i,r}}}function qme(e,t){return t||(t=Ft(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function Xme(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),i=e.read_shift(1);return{s:{c:n,r:t},e:{c:i,r}}}var k2t=Xme;function Yme(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function j2t(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function P2t(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Ol(e){e.l+=2,e.l+=e.read_shift(2)}var F2t={0:Ol,4:Ol,5:Ol,6:Ol,7:P2t,8:Ol,9:Ol,10:Ol,11:Ol,12:Ol,13:j2t,14:Ol,15:Ol,16:Ol,17:Ol,18:Ol,19:Ol,20:Ol,21:Yme};function O2t(e,t){for(var r=e.l+t,n=[];e.l<r;){var i=e.read_shift(2);e.l-=2;try{n.push(F2t[i](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function yN(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function M9(e,t,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Ft(i);return s.write_shift(2,n),s.write_shift(2,t),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function D2t(e,t){return t===0||e.read_shift(2),1200}function L2t(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,i=A1(e,0,r);return e.read_shift(t+n-e.l),i}function R2t(e,t){var r=!t||t.biff==8,n=Ft(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function M2t(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function U2t(e,t,r){var n=e.read_shift(4),i=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var a=aS(e,0,r);return a.length===0&&(a="Sheet1"),{pos:n,hs:i,dt:s,name:a}}function H2t(e,t){var r=!t||t.biff>=8?2:1,n=Ft(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function Q2t(e,t){for(var r=e.l+t,n=e.read_shift(4),i=e.read_shift(4),s=[],a=0;a!=i&&e.l<r;++a)s.push(v2t(e));return s.Count=n,s.Unique=i,s}function $2t(e,t){var r=Ft(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],i=0;i<e.length;++i)n[i]=y2t(e[i]);var s=tl([r].concat(n));return s.parts=[r.length].concat(n.map(function(a){return a.length})),s}function V2t(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function z2t(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function G2t(e){var t=N2t(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function W2t(e){return e.read_shift(2),e.read_shift(4)}function IJ(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var i=e.read_shift(2);r&&r.biff==2&&(n=1-(i>>15),i&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,i]}function K2t(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,i],Flags:s,CurTab:a,FirstTab:l,Selected:c,TabRatio:u}}function q2t(){var e=Ft(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function X2t(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function Y2t(e){var t=Ft(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Z2t(){}function J2t(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=aS(e,0,r),n}function ebt(e,t){var r=e.name||"Arial",n=t&&t.biff==5,i=n?15+r.length:16+2*r.length,s=Ft(i);return s.write_shift(2,(e.sz||12)*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function tbt(e){var t=Ch(e);return t.isst=e.read_shift(4),t}function rbt(e,t,r,n){var i=Ft(10);return Dm(e,t,n,i),i.write_shift(4,r),i}function nbt(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,i=Ch(e);r.biff==2&&e.l++;var s=oS(e,n-e.l,r);return i.val=s,i}function ibt(e,t,r,n,i){var s=!i||i.biff==8,a=Ft(8+ +s+(1+s)*r.length);return Dm(e,t,n,a),a.write_shift(2,r.length),s&&a.write_shift(1,1),a.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),a}function sbt(e,t,r){var n=e.read_shift(2),i=A1(e,0,r);return[n,i]}function abt(e,t,r,n){var i=r&&r.biff==5;n||(n=Ft(i?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(i?1:2,t.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}var obt=A1;function kJ(e,t,r){var n=e.l+t,i=r.biff==8||!r.biff?4:2,s=e.read_shift(i),a=e.read_shift(i),l=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:s,c:l},e:{r:a,c}}}function lbt(e,t){var r=t.biff==8||!t.biff?4:2,n=Ft(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function cbt(e){var t=e.read_shift(2),r=e.read_shift(2),n=Kme(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function ubt(e,t){for(var r=e.l+t-2,n=e.read_shift(2),i=e.read_shift(2),s=[];e.l<r;)s.push(Kme(e));if(e.l!==r)throw new Error("MulRK read error");var a=e.read_shift(2);if(s.length!=a-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:a,rkrec:s}}function dbt(e,t){for(var r=e.l+t-2,n=e.read_shift(2),i=e.read_shift(2),s=[];e.l<r;)s.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var a=e.read_shift(2);if(s.length!=a-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:a,ixfe:s}}function fbt(e,t,r,n){var i={},s=e.read_shift(4),a=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return i.patternType=Gwt[l>>26],n.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=a&15,i.dgRight=a>>4&15,i.dgTop=a>>8&15,i.dgBottom=a>>12&15,i.icvLeft=a>>16&127,i.icvRight=a>>23&127,i.grbitDiag=a>>30&3,i.icvTop=l&127,i.icvBottom=l>>7&127,i.icvDiag=l>>14&127,i.dgDiag=l>>21&15,i.icvFore=c&127,i.icvBack=c>>7&127,i.fsxButton=c>>14&1),i}function hbt(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=fbt(e,t,n.fStyle,r),n}function jJ(e,t,r,n){var i=r&&r.biff==5;n||(n=Ft(i?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&i&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function Abt(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function pbt(e){var t=Ft(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function PJ(e,t,r){var n=Ch(e);(r.biff==2||t==9)&&++e.l;var i=x2t(e);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function gbt(e,t,r,n,i,s){var a=Ft(8);return Dm(e,t,n,a),Vme(r,s,a),a}function mbt(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Ch(e),i=Wl(e);return n.val=i,n}function xbt(e,t,r,n){var i=Ft(14);return Dm(e,t,n,i),Fm(r,i),i}var FJ=T2t;function vbt(e,t,r){var n=e.l+t,i=e.read_shift(2),s=e.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var a=Om(e,s),l=[];n>e.l;)l.push(oS(e));return[s,i,a,l]}function OJ(e,t,r){var n=e.read_shift(2),i,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(i=I2t(e,t-2,r)),s.body=i||e.read_shift(t-2),typeof i=="string"&&(s.Name=i),s}var ybt=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function DJ(e,t,r){var n=e.l+t,i=e.read_shift(2),s=e.read_shift(1),a=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=Om(e,a,r);i&32&&(u=ybt[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var h=n==e.l||l===0||!(d>0)?[]:OCt(e,d,r,l);return{chKey:s,Name:u,itab:c,rgce:h}}function Zme(e,t,r){if(r.biff<8)return wbt(e,t,r);for(var n=[],i=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(B2t(e,r.biff>8?12:6,r));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return n}function wbt(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=aS(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function bbt(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),i=e.read_shift(2),s=Om(e,n,r),a=Om(e,i,r);return[s,a]}function _bt(e,t,r){var n=Xme(e);e.l++;var i=e.read_shift(1);return t-=8,[DCt(e,t,r),i,n]}function LJ(e,t,r){var n=k2t(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,PCt(e,t,r)]}function Ebt(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function Sbt(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2),l=A1(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:i},l,a,s]}}function Cbt(e,t,r){return Sbt(e,t,r)}function Nbt(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(ik(e));return r}function Tbt(e){var t=Ft(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)qme(e[r],t);return t}function Bbt(e,t,r){if(r&&r.biff<8)return kbt(e,t,r);var n=Yme(e),i=O2t(e,t-22,n[1]);return{cmo:n,ft:i}}var Ibt={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=r,{fmt:n}}};function kbt(e,t,r){e.l+=4;var n=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var a=[];return a.push((Ibt[n]||Jl)(e,t,r)),{cmo:[i,n,s],ft:a}}function jbt(e,t,r){var n=e.l,i="";try{e.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:a=w2t(e,6,r);var l=e.read_shift(2);e.read_shift(2),ao(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],h=Om(e,e.lens[u+1]-e.lens[u]-1);if(i+=h,i.length>=(d?l:2*l))break}if(i.length!==l&&i.length!==l*2)throw new Error("cchText: "+l+" != "+i.length);return e.l=n+t,{t:i}}catch{return e.l=n+t,{t:i}}}function Pbt(e,t){var r=ik(e);e.l+=16;var n=S2t(e,t-24);return[r,n]}function Fbt(e){var t=Ft(24),r=ga(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(n[i],16));return tl([t,C2t(e[1])])}function Obt(e,t){e.read_shift(2);var r=ik(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(_c,""),[r,n]}function Dbt(e){var t=e[1].Tooltip,r=Ft(10+2*(t.length+1));r.write_shift(2,2048);var n=ga(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<t.length;++i)r.write_shift(2,t.charCodeAt(i));return r.write_shift(2,0),r}function Lbt(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=wJ[r]||r,r=e.read_shift(2),t[1]=wJ[r]||r,t}function Rbt(e){return e||(e=Ft(4)),e.write_shift(2,1),e.write_shift(2,1),e}function Mbt(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Wme(e));return r}function Ubt(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Wme(e));return r}function Hbt(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function Jme(e,t,r){if(!r.cellStyles)return Jl(e,t);var n=r&&r.biff>=12?4:2,i=e.read_shift(n),s=e.read_shift(n),a=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:i,e:s,w:a,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function Qbt(e,t){var r=Ft(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function $bt(e,t){var r={};return t<32||(e.l+=16,r.header=Wl(e),r.footer=Wl(e),e.l+=2),r}function Vbt(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var i=e.read_shift(1);return e.l+=3,i&16&&(n.area=!0),n}function zbt(e){for(var t=Ft(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var Gbt=Ch,Wbt=$me,Kbt=oS;function qbt(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,i}function Xbt(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Ch(e);++e.l;var i=A1(e,t-7,r);return n.t="str",n.val=i,n}function Ybt(e){var t=Ch(e);++e.l;var r=Wl(e);return t.t="n",t.val=r,t}function Zbt(e,t,r){var n=Ft(15);return dS(n,e,t),n.write_shift(8,r,"f"),n}function Jbt(e){var t=Ch(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function e_t(e,t,r){var n=Ft(9);return dS(n,e,t),n.write_shift(2,r),n}function t_t(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function r_t(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function n_t(e,t,r){var n=e.l+t,i=Ch(e),s=e.read_shift(2),a=Om(e,s,r);return e.l=n,i.t="str",i.val=a,i}var i_t=[2,3,48,49,131,139,140,245],AL=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=tk({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=Np(1);switch(c.type){case"base64":d=Cu(Lu(l));break;case"binary":d=Cu(l);break;case"buffer":case"array":d=l;break}xl(d,0);var h=d.read_shift(1),A=!!(h&136),g=!1,v=!1;switch(h){case 2:break;case 3:break;case 48:g=!0,A=!0;break;case 49:g=!0,A=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var x=0,y=521;h==2&&(x=d.read_shift(2)),d.l+=3,h!=2&&(x=d.read_shift(4)),x>1048576&&(x=1e6),h!=2&&(y=d.read_shift(2));var w=d.read_shift(2),_=c.codepage||1252;h!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(_=e[d[d.l]]),d.l+=1,d.l+=2),v&&(d.l+=36);for(var E=[],I={},N=Math.min(d.length,h==2?521:y-10-(g?264:0)),j=v?32:11;d.l<N&&d[d.l]!=13;)switch(I={},I.name=E0.utils.decode(_,d.slice(d.l,d.l+j)).replace(/[\u0000\r\n].*$/g,""),d.l+=j,I.type=String.fromCharCode(d.read_shift(1)),h!=2&&!v&&(I.offset=d.read_shift(4)),I.len=d.read_shift(1),h==2&&(I.offset=d.read_shift(2)),I.dec=d.read_shift(1),I.name.length&&E.push(I),h!=2&&(d.l+=v?13:14),I.type){case"B":(!g||I.len!=8)&&c.WTF&&console.log("Skipping "+I.name+":"+I.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+I.name+":"+I.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+I.type)}if(d[d.l]!==13&&(d.l=y-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=y;var T=0,P=0;for(u[0]=[],P=0;P!=E.length;++P)u[0][P]=E[P].name;for(;x-- >0;){if(d[d.l]===42){d.l+=w;continue}for(++d.l,u[++T]=[],P=0,P=0;P!=E.length;++P){var k=d.slice(d.l,d.l+E[P].len);d.l+=E[P].len,xl(k,0);var R=E0.utils.decode(_,k);switch(E[P].type){case"C":R.trim().length&&(u[T][P]=R.replace(/\s+$/,""));break;case"D":R.length===8?u[T][P]=new Date(+R.slice(0,4),+R.slice(4,6)-1,+R.slice(6,8)):u[T][P]=R;break;case"F":u[T][P]=parseFloat(R.trim());break;case"+":case"I":u[T][P]=v?k.read_shift(-4,"i")^2147483648:k.read_shift(4,"i");break;case"L":switch(R.trim().toUpperCase()){case"Y":case"T":u[T][P]=!0;break;case"N":case"F":u[T][P]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+R+"|")}break;case"M":if(!A)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));u[T][P]="##MEMO##"+(v?parseInt(R.trim(),10):k.read_shift(4));break;case"N":R=R.replace(/\u0000/g,"").trim(),R&&R!="."&&(u[T][P]=+R||0);break;case"@":u[T][P]=new Date(k.read_shift(-8,"f")-621356832e5);break;case"T":u[T][P]=new Date((k.read_shift(4)-2440588)*864e5+k.read_shift(4));break;case"Y":u[T][P]=k.read_shift(4,"i")/1e4+k.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[T][P]=-k.read_shift(-8,"f");break;case"B":if(g&&E[P].len==8){u[T][P]=k.read_shift(8,"f");break}case"G":case"P":k.l+=E[P].len;break;case"0":if(E[P].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+E[P].type)}}}if(h!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=E,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=aw(r(l,u),u);return d["!cols"]=u.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete u.DBF,d}function i(l,c){try{return Yp(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(l,c){var u=c||{};if(+u.codepage>=0&&sf(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=Zc(),h=sT(l,{header:1,raw:!0,cellDates:!0}),A=h[0],g=h.slice(1),v=l["!cols"]||[],x=0,y=0,w=0,_=1;for(x=0;x<A.length;++x){if(((v[x]||{}).DBF||{}).name){A[x]=v[x].DBF.name,++w;continue}if(A[x]!=null){if(++w,typeof A[x]=="number"&&(A[x]=A[x].toString(10)),typeof A[x]!="string")throw new Error("DBF Invalid column name "+A[x]+" |"+typeof A[x]+"|");if(A.indexOf(A[x])!==x){for(y=0;y<1024;++y)if(A.indexOf(A[x]+"_"+y)==-1){A[x]+="_"+y;break}}}}var E=Ri(l["!ref"]),I=[],N=[],j=[];for(x=0;x<=E.e.c-E.s.c;++x){var T="",P="",k=0,R=[];for(y=0;y<g.length;++y)g[y][x]!=null&&R.push(g[y][x]);if(R.length==0||A[x]==null){I[x]="?";continue}for(y=0;y<R.length;++y){switch(typeof R[y]){case"number":P="B";break;case"string":P="C";break;case"boolean":P="L";break;case"object":P=R[y]instanceof Date?"D":"C";break;default:P="C"}k=Math.max(k,String(R[y]).length),T=T&&T!=P?"C":P}k>250&&(k=250),P=((v[x]||{}).DBF||{}).type,P=="C"&&v[x].DBF.len>k&&(k=v[x].DBF.len),T=="B"&&P=="N"&&(T="N",j[x]=v[x].DBF.dec,k=v[x].DBF.len),N[x]=T=="C"||P=="N"?k:s[T]||0,_+=N[x],I[x]=T}var O=d.next(32);for(O.write_shift(4,318902576),O.write_shift(4,g.length),O.write_shift(2,296+32*w),O.write_shift(2,_),x=0;x<4;++x)O.write_shift(4,0);for(O.write_shift(4,0|(+t[Qge]||3)<<8),x=0,y=0;x<A.length;++x)if(A[x]!=null){var M=d.next(32),H=(A[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);M.write_shift(1,H,"sbcs"),M.write_shift(1,I[x]=="?"?"C":I[x],"sbcs"),M.write_shift(4,y),M.write_shift(1,N[x]||s[I[x]]||0),M.write_shift(1,j[x]||0),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(1,0),M.write_shift(4,0),M.write_shift(4,0),y+=N[x]||s[I[x]]||0}var K=d.next(264);for(K.write_shift(4,13),x=0;x<65;++x)K.write_shift(4,0);for(x=0;x<g.length;++x){var Y=d.next(_);for(Y.write_shift(1,0),y=0;y<A.length;++y)if(A[y]!=null)switch(I[y]){case"L":Y.write_shift(1,g[x][y]==null?63:g[x][y]?84:70);break;case"B":Y.write_shift(8,g[x][y]||0,"f");break;case"N":var ne="0";for(typeof g[x][y]=="number"&&(ne=g[x][y].toFixed(j[y]||0)),w=0;w<N[y]-ne.length;++w)Y.write_shift(1,32);Y.write_shift(1,ne,"sbcs");break;case"D":g[x][y]?(Y.write_shift(4,("0000"+g[x][y].getFullYear()).slice(-4),"sbcs"),Y.write_shift(2,("00"+(g[x][y].getMonth()+1)).slice(-2),"sbcs"),Y.write_shift(2,("00"+g[x][y].getDate()).slice(-2),"sbcs")):Y.write_shift(8,"00000000","sbcs");break;case"C":var le=String(g[x][y]!=null?g[x][y]:"").slice(0,N[y]);for(Y.write_shift(1,le,"sbcs"),w=0;w<N[y]-le.length;++w)Y.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:i,to_sheet:n,from_sheet:a}}(),e1e=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Fa(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(A,g){var v=e[g];return typeof v=="number"?KZ(v):v},n=function(A,g,v){var x=g.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return x==59?A:KZ(x)};e["|"]=254;function i(A,g){switch(g.type){case"base64":return s(Lu(A),g);case"binary":return s(A,g);case"buffer":return s(di&&Buffer.isBuffer(A)?A.toString("binary"):Xp(A),g);case"array":return s(Pm(A),g)}throw new Error("Unrecognized type "+g.type)}function s(A,g){var v=A.split(/[\n\r]+/),x=-1,y=-1,w=0,_=0,E=[],I=[],N=null,j={},T=[],P=[],k=[],R=0,O;for(+g.codepage>=0&&sf(+g.codepage);w!==v.length;++w){R=0;var M=v[w].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),H=M.replace(/;;/g,"\0").split(";").map(function(re){return re.replace(/\u0000/g,";")}),K=H[0],Y;if(M.length>0)switch(K){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":H[1].charAt(0)=="P"&&I.push(M.slice(3).replace(/;;/g,";"));break;case"C":var ne=!1,le=!1,te=!1,X=!1,ue=-1,ve=-1;for(_=1;_<H.length;++_)switch(H[_].charAt(0)){case"A":break;case"X":y=parseInt(H[_].slice(1))-1,le=!0;break;case"Y":for(x=parseInt(H[_].slice(1))-1,le||(y=0),O=E.length;O<=x;++O)E[O]=[];break;case"K":Y=H[_].slice(1),Y.charAt(0)==='"'?Y=Y.slice(1,Y.length-1):Y==="TRUE"?Y=!0:Y==="FALSE"?Y=!1:isNaN(df(Y))?isNaN(uy(Y).getDate())||(Y=Gs(Y)):(Y=df(Y),N!==null&&iw(N)&&(Y=nk(Y))),ne=!0;break;case"E":X=!0;var V=ev(H[_].slice(1),{r:x,c:y});E[x][y]=[E[x][y],V];break;case"S":te=!0,E[x][y]=[E[x][y],"S5S"];break;case"G":break;case"R":ue=parseInt(H[_].slice(1))-1;break;case"C":ve=parseInt(H[_].slice(1))-1;break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+M)}if(ne&&(E[x][y]&&E[x][y].length==2?E[x][y][0]=Y:E[x][y]=Y,N=null),te){if(X)throw new Error("SYLK shared formula cannot have own formula");var q=ue>-1&&E[ue][ve];if(!q||!q[1])throw new Error("SYLK shared formula cannot find base");E[x][y][1]=x1e(q[1],{r:x-ue,c:y-ve})}break;case"F":var ee=0;for(_=1;_<H.length;++_)switch(H[_].charAt(0)){case"X":y=parseInt(H[_].slice(1))-1,++ee;break;case"Y":for(x=parseInt(H[_].slice(1))-1,O=E.length;O<=x;++O)E[O]=[];break;case"M":R=parseInt(H[_].slice(1))/20;break;case"F":break;case"G":break;case"P":N=I[parseInt(H[_].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(k=H[_].slice(1).split(" "),O=parseInt(k[0],10);O<=parseInt(k[1],10);++O)R=parseInt(k[2],10),P[O-1]=R===0?{hidden:!0}:{wch:R},Tp(P[O-1]);break;case"C":y=parseInt(H[_].slice(1))-1,P[y]||(P[y]={});break;case"R":x=parseInt(H[_].slice(1))-1,T[x]||(T[x]={}),R>0?(T[x].hpt=R,T[x].hpx=fy(R)):R===0&&(T[x].hidden=!0);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+M)}ee<1&&(N=null);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+M)}}return T.length>0&&(j["!rows"]=T),P.length>0&&(j["!cols"]=P),g&&g.sheetRows&&(E=E.slice(0,g.sheetRows)),[E,j]}function a(A,g){var v=i(A,g),x=v[0],y=v[1],w=aw(x,g);return Fa(y).forEach(function(_){w[_]=y[_]}),w}function l(A,g){return Yp(a(A,g),g)}function c(A,g,v,x){var y="C;Y"+(v+1)+";X"+(x+1)+";K";switch(A.t){case"n":y+=A.v||0,A.f&&!A.F&&(y+=";E"+z9(A.f,{r:v,c:x}));break;case"b":y+=A.v?"TRUE":"FALSE";break;case"e":y+=A.w||A.v;break;case"d":y+='"'+(A.w||A.v)+'"';break;case"s":y+='"'+A.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function u(A,g){g.forEach(function(v,x){var y="F;W"+(x+1)+" "+(x+1)+" ";v.hidden?y+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=Y_(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=Z_(v.wpx)),typeof v.wch=="number"&&(y+=Math.round(v.wch))),y.charAt(y.length-1)!=" "&&A.push(y)})}function d(A,g){g.forEach(function(v,x){var y="F;";v.hidden?y+="M0;":v.hpt?y+="M"+20*v.hpt+";":v.hpx&&(y+="M"+20*J_(v.hpx)+";"),y.length>2&&A.push(y+"R"+(x+1))})}function h(A,g){var v=["ID;PWXL;N;E"],x=[],y=Ri(A["!ref"]),w,_=Array.isArray(A),E=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),A["!cols"]&&u(v,A["!cols"]),A["!rows"]&&d(v,A["!rows"]),v.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var I=y.s.r;I<=y.e.r;++I)for(var N=y.s.c;N<=y.e.c;++N){var j=Bn({r:I,c:N});w=_?(A[I]||[])[N]:A[j],!(!w||w.v==null&&(!w.f||w.F))&&x.push(c(w,A,I,N))}return v.join(E)+E+x.join(E)+E+"E"+E}return{to_workbook:l,to_sheet:a,from_sheet:h}}(),t1e=function(){function e(s,a){switch(a.type){case"base64":return t(Lu(s),a);case"binary":return t(s,a);case"buffer":return t(di&&Buffer.isBuffer(s)?s.toString("binary"):Xp(s),a);case"array":return t(Pm(s),a)}throw new Error("Unrecognized type "+a.type)}function t(s,a){for(var l=s.split(`
`),c=-1,u=-1,d=0,h=[];d!==l.length;++d){if(l[d].trim()==="BOT"){h[++c]=[],u=0;continue}if(!(c<0)){var A=l[d].trim().split(","),g=A[0],v=A[1];++d;for(var x=l[d]||"";(x.match(/["]/g)||[]).length&1&&d<l.length-1;)x+=`
`+l[++d];switch(x=x.trim(),+g){case-1:if(x==="BOT"){h[++c]=[],u=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?h[c][u]=!0:x==="FALSE"?h[c][u]=!1:isNaN(df(v))?isNaN(uy(v).getDate())?h[c][u]=v:h[c][u]=Gs(v):h[c][u]=df(v),++u;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),h[c][u++]=x!==""?x:null;break}if(x==="EOD")break}}return a&&a.sheetRows&&(h=h.slice(0,a.sheetRows)),h}function r(s,a){return aw(e(s,a),a)}function n(s,a){return Yp(r(s,a),a)}var i=function(){var s=function(c,u,d,h,A){c.push(u),c.push(d+","+h),c.push('"'+A.replace(/"/g,'""')+'"')},a=function(c,u,d,h){c.push(u+","+d),c.push(u==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(c){var u=[],d=Ri(c["!ref"]),h,A=Array.isArray(c);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,d.e.r-d.s.r+1,""),s(u,"TUPLES",0,d.e.c-d.s.c+1,""),s(u,"DATA",0,0,"");for(var g=d.s.r;g<=d.e.r;++g){a(u,-1,0,"BOT");for(var v=d.s.c;v<=d.e.c;++v){var x=Bn({r:g,c:v});if(h=A?(c[g]||[])[v]:c[x],!h){a(u,1,0,"");continue}switch(h.t){case"n":var y=h.w;!y&&h.v!=null&&(y=h.v),y==null?h.f&&!h.F?a(u,1,0,"="+h.f):a(u,1,0,""):a(u,0,y,"V");break;case"b":a(u,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":a(u,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=Nd(h.z||Tn[14],Do(Gs(h.v)))),a(u,0,h.w,"V");break;default:a(u,1,0,"")}}}a(u,-1,0,"EOD");var w=`\r
`,_=u.join(w);return _}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),r1e=function(){function e(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,A){for(var g=h.split(`
`),v=-1,x=-1,y=0,w=[];y!==g.length;++y){var _=g[y].trim().split(":");if(_[0]==="cell"){var E=ga(_[1]);if(w.length<=E.r)for(v=w.length;v<=E.r;++v)w[v]||(w[v]=[]);switch(v=E.r,x=E.c,_[2]){case"t":w[v][x]=e(_[3]);break;case"v":w[v][x]=+_[3];break;case"vtf":var I=_[_.length-1];case"vtc":switch(_[3]){case"nl":w[v][x]=!!+_[4];break;default:w[v][x]=+_[4];break}_[2]=="vtf"&&(w[v][x]=[w[v][x],I])}}}return A&&A.sheetRows&&(w=w.slice(0,A.sheetRows)),w}function n(h,A){return aw(r(h,A),A)}function i(h,A){return Yp(n(h,A),A)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(h){if(!h||!h["!ref"])return"";for(var A=[],g=[],v,x="",y=Jc(h["!ref"]),w=Array.isArray(h),_=y.s.r;_<=y.e.r;++_)for(var E=y.s.c;E<=y.e.c;++E)if(x=Bn({r:_,c:E}),v=w?(h[_]||[])[E]:h[x],!(!v||v.v==null||v.t==="z")){switch(g=["cell",x,"t"],v.t){case"s":case"str":g.push(t(v.v));break;case"n":v.f?(g[2]="vtf",g[3]="n",g[4]=v.v,g[5]=t(v.f)):(g[2]="v",g[3]=v.v);break;case"b":g[2]="vt"+(v.f?"f":"c"),g[3]="nl",g[4]=v.v?"1":"0",g[5]=t(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var I=Do(Gs(v.v));g[2]="vtc",g[3]="nd",g[4]=""+I,g[5]=v.w||Nd(v.z||Tn[14],I);break;case"e":continue}A.push(g.join(":"))}return A.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),A.push("valueformat:1:text-wiki"),A.join(`
`)}function d(h){return[s,a,l,a,u(h),c].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:d}}(),dy=function(){function e(d,h,A,g,v){v.raw?h[A][g]=d:d===""||(d==="TRUE"?h[A][g]=!0:d==="FALSE"?h[A][g]=!1:isNaN(df(d))?isNaN(uy(d).getDate())?h[A][g]=d:h[A][g]=Gs(d):h[A][g]=df(d))}function t(d,h){var A=h||{},g=[];if(!d||d.length===0)return g;for(var v=d.split(/[\r\n]/),x=v.length-1;x>=0&&v[x].length===0;)--x;for(var y=10,w=0,_=0;_<=x;++_)w=v[_].indexOf(" "),w==-1?w=v[_].length:w++,y=Math.max(y,w);for(_=0;_<=x;++_){g[_]=[];var E=0;for(e(v[_].slice(0,y).trim(),g,_,E,A),E=1;E<=(v[_].length-y)/10+1;++E)e(v[_].slice(y+(E-1)*10,y+E*10).trim(),g,_,E,A)}return A.sheetRows&&(g=g.slice(0,A.sheetRows)),g}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(d){for(var h={},A=!1,g=0,v=0;g<d.length;++g)(v=d.charCodeAt(g))==34?A=!A:!A&&v in r&&(h[v]=(h[v]||0)+1);v=[];for(g in h)Object.prototype.hasOwnProperty.call(h,g)&&v.push([h[g],g]);if(!v.length){h=n;for(g in h)Object.prototype.hasOwnProperty.call(h,g)&&v.push([h[g],g])}return v.sort(function(x,y){return x[0]-y[0]||n[x[1]]-n[y[1]]}),r[v.pop()[1]]||44}function s(d,h){var A=h||{},g="",v=A.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(g=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(g=d.charAt(4),d=d.slice(6)):g=i(d.slice(0,1024)):A&&A.FS?g=A.FS:g=i(d.slice(0,1024));var y=0,w=0,_=0,E=0,I=0,N=g.charCodeAt(0),j=!1,T=0,P=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var k=A.dateNF!=null?Vyt(A.dateNF):null;function R(){var O=d.slice(E,I),M={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)M.t="z";else if(A.raw)M.t="s",M.v=O;else if(O.trim().length===0)M.t="s",M.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(M.t="s",M.v=O.slice(2,-1).replace(/""/g,'"')):vSt(O)?(M.t="n",M.f=O.slice(1)):(M.t="s",M.v=O);else if(O=="TRUE")M.t="b",M.v=!0;else if(O=="FALSE")M.t="b",M.v=!1;else if(!isNaN(_=df(O)))M.t="n",A.cellText!==!1&&(M.w=O),M.v=_;else if(!isNaN(uy(O).getDate())||k&&O.match(k)){M.z=A.dateNF||Tn[14];var H=0;k&&O.match(k)&&(O=zyt(O,A.dateNF,O.match(k)||[]),H=1),A.cellDates?(M.t="d",M.v=Gs(O,H)):(M.t="n",M.v=Do(Gs(O,H))),A.cellText!==!1&&(M.w=Nd(M.z,M.v instanceof Date?Do(M.v):M.v)),A.cellNF||delete M.z}else M.t="s",M.v=O;if(M.t=="z"||(A.dense?(v[y]||(v[y]=[]),v[y][w]=M):v[Bn({c:w,r:y})]=M),E=I+1,P=d.charCodeAt(E),x.e.c<w&&(x.e.c=w),x.e.r<y&&(x.e.r=y),T==N)++w;else if(w=0,++y,A.sheetRows&&A.sheetRows<=y)return!0}e:for(;I<d.length;++I)switch(T=d.charCodeAt(I)){case 34:P===34&&(j=!j);break;case N:case 10:case 13:if(!j&&R())break e;break}return I-E>0&&R(),v["!ref"]=ei(x),v}function a(d,h){return!(h&&h.PRN)||h.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,h):aw(t(d,h),h)}function l(d,h){var A="",g=h.type=="string"?[0,0,0,0]:J9(d,h);switch(h.type){case"base64":A=Lu(d);break;case"binary":A=d;break;case"buffer":h.codepage==65001?A=d.toString("utf8"):h.codepage&&typeof E0<"u"?A=E0.utils.decode(h.codepage,d):A=di&&Buffer.isBuffer(d)?d.toString("binary"):Xp(d);break;case"array":A=Pm(d);break;case"string":A=d;break;default:throw new Error("Unrecognized type "+h.type)}return g[0]==239&&g[1]==187&&g[2]==191?A=gs(A.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?A=gs(A):h.type=="binary"&&typeof E0<"u"&&h.codepage&&(A=E0.utils.decode(h.codepage,E0.utils.encode(28591,A))),A.slice(0,19)=="socialcalc:version:"?r1e.to_sheet(h.type=="string"?A:gs(A),h):a(A,h)}function c(d,h){return Yp(l(d,h),h)}function u(d){for(var h=[],A=Ri(d["!ref"]),g,v=Array.isArray(d),x=A.s.r;x<=A.e.r;++x){for(var y=[],w=A.s.c;w<=A.e.c;++w){var _=Bn({r:x,c:w});if(g=v?(d[x]||[])[w]:d[_],!g||g.v==null){y.push("          ");continue}for(var E=(g.w||(jA(g),g.w)||"").slice(0,10);E.length<10;)E+=" ";y.push(E+(w===0?" ":""))}h.push(y.join(""))}return h.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}();function s_t(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var i=e1e.to_workbook(e,r);return r.WTF=n,i}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return dy.to_workbook(e,t)}}var nm=function(){function e(V,q,ee){if(V){xl(V,V.l||0);for(var re=ee.Enum||ue;V.l<V.length;){var de=V.read_shift(2),Ae=re[de]||re[65535],_e=V.read_shift(2),ye=V.l+_e,ce=Ae.f&&Ae.f(V,_e,ee);if(V.l=ye,q(ce,Ae,de))return}}}function t(V,q){switch(q.type){case"base64":return r(Cu(Lu(V)),q);case"binary":return r(Cu(V),q);case"buffer":case"array":return r(V,q)}throw"Unsupported type "+q.type}function r(V,q){if(!V)return V;var ee=q||{},re=ee.dense?[]:{},de="Sheet1",Ae="",_e=0,ye={},ce=[],Ne=[],oe={s:{r:0,c:0},e:{r:0,c:0}},We=ee.sheetRows||0;if(V[2]==0&&(V[3]==8||V[3]==9)&&V.length>=16&&V[14]==5&&V[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(V[2]==2)ee.Enum=ue,e(V,function(He,ke,Te){switch(Te){case 0:ee.vers=He,He>=4096&&(ee.qpro=!0);break;case 6:oe=He;break;case 204:He&&(Ae=He);break;case 222:Ae=He;break;case 15:case 51:ee.qpro||(He[1].v=He[1].v.slice(1));case 13:case 14:case 16:Te==14&&(He[2]&112)==112&&(He[2]&15)>1&&(He[2]&15)<15&&(He[1].z=ee.dateNF||Tn[14],ee.cellDates&&(He[1].t="d",He[1].v=nk(He[1].v))),ee.qpro&&He[3]>_e&&(re["!ref"]=ei(oe),ye[de]=re,ce.push(de),re=ee.dense?[]:{},oe={s:{r:0,c:0},e:{r:0,c:0}},_e=He[3],de=Ae||"Sheet"+(_e+1),Ae="");var Ze=ee.dense?(re[He[0].r]||[])[He[0].c]:re[Bn(He[0])];if(Ze){Ze.t=He[1].t,Ze.v=He[1].v,He[1].z!=null&&(Ze.z=He[1].z),He[1].f!=null&&(Ze.f=He[1].f);break}ee.dense?(re[He[0].r]||(re[He[0].r]=[]),re[He[0].r][He[0].c]=He[1]):re[Bn(He[0])]=He[1];break}},ee);else if(V[2]==26||V[2]==14)ee.Enum=ve,V[2]==14&&(ee.qpro=!0,V.l=0),e(V,function(He,ke,Te){switch(Te){case 204:de=He;break;case 22:He[1].v=He[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(He[3]>_e&&(re["!ref"]=ei(oe),ye[de]=re,ce.push(de),re=ee.dense?[]:{},oe={s:{r:0,c:0},e:{r:0,c:0}},_e=He[3],de="Sheet"+(_e+1)),We>0&&He[0].r>=We)break;ee.dense?(re[He[0].r]||(re[He[0].r]=[]),re[He[0].r][He[0].c]=He[1]):re[Bn(He[0])]=He[1],oe.e.c<He[0].c&&(oe.e.c=He[0].c),oe.e.r<He[0].r&&(oe.e.r=He[0].r);break;case 27:He[14e3]&&(Ne[He[14e3][0]]=He[14e3][1]);break;case 1537:Ne[He[0]]=He[1],He[0]==_e&&(de=He[1]);break}},ee);else throw new Error("Unrecognized LOTUS BOF "+V[2]);if(re["!ref"]=ei(oe),ye[Ae||de]=re,ce.push(Ae||de),!Ne.length)return{SheetNames:ce,Sheets:ye};for(var Re={},z=[],Fe=0;Fe<Ne.length;++Fe)ye[ce[Fe]]?(z.push(Ne[Fe]||ce[Fe]),Re[Ne[Fe]]=ye[Ne[Fe]]||ye[ce[Fe]]):(z.push(Ne[Fe]),Re[Ne[Fe]]={"!ref":"A1"});return{SheetNames:z,Sheets:Re}}function n(V,q){var ee=q||{};if(+ee.codepage>=0&&sf(+ee.codepage),ee.type=="string")throw new Error("Cannot write WK1 to JS string");var re=Zc(),de=Ri(V["!ref"]),Ae=Array.isArray(V),_e=[];Tr(re,0,s(1030)),Tr(re,6,c(de));for(var ye=Math.min(de.e.r,8191),ce=de.s.r;ce<=ye;++ce)for(var Ne=Ya(ce),oe=de.s.c;oe<=de.e.c;++oe){ce===de.s.r&&(_e[oe]=pa(oe));var We=_e[oe]+Ne,Re=Ae?(V[ce]||[])[oe]:V[We];if(!(!Re||Re.t=="z"))if(Re.t=="n")(Re.v|0)==Re.v&&Re.v>=-32768&&Re.v<=32767?Tr(re,13,g(ce,oe,Re.v)):Tr(re,14,x(ce,oe,Re.v));else{var z=jA(Re);Tr(re,15,h(ce,oe,z.slice(0,239)))}}return Tr(re,1),re.end()}function i(V,q){var ee=q||{};if(+ee.codepage>=0&&sf(+ee.codepage),ee.type=="string")throw new Error("Cannot write WK3 to JS string");var re=Zc();Tr(re,0,a(V));for(var de=0,Ae=0;de<V.SheetNames.length;++de)(V.Sheets[V.SheetNames[de]]||{})["!ref"]&&Tr(re,27,X(V.SheetNames[de],Ae++));var _e=0;for(de=0;de<V.SheetNames.length;++de){var ye=V.Sheets[V.SheetNames[de]];if(!(!ye||!ye["!ref"])){for(var ce=Ri(ye["!ref"]),Ne=Array.isArray(ye),oe=[],We=Math.min(ce.e.r,8191),Re=ce.s.r;Re<=We;++Re)for(var z=Ya(Re),Fe=ce.s.c;Fe<=ce.e.c;++Fe){Re===ce.s.r&&(oe[Fe]=pa(Fe));var He=oe[Fe]+z,ke=Ne?(ye[Re]||[])[Fe]:ye[He];if(!(!ke||ke.t=="z"))if(ke.t=="n")Tr(re,23,R(Re,Fe,_e,ke.v));else{var Te=jA(ke);Tr(re,22,T(Re,Fe,_e,Te.slice(0,239)))}}++_e}}return Tr(re,1),re.end()}function s(V){var q=Ft(2);return q.write_shift(2,V),q}function a(V){var q=Ft(26);q.write_shift(2,4096),q.write_shift(2,4),q.write_shift(4,0);for(var ee=0,re=0,de=0,Ae=0;Ae<V.SheetNames.length;++Ae){var _e=V.SheetNames[Ae],ye=V.Sheets[_e];if(!(!ye||!ye["!ref"])){++de;var ce=Jc(ye["!ref"]);ee<ce.e.r&&(ee=ce.e.r),re<ce.e.c&&(re=ce.e.c)}}return ee>8191&&(ee=8191),q.write_shift(2,ee),q.write_shift(1,de),q.write_shift(1,re),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(1,1),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(4,0),q}function l(V,q,ee){var re={s:{c:0,r:0},e:{c:0,r:0}};return q==8&&ee.qpro?(re.s.c=V.read_shift(1),V.l++,re.s.r=V.read_shift(2),re.e.c=V.read_shift(1),V.l++,re.e.r=V.read_shift(2),re):(re.s.c=V.read_shift(2),re.s.r=V.read_shift(2),q==12&&ee.qpro&&(V.l+=2),re.e.c=V.read_shift(2),re.e.r=V.read_shift(2),q==12&&ee.qpro&&(V.l+=2),re.s.c==65535&&(re.s.c=re.e.c=re.s.r=re.e.r=0),re)}function c(V){var q=Ft(8);return q.write_shift(2,V.s.c),q.write_shift(2,V.s.r),q.write_shift(2,V.e.c),q.write_shift(2,V.e.r),q}function u(V,q,ee){var re=[{c:0,r:0},{t:"n",v:0},0,0];return ee.qpro&&ee.vers!=20768?(re[0].c=V.read_shift(1),re[3]=V.read_shift(1),re[0].r=V.read_shift(2),V.l+=2):(re[2]=V.read_shift(1),re[0].c=V.read_shift(2),re[0].r=V.read_shift(2)),re}function d(V,q,ee){var re=V.l+q,de=u(V,q,ee);if(de[1].t="s",ee.vers==20768){V.l++;var Ae=V.read_shift(1);return de[1].v=V.read_shift(Ae,"utf8"),de}return ee.qpro&&V.l++,de[1].v=V.read_shift(re-V.l,"cstr"),de}function h(V,q,ee){var re=Ft(7+ee.length);re.write_shift(1,255),re.write_shift(2,q),re.write_shift(2,V),re.write_shift(1,39);for(var de=0;de<re.length;++de){var Ae=ee.charCodeAt(de);re.write_shift(1,Ae>=128?95:Ae)}return re.write_shift(1,0),re}function A(V,q,ee){var re=u(V,q,ee);return re[1].v=V.read_shift(2,"i"),re}function g(V,q,ee){var re=Ft(7);return re.write_shift(1,255),re.write_shift(2,q),re.write_shift(2,V),re.write_shift(2,ee,"i"),re}function v(V,q,ee){var re=u(V,q,ee);return re[1].v=V.read_shift(8,"f"),re}function x(V,q,ee){var re=Ft(13);return re.write_shift(1,255),re.write_shift(2,q),re.write_shift(2,V),re.write_shift(8,ee,"f"),re}function y(V,q,ee){var re=V.l+q,de=u(V,q,ee);if(de[1].v=V.read_shift(8,"f"),ee.qpro)V.l=re;else{var Ae=V.read_shift(2);I(V.slice(V.l,V.l+Ae),de),V.l+=Ae}return de}function w(V,q,ee){var re=q&32768;return q&=-32769,q=(re?V:0)+(q>=8192?q-16384:q),(re?"":"$")+(ee?pa(q):Ya(q))}var _={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},E=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function I(V,q){xl(V,0);for(var ee=[],re=0,de="",Ae="",_e="",ye="";V.l<V.length;){var ce=V[V.l++];switch(ce){case 0:ee.push(V.read_shift(8,"f"));break;case 1:Ae=w(q[0].c,V.read_shift(2),!0),de=w(q[0].r,V.read_shift(2),!1),ee.push(Ae+de);break;case 2:{var Ne=w(q[0].c,V.read_shift(2),!0),oe=w(q[0].r,V.read_shift(2),!1);Ae=w(q[0].c,V.read_shift(2),!0),de=w(q[0].r,V.read_shift(2),!1),ee.push(Ne+oe+":"+Ae+de)}break;case 3:if(V.l<V.length){console.error("WK1 premature formula end");return}break;case 4:ee.push("("+ee.pop()+")");break;case 5:ee.push(V.read_shift(2));break;case 6:{for(var We="";ce=V[V.l++];)We+=String.fromCharCode(ce);ee.push('"'+We.replace(/"/g,'""')+'"')}break;case 8:ee.push("-"+ee.pop());break;case 23:ee.push("+"+ee.pop());break;case 22:ee.push("NOT("+ee.pop()+")");break;case 20:case 21:ye=ee.pop(),_e=ee.pop(),ee.push(["AND","OR"][ce-20]+"("+_e+","+ye+")");break;default:if(ce<32&&E[ce])ye=ee.pop(),_e=ee.pop(),ee.push(_e+E[ce]+ye);else if(_[ce]){if(re=_[ce][1],re==69&&(re=V[V.l++]),re>ee.length){console.error("WK1 bad formula parse 0x"+ce.toString(16)+":|"+ee.join("|")+"|");return}var Re=ee.slice(-re);ee.length-=re,ee.push(_[ce][0]+"("+Re.join(",")+")")}else return ce<=7?console.error("WK1 invalid opcode "+ce.toString(16)):ce<=24?console.error("WK1 unsupported op "+ce.toString(16)):ce<=30?console.error("WK1 invalid opcode "+ce.toString(16)):ce<=115?console.error("WK1 unsupported function opcode "+ce.toString(16)):console.error("WK1 unrecognized opcode "+ce.toString(16))}}ee.length==1?q[1].f=""+ee[0]:console.error("WK1 bad formula parse |"+ee.join("|")+"|")}function N(V){var q=[{c:0,r:0},{t:"n",v:0},0];return q[0].r=V.read_shift(2),q[3]=V[V.l++],q[0].c=V[V.l++],q}function j(V,q){var ee=N(V);return ee[1].t="s",ee[1].v=V.read_shift(q-4,"cstr"),ee}function T(V,q,ee,re){var de=Ft(6+re.length);de.write_shift(2,V),de.write_shift(1,ee),de.write_shift(1,q),de.write_shift(1,39);for(var Ae=0;Ae<re.length;++Ae){var _e=re.charCodeAt(Ae);de.write_shift(1,_e>=128?95:_e)}return de.write_shift(1,0),de}function P(V,q){var ee=N(V);ee[1].v=V.read_shift(2);var re=ee[1].v>>1;if(ee[1].v&1)switch(re&7){case 0:re=(re>>3)*5e3;break;case 1:re=(re>>3)*500;break;case 2:re=(re>>3)/20;break;case 3:re=(re>>3)/200;break;case 4:re=(re>>3)/2e3;break;case 5:re=(re>>3)/2e4;break;case 6:re=(re>>3)/16;break;case 7:re=(re>>3)/64;break}return ee[1].v=re,ee}function k(V,q){var ee=N(V),re=V.read_shift(4),de=V.read_shift(4),Ae=V.read_shift(2);if(Ae==65535)return re===0&&de===3221225472?(ee[1].t="e",ee[1].v=15):re===0&&de===3489660928?(ee[1].t="e",ee[1].v=42):ee[1].v=0,ee;var _e=Ae&32768;return Ae=(Ae&32767)-16446,ee[1].v=(1-_e*2)*(de*Math.pow(2,Ae+32)+re*Math.pow(2,Ae)),ee}function R(V,q,ee,re){var de=Ft(14);if(de.write_shift(2,V),de.write_shift(1,ee),de.write_shift(1,q),re==0)return de.write_shift(4,0),de.write_shift(4,0),de.write_shift(2,65535),de;var Ae=0,_e=0,ye=0,ce=0;return re<0&&(Ae=1,re=-re),_e=Math.log2(re)|0,re/=Math.pow(2,_e-31),ce=re>>>0,ce&2147483648||(re/=2,++_e,ce=re>>>0),re-=ce,ce|=2147483648,ce>>>=0,re*=Math.pow(2,32),ye=re>>>0,de.write_shift(4,ye),de.write_shift(4,ce),_e+=16383+(Ae?32768:0),de.write_shift(2,_e),de}function O(V,q){var ee=k(V);return V.l+=q-14,ee}function M(V,q){var ee=N(V),re=V.read_shift(4);return ee[1].v=re>>6,ee}function H(V,q){var ee=N(V),re=V.read_shift(8,"f");return ee[1].v=re,ee}function K(V,q){var ee=H(V);return V.l+=q-10,ee}function Y(V,q){return V[V.l+q-1]==0?V.read_shift(q,"cstr"):""}function ne(V,q){var ee=V[V.l++];ee>q-1&&(ee=q-1);for(var re="";re.length<ee;)re+=String.fromCharCode(V[V.l++]);return re}function le(V,q,ee){if(!(!ee.qpro||q<21)){var re=V.read_shift(1);V.l+=17,V.l+=1,V.l+=2;var de=V.read_shift(q-21,"cstr");return[re,de]}}function te(V,q){for(var ee={},re=V.l+q;V.l<re;){var de=V.read_shift(2);if(de==14e3){for(ee[de]=[0,""],ee[de][0]=V.read_shift(2);V[V.l];)ee[de][1]+=String.fromCharCode(V[V.l]),V.l++;V.l++}}return ee}function X(V,q){var ee=Ft(5+V.length);ee.write_shift(2,14e3),ee.write_shift(2,q);for(var re=0;re<V.length;++re){var de=V.charCodeAt(re);ee[ee.l++]=de>127?95:de}return ee[ee.l++]=0,ee}var ue={0:{n:"BOF",f:ao},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:A},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Y},222:{n:"SHEETNAMELP",f:ne},65535:{n:""}},ve={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:j},23:{n:"NUMBER17",f:k},24:{n:"NUMBER18",f:P},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:te},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:M},38:{n:"??"},39:{n:"NUMBER27",f:H},40:{n:"FORMULA28",f:K},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Y},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:le},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:t}}();function a_t(e){var t={},r=e.match(ec),n=0,i=!1;if(r)for(;n!=r.length;++n){var s=Fn(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=g9[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return t}var o_t=function(){var e=G_("t"),t=G_("rPr");function r(s){var a=s.match(e);if(!a)return{t:"s",v:""};var l={t:"s",v:Li(a[1])},c=s.match(t);return c&&(l.s=a_t(c[1])),l}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(a){return a.replace(n,"").split(i).map(r).filter(function(l){return l.v})}}(),l_t=function(){var t=/(\r\n|\n)/g;function r(i,s,a){var l=[];i.u&&l.push("text-decoration: underline;"),i.uval&&l.push("text-underline-style:"+i.uval+";"),i.sz&&l.push("font-size:"+i.sz+"pt;"),i.outline&&l.push("text-effect: outline;"),i.shadow&&l.push("text-shadow: auto;"),s.push('<span style="'+l.join("")+'">'),i.b&&(s.push("<b>"),a.push("</b>")),i.i&&(s.push("<i>"),a.push("</i>")),i.strike&&(s.push("<s>"),a.push("</s>"));var c=i.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(s.push("<"+c+">"),a.push("</"+c+">")),a.push("</span>"),i}function n(i){var s=[[],i.v,[]];return i.v?(i.s&&r(i.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),c_t=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,u_t=/<(?:\w+:)?r>/,d_t=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function U9(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Li(gs(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=gs(e),r&&(n.h=C9(n.t))):e.match(u_t)&&(n.r=gs(e),n.t=Li(gs((e.replace(d_t,"").match(c_t)||[]).join("").replace(ec,""))),r&&(n.h=l_t(o_t(n.r)))),n):{t:""}}var f_t=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,h_t=/<(?:\w+:)?(?:si|sstItem)>/g,A_t=/<\/(?:\w+:)?(?:si|sstItem)>/;function p_t(e,t){var r=[],n="";if(!e)return r;var i=e.match(f_t);if(i){n=i[2].replace(h_t,"").split(A_t);for(var s=0;s!=n.length;++s){var a=U9(n[s].trim(),t);a!=null&&(r[r.length]=a)}i=Fn(i[1]),r.Count=i.count,r.Unique=i.uniqueCount}return r}var g_t=/^\s|\s$|[\t\n\r]/;function n1e(e,t){if(!t.bookSST)return"";var r=[Za];r[r.length]=Nr("sst",null,{xmlns:c1[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var i=e[n],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(g_t)&&(s+=' xml:space="preserve"'),s+=">"+cs(i.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function m_t(e){return[e.read_shift(4),e.read_shift(4)]}function x_t(e,t){var r=[],n=!1;return HA(e,function(s,a,l){switch(l){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(a.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function v_t(e,t){return t||(t=Ft(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var y_t=Iwt;function w_t(e){var t=Zc();nr(t,159,v_t(e));for(var r=0;r<e.length;++r)nr(t,19,y_t(e[r]));return nr(t,160),t.end()}function i1e(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function mA(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function b_t(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=mA(e,4),t.U=mA(e,4),t.W=mA(e,4),t}function __t(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},i=e.read_shift(4),s=[];i-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=s,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function E_t(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(__t(e));return t}function S_t(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function C_t(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=mA(e,4),t.U=mA(e,4),t.W=mA(e,4),t}function N_t(e){var t=C_t(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function s1e(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function a1e(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function T_t(e){var t=mA(e);switch(t.Minor){case 2:return[t.Minor,B_t(e)];case 3:return[t.Minor,I_t()];case 4:return[t.Minor,k_t(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function B_t(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=s1e(e,r),i=a1e(e,e.length-e.l);return{t:"Std",h:n,v:i}}function I_t(){throw new Error("File is password-protected: ECMA-376 Extensible")}function k_t(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(ec,function(s){var a=Fn(s);switch(Sh(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=a[l]});break;case"<dataIntegrity":n.encryptedHmacKey=a.encryptedHmacKey,n.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(a);break;default:throw a[0]}}),n}function j_t(e,t){var r={},n=r.EncryptionVersionInfo=mA(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var i=e.read_shift(4);return t-=4,r.EncryptionHeader=s1e(e,i),t-=i,r.EncryptionVerifier=a1e(e,t),r}function P_t(e){var t={},r=t.EncryptionVersionInfo=mA(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function H9(e){var t=0,r,n=i1e(e),i=n.length+1,s,a,l,c,u;for(r=Np(i),r[0]=n.length,s=1;s!=i;++s)r[s]=n[s-1];for(s=i-1;s>=0;--s)a=r[s],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^a;return t^52811}var o1e=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(a){return(a/2|a*128)&255},i=function(a,l){return n(a^l)},s=function(a){for(var l=t[a.length-1],c=104,u=a.length-1;u>=0;--u)for(var d=a[u],h=0;h!=7;++h)d&64&&(l^=r[c]),d*=2,--c;return l};return function(a){for(var l=i1e(a),c=s(l),u=l.length,d=Np(16),h=0;h!=16;++h)d[h]=0;var A,g,v;for((u&1)===1&&(A=c>>8,d[u]=i(e[0],A),--u,A=c&255,g=l[l.length-1],d[u]=i(g,A));u>0;)--u,A=c>>8,d[u]=i(l[u],A),--u,A=c&255,d[u]=i(l[u],A);for(u=15,v=15-l.length;v>0;)A=c>>8,d[u]=i(e[v],A),--u,--v,A=c&255,d[u]=i(l[u],A),--u,--v;return d}}(),F_t=function(e,t,r,n,i){i||(i=t),n||(n=o1e(e));var s,a;for(s=0;s!=t.length;++s)a=t[s],a^=n[r],a=(a>>5|a<<3)&255,i[s]=a,++r;return[i,r,n]},O_t=function(e){var t=0,r=o1e(e);return function(n){var i=F_t("",n,t,r);return t=i[1],i[0]}};function D_t(e,t,r,n){var i={key:ao(e),verificationBytes:ao(e)};return r.password&&(i.verifier=H9(r.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=O_t(r.password)),i}function L_t(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=P_t(e):n.Data=j_t(e,t),n}function R_t(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?L_t(e,t-2,n):D_t(e,r.biff>=8?t:t-2,r,n),n}var l1e=function(){function e(i,s){switch(s.type){case"base64":return t(Lu(i),s);case"binary":return t(i,s);case"buffer":return t(di&&Buffer.isBuffer(i)?i.toString("binary"):Xp(i),s);case"array":return t(Pm(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){var a=s||{},l=a.dense?[]:{},c=i.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,h){Array.isArray(l)&&(l[h]=[]);for(var A=/\\\w+\b/g,g=0,v,x=-1;v=A.exec(d);){switch(v[0]){case"\\cell":var y=d.slice(g,A.lastIndex-v[0].length);if(y[0]==" "&&(y=y.slice(1)),++x,y.length){var w={v:y,t:"s"};Array.isArray(l)?l[h][x]=w:l[Bn({r:h,c:x})]=w}break}g=A.lastIndex}x>u.e.c&&(u.e.c=x)}),l["!ref"]=ei(u),l}function r(i,s){return Yp(e(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],a=Ri(i["!ref"]),l,c=Array.isArray(i),u=a.s.r;u<=a.e.r;++u){s.push("\\trowd\\trautofit1");for(var d=a.s.c;d<=a.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=a.s.c;d<=a.e.c;++d){var h=Bn({r:u,c:d});l=c?(i[u]||[])[d]:i[h],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||(jA(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function M_t(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function X_(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function U_t(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(t,r,n),s=Math.min(t,r,n),a=i-s;if(a===0)return[0,0,t];var l=0,c=0,u=i+s;switch(c=a/(u>1?2-u:u),i){case t:l=((r-n)/a+6)%6;break;case r:l=(n-t)/a+2;break;case n:l=(t-r)/a+4;break}return[l/6,c,u/2]}function H_t(e){var t=e[0],r=e[1],n=e[2],i=r*2*(n<.5?n:1-n),s=n-i/2,a=[s,s,s],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=i*l,a[0]+=i,a[1]+=c;break;case 1:c=i*(2-l),a[0]+=c,a[1]+=i;break;case 2:c=i*(l-2),a[1]+=i,a[2]+=c;break;case 3:c=i*(4-l),a[1]+=c,a[2]+=i;break;case 4:c=i*(l-4),a[2]+=i,a[0]+=c;break;case 5:c=i*(6-l),a[2]+=c,a[0]+=i;break}for(var u=0;u!=3;++u)a[u]=Math.round(a[u]*255);return a}function nT(e,t){if(t===0)return e;var r=U_t(M_t(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),X_(H_t(r))}var c1e=6,Q_t=15,$_t=1,Gl=c1e;function Y_(e){return Math.floor((e+Math.round(128/Gl)/256)*Gl)}function Z_(e){return Math.floor((e-5)/Gl*100+.5)/100}function iT(e){return Math.round((e*Gl+5)/Gl*256)/256}function yP(e){return iT(Z_(Y_(e)))}function Q9(e){var t=Math.abs(e-yP(e)),r=Gl;if(t>.005)for(Gl=$_t;Gl<Q_t;++Gl)Math.abs(e-yP(e))<=t&&(t=Math.abs(e-yP(e)),r=Gl);Gl=r}function Tp(e){e.width?(e.wpx=Y_(e.width),e.wch=Z_(e.wpx),e.MDW=Gl):e.wpx?(e.wch=Z_(e.wpx),e.width=iT(e.wch),e.MDW=Gl):typeof e.wch=="number"&&(e.width=iT(e.wch),e.wpx=Y_(e.width),e.MDW=Gl),e.customWidth&&delete e.customWidth}var V_t=96,u1e=V_t;function J_(e){return e*96/u1e}function fy(e){return e*u1e/96}var z_t={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function G_t(e,t,r,n){t.Borders=[];var i={},s=!1;(e[0].match(ec)||[]).forEach(function(a){var l=Fn(a);switch(Sh(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},l.diagonalUp&&(i.diagonalUp=$s(l.diagonalUp)),l.diagonalDown&&(i.diagonalDown=$s(l.diagonalDown)),t.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in borders")}})}function W_t(e,t,r,n){t.Fills=[];var i={},s=!1;(e[0].match(ec)||[]).forEach(function(a){var l=Fn(a);switch(Sh(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},t.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":l.patternType&&(i.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),l.indexed&&(i.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(i.bgColor.theme=parseInt(l.theme,10)),l.tint&&(i.bgColor.tint=parseFloat(l.tint)),l.rgb&&(i.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),l.theme&&(i.fgColor.theme=parseInt(l.theme,10)),l.tint&&(i.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(i.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fills")}})}function K_t(e,t,r,n){t.Fonts=[];var i={},s=!1;(e[0].match(ec)||[]).forEach(function(a){var l=Fn(a);switch(Sh(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":l.val&&(i.name=gs(l.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=l.val?$s(l.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=l.val?$s(l.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(l.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=l.val?$s(l.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=l.val?$s(l.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=l.val?$s(l.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=l.val?$s(l.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=l.val?$s(l.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":l.val&&(i.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(i.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(i.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(i.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=g9[parseInt(l.val,10)];break;case"<color":if(i.color||(i.color={}),l.auto&&(i.color.auto=$s(l.auto)),l.rgb)i.color.rgb=l.rgb.slice(-6);else if(l.indexed){i.color.index=parseInt(l.indexed,10);var c=tm[i.color.index];i.color.index==81&&(c=tm[1]),c||(c=tm[1]),i.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(i.color.theme=parseInt(l.theme,10),l.tint&&(i.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(i.color.rgb=nT(r.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fonts")}})}function q_t(e,t,r){t.NumberFmt=[];for(var n=Fa(Tn),i=0;i<n.length;++i)t.NumberFmt[n[i]]=Tn[n[i]];var s=e[0].match(ec);if(s)for(i=0;i<s.length;++i){var a=Fn(s[i]);switch(Sh(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=Li(gs(a.formatCode)),c=parseInt(a.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}gA(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}function X_t(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=Nr("numFmt",null,{numFmtId:n,formatCode:cs(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Nr("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var wN=["numFmtId","fillId","fontId","borderId","xfId"],bN=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Y_t(e,t,r){t.CellXf=[];var n,i=!1;(e[0].match(ec)||[]).forEach(function(s){var a=Fn(s),l=0;switch(Sh(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=a,delete n[0],l=0;l<wN.length;++l)n[wN[l]]&&(n[wN[l]]=parseInt(n[wN[l]],10));for(l=0;l<bN.length;++l)n[bN[l]]&&(n[bN[l]]=$s(n[bN[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};a.vertical&&(c.vertical=a.vertical),a.horizontal&&(c.horizontal=a.horizontal),a.textRotation!=null&&(c.textRotation=a.textRotation),a.indent&&(c.indent=a.indent),a.wrapText&&(c.wrapText=$s(a.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}function Z_t(e){var t=[];return t[t.length]=Nr("cellXfs",null),e.forEach(function(r){t[t.length]=Nr("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Nr("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var J_t=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,u){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var h;return(h=l.match(t))&&q_t(h,d,u),(h=l.match(i))&&K_t(h,d,c,u),(h=l.match(n))&&W_t(h,d,c,u),(h=l.match(s))&&G_t(h,d,c,u),(h=l.match(r))&&Y_t(h,d,u),d}}();function d1e(e,t){var r=[Za,Nr("styleSheet",null,{xmlns:c1[0],"xmlns:vt":ko.vt})],n;return e.SSF&&(n=X_t(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Z_t(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function eEt(e,t){var r=e.read_shift(2),n=Xl(e);return[r,n]}function tEt(e,t,r){r||(r=Ft(6+4*t.length)),r.write_shift(2,e),rl(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function rEt(e,t,r){var n={};n.sz=e.read_shift(2)/20;var i=Lwt(e);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var a=e.read_shift(1);a!=0&&(n.underline=a);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=Dwt(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Xl(e),n}function nEt(e,t){t||(t=Ft(25+4*32)),t.write_shift(2,e.sz*20),Rwt(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),eT(e.color,t);var n=0;return e.scheme=="major"&&(n=1),e.scheme=="minor"&&(n=2),t.write_shift(1,n),rl(e.name,t),t.length>t.l?t.slice(0,t.l):t}var iEt=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],wP,sEt=Jl;function RJ(e,t){t||(t=Ft(4*3+8*7+16*1)),wP||(wP=tk(iEt));var r=wP[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(eT({auto:1},t),eT({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function aEt(e,t){var r=e.l+t,n=e.read_shift(2),i=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:i}}function f1e(e,t,r){r||(r=Ft(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Ww(e,t){return t||(t=Ft(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var oEt=Jl;function lEt(e,t){return t||(t=Ft(51)),t.write_shift(1,0),Ww(null,t),Ww(null,t),Ww(null,t),Ww(null,t),Ww(null,t),t.length>t.l?t.slice(0,t.l):t}function cEt(e,t){return t||(t=Ft(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),J3(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function uEt(e,t,r){var n=Ft(2052);return n.write_shift(4,e),J3(t,n),J3(r,n),n.length>n.l?n.slice(0,n.l):n}function dEt(e,t,r){var n={};n.NumberFmt=[];for(var i in Tn)n.NumberFmt[i]=Tn[i];n.CellXf=[],n.Fonts=[];var s=[],a=!1;return HA(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],gA(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=nT(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:s.push(d),a=!0;break;case 38:s.pop(),a=!1;break;default:if(u.T>0)s.push(d);else if(u.T<0)s.pop();else if(!a||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}function fEt(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&++r}),r!=0&&(nr(e,615,ff(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&nr(e,44,tEt(i,t[i]))}),nr(e,616))}}function hEt(e){var t=1;nr(e,611,ff(t)),nr(e,43,nEt({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),nr(e,612)}function AEt(e){var t=2;nr(e,603,ff(t)),nr(e,45,RJ({patternType:"none"})),nr(e,45,RJ({patternType:"gray125"})),nr(e,604)}function pEt(e){var t=1;nr(e,613,ff(t)),nr(e,46,lEt()),nr(e,614)}function gEt(e){var t=1;nr(e,626,ff(t)),nr(e,47,f1e({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),nr(e,627)}function mEt(e,t){nr(e,617,ff(t.length)),t.forEach(function(r){nr(e,47,f1e(r,0))}),nr(e,618)}function xEt(e){var t=1;nr(e,619,ff(t)),nr(e,48,cEt({xfId:0,builtinId:0,name:"Normal"})),nr(e,620)}function vEt(e){var t=0;nr(e,505,ff(t)),nr(e,506)}function yEt(e){var t=0;nr(e,508,uEt(t,"TableStyleMedium9","PivotStyleMedium4")),nr(e,509)}function wEt(e,t){var r=Zc();return nr(r,278),fEt(r,e.SSF),hEt(r),AEt(r),pEt(r),gEt(r),mEt(r,t.cellXfs),xEt(r),vEt(r),yEt(r),nr(r,279),r.end()}var bEt=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function _Et(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(ec)||[]).forEach(function(i){var s=Fn(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[bEt.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function EEt(){}function SEt(){}var CEt=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,NEt=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,TEt=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function BEt(e,t,r){t.themeElements={};var n;[["clrScheme",CEt,_Et],["fontScheme",NEt,EEt],["fmtScheme",TEt,SEt]].forEach(function(i){if(!(n=e.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,t,r)})}var IEt=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function h1e(e,t){(!e||e.length===0)&&(e=$9());var r,n={};if(!(r=e.match(IEt)))throw new Error("themeElements not found in theme");return BEt(r[0],n,t),n.raw=e,n}function $9(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Za];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function kEt(e,t,r){var n=e.l+t,i=e.read_shift(4);if(i!==124226){if(!r.cellStyles){e.l=n;return}var s=e.slice(e.l);e.l=n;var a;try{a=sme(s,{type:"array"})}catch{return}var l=Nu(a,"theme/theme/theme1.xml",!0);if(l)return h1e(l,r)}}function jEt(e){return e.read_shift(4)}function PEt(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=FEt(e,4);break;case 2:t.xclrValue=Gme(e);break;case 3:t.xclrValue=jEt(e);break;case 4:e.l+=4;break}return e.l+=8,t}function FEt(e,t){return Jl(e,t)}function OEt(e,t){return Jl(e,t)}function DEt(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=PEt(e);break;case 6:n[1]=OEt(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function LEt(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var i=e.read_shift(2),s=[];i-- >0;)s.push(DEt(e,r-e.l));return{ixfe:n,ext:s}}function REt(e,t){t.forEach(function(r){switch(r[0]){}})}function MEt(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Xl(e)}}function UEt(e){var t=Ft(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),rl(e.name,t),t.slice(0,t.l)}function HEt(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function QEt(e){var t=Ft(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function $Et(e,t){var r=Ft(8+2*t.length);return r.write_shift(4,e),rl(t,r),r.slice(0,r.l)}function VEt(e){return e.l+=4,e.read_shift(4)!=0}function zEt(e,t){var r=Ft(8);return r.write_shift(4,e),r.write_shift(4,1),r}function GEt(e,t,r){var n={Types:[],Cell:[],Value:[]},i=r||{},s=[],a=!1,l=2;return HA(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(h){l==1?n.Cell.push({type:n.Types[h[0]-1].name,index:h[1]}):l==0&&n.Value.push({type:n.Types[h[0]-1].name,index:h[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:s.push(d),a=!0;break;case 36:s.pop(),a=!1;break;default:if(!u.T){if(!a||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function WEt(){var e=Zc();return nr(e,332),nr(e,334,ff(1)),nr(e,335,UEt({name:"XLDAPR",version:12e4,flags:3496657072})),nr(e,336),nr(e,339,$Et(1,"XLDAPR")),nr(e,52),nr(e,35,ff(514)),nr(e,4096,ff(0)),nr(e,4097,nd(1)),nr(e,36),nr(e,53),nr(e,340),nr(e,337,zEt(1)),nr(e,51,QEt([[1,0]])),nr(e,338),nr(e,333),e.end()}function KEt(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var i=!1,s=2,a;return e.replace(ec,function(l){var c=Fn(l);switch(Sh(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(a=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):s==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+c.i);break;default:if(!i&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function A1e(){var e=[Za];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function qEt(e){var t=[];if(!e)return t;var r=1;return(e.match(ec)||[]).forEach(function(n){var i=Fn(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?r=i.i:i.i=r,t.push(i);break}}),t}function XEt(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Bn(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function YEt(e,t,r){var n=[];return HA(e,function(s,a,l){switch(l){case 63:n.push(s);break;default:if(!a.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function ZEt(e,t,r,n){if(!e)return e;var i=n||{},s=!1;HA(e,function(l,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!c.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},i)}function JEt(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var Ex=1024;function p1e(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[Nr("xml",null,{"xmlns:v":yu.v,"xmlns:o":yu.o,"xmlns:x":yu.x,"xmlns:mv":yu.mv}).replace(/\/>/,">"),Nr("o:shapelayout",Nr("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Nr("v:shapetype",[Nr("v:stroke",null,{joinstyle:"miter"}),Nr("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Ex<e*1e3;)Ex+=1e3;return t.forEach(function(s){var a=ga(s[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?Nr("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Nr("v:fill",c,l),d={on:"t",obscured:"t"};++Ex,i=i.concat(["<v:shape"+W_({id:"_x0000_s"+Ex,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Nr("v:shadow",null,d),Nr("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",vl("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),vl("x:AutoFill","False"),vl("x:Row",String(a.r)),vl("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function MJ(e,t,r,n){var i=Array.isArray(e),s;t.forEach(function(a){var l=ga(a.ref);if(i?(e[l.r]||(e[l.r]=[]),s=e[l.r][l.c]):s=e[a.ref],!s){s={t:"z"},i?e[l.r][l.c]=s:e[a.ref]=s;var c=Ri(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var u=ei(c);u!==e["!ref"]&&(e["!ref"]=u)}s.c||(s.c=[]);var d={a:a.author,t:a.t,r:a.r,T:r};a.h&&(d.h=a.h);for(var h=s.c.length-1;h>=0;--h){if(!r&&s.c[h].T)return;r&&!s.c[h].T&&s.c.splice(h,1)}if(r&&n){for(h=0;h<n.length;++h)if(d.a==n[h].id){d.a=n[h].name||d.a;break}}s.c.push(d)})}function eSt(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],i=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var l=a.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var l=a.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=Fn(l[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=ga(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var h=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),A=!!h&&!!h[1]&&U9(h[1])||{r:"",t:"",h:""};u.r=A.r,A.r=="<t></t>"&&(A.t=A.h=""),u.t=(A.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=A.h),n.push(u)}}}}),n}function g1e(e){var t=[Za,Nr("comments",null,{xmlns:c1[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(i){var s=cs(i.a);r.indexOf(s)==-1&&(r.push(s),t.push("<author>"+s+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),t.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var i=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(i=r.indexOf(cs(c.a))),s.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),s.length<=1)t.push(vl("t",cs(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,l=1;l<s.length;++l)a+=`Reply:
    `+s[l]+`
`;t.push(vl("t",cs(a)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function tSt(e,t){var r=[],n=!1,i={},s=0;return e.replace(ec,function(l,c){var u=Fn(l);switch(Sh(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":i.t!=null&&r.push(i);break;case"<text>":case"<text":s=c+l.length;break;case"</text>":i.t=e.slice(s,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return l}),r}function rSt(e,t,r){var n=[Za,Nr("ThreadedComments",null,{xmlns:ko.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,l){if(!a.T){delete a.ID;return}a.a&&t.indexOf(a.a)==-1&&t.push(a.a);var c={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?s=c.id:c.parentId=s,a.ID=c.id,a.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(a.a)).slice(-12)+"}"),n.push(Nr("threadedComment",vl("text",a.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function nSt(e,t){var r=[],n=!1;return e.replace(ec,function(s){var a=Fn(s);switch(Sh(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return s}),r}function iSt(e){var t=[Za,Nr("personList",null,{xmlns:ko.TCMNT,"xmlns:x":c1[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(Nr("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function sSt(e){var t={};t.iauthor=e.read_shift(4);var r=h1(e);return t.rfx=r.s,t.ref=Bn(r.s),e.l+=16,t}function aSt(e,t){return t==null&&(t=Ft(36)),t.write_shift(4,e[1].iauthor),ow(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var oSt=Xl;function lSt(e){return rl(e.slice(0,54))}function cSt(e,t){var r=[],n=[],i={},s=!1;return HA(e,function(l,c,u){switch(u){case 632:n.push(l);break;case 635:i=l;break;case 637:i.t=l.t,i.h=l.h,i.r=l.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,r.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function uSt(e){var t=Zc(),r=[];return nr(t,628),nr(t,630),e.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),nr(t,632,lSt(i.a)))})}),nr(t,631),nr(t,633),e.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var s={s:ga(n[0]),e:ga(n[0])};nr(t,635,aSt([s,i])),i.t&&i.t.length>0&&nr(t,637,jwt(i)),nr(t,636),delete i.iauthor})}),nr(t,634),nr(t,629),t.end()}var dSt="application/vnd.ms-office.vbaProject";function fSt(e){var t=mn.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var i=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");mn.utils.cfb_add(t,i,e.FileIndex[n].content)}}),mn.write(t)}function hSt(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&mn.utils.cfb_add(e,i,t.FileIndex[n].content)}})}var m1e=["xlsb","xlsm","xlam","biff8","xla"];function ASt(){return{"!type":"dialog"}}function pSt(){return{"!type":"dialog"}}function gSt(){return{"!type":"macro"}}function mSt(){return{"!type":"macro"}}var ev=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,i,s,a){var l=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),a.length==0?l=!0:a.charAt(0)=="["&&(l=!0,a=a.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,d=a.length>0?parseInt(a,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,i+(l?"":"$")+pa(d)+(c?"":"$")+Ya(u)}return function(i,s){return t=s,i.replace(e,r)}}(),V9=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,z9=function(){return function(t,r){return t.replace(V9,function(n,i,s,a,l,c){var u=k9(a)-(s?0:r.c),d=I9(c)-(l?0:r.r),h=d==0?"":l?d+1:"["+d+"]",A=u==0?"":s?u+1:"["+u+"]";return i+"R"+h+"C"+A})}}();function x1e(e,t){return e.replace(V9,function(r,n,i,s,a,l){return n+(i=="$"?i+s:pa(k9(s)+t.c))+(a=="$"?a+l:Ya(I9(l)+t.r))})}function xSt(e,t,r){var n=Jc(t),i=n.s,s=ga(r),a={r:s.r-i.r,c:s.c-i.c};return x1e(e,a)}function vSt(e){return e.length!=1}function UJ(e){return e.replace(/_xlfn\./g,"")}function ro(e){e.l+=1}function Bp(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function v1e(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return y1e(e);r.biff==12&&(n=4)}var i=e.read_shift(n),s=e.read_shift(n),a=Bp(e),l=Bp(e);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function y1e(e){var t=Bp(e),r=Bp(e),n=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function ySt(e,t,r){if(r.biff<8)return y1e(e);var n=e.read_shift(r.biff==12?4:2),i=e.read_shift(r.biff==12?4:2),s=Bp(e),a=Bp(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function w1e(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return wSt(e);var n=e.read_shift(r&&r.biff==12?4:2),i=Bp(e);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function wSt(e){var t=Bp(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function bSt(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function _St(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return ESt(e);var i=e.read_shift(n>=12?4:2),s=e.read_shift(2),a=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:l}}function ESt(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),i==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:i,rRel:n}}function SSt(e,t,r){var n=(e[e.l++]&96)>>5,i=v1e(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function CSt(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var a=v1e(e,s,r);return[n,i,a]}function NSt(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function TSt(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,i]}function BSt(e,t,r){var n=(e[e.l++]&96)>>5,i=ySt(e,t-1,r);return[n,i]}function ISt(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function HJ(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function kSt(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(e.read_shift(r&&r.biff==2?1:2));return i}function jSt(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function PSt(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function FSt(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function OSt(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function b1e(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function DSt(e){return e.read_shift(2),b1e(e)}function LSt(e){return e.read_shift(2),b1e(e)}function RSt(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=w1e(e,0,r);return[n,i]}function MSt(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=_St(e,0,r);return[n,i]}function USt(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=w1e(e,0,r);return[n,i,s]}function HSt(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(r&&r.biff<=3?1:2);return[VCt[i],S1e[i],n]}function QSt(e,t,r){var n=e[e.l++],i=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:$St(e);return[i,(s[0]===0?S1e:$Ct)[s[1]]]}function $St(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function VSt(e,t,r){e.l+=r&&r.biff==2?3:4}function zSt(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function GSt(e){return e.l++,QA[e.read_shift(1)]}function WSt(e){return e.l++,e.read_shift(2)}function KSt(e){return e.l++,e.read_shift(1)!==0}function qSt(e){return e.l++,Wl(e)}function XSt(e,t,r){return e.l++,aS(e,t-1,r)}function YSt(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Ha(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=QA[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Wl(e);break;case 2:r[1]=A1(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function ZSt(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((r.biff==12?h1:ik)(e));return i}function JSt(e,t,r){var n=0,i=0;r.biff==12?(n=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var s=0,a=[];s!=n&&(a[s]=[]);++s)for(var l=0;l!=i;++l)a[s][l]=YSt(e,r.biff);return a}function eCt(e,t,r){var n=e.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,s=e.read_shift(i);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function tCt(e,t,r){if(r.biff==5)return rCt(e);var n=e.read_shift(1)>>>5&3,i=e.read_shift(2),s=e.read_shift(4);return[n,i,s]}function rCt(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function nCt(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function iCt(e,t,r){var n=e.read_shift(1)>>>5&3,i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function sCt(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function aCt(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,i]}var oCt=Jl,lCt=Jl,cCt=Jl;function lS(e,t,r){return e.l+=2,[bSt(e)]}function G9(e){return e.l+=6,[]}var uCt=lS,dCt=G9,fCt=G9,hCt=lS;function _1e(e){return e.l+=2,[ao(e),e.read_shift(2)&1]}var ACt=lS,pCt=_1e,gCt=G9,mCt=lS,xCt=lS,vCt=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function yCt(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i=e.read_shift(2),s=e.read_shift(2),a=vCt[r>>2&31];return{ixti:t,coltype:r&3,rt:a,idx:n,c:i,C:s}}function wCt(e){return e.l+=2,[e.read_shift(4)]}function bCt(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function _Ct(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function ECt(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function SCt(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function CCt(e){return e.l+=4,[0,0]}var QJ={1:{n:"PtgExp",f:zSt},2:{n:"PtgTbl",f:cCt},3:{n:"PtgAdd",f:ro},4:{n:"PtgSub",f:ro},5:{n:"PtgMul",f:ro},6:{n:"PtgDiv",f:ro},7:{n:"PtgPower",f:ro},8:{n:"PtgConcat",f:ro},9:{n:"PtgLt",f:ro},10:{n:"PtgLe",f:ro},11:{n:"PtgEq",f:ro},12:{n:"PtgGe",f:ro},13:{n:"PtgGt",f:ro},14:{n:"PtgNe",f:ro},15:{n:"PtgIsect",f:ro},16:{n:"PtgUnion",f:ro},17:{n:"PtgRange",f:ro},18:{n:"PtgUplus",f:ro},19:{n:"PtgUminus",f:ro},20:{n:"PtgPercent",f:ro},21:{n:"PtgParen",f:ro},22:{n:"PtgMissArg",f:ro},23:{n:"PtgStr",f:XSt},26:{n:"PtgSheet",f:bCt},27:{n:"PtgEndSheet",f:_Ct},28:{n:"PtgErr",f:GSt},29:{n:"PtgBool",f:KSt},30:{n:"PtgInt",f:WSt},31:{n:"PtgNum",f:qSt},32:{n:"PtgArray",f:ISt},33:{n:"PtgFunc",f:HSt},34:{n:"PtgFuncVar",f:QSt},35:{n:"PtgName",f:eCt},36:{n:"PtgRef",f:RSt},37:{n:"PtgArea",f:SSt},38:{n:"PtgMemArea",f:nCt},39:{n:"PtgMemErr",f:oCt},40:{n:"PtgMemNoMem",f:lCt},41:{n:"PtgMemFunc",f:iCt},42:{n:"PtgRefErr",f:sCt},43:{n:"PtgAreaErr",f:NSt},44:{n:"PtgRefN",f:MSt},45:{n:"PtgAreaN",f:BSt},46:{n:"PtgMemAreaN",f:ECt},47:{n:"PtgMemNoMemN",f:SCt},57:{n:"PtgNameX",f:tCt},58:{n:"PtgRef3d",f:USt},59:{n:"PtgArea3d",f:CSt},60:{n:"PtgRefErr3d",f:aCt},61:{n:"PtgAreaErr3d",f:TSt},255:{}},NCt={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},TCt={1:{n:"PtgElfLel",f:_1e},2:{n:"PtgElfRw",f:mCt},3:{n:"PtgElfCol",f:uCt},6:{n:"PtgElfRwV",f:xCt},7:{n:"PtgElfColV",f:hCt},10:{n:"PtgElfRadical",f:ACt},11:{n:"PtgElfRadicalS",f:gCt},13:{n:"PtgElfColS",f:dCt},15:{n:"PtgElfColSV",f:fCt},16:{n:"PtgElfRadicalLel",f:pCt},25:{n:"PtgList",f:yCt},29:{n:"PtgSxName",f:wCt},255:{}},BCt={0:{n:"PtgAttrNoop",f:CCt},1:{n:"PtgAttrSemi",f:OSt},2:{n:"PtgAttrIf",f:PSt},4:{n:"PtgAttrChoose",f:kSt},8:{n:"PtgAttrGoto",f:jSt},16:{n:"PtgAttrSum",f:VSt},32:{n:"PtgAttrBaxcel",f:HJ},33:{n:"PtgAttrBaxcel",f:HJ},64:{n:"PtgAttrSpace",f:DSt},65:{n:"PtgAttrSpaceSemi",f:LSt},128:{n:"PtgAttrIfError",f:FSt},255:{}};function cS(e,t,r,n){if(n.biff<8)return Jl(e,t);for(var i=e.l+t,s=[],a=0;a!==r.length;++a)switch(r[a][0]){case"PtgArray":r[a][1]=JSt(e,0,n),s.push(r[a][1]);break;case"PtgMemArea":r[a][2]=ZSt(e,r[a][1],n),s.push(r[a][2]);break;case"PtgExp":n&&n.biff==12&&(r[a][1][1]=e.read_shift(4),s.push(r[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[a][0]}return t=i-e.l,t!==0&&s.push(Jl(e,t)),s}function uS(e,t,r){for(var n=e.l+t,i,s,a=[];n!=e.l;)t=n-e.l,s=e[e.l],i=QJ[s]||QJ[NCt[s]],(s===24||s===25)&&(i=(s===24?TCt:BCt)[e[e.l+1]]),!i||!i.f?Jl(e,t):a.push([i.n,i.f(e,t,r)]);return a}function ICt(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],i=[],s=0;s<n.length;++s){var a=n[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var kCt={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function jCt(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function E1e(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(e[n[0]][0]){case 357:return i=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(i=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function $J(e,t,r){var n=E1e(e,t,r);return n=="#REF"?n:jCt(n,r)}function $l(e,t,r,n,i){var s=i&&i.biff||8,a={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,u,d,h=0,A=0,g,v="";if(!e[0]||!e[0][0])return"";for(var x=-1,y="",w=0,_=e[0].length;w<_;++w){var E=e[0][w];switch(E[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),x>=0){switch(e[0][x][1][0]){case 0:y=Ia(" ",e[0][x][1][1]);break;case 1:y=Ia("\r",e[0][x][1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}u=u+y,x=-1}l.push(u+kCt[E[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=ab(E[1][1],a,i),l.push(ob(d,s));break;case"PtgRefN":d=r?ab(E[1][1],r,i):E[1][1],l.push(ob(d,s));break;case"PtgRef3d":h=E[1][1],d=ab(E[1][2],a,i),v=$J(n,h,i),l.push(v+"!"+ob(d,s));break;case"PtgFunc":case"PtgFuncVar":var I=E[1][0],N=E[1][1];I||(I=0),I&=127;var j=I==0?[]:l.slice(-I);l.length-=I,N==="User"&&(N=j.shift()),l.push(N+"("+j.join(",")+")");break;case"PtgBool":l.push(E[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(E[1]);break;case"PtgNum":l.push(String(E[1]));break;case"PtgStr":l.push('"'+E[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(E[1]);break;case"PtgAreaN":g=xJ(E[1][1],r?{s:r}:a,i),l.push(mP(g,i));break;case"PtgArea":g=xJ(E[1][1],a,i),l.push(mP(g,i));break;case"PtgArea3d":h=E[1][1],g=E[1][2],v=$J(n,h,i),l.push(v+"!"+mP(g,i));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":A=E[1][2];var T=(n.names||[])[A-1]||(n[0]||[])[A],P=T?T.Name:"SH33TJSNAME"+String(A);P&&P.slice(0,6)=="_xlfn."&&!i.xlfn&&(P=P.slice(6)),l.push(P);break;case"PtgNameX":var k=E[1][1];A=E[1][2];var R;if(i.biff<=5)k<0&&(k=-k),n[k]&&(R=n[k][A]);else{var O="";if(((n[k]||[])[0]||[])[0]==14849||(((n[k]||[])[0]||[])[0]==1025?n[k][A]&&n[k][A].itab>0&&(O=n.SheetNames[n[k][A].itab-1]+"!"):O=n.SheetNames[A-1]+"!"),n[k]&&n[k][A])O+=n[k][A].Name;else if(n[0]&&n[0][A])O+=n[0][A].Name;else{var M=(E1e(n,k,i)||"").split(";;");M[A-1]?O=M[A-1]:O+="SH33TJSERRX"}l.push(O);break}R||(R={Name:"SH33TJSERRY"}),l.push(R.Name);break;case"PtgParen":var H="(",K=")";if(x>=0){switch(y="",e[0][x][1][0]){case 2:H=Ia(" ",e[0][x][1][1])+H;break;case 3:H=Ia("\r",e[0][x][1][1])+H;break;case 4:K=Ia(" ",e[0][x][1][1])+K;break;case 5:K=Ia("\r",e[0][x][1][1])+K;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}x=-1}l.push(H+l.pop()+K);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:E[1][1],r:E[1][0]};var Y={c:r.c,r:r.r};if(n.sharedf[Bn(d)]){var ne=n.sharedf[Bn(d)];l.push($l(ne,a,Y,n,i))}else{var le=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push($l(u[1],a,Y,n,i)),le=!0;break}le||l.push(E[1])}break;case"PtgArray":l.push("{"+ICt(E[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=w;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+E[1].idx+"[#"+E[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(E));default:throw new Error("Unrecognized Formula Token: "+String(E))}var te=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&x>=0&&te.indexOf(e[0][w][0])==-1){E=e[0][x];var X=!0;switch(E[1][0]){case 4:X=!1;case 0:y=Ia(" ",E[1][1]);break;case 5:X=!1;case 1:y=Ia("\r",E[1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+E[1][0])}l.push((X?y:"")+l.pop()+(X?"":y)),x=-1}}if(l.length>1&&i.WTF)throw new Error("bad formula stack");return l[0]}function PCt(e,t,r){var n=e.l+t,i=r.biff==2?1:2,s,a=e.read_shift(i);if(a==65535)return[[],Jl(e,t-2)];var l=uS(e,a,r);return t!==a+i&&(s=cS(e,t-a-i,l,r)),e.l=n,[l,s]}function FCt(e,t,r){var n=e.l+t,i=r.biff==2?1:2,s,a=e.read_shift(i);if(a==65535)return[[],Jl(e,t-2)];var l=uS(e,a,r);return t!==a+i&&(s=cS(e,t-a-i,l,r)),e.l=n,[l,s]}function OCt(e,t,r,n){var i=e.l+t,s=uS(e,n,r),a;return i!==e.l&&(a=cS(e,i-e.l,s,r)),[s,a]}function DCt(e,t,r){var n=e.l+t,i,s=e.read_shift(2),a=uS(e,s,r);return s==65535?[[],Jl(e,t-2)]:(t!==s+2&&(i=cS(e,n-s-2,a,r)),[a,i])}function LCt(e){var t;if(sA(e,e.l+6)!==65535)return[Wl(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function RCt(e){if(e==null){var t=Ft(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Fm(e);return Fm(0)}function bP(e,t,r){var n=e.l+t,i=Ch(e);r.biff==2&&++e.l;var s=LCt(e),a=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=FCt(e,n-e.l,r);return{cell:i,val:s[0],formula:l,shared:a>>3&1,tt:s[1]}}function MCt(e,t,r,n,i){var s=Dm(t,r,i),a=RCt(e.v),l=Ft(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=Ft(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var h=tl([s,a,l,u]);return h}function sk(e,t,r){var n=e.read_shift(4),i=uS(e,n,r),s=e.read_shift(4),a=s>0?cS(e,s,i,r):null;return[i,a]}var UCt=sk,ak=sk,HCt=sk,QCt=sk,$Ct={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},S1e={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},VCt={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function VJ(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function zCt(e){var t="of:="+e.replace(V9,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function _P(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function GCt(e){return e.replace(/\./,"!")}var cb={},tv={},ub=typeof Map<"u";function W9(e,t,r){var n=0,i=e.length;if(r){if(ub?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var s=ub?r.get(t):r[t];n<s.length;++n)if(e[s[n]].t===t)return e.Count++,s[n]}}else for(;n<i;++n)if(e[n].t===t)return e.Count++,n;return e[i]={t},e.Count++,e.Unique++,r&&(ub?(r.has(t)||r.set(t,[]),r.get(t).push(i)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(i))),i}function ok(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Gl=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=Z_(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=iT(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function im(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Zp(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],i=60,s=e.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){gA(t.z,i),r.ssf[i]=t.z,r.revssf[t.z]=n=i;break}}for(i=0;i!=s;++i)if(e[i].numFmtId===n)return i;return e[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function C1e(e,t,r,n,i,s){try{n.cellNF&&(e.z=Tn[t])}catch(l){if(n.WTF)throw l}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Gs(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Tn[t]==null&&gA($yt[t]||"General",t),e.t==="e")e.w=e.w||QA[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=z_(e.v);else if(e.t==="d"){var a=Do(e.v);(a|0)===a?e.w=a.toString(10):e.w=z_(a)}else{if(e.v===void 0)return"";e.w=jm(e.v,tv)}else e.t==="d"?e.w=Nd(t,Do(e.v),tv):e.w=Nd(t,e.v,tv)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&r!=null)try{e.s=s.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=nT(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=nT(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&s.Fills)throw l}}}function WCt(e,t,r){if(e&&e["!ref"]){var n=Ri(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function KCt(e,t){var r=Ri(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=ei(r))}var qCt=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,XCt=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,YCt=/<(?:\w:)?hyperlink [^>]*>/mg,ZCt=/"(\w*:\w*)"/,JCt=/<(?:\w:)?col\b[^>]*[\/]?>/g,eNt=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,tNt=/<(?:\w:)?pageMargins[^>]*\/>/g,N1e=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,rNt=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,nNt=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function iNt(e,t,r,n,i,s,a){if(!e)return e;n||(n={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",h=e.match(XCt);h?(u=e.slice(0,h.index),d=e.slice(h.index+h[0].length)):u=d=e;var A=u.match(N1e);A?K9(A[0],l,i,r):(A=u.match(rNt))&&aNt(A[0],A[1]||"",l,i,r);var g=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(g>0){var v=u.slice(g,g+50).match(ZCt);v&&KCt(l,v[1])}var x=u.match(nNt);x&&x[1]&&vNt(x[1],i);var y=[];if(t.cellStyles){var w=u.match(JCt);w&&ANt(y,w)}h&&bNt(h[1],l,t,c,s,a);var _=d.match(eNt);_&&(l["!autofilter"]=gNt(_[0]));var E=[],I=d.match(qCt);if(I)for(g=0;g!=I.length;++g)E[g]=Ri(I[g].slice(I[g].indexOf('"')+1));var N=d.match(YCt);N&&dNt(l,N,n);var j=d.match(tNt);if(j&&(l["!margins"]=fNt(Fn(j[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=ei(c)),t.sheetRows>0&&l["!ref"]){var T=Ri(l["!ref"]);t.sheetRows<=+T.e.r&&(T.e.r=t.sheetRows-1,T.e.r>c.e.r&&(T.e.r=c.e.r),T.e.r<T.s.r&&(T.s.r=T.e.r),T.e.c>c.e.c&&(T.e.c=c.e.c),T.e.c<T.s.c&&(T.s.c=T.e.c),l["!fullref"]=l["!ref"],l["!ref"]=ei(T))}return y.length>0&&(l["!cols"]=y),E.length>0&&(l["!merges"]=E),l}function sNt(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+ei(e[r])+'"/>';return t+"</mergeCells>"}function K9(e,t,r,n){var i=Fn(e);r.Sheets[n]||(r.Sheets[n]={}),i.codeName&&(r.Sheets[n].CodeName=Li(gs(i.codeName)))}function aNt(e,t,r,n,i){K9(e.slice(0,e.indexOf(">")),r,n,i)}function oNt(e,t,r,n,i){var s=!1,a={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}s=!0,a.codeName=qf(cs(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+Nr("outlinePr",null,u)}!s&&!l||(i[i.length]=Nr("sheetPr",l,a))}var lNt=["objects","scenarios","selectLockedCells","selectUnlockedCells"],cNt=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function uNt(e){var t={sheet:1};return lNt.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),cNt.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=H9(e.password).toString(16).toUpperCase()),Nr("sheetProtection",null,t)}function dNt(e,t,r){for(var n=Array.isArray(e),i=0;i!=t.length;++i){var s=Fn(gs(t[i]),!0);if(!s.ref)return;var a=((r||{})["!id"]||[])[s.id];a?(s.Target=a.Target,s.location&&(s.Target+="#"+Li(s.location))):(s.Target="#"+Li(s.location),a={Target:s.Target,TargetMode:"Internal"}),s.Rel=a,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var l=Ri(s.ref),c=l.s.r;c<=l.e.r;++c)for(var u=l.s.c;u<=l.e.c;++u){var d=Bn({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=s):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=s)}}}function fNt(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function hNt(e){return im(e),Nr("pageMargins",null,e)}function ANt(e,t){for(var r=!1,n=0;n!=t.length;++n){var i=Fn(t[n],!0);i.hidden&&(i.hidden=$s(i.hidden));var s=parseInt(i.min,10)-1,a=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!r&&i.width&&(r=!0,Q9(i.width)),Tp(i);s<=a;)e[s++]=Ws(i)}}function pNt(e,t){for(var r=["<cols>"],n,i=0;i!=t.length;++i)(n=t[i])&&(r[r.length]=Nr("col",null,ok(i,n)));return r[r.length]="</cols>",r.join("")}function gNt(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function mNt(e,t,r,n){var i=typeof e.ref=="string"?e.ref:ei(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,a=Jc(i);a.s.r==a.e.r&&(a.e.r=Jc(t["!ref"]).e.r,i=ei(a));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Nr("autoFilter",null,{ref:i})}var xNt=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function vNt(e,t){t.Views||(t.Views=[{}]),(e.match(xNt)||[]).forEach(function(r,n){var i=Fn(r);t.Views[n]||(t.Views[n]={}),+i.zoomScale&&(t.Views[n].zoom=+i.zoomScale),$s(i.rightToLeft)&&(t.Views[n].RTL=!0)})}function yNt(e,t,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Nr("sheetViews",Nr("sheetView",null,i),{})}function wNt(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var i="",s=e.t,a=e.v;if(e.t!=="z")switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=QA[e.v];break;case"d":n&&n.cellDates?i=Gs(e.v,-1).toISOString():(e=Ws(e),e.t="n",i=""+(e.v=Do(Gs(e.v)))),typeof e.z>"u"&&(e.z=Tn[14]);break;default:i=e.v;break}var l=vl("v",cs(i)),c={r:t},u=Zp(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=vl("v",""+W9(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=s&&(e.t=s,e.v=a),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=Nr("f",cs(e.f),d)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),Nr("c",l,c)}var bNt=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=G_("v"),a=G_("f");return function(c,u,d,h,A,g){for(var v=0,x="",y=[],w=[],_=0,E=0,I=0,N="",j,T,P=0,k=0,R,O,M=0,H=0,K=Array.isArray(g.CellXf),Y,ne=[],le=[],te=Array.isArray(u),X=[],ue={},ve=!1,V=!!d.sheetStubs,q=c.split(t),ee=0,re=q.length;ee!=re;++ee){x=q[ee].trim();var de=x.length;if(de!==0){var Ae=0;e:for(v=0;v<de;++v)switch(x[v]){case">":if(x[v-1]!="/"){++v;break e}if(d&&d.cellStyles){if(T=Fn(x.slice(Ae,v),!0),P=T.r!=null?parseInt(T.r,10):P+1,k=-1,d.sheetRows&&d.sheetRows<P)continue;ue={},ve=!1,T.ht&&(ve=!0,ue.hpt=parseFloat(T.ht),ue.hpx=fy(ue.hpt)),T.hidden=="1"&&(ve=!0,ue.hidden=!0),T.outlineLevel!=null&&(ve=!0,ue.level=+T.outlineLevel),ve&&(X[P-1]=ue)}break;case"<":Ae=v;break}if(Ae>=v)break;if(T=Fn(x.slice(Ae,v),!0),P=T.r!=null?parseInt(T.r,10):P+1,k=-1,!(d.sheetRows&&d.sheetRows<P)){h.s.r>P-1&&(h.s.r=P-1),h.e.r<P-1&&(h.e.r=P-1),d&&d.cellStyles&&(ue={},ve=!1,T.ht&&(ve=!0,ue.hpt=parseFloat(T.ht),ue.hpx=fy(ue.hpt)),T.hidden=="1"&&(ve=!0,ue.hidden=!0),T.outlineLevel!=null&&(ve=!0,ue.level=+T.outlineLevel),ve&&(X[P-1]=ue)),y=x.slice(v).split(e);for(var _e=0;_e!=y.length&&y[_e].trim().charAt(0)=="<";++_e);for(y=y.slice(_e),v=0;v!=y.length;++v)if(x=y[v].trim(),x.length!==0){if(w=x.match(r),_=v,E=0,I=0,x="<c "+(x.slice(0,1)=="<"?">":"")+x,w!=null&&w.length===2){for(_=0,N=w[1],E=0;E!=N.length&&!((I=N.charCodeAt(E)-64)<1||I>26);++E)_=26*_+I;--_,k=_}else++k;for(E=0;E!=x.length&&x.charCodeAt(E)!==62;++E);if(++E,T=Fn(x.slice(0,E),!0),T.r||(T.r=Bn({r:P-1,c:k})),N=x.slice(E),j={t:""},(w=N.match(s))!=null&&w[1]!==""&&(j.v=Li(w[1])),d.cellFormula){if((w=N.match(a))!=null&&w[1]!==""){if(j.f=Li(gs(w[1])).replace(/\r\n/g,`
`),d.xlfn||(j.f=UJ(j.f)),w[0].indexOf('t="array"')>-1)j.F=(N.match(i)||[])[1],j.F.indexOf(":")>-1&&ne.push([Ri(j.F),j.F]);else if(w[0].indexOf('t="shared"')>-1){O=Fn(w[0]);var ye=Li(gs(w[1]));d.xlfn||(ye=UJ(ye)),le[parseInt(O.si,10)]=[O,ye,T.r]}}else(w=N.match(/<f[^>]*\/>/))&&(O=Fn(w[0]),le[O.si]&&(j.f=xSt(le[O.si][1],le[O.si][2],T.r)));var ce=ga(T.r);for(E=0;E<ne.length;++E)ce.r>=ne[E][0].s.r&&ce.r<=ne[E][0].e.r&&ce.c>=ne[E][0].s.c&&ce.c<=ne[E][0].e.c&&(j.F=ne[E][1])}if(T.t==null&&j.v===void 0)if(j.f||j.F)j.v=0,j.t="n";else if(V)j.t="z";else continue;else j.t=T.t||"n";switch(h.s.c>k&&(h.s.c=k),h.e.c<k&&(h.e.c=k),j.t){case"n":if(j.v==""||j.v==null){if(!V)continue;j.t="z"}else j.v=parseFloat(j.v);break;case"s":if(typeof j.v>"u"){if(!V)continue;j.t="z"}else R=cb[parseInt(j.v,10)],j.v=R.t,j.r=R.r,d.cellHTML&&(j.h=R.h);break;case"str":j.t="s",j.v=j.v!=null?gs(j.v):"",d.cellHTML&&(j.h=C9(j.v));break;case"inlineStr":w=N.match(n),j.t="s",w!=null&&(R=U9(w[1]))?(j.v=R.t,d.cellHTML&&(j.h=R.h)):j.v="";break;case"b":j.v=$s(j.v);break;case"d":d.cellDates?j.v=Gs(j.v,1):(j.v=Do(Gs(j.v,1)),j.t="n");break;case"e":(!d||d.cellText!==!1)&&(j.w=j.v),j.v=Bme[j.v];break}if(M=H=0,Y=null,K&&T.s!==void 0&&(Y=g.CellXf[T.s],Y!=null&&(Y.numFmtId!=null&&(M=Y.numFmtId),d.cellStyles&&Y.fillId!=null&&(H=Y.fillId))),C1e(j,M,H,d,A,g),d.cellDates&&K&&j.t=="n"&&iw(Tn[M])&&(j.t="d",j.v=nk(j.v)),T.cm&&d.xlmeta){var Ne=(d.xlmeta.Cell||[])[+T.cm-1];Ne&&Ne.type=="XLDAPR"&&(j.D=!0)}if(te){var oe=ga(T.r);u[oe.r]||(u[oe.r]=[]),u[oe.r][oe.c]=j}else u[T.r]=j}}}}X.length>0&&(u["!rows"]=X)}}();function _Nt(e,t,r,n){var i=[],s=[],a=Ri(e["!ref"]),l="",c,u="",d=[],h=0,A=0,g=e["!rows"],v=Array.isArray(e),x={r:u},y,w=-1;for(A=a.s.c;A<=a.e.c;++A)d[A]=pa(A);for(h=a.s.r;h<=a.e.r;++h){for(s=[],u=Ya(h),A=a.s.c;A<=a.e.c;++A){c=d[A]+u;var _=v?(e[h]||[])[A]:e[c];_!==void 0&&(l=wNt(_,c,e,t))!=null&&s.push(l)}(s.length>0||g&&g[h])&&(x={r:u},g&&g[h]&&(y=g[h],y.hidden&&(x.hidden=1),w=-1,y.hpx?w=J_(y.hpx):y.hpt&&(w=y.hpt),w>-1&&(x.ht=w,x.customHeight=1),y.level&&(x.outlineLevel=y.level)),i[i.length]=Nr("row",s.join(""),x))}if(g)for(;h<g.length;++h)g&&g[h]&&(x={r:h+1},y=g[h],y.hidden&&(x.hidden=1),w=-1,y.hpx?w=J_(y.hpx):y.hpt&&(w=y.hpt),w>-1&&(x.ht=w,x.customHeight=1),y.level&&(x.outlineLevel=y.level),i[i.length]=Nr("row","",x));return i.join("")}function T1e(e,t,r,n){var i=[Za,Nr("worksheet",null,{xmlns:c1[0],"xmlns:r":ko.r})],s=r.SheetNames[e],a=0,l="",c=r.Sheets[s];c==null&&(c={});var u=c["!ref"]||"A1",d=Ri(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=ei(d)}n||(n={}),c["!comments"]=[];var h=[];oNt(c,r,e,t,i),i[i.length]=Nr("dimension",null,{ref:u}),i[i.length]=yNt(c,t,e,r),t.sheetFormat&&(i[i.length]=Nr("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(i[i.length]=pNt(c,c["!cols"])),i[a=i.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=_Nt(c,t),l.length>0&&(i[i.length]=l)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),c["!protect"]&&(i[i.length]=uNt(c["!protect"])),c["!autofilter"]!=null&&(i[i.length]=mNt(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(i[i.length]=sNt(c["!merges"]));var A=-1,g,v=-1;return c["!links"].length>0&&(i[i.length]="<hyperlinks>",c["!links"].forEach(function(x){x[1].Target&&(g={ref:x[0]},x[1].Target.charAt(0)!="#"&&(v=os(n,-1,cs(x[1].Target).replace(/#.*$/,""),hi.HLINK),g["r:id"]="rId"+v),(A=x[1].Target.indexOf("#"))>-1&&(g.location=cs(x[1].Target.slice(A+1))),x[1].Tooltip&&(g.tooltip=cs(x[1].Tooltip)),i[i.length]=Nr("hyperlink",null,g))}),i[i.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(i[i.length]=hNt(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(i[i.length]=vl("ignoredErrors",Nr("ignoredError",null,{numberStoredAsText:1,sqref:u}))),h.length>0&&(v=os(n,-1,"../drawings/drawing"+(e+1)+".xml",hi.DRAW),i[i.length]=Nr("drawing",null,{"r:id":"rId"+v}),c["!drawing"]=h),c["!comments"].length>0&&(v=os(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",hi.VML),i[i.length]=Nr("legacyDrawing",null,{"r:id":"rId"+v}),c["!legacy"]=v),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function ENt(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=i/20),r}function SNt(e,t,r){var n=Ft(145),i=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var s=320;i.hpx?s=J_(i.hpx)*20:i.hpt&&(s=i.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),n.write_shift(1,a),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var h=-1,A=-1,g=d<<10;g<d+1<<10;++g){u.c=g;var v=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Bn(u)];v&&(h<0&&(h=g),A=g)}h<0||(++l,n.write_shift(4,h),n.write_shift(4,A))}var x=n.l;return n.l=c,n.write_shift(4,l),n.l=x,n.length>n.l?n.slice(0,n.l):n}function CNt(e,t,r,n){var i=SNt(n,r,t);(i.length>17||(t["!rows"]||[])[n])&&nr(e,0,i)}var NNt=h1,TNt=ow;function BNt(){}function INt(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=Pwt(e),r}function kNt(e,t,r){r==null&&(r=Ft(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return eT({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),Eme(e,r),r.slice(0,r.l)}function jNt(e){var t=jd(e);return[t]}function PNt(e,t,r){return r==null&&(r=Ft(8)),u1(t,r)}function FNt(e){var t=d1(e);return[t]}function ONt(e,t,r){return r==null&&(r=Ft(4)),f1(t,r)}function DNt(e){var t=jd(e),r=e.read_shift(1);return[t,r,"b"]}function LNt(e,t,r){return r==null&&(r=Ft(9)),u1(t,r),r.write_shift(1,e.v?1:0),r}function RNt(e){var t=d1(e),r=e.read_shift(1);return[t,r,"b"]}function MNt(e,t,r){return r==null&&(r=Ft(5)),f1(t,r),r.write_shift(1,e.v?1:0),r}function UNt(e){var t=jd(e),r=e.read_shift(1);return[t,r,"e"]}function HNt(e,t,r){return r==null&&(r=Ft(9)),u1(t,r),r.write_shift(1,e.v),r}function QNt(e){var t=d1(e),r=e.read_shift(1);return[t,r,"e"]}function $Nt(e,t,r){return r==null&&(r=Ft(8)),f1(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function VNt(e){var t=jd(e),r=e.read_shift(4);return[t,r,"s"]}function zNt(e,t,r){return r==null&&(r=Ft(12)),u1(t,r),r.write_shift(4,t.v),r}function GNt(e){var t=d1(e),r=e.read_shift(4);return[t,r,"s"]}function WNt(e,t,r){return r==null&&(r=Ft(8)),f1(t,r),r.write_shift(4,t.v),r}function KNt(e){var t=jd(e),r=Wl(e);return[t,r,"n"]}function qNt(e,t,r){return r==null&&(r=Ft(16)),u1(t,r),Fm(e.v,r),r}function B1e(e){var t=d1(e),r=Wl(e);return[t,r,"n"]}function XNt(e,t,r){return r==null&&(r=Ft(12)),f1(t,r),Fm(e.v,r),r}function YNt(e){var t=jd(e),r=O9(e);return[t,r,"n"]}function ZNt(e,t,r){return r==null&&(r=Ft(12)),u1(t,r),Sme(e.v,r),r}function JNt(e){var t=d1(e),r=O9(e);return[t,r,"n"]}function e4t(e,t,r){return r==null&&(r=Ft(8)),f1(t,r),Sme(e.v,r),r}function t4t(e){var t=jd(e),r=j9(e);return[t,r,"is"]}function r4t(e){var t=jd(e),r=Xl(e);return[t,r,"str"]}function n4t(e,t,r){return r==null&&(r=Ft(12+4*e.v.length)),u1(t,r),rl(e.v,r),r.length>r.l?r.slice(0,r.l):r}function i4t(e){var t=d1(e),r=Xl(e);return[t,r,"str"]}function s4t(e,t,r){return r==null&&(r=Ft(8+4*e.v.length)),f1(t,r),rl(e.v,r),r.length>r.l?r.slice(0,r.l):r}function a4t(e,t,r){var n=e.l+t,i=jd(e);i.r=r["!row"];var s=e.read_shift(1),a=[i,s,"b"];if(r.cellFormula){e.l+=2;var l=ak(e,n-e.l,r);a[3]=$l(l,null,i,r.supbooks,r)}else e.l=n;return a}function o4t(e,t,r){var n=e.l+t,i=jd(e);i.r=r["!row"];var s=e.read_shift(1),a=[i,s,"e"];if(r.cellFormula){e.l+=2;var l=ak(e,n-e.l,r);a[3]=$l(l,null,i,r.supbooks,r)}else e.l=n;return a}function l4t(e,t,r){var n=e.l+t,i=jd(e);i.r=r["!row"];var s=Wl(e),a=[i,s,"n"];if(r.cellFormula){e.l+=2;var l=ak(e,n-e.l,r);a[3]=$l(l,null,i,r.supbooks,r)}else e.l=n;return a}function c4t(e,t,r){var n=e.l+t,i=jd(e);i.r=r["!row"];var s=Xl(e),a=[i,s,"str"];if(r.cellFormula){e.l+=2;var l=ak(e,n-e.l,r);a[3]=$l(l,null,i,r.supbooks,r)}else e.l=n;return a}var u4t=h1,d4t=ow;function f4t(e,t){return t==null&&(t=Ft(4)),t.write_shift(4,e),t}function h4t(e,t){var r=e.l+t,n=h1(e),i=P9(e),s=Xl(e),a=Xl(e),l=Xl(e);e.l=r;var c={rfx:n,relId:i,loc:s,display:l};return a&&(c.Tooltip=a),c}function A4t(e,t){var r=Ft(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));ow({s:ga(e[0]),e:ga(e[0])},r),F9("rId"+t,r);var n=e[1].Target.indexOf("#"),i=n==-1?"":e[1].Target.slice(n+1);return rl(i||"",r),rl(e[1].Tooltip||"",r),rl("",r),r.slice(0,r.l)}function p4t(){}function g4t(e,t,r){var n=e.l+t,i=Cme(e),s=e.read_shift(1),a=[i];if(a[2]=s,r.cellFormula){var l=UCt(e,n-e.l,r);a[1]=l}else e.l=n;return a}function m4t(e,t,r){var n=e.l+t,i=h1(e),s=[i];if(r.cellFormula){var a=QCt(e,n-e.l,r);s[1]=a,e.l=n}else e.l=n;return s}function x4t(e,t,r){r==null&&(r=Ft(18));var n=ok(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return t.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),t.level&&(i|=t.level<<8),r.write_shift(2,i),r}var I1e=["left","right","top","bottom","header","footer"];function v4t(e){var t={};return I1e.forEach(function(r){t[r]=Wl(e)}),t}function y4t(e,t){return t==null&&(t=Ft(6*8)),im(e),I1e.forEach(function(r){Fm(e[r],t)}),t}function w4t(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function b4t(e,t,r){r==null&&(r=Ft(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function _4t(e){var t=Ft(24);return t.write_shift(4,4),t.write_shift(4,1),ow(e,t),t}function E4t(e,t){return t==null&&(t=Ft(16*4+2)),t.write_shift(2,e.password?H9(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function S4t(){}function C4t(){}function N4t(e,t,r,n,i,s,a){if(!e)return e;var l=t||{};n||(n={"!id":{}});var c=l.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},h=!1,A=!1,g,v,x,y,w,_,E,I,N,j=[];l.biff=12,l["!row"]=0;var T=0,P=!1,k=[],R={},O=l.supbooks||i.supbooks||[[]];if(O.sharedf=R,O.arrayf=k,O.SheetNames=i.SheetNames||i.Sheets.map(function(te){return te.name}),!l.supbooks&&(l.supbooks=O,i.Names))for(var M=0;M<i.Names.length;++M)O[0][M+1]=i.Names[M];var H=[],K=[],Y=!1;eE[16]={n:"BrtShortReal",f:B1e};var ne;if(HA(e,function(X,ue,ve){if(!A)switch(ve){case 148:u=X;break;case 0:g=X,l.sheetRows&&l.sheetRows<=g.r&&(A=!0),I=Ya(y=g.r),l["!row"]=g.r,(X.hidden||X.hpt||X.level!=null)&&(X.hpt&&(X.hpx=fy(X.hpt)),K[X.r]=X);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:X[2]},X[2]){case"n":v.v=X[1];break;case"s":E=cb[X[1]],v.v=E.t,v.r=E.r;break;case"b":v.v=!!X[1];break;case"e":v.v=X[1],l.cellText!==!1&&(v.w=QA[v.v]);break;case"str":v.t="s",v.v=X[1];break;case"is":v.t="s",v.v=X[1].t;break}if((x=a.CellXf[X[0].iStyleRef])&&C1e(v,x.numFmtId,null,l,s,a),w=X[0].c==-1?w+1:X[0].c,l.dense?(c[y]||(c[y]=[]),c[y][w]=v):c[pa(w)+I]=v,l.cellFormula){for(P=!1,T=0;T<k.length;++T){var V=k[T];g.r>=V[0].s.r&&g.r<=V[0].e.r&&w>=V[0].s.c&&w<=V[0].e.c&&(v.F=ei(V[0]),P=!0)}!P&&X.length>3&&(v.f=X[3])}if(d.s.r>g.r&&(d.s.r=g.r),d.s.c>w&&(d.s.c=w),d.e.r<g.r&&(d.e.r=g.r),d.e.c<w&&(d.e.c=w),l.cellDates&&x&&v.t=="n"&&iw(Tn[x.numFmtId])){var q=Dg(v.v);q&&(v.t="d",v.v=new Date(q.y,q.m-1,q.d,q.H,q.M,q.S,q.u))}ne&&(ne.type=="XLDAPR"&&(v.D=!0),ne=void 0);break;case 1:case 12:if(!l.sheetStubs||h)break;v={t:"z",v:void 0},w=X[0].c==-1?w+1:X[0].c,l.dense?(c[y]||(c[y]=[]),c[y][w]=v):c[pa(w)+I]=v,d.s.r>g.r&&(d.s.r=g.r),d.s.c>w&&(d.s.c=w),d.e.r<g.r&&(d.e.r=g.r),d.e.c<w&&(d.e.c=w),ne&&(ne.type=="XLDAPR"&&(v.D=!0),ne=void 0);break;case 176:j.push(X);break;case 49:ne=((l.xlmeta||{}).Cell||[])[X-1];break;case 494:var ee=n["!id"][X.relId];for(ee?(X.Target=ee.Target,X.loc&&(X.Target+="#"+X.loc),X.Rel=ee):X.relId==""&&(X.Target="#"+X.loc),y=X.rfx.s.r;y<=X.rfx.e.r;++y)for(w=X.rfx.s.c;w<=X.rfx.e.c;++w)l.dense?(c[y]||(c[y]=[]),c[y][w]||(c[y][w]={t:"z",v:void 0}),c[y][w].l=X):(_=Bn({c:w,r:y}),c[_]||(c[_]={t:"z",v:void 0}),c[_].l=X);break;case 426:if(!l.cellFormula)break;k.push(X),N=l.dense?c[y][w]:c[pa(w)+I],N.f=$l(X[1],d,{r:g.r,c:w},O,l),N.F=ei(X[0]);break;case 427:if(!l.cellFormula)break;R[Bn(X[0].s)]=X[1],N=l.dense?c[y][w]:c[pa(w)+I],N.f=$l(X[1],d,{r:g.r,c:w},O,l);break;case 60:if(!l.cellStyles)break;for(;X.e>=X.s;)H[X.e--]={width:X.w/256,hidden:!!(X.flags&1),level:X.level},Y||(Y=!0,Q9(X.w/256)),Tp(H[X.e+1]);break;case 161:c["!autofilter"]={ref:ei(X)};break;case 476:c["!margins"]=X;break;case 147:i.Sheets[r]||(i.Sheets[r]={}),X.name&&(i.Sheets[r].CodeName=X.name),(X.above||X.left)&&(c["!outline"]={above:X.above,left:X.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),X.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:h=!0;break;case 36:h=!1;break;case 37:h=!0;break;case 38:h=!1;break;default:if(!ue.T){if(!h||l.WTF)throw new Error("Unexpected record 0x"+ve.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=ei(u||d)),l.sheetRows&&c["!ref"]){var le=Ri(c["!ref"]);l.sheetRows<=+le.e.r&&(le.e.r=l.sheetRows-1,le.e.r>d.e.r&&(le.e.r=d.e.r),le.e.r<le.s.r&&(le.s.r=le.e.r),le.e.c>d.e.c&&(le.e.c=d.e.c),le.e.c<le.s.c&&(le.s.c=le.e.c),c["!fullref"]=c["!ref"],c["!ref"]=ei(le))}return j.length>0&&(c["!merges"]=j),H.length>0&&(c["!cols"]=H),K.length>0&&(c["!rows"]=K),c}function T4t(e,t,r,n,i,s,a){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=Ws(t),t.z=t.z||Tn[14],t.v=Do(Gs(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=Zp(i.cellXfs,t,i),t.l&&s["!links"].push([Bn(c),t.l]),t.c&&s["!comments"].push([Bn(c),t.c]),t.t){case"s":case"str":return i.bookSST?(l=W9(i.Strings,t.v,i.revStrings),c.t="s",c.v=l,a?nr(e,18,WNt(t,c)):nr(e,7,zNt(t,c))):(c.t="str",a?nr(e,17,s4t(t,c)):nr(e,6,n4t(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?a?nr(e,13,e4t(t,c)):nr(e,2,ZNt(t,c)):a?nr(e,16,XNt(t,c)):nr(e,5,qNt(t,c)),!0;case"b":return c.t="b",a?nr(e,15,MNt(t,c)):nr(e,4,LNt(t,c)),!0;case"e":return c.t="e",a?nr(e,14,$Nt(t,c)):nr(e,3,HNt(t,c)),!0}return a?nr(e,12,ONt(t,c)):nr(e,1,PNt(t,c)),!0}function B4t(e,t,r,n){var i=Ri(t["!ref"]||"A1"),s,a="",l=[];nr(e,145);var c=Array.isArray(t),u=i.e.r;t["!rows"]&&(u=Math.max(i.e.r,t["!rows"].length-1));for(var d=i.s.r;d<=u;++d){a=Ya(d),CNt(e,t,i,d);var h=!1;if(d<=i.e.r)for(var A=i.s.c;A<=i.e.c;++A){d===i.s.r&&(l[A]=pa(A)),s=l[A]+a;var g=c?(t[d]||[])[A]:t[s];if(!g){h=!1;continue}h=T4t(e,g,d,A,n,t,h)}}nr(e,146)}function I4t(e,t){!t||!t["!merges"]||(nr(e,177,f4t(t["!merges"].length)),t["!merges"].forEach(function(r){nr(e,176,d4t(r))}),nr(e,178))}function k4t(e,t){!t||!t["!cols"]||(nr(e,390),t["!cols"].forEach(function(r,n){r&&nr(e,60,x4t(n,r))}),nr(e,391))}function j4t(e,t){!t||!t["!ref"]||(nr(e,648),nr(e,649,_4t(Ri(t["!ref"]))),nr(e,650))}function P4t(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var i=os(r,-1,n[1].Target.replace(/#.*$/,""),hi.HLINK);nr(e,494,A4t(n,i))}}),delete t["!links"]}function F4t(e,t,r,n){if(t["!comments"].length>0){var i=os(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",hi.VML);nr(e,551,F9("rId"+i)),t["!legacy"]=i}}function O4t(e,t,r,n){if(t["!autofilter"]){var i=t["!autofilter"],s=typeof i.ref=="string"?i.ref:ei(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,l=Jc(s);l.s.r==l.e.r&&(l.e.r=Jc(t["!ref"]).e.r,s=ei(l));for(var c=0;c<a.length;++c){var u=a[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+s;break}}c==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),nr(e,161,ow(Ri(s))),nr(e,162)}}function D4t(e,t,r){nr(e,133),nr(e,137,b4t(t,r)),nr(e,138),nr(e,134)}function L4t(e,t){t["!protect"]&&nr(e,535,E4t(t["!protect"]))}function R4t(e,t,r,n){var i=Zc(),s=r.SheetNames[e],a=r.Sheets[s]||{},l=s;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=Ri(a["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],nr(i,129),(r.vbaraw||a["!outline"])&&nr(i,147,kNt(l,a["!outline"])),nr(i,148,TNt(c)),D4t(i,a,r.Workbook),k4t(i,a),B4t(i,a,e,t),L4t(i,a),O4t(i,a,r,e),I4t(i,a),P4t(i,a,n),a["!margins"]&&nr(i,476,y4t(a["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&j4t(i,a),F4t(i,a,e,n),nr(i,130),i.end()}function M4t(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var a=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(t[+a[1]]=r?+a[2]:a[2])});var i=Li((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[t,i,n]}function U4t(e,t,r,n,i,s){var a=s||{"!type":"chart"};if(!e)return s;var l=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(h){var A=M4t(h);d.s.r=d.s.c=0,d.e.c=l,u=pa(l),A[0].forEach(function(g,v){a[u+Ya(v)]={t:"n",v:g,z:A[1]},c=v}),d.e.r<c&&(d.e.r=c),++l}),l>0&&(a["!ref"]=ei(d)),a}function H4t(e,t,r,n,i){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a,l=e.match(N1e);return l&&K9(l[0],s,i,r),(a=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=a[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function Q4t(e,t){e.l+=10;var r=Xl(e);return{name:r}}function $4t(e,t,r,n,i){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a=!1;return HA(e,function(c,u,d){switch(d){case 550:s["!rel"]=c;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),c.name&&(i.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!a||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var q9=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],V4t=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],z4t=[],G4t=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function zJ(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],i=0;i!=t.length;++i){var s=t[i];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=$s(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function GJ(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=$s(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function k1e(e){GJ(e.WBProps,q9),GJ(e.CalcPr,G4t),zJ(e.WBView,V4t),zJ(e.Sheets,z4t),tv.date1904=$s(e.WBProps.date1904)}function W4t(e){return!e.Workbook||!e.Workbook.WBProps?"false":$s(e.Workbook.WBProps.date1904)?"true":"false"}var K4t="][*?/\\".split("");function j1e(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return K4t.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function q4t(e,t,r){e.forEach(function(n,i){j1e(n);for(var s=0;s<i;++s)if(n==e[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var a=t&&t[i]&&t[i].CodeName||n;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function X4t(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];q4t(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)WCt(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var Y4t=/<\w+:workbook/;function Z4t(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",s={},a=0;if(e.replace(ec,function(c,u){var d=Fn(c);switch(Sh(d[0])){case"<?xml":break;case"<workbook":c.match(Y4t)&&(i="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[i];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":q9.forEach(function(h){if(d[h[0]]!=null)switch(h[2]){case"bool":r.WBProps[h[0]]=$s(d[h[0]]);break;case"int":r.WBProps[h[0]]=parseInt(d[h[0]],10);break;default:r.WBProps[h[0]]=d[h[0]]}}),d.codeName&&(r.WBProps.CodeName=gs(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=Li(gs(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=gs(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),$s(d.hidden||"0")&&(s.Hidden=!0),a=u+c.length;break;case"</definedName>":s.Ref=Li(gs(e.slice(a,u))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),c1.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return k1e(r),r}function P1e(e){var t=[Za];t[t.length]=Nr("workbook",null,{xmlns:c1[0],"xmlns:r":ko.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(q9.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Nr("workbookPr",null,n);var i=e.Workbook&&e.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var a={name:cs(e.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}t[t.length]=Nr("sheet",null,a)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=Nr("definedName",cs(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function J4t(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=lL(e),r.name=Xl(e),r}function e5t(e,t){return t||(t=Ft(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),F9(e.strRelID,t),rl(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function t5t(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var i=t>8?Xl(e):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function r5t(e,t){t||(t=Ft(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),Eme(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function n5t(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function i5t(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),s=Fwt(e),a=HCt(e,0,r),l=P9(e);e.l=n;var c={Name:s,Ptg:a};return i<268435455&&(c.Sheet=i),l&&(c.Comment=l),c}function s5t(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;t||(t={}),t.biff=12;var s=[],a=[[]];return a.SheetNames=[],a.XTI=[],eE[16]={n:"BrtFRTArchID$",f:n5t},HA(e,function(c,u,d){switch(d){case 156:a.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=$l(c.Ptg,null,null,a,t),delete t.SID,delete c.Ptg,s.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([d,c]):a[0]=[d,c],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(c),a.XTI=a.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(d),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!u.T){if(!i||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),k1e(r),r.Names=s,r.supbooks=a,r}function a5t(e,t){nr(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};nr(e,156,e5t(i))}nr(e,144)}function o5t(e,t){t||(t=Ft(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return rl("SheetJS",t),rl(W3.version,t),rl(W3.version,t),rl("7262",t),t.length>t.l?t.slice(0,t.l):t}function l5t(e,t){t||(t=Ft(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function c5t(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,i=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&s==-1&&(s=n);s>i||(nr(e,135),nr(e,158,l5t(i)),nr(e,136))}}function u5t(e,t){var r=Zc();return nr(r,131),nr(r,128,o5t()),nr(r,153,r5t(e.Workbook&&e.Workbook.WBProps||null)),c5t(r,e),a5t(r,e),nr(r,132),r.end()}function d5t(e,t,r){return t.slice(-4)===".bin"?s5t(e,r):Z4t(e,r)}function f5t(e,t,r,n,i,s,a,l){return t.slice(-4)===".bin"?N4t(e,n,r,i,s,a,l):iNt(e,n,r,i,s,a,l)}function h5t(e,t,r,n,i,s,a,l){return t.slice(-4)===".bin"?$4t(e,n,r,i,s):H4t(e,n,r,i,s)}function A5t(e,t,r,n,i,s,a,l){return t.slice(-4)===".bin"?gSt():mSt()}function p5t(e,t,r,n,i,s,a,l){return t.slice(-4)===".bin"?ASt():pSt()}function g5t(e,t,r,n){return t.slice(-4)===".bin"?dEt(e,r,n):J_t(e,r,n)}function m5t(e,t,r){return h1e(e,r)}function x5t(e,t,r){return t.slice(-4)===".bin"?x_t(e,r):p_t(e,r)}function v5t(e,t,r){return t.slice(-4)===".bin"?cSt(e,r):eSt(e,r)}function y5t(e,t,r){return t.slice(-4)===".bin"?YEt(e):qEt(e)}function w5t(e,t,r,n){return r.slice(-4)===".bin"?ZEt(e,t,r,n):void 0}function b5t(e,t,r){return t.slice(-4)===".bin"?GEt(e,t,r):KEt(e,t,r)}function _5t(e,t,r){return(t.slice(-4)===".bin"?u5t:P1e)(e)}function E5t(e,t,r,n,i){return(t.slice(-4)===".bin"?R4t:T1e)(e,r,n,i)}function S5t(e,t,r){return(t.slice(-4)===".bin"?wEt:d1e)(e,r)}function C5t(e,t,r){return(t.slice(-4)===".bin"?w_t:n1e)(e,r)}function N5t(e,t,r){return(t.slice(-4)===".bin"?uSt:g1e)(e)}function T5t(e){return(e.slice(-4)===".bin"?WEt:A1e)()}var F1e=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,O1e=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Hd(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var i=e.match(F1e),s,a,l,c;if(i)for(c=0;c!=i.length;++c)s=i[c].match(O1e),(a=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?l="xmlns"+s[1].slice(6):l=s[1].slice(a+1),n[l]=s[2].slice(1,s[2].length-1));return n}function B5t(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(F1e),i,s,a,l;if(n)for(l=0;l!=n.length;++l)i=n[l].match(O1e),(s=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?a="xmlns"+i[1].slice(6):a=i[1].slice(s+1),r[a]=i[2].slice(1,i[2].length-1));return r}var db;function I5t(e,t){var r=db[e]||Li(e);return r==="General"?jm(t):Nd(r,t)}function k5t(e,t,r,n){var i=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=$s(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=Gs(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Li(t)]=i}function j5t(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||QA[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=z_(e.v):e.w=jm(e.v):e.w=I5t(t||"General",e.v)}catch(s){if(r.WTF)throw s}try{var n=db[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&iw(n)){var i=Dg(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(r.WTF)throw s}}}function P5t(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=z_t[n.Pattern]||n.Pattern)}e[t.ID]=t}function F5t(e,t,r,n,i,s,a,l,c,u){var d="General",h=n.StyleID,A={};u=u||{};var g=[],v=0;for(h===void 0&&l&&(h=l.StyleID),h===void 0&&a&&(h=a.StyleID);s[h]!==void 0&&(s[h].nf&&(d=s[h].nf),s[h].Interior&&g.push(s[h].Interior),!!s[h].Parent);)h=s[h].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=$s(e);break;case"String":n.t="s",n.r=cJ(Li(e)),n.v=e.indexOf("<")>-1?Li(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Gs(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Li(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=Bme[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=cJ(t||e));break}if(j5t(n,d,u),u.cellFormula!==!1)if(n.Formula){var x=Li(n.Formula);x.charCodeAt(0)==61&&(x=x.slice(1)),n.f=ev(x,i),delete n.Formula,n.ArrayRange=="RC"?n.F=ev("RC:RC",i):n.ArrayRange&&(n.F=ev(n.ArrayRange,i),c.push([Ri(n.F),n.F]))}else for(v=0;v<c.length;++v)i.r>=c[v][0].s.r&&i.r<=c[v][0].e.r&&i.c>=c[v][0].s.c&&i.c<=c[v][0].e.c&&(n.F=c[v][1]);u.cellStyles&&(g.forEach(function(y){!A.patternType&&y.patternType&&(A.patternType=y.patternType)}),n.s=A),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function O5t(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function EP(e,t){var r=t||{};sw();var n=y2(N9(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=gs(n));var i=n.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var a=Ws(r);return a.type="string",dy.to_workbook(n,a)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(ke){i.indexOf("<"+ke)>=0&&(s=!0)}),s)return y3t(n,r);db={"General Number":"General","General Date":Tn[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Tn[15],"Short Date":Tn[14],"Long Time":Tn[19],"Medium Time":Tn[18],"Short Time":Tn[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Tn[2],Standard:Tn[4],Percent:Tn[10],Scientific:Tn[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],u,d={},h=[],A=r.dense?[]:{},g="",v={},x={},y=Hd('<Data ss:Type="String">'),w=0,_=0,E=0,I={s:{r:2e6,c:2e6},e:{r:0,c:0}},N={},j={},T="",P=0,k=[],R={},O={},M=0,H=[],K=[],Y={},ne=[],le,te=!1,X=[],ue=[],ve={},V=0,q=0,ee={Sheets:[],WBProps:{date1904:!1}},re={};K_.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var de="";l=K_.exec(n);)switch(l[3]=(de=l[3]).toLowerCase()){case"data":if(de=="data"){if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?F5t(n.slice(w,l.index),T,y,c[c.length-1][0]=="comment"?Y:v,{c:_,r:E},N,ne[_],x,X,r):(T="",y=Hd(l[0]),w=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(K.length>0&&(v.c=K),(!r.sheetRows||r.sheetRows>E)&&v.v!==void 0&&(r.dense?(A[E]||(A[E]=[]),A[E][_]=v):A[pa(_)+Ya(E)]=v),v.HRef&&(v.l={Target:Li(v.HRef)},v.HRefScreenTip&&(v.l.Tooltip=v.HRefScreenTip),delete v.HRef,delete v.HRefScreenTip),(v.MergeAcross||v.MergeDown)&&(V=_+(parseInt(v.MergeAcross,10)|0),q=E+(parseInt(v.MergeDown,10)|0),k.push({s:{c:_,r:E},e:{c:V,r:q}})),!r.sheetStubs)v.MergeAcross?_=V+1:++_;else if(v.MergeAcross||v.MergeDown){for(var Ae=_;Ae<=V;++Ae)for(var _e=E;_e<=q;++_e)(Ae>_||_e>E)&&(r.dense?(A[_e]||(A[_e]=[]),A[_e][Ae]={t:"z"}):A[pa(Ae)+Ya(_e)]={t:"z"});_=V+1}else++_;else v=B5t(l[0]),v.Index&&(_=+v.Index-1),_<I.s.c&&(I.s.c=_),_>I.e.c&&(I.e.c=_),l[0].slice(-2)==="/>"&&++_,K=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(E<I.s.r&&(I.s.r=E),E>I.e.r&&(I.e.r=E),l[0].slice(-2)==="/>"&&(x=Hd(l[0]),x.Index&&(E=+x.Index-1)),_=0,++E):(x=Hd(l[0]),x.Index&&(E=+x.Index-1),ve={},(x.AutoFitHeight=="0"||x.Height)&&(ve.hpx=parseInt(x.Height,10),ve.hpt=J_(ve.hpx),ue[E]=ve),x.Hidden=="1"&&(ve.hidden=!0,ue[E]=ve));break;case"worksheet":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));h.push(g),I.s.r<=I.e.r&&I.s.c<=I.e.c&&(A["!ref"]=ei(I),r.sheetRows&&r.sheetRows<=I.e.r&&(A["!fullref"]=A["!ref"],I.e.r=r.sheetRows-1,A["!ref"]=ei(I))),k.length&&(A["!merges"]=k),ne.length>0&&(A["!cols"]=ne),ue.length>0&&(A["!rows"]=ue),d[g]=A}else I={s:{r:2e6,c:2e6},e:{r:0,c:0}},E=_=0,c.push([l[3],!1]),u=Hd(l[0]),g=Li(u.Name),A=r.dense?[]:{},k=[],X=[],ue=[],re={name:g,Hidden:0},ee.Sheets.push(re);break;case"table":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),ne=[],te=!1}break;case"style":l[1]==="/"?P5t(N,j,r):j=Hd(l[0]);break;case"numberformat":j.nf=Li(Hd(l[0]).Format||"General"),db[j.nf]&&(j.nf=db[j.nf]);for(var ye=0;ye!=392&&Tn[ye]!=j.nf;++ye);if(ye==392){for(ye=57;ye!=392;++ye)if(Tn[ye]==null){gA(j.nf,ye);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(le=Hd(l[0]),le.Hidden&&(le.hidden=!0,delete le.Hidden),le.Width&&(le.wpx=parseInt(le.Width,10)),!te&&le.wpx>10){te=!0,Gl=c1e;for(var ce=0;ce<ne.length;++ce)ne[ce]&&Tp(ne[ce])}te&&Tp(le),ne[le.Index-1||ne.length]=le;for(var Ne=0;Ne<+le.Span;++Ne)ne[ne.length]=Ws(le);break;case"namedrange":if(l[1]==="/")break;ee.Names||(ee.Names=[]);var oe=Fn(l[0]),We={Name:oe.Name,Ref:ev(oe.RefersTo.slice(1),{r:0,c:0})};ee.Sheets.length>0&&(We.Sheet=ee.Sheets.length-1),ee.Names.push(We);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?T+=n.slice(P,l.index):P=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;j.Interior=Hd(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?s2t(R,de,n.slice(M,l.index)):M=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));O5t(Y),K.push(Y)}else c.push([l[3],!1]),u=Hd(l[0]),Y={a:u.Author};break;case"autofilter":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var Re=Hd(l[0]);A["!autofilter"]={ref:ev(Re.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return YJ(n,r);var z=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:z=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:z=!1}break;case"excelworkbook":switch(l[3]){case"date1904":ee.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:z=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:z=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(M,l.index)){case"SheetHidden":re.Hidden=1;break;case"SheetVeryHidden":re.Hidden=2;break}else M=l.index+l[0].length;break;case"header":A["!margins"]||im(A["!margins"]={},"xlml"),isNaN(+Fn(l[0]).Margin)||(A["!margins"].header=+Fn(l[0]).Margin);break;case"footer":A["!margins"]||im(A["!margins"]={},"xlml"),isNaN(+Fn(l[0]).Margin)||(A["!margins"].footer=+Fn(l[0]).Margin);break;case"pagemargins":var Fe=Fn(l[0]);A["!margins"]||im(A["!margins"]={},"xlml"),isNaN(+Fe.Top)||(A["!margins"].top=+Fe.Top),isNaN(+Fe.Left)||(A["!margins"].left=+Fe.Left),isNaN(+Fe.Right)||(A["!margins"].right=+Fe.Right),isNaN(+Fe.Bottom)||(A["!margins"].bottom=+Fe.Bottom);break;case"displayrighttoleft":ee.Views||(ee.Views=[]),ee.Views[0]||(ee.Views[0]={}),ee.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":A["!outline"]||(A["!outline"]={}),A["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":A["!outline"]||(A["!outline"]={}),A["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:z=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:z=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:z=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:z=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:z=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:z=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:z=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:z=!1}break;case"smarttags":break;default:z=!1;break}if(z||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?k5t(O,de,H,n.slice(M,l.index)):(H=l,M=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var He={};return!r.bookSheets&&!r.bookProps&&(He.Sheets=d),He.SheetNames=h,He.Workbook=ee,He.SSF=Ws(Tn),He.Props=R,He.Custprops=O,He}function pL(e,t){switch(Y9(t=t||{}),t.type||"base64"){case"base64":return EP(Lu(e),t);case"binary":case"buffer":case"file":return EP(e,t);case"array":return EP(Xp(e),t)}}function D5t(e,t){var r=[];return e.Props&&r.push(a2t(e.Props,t)),e.Custprops&&r.push(o2t(e.Props,e.Custprops)),r.join("")}function L5t(){return""}function R5t(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,i){var s=[];s.push(Nr("NumberFormat",null,{"ss:Format":cs(Tn[n.numFmtId])}));var a={"ss:ID":"s"+(21+i)};r.push(Nr("Style",s.join(""),a))}),Nr("Styles",r.join(""))}function D1e(e){return Nr("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+z9(e.Ref,{r:0,c:0})})}function M5t(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var i=t[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(D1e(i)))}return Nr("Names",r.join(""))}function U5t(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,s=[],a=0;a<i.length;++a){var l=i[a];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||s.push(D1e(l)))}return s.join("")}function H5t(e,t,r,n){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(Nr("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(Nr("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(Nr("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(Nr("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(vl("ProtectContents","True")),e["!protect"].objects&&i.push(vl("ProtectObjects","True")),e["!protect"].scenarios&&i.push(vl("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?i.push(vl("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&i.push(vl("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){e["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":Nr("WorksheetOptions",i.join(""),{xmlns:yu.x})}function Q5t(e){return e.map(function(t){var r=cwt(t.t||""),n=Nr("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Nr("Comment",n,{"ss:Author":t.a})}).join("")}function $5t(e,t,r,n,i,s,a){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+cs(z9(e.f,a))),e.F&&e.F.slice(0,t.length)==t){var c=ga(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==a.r?"":"["+(c.r-a.r)+"]")+"C"+(c.c==a.c?"":"["+(c.c-a.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=cs(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=cs(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=a.c||u[d].s.r!=a.r||(u[d].e.c>u[d].s.c&&(l["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(l["ss:MergeDown"]=u[d].e.r-u[d].s.r));var h="",A="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":h="Number",A=String(e.v);break;case"b":h="Boolean",A=e.v?"1":"0";break;case"e":h="Error",A=QA[e.v];break;case"d":h="DateTime",A=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Tn[14]);break;case"s":h="String",A=lwt(e.v||"");break}var g=Zp(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+g),l["ss:Index"]=a.c+1;var v=e.v!=null?A:"",x=e.t=="z"?"":'<Data ss:Type="'+h+'">'+v+"</Data>";return(e.c||[]).length>0&&(x+=Q5t(e.c)),Nr("Cell",x,l)}function V5t(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=fy(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function z5t(e,t,r,n){if(!e["!ref"])return"";var i=Ri(e["!ref"]),s=e["!merges"]||[],a=0,l=[];e["!cols"]&&e["!cols"].forEach(function(y,w){Tp(y);var _=!!y.width,E=ok(w,y),I={"ss:Index":w+1};_&&(I["ss:Width"]=Y_(E.width)),y.hidden&&(I["ss:Hidden"]="1"),l.push(Nr("Column",null,I))});for(var c=Array.isArray(e),u=i.s.r;u<=i.e.r;++u){for(var d=[V5t(u,(e["!rows"]||[])[u])],h=i.s.c;h<=i.e.c;++h){var A=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>h)&&!(s[a].s.r>u)&&!(s[a].e.c<h)&&!(s[a].e.r<u)){(s[a].s.c!=h||s[a].s.r!=u)&&(A=!0);break}if(!A){var g={r:u,c:h},v=Bn(g),x=c?(e[u]||[])[h]:e[v];d.push($5t(x,v,e,t,r,n,g))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function G5t(e,t,r){var n=[],i=r.SheetNames[e],s=r.Sheets[i],a=s?U5t(s,t,e,r):"";return a.length>0&&n.push("<Names>"+a+"</Names>"),a=s?z5t(s,t,e,r):"",a.length>0&&n.push("<Table>"+a+"</Table>"),n.push(H5t(s,t,e,r)),n.join("")}function W5t(e,t){t||(t={}),e.SSF||(e.SSF=Ws(Tn)),e.SSF&&(sw(),ek(e.SSF),t.revssf=rk(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Zp(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(D5t(e,t)),r.push(L5t()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(Nr("Worksheet",G5t(n,t,e),{"ss:Name":cs(e.SheetNames[n])}));return r[2]=R5t(e,t),r[3]=M5t(e),Za+Nr("Workbook",r.join(""),{xmlns:yu.ss,"xmlns:o":yu.o,"xmlns:x":yu.x,"xmlns:ss":yu.ss,"xmlns:dt":yu.dt,"xmlns:html":yu.html})}function K5t(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=Mwt(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=Uwt(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var q5t=[60,1084,2066,2165,2175];function X5t(e,t,r,n,i){var s=n,a=[],l=r.slice(r.l,r.l+s);if(i&&i.enc&&i.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(l)}a.push(l),r.l+=s;for(var c=sA(r,r.l),u=gL[c],d=0;u!=null&&q5t.indexOf(c)>-1;)s=sA(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),l=r.slice(d,r.l+4+s),a.push(l),r.l+=4+s,u=gL[c=sA(r,r.l)];var h=tl(a);xl(h,0);var A=0;h.lens=[];for(var g=0;g<a.length;++g)h.lens.push(A),A+=a[g].length;if(h.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+h.length+" < "+n;return t.f(h,h.length,i)}function Tf(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Tn[n])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||QA[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=z_(e.v):e.w=jm(e.v):e.w=Nd(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&n&&e.t=="n"&&iw(Tn[n]||String(n))){var i=Dg(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function _N(e,t,r){return{v:e,ixfe:t,t:r}}function Y5t(e,t){var r={opts:{}},n={},i=t.dense?[]:{},s={},a={},l=null,c=[],u="",d={},h,A="",g,v,x,y,w={},_=[],E,I,N=[],j=[],T={Sheets:[],WBProps:{date1904:!1},Views:[{}]},P={},k=function(Ut){return Ut<8?tm[Ut]:Ut<64&&j[Ut-8]||tm[Ut]},R=function(Ut,qt,Er){var Kt=qt.XF.data;if(!(!Kt||!Kt.patternType||!Er||!Er.cellStyles)){qt.s={},qt.s.patternType=Kt.patternType;var xt;(xt=X_(k(Kt.icvFore)))&&(qt.s.fgColor={rgb:xt}),(xt=X_(k(Kt.icvBack)))&&(qt.s.bgColor={rgb:xt})}},O=function(Ut,qt,Er){if(!(ve>1)&&!(Er.sheetRows&&Ut.r>=Er.sheetRows)){if(Er.cellStyles&&qt.XF&&qt.XF.data&&R(Ut,qt,Er),delete qt.ixfe,delete qt.XF,h=Ut,A=Bn(Ut),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),Ut.r<a.s.r&&(a.s.r=Ut.r),Ut.c<a.s.c&&(a.s.c=Ut.c),Ut.r+1>a.e.r&&(a.e.r=Ut.r+1),Ut.c+1>a.e.c&&(a.e.c=Ut.c+1),Er.cellFormula&&qt.f){for(var Kt=0;Kt<_.length;++Kt)if(!(_[Kt][0].s.c>Ut.c||_[Kt][0].s.r>Ut.r)&&!(_[Kt][0].e.c<Ut.c||_[Kt][0].e.r<Ut.r)){qt.F=ei(_[Kt][0]),(_[Kt][0].s.c!=Ut.c||_[Kt][0].s.r!=Ut.r)&&delete qt.f,qt.f&&(qt.f=""+$l(_[Kt][1],a,Ut,X,M));break}}Er.dense?(i[Ut.r]||(i[Ut.r]=[]),i[Ut.r][Ut.c]=qt):i[A]=qt}},M={enc:!1,sbcch:0,snames:[],sharedf:w,arrayf:_,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(M.password=t.password);var H,K=[],Y=[],ne=[],le=[],te=!1,X=[];X.SheetNames=M.snames,X.sharedf=M.sharedf,X.arrayf=M.arrayf,X.names=[],X.XTI=[];var ue=0,ve=0,V=0,q=[],ee=[],re;M.codepage=1200,sf(1200);for(var de=!1;e.l<e.length-1;){var Ae=e.l,_e=e.read_shift(2);if(_e===0&&ue===10)break;var ye=e.l===e.length?0:e.read_shift(2),ce=gL[_e];if(ce&&ce.f){if(t.bookSheets&&ue===133&&_e!==133)break;if(ue=_e,ce.r===2||ce.r==12){var Ne=e.read_shift(2);if(ye-=2,!M.enc&&Ne!==_e&&((Ne&255)<<8|Ne>>8)!==_e)throw new Error("rt mismatch: "+Ne+"!="+_e);ce.r==12&&(e.l+=10,ye-=10)}var oe={};if(_e===10?oe=ce.f(e,ye,M):oe=X5t(_e,ce,e,ye,M),ve==0&&[9,521,1033,2057].indexOf(ue)===-1)continue;switch(_e){case 34:r.opts.Date1904=T.WBProps.date1904=oe;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(M.enc||(e.l=0),M.enc=oe,!t.password)throw new Error("File is password-protected");if(oe.valid==null)throw new Error("Encryption scheme unsupported");if(!oe.valid)throw new Error("Password is incorrect");break;case 92:M.lastuser=oe;break;case 66:var We=Number(oe);switch(We){case 21010:We=1200;break;case 32768:We=1e4;break;case 32769:We=1252;break}sf(M.codepage=We),de=!0;break;case 317:M.rrtabid=oe;break;case 25:M.winlocked=oe;break;case 439:r.opts.RefreshAll=oe;break;case 12:r.opts.CalcCount=oe;break;case 16:r.opts.CalcDelta=oe;break;case 17:r.opts.CalcIter=oe;break;case 13:r.opts.CalcMode=oe;break;case 14:r.opts.CalcPrecision=oe;break;case 95:r.opts.CalcSaveRecalc=oe;break;case 15:M.CalcRefMode=oe;break;case 2211:r.opts.FullCalc=oe;break;case 129:oe.fDialog&&(i["!type"]="dialog"),oe.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),oe.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:N.push(oe);break;case 430:X.push([oe]),X[X.length-1].XTI=[];break;case 35:case 547:X[X.length-1].push(oe);break;case 24:case 536:re={Name:oe.Name,Ref:$l(oe.rgce,a,null,X,M)},oe.itab>0&&(re.Sheet=oe.itab-1),X.names.push(re),X[0]||(X[0]=[],X[0].XTI=[]),X[X.length-1].push(oe),oe.Name=="_xlnm._FilterDatabase"&&oe.itab>0&&oe.rgce&&oe.rgce[0]&&oe.rgce[0][0]&&oe.rgce[0][0][0]=="PtgArea3d"&&(ee[oe.itab-1]={ref:ei(oe.rgce[0][0][1][2])});break;case 22:M.ExternCount=oe;break;case 23:X.length==0&&(X[0]=[],X[0].XTI=[]),X[X.length-1].XTI=X[X.length-1].XTI.concat(oe),X.XTI=X.XTI.concat(oe);break;case 2196:if(M.biff<8)break;re!=null&&(re.Comment=oe[1]);break;case 18:i["!protect"]=oe;break;case 19:oe!==0&&M.WTF&&console.error("Password verifier: "+oe);break;case 133:s[oe.pos]=oe,M.snames.push(oe.name);break;case 10:{if(--ve)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,i["!ref"]=ei(a),t.sheetRows&&t.sheetRows<=a.e.r){var Re=a.e.r;a.e.r=t.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=ei(a),a.e.r=Re}a.e.r++,a.e.c++}K.length>0&&(i["!merges"]=K),Y.length>0&&(i["!objects"]=Y),ne.length>0&&(i["!cols"]=ne),le.length>0&&(i["!rows"]=le),T.Sheets.push(P)}u===""?d=i:n[u]=i,i=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(M.biff===8&&(M.biff={9:2,521:3,1033:4}[_e]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[oe.BIFFVer]||8),M.biffguess=oe.BIFFVer==0,oe.BIFFVer==0&&oe.dt==4096&&(M.biff=5,de=!0,sf(M.codepage=28591)),M.biff==8&&oe.BIFFVer==0&&oe.dt==16&&(M.biff=2),ve++)break;if(i=t.dense?[]:{},M.biff<8&&!de&&(de=!0,sf(M.codepage=t.codepage||1252)),M.biff<5||oe.BIFFVer==0&&oe.dt==4096){u===""&&(u="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var z={pos:e.l-ye,name:u};s[z.pos]=z,M.snames.push(u)}else u=(s[Ae]||{name:""}).name;oe.dt==32&&(i["!type"]="chart"),oe.dt==64&&(i["!type"]="macro"),K=[],Y=[],M.arrayf=_=[],ne=[],le=[],te=!1,P={Hidden:(s[Ae]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(t.dense?(i[oe.r]||[])[oe.c]:i[Bn({c:oe.c,r:oe.r})])&&++oe.c,E={ixfe:oe.ixfe,XF:N[oe.ixfe]||{},v:oe.val,t:"n"},V>0&&(E.z=q[E.ixfe>>8&63]),Tf(E,t,r.opts.Date1904),O({c:oe.c,r:oe.r},E,t);break;case 5:case 517:E={ixfe:oe.ixfe,XF:N[oe.ixfe],v:oe.val,t:oe.t},V>0&&(E.z=q[E.ixfe>>8&63]),Tf(E,t,r.opts.Date1904),O({c:oe.c,r:oe.r},E,t);break;case 638:E={ixfe:oe.ixfe,XF:N[oe.ixfe],v:oe.rknum,t:"n"},V>0&&(E.z=q[E.ixfe>>8&63]),Tf(E,t,r.opts.Date1904),O({c:oe.c,r:oe.r},E,t);break;case 189:for(var Fe=oe.c;Fe<=oe.C;++Fe){var He=oe.rkrec[Fe-oe.c][0];E={ixfe:He,XF:N[He],v:oe.rkrec[Fe-oe.c][1],t:"n"},V>0&&(E.z=q[E.ixfe>>8&63]),Tf(E,t,r.opts.Date1904),O({c:Fe,r:oe.r},E,t)}break;case 6:case 518:case 1030:{if(oe.val=="String"){l=oe;break}if(E=_N(oe.val,oe.cell.ixfe,oe.tt),E.XF=N[E.ixfe],t.cellFormula){var ke=oe.formula;if(ke&&ke[0]&&ke[0][0]&&ke[0][0][0]=="PtgExp"){var Te=ke[0][0][1][0],Ze=ke[0][0][1][1],ze=Bn({r:Te,c:Ze});w[ze]?E.f=""+$l(oe.formula,a,oe.cell,X,M):E.F=((t.dense?(i[Te]||[])[Ze]:i[ze])||{}).F}else E.f=""+$l(oe.formula,a,oe.cell,X,M)}V>0&&(E.z=q[E.ixfe>>8&63]),Tf(E,t,r.opts.Date1904),O(oe.cell,E,t),l=oe}break;case 7:case 519:if(l)l.val=oe,E=_N(oe,l.cell.ixfe,"s"),E.XF=N[E.ixfe],t.cellFormula&&(E.f=""+$l(l.formula,a,l.cell,X,M)),V>0&&(E.z=q[E.ixfe>>8&63]),Tf(E,t,r.opts.Date1904),O(l.cell,E,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{_.push(oe);var Tt=Bn(oe[0].s);if(g=t.dense?(i[oe[0].s.r]||[])[oe[0].s.c]:i[Tt],t.cellFormula&&g){if(!l||!Tt||!g)break;g.f=""+$l(oe[1],a,oe[0],X,M),g.F=ei(oe[0])}}break;case 1212:{if(!t.cellFormula)break;if(A){if(!l)break;w[Bn(l.cell)]=oe[0],g=t.dense?(i[l.cell.r]||[])[l.cell.c]:i[Bn(l.cell)],(g||{}).f=""+$l(oe[0],a,h,X,M)}}break;case 253:E=_N(c[oe.isst].t,oe.ixfe,"s"),c[oe.isst].h&&(E.h=c[oe.isst].h),E.XF=N[E.ixfe],V>0&&(E.z=q[E.ixfe>>8&63]),Tf(E,t,r.opts.Date1904),O({c:oe.c,r:oe.r},E,t);break;case 513:t.sheetStubs&&(E={ixfe:oe.ixfe,XF:N[oe.ixfe],t:"z"},V>0&&(E.z=q[E.ixfe>>8&63]),Tf(E,t,r.opts.Date1904),O({c:oe.c,r:oe.r},E,t));break;case 190:if(t.sheetStubs)for(var Bt=oe.c;Bt<=oe.C;++Bt){var mt=oe.ixfe[Bt-oe.c];E={ixfe:mt,XF:N[mt],t:"z"},V>0&&(E.z=q[E.ixfe>>8&63]),Tf(E,t,r.opts.Date1904),O({c:Bt,r:oe.r},E,t)}break;case 214:case 516:case 4:E=_N(oe.val,oe.ixfe,"s"),E.XF=N[E.ixfe],V>0&&(E.z=q[E.ixfe>>8&63]),Tf(E,t,r.opts.Date1904),O({c:oe.c,r:oe.r},E,t);break;case 0:case 512:ve===1&&(a=oe);break;case 252:c=oe;break;case 1054:if(M.biff==4){q[V++]=oe[1];for(var _t=0;_t<V+163&&Tn[_t]!=oe[1];++_t);_t>=163&&gA(oe[1],V+163)}else gA(oe[1],oe[0]);break;case 30:{q[V++]=oe;for(var jt=0;jt<V+163&&Tn[jt]!=oe;++jt);jt>=163&&gA(oe,V+163)}break;case 229:K=K.concat(oe);break;case 93:Y[oe.cmo[0]]=M.lastobj=oe;break;case 438:M.lastobj.TxO=oe;break;case 127:M.lastobj.ImData=oe;break;case 440:for(y=oe[0].s.r;y<=oe[0].e.r;++y)for(x=oe[0].s.c;x<=oe[0].e.c;++x)g=t.dense?(i[y]||[])[x]:i[Bn({c:x,r:y})],g&&(g.l=oe[1]);break;case 2048:for(y=oe[0].s.r;y<=oe[0].e.r;++y)for(x=oe[0].s.c;x<=oe[0].e.c;++x)g=t.dense?(i[y]||[])[x]:i[Bn({c:x,r:y})],g&&g.l&&(g.l.Tooltip=oe[1]);break;case 28:{if(M.biff<=5&&M.biff>=2)break;g=t.dense?(i[oe[0].r]||[])[oe[0].c]:i[Bn(oe[0])];var or=Y[oe[2]];g||(t.dense?(i[oe[0].r]||(i[oe[0].r]=[]),g=i[oe[0].r][oe[0].c]={t:"z"}):g=i[Bn(oe[0])]={t:"z"},a.e.r=Math.max(a.e.r,oe[0].r),a.s.r=Math.min(a.s.r,oe[0].r),a.e.c=Math.max(a.e.c,oe[0].c),a.s.c=Math.min(a.s.c,oe[0].c)),g.c||(g.c=[]),v={a:oe[1],t:or.TxO.t},g.c.push(v)}break;case 2173:REt(N[oe.ixfe],oe.ext);break;case 125:{if(!M.cellStyles)break;for(;oe.e>=oe.s;)ne[oe.e--]={width:oe.w/256,level:oe.level||0,hidden:!!(oe.flags&1)},te||(te=!0,Q9(oe.w/256)),Tp(ne[oe.e+1])}break;case 520:{var St={};oe.level!=null&&(le[oe.r]=St,St.level=oe.level),oe.hidden&&(le[oe.r]=St,St.hidden=!0),oe.hpt&&(le[oe.r]=St,St.hpt=oe.hpt,St.hpx=fy(oe.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||im(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[_e]]=oe;break;case 161:i["!margins"]||im(i["!margins"]={}),i["!margins"].header=oe.header,i["!margins"].footer=oe.footer;break;case 574:oe.RTL&&(T.Views[0].RTL=!0);break;case 146:j=oe;break;case 2198:H=oe;break;case 140:I=oe;break;case 442:u?P.CodeName=oe||P.name:T.WBProps.CodeName=oe||"ThisWorkbook";break}}else ce||console.error("Missing Info for XLS Record 0x"+_e.toString(16)),e.l+=ye}return r.SheetNames=Fa(s).sort(function(at,Ut){return Number(at)-Number(Ut)}).map(function(at){return s[at].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&ee.forEach(function(at,Ut){r.Sheets[r.SheetNames[Ut]]["!autofilter"]=at}),r.Strings=c,r.SSF=Ws(Tn),M.enc&&(r.Encryption=M.enc),H&&(r.Themes=H),r.Metadata={},I!==void 0&&(r.Metadata.Country=I),X.names.length>0&&(T.Names=X.names),r.Workbook=T,r}var fb={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Z5t(e,t,r){var n=mn.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=NJ(n,cL,fb.DSI);for(var s in i)t[s]=i[s]}catch(u){if(r.WTF)throw u}var a=mn.find(e,"/!SummaryInformation");if(a&&a.size>0)try{var l=NJ(a,uL,fb.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(Ome(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function J5t(e,t){var r=[],n=[],i=[],s=0,a,l=nJ(cL,"n"),c=nJ(uL,"n");if(e.Props)for(a=Fa(e.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(l,a[s])?r:Object.prototype.hasOwnProperty.call(c,a[s])?n:i).push([a[s],e.Props[a[s]]]);if(e.Custprops)for(a=Fa(e.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(l,a[s])?r:Object.prototype.hasOwnProperty.call(c,a[s])?n:i).push([a[s],e.Custprops[a[s]]]);var u=[];for(s=0;s<i.length;++s)Qme.indexOf(i[s][0])>-1||Fme.indexOf(i[s][0])>-1||i[s][1]!=null&&u.push(i[s]);n.length&&mn.utils.cfb_add(t,"/SummaryInformation",TJ(n,fb.SI,c,uL)),(r.length||u.length)&&mn.utils.cfb_add(t,"/DocumentSummaryInformation",TJ(r,fb.DSI,l,cL,u.length?u:null,fb.UDI))}function L1e(e,t){t||(t={}),Y9(t),x9(),t.codepage&&m9(t.codepage);var r,n;if(e.FullPaths){if(mn.find(e,"/encryption"))throw new Error("File is password-protected");r=mn.find(e,"!CompObj"),n=mn.find(e,"/Workbook")||mn.find(e,"/Book")}else{switch(t.type){case"base64":e=Cu(Lu(e));break;case"binary":e=Cu(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}xl(e,0),n={content:e}}var i,s;if(r&&K5t(r),t.bookProps&&!t.bookSheets)i={};else{var a=di?"buffer":"array";if(n&&n.content)i=Y5t(n.content,t);else if((s=mn.find(e,"PerfectOffice_MAIN"))&&s.content)i=nm.to_workbook(s.content,(t.type=a,t));else if((s=mn.find(e,"NativeContent_MAIN"))&&s.content)i=nm.to_workbook(s.content,(t.type=a,t));else throw(s=mn.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&mn.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=fSt(e))}var l={};return e.FullPaths&&Z5t(e,l,t),i.Props=i.Custprops=l,t.bookFiles&&(i.cfb=e),i}function e3t(e,t){var r=t||{},n=mn.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return mn.utils.cfb_add(n,i,R1e(e,r)),r.biff==8&&(e.Props||e.Custprops)&&J5t(e,n),r.biff==8&&e.vbaraw&&hSt(n,mn.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var eE={0:{f:ENt},1:{f:jNt},2:{f:YNt},3:{f:UNt},4:{f:DNt},5:{f:KNt},6:{f:r4t},7:{f:VNt},8:{f:c4t},9:{f:l4t},10:{f:a4t},11:{f:o4t},12:{f:FNt},13:{f:JNt},14:{f:QNt},15:{f:RNt},16:{f:B1e},17:{f:i4t},18:{f:GNt},19:{f:j9},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:i5t},40:{},42:{},43:{f:rEt},44:{f:eEt},45:{f:sEt},46:{f:oEt},47:{f:aEt},48:{},49:{f:Nwt},50:{},51:{f:HEt},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Jme},62:{f:t4t},63:{f:XEt},64:{f:S4t},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Jl,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:w4t},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:INt},148:{f:NNt,p:16},151:{f:p4t},152:{},153:{f:t5t},154:{},155:{},156:{f:J4t},157:{},158:{},159:{T:1,f:m_t},160:{T:-1},161:{T:1,f:h1},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:u4t},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:MEt},336:{T:-1},337:{f:VEt,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:lL},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Zme},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:g4t},427:{f:m4t},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:v4t},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:BNt},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:h4t},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:lL},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:oSt},633:{T:1},634:{T:-1},635:{T:1,f:sSt},636:{T:-1},637:{f:kwt},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Q4t},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:C4t},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},gL={6:{f:bP},10:{f:t0},12:{f:ao},13:{f:ao},14:{f:Ha},15:{f:Ha},16:{f:Wl},17:{f:Ha},18:{f:Ha},19:{f:ao},20:{f:FJ},21:{f:FJ},23:{f:Zme},24:{f:DJ},25:{f:Ha},26:{},27:{},28:{f:Cbt},29:{},34:{f:Ha},35:{f:OJ},38:{f:Wl},39:{f:Wl},40:{f:Wl},41:{f:Wl},42:{f:Ha},43:{f:Ha},47:{f:R_t},49:{f:J2t},51:{f:ao},60:{},61:{f:K2t},64:{f:Ha},65:{f:Z2t},66:{f:ao},77:{},80:{},81:{},82:{},85:{f:ao},89:{},90:{},91:{},92:{f:L2t},93:{f:Bbt},94:{},95:{f:Ha},96:{},97:{},99:{f:Ha},125:{f:Jme},128:{f:Abt},129:{f:M2t},130:{f:ao},131:{f:Ha},132:{f:Ha},133:{f:U2t},134:{},140:{f:Lbt},141:{f:ao},144:{},146:{f:Ubt},151:{},152:{},153:{},154:{},155:{},156:{f:ao},157:{},158:{},160:{f:Wbt},161:{f:$bt},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:ubt},190:{f:dbt},193:{f:t0},197:{},198:{},199:{},200:{},201:{},202:{f:Ha},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ao},220:{},221:{f:Ha},222:{},224:{f:hbt},225:{f:D2t},226:{f:t0},227:{},229:{f:Nbt},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Q2t},253:{f:tbt},255:{f:V2t},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:$me},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Ha},353:{f:t0},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:vbt},431:{f:Ha},432:{},433:{},434:{},437:{},438:{f:jbt},439:{f:Ha},440:{f:Pbt},441:{},442:{f:oS},443:{},444:{f:ao},445:{},446:{},448:{f:t0},449:{f:W2t,r:2},450:{f:t0},512:{f:kJ},513:{f:Gbt},515:{f:mbt},516:{f:nbt},517:{f:PJ},519:{f:Kbt},520:{f:z2t},523:{},545:{f:LJ},549:{f:IJ},566:{},574:{f:X2t},638:{f:cbt},659:{},1048:{},1054:{f:sbt},1084:{},1212:{f:_bt},2048:{f:Obt},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:yN},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:t0},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Hbt,r:12},2173:{f:LEt,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Ha,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:bbt,r:12},2197:{},2198:{f:kEt,r:12},2199:{},2200:{},2201:{},2202:{f:Ebt,r:12},2203:{f:t0},2204:{},2205:{},2206:{},2207:{},2211:{f:G2t},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ao},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Vbt},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Mbt},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:kJ},1:{},2:{f:Jbt},3:{f:Ybt},4:{f:Xbt},5:{f:PJ},7:{f:t_t},8:{},9:{f:yN},11:{},22:{f:ao},30:{f:obt},31:{},32:{},33:{f:LJ},36:{},37:{f:IJ},50:{f:r_t},62:{},52:{},67:{},68:{f:ao},69:{},86:{},126:{},127:{f:qbt},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:n_t},223:{},234:{},354:{},421:{},518:{f:bP},521:{f:yN},536:{f:DJ},547:{f:OJ},561:{},579:{},1030:{f:bP},1033:{f:yN},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Tr(e,t,r,n){var i=t;if(!isNaN(i)){var s=n||(r||[]).length||0,a=e.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&B9(r)&&e.push(r)}}function t3t(e,t,r,n){var i=(r||[]).length||0;if(i<=8224)return Tr(e,t,r,i);var s=t;if(!isNaN(s)){for(var a=r.parts||[],l=0,c=0,u=0;u+(a[l]||8224)<=8224;)u+=a[l]||8224,l++;var d=e.next(4);for(d.write_shift(2,s),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<i;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(a[l]||8224)<=8224;)u+=a[l]||8224,l++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function dS(e,t,r){return e||(e=Ft(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function r3t(e,t,r,n){var i=Ft(9);return dS(i,e,t),Vme(r,n||"b",i),i}function n3t(e,t,r){var n=Ft(8+2*r.length);return dS(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function i3t(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var i=t.t=="d"?Do(Gs(t.v)):t.v;i==(i|0)&&i>=0&&i<65536?Tr(e,2,e_t(r,n,i)):Tr(e,3,Zbt(r,n,i));return;case"b":case"e":Tr(e,5,r3t(r,n,t.v,t.t));return;case"s":case"str":Tr(e,4,n3t(r,n,(t.v||"").slice(0,255)));return}Tr(e,1,dS(null,r,n))}function s3t(e,t,r,n){var i=Array.isArray(t),s=Ri(t["!ref"]||"A1"),a,l="",c=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=ei(s)}for(var u=s.s.r;u<=s.e.r;++u){l=Ya(u);for(var d=s.s.c;d<=s.e.c;++d){u===s.s.r&&(c[d]=pa(d)),a=c[d]+l;var h=i?(t[u]||[])[d]:t[a];h&&i3t(e,h,u,d)}}}function a3t(e,t){for(var r=t||{},n=Zc(),i=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==r.sheet&&(i=s);if(i==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Tr(n,r.biff==4?1033:r.biff==3?521:9,M9(e,16,r)),s3t(n,e.Sheets[e.SheetNames[i]],i,r),Tr(n,10),n.end()}function o3t(e,t,r){Tr(e,49,ebt({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function l3t(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&Tr(e,1054,abt(i,t[i],r))})}function c3t(e,t){var r=Ft(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Tr(e,2151,r),r=Ft(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),qme(Ri(t["!ref"]||"A1"),r),r.write_shift(4,4),Tr(e,2152,r)}function u3t(e,t){for(var r=0;r<16;++r)Tr(e,224,jJ({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Tr(e,224,jJ(n,0,t))})}function d3t(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Tr(e,440,Fbt(n)),n[1].Tooltip&&Tr(e,2048,Dbt(n))}delete t["!links"]}function f3t(e,t){if(t){var r=0;t.forEach(function(n,i){++r<=256&&n&&Tr(e,125,Qbt(ok(i,n),i))})}}function h3t(e,t,r,n,i){var s=16+Zp(i.cellXfs,t,i);if(t.v==null&&!t.bf){Tr(e,513,Dm(r,n,s));return}if(t.bf)Tr(e,6,MCt(t,r,n,i,s));else switch(t.t){case"d":case"n":var a=t.t=="d"?Do(Gs(t.v)):t.v;Tr(e,515,xbt(r,n,a,s));break;case"b":case"e":Tr(e,517,gbt(r,n,t.v,s,i,t.t));break;case"s":case"str":if(i.bookSST){var l=W9(i.Strings,t.v,i.revStrings);Tr(e,253,rbt(r,n,l,s))}else Tr(e,516,ibt(r,n,(t.v||"").slice(0,255),s,i));break;default:Tr(e,513,Dm(r,n,s))}}function A3t(e,t,r){var n=Zc(),i=r.SheetNames[e],s=r.Sheets[i]||{},a=(r||{}).Workbook||{},l=(a.Sheets||[])[e]||{},c=Array.isArray(s),u=t.biff==8,d,h="",A=[],g=Ri(s["!ref"]||"A1"),v=u?65536:16384;if(g.e.c>255||g.e.r>=v){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");g.e.c=Math.min(g.e.c,255),g.e.r=Math.min(g.e.c,v-1)}Tr(n,2057,M9(r,16,t)),Tr(n,13,nd(1)),Tr(n,12,nd(100)),Tr(n,15,hc(!0)),Tr(n,17,hc(!1)),Tr(n,16,Fm(.001)),Tr(n,95,hc(!0)),Tr(n,42,hc(!1)),Tr(n,43,hc(!1)),Tr(n,130,nd(1)),Tr(n,128,pbt()),Tr(n,131,hc(!1)),Tr(n,132,hc(!1)),u&&f3t(n,s["!cols"]),Tr(n,512,lbt(g,t)),u&&(s["!links"]=[]);for(var x=g.s.r;x<=g.e.r;++x){h=Ya(x);for(var y=g.s.c;y<=g.e.c;++y){x===g.s.r&&(A[y]=pa(y)),d=A[y]+h;var w=c?(s[x]||[])[y]:s[d];w&&(h3t(n,w,x,y,t),u&&w.l&&s["!links"].push([d,w.l]))}}var _=l.CodeName||l.name||i;return u&&Tr(n,574,Y2t((a.Views||[])[0])),u&&(s["!merges"]||[]).length&&Tr(n,229,Tbt(s["!merges"])),u&&d3t(n,s),Tr(n,442,zme(_)),u&&c3t(n,s),Tr(n,10),n.end()}function p3t(e,t,r){var n=Zc(),i=(e||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},l=r.biff==8,c=r.biff==5;if(Tr(n,2057,M9(e,5,r)),r.bookType=="xla"&&Tr(n,135),Tr(n,225,l?nd(1200):null),Tr(n,193,g2t(2)),c&&Tr(n,191),c&&Tr(n,192),Tr(n,226),Tr(n,92,R2t("SheetJS",r)),Tr(n,66,nd(l?1200:1252)),l&&Tr(n,353,nd(0)),l&&Tr(n,448),Tr(n,317,zbt(e.SheetNames.length)),l&&e.vbaraw&&Tr(n,211),l&&e.vbaraw){var u=a.CodeName||"ThisWorkbook";Tr(n,442,zme(u))}Tr(n,156,nd(17)),Tr(n,25,hc(!1)),Tr(n,18,hc(!1)),Tr(n,19,nd(0)),l&&Tr(n,431,hc(!1)),l&&Tr(n,444,nd(0)),Tr(n,61,q2t()),Tr(n,64,hc(!1)),Tr(n,141,nd(0)),Tr(n,34,hc(W4t(e)=="true")),Tr(n,14,hc(!0)),l&&Tr(n,439,hc(!1)),Tr(n,218,nd(0)),o3t(n,e,r),l3t(n,e.SSF,r),u3t(n,r),l&&Tr(n,352,hc(!1));var d=n.end(),h=Zc();l&&Tr(h,140,Rbt()),l&&r.Strings&&t3t(h,252,$2t(r.Strings)),Tr(h,10);var A=h.end(),g=Zc(),v=0,x=0;for(x=0;x<e.SheetNames.length;++x)v+=(l?12:11)+(l?2:1)*e.SheetNames[x].length;var y=d.length+v+A.length;for(x=0;x<e.SheetNames.length;++x){var w=s[x]||{};Tr(g,133,H2t({pos:y,hs:w.Hidden||0,dt:0,name:e.SheetNames[x]},r)),y+=t[x].length}var _=g.end();if(v!=_.length)throw new Error("BS8 "+v+" != "+_.length);var E=[];return d.length&&E.push(d),_.length&&E.push(_),A.length&&E.push(A),tl(E)}function g3t(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Ws(Tn)),e&&e.SSF&&(sw(),ek(e.SSF),r.revssf=rk(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Z9(r),r.cellXfs=[],Zp(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)n[n.length]=A3t(i,r,e);return n.unshift(p3t(e,n,r)),tl(n)}function R1e(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var i=Jc(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return g3t(e,t);case 4:case 3:case 2:return a3t(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function WJ(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var i=e.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),a=i.index,l=s&&s.index||e.length,c=ewt(e.slice(a,l),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,h=0,A=0,g={s:{r:1e7,c:1e7},e:{r:0,c:0}},v=[];for(a=0;a<c.length;++a){var x=c[a].trim(),y=x.slice(0,3).toLowerCase();if(y=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(y!="<td"&&y!="<th")){var w=x.split(/<\/t[dh]>/i);for(l=0;l<w.length;++l){var _=w[l].trim();if(_.match(/<t[dh]/i)){for(var E=_,I=0;E.charAt(0)=="<"&&(I=E.indexOf(">"))>-1;)E=E.slice(I+1);for(var N=0;N<v.length;++N){var j=v[N];j.s.c==d&&j.s.r<u&&u<=j.e.r&&(d=j.e.c+1,N=-1)}var T=Fn(_.slice(0,_.indexOf(">")));A=T.colspan?+T.colspan:1,((h=+T.rowspan)>1||A>1)&&v.push({s:{r:u,c:d},e:{r:u+(h||1)-1,c:d+A-1}});var P=T.t||T["data-t"]||"";if(!E.length){d+=A;continue}if(E=lme(E),g.s.r>u&&(g.s.r=u),g.e.r<u&&(g.e.r=u),g.s.c>d&&(g.s.c=d),g.e.c<d&&(g.e.c=d),!E.length){d+=A;continue}var k={t:"s",v:E};r.raw||!E.trim().length||P=="s"||(E==="TRUE"?k={t:"b",v:!0}:E==="FALSE"?k={t:"b",v:!1}:isNaN(df(E))?isNaN(uy(E).getDate())||(k={t:"d",v:Gs(E)},r.cellDates||(k={t:"n",v:Do(k.v)}),k.z=r.dateNF||Tn[14]):k={t:"n",v:df(E)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=k):n[Bn({r:u,c:d})]=k,d+=A}}}}return n["!ref"]=ei(g),v.length&&(n["!merges"]=v),n}function m3t(e,t,r,n){for(var i=e["!merges"]||[],s=[],a=t.s.c;a<=t.e.c;++a){for(var l=0,c=0,u=0;u<i.length;++u)if(!(i[u].s.r>r||i[u].s.c>a)&&!(i[u].e.r<r||i[u].e.c<a)){if(i[u].s.r<r||i[u].s.c<a){l=-1;break}l=i[u].e.r-i[u].s.r+1,c=i[u].e.c-i[u].s.c+1;break}if(!(l<0)){var d=Bn({r,c:a}),h=n.dense?(e[r]||[])[a]:e[d],A=h&&h.v!=null&&(h.h||C9(h.w||(jA(h),h.w)||""))||"",g={};l>1&&(g.rowspan=l),c>1&&(g.colspan=c),n.editable?A='<span contenteditable="true">'+A+"</span>":h&&(g["data-t"]=h&&h.t||"z",h.v!=null&&(g["data-v"]=h.v),h.z!=null&&(g["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(A='<a href="'+h.l.Target+'">'+A+"</a>")),g.id=(n.id||"sjs")+"-"+d,s.push(Nr("td",A,g))}}var v="<tr>";return v+s.join("")+"</tr>"}var x3t='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',v3t="</body></html>";function y3t(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Yp(WJ(r[0],t),t);var n=tH();return r.forEach(function(i,s){rH(n,WJ(i,t),"Sheet"+(s+1))}),n}function w3t(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function M1e(e,t){var r=t||{},n=r.header!=null?r.header:x3t,i=r.footer!=null?r.footer:v3t,s=[n],a=Jc(e["!ref"]);r.dense=Array.isArray(e),s.push(w3t(e,a,r));for(var l=a.s.r;l<=a.e.r;++l)s.push(m3t(e,a,l,r));return s.push("</table>"+i),s.join("")}function U1e(e,t,r){var n=r||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var a=typeof n.origin=="string"?ga(n.origin):n.origin;i=a.r,s=a.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:i,c:s}};if(e["!ref"]){var d=Jc(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),i==-1&&(u.e.r=i=d.e.r+1)}var h=[],A=0,g=e["!rows"]||(e["!rows"]=[]),v=0,x=0,y=0,w=0,_=0,E=0;for(e["!cols"]||(e["!cols"]=[]);v<l.length&&x<c;++v){var I=l[v];if(KJ(I)){if(n.display)continue;g[x]={hidden:!0}}var N=I.children;for(y=w=0;y<N.length;++y){var j=N[y];if(!(n.display&&KJ(j))){var T=j.hasAttribute("data-v")?j.getAttribute("data-v"):j.hasAttribute("v")?j.getAttribute("v"):lme(j.innerHTML),P=j.getAttribute("data-z")||j.getAttribute("z");for(A=0;A<h.length;++A){var k=h[A];k.s.c==w+s&&k.s.r<x+i&&x+i<=k.e.r&&(w=k.e.c+1-s,A=-1)}E=+j.getAttribute("colspan")||1,((_=+j.getAttribute("rowspan")||1)>1||E>1)&&h.push({s:{r:x+i,c:w+s},e:{r:x+i+(_||1)-1,c:w+s+(E||1)-1}});var R={t:"s",v:T},O=j.getAttribute("data-t")||j.getAttribute("t")||"";T!=null&&(T.length==0?R.t=O||"z":n.raw||T.trim().length==0||O=="s"||(T==="TRUE"?R={t:"b",v:!0}:T==="FALSE"?R={t:"b",v:!1}:isNaN(df(T))?isNaN(uy(T).getDate())||(R={t:"d",v:Gs(T)},n.cellDates||(R={t:"n",v:Do(R.v)}),R.z=n.dateNF||Tn[14]):R={t:"n",v:df(T)})),R.z===void 0&&P!=null&&(R.z=P);var M="",H=j.getElementsByTagName("A");if(H&&H.length)for(var K=0;K<H.length&&!(H[K].hasAttribute("href")&&(M=H[K].getAttribute("href"),M.charAt(0)!="#"));++K);M&&M.charAt(0)!="#"&&(R.l={Target:M}),n.dense?(e[x+i]||(e[x+i]=[]),e[x+i][w+s]=R):e[Bn({c:w+s,r:x+i})]=R,u.e.c<w+s&&(u.e.c=w+s),w+=E}}++x}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),u.e.r=Math.max(u.e.r,x-1+i),e["!ref"]=ei(u),x>=c&&(e["!fullref"]=ei((u.e.r=l.length-v+x-1+i,u))),e}function H1e(e,t){var r=t||{},n=r.dense?[]:{};return U1e(n,e,t)}function b3t(e,t){return Yp(H1e(e,t),t)}function KJ(e){var t="",r=_3t(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function _3t(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function E3t(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Li(t.replace(/<[^>]*>/g,""));return[r]}var qJ={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function Q1e(e,t){var r=t||{},n=N9(e),i=[],s,a,l={name:""},c="",u=0,d,h,A={},g=[],v=r.dense?[]:{},x,y,w={value:""},_="",E=0,I=[],N=-1,j=-1,T={s:{r:1e6,c:1e7},e:{r:0,c:0}},P=0,k={},R=[],O={},M=0,H=0,K=[],Y=1,ne=1,le=[],te={Names:[]},X={},ue=["",""],ve=[],V={},q="",ee=0,re=!1,de=!1,Ae=0;for(K_.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");x=K_.exec(n);)switch(x[3]=x[3].replace(/_.*$/,"")){case"table":case"":x[1]==="/"?(T.e.c>=T.s.c&&T.e.r>=T.s.r?v["!ref"]=ei(T):v["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=T.e.r&&(v["!fullref"]=v["!ref"],T.e.r=r.sheetRows-1,v["!ref"]=ei(T)),R.length&&(v["!merges"]=R),K.length&&(v["!rows"]=K),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),g.push(d.name),A[d.name]=v,de=!1):x[0].charAt(x[0].length-2)!=="/"&&(d=Fn(x[0],!1),N=j=-1,T.s.r=T.s.c=1e7,T.e.r=T.e.c=0,v=r.dense?[]:{},R=[],K=[],de=!0);break;case"table-row-group":x[1]==="/"?--P:++P;break;case"table-row":case"":if(x[1]==="/"){N+=Y,Y=1;break}if(h=Fn(x[0],!1),h.?N=h.-1:N==-1&&(N=0),Y=+h["number-rows-repeated"]||1,Y<10)for(Ae=0;Ae<Y;++Ae)P>0&&(K[N+Ae]={level:P});j=-1;break;case"covered-table-cell":x[1]!=="/"&&++j,r.sheetStubs&&(r.dense?(v[N]||(v[N]=[]),v[N][j]={t:"z"}):v[Bn({r:N,c:j})]={t:"z"}),_="",I=[];break;case"table-cell":case"":if(x[0].charAt(x[0].length-2)==="/")++j,w=Fn(x[0],!1),ne=parseInt(w["number-columns-repeated"]||"1",10),y={t:"z",v:null},w.formula&&r.cellFormula!=!1&&(y.f=VJ(Li(w.formula))),(w.||w["value-type"])=="string"&&(y.t="s",y.v=Li(w["string-value"]||""),r.dense?(v[N]||(v[N]=[]),v[N][j]=y):v[Bn({r:N,c:j})]=y),j+=ne-1;else if(x[1]!=="/"){++j,_="",E=0,I=[],ne=1;var _e=Y?N+Y-1:N;if(j>T.e.c&&(T.e.c=j),j<T.s.c&&(T.s.c=j),N<T.s.r&&(T.s.r=N),_e>T.e.r&&(T.e.r=_e),w=Fn(x[0],!1),ve=[],V={},y={t:w.||w["value-type"],v:null},r.cellFormula)if(w.formula&&(w.formula=Li(w.formula)),w["number-matrix-columns-spanned"]&&w["number-matrix-rows-spanned"]&&(M=parseInt(w["number-matrix-rows-spanned"],10)||0,H=parseInt(w["number-matrix-columns-spanned"],10)||0,O={s:{r:N,c:j},e:{r:N+M-1,c:j+H-1}},y.F=ei(O),le.push([O,y.F])),w.formula)y.f=VJ(w.formula);else for(Ae=0;Ae<le.length;++Ae)N>=le[Ae][0].s.r&&N<=le[Ae][0].e.r&&j>=le[Ae][0].s.c&&j<=le[Ae][0].e.c&&(y.F=le[Ae][1]);switch((w["number-columns-spanned"]||w["number-rows-spanned"])&&(M=parseInt(w["number-rows-spanned"],10)||0,H=parseInt(w["number-columns-spanned"],10)||0,O={s:{r:N,c:j},e:{r:N+M-1,c:j+H-1}},R.push(O)),w["number-columns-repeated"]&&(ne=parseInt(w["number-columns-repeated"],10)),y.t){case"boolean":y.t="b",y.v=$s(w["boolean-value"]);break;case"float":y.t="n",y.v=parseFloat(w.value);break;case"percentage":y.t="n",y.v=parseFloat(w.value);break;case"currency":y.t="n",y.v=parseFloat(w.value);break;case"date":y.t="d",y.v=Gs(w["date-value"]),r.cellDates||(y.t="n",y.v=Do(y.v)),y.z="m/d/yy";break;case"time":y.t="n",y.v=Yyt(w["time-value"])/86400,r.cellDates&&(y.t="d",y.v=nk(y.v)),y.z="HH:MM:SS";break;case"number":y.t="n",y.v=parseFloat(w.);break;default:if(y.t==="string"||y.t==="text"||!y.t)y.t="s",w["string-value"]!=null&&(_=Li(w["string-value"]),I=[]);else throw new Error("Unsupported value type "+y.t)}}else{if(re=!1,y.t==="s"&&(y.v=_||"",I.length&&(y.R=I),re=E==0),X.Target&&(y.l=X),ve.length>0&&(y.c=ve,ve=[]),_&&r.cellText!==!1&&(y.w=_),re&&(y.t="z",delete y.v),(!re||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=N))for(var ye=0;ye<Y;++ye){if(ne=parseInt(w["number-columns-repeated"]||"1",10),r.dense)for(v[N+ye]||(v[N+ye]=[]),v[N+ye][j]=ye==0?y:Ws(y);--ne>0;)v[N+ye][j+ne]=Ws(y);else for(v[Bn({r:N+ye,c:j})]=y;--ne>0;)v[Bn({r:N+ye,c:j+ne})]=Ws(y);T.e.c<=j&&(T.e.c=j)}ne=parseInt(w["number-columns-repeated"]||"1",10),j+=ne-1,ne=0,y={},_="",I=[]}X={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(x[1]==="/"){if((s=i.pop())[0]!==x[3])throw"Bad state: "+s}else x[0].charAt(x[0].length-2)!=="/"&&i.push([x[3],!0]);break;case"annotation":if(x[1]==="/"){if((s=i.pop())[0]!==x[3])throw"Bad state: "+s;V.t=_,I.length&&(V.R=I),V.a=q,ve.push(V)}else x[0].charAt(x[0].length-2)!=="/"&&i.push([x[3],!1]);q="",ee=0,_="",E=0,I=[];break;case"creator":x[1]==="/"?q=n.slice(ee,x.index):ee=x.index+x[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(x[1]==="/"){if((s=i.pop())[0]!==x[3])throw"Bad state: "+s}else x[0].charAt(x[0].length-2)!=="/"&&i.push([x[3],!1]);_="",E=0,I=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(x[1]==="/"){if(k[l.name]=c,(s=i.pop())[0]!==x[3])throw"Bad state: "+s}else x[0].charAt(x[0].length-2)!=="/"&&(c="",l=Fn(x[0],!1),i.push([x[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":a=Fn(x[0],!1),c+=qJ[x[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":a=Fn(x[0],!1),c+=qJ[x[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(x[0].slice(-2)==="/>")break;if(x[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,x.index);break}else u=x.index+x[0].length;break;case"named-range":a=Fn(x[0],!1),ue=_P(a["cell-range-address"]);var ce={Name:a.name,Ref:ue[0]+"!"+ue[1]};de&&(ce.Sheet=g.length),te.Names.push(ce);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(x[1]==="/"&&(!w||!w["string-value"])){var Ne=E3t(n.slice(E,x.index));_=(_.length>0?_+`
`:"")+Ne[0]}else Fn(x[0],!1),E=x.index+x[0].length;break;case"s":break;case"database-range":if(x[1]==="/")break;try{ue=_P(Fn(x[0])["target-range-address"]),A[ue[0]]["!autofilter"]={ref:ue[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(x[1]!=="/"){if(X=Fn(x[0],!1),!X.href)break;X.Target=Li(X.href),delete X.href,X.Target.charAt(0)=="#"&&X.Target.indexOf(".")>-1?(ue=_P(X.Target.slice(1)),X.Target="#"+ue[0]+"!"+ue[1]):X.Target.match(/^\.\.[\\\/]/)&&(X.Target=X.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(x[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(x)}}var oe={Sheets:A,SheetNames:g,Workbook:te};return r.bookSheets&&delete oe.Sheets,oe}function XJ(e,t){t=t||{},td(e,"META-INF/manifest.xml")&&Ywt(so(e,"META-INF/manifest.xml"),t);var r=Nu(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=Q1e(gs(r),t);return td(e,"meta.xml")&&(n.Props=jme(so(e,"meta.xml"))),n}function YJ(e,t){return Q1e(e,t)}var S3t=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+W_({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Za+t}}(),ZJ=function(){var e=function(s){return cs(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,a,l){var c=[];c.push('      <table:table table:name="'+cs(a.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,d=0,h=Jc(s["!ref"]||"A1"),A=s["!merges"]||[],g=0,v=Array.isArray(s);if(s["!cols"])for(d=0;d<=h.e.c;++d)c.push("        <table:table-column"+(s["!cols"][d]?' table:style-name="co'+s["!cols"][d].ods+'"':"")+`></table:table-column>
`);var x="",y=s["!rows"]||[];for(u=0;u<h.s.r;++u)x=y[u]?' table:style-name="ro'+y[u].ods+'"':"",c.push("        <table:table-row"+x+`></table:table-row>
`);for(;u<=h.e.r;++u){for(x=y[u]?' table:style-name="ro'+y[u].ods+'"':"",c.push("        <table:table-row"+x+`>
`),d=0;d<h.s.c;++d)c.push(t);for(;d<=h.e.c;++d){var w=!1,_={},E="";for(g=0;g!=A.length;++g)if(!(A[g].s.c>d)&&!(A[g].s.r>u)&&!(A[g].e.c<d)&&!(A[g].e.r<u)){(A[g].s.c!=d||A[g].s.r!=u)&&(w=!0),_["table:number-columns-spanned"]=A[g].e.c-A[g].s.c+1,_["table:number-rows-spanned"]=A[g].e.r-A[g].s.r+1;break}if(w){c.push(r);continue}var I=Bn({r:u,c:d}),N=v?(s[u]||[])[d]:s[I];if(N&&N.f&&(_["table:formula"]=cs(zCt(N.f)),N.F&&N.F.slice(0,I.length)==I)){var j=Jc(N.F);_["table:number-matrix-columns-spanned"]=j.e.c-j.s.c+1,_["table:number-matrix-rows-spanned"]=j.e.r-j.s.r+1}if(!N){c.push(t);continue}switch(N.t){case"b":E=N.v?"TRUE":"FALSE",_["office:value-type"]="boolean",_["office:boolean-value"]=N.v?"true":"false";break;case"n":E=N.w||String(N.v||0),_["office:value-type"]="float",_["office:value"]=N.v||0;break;case"s":case"str":E=N.v==null?"":N.v,_["office:value-type"]="string";break;case"d":E=N.w||Gs(N.v).toISOString(),_["office:value-type"]="date",_["office:date-value"]=Gs(N.v).toISOString(),_["table:style-name"]="ce1";break;default:c.push(t);continue}var T=e(E);if(N.l&&N.l.Target){var P=N.l.Target;P=P.charAt(0)=="#"?"#"+GCt(P.slice(1)):P,P.charAt(0)!="#"&&!P.match(/^\w+:/)&&(P="../"+P),T=Nr("text:a",T,{"xlink:href":P.replace(/&/g,"&amp;")})}c.push("          "+Nr("table:table-cell",Nr("text:p",T,{}),_)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var l=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var h=u["!cols"][d];if(h.width==null&&h.wpx==null&&h.wch==null)continue;Tp(h),h.ods=l;var A=u["!cols"][d].wpx+"px";s.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+A+`"/>
`),s.push(`  </style:style>
`),++l}}});var c=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var h=u["!rows"][d].hpx+"px";s.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),s.push(`  </style:style>
`),++c}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,l){var c=[Za],u=W_({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=W_({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(kme().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),i(c,a),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var h=0;h!=a.SheetNames.length;++h)c.push(n(a.Sheets[a.SheetNames[h]],a,h));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function $1e(e,t){if(t.bookType=="fods")return ZJ(e,t);var r=_9(),n="",i=[],s=[];return n="mimetype",ai(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",ai(r,n,ZJ(e,t)),i.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",ai(r,n,S3t(e,t)),i.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",ai(r,n,Za+kme()),i.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",ai(r,n,e2t(s)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",ai(r,n,Zwt(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Lm(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function mL(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):gs(Xp(e))}function C3t(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Cu(qf(e))}function N3t(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Ip(e){var t=e.reduce(function(i,s){return i+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(i){r.set(i,n),n+=i.length}),r}function JJ(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function T3t(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,i=t+13;i>=t;--i)n=n*256+e[i];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function B3t(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var s=0;i>=1;++s,i/=256)e[t+s]=i&255;e[t+15]|=r>=0?0:128}function tE(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function as(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Pa(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function $i(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],i=tE(e,r),s=i&7;i=Math.floor(i/8);var a=0,l;if(i==0)break;switch(s){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:a=4,l=e.slice(r[0],r[0]+a),r[0]+=a;break;case 1:a=8,l=e.slice(r[0],r[0]+a),r[0]+=a;break;case 2:a=tE(e,r),l=e.slice(r[0],r[0]+a),r[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var u={data:l,type:s};t[i]==null?t[i]=[u]:t[i].push(u)}return t}function dl(e){var t=[];return e.forEach(function(r,n){r.forEach(function(i){i.data&&(t.push(as(n*8+i.type)),i.type==2&&t.push(as(i.data.length)),t.push(i.data))})}),Ip(t)}function X9(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function Yu(e){for(var t,r=[],n=[0];n[0]<e.length;){var i=tE(e,n),s=$i(e.slice(n[0],n[0]+i));n[0]+=i;var a={id:Pa(s[1][0].data),messages:[]};s[2].forEach(function(l){var c=$i(l.data),u=Pa(c[3][0].data);a.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=s[3])!=null&&t[0]&&(a.merge=Pa(s[3][0].data)>>>0>0),r.push(a)}return r}function L1(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:as(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:as(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:as(a.data.length)}],n[2].push({data:dl(a.meta),type:2})});var s=dl(n);t.push(as(s.length)),t.push(s),i.forEach(function(a){return t.push(a)})}),Ip(t)}function I3t(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=tE(t,r),i=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var a=t[r[0]++]>>2;if(a<60)++a;else{var l=a-59;a=t[r[0]],l>1&&(a|=t[r[0]+1]<<8),l>2&&(a|=t[r[0]+2]<<16),l>3&&(a|=t[r[0]+3]<<24),a>>>=0,a++,r[0]+=l}i.push(t.slice(r[0],r[0]+a)),r[0]+=a;continue}else{var c=0,u=0;if(s==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,s==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),i=[Ip(i)],c==0)throw new Error("Invalid offset 0");if(c>i[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(i.push(i[0].slice(-c)),u-=c;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-c,-c+u))}}var d=Ip(i);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function Zu(e){for(var t=[],r=0;r<e.length;){var n=e[r++],i=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(I3t(n,e.slice(r,r+i))),r+=i}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Ip(t)}function R1(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),i=new Uint8Array(4);t.push(i);var s=as(n),a=s.length;t.push(s),n<=60?(a++,t.push(new Uint8Array([n-1<<2]))):n<=256?(a+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(a+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(a+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(a+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),a+=n,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,r+=n}return Ip(t)}function k3t(e,t,r,n){var i=Lm(e),s=i.getUint32(4,!0),a=(n>1?12:8)+JJ(s&(n>1?3470:398))*4,l=-1,c=-1,u=NaN,d=new Date(2001,0,1);s&512&&(l=i.getUint32(a,!0),a+=4),a+=JJ(s&(n>1?12288:4096))*4,s&16&&(c=i.getUint32(a,!0),a+=4),s&32&&(u=i.getFloat64(a,!0),a+=8),s&64&&(d.setTime(d.getTime()+i.getFloat64(a,!0)*1e3),a+=8);var h;switch(e[2]){case 0:break;case 2:h={t:"n",v:u};break;case 3:h={t:"s",v:t[c]};break;case 5:h={t:"d",v:d};break;case 6:h={t:"b",v:u>0};break;case 7:h={t:"n",v:u/86400};break;case 8:h={t:"e",v:0};break;case 9:if(l>-1)h={t:"s",v:r[l]};else if(c>-1)h={t:"s",v:t[c]};else if(!isNaN(u))h={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return h}function j3t(e,t,r){var n=Lm(e),i=n.getUint32(8,!0),s=12,a=-1,l=-1,c=NaN,u=NaN,d=new Date(2001,0,1);i&1&&(c=T3t(e,s),s+=16),i&2&&(u=n.getFloat64(s,!0),s+=8),i&4&&(d.setTime(d.getTime()+n.getFloat64(s,!0)*1e3),s+=8),i&8&&(l=n.getUint32(s,!0),s+=4),i&16&&(a=n.getUint32(s,!0),s+=4);var h;switch(e[1]){case 0:break;case 2:h={t:"n",v:c};break;case 3:h={t:"s",v:t[l]};break;case 5:h={t:"d",v:d};break;case 6:h={t:"b",v:u>0};break;case 7:h={t:"n",v:u/86400};break;case 8:h={t:"e",v:0};break;case 9:if(a>-1)h={t:"s",v:r[a]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)));break;case 10:h={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)))}return h}function SP(e,t){var r=new Uint8Array(32),n=Lm(r),i=12,s=0;switch(r[0]=5,e.t){case"n":r[1]=2,B3t(r,i,e.v),s|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,e.v?1:0,!0),s|=2,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(i,t.indexOf(e.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,s,!0),r.slice(0,i)}function CP(e,t){var r=new Uint8Array(32),n=Lm(r),i=12,s=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(i,e.v,!0),s|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,e.v?1:0,!0),s|=32,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(i,t.indexOf(e.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,s,!0),r.slice(0,i)}function P3t(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return k3t(e,t,r,e[0]);case 5:return j3t(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Hl(e){var t=$i(e);return tE(t[1][0].data)}function eee(e,t){var r=$i(t.data),n=Pa(r[1][0].data),i=r[3],s=[];return(i||[]).forEach(function(a){var l=$i(a.data),c=Pa(l[1][0].data)>>>0;switch(n){case 1:s[c]=mL(l[3][0].data);break;case 8:{var u=e[Hl(l[9][0].data)][0],d=$i(u.data),h=e[Hl(d[1][0].data)][0],A=Pa(h.meta[1][0].data);if(A!=2001)throw new Error("2000 unexpected reference to ".concat(A));var g=$i(h.data);s[c]=g[3].map(function(v){return mL(v.data)}).join("")}break}}),s}function F3t(e,t){var r,n,i,s,a,l,c,u,d,h,A,g,v,x,y=$i(e),w=Pa(y[1][0].data)>>>0,_=Pa(y[2][0].data)>>>0,E=((n=(r=y[8])==null?void 0:r[0])==null?void 0:n.data)&&Pa(y[8][0].data)>0||!1,I,N;if((s=(i=y[7])==null?void 0:i[0])!=null&&s.data&&t!=0)I=(l=(a=y[7])==null?void 0:a[0])==null?void 0:l.data,N=(u=(c=y[6])==null?void 0:c[0])==null?void 0:u.data;else if((h=(d=y[4])==null?void 0:d[0])!=null&&h.data&&t!=1)I=(g=(A=y[4])==null?void 0:A[0])==null?void 0:g.data,N=(x=(v=y[3])==null?void 0:v[0])==null?void 0:x.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var j=E?4:1,T=Lm(I),P=[],k=0;k<I.length/2;++k){var R=T.getUint16(k*2,!0);R<65535&&P.push([k,R])}if(P.length!=_)throw"Expected ".concat(_," cells, found ").concat(P.length);var O=[];for(k=0;k<P.length-1;++k)O[P[k][0]]=N.subarray(P[k][1]*j,P[k+1][1]*j);return P.length>=1&&(O[P[P.length-1][0]]=N.subarray(P[P.length-1][1]*j)),{R:w,cells:O}}function O3t(e,t){var r,n=$i(t.data),i=(r=n==null?void 0:n[7])!=null&&r[0]?Pa(n[7][0].data)>>>0>0?1:0:-1,s=X9(n[5],function(a){return F3t(a,i)});return{nrows:Pa(n[4][0].data)>>>0,data:s.reduce(function(a,l){return a[l.R]||(a[l.R]=[]),l.cells.forEach(function(c,u){if(a[l.R][u])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(u));a[l.R][u]=c}),a},[])}}function D3t(e,t,r){var n,i=$i(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Pa(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(Pa(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));r["!ref"]=ei(s);var a=$i(i[4][0].data),l=eee(e,e[Hl(a[4][0].data)][0]),c=(n=a[17])!=null&&n[0]?eee(e,e[Hl(a[17][0].data)][0]):[],u=$i(a[3][0].data),d=0;u[1].forEach(function(h){var A=$i(h.data),g=e[Hl(A[2][0].data)][0],v=Pa(g.meta[1][0].data);if(v!=6002)throw new Error("6001 unexpected reference to ".concat(v));var x=O3t(e,g);x.data.forEach(function(y,w){y.forEach(function(_,E){var I=Bn({r:d+w,c:E}),N=P3t(_,l,c);N&&(r[I]=N)})}),d+=x.nrows})}function L3t(e,t){var r=$i(t.data),n={"!ref":"A1"},i=e[Hl(r[2][0].data)],s=Pa(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return D3t(e,i[0],n),n}function R3t(e,t){var r,n=$i(t.data),i={name:(r=n[1])!=null&&r[0]?mL(n[1][0].data):"",sheets:[]},s=X9(n[2],Hl);return s.forEach(function(a){e[a].forEach(function(l){var c=Pa(l.meta[1][0].data);c==6e3&&i.sheets.push(L3t(e,l))})}),i}function M3t(e,t){var r=tH(),n=$i(t.data),i=X9(n[1],Hl);if(i.forEach(function(s){e[s].forEach(function(a){var l=Pa(a.meta[1][0].data);if(l==2){var c=R3t(e,a);c.sheets.forEach(function(u,d){rH(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function NP(e){var t,r,n,i,s={},a=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=Zu(c.content)}catch(h){return console.log("?? "+c.content.length+" "+(h.message||h))}var d;try{d=Yu(u)}catch(h){return console.log("## "+(h.message||h))}d.forEach(function(h){s[h.id]=h.messages,a.push(h.id)})}}),!a.length)throw new Error("File has no messages");var l=((i=(n=(r=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&Pa(s[1][0].meta[1][0].data)==1&&s[1][0];if(l||a.forEach(function(c){s[c].forEach(function(u){var d=Pa(u.meta[1][0].data)>>>0;if(d==1)if(!l)l=u;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return M3t(s,l)}function U3t(e,t,r){var n,i,s,a;if(!((n=e[6])!=null&&n[0])||!((i=e[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var l=((a=(s=e[8])==null?void 0:s[0])==null?void 0:a.data)&&Pa(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=Lm(e[7][0].data),d=0,h=[],A=Lm(e[4][0].data),g=0,v=[],x=0;x<t.length;++x){if(t[x]==null){u.setUint16(x*2,65535,!0),A.setUint16(x*2,65535);continue}u.setUint16(x*2,d,!0),A.setUint16(x*2,g,!0);var y,w;switch(typeof t[x]){case"string":y=SP({t:"s",v:t[x]},r),w=CP({t:"s",v:t[x]},r);break;case"number":y=SP({t:"n",v:t[x]},r),w=CP({t:"n",v:t[x]},r);break;case"boolean":y=SP({t:"b",v:t[x]},r),w=CP({t:"b",v:t[x]},r);break;default:throw new Error("Unsupported value "+t[x])}h.push(y),d+=y.length,v.push(w),g+=w.length,++c}for(e[2][0].data=as(c);x<e[7][0].data.length/2;++x)u.setUint16(x*2,65535,!0),A.setUint16(x*2,65535,!0);return e[6][0].data=Ip(h),e[3][0].data=Ip(v),c}function H3t(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Jc(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(ei(n)));var s=sT(r,{range:n,header:1}),a=["~Sh33tJ5~"];s.forEach(function(q){return q.forEach(function(ee){typeof ee=="string"&&a.push(ee)})});var l={},c=[],u=mn.read(t.numbers,{type:"base64"});u.FileIndex.map(function(q,ee){return[q,u.FullPaths[ee]]}).forEach(function(q){var ee=q[0],re=q[1];if(ee.type==2&&ee.name.match(/\.iwa/)){var de=ee.content,Ae=Zu(de),_e=Yu(Ae);_e.forEach(function(ye){c.push(ye.id),l[ye.id]={deps:[],location:re,type:Pa(ye.messages[0].meta[1][0].data)}})}}),c.sort(function(q,ee){return q-ee});var d=c.filter(function(q){return q>1}).map(function(q){return[q,as(q)]});u.FileIndex.map(function(q,ee){return[q,u.FullPaths[ee]]}).forEach(function(q){var ee=q[0];if(q[1],!!ee.name.match(/\.iwa/)){var re=Yu(Zu(ee.content));re.forEach(function(de){de.messages.forEach(function(Ae){d.forEach(function(_e){de.messages.some(function(ye){return Pa(ye.meta[1][0].data)!=11006&&N3t(ye.data,_e[1])})&&l[_e[0]].deps.push(de.id)})})})}});for(var h=mn.find(u,l[1].location),A=Yu(Zu(h.content)),g,v=0;v<A.length;++v){var x=A[v];x.id==1&&(g=x)}var y=Hl($i(g.messages[0].data)[1][0].data);for(h=mn.find(u,l[y].location),A=Yu(Zu(h.content)),v=0;v<A.length;++v)x=A[v],x.id==y&&(g=x);for(y=Hl($i(g.messages[0].data)[2][0].data),h=mn.find(u,l[y].location),A=Yu(Zu(h.content)),v=0;v<A.length;++v)x=A[v],x.id==y&&(g=x);for(y=Hl($i(g.messages[0].data)[2][0].data),h=mn.find(u,l[y].location),A=Yu(Zu(h.content)),v=0;v<A.length;++v)x=A[v],x.id==y&&(g=x);var w=$i(g.messages[0].data);{w[6][0].data=as(n.e.r+1),w[7][0].data=as(n.e.c+1);var _=Hl(w[46][0].data),E=mn.find(u,l[_].location),I=Yu(Zu(E.content));{for(var N=0;N<I.length&&I[N].id!=_;++N);if(I[N].id!=_)throw"Bad ColumnRowUIDMapArchive";var j=$i(I[N].messages[0].data);j[1]=[],j[2]=[],j[3]=[];for(var T=0;T<=n.e.c;++T){var P=[];P[1]=P[2]=[{type:0,data:as(T+420690)}],j[1].push({type:2,data:dl(P)}),j[2].push({type:0,data:as(T)}),j[3].push({type:0,data:as(T)})}j[4]=[],j[5]=[],j[6]=[];for(var k=0;k<=n.e.r;++k)P=[],P[1]=P[2]=[{type:0,data:as(k+726270)}],j[4].push({type:2,data:dl(P)}),j[5].push({type:0,data:as(k)}),j[6].push({type:0,data:as(k)});I[N].messages[0].data=dl(j)}E.content=R1(L1(I)),E.size=E.content.length,delete w[46];var R=$i(w[4][0].data);{R[7][0].data=as(n.e.r+1);var O=$i(R[1][0].data),M=Hl(O[2][0].data);E=mn.find(u,l[M].location),I=Yu(Zu(E.content));{if(I[0].id!=M)throw"Bad HeaderStorageBucket";var H=$i(I[0].messages[0].data);for(k=0;k<s.length;++k){var K=$i(H[2][0].data);K[1][0].data=as(k),K[4][0].data=as(s[k].length),H[2][k]={type:H[2][0].type,data:dl(K)}}I[0].messages[0].data=dl(H)}E.content=R1(L1(I)),E.size=E.content.length;var Y=Hl(R[2][0].data);E=mn.find(u,l[Y].location),I=Yu(Zu(E.content));{if(I[0].id!=Y)throw"Bad HeaderStorageBucket";for(H=$i(I[0].messages[0].data),T=0;T<=n.e.c;++T)K=$i(H[2][0].data),K[1][0].data=as(T),K[4][0].data=as(n.e.r+1),H[2][T]={type:H[2][0].type,data:dl(K)};I[0].messages[0].data=dl(H)}E.content=R1(L1(I)),E.size=E.content.length;var ne=Hl(R[4][0].data);(function(){for(var q=mn.find(u,l[ne].location),ee=Yu(Zu(q.content)),re,de=0;de<ee.length;++de){var Ae=ee[de];Ae.id==ne&&(re=Ae)}var _e=$i(re.messages[0].data);{_e[3]=[];var ye=[];a.forEach(function(oe,We){ye[1]=[{type:0,data:as(We)}],ye[2]=[{type:0,data:as(1)}],ye[3]=[{type:2,data:C3t(oe)}],_e[3].push({type:2,data:dl(ye)})})}re.messages[0].data=dl(_e);var ce=L1(ee),Ne=R1(ce);q.content=Ne,q.size=q.content.length})();var le=$i(R[3][0].data);{var te=le[1][0];delete le[2];var X=$i(te.data);{var ue=Hl(X[2][0].data);(function(){for(var q=mn.find(u,l[ue].location),ee=Yu(Zu(q.content)),re,de=0;de<ee.length;++de){var Ae=ee[de];Ae.id==ue&&(re=Ae)}var _e=$i(re.messages[0].data);{delete _e[6],delete le[7];var ye=new Uint8Array(_e[5][0].data);_e[5]=[];for(var ce=0,Ne=0;Ne<=n.e.r;++Ne){var oe=$i(ye);ce+=U3t(oe,s[Ne],a),oe[1][0].data=as(Ne),_e[5].push({data:dl(oe),type:2})}_e[1]=[{type:0,data:as(n.e.c+1)}],_e[2]=[{type:0,data:as(n.e.r+1)}],_e[3]=[{type:0,data:as(ce)}],_e[4]=[{type:0,data:as(n.e.r+1)}]}re.messages[0].data=dl(_e);var We=L1(ee),Re=R1(We);q.content=Re,q.size=q.content.length})()}te.data=dl(X)}R[3][0].data=dl(le)}w[4][0].data=dl(R)}g.messages[0].data=dl(w);var ve=L1(A),V=R1(ve);return h.content=V,h.size=h.content.length,u}function V1e(e){return function(r){for(var n=0;n!=e.length;++n){var i=e[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function Y9(e){V1e([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function Z9(e){V1e([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Q3t(e){return hi.WS.indexOf(e)>-1?"sheet":e==hi.CS?"chart":e==hi.DS?"dialog":e==hi.MS?"macro":e&&e.length?e:"sheet"}function $3t(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,Q3t(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function V3t(e,t,r,n,i,s,a,l,c,u,d,h){try{s[n]=lb(Nu(e,r,!0),t);var A=so(e,t),g;switch(l){case"sheet":g=f5t(A,t,i,c,s[n],u,d,h);break;case"chart":if(g=h5t(A,t,i,c,s[n],u,d,h),!g||!g["!drawel"])break;var v=b2(g["!drawel"].Target,t),x=q_(v),y=JEt(Nu(e,v,!0),lb(Nu(e,x,!0),v)),w=b2(y,v),_=q_(w);g=U4t(Nu(e,w,!0),w,c,lb(Nu(e,_,!0),w),u,g);break;case"macro":g=A5t(A,t,i,c,s[n],u,d,h);break;case"dialog":g=p5t(A,t,i,c,s[n],u,d,h);break;default:throw new Error("Unrecognized sheet type "+l)}a[n]=g;var E=[];s&&s[n]&&Fa(s[n]).forEach(function(I){var N="";if(s[n][I].Type==hi.CMNT){N=b2(s[n][I].Target,t);var j=v5t(so(e,N,!0),N,c);if(!j||!j.length)return;MJ(g,j,!1)}s[n][I].Type==hi.TCMNT&&(N=b2(s[n][I].Target,t),E=E.concat(tSt(so(e,N,!0),c)))}),E&&E.length&&MJ(g,E,!0,c.people||[])}catch(I){if(c.WTF)throw I}}function Ku(e){return e.charAt(0)=="/"?e.slice(1):e}function z3t(e,t){if(sw(),t=t||{},Y9(t),td(e,"META-INF/manifest.xml")||td(e,"objectdata.xml"))return XJ(e,t);if(td(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof NP<"u"){if(e.FileIndex)return NP(e);var r=mn.utils.cfb_new();return aJ(e).forEach(function(K){ai(r,K,rwt(e,K))}),NP(r)}throw new Error("Unsupported NUMBERS file")}if(!td(e,"[Content_Types].xml"))throw td(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):td(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=aJ(e),i=qwt(Nu(e,"[Content_Types].xml")),s=!1,a,l;if(i.workbooks.length===0&&(l="xl/workbook.xml",so(e,l,!0)&&i.workbooks.push(l)),i.workbooks.length===0){if(l="xl/workbook.bin",!so(e,l,!0))throw new Error("Could not find workbook");i.workbooks.push(l),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(cb=[],i.sst)try{cb=x5t(so(e,Ku(i.sst)),i.sst,t)}catch(K){if(t.WTF)throw K}t.cellStyles&&i.themes.length&&(c=m5t(Nu(e,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],t)),i.style&&(u=g5t(so(e,Ku(i.style)),i.style,c,t))}i.links.map(function(K){try{var Y=lb(Nu(e,q_(Ku(K))),K);return w5t(so(e,Ku(K)),Y,K,t)}catch{}});var d=d5t(so(e,Ku(i.workbooks[0])),i.workbooks[0],t),h={},A="";i.coreprops.length&&(A=so(e,Ku(i.coreprops[0]),!0),A&&(h=jme(A)),i.extprops.length!==0&&(A=so(e,Ku(i.extprops[0]),!0),A&&r2t(A,h,t)));var g={};(!t.bookSheets||t.bookProps)&&i.custprops.length!==0&&(A=Nu(e,Ku(i.custprops[0]),!0),A&&(g=i2t(A,t)));var v={};if((t.bookSheets||t.bookProps)&&(d.Sheets?a=d.Sheets.map(function(Y){return Y.name}):h.Worksheets&&h.SheetNames.length>0&&(a=h.SheetNames),t.bookProps&&(v.Props=h,v.Custprops=g),t.bookSheets&&typeof a<"u"&&(v.SheetNames=a),t.bookSheets?v.SheetNames:t.bookProps))return v;a={};var x={};t.bookDeps&&i.calcchain&&(x=y5t(so(e,Ku(i.calcchain)),i.calcchain));var y=0,w={},_,E;{var I=d.Sheets;h.Worksheets=I.length,h.SheetNames=[];for(var N=0;N!=I.length;++N)h.SheetNames[N]=I[N].name}var j=s?"bin":"xml",T=i.workbooks[0].lastIndexOf("/"),P=(i.workbooks[0].slice(0,T+1)+"_rels/"+i.workbooks[0].slice(T+1)+".rels").replace(/^\//,"");td(e,P)||(P="xl/_rels/workbook."+j+".rels");var k=lb(Nu(e,P,!0),P.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(t.xlmeta=b5t(so(e,Ku(i.metadata[0])),i.metadata[0],t)),(i.people||[]).length>=1&&(t.people=nSt(so(e,Ku(i.people[0])),t)),k&&(k=$3t(k,d.Sheets));var R=so(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=h.Worksheets;++y){var O="sheet";if(k&&k[y]?(_="xl/"+k[y][1].replace(/[\/]?xl\//,""),td(e,_)||(_=k[y][1]),td(e,_)||(_=P.replace(/_rels\/.*$/,"")+k[y][1]),O=k[y][2]):(_="xl/worksheets/sheet"+(y+1-R)+"."+j,_=_.replace(/sheet0\./,"sheet.")),E=_.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(y!=t.sheets)continue e;break;case"string":if(h.SheetNames[y].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var M=!1,H=0;H!=t.sheets.length;++H)typeof t.sheets[H]=="number"&&t.sheets[H]==y&&(M=1),typeof t.sheets[H]=="string"&&t.sheets[H].toLowerCase()==h.SheetNames[y].toLowerCase()&&(M=1);if(!M)continue e}}V3t(e,_,E,h.SheetNames[y],y,w,a,O,t,d,c,u)}return v={Directory:i,Workbook:d,Props:h,Custprops:g,Deps:x,Sheets:a,SheetNames:h.SheetNames,Strings:cb,Styles:u,Themes:c,SSF:Ws(Tn)},t&&t.bookFiles&&(e.files?(v.keys=n,v.files=e.files):(v.keys=[],v.files={},e.FullPaths.forEach(function(K,Y){K=K.replace(/^Root Entry[\/]/,""),v.keys.push(K),v.files[K]=e.FileIndex[Y]}))),t&&t.bookVBA&&(i.vba.length>0?v.vbaraw=so(e,Ku(i.vba[0]),!0):i.defaults&&i.defaults.bin===dSt&&(v.vbaraw=so(e,"xl/vbaProject.bin",!0))),v}function G3t(e,t){var r=t||{},n="Workbook",i=mn.find(e,n);try{if(n="/!DataSpaces/Version",i=mn.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(b_t(i.content),n="/!DataSpaces/DataSpaceMap",i=mn.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=E_t(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=mn.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=S_t(i.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=mn.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);N_t(i.content)}catch{}if(n="/EncryptionInfo",i=mn.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=T_t(i.content);if(n="/EncryptedPackage",i=mn.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],i.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],i.content,r.password||"",r);throw new Error("File is password-protected")}function W3t(e,t){return t.bookType=="ods"?$1e(e,t):t.bookType=="numbers"?H3t(e,t):t.bookType=="xlsb"?K3t(e,t):q3t(e,t)}function K3t(e,t){Ex=1024,e&&!e.SSF&&(e.SSF=Ws(Tn)),e&&e.SSF&&(sw(),ek(e.SSF),t.revssf=rk(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,ub?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=m1e.indexOf(t.bookType)>-1,i=L9();Z9(t=t||{});var s=_9(),a="",l=0;if(t.cellXfs=[],Zp(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),a="docProps/core.xml",ai(s,a,Pme(e.Props,t)),i.coreprops.push(a),os(t.rels,2,a,hi.CORE_PROPS),a="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,ai(s,a,Dme(e.Props)),i.extprops.push(a),os(t.rels,3,a,hi.EXT_PROPS),e.Custprops!==e.Props&&Fa(e.Custprops||{}).length>0&&(a="docProps/custom.xml",ai(s,a,Lme(e.Custprops)),i.custprops.push(a),os(t.rels,4,a,hi.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var d={"!id":{}},h=e.Sheets[e.SheetNames[l-1]],A=(h||{})["!type"]||"sheet";switch(A){case"chart":default:a="xl/worksheets/sheet"+l+"."+r,ai(s,a,E5t(l-1,a,t,e,d)),i.sheets.push(a),os(t.wbrels,-1,"worksheets/sheet"+l+"."+r,hi.WS[0])}if(h){var g=h["!comments"],v=!1,x="";g&&g.length>0&&(x="xl/comments"+l+"."+r,ai(s,x,N5t(g,x)),i.comments.push(x),os(d,-1,"../comments"+l+"."+r,hi.CMNT),v=!0),h["!legacy"]&&v&&ai(s,"xl/drawings/vmlDrawing"+l+".vml",p1e(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}d["!id"].rId1&&ai(s,q_(a),Jx(d))}return t.Strings!=null&&t.Strings.length>0&&(a="xl/sharedStrings."+r,ai(s,a,C5t(t.Strings,a,t)),i.strs.push(a),os(t.wbrels,-1,"sharedStrings."+r,hi.SST)),a="xl/workbook."+r,ai(s,a,_5t(e,a)),i.workbooks.push(a),os(t.rels,1,a,hi.WB),a="xl/theme/theme1.xml",ai(s,a,$9(e.Themes,t)),i.themes.push(a),os(t.wbrels,-1,"theme/theme1.xml",hi.THEME),a="xl/styles."+r,ai(s,a,S5t(e,a,t)),i.styles.push(a),os(t.wbrels,-1,"styles."+r,hi.STY),e.vbaraw&&n&&(a="xl/vbaProject.bin",ai(s,a,e.vbaraw),i.vba.push(a),os(t.wbrels,-1,"vbaProject.bin",hi.VBA)),a="xl/metadata."+r,ai(s,a,T5t(a)),i.metadata.push(a),os(t.wbrels,-1,"metadata."+r,hi.XLMETA),ai(s,"[Content_Types].xml",Ime(i,t)),ai(s,"_rels/.rels",Jx(t.rels)),ai(s,"xl/_rels/workbook."+r+".rels",Jx(t.wbrels)),delete t.revssf,delete t.ssf,s}function q3t(e,t){Ex=1024,e&&!e.SSF&&(e.SSF=Ws(Tn)),e&&e.SSF&&(sw(),ek(e.SSF),t.revssf=rk(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,ub?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=m1e.indexOf(t.bookType)>-1,i=L9();Z9(t=t||{});var s=_9(),a="",l=0;if(t.cellXfs=[],Zp(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),a="docProps/core.xml",ai(s,a,Pme(e.Props,t)),i.coreprops.push(a),os(t.rels,2,a,hi.CORE_PROPS),a="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,ai(s,a,Dme(e.Props)),i.extprops.push(a),os(t.rels,3,a,hi.EXT_PROPS),e.Custprops!==e.Props&&Fa(e.Custprops||{}).length>0&&(a="docProps/custom.xml",ai(s,a,Lme(e.Custprops)),i.custprops.push(a),os(t.rels,4,a,hi.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var h={"!id":{}},A=e.Sheets[e.SheetNames[l-1]],g=(A||{})["!type"]||"sheet";switch(g){case"chart":default:a="xl/worksheets/sheet"+l+"."+r,ai(s,a,T1e(l-1,t,e,h)),i.sheets.push(a),os(t.wbrels,-1,"worksheets/sheet"+l+"."+r,hi.WS[0])}if(A){var v=A["!comments"],x=!1,y="";if(v&&v.length>0){var w=!1;v.forEach(function(_){_[1].forEach(function(E){E.T==!0&&(w=!0)})}),w&&(y="xl/threadedComments/threadedComment"+l+"."+r,ai(s,y,rSt(v,d,t)),i.threadedcomments.push(y),os(h,-1,"../threadedComments/threadedComment"+l+"."+r,hi.TCMNT)),y="xl/comments"+l+"."+r,ai(s,y,g1e(v)),i.comments.push(y),os(h,-1,"../comments"+l+"."+r,hi.CMNT),x=!0}A["!legacy"]&&x&&ai(s,"xl/drawings/vmlDrawing"+l+".vml",p1e(l,A["!comments"])),delete A["!comments"],delete A["!legacy"]}h["!id"].rId1&&ai(s,q_(a),Jx(h))}return t.Strings!=null&&t.Strings.length>0&&(a="xl/sharedStrings."+r,ai(s,a,n1e(t.Strings,t)),i.strs.push(a),os(t.wbrels,-1,"sharedStrings."+r,hi.SST)),a="xl/workbook."+r,ai(s,a,P1e(e)),i.workbooks.push(a),os(t.rels,1,a,hi.WB),a="xl/theme/theme1.xml",ai(s,a,$9(e.Themes,t)),i.themes.push(a),os(t.wbrels,-1,"theme/theme1.xml",hi.THEME),a="xl/styles."+r,ai(s,a,d1e(e,t)),i.styles.push(a),os(t.wbrels,-1,"styles."+r,hi.STY),e.vbaraw&&n&&(a="xl/vbaProject.bin",ai(s,a,e.vbaraw),i.vba.push(a),os(t.wbrels,-1,"vbaProject.bin",hi.VBA)),a="xl/metadata."+r,ai(s,a,A1e()),i.metadata.push(a),os(t.wbrels,-1,"metadata."+r,hi.XLMETA),d.length>1&&(a="xl/persons/person.xml",ai(s,a,iSt(d)),i.people.push(a),os(t.wbrels,-1,"persons/person.xml",hi.PEOPLE)),ai(s,"[Content_Types].xml",Ime(i,t)),ai(s,"_rels/.rels",Jx(t.rels)),ai(s,"xl/_rels/workbook."+r+".rels",Jx(t.wbrels)),delete t.revssf,delete t.ssf,s}function J9(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Lu(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function X3t(e,t){return mn.find(e,"EncryptedPackage")?G3t(e,t):L1e(e,t)}function Y3t(e,t){var r,n=e,i=t||{};return i.type||(i.type=di&&Buffer.isBuffer(e)?"buffer":"base64"),r=sme(n,i),z3t(r,i)}function z1e(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return pL(e.slice(r),t);default:break e}return dy.to_workbook(e,t)}function Z3t(e,t){var r="",n=J9(e,t);switch(t.type){case"base64":r=Lu(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Pm(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=gs(r)),t.type="binary",z1e(r,t)}function J3t(e,t){var r=e;return t.type=="base64"&&(r=Lu(r)),r=E0.utils.decode(1200,r.slice(2),"str"),t.type="binary",z1e(r,t)}function eTt(e){return e.match(/[^\x00-\x7F]/)?qf(e):e}function TP(e,t,r,n){return n?(r.type="string",dy.to_workbook(e,r)):dy.to_workbook(t,r)}function xL(e,t){x9();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return xL(new Uint8Array(e),(r=Ws(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,i=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),tv={},r.dateNF&&(tv.dateNF=r.dateNF),r.type||(r.type=di&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=di?"buffer":"binary",n=Kyt(e),typeof Uint8Array<"u"&&!di&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=eTt(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),l=new Uint8Array(a);if(l.foo="bar",!l.foo)return r=Ws(r),r.type="array",xL(v9(n),r)}switch((i=J9(n,r))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return X3t(mn.read(n,r),r);break;case 9:if(i[1]<=8)return L1e(n,r);break;case 60:return pL(n,r);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return s_t(n,r);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return t1e.to_workbook(n,r);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?Y3t(n,r):TP(e,n,r,s);case 239:return i[3]===60?pL(n,r):TP(e,n,r,s);case 255:if(i[1]===254)return J3t(n,r);if(i[1]===0&&i[2]===2&&i[3]===0)return nm.to_workbook(n,r);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return nm.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return AL.to_workbook(n,r);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return l1e.to_workbook(n,r);break;case 10:case 13:case 32:return Z3t(n,r);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return i_t.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?AL.to_workbook(n,r):TP(e,n,r,s)}function G1e(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return iS(t.file,mn.write(e,{type:di?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return mn.write(e,t)}function tTt(e,t){var r=Ws(t||{}),n=W3t(e,r);return rTt(n,r)}function rTt(e,t){var r={},n=di?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var i=e.FullPaths?mn.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(t.type=="binary"||t.type=="base64")return i;i=new Uint8Array(JI(i))}return t.password&&typeof encrypt_agile<"u"?G1e(encrypt_agile(i,t.password),t):t.type==="file"?iS(t.file,i):t.type=="string"?gs(i):i}function nTt(e,t){var r=t||{},n=e3t(e,r);return G1e(n,r)}function kf(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return V_(qf(n));case"binary":return qf(n);case"string":return e;case"file":return iS(t.file,n,"utf8");case"buffer":return di?UA(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):kf(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function iTt(e,t){switch(t.type){case"base64":return V_(e);case"binary":return e;case"string":return e;case"file":return iS(t.file,e,"binary");case"buffer":return di?UA(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function EN(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?V_(r):t.type=="string"?gs(r):r;case"file":return iS(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function W1e(e,t){x9(),X4t(e);var r=Ws(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=W1e(e,r);return r.type="array",JI(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=e.SheetNames.indexOf(r.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return kf(W5t(e,r),r);case"slk":case"sylk":return kf(e1e.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"htm":case"html":return kf(M1e(e.Sheets[e.SheetNames[i]],r),r);case"txt":return iTt(K1e(e.Sheets[e.SheetNames[i]],r),r);case"csv":return kf(eH(e.Sheets[e.SheetNames[i]],r),r,"\uFEFF");case"dif":return kf(t1e.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"dbf":return EN(AL.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"prn":return kf(dy.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"rtf":return kf(l1e.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"eth":return kf(r1e.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"fods":return kf($1e(e,r),r);case"wk1":return EN(nm.sheet_to_wk1(e.Sheets[e.SheetNames[i]],r),r);case"wk3":return EN(nm.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),EN(R1e(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),nTt(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return tTt(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function sTt(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function aTt(e,t,r){var n={};return n.type="file",n.file=t,sTt(n),W1e(e,n)}function oTt(e,t,r,n,i,s,a,l){var c=Ya(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),h=!0,A=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(A,"__rowNum__",{value:r,enumerable:!1})}catch{A.__rowNum__=r}else A.__rowNum__=r;if(!a||e[r])for(var g=t.s.c;g<=t.e.c;++g){var v=a?e[r][g]:e[n[g]+c];if(v===void 0||v.t===void 0){if(u===void 0)continue;s[g]!=null&&(A[s[g]]=u);continue}var x=v.v;switch(v.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(s[g]!=null){if(x==null)if(v.t=="e"&&x===null)A[s[g]]=null;else if(u!==void 0)A[s[g]]=u;else if(d&&x===null)A[s[g]]=null;else continue;else A[s[g]]=d&&(v.t!=="n"||v.t==="n"&&l.rawNumbers!==!1)?x:jA(v,x,l);x!=null&&(h=!1)}}return{row:A,isempty:h}}function sT(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,s=[],a=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=Ri(d);break;case"number":c=Ri(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(i=0);var h=Ya(c.s.r),A=[],g=[],v=0,x=0,y=Array.isArray(e),w=c.s.r,_=0,E={};y&&!e[w]&&(e[w]=[]);var I=u.skipHidden&&e["!cols"]||[],N=u.skipHidden&&e["!rows"]||[];for(_=c.s.c;_<=c.e.c;++_)if(!(I[_]||{}).hidden)switch(A[_]=pa(_),r=y?e[w][_]:e[A[_]+h],n){case 1:s[_]=_-c.s.c;break;case 2:s[_]=A[_];break;case 3:s[_]=u.header[_-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=a=jA(r,null,u),x=E[a]||0,!x)E[a]=1;else{do l=a+"_"+x++;while(E[l]);E[a]=x,E[l]=1}s[_]=l}for(w=c.s.r+i;w<=c.e.r;++w)if(!(N[w]||{}).hidden){var j=oTt(e,c,w,A,n,s,y,u);(j.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(g[v++]=j.row)}return g.length=v,g}var tee=/"/g;function lTt(e,t,r,n,i,s,a,l){for(var c=!0,u=[],d="",h=Ya(r),A=t.s.c;A<=t.e.c;++A)if(n[A]){var g=l.dense?(e[r]||[])[A]:e[n[A]+h];if(g==null)d="";else if(g.v!=null){c=!1,d=""+(l.rawNumbers&&g.t=="n"?g.v:jA(g,null,l));for(var v=0,x=0;v!==d.length;++v)if((x=d.charCodeAt(v))===i||x===s||x===34||l.forceQuotes){d='"'+d.replace(tee,'""')+'"';break}d=="ID"&&(d='"ID"')}else g.f!=null&&!g.F?(c=!1,d="="+g.f,d.indexOf(",")>=0&&(d='"'+d.replace(tee,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(a)}function eH(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var i=Ri(e["!ref"]),s=n.FS!==void 0?n.FS:",",a=s.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),d="",h=[];n.dense=Array.isArray(e);for(var A=n.skipHidden&&e["!cols"]||[],g=n.skipHidden&&e["!rows"]||[],v=i.s.c;v<=i.e.c;++v)(A[v]||{}).hidden||(h[v]=pa(v));for(var x=0,y=i.s.r;y<=i.e.r;++y)(g[y]||{}).hidden||(d=lTt(e,i,y,h,a,c,s,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((x++?l:"")+d)));return delete n.dense,r.join("")}function K1e(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=eH(e,t);return r}function cTt(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var i=Ri(e["!ref"]),s="",a=[],l,c=[],u=Array.isArray(e);for(l=i.s.c;l<=i.e.c;++l)a[l]=pa(l);for(var d=i.s.r;d<=i.e.r;++d)for(s=Ya(d),l=i.s.c;l<=i.e.c;++l)if(t=a[l]+s,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function q1e(e,t,r){var n=r||{},i=+!n.skipHeader,s=e||{},a=0,l=0;if(s&&n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var c=typeof n.origin=="string"?ga(n.origin):n.origin;a=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:a+t.length-1+i}};if(s["!ref"]){var h=Ri(s["!ref"]);d.e.c=Math.max(d.e.c,h.e.c),d.e.r=Math.max(d.e.r,h.e.r),a==-1&&(a=h.e.r+1,d.e.r=a+t.length-1+i)}else a==-1&&(a=0,d.e.r=t.length-1+i);var A=n.header||[],g=0;t.forEach(function(x,y){Fa(x).forEach(function(w){(g=A.indexOf(w))==-1&&(A[g=A.length]=w);var _=x[w],E="z",I="",N=Bn({c:l+g,r:a+y+i});u=rE(s,N),_&&typeof _=="object"&&!(_ instanceof Date)?s[N]=_:(typeof _=="number"?E="n":typeof _=="boolean"?E="b":typeof _=="string"?E="s":_ instanceof Date?(E="d",n.cellDates||(E="n",_=Do(_)),I=n.dateNF||Tn[14]):_===null&&n.nullError&&(E="e",_=0),u?(u.t=E,u.v=_,delete u.w,delete u.R,I&&(u.z=I)):s[N]=u={t:E,v:_},I&&(u.z=I))})}),d.e.c=Math.max(d.e.c,l+A.length-1);var v=Ya(a);if(i)for(g=0;g<A.length;++g)s[pa(g+l)+v]={t:"s",v:A[g]};return s["!ref"]=ei(d),s}function uTt(e,t){return q1e(null,e,t)}function rE(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=ga(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?rE(e,Bn(t)):rE(e,Bn({r:t,c:r||0}))}function dTt(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function tH(){return{SheetNames:[],Sheets:{}}}function rH(e,t,r,n){var i=1;if(!r)for(;i<=65535&&e.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||r;for(++i;i<=65535&&e.SheetNames.indexOf(r=a+i)!=-1;++i);}if(j1e(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function fTt(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=dTt(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function hTt(e,t){return e.z=t,e}function X1e(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function ATt(e,t,r){return X1e(e,"#"+t,r)}function pTt(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function gTt(e,t,r,n){for(var i=typeof t!="string"?t:Ri(t),s=typeof t=="string"?t:ei(t),a=i.s.r;a<=i.e.r;++a)for(var l=i.s.c;l<=i.e.c;++l){var c=rE(e,a,l);c.t="n",c.F=s,delete c.v,a==i.s.r&&l==i.s.c&&(c.f=r,n&&(c.D=!0))}return e}var M1={encode_col:pa,encode_row:Ya,encode_cell:Bn,encode_range:ei,decode_col:k9,decode_row:I9,split_cell:Cwt,decode_cell:ga,decode_range:Jc,format_cell:jA,sheet_add_aoa:_me,sheet_add_json:q1e,sheet_add_dom:U1e,aoa_to_sheet:aw,json_to_sheet:uTt,table_to_sheet:H1e,table_to_book:b3t,sheet_to_csv:eH,sheet_to_txt:K1e,sheet_to_json:sT,sheet_to_html:M1e,sheet_to_formulae:cTt,sheet_to_row_object_array:sT,sheet_get_cell:rE,book_new:tH,book_append_sheet:rH,book_set_sheet_visibility:fTt,cell_set_number_format:hTt,cell_set_hyperlink:X1e,cell_set_internal_link:ATt,cell_add_comment:pTt,sheet_set_array_formula:gTt,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function mTt({selectedProducts:e,onProductsChange:t}){const[r,n]=C.useState([]),[i,s]=C.useState(""),{toast:a}=Lo();C.useEffect(()=>{l()},[]);const l=async()=>{try{const h=await xa.getItems();console.log(" Loaded items from Firebase:",h.length),h.forEach((A,g)=>{console.log(`Item ${g+1}:`,{id:A.id,name:A.name,hasImageUrl:!!A.image_url,image_url:A.image_url,hasImagePath:!!A.image_path,image_path:A.image_path})}),n(h)}catch(h){console.error("Error loading items:",h)}},c=async()=>{if(!i){a({title:"No Product Selected",description:"Please select a product first.",variant:"destructive"});return}if(e.length>=30){a({title:"Maximum Limit Reached",description:"You can only add up to 30 products in a Tharva.",variant:"destructive"});return}const h=r.find(y=>y.id===i);if(!h)return;if(e.find(y=>y.id===h.id)){a({title:"Already Added",description:`${h.name} is already in the list.`,variant:"destructive"});return}console.log("Adding product:",{name:h.name,image_url:h.image_url,image_path:h.image_path,description:h.description});let g="";if(h.image_path)try{console.log(" Fetching fresh download URL for:",h.image_path);const y=pc(Js,h.image_path);g=await nf(y),console.log(" Got fresh download URL:",g)}catch(y){console.error(" Failed to get download URL for path:",h.image_path),console.error("Error details:",y.code,y.message),a({title:"Image Not Found",description:`Image for ${h.name} not found in Storage. Please re-upload the image.`,variant:"destructive"}),g=h.image_url||""}else g=h.image_url||"",console.log(" No image_path for item:",h.name,"- using stored URL:",g);let v="";if(h.description_image_path)try{console.log(" Fetching fresh description image URL for:",h.description_image_path);const y=pc(Js,h.description_image_path);v=await nf(y),console.log(" Got fresh description image URL:",v)}catch(y){console.error(" Failed to get description image URL:",y),v=h.description_image_url||""}else v=h.description_image_url||"";const x={id:h.id,name:h.name,quantity:1,image_url:g,description:h.description,description_image_url:v};console.log(" Product added with URLs:",{image_url:g,description_image_url:v}),t([...e,x]),s(""),a({title:"Product Added",description:`${h.name} added to Tharva.`})},u=(h,A)=>{if(A<1)return;const g=e.map(v=>v.id===h?{...v,quantity:A}:v);t(g)},d=h=>{const A=e.filter(g=>g.id!==h);t(A)};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx("span",{className:"font-semibold text-base whitespace-nowrap",children:"Add Product"}),o.jsxs(oo,{value:i,onValueChange:s,children:[o.jsx(Qa,{className:"h-11 text-base",children:o.jsx(lo,{placeholder:"Select product"})}),o.jsx($a,{children:r.map(h=>o.jsx(qr,{value:h.id,className:"text-base",children:h.name},h.id))})]}),o.jsxs(et,{onClick:c,size:"sm",className:"gap-2 h-11 text-base px-4",disabled:e.length>=30,children:[o.jsx(dh,{className:"h-5 w-5"}),"Add"]})]}),e.length>0&&o.jsxs("div",{className:"text-base text-gray-600 font-medium",children:[e.length," / 30 products added"]}),e.length>0&&o.jsx("div",{className:"border-2 rounded overflow-hidden",children:o.jsxs(VE,{children:[o.jsx(zE,{className:"bg-muted/30",children:o.jsxs(ih,{style:{height:"50px"},children:[o.jsx(ea,{className:"font-bold text-base py-5 px-4",children:"Product Name"}),o.jsx(ea,{className:"font-bold text-base py-5 px-4",children:"Quantity"}),o.jsx(ea,{className:"font-bold text-base py-5 px-4 text-right",children:"Action"})]})}),o.jsx(GE,{children:e.map(h=>o.jsxs(ih,{style:{height:"60px"},children:[o.jsx(Hs,{className:"font-semibold text-red-900 text-base py-6 px-4",children:h.name}),o.jsx(Hs,{className:"py-6 px-4",children:o.jsx(Or,{type:"number",min:"1",value:h.quantity,onChange:A=>u(h.id,parseInt(A.target.value)||1),className:"w-24 h-11 text-base"})}),o.jsx(Hs,{className:"text-right py-6 px-4",children:o.jsx(et,{variant:"outline",size:"sm",onClick:()=>d(h.id),className:"hover:bg-destructive hover:text-destructive-foreground h-10 w-10 p-0",children:o.jsx(Sc,{className:"h-5 w-5"})})})]},h.id))})]})})]})}const ree="datta-enterprises.appspot.com",xTt="datta-enterprises.firebasestorage.app";function Pf(e){if(!e)return null;if(e.includes(ree)){const t=e.replace(ree,xTt);return console.log(" Fixed URL:",e.substring(0,50),"",t.substring(0,50)),t}return e}async function vTt(e,t=3){return new Promise((r,n)=>{const i=new Image;i.crossOrigin="anonymous";let s=0;const a=()=>{s++,console.log(` Loading image (attempt ${s}/${t}):`,e.substring(0,50)),i.onload=()=>{console.log(" Image loaded successfully"),r(i)},i.onerror=c=>{console.error(` Image load failed (attempt ${s}):`,c),s<t?setTimeout(()=>{a()},1e3*s):n(new Error(`Failed to load image after ${t} attempts`))};const l=e.includes("?")?"&":"?";i.src=`${e}${l}_t=${Date.now()}&attempt=${s}`};a()})}async function yTt(e,t=3){try{const r=Pf(e)||e,n=await vTt(r,t),i=document.createElement("canvas");i.width=n.naturalWidth,i.height=n.naturalHeight;const s=i.getContext("2d");if(!s)throw new Error("Failed to get canvas context");s.drawImage(n,0,0);const a=i.toDataURL("image/png");return console.log(" Image converted to base64:",e.substring(0,50)),a}catch(r){throw console.error(" Failed to convert image to base64:",r),r}}async function wTt(e){console.log(` Loading ${e.length} images as base64...`);const t=new Map,r=e.map(async s=>{try{const a=await yTt(s);return t.set(s,a),{url:s,success:!0}}catch{return console.warn(" Failed to load image:",s),{url:s,success:!1}}}),i=(await Promise.all(r)).filter(s=>s.success).length;return console.log(` Loaded ${i}/${e.length} images successfully`),t}async function bTt(e){console.log(" Preparing images for PDF generation...");const t=e.filter(n=>!!n).map(n=>Pf(n)||n);if(t.length===0)return console.log(" No images to prepare"),new Map;const r=await wTt(t);return console.log(` Prepared ${r.size} images for PDF`),r}function _Tt(e,t){console.log(" Replacing images with base64 in DOM...");const r=new Map;return e.querySelectorAll("img").forEach(i=>{const s=i.src;r.set(i,s);for(const[a,l]of t.entries()){const c=s.split("?")[0],u=a.split("?")[0];if(c.includes(u)||u.includes(c)){console.log(" Replacing image with base64:",s.substring(0,50)),i.src=l;break}}}),console.log(` Replaced ${r.size} images with base64`),r}function ETt(e){console.log(" Restoring original image URLs..."),e.forEach((t,r)=>{r.src=t}),console.log(` Restored ${e.size} images`)}async function STt(e,t=[]){const n=[...Array.from(e.querySelectorAll("img")).map(l=>l.src).filter(l=>l&&!l.startsWith("data:")),...t],i=await bTt(n),s=_Tt(e,i);return{imageCache:i,originalSrcs:s,restore:()=>ETt(s)}}async function CTt(e){const t=Array.from(e.querySelectorAll("img"));if(t.length===0)return;console.log(` Waiting for ${t.length} images to load...`);const r=t.map(n=>new Promise(i=>{n.complete?i():(n.onload=()=>i(),n.onerror=()=>{console.warn(" Image failed to load:",n.src.substring(0,50)),i()})}));await Promise.all(r),console.log(" All images loaded")}function NTt({products:e}){const t=C.useRef(null),[r,n]=C.useState(!1);C.useEffect(()=>{console.log(" TharvaProductPDF received products:",e.length),e.forEach((s,a)=>{const l=Pf(s.image_url),c=Pf(s.description_image_url);console.log(`Product ${a+1}:`,{name:s.name,hasImage:!!s.image_url,imageUrl:l==null?void 0:l.substring(0,60),descriptionUrl:c==null?void 0:c.substring(0,60)})})},[e]);const i=async()=>{if(!(!t.current||e.length===0)){n(!0),console.log(" Starting PDF generation...");try{const s=[];e.forEach(h=>{if(h.image_url){const A=Pf(h.image_url);A&&s.push(A)}if(h.description_image_url){const A=Pf(h.description_image_url);A&&s.push(A)}});const{restore:a}=await STt(t.current,s);await CTt(t.current),await new Promise(h=>setTimeout(h,500));const l=new Hr("p","mm","a4"),c=210,u=297;for(let h=0;h<e.length;h++){const A=e[h];console.log(` Processing page ${h+1}/${e.length} for ${A.name}`);const g=document.getElementById(`product-page-${h}`);if(g){const v=await Vc(g,{scale:2,useCORS:!0,allowTaint:!1,backgroundColor:"#ffffff",logging:!1}),x=v.toDataURL("image/png"),y=c,w=v.height*c/v.width;h>0&&l.addPage(),l.addImage(x,"PNG",0,0,y,w),console.log(` Page ${h+1} added to PDF`)}}a();const d=`Tharva-Products-${new Date().toISOString().split("T")[0]}.pdf`;l.save(d),console.log(` PDF saved: ${d}`)}catch(s){console.error(" PDF generation failed:",s),alert("Failed to generate PDF. Please try again.")}finally{n(!1)}}};return e.length===0?null:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Product Details with Images"}),o.jsxs("p",{className:"text-sm text-gray-500",children:[e.length," product(s) ready to download"]})]}),o.jsx(et,{onClick:i,className:"gap-2 bg-red-900 hover:bg-red-800",disabled:r,size:"lg",children:r?o.jsxs(o.Fragment,{children:[o.jsx(uh,{className:"h-5 w-5 animate-spin"}),"Generating PDF..."]}):o.jsxs(o.Fragment,{children:[o.jsx(na,{className:"h-5 w-5"}),"Download Product Pages (PDF)"]})})]}),o.jsx("div",{ref:t,style:{position:"absolute",left:"-9999px",top:0},children:e.map((s,a)=>o.jsxs("div",{id:`product-page-${a}`,className:"bg-white",style:{width:"210mm",height:"297mm",padding:"10mm",boxSizing:"border-box",pageBreakAfter:"always"},children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("h1",{className:"font-semibold",style:{color:"#7f1d1d",fontSize:"16px",lineHeight:"1.2"},children:s.name}),o.jsxs("p",{className:"mt-2",style:{color:"#7f1d1d",fontSize:"14px",lineHeight:"1.2",fontWeight:"500"},children:["Quantity: ",s.quantity]})]}),o.jsxs("div",{style:{marginBottom:"10mm"},children:[s.image_url&&o.jsx("div",{style:{marginBottom:"10mm",textAlign:"left"},children:o.jsx("img",{src:Pf(s.image_url)||s.image_url,alt:s.name,crossOrigin:"anonymous",style:{width:"100mm",height:"auto",maxHeight:"90mm",objectFit:"contain",border:"3px solid #7f1d1d",borderRadius:"8px"},onError:l=>{console.error("PDF Image failed to load:",s.image_url)}})}),(s.description_image_url||s.description)&&o.jsxs("div",{children:[o.jsx("h2",{style:{color:"#7f1d1d",marginBottom:"8px",fontSize:"14px",fontWeight:"600",lineHeight:"1.2"},children:"Description:"}),s.description_image_url?o.jsx("div",{style:{marginBottom:"18px"},children:o.jsx("img",{src:Pf(s.description_image_url)||s.description_image_url,alt:"Description",crossOrigin:"anonymous",style:{width:"100%",height:"auto",maxHeight:"110mm",objectFit:"contain",border:"2px solid #7f1d1d",borderRadius:"8px"}})}):s.description&&o.jsx("ul",{style:{fontSize:"12px",lineHeight:"1.5",listStyleType:"disc",paddingLeft:"40px",color:"#1f2937",fontWeight:"500"},children:s.description.split(`
`).filter(l=>l.trim()).map((l,c)=>o.jsx("li",{style:{marginBottom:"24px",paddingTop:"8px",paddingBottom:"8px"},children:l.trim()},c))})]})]}),o.jsxs("div",{className:"absolute bottom-8 right-8 text-gray-500",children:["Page ",a+1," of ",e.length]})]},s.id))}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Preview (One product per A4 page)"}),o.jsx("div",{className:"grid gap-6",children:e.map((s,a)=>o.jsxs("div",{className:"border-2 rounded-lg p-6 bg-white shadow-sm",children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("h2",{className:"text-3xl font-bold text-red-900",children:s.name}),o.jsxs("p",{className:"text-2xl text-red-900 mt-1",children:["Quantity: ",s.quantity]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("div",{className:"mb-6",children:s.image_url?o.jsx("img",{src:Pf(s.image_url)||s.image_url,alt:s.name,crossOrigin:"anonymous",className:"h-auto object-contain border-3 border-red-900 rounded-lg shadow-md",style:{width:"400px",maxHeight:"350px"},onError:l=>{console.error(" Image failed to load:",s.image_url);const c=l.currentTarget;c.style.display="none";const u=c.parentElement;if(u){const d=document.createElement("div");d.className="p-8 bg-red-50 rounded border-2 border-red-300 text-center",d.innerHTML='<p class="text-red-600 font-semibold">Image failed to load</p>',u.appendChild(d)}},onLoad:()=>console.log(" Image loaded successfully:",s.image_url)}):o.jsx("div",{className:"p-8 bg-gray-100 rounded border-3 border-red-900 text-center",style:{width:"400px"},children:o.jsx("p",{className:"text-gray-500 text-lg",children:"No image"})})}),(s.description_image_url||s.description)&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-3xl font-semibold text-red-900 mb-4",children:"Description:"}),s.description_image_url?o.jsx("div",{className:"mb-6",children:o.jsx("img",{src:Pf(s.description_image_url)||s.description_image_url,alt:"Description",crossOrigin:"anonymous",className:"w-full h-auto max-h-96 object-contain border-2 border-red-900 rounded-lg shadow-md"})}):s.description&&o.jsx("ul",{className:"text-2xl text-gray-700 space-y-3",style:{lineHeight:"1.8",listStyleType:"disc",paddingLeft:"1.5rem"},children:s.description.split(`
`).filter(l=>l.trim()).map((l,c)=>o.jsx("li",{children:l.trim()},c))})]})]}),o.jsxs("div",{className:"text-sm text-gray-500 mt-4 text-right",children:["Page ",a+1," of ",e.length]})]},s.id))})]})]})}const Go=e=>e.toString().split("").map(t=>t>="0"&&t<="9"?String.fromCharCode(2406+parseInt(t)):t).join(""),nee=(e,t)=>{const r=parseInt(e)||0,n=parseInt(t)||0;return r===0&&n===0?"":r===0?Go(t):n===0?Go(e):`${Go(e)}/${Go(t)}`},Hh=(e,t,r,n,i,s)=>{var u,d,h,A,g,v,x,y,w,_;const a=e.currentTarget.closest("td"),l=e.currentTarget.closest("tr"),c=E=>E?!E.disabled&&!E.readOnly:!1;if(e.key==="ArrowRight"&&!e.shiftKey){e.preventDefault();const E=a==null?void 0:a.nextElementSibling,I=E==null?void 0:E.querySelector("input, textarea");I&&c(I)&&(I.focus(),(u=I.select)==null||u.call(I))}else if(e.key==="ArrowLeft"&&!e.shiftKey){e.preventDefault();const E=a==null?void 0:a.previousElementSibling,I=E==null?void 0:E.querySelector("input, textarea");I&&c(I)&&(I.focus(),(d=I.select)==null||d.call(I))}else if(e.key==="ArrowDown"){e.preventDefault();const E=l==null?void 0:l.nextElementSibling;if(E&&!E.classList.contains("bg-gray-100")){const I=Array.from(E.querySelectorAll("td")),N=Array.from((l==null?void 0:l.querySelectorAll("td"))||[]).indexOf(a),j=I[N],T=j==null?void 0:j.querySelector("input, textarea");T&&c(T)&&(T.focus(),(h=T.select)==null||h.call(T))}}else if(e.key==="ArrowUp"){e.preventDefault();const E=l==null?void 0:l.previousElementSibling;if(E&&E.tagName==="TR"){const I=Array.from(E.querySelectorAll("td")),N=Array.from((l==null?void 0:l.querySelectorAll("td"))||[]).indexOf(a),j=I[N],T=j==null?void 0:j.querySelector("input, textarea");T&&c(T)&&(T.focus(),(A=T.select)==null||A.call(T))}}else if(e.key==="Enter"){e.preventDefault();const E=a==null?void 0:a.nextElementSibling,I=E==null?void 0:E.querySelector("input, textarea");if(I&&c(I))I.focus(),(g=I.select)==null||g.call(I);else{const N=l==null?void 0:l.nextElementSibling;if(N&&!N.classList.contains("bg-gray-100")){const j=Array.from(N.querySelectorAll("td")).find(P=>{const k=P.querySelector("input, textarea");return k&&c(k)}),T=j==null?void 0:j.querySelector("input, textarea");T&&c(T)&&(T.focus(),(v=T.select)==null||v.call(T))}}}else if(e.key==="Tab"&&!e.shiftKey){e.preventDefault();const E=a==null?void 0:a.nextElementSibling,I=E==null?void 0:E.querySelector("input, textarea");if(I&&c(I))I.focus(),(x=I.select)==null||x.call(I);else{const N=l==null?void 0:l.nextElementSibling;if(N&&!N.classList.contains("bg-gray-100")){const j=Array.from(N.querySelectorAll("td")).find(P=>{const k=P.querySelector("input, textarea");return k&&c(k)}),T=j==null?void 0:j.querySelector("input, textarea");T&&c(T)&&(T.focus(),(y=T.select)==null||y.call(T))}}}else if(e.key==="Tab"&&e.shiftKey){e.preventDefault();const E=a==null?void 0:a.previousElementSibling,I=E==null?void 0:E.querySelector("input, textarea");if(I&&c(I))I.focus(),(w=I.select)==null||w.call(I);else{const N=l==null?void 0:l.previousElementSibling;if(N&&N.tagName==="TR"){const j=Array.from(N.querySelectorAll("td")).filter(k=>{const R=k.querySelector("input, textarea");return R&&c(R)}),T=j[j.length-1],P=T==null?void 0:T.querySelector("input, textarea");P&&c(P)&&(P.focus(),(_=P.select)==null||_.call(P))}}}},nE={:["","","","","","","",""],:["","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","",""],:["","","","","","","","","","",""],:[" "," ","","","","","","","","",""],:["","","","","","","","","",""]},TTt={Sindhudurg:"",Ratnagiri:"",Kolhapur:"",Sangli:"",Satara:"",Solapur:"",Latur:""},BTt={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",Atpadi:"",Jat:"",Kadegaon:"",Kavathemahankal:"",Khanapur:"",Miraj:"",Palus:"",Sangli:"",Shirala:"",Tasgaon:"",Walwa:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""," ":" "," ":" ",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},iee=(e,t)=>{if(!e)return"";const r=e.trim();return t==="district"?TTt[r]||e:t==="taluka"&&BTt[r]||e},Kw=Object.entries(nE).reduce((e,[t,r])=>(r.forEach(n=>{e[n]=t}),e),{}),see=e=>(e||"").toString().replace(/\s+/g," ").trim(),aee=Object.keys(nE).reduce((e,t)=>(e[t.toLowerCase()]=t,e),{}),oee=Object.values(nE).flat().reduce((e,t)=>(e[t.toLowerCase()]=t,e),{}),ITt=()=>{var ki;const e=ds(),t=localStorage.getItem("userRole")||"superadmin";C.useEffect(()=>{t==="latur"&&e("/latur-operator")},[t,e]);const[r,n]=C.useState(""),[i,s]=C.useState(null),[a,l]=C.useState([]),[c,u]=C.useState([]),[d,h]=C.useState(""),[A,g]=C.useState(""),[v,x]=C.useState(""),[y,w]=C.useState([]),[_,E]=C.useState(!1),[I,N]=C.useState([]),[j,T]=C.useState(!1),[P,k]=C.useState({}),[R,O]=C.useState(!1),[M,H]=C.useState([]);C.useState("");const[K,Y]=C.useState(!1),ne=C.useRef(null),le=C.useRef(null),te=C.useRef(null),X=C.useRef(null),{toast:ue}=Lo(),[ve,V]=C.useState("    "),[q,ee]=C.useState(""),[re,de]=C.useState(!1),[Ae,_e]=C.useState(" , , "),[ye,ce]=C.useState(""),[Ne,oe]=C.useState(!1),[We,Re]=C.useState("8"),[z,Fe]=C.useState(new Date),[He,ke]=C.useState("100"),[Te,Ze]=C.useState("100"),[ze,Tt]=C.useState("-"),[Bt,mt]=C.useState(""),[_t,jt]=C.useState(!1),[or,St]=C.useState("/-"),[at,Ut]=C.useState([]);C.useState("");const[qt,Er]=C.useState(!1),[Kt,xt]=C.useState(!1),[pr,Ke]=C.useState(!1),[gt,gr]=C.useState("18"),[Ct,$t]=C.useState("18"),[hr,mr]=C.useState("18"),[er,sr]=C.useState([{id:"1",itemName:"",billAmount:"",quantity:""}]),[Zt,br]=C.useState([{id:"1",itemName:"",billAmount:"",discountAmount:"",discount:"",discountPrice:"",gst18:"",percentDiscount:"",quantity:"",totalPrice:""}]),[Xr,Un]=C.useState(""),[Fr,Zn]=C.useState(""),[Mr,Jn]=C.useState(""),[bi,jn]=C.useState(""),[li,xe]=C.useState(new Date),[Ee,Ie]=C.useState(""),[je,De]=C.useState([{id:"1",itemName:"",unit:"",unitPrice:"",totalPrice:""}]),[Ue,lt]=C.useState(""),[bt,it]=C.useState(""),[ct,ht]=C.useState(""),[Vt,tr]=C.useState(""),[Jt,ar]=C.useState(""),[yr,tn]=C.useState(!1),[Nt,Ln]=C.useState(!1),[wn,oa]=C.useState(""),[xo,On]=C.useState(-1);C.useState("regular");const[Jr,xn]=C.useState({name:"",quantity:"",unit:"Nos",rate:"",description:""}),[Rn,wa]=C.useState([]),[ba,Pn]=C.useState([]),[la,Mo]=C.useState([]),[un,Oa]=C.useState(!1),[ca,Ci]=C.useState(!1),[ui,ws]=C.useState(!1);C.useEffect(()=>{ut(),Bc()},[]),C.useEffect(()=>{let he=[...a];d&&d!=="all"&&(he=he.filter(Ge=>Ge.district===d)),A&&A!=="all"&&(he=he.filter(Ge=>Ge.taluka===A)),v&&v!=="all"&&(he=he.filter(Ge=>`${Ge.village}-${Ge.lgdCode}`===v)),u(he)},[d,A,v,a]),C.useEffect(()=>{if(A&&A!=="all"){const he=a.filter(Ge=>Ge.taluka===A&&(d==="all"||!d||Ge.district===d));w(he)}else if(d&&d!=="all"){const he=a.filter(Ge=>Ge.district===d);w(he)}else w([])},[A,d,a]);const ut=async()=>{try{console.log(" Loading all LGD data from Firebase..."),console.log(" Firebase DB instance:",Et?"Connected":"Not connected");const he=jr(Et,"lgd_data");console.log(" Collection reference created");const Ge=await Si(he);console.log(" Query snapshot received, size:",Ge.size);const st=[];Ge.forEach(ur=>{const dr=ur.data();console.log(" Document:",ur.id,dr),st.push({id:ur.id,lgdCode:dr.lgdCode||"",village:dr.village||"",district:dr.district||"",taluka:dr.taluka||""})}),console.log(" Loaded data array length:",st.length);const pt=ur=>/^\d+$/.test((ur||"").trim()),fr=st.map(ur=>{let dr=see(ur.district),lr=see(ur.taluka);return lr&&oee[lr.toLowerCase()]&&(lr=oee[lr.toLowerCase()]),dr&&aee[dr.toLowerCase()]&&(dr=aee[dr.toLowerCase()]),(!dr||pt(dr))&&lr&&Kw[lr]&&(dr=Kw[lr]),lr&&Kw[lr]&&dr&&dr!==Kw[lr]&&(dr=Kw[lr]),{...ur,district:dr,taluka:lr}});console.log(" Normalized data length:",fr.length),console.log(" Setting allData and filteredData..."),l(fr),u(fr),console.log(" Loaded",st.length,"records from Firebase"),ue({title:"Data Loaded",description:`Loaded ${st.length} records from database`})}catch(he){console.error(" Error loading data:",he),console.error(" Error message:",he.message),console.error(" Error stack:",he.stack),ue({title:"Error Loading Data",description:he.message||"Failed to load data from Firebase",variant:"destructive"})}},Le=()=>{H([]),O(!0),Er(!1),xt(!1)},Lr=async()=>{try{T(!0),console.log(" Loading inventory from Firebase...");const he=await xa.getItems();console.log(" Loaded items from Firebase:",he.length),console.log(" Sample items:",he.slice(0,3)),N(he),he.length===0&&ue({title:"No Items Found",description:"No items found in Firebase inventory. Please add items first.",variant:"destructive"})}catch(he){console.error(" Failed to load inventory:",he),ue({title:"Inventory error",description:"Could not load current inventory",variant:"destructive"})}finally{T(!1)}};C.useEffect(()=>{i&&Lr()},[i==null?void 0:i.lgdCode]);const hs=(he,Ge,st,pt)=>{const fr=he.internal.pageSize.getWidth(),ur=he.internal.pageSize.getHeight(),dr=10,lr=fr-2*dr,Wr=ur-2*dr;let vn=lr,Hn=pt*vn/st;Hn>Wr&&(Hn=Wr,vn=st*Hn/pt);const wr=(fr-vn)/2,ji=dr;he.addImage(Ge,"PNG",wr,ji,vn,Hn,void 0,"FAST")},Ps=async()=>{try{if(!ne.current)return;Y(!0),await new Promise(ur=>setTimeout(ur,100));const he=await Vc(ne.current,{scale:2,useCORS:!0,allowTaint:!1,logging:!1,backgroundColor:"#ffffff"}),Ge=he.toDataURL("image/png"),st=new Hr("p","mm",[280,350]);if(hs(st,Ge,he.width,he.height),Rn.length>0){console.log(` Adding ${Rn.length} product pages to PDF...`),console.log(" Products:",Rn.map(ur=>({name:ur.name,image:ur.image_url,desc:ur.description_image_url})));for(let ur=0;ur<Rn.length;ur++){const dr=Rn[ur];console.log(`
 Processing product ${ur+1}: ${dr.name}`),console.log(`   Image URL: ${dr.image_url||"NONE"}`),console.log(`   Description Image: ${dr.description_image_url||"NONE"}`);const lr=document.getElementById(`product-page-${ur}`);if(!lr){console.error(` Page element not found: product-page-${ur}`);continue}console.log(` Found page element for product ${ur+1}`);const Wr=lr.querySelectorAll("img");console.log(` Found ${Wr.length} images on page ${ur+1}`),Wr.length>0&&await Promise.all(Array.from(Wr).map(($n,Pi)=>(console.log(`   Image ${Pi+1} src: ${$n.src.substring(0,80)}...`),console.log(`   Image ${Pi+1} complete: ${$n.complete}, naturalWidth: ${$n.naturalWidth}`),$n.complete&&$n.naturalWidth>0?(console.log(`    Image ${Pi+1} already loaded`),Promise.resolve()):new Promise(ti=>{const qs=setTimeout(()=>{console.log(`    Image ${Pi+1} timed out after 30 seconds`),ti(null)},3e4);if($n.onload=()=>{clearTimeout(qs),console.log(`    Image ${Pi+1} loaded successfully (${$n.naturalWidth}x${$n.naturalHeight})`),ti(null)},$n.onerror=yn=>{clearTimeout(qs),console.error(`    Image ${Pi+1} failed to load:`,yn),ti(null)},!$n.complete){const yn=$n.src;$n.src="",$n.src=yn}})))),console.log(` Waiting 3 seconds for page ${ur+1} to render...`),await new Promise($n=>setTimeout($n,3e3)),console.log(` Ready to capture page ${ur+1}`),st.addPage(),console.log(` Capturing page ${ur+1}...`);const vn=await Vc(lr,{scale:2,useCORS:!0,allowTaint:!1,backgroundColor:"#ffffff",logging:!1}),Hn=vn.toDataURL("image/png"),wr=210,ji=wr,Ni=vn.height*wr/vn.width;st.addImage(Hn,"PNG",0,0,ji,Ni),console.log(` Added product page ${ur+1}/${Rn.length}: ${dr.name}`)}}const pt=`THARVA_${(i==null?void 0:i.lgdCode)||"LGD"}_${new Date().toISOString().slice(0,10)}.pdf`;st.save(pt),await rn("Invoice THARVA - Downloaded"),Y(!1);const fr=1+Rn.length;ue({title:"PDF Downloaded ",description:`${pt} with ${fr} page(s) has been downloaded`})}catch(he){console.error("PDF generation failed:",he),Y(!1),ue({title:"PDF failed",description:"Please ensure html2canvas is installed",variant:"destructive"})}},Uo=async()=>{try{if(!ne.current||!i)return;if(!ve||!ze||!Ae){ue({title:"Missing Information",description:"Please fill in Scheme, Scheme Year, and Fund Source before sending.",variant:"destructive"});return}if(!Ue||!bt||!ct){ue({title:"Missing Location Information",description:"Please ensure Village, Taluka, and District names are filled.",variant:"destructive"});return}Y(!0),ue({title:" Generating PDF for Latur Operator...",description:`Processing ${1+Rn.length} page(s). This may take a moment...`,duration:15e3}),await new Promise(wr=>setTimeout(wr,100));const he=await Vc(ne.current,{scale:.75,useCORS:!0,allowTaint:!1,logging:!1,backgroundColor:"#ffffff"}),Ge=he.toDataURL("image/jpeg",.6),st=new Hr("p","mm",[280,350]);hs(st,Ge,he.width,he.height);const pt=Rn.filter((wr,ji,Ni)=>ji===Ni.findIndex($n=>$n.id===wr.id));if(pt.length!==Rn.length&&console.warn(" Removed duplicate products:",Rn.length-pt.length),pt.length>0){console.log(` Adding ${pt.length} product pages to Latur PDF...`),console.log(" Products array:",pt.map(wr=>({id:wr.id,name:wr.name})));for(let wr=0;wr<pt.length;wr++){const ji=pt[wr],Ni=document.getElementById(`product-page-${wr}`);if(Ni){console.log(` Waiting for product page ${wr+1}/${pt.length} images to load...`);const $n=Ni.querySelectorAll("img");console.log(`Found ${$n.length} images on page ${wr+1}`),await Promise.all(Array.from($n).map((Ui,Os)=>Ui.complete?(console.log(`Image ${Os+1} already loaded`),Promise.resolve()):new Promise(Da=>{Ui.onload=()=>{console.log(`Image ${Os+1} loaded successfully`),Da(null)},Ui.onerror=()=>{console.log(`Image ${Os+1} failed to load`),Da(null)},setTimeout(()=>{console.log(`Image ${Os+1} timed out`),Da(null)},3e4)}))),console.log(` Waiting 2 seconds for page ${wr+1} to render...`),await new Promise(Ui=>setTimeout(Ui,2e3)),console.log(` All images loaded for page ${wr+1}`),st.addPage();const Pi=await Vc(Ni,{scale:.75,useCORS:!0,allowTaint:!1,backgroundColor:"#ffffff",logging:!1}),ti=Pi.toDataURL("image/jpeg",.5),qs=210,yn=qs,Wi=Pi.height*qs/Pi.width;st.addImage(ti,"JPEG",0,0,yn,Wi),console.log(` Added product page ${wr+1} to Latur PDF: ${ji.name}`)}}}const fr=st.output("blob"),ur=1+pt.length;console.log(` Total pages: ${ur}`),console.log(` PDF size: ${(fr.size/1024/1024).toFixed(2)} MB`),console.log(" Converting PDF to base64...");const dr=st.output("dataurlstring");console.log(" PDF converted to base64");const lr={lgdCode:i.lgdCode,village:Ue||i.village,taluka:bt||i.taluka||"",district:ct||i.district||"",scheme:ve,schemeYear:ze,fundOption:Ae,amount:or,tharvaDate:z,pdfData:dr,products:pt.map(wr=>({id:wr.id,name:wr.name,quantity:wr.quantity,image_url:wr.image_url,description_image_url:wr.description_image_url})),createdAt:Yi(),status:"pending",read:!1,downloaded:!1,type:"regular"};console.log(" ========== SENDING THARVA TO FIREBASE =========="),console.log(" Village:",lr.village),console.log(" LGD Code:",lr.lgdCode),console.log(" Products Count:",pt.length),console.log(" Products:",pt.map(wr=>`${wr.name} (Qty: ${wr.quantity})`).join(", ")),console.log(" AMOUNT VALUE:",or),console.log(" AMOUNT TYPE:",typeof or),console.log(" AMOUNT IN DATA:",lr.amount),console.log(" THARVA DATE VALUE:",z),console.log(" THARVA DATE TYPE:",typeof z),console.log(" THARVA DATE toString:",z.toString()),console.log(" THARVA DATE IN DATA:",lr.tharvaDate),console.log(" Date components:",{day:z.getDate(),month:z.getMonth()+1,year:z.getFullYear(),formatted:`${z.getDate()}/${z.getMonth()+1}/${z.getFullYear()}`}),console.log(" ================================================"),console.log(" Attempting to save to Firebase..."),console.log(" Data to save:",{lgdCode:lr.lgdCode,village:lr.village,type:lr.type,productsCount:lr.products.length,hasPdfData:!!lr.pdfData,pdfSize:lr.pdfData?`${(lr.pdfData.length/1024/1024).toFixed(2)} MB`:"0 MB"});const Wr=lr.pdfData?lr.pdfData.length/1024/1024:0;Wr>.9&&(console.warn(" WARNING: PDF size is very large:",Wr.toFixed(2),"MB"),console.warn(" Firestore limit is 1MB per document. This may fail!"));const vn=jr(Et,"latur_operator_tharvas");console.log(" Calling addDoc...");const Hn=await ka(vn,lr);console.log(" Document saved with ID:",Hn.id),console.log(" Document path: latur_operator_tharvas/"+Hn.id),console.log(" SUCCESS! THARVA is now in Firestore!");try{const wr=jr(Et,"tharva_drafts"),ji=Ai(wr,Xa("lgdCode","==",i.lgdCode),Xa("type","==","regular")),Ni=await Si(ji);if(!Ni.empty){const $n=Ni.docs.map(Pi=>Yc(pn(Et,"tharva_drafts",Pi.id)));await Promise.all($n),console.log(` Deleted ${Ni.size} matching draft(s) for LGD ${i.lgdCode}`),Fs()}}catch(wr){console.error(" Error deleting draft:",wr)}await rn("Invoice THARVA - Sent to Latur"),Y(!1),ws(!0),El(),ue({title:"THARVA Sent Successfully! ",description:`THARVA saved to Firebase with ID: ${Hn.id}. Draft removed.`})}catch(he){console.error(" ========== SEND FAILED =========="),console.error(" Send failed:",he),console.error(" Error code:",he.code),console.error(" Error message:",he.message),console.error(" Error name:",he.name),console.error(" Full error:",JSON.stringify(he,null,2)),console.error(" Stack trace:",he.stack),console.error(" ==================================="),Y(!1),ue({title:"Send failed",description:`Error: ${he.message||"Could not send THARVA to operator"}`,variant:"destructive"})}},al=async(he,Ge)=>{try{if(!i){ue({title:"No Data",description:"Please search for LGD Code first",variant:"destructive"});return}const st={type:he,status:"draft",lgdCode:i.lgdCode,village:Ue||i.village,taluka:bt||i.taluka||"",district:ct||i.district||"",scheme:ve,customScheme:q,isCustomScheme:re,schemeYear:ze,customSchemeYear:Bt,isCustomSchemeYear:_t,fundOption:Ae,customFundOption:ye,isCustomFundOption:Ne,amount:or,pramaNumber:We,tharavNumber1:He,tharavNumber2:Te,tharvaDate:z,khardiDate:li,customProductsText:Vt,selectedTharvaProducts:Rn,invoiceItems:M,productNotes:P,productList:at,gemId:Xr,gemPassword:Fr,gemPortalId:Mr,graJiAaName:bi,mobileNumber:Ee,khardiRows:je,businessRows:Zt,businessGstPercent:gt,commissionRows:er,commissionGstPercent:Ct,commissionTotalPercent:hr,clientSignature:Jt,marathiVillage:Ue,marathiTaluka:bt,marathiDistrict:ct,updatedAt:Yi()},pt=jr(Et,"tharva_drafts");let fr=Ge;if(!Ge){const ur={...st,createdAt:Yi()};fr=(await ka(pt,ur)).id,ue({title:" Draft Saved!",description:`${he==="regular"?"THARVA":"Direct Khardi"} saved as draft`})}return Fs(),fr}catch(st){console.error("Draft save error:",st),ue({title:"Failed to Save Draft",description:st.message,variant:"destructive"})}},Fs=async()=>{try{const he=jr(Et,"tharva_drafts"),Ge=Ai(he,ia("createdAt","desc")),st=await Si(Ge),pt=[];st.forEach(fr=>{pt.push({id:fr.id,...fr.data()})}),Mo(pt)}catch(he){console.error("Error loading drafts:",he)}},en=he=>{var Ge,st;s({lgdCode:he.lgdCode,village:he.village,taluka:he.taluka,district:he.district}),lt(he.marathiVillage||he.village),it(he.marathiTaluka||he.taluka),ht(he.marathiDistrict||he.district),V(he.scheme||"    "),ee(he.customScheme||""),de(he.isCustomScheme||!1),Tt(he.schemeYear||"-"),mt(he.customSchemeYear||""),jt(he.isCustomSchemeYear||!1),_e(he.fundOption||" , , "),ce(he.customFundOption||""),oe(he.isCustomFundOption||!1),St(he.amount||"/-"),Re(he.pramaNumber||"8"),ke(he.tharavNumber1||"100"),Ze(he.tharavNumber2||"100"),Fe((Ge=he.tharvaDate)!=null&&Ge.toDate?he.tharvaDate.toDate():new Date(he.tharvaDate||Date.now())),xe((st=he.khardiDate)!=null&&st.toDate?he.khardiDate.toDate():new Date(he.khardiDate||Date.now())),tr(he.customProductsText||""),wa(he.selectedTharvaProducts||[]),H(he.invoiceItems||[]),k(he.productNotes||{}),Ut(he.productList||[]),ar(he.clientSignature||""),br(he.businessRows||[{id:"1",itemName:"",billAmount:"",discountAmount:"",discount:"",discountPrice:"",gst18:"",percentDiscount:"",quantity:"",totalPrice:""}]),gr(he.businessGstPercent||"18"),sr(he.commissionRows||[{id:"1",itemName:"",billAmount:"",quantity:""}]),$t(he.commissionGstPercent||"18"),mr(he.commissionTotalPercent||"18"),he.type==="direct_khardi"?(Un(he.gemId||""),Zn(he.gemPassword||""),Jn(he.gemPortalId||""),jn(he.graJiAaName||""),Ie(he.mobileNumber||""),De(he.khardiRows||[{id:"1",itemName:"",unit:"",unitPrice:"",totalPrice:""}]),Er(!0),O(!1),xt(!1),Ke(!1)):(O(!0),Er(!1),xt(!1),Ke(!1)),Oa(!1),ue({title:" Draft Loaded - 100% State Restored",description:"All fields, products, and formatting restored exactly as saved",duration:4e3})},Mi=async he=>{if(confirm("Delete this draft?"))try{await Yc(pn(Et,"tharva_drafts",he)),ue({title:" Draft Deleted",description:"Draft removed successfully"}),Fs()}catch(Ge){ue({title:"Failed to Delete",description:Ge.message,variant:"destructive"})}};C.useEffect(()=>{Fs()},[]);const ru=()=>{if(!Jr.name||!Jr.quantity||!Jr.rate){ue({title:"Missing Information",description:"Please fill all required fields",variant:"destructive"});return}const he={id:Date.now().toString(),name:Jr.name,quantity:parseInt(Jr.quantity)||1,unit:Jr.unit,rate:parseFloat(Jr.rate)||0,description:Jr.description||`${Jr.name} - Manual Entry`,category:"Manual",inStock:!0};Ut(Ge=>[...Ge,`${he.name} - ${he.quantity} ${he.unit}`]),xn({name:"",quantity:"",unit:"Nos",rate:"",description:""}),tn(!1)},tc=he=>{const Ge=he.toLowerCase();return Ge.includes("cctv")||Ge.includes("camera")||Ge.includes("security")?[{id:"1",name:"cctv",quantity:"2",unit:"Nos",rate:"200",amount:"400",description:"cctv - CCTV Camera @ 200"}]:Ge.includes("bulb")||Ge.includes("light")||Ge.includes("led")||Ge.includes("")?[{id:"1",name:"bulb",quantity:"30",unit:"Nos",rate:"510",amount:"15300",description:"bulb - LED Bulb @ 510"}]:Ge.includes("fan")||Ge.includes("")?[{id:"1",name:"fan",quantity:"5",unit:"Nos",rate:"1500",amount:"7500",description:"fan - Ceiling Fan @ 1500"}]:Ge.includes("solar")||Ge.includes("")?[{id:"1",name:"solar panel",quantity:"4",unit:"Nos",rate:"5000",amount:"20000",description:"solar panel - Solar Panel @ 5000"}]:Ge.includes("pump")||Ge.includes("")?[{id:"1",name:"pump",quantity:"1",unit:"Set",rate:"15000",amount:"15000",description:"pump - Water Pump System @ 15000"}]:Ge.includes("powder")||Ge.includes("")?[{id:"1",name:"powder",quantity:"2",unit:"Nos",rate:"85",amount:"170",description:"powder - Installation Powder @ 85"}]:[{id:"1",name:"cctv",quantity:"2",unit:"Nos",rate:"200",amount:"400",description:"cctv - CCTV Camera (Direct Purchase) @ 200"},{id:"2",name:"powder",quantity:"2",unit:"Nos",rate:"85",amount:"170",description:"powder - Installation Powder @ 85"}]},vo=()=>{const he=[];return je.forEach((Ge,st)=>{if(Ge.itemName&&Ge.itemName.trim()){const pt=parseInt(Ge.unit)||1,fr=parseFloat(Ge.unitPrice)||0,ur=parseFloat(Ge.totalPrice)||pt*fr;he.push({id:(st+1).toString(),name:Ge.itemName.trim(),quantity:pt.toString(),unit:"Nos",rate:fr.toString(),amount:ur.toString(),description:`${Ge.itemName.trim()} - Direct Purchase @ ${fr}`})}}),console.log(" Extracted actual products from Direct Khardi form:",he),he.length===0?(console.log(" No products found in form, using fallback based on scheme"),tc(ve)):he},Qu=async()=>{try{if(!le.current||!i)return;Y(!0),await new Promise(ti=>setTimeout(ti,100));const he=(await ml(async()=>{const{default:ti}=await Promise.resolve().then(()=>g2);return{default:ti}},void 0)).default,Ge=await he(le.current,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff"}),st=Ge.toDataURL("image/png"),pt=new Hr("p","mm","a4"),fr=pt.internal.pageSize.getWidth(),ur=pt.internal.pageSize.getHeight(),dr=fr-20,lr=Ge.height*dr/Ge.width;let Wr=lr,vn=10;for(pt.addImage(st,"PNG",10,vn,dr,lr,void 0,"FAST"),Wr-=ur;Wr>0;)pt.addPage(),vn=10-(lr-Wr),pt.addImage(st,"PNG",10,vn,dr,lr,void 0,"FAST"),Wr-=ur;const Hn=vo();console.log(" Direct Khardi - Saving directly to Firestore (no Storage upload)"),console.log(" Actual products from form:",Hn);const wr={lgdCode:i.lgdCode,village:Ue||i.village,taluka:bt||i.taluka||"",district:ct||i.district||"",scheme:ve,schemeYear:ze,fundOption:Ae,amount:or,tharvaDate:li,pdfGenerated:!0,createdAt:Yi(),status:"pending",read:!1,downloaded:!1,type:"direct_khardi",extractedProducts:Hn,totalProducts:Hn.length,totalProductsSent:0,directKhardiStatus:"products_extracted",allProductsSent:!1,createdBy:"admin",createdFrom:"lgd_info_page"};console.log(" Sending Direct Khardi THARVA:",{village:wr.village,taluka:wr.taluka,district:wr.district,lgdCode:wr.lgdCode,type:"direct_khardi",scheme:wr.scheme,extractedProducts:wr.extractedProducts,totalProducts:wr.totalProducts}),console.log(" Attempting to save Direct Khardi to Firebase..."),console.log(" Data to save:",{lgdCode:wr.lgdCode,village:wr.village,type:wr.type,productsCount:wr.extractedProducts.length});const ji=jr(Et,"directkhardi"),Ni=await ka(ji,wr);console.log(" Direct Khardi saved to directkhardi collection with ID:",Ni.id);const $n=jr(Et,"latur_operator_tharvas"),Pi=await ka($n,wr);console.log(" Direct Khardi also saved to latur_operator_tharvas with ID:",Pi.id);try{const ti=jr(Et,"tharva_drafts"),qs=Ai(ti,Xa("lgdCode","==",i.lgdCode),Xa("type","==","direct_khardi")),yn=await Si(qs);if(!yn.empty){const Wi=yn.docs.map(Ui=>Yc(pn(Et,"tharva_drafts",Ui.id)));await Promise.all(Wi),console.log(` Deleted ${yn.size} matching Direct Khardi draft(s) for LGD ${i.lgdCode}`),Fs()}}catch(ti){console.error(" Error deleting draft:",ti)}await rn("Invoice THARVA - Sent as Direct Khardi"),Y(!1),El(),ue({title:"Direct Khardi Sent Successfully! ",description:"THARVA has been sent to Latur Operator. Draft removed."})}catch(he){console.error("Send Direct Khardi failed:",he),Y(!1),ue({title:"Send failed",description:"Could not send Direct Khardi to operator",variant:"destructive"})}},El=()=>{try{const he=new(window.AudioContext||window.webkitAudioContext),Ge=he.createOscillator(),st=he.createGain();Ge.connect(st),st.connect(he.destination),Ge.frequency.value=800,Ge.type="sine",st.gain.setValueAtTime(.3,he.currentTime),st.gain.exponentialRampToValueAtTime(.01,he.currentTime+.2),Ge.start(he.currentTime),Ge.stop(he.currentTime+.2);const pt=he.createOscillator(),fr=he.createGain();pt.connect(fr),fr.connect(he.destination),pt.frequency.value=600,pt.type="sine",fr.gain.setValueAtTime(.3,he.currentTime+.25),fr.gain.exponentialRampToValueAtTime(.01,he.currentTime+.45),pt.start(he.currentTime+.25),pt.stop(he.currentTime+.45)}catch(he){console.error("Sound playback failed:",he)}},Ho=async()=>{try{if(!le.current)return;const he=(await ml(async()=>{const{default:wr}=await Promise.resolve().then(()=>g2);return{default:wr}},void 0)).default,Ge=await he(le.current,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff"}),st=Ge.toDataURL("image/png"),pt=new Hr("p","mm","a4"),fr=pt.internal.pageSize.getWidth(),ur=pt.internal.pageSize.getHeight(),dr=fr-20,lr=Ge.height*dr/Ge.width;let Wr=lr,vn=10;for(pt.addImage(st,"PNG",10,vn,dr,lr,void 0,"FAST"),Wr-=ur;Wr>0;)pt.addPage(),vn=10-(lr-Wr),pt.addImage(st,"PNG",10,vn,dr,lr,void 0,"FAST"),Wr-=ur;const Hn=`DirectKhardi_${(i==null?void 0:i.lgdCode)||"LGD"}_${new Date().toISOString().slice(0,10)}.pdf`;pt.save(Hn),await rn("Direct Khardi - Downloaded"),ue({title:"PDF Downloaded ",description:`${Hn} has been downloaded`})}catch(he){console.error("PDF generation failed:",he),ue({title:"PDF failed",description:"Please ensure html2canvas is installed",variant:"destructive"})}},bs=async he=>{var st;const Ge=(st=he.target.files)==null?void 0:st[0];if(Ge){E(!0);try{console.log(" Reading Excel file:",Ge.name),console.log(" File size:",Ge.size,"bytes"),console.log(" File type:",Ge.type);const pt=await Ge.arrayBuffer();console.log(" File read successfully");const fr=xL(pt,{cellNF:!1,cellText:!1,cellFormula:!1,cellStyles:!1});console.log(" Workbook created, sheets:",fr.SheetNames);const ur=fr.Sheets[fr.SheetNames[0]];console.log(" Reading sheet:",fr.SheetNames[0]);const dr=M1.decode_range(ur["!ref"]||"A1");console.log(" Worksheet range:",dr);const lr=[];for(let It=dr.s.r;It<=dr.e.r;++It){const cr=[];for(let Dt=dr.s.c;Dt<=dr.e.c;++Dt){const F=M1.encode_cell({r:It,c:Dt}),Z=ur[F];let ie="";Z&&(Z.v!==void 0?ie=Z.v:Z.w!==void 0&&(ie=Z.w)),cr.push(ie)}lr.push(cr)}console.log(" Raw data (first 10 rows):",lr.slice(0,10));let Wr="",vn="";const Hn=It=>It.toLowerCase().replace(/[^a-z0-9]+/g,""),wr=It=>It.replace(/^"+|"+$/g,"").replace(/^'+|'+$/g,"").trim(),ji=It=>{const cr=It.indexOf(":")>=0?It.indexOf(":"):It.indexOf("");return cr>=0?It.slice(cr+1).trim():""},Ni=(It,cr,Dt,F)=>{var Ce,tt;const Z=String(It[cr]??"").trim(),ie=ji(Z);if(ie)return wr(ie);for(let At=cr+1;At<Math.min(cr+8,It.length);At++){const rr=String(It[At]??"").trim();if(rr)return wr(rr)}if(F&&typeof Dt=="number")for(let At=Dt+1;At<Math.min(Dt+6,F.length);At++){const rr=String(((Ce=F[At])==null?void 0:Ce[cr])??"").trim();if(rr)return wr(rr);const bn=String(((tt=F[At])==null?void 0:tt[cr+1])??"").trim();if(bn)return wr(bn)}return""},$n=Hn("Zilla Panchayat and Equivalent"),Pi=Hn("Block Panchayat and Equivalent");for(let It=0;It<Math.min(200,lr.length);It++){const cr=lr[It];for(let Dt=0;Dt<Math.min(50,cr.length);Dt++){const F=String(cr[Dt]??"").trim(),Z=Hn(F);if(!Wr&&Z.includes($n)){const ie=Ni(cr,Dt,It,lr);ie&&(Wr=ie,console.log(" Sheet-level District detected:",Wr))}if(!vn&&Z.includes(Pi)){const ie=Ni(cr,Dt,It,lr);ie&&(vn=ie,console.log(" Sheet-level Taluka detected:",vn))}}if(Wr&&vn)break}if(lr.length===0)throw new Error("Excel file is empty");let ti=-1,qs=-1,yn=-1,Wi=-1,Ui=-1,Os="",Da="";for(let It=0;It<Math.min(15,lr.length);It++){const cr=lr[It];console.log(`Checking row ${It}:`,cr);for(let Dt=0;Dt<cr.length;Dt++){const F=String(cr[Dt]||"").toLowerCase();if(F.includes("lgd")&&F.includes("code")&&(qs=Dt,ti=It,console.log(` Found "LGD Code" at row ${It}, col ${Dt}: "${cr[Dt]}"`)),F.includes("village")&&F.includes("panchayat")&&(yn=Dt,ti===-1&&(ti=It),console.log(` Found "Village Panchayat" at row ${It}, col ${Dt}: "${cr[Dt]}"`)),F.includes("district")||F.includes("zilla")||F.includes("sub")&&F.includes("district")){const Z=F.includes("code")||/\bcd\b/.test(F),ie=F.includes("name")||F.includes("nam");(Wi===-1||ie&&!Z)&&(Wi=Dt,Os=String(cr[Dt]||"District"),ti===-1&&(ti=It),console.log(` Found "District" at row ${It}, col ${Dt}: "${cr[Dt]}"`))}if(F.includes("taluka")||F.includes("tehsil")||F.includes("tahsil")||F.includes("block")||F.includes("sub")&&F.includes("district")){const Z=F.includes("code")||/\bcd\b/.test(F),ie=F.includes("name")||F.includes("nam");(Ui===-1||ie&&!Z)&&(Ui=Dt,Da=String(cr[Dt]||"Taluka"),ti===-1&&(ti=It),console.log(` Found "Taluka" at row ${It}, col ${Dt}: "${cr[Dt]}"`))}}if(qs!==-1&&yn!==-1){console.log(` Found main columns at row ${ti}`);break}}let dt=[];if(qs!==-1&&yn!==-1&&ti!==-1)console.log(` Extracting data from columns: LGD=${qs}, Village=${yn}, District=${Wi}, Taluka=${Ui}`),dt=lr.slice(ti+1).map((It,cr)=>{const Dt=String(It[qs]||"").trim(),F=String(It[yn]||"").trim(),Z=Wi!==-1?String(It[Wi]||"").trim():"",ie=Ui!==-1?String(It[Ui]||"").trim():"";return cr<5&&console.log(`Row ${cr}: LGD="${Dt}", Village="${F}", District="${Z}", Taluka="${ie}"`),{"LGD Code":Dt,"Village Panchayat and Equivalent":F,[Os||"District"]:Z,[Da||"Taluka"]:ie}}).filter(It=>It["LGD Code"]&&It["Village Panchayat and Equivalent"]);else{console.log(" Could not find LGD/Village columns, using fallback method"),ti=0;const It=lr[0].map((cr,Dt)=>String(cr||`Column_${Dt}`).trim());dt=lr.slice(1).map(cr=>{const Dt={};return It.forEach((F,Z)=>{Dt[F]=String(cr[Z]||"").trim()}),Dt}).filter(cr=>Object.values(cr).some(Dt=>Dt&&String(Dt).trim()!==""))}if(console.log(" Converted to JSON"),console.log(" Total data rows:",dt.length),dt.length===0){console.warn(" Primary parsing produced 0 rows. Trying sheet_to_json fallback...");try{const cr=M1.sheet_to_json(ur,{header:1,defval:"",blankrows:!1,raw:!0})||[];if(console.log(" sheet_to_json rows:",cr.length),cr.length>1){const Dt=cr[0].map((F,Z)=>String(F||`Column_${Z}`).trim());dt=cr.slice(1).map(F=>{const Z={};return Dt.forEach((ie,Ce)=>{Z[ie]=String(F[Ce]??"").trim()}),Z}).filter(F=>Object.values(F).some(Z=>String(Z).trim()!==""))}}catch(It){console.error(" sheet_to_json fallback failed:",It)}}if(dt.length===0)throw new Error("No data rows found in Excel file");if(console.log(" Raw Excel data (first 3 rows):",dt.slice(0,3)),console.log(" Total data rows:",dt.length),dt.length===0)throw new Error("No data found in Excel file");console.log(" First row:",dt[0]);const G=Object.keys(dt[0]||{});console.log(" Column names:",G),console.log(" First row values:"),G.forEach(It=>{console.log(`  "${It}": "${dt[0][It]}"`)});let fe="",Oe="";console.log(" Starting column detection..."),console.log(" Available columns:",G);for(const It of G){const cr=It.toLowerCase().replace(/\s+/g,"");!fe&&(cr.includes("lgd")||cr.includes("code"))&&(fe=It,console.log(" Found LGD Code column by name:",It)),!Oe&&(cr.includes("village")||cr.includes("panchayat")||cr.includes("gram")||cr.includes("equivalent"))&&(Oe=It,console.log(" Found Village column by name:",It))}if(!fe||!Oe){console.log(" Using data-based detection...");const It=dt[0];console.log(" First row data:",It);const cr=G.map(Dt=>{const F=String(It[Dt]||"").trim(),Z=/^\d+$/.test(F),ie=F.length>0&&!/^\d+$/.test(F),Ce=Dt.toLowerCase(),tt=Ce.includes("state")||Ce.includes("district")||Ce.includes("yes")||Ce.includes("no")||Ce.includes("taluka")||Ce.includes("block")||F===""||F==="0";return{col:Dt,value:F,isNumeric:Z,hasText:ie,isSkippable:tt}});if(console.log(" Column analysis:",cr),!fe){const Dt=cr.find(F=>!F.isSkippable&&F.isNumeric);Dt&&(fe=Dt.col,console.log(" Detected LGD Code column by numeric data:",fe,"=",Dt.value))}if(!Oe){const Dt=cr.find(F=>!F.isSkippable&&F.hasText);Dt&&(Oe=Dt.col,console.log(" Detected Village column by text data:",Oe,"=",Dt.value))}}if(!fe||!Oe){console.log(" Using position-based fallback...");const It=dt[0],cr=G.filter(Dt=>{const F=String(It[Dt]||"").trim();return F&&F!=="0"});console.log(" Columns with data:",cr),cr.length>=2?(fe||(fe=cr[cr.length-2],console.log(" Fallback LGD Code column:",fe)),Oe||(Oe=cr[cr.length-1],console.log(" Fallback Village column:",Oe))):cr.length===1&&(fe=Oe=cr[0],console.log(" Only one column found, using for both:",cr[0]))}!fe&&G.length>0&&(fe=G[0],console.log(" Absolute fallback - using first column for LGD Code:",fe)),!Oe&&G.length>1?(Oe=G[1],console.log(" Absolute fallback - using second column for Village:",Oe)):!Oe&&G.length>0&&(Oe=G[0],console.log(" Absolute fallback - using first column for Village:",Oe)),console.log(" Final selection - LGD Code:",fe,"| Village:",Oe);const qe=Object.keys(dt[0]||{}).map(It=>It.toLowerCase()),nt=It=>Object.keys(dt[0]||{}).find(cr=>{const Dt=cr.toLowerCase();return It.some(F=>Dt.includes(F))}),Pt=nt(["district name","district(nam","zilla","district"])||Os||"District",Xt=nt(["taluka name","tehsil name","tahsil name","sub-district name","sub district name","block name","taluka","tehsil","tahsil","sub-district","sub district","block"])||Da||"Taluka",Rr=dt.map((It,cr)=>{let Dt=String(It[fe]||It["LGD Code"]||"").trim(),F=String(It[Oe]||It["Village Panchayat and Equivalent"]||"").trim(),Z=String(It[Pt]||It.District||"").trim(),ie=String(It[Xt]||It.Taluka||"").trim();Wr&&(Z=Wr),vn&&(ie=vn);const Ce=tt=>/^\d+$/.test(tt||"");if((Ce(Z)||Z==="0")&&(Z=Wr||""),(Ce(ie)||ie==="0")&&(ie=vn||""),Dt.toLowerCase().startsWith("note")){const tt=Dt.match(/\d+/);Dt=tt?tt[0]:Dt}if(F.toLowerCase().startsWith("note")){const tt=F.match(/note[:\-\s]+(.+?)(?:\s+i\.e\.|$)/i);F=tt?tt[1].trim():F}return cr<3&&console.log(`Row ${cr} mapped:`,{raw:{lgd:It[fe],village:It[Oe]},cleaned:{lgdCode:Dt,village:F,district:Z,taluka:ie}}),{lgdCode:Dt,village:F,district:Z,taluka:ie}}),_r=Rr.filter(It=>{const cr=It.lgdCode&&It.lgdCode.length>0&&!It.lgdCode.toLowerCase().includes("note"),Dt=It.village&&It.village.length>0&&!It.village.toLowerCase().includes("note");return cr&&Dt});if(console.log(" Mapped",Rr.length,"records"),console.log(" Valid records:",_r.length),_r.length===0)throw new Error("No valid data found in Excel file. Please check the file format.");const dn=jr(Et,"lgd_data"),Ir=_r.map(It=>ka(dn,{lgdCode:It.lgdCode,village:It.village,district:It.district||"",taluka:It.taluka||"",createdAt:Yi()}));await Promise.all(Ir),console.log(" Saved",_r.length,"records to Firebase"),await ut(),ue({title:"File Uploaded Successfully! ",description:`Saved ${_r.length} records to Firebase.`})}catch(pt){console.error(" Error:",pt),console.error(" Error message:",pt.message),console.error(" Error stack:",pt.stack),ue({title:"Upload Failed",description:pt.message||"Failed to upload file. Please try again.",variant:"destructive"})}finally{E(!1),he.target.value=""}}},an=()=>{if(!r.trim()){ue({title:"Enter Search Term",description:"Please enter LGD code or village name to search.",variant:"destructive"});return}const he=r.toLowerCase().trim(),Ge=a.find(st=>st.lgdCode.toLowerCase().includes(he)||st.village.toLowerCase().includes(he));Ge?(s(Ge),lt(Ge.village),it(iee(Ge.taluka||"","taluka")),ht(iee(Ge.district||"","district")),Lr(),ue({title:"Found! ",description:`Found: ${Ge.village}`})):(s(null),ue({title:"Not Found",description:"No matching LGD code or village found.",variant:"destructive"}))},yo=he=>{var pt;const Ge=(pt=he.target.files)==null?void 0:pt[0];if(!Ge)return;const st=new FileReader;st.onload=fr=>{var dr;const ur=new Image;ur.onload=()=>{const lr=document.createElement("canvas"),Wr=lr.getContext("2d");if(!Wr)return;lr.width=ur.width,lr.height=ur.height,Wr.drawImage(ur,0,0);const vn=Wr.getImageData(0,0,lr.width,lr.height),Hn=vn.data;for(let ji=0;ji<Hn.length;ji+=4){const Ni=Hn[ji],$n=Hn[ji+1],Pi=Hn[ji+2],ti=.299*Ni+.587*$n+.114*Pi,qs=Math.max(Ni,$n,Pi),yn=Math.min(Ni,$n,Pi),Wi=qs-yn;ti<120&&(Wi>30||ti<80)?Hn[ji+3]=255:Hn[ji+3]=0}Wr.putImageData(vn,0,0);const wr=lr.toDataURL("image/png");ar(wr),ue({title:" Signature Uploaded Successfully!",description:"Background removed and optimized for THARVA documents",duration:3e3})},ur.src=(dr=fr.target)==null?void 0:dr.result},st.readAsDataURL(Ge)},rn=async he=>{if(i)try{const Ge=jr(Et,"tharvaHistory"),st={type:he,village:i.village,lgdCode:i.lgdCode,taluka:i.taluka||"",district:i.district||"",scheme:ve,schemeYear:ze,amount:or,date:new Date,timestamp:Date.now()};await ka(Ge,st),Bc()}catch(Ge){console.error("Error saving THARVA history:",Ge)}},Bc=async()=>{try{const he=jr(Et,"tharvaHistory"),Ge=Ai(he,ia("timestamp","desc"),OM(50)),pt=(await Si(Ge)).docs.map(fr=>{var ur;return{id:fr.id,...fr.data(),date:((ur=fr.data().date)==null?void 0:ur.toDate())||new Date}});Pn(pt)}catch(he){console.error("Error loading THARVA history:",he)}},on=()=>{const he=[{"LGD Code":"179072","Village Panchayat and Equivalent":"Ameni-Checker"},{"LGD Code":"179100","Village Panchayat and Equivalent":"Karanjfen"},{"LGD Code":"179070","Village Panchayat and Equivalent":"Amba"}],Ge=M1.json_to_sheet(he),st=M1.book_new();M1.book_append_sheet(st,Ge,"LGD Data"),aTt(st,"LGD_Template.xlsx"),ue({title:"Template Downloaded",description:"Sample Excel template downloaded."})};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-muted/10 to-muted/5 opacity-40"}),o.jsxs("div",{className:"relative container mx-auto p-4 sm:p-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(et,{variant:"outline",size:"icon",onClick:()=>e("/"),children:o.jsx(go,{className:"h-4 w-4"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"LGD Information"}),o.jsx("p",{className:"text-muted-foreground",children:"Upload Excel and search LGD codes"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(et,{variant:"outline",onClick:()=>Oa(!un),className:"gap-2 border-yellow-500 text-yellow-700 hover:bg-yellow-50",children:[o.jsx(ta,{className:"h-4 w-4"}),"Drafts (",la.length,")"]}),o.jsxs(et,{variant:"outline",onClick:()=>Ci(!ca),className:"gap-2",children:[o.jsx(P2,{className:"h-4 w-4"}),"THARVA History (",ba.length,")"]})]})]}),un&&o.jsxs(Sr,{className:"border-yellow-500",children:[o.jsxs(fn,{className:"bg-yellow-50",children:[o.jsxs(hn,{className:"flex items-center gap-2",children:[o.jsx(ta,{className:"h-5 w-5 text-yellow-700"}),"Draft THARVAs"]}),o.jsx(_n,{children:"Continue editing saved drafts"})]}),o.jsx(Pr,{className:"pt-4",children:o.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:la.length===0?o.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No drafts saved yet"}):la.map(he=>{var Ge;return o.jsx("div",{className:"border-2 border-yellow-200 rounded-lg p-4 hover:bg-yellow-50 transition-colors",children:o.jsxs("div",{className:"flex justify-between items-start gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("div",{className:"font-bold text-lg",children:he.village}),o.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-yellow-200 text-yellow-800",children:he.type==="direct_khardi"?"Direct Khardi":"Regular THARVA"})]}),o.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsxs("div",{children:["LGD Code: ",o.jsx("span",{className:"font-semibold",children:he.lgdCode})]}),o.jsxs("div",{children:["Taluka: ",he.taluka," | District: ",he.district]}),o.jsxs("div",{children:[he.scheme," ",he.schemeYear]}),o.jsxs("div",{children:["Amount: ",o.jsx("span",{className:"font-semibold text-purple-600",children:he.amount})]})]}),o.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Saved: ",(Ge=he.createdAt)!=null&&Ge.toDate?he.createdAt.toDate().toLocaleString("en-IN"):"Recently"]})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs(et,{size:"sm",onClick:()=>en(he),className:"gap-2 bg-green-600 hover:bg-green-700",children:[o.jsx(Wg,{className:"h-4 w-4"}),"Load"]}),o.jsx(et,{size:"sm",variant:"destructive",onClick:()=>Mi(he.id),children:"Delete"})]})]})},he.id)})})})]}),ca&&o.jsxs(Sr,{children:[o.jsxs(fn,{children:[o.jsx(hn,{children:"THARVA History"}),o.jsx(_n,{children:"All downloaded and sent THARVAs"})]}),o.jsx(Pr,{children:o.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:ba.length===0?o.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No THARVA history yet"}):ba.map(he=>o.jsx("div",{className:"border rounded-lg p-3 hover:bg-muted/50 transition-colors",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold",children:he.village}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:["LGD: ",he.lgdCode," | ",he.type]}),o.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[he.scheme," ",he.schemeYear," | Amount: ",he.amount]})]}),o.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[he.date.toLocaleDateString("en-IN"),o.jsx("br",{}),he.date.toLocaleTimeString("en-IN")]})]})},he.id))})})]}),o.jsxs(Sr,{children:[o.jsxs(fn,{children:[o.jsxs(hn,{className:"flex items-center gap-2",children:[o.jsx(P2,{className:"h-5 w-5"}),"Upload Excel File"]}),o.jsx(_n,{children:"Upload Excel file with LGD Code and Village columns (auto-detected)"})]}),o.jsxs(Pr,{className:"space-y-4",children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsx(xr,{htmlFor:"excel-upload",className:"flex-1 cursor-pointer",children:o.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center hover:border-primary transition-colors",children:[o.jsx(Wg,{className:"h-10 w-10 mx-auto mb-2 text-gray-400"}),o.jsx("p",{className:"font-medium",children:"Click to upload Excel file"}),o.jsx("p",{className:"text-sm text-gray-500",children:".xlsx, .xls files"}),o.jsx(Or,{id:"excel-upload",type:"file",accept:".xlsx,.xls",onChange:bs,className:"hidden",disabled:_})]})}),o.jsxs(et,{variant:"outline",onClick:on,className:"gap-2",children:[o.jsx(na,{className:"h-4 w-4"}),"Template"]}),a.length>0&&o.jsx(et,{variant:"outline",className:"gap-2",onClick:async()=>{try{const he=fr=>/^\d+$/.test(fr||""),Ge=c.filter(fr=>{const ur=(fr.district||"").trim(),dr=(fr.taluka||"").trim();return!ur||he(ur)||!dr||he(dr)});if(Ge.length===0){ue({title:"No invalid rows",description:"All rows have non-numeric district/taluka."});return}const st=window.prompt("Enter District name to set for invalid rows (leave blank to skip):",""),pt=window.prompt("Enter Taluka name to set for invalid rows (leave blank to skip):","");for(const fr of Ge){if(!fr.id)continue;const ur=pn(Et,"lgd_data",fr.id),dr=(fr.district||"").trim(),lr=(fr.taluka||"").trim(),Wr=!dr||he(dr)?st||"":dr,vn=!lr||he(lr)?pt||"":lr;await Ns(ur,{district:Wr,taluka:vn})}await ut(),ue({title:"Cleaned Invalid Rows",description:`Updated ${Ge.length} records.`})}catch(he){ue({title:"Cleanup failed",description:he.message||"Could not update records",variant:"destructive"})}},children:"Fix Invalid District/Taluka"})]}),a.length>0&&o.jsx("div",{className:"bg-green-50 border border-green-200 p-3 rounded",children:o.jsxs("p",{className:"text-sm font-semibold text-green-900",children:[" ",a.length," records in database"]})})]})]}),a.length>0&&o.jsxs(Sr,{children:[o.jsxs(fn,{children:[o.jsxs(hn,{className:"flex items-center gap-2",children:[o.jsx(Fie,{className:"h-5 w-5"}),"Filter by District, Taluka, and Village"]}),o.jsx(_n,{children:"Select district, taluka, and village to filter data"})]}),o.jsxs(Pr,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xr,{children:"District"}),o.jsxs(oo,{value:d,onValueChange:he=>{h(he),g(""),x("")},children:[o.jsx(Qa,{children:o.jsx(lo,{placeholder:"Select District"})}),o.jsxs($a,{children:[o.jsx(qr,{value:"all",children:"All Districts"}),Object.keys(nE).map(he=>o.jsx(qr,{value:he,children:he},he))]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xr,{children:"Taluka"}),o.jsxs(oo,{value:A,onValueChange:he=>{g(he),x("")},disabled:!d||d==="all",children:[o.jsx(Qa,{children:o.jsx(lo,{placeholder:"Select Taluka"})}),o.jsxs($a,{children:[o.jsx(qr,{value:"all",children:"All Talukas"}),d&&d!=="all"&&((ki=nE[d])==null?void 0:ki.map(he=>o.jsx(qr,{value:he,children:he},he)))]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xr,{children:"Village"}),o.jsxs(oo,{value:v,onValueChange:x,disabled:!d||d==="all",children:[o.jsx(Qa,{children:o.jsx(lo,{placeholder:!d||d==="all"?"Select District first":y.length===0?"No villages found":"Select Village"})}),o.jsxs($a,{className:"max-h-[300px]",children:[o.jsx(qr,{value:"all",children:"All Villages"}),y.map(he=>o.jsxs(qr,{value:`${he.village}-${he.lgdCode}`,children:[he.village," - ",he.lgdCode]},he.id||he.lgdCode))]})]})]})]}),(d||A||v)&&o.jsxs("div",{className:"mt-4 flex gap-2 flex-wrap items-center",children:[o.jsx(et,{variant:"outline",size:"sm",onClick:()=>{h(""),g(""),x("")},children:"Clear Filters"}),o.jsxs("div",{className:"bg-gradient-to-r from-gray-900/10 to-gray-700/10 border-2 border-[#3B82F6]/30 px-3 py-1 rounded-lg text-sm font-semibold shadow-sm",children:["Showing ",c.length," of ",a.length," records"]}),v&&v!=="all"&&o.jsxs("div",{className:"bg-green-50 border border-green-200 px-3 py-1 rounded text-sm font-medium",children:["Selected: ",v]})]})]})]}),o.jsxs(Sr,{children:[o.jsxs(fn,{children:[o.jsxs(hn,{className:"flex items-center gap-2",children:[o.jsx(Is,{className:"h-5 w-5"}),"Search by LGD Code or Village"]}),o.jsx(_n,{children:"Enter LGD code or village name to search"})]}),o.jsxs(Pr,{className:"space-y-4",children:[o.jsxs("div",{className:"flex gap-3",children:[o.jsx(Or,{value:r,onChange:he=>n(he.target.value),placeholder:"Enter LGD Code or Village Name",className:"flex-1",onKeyDown:he=>he.key==="Enter"&&an()}),o.jsxs(et,{onClick:an,className:"gap-2",children:[o.jsx(Is,{className:"h-4 w-4"}),"Search"]})]}),i&&o.jsxs("div",{className:"bg-gradient-to-br from-gray-900/10 to-gray-700/10 border-2 border-[#3B82F6]/30 p-6 rounded-xl shadow-lg",children:[o.jsx("h3",{className:"font-bold text-xl bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent mb-4",children:"Search Result:"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"LGD Code:"}),o.jsx("p",{className:"font-bold text-2xl bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:i.lgdCode})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Village Panchayat:"}),o.jsx("p",{className:"font-bold text-lg",children:i.village})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-600",children:"District:"}),o.jsx("p",{className:"font-medium",children:i.district||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Taluka:"}),o.jsx("p",{className:"font-medium",children:i.taluka||"-"})]})]}),o.jsxs("div",{className:"mt-4 flex gap-2",children:[o.jsxs(et,{onClick:()=>{Lr(),Le()},className:"gap-2",children:[o.jsx(ja,{className:"h-4 w-4"}),"PRASHASKIY AADESH"]}),o.jsxs(et,{onClick:()=>{O(!1),Er(!0),xt(!1)},className:"gap-2",variant:"secondary",children:[o.jsx(ja,{className:"h-4 w-4"}),"DIRECT PURCHASE"]}),t==="superadmin"&&o.jsxs(et,{onClick:()=>{O(!1),Er(!1),xt(!0),Ke(!1)},className:"gap-2",variant:"secondary",children:[o.jsx(ja,{className:"h-4 w-4"}),"BUSINESS THARVA"]}),t==="superadmin"&&o.jsxs(et,{onClick:()=>{O(!1),Er(!1),xt(!1),Ke(!0)},className:"gap-2",variant:"secondary",children:[o.jsx(ja,{className:"h-4 w-4"}),"COMMISSION FORMAT"]}),o.jsx(et,{variant:"outline",onClick:()=>{O(!1),Er(!1),xt(!1),Ke(!1)},children:"Hide All"})]})]})]})]}),i&&R&&o.jsxs(Sr,{children:[o.jsxs(fn,{children:[o.jsx(hn,{children:"THARVA"}),o.jsx(_n,{children:"Formal bill for selected LGD. Use Add Product to include items."})]}),o.jsxs(Pr,{children:[o.jsx("style",{children:`
                @media print {
                  @page {
                    size: A4;
                    margin: 0;
                  }
                  body {
                    margin: 0;
                    padding: 0;
                  }
                }
              `}),o.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-2 mb-3 print:hidden",children:[o.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(xr,{className:"text-sm",children:"Scheme"}),o.jsxs(oo,{value:re?"custom":ve,onValueChange:he=>{he==="custom"?de(!0):(de(!1),V(he))},children:[o.jsx(Qa,{className:"w-56",children:o.jsx(lo,{placeholder:"Select Scheme"})}),o.jsxs($a,{children:[o.jsx(qr,{value:"    ",children:"    "}),o.jsx(qr,{value:"    ",children:"    "}),o.jsx(qr,{value:"    ",children:"    "}),o.jsx(qr,{value:"    ",children:"    "}),o.jsx(qr,{value:" %  ",children:" %  "}),o.jsx(qr,{value:" %  ",children:" %  "}),o.jsx(qr,{value:" %  ",children:" %  "}),o.jsx(qr,{value:"custom",children:" Custom /  "})]})]})]}),re&&o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(Or,{value:q,onChange:he=>{ee(he.target.value),V(he.target.value)},placeholder:"Enter custom scheme /  ",className:"w-64"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(xr,{className:"text-sm",children:"Year"}),o.jsxs(oo,{value:_t?"custom":ze,onValueChange:he=>{he==="custom"?jt(!0):(jt(!1),Tt(he))},children:[o.jsx(Qa,{className:"w-32",children:o.jsx(lo,{placeholder:"Select Year"})}),o.jsxs($a,{children:[o.jsx(qr,{value:"-",children:"-"}),o.jsx(qr,{value:"-",children:"-"}),o.jsx(qr,{value:"-",children:"-"}),o.jsx(qr,{value:"-",children:"-"}),o.jsx(qr,{value:"-",children:"-"}),o.jsx(qr,{value:"custom",children:" Custom"})]})]})]}),_t&&o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(Or,{value:Bt,onChange:he=>{mt(he.target.value),Tt(he.target.value)},placeholder:"Enter year / ",className:"w-32"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(xr,{className:"text-sm",children:"Fund Source"}),o.jsxs(oo,{value:Ne?"custom":Ae,onValueChange:he=>{he==="custom"?oe(!0):(oe(!1),_e(he))},children:[o.jsx(Qa,{className:"w-64",children:o.jsx(lo,{placeholder:"Select Fund Source"})}),o.jsxs($a,{children:[o.jsx(qr,{value:" , , ",children:" , , "}),o.jsx(qr,{value:" . ",children:" . "}),o.jsx(qr,{value:"%    ",children:"%    "}),o.jsx(qr,{value:"%   ",children:"%   "}),o.jsx(qr,{value:"  / ",children:"  / "}),o.jsx(qr,{value:"  ",children:"  "}),o.jsx(qr,{value:"    ",children:"    "}),o.jsx(qr,{value:" ",children:" "}),o.jsx(qr,{value:"custom",children:" Custom /  "})]})]})]}),Ne&&o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(Or,{value:ye,onChange:he=>{ce(he.target.value),_e(he.target.value)},placeholder:"Enter custom fund source /  ",className:"w-64"})})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs(et,{variant:"outline",className:"gap-2",onClick:()=>tn(!0),children:[o.jsx(ta,{className:"h-4 w-4"}),"Add Manual Product"]})}),o.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[o.jsxs(et,{variant:"outline",className:"gap-2 border-purple-500 text-purple-700 hover:bg-purple-50",onClick:()=>al("regular"),children:[o.jsx(ta,{className:"h-4 w-4"}),"Save as Draft"]}),o.jsxs(et,{variant:"outline",className:"gap-2",onClick:Ps,children:[o.jsx(na,{className:"h-4 w-4"}),"Download THARVA as PDF"]}),o.jsxs(et,{className:"gap-2",onClick:Uo,children:[o.jsx(F2,{className:"h-4 w-4"}),"Send to Latur Operator"]}),o.jsx(et,{variant:"outline",size:"sm",className:"gap-2 mb-2 bg-yellow-100 hover:bg-yellow-200 text-yellow-800 border-yellow-300",onClick:async()=>{try{const he="https://webhook.whatapi.in/webhook/69244b461b9845c02d54c728?number=919960904626&message=Test from LGD System";console.log(" Testing WhatsApp API with URL:",he);const Ge=await fetch(he,{method:"GET",mode:"no-cors"});if(console.log(" Test response status:",Ge.status),console.log(" Test response type:",Ge.type),Ge.type==="opaque")ue({title:" Test Request Sent",description:"Request sent to WhatsApp API (CORS mode). Check if message was received on 9960904626",duration:5e3});else{const st=await Ge.text();console.log(" Test response body:",st),ue({title:Ge.ok?" Test Successful":" Test Failed",description:`Status: ${Ge.status}
Response: ${st}`,variant:Ge.ok?"default":"destructive",duration:5e3})}}catch(he){console.error(" Test error:",he),ue({title:" Test Failed",description:`Error: ${he instanceof Error?he.message:"Unknown error"}

This might be a CORS issue. Check console for details.`,variant:"destructive",duration:8e3})}},children:" Test WhatsApp API"}),o.jsxs(et,{variant:"default",className:"gap-2 bg-green-600 hover:bg-green-700",onClick:async()=>{try{const he="Digambar Jadhav",Ge=new Date,st=Ge.getFullYear(),pt=String(Ge.getMonth()+1).padStart(2,"0"),fr=`THARVA_${(i==null?void 0:i.lgdCode)||"LGD"}_${st}-${pt}`,ur=`https://webhook.whatapi.in/webhook/69244b461b9845c02d54c728?number=919960904626&message=shri,${encodeURIComponent(he)},${encodeURIComponent(fr)}`;console.log(" Sending WhatsApp to 919960904626"),console.log("Variable 1 (Name):",he),console.log("Variable 2 (THARVA No):",fr),console.log(" Full webhook URL:",ur);const dr=await fetch(ur,{method:"GET",headers:{"Content-Type":"application/json"}});console.log(" Response status:",dr.status),console.log(" Response status text:",dr.statusText);const lr=await dr.text();if(console.log(" Response body:",lr),dr.ok)ue({title:" WhatsApp Message Sent Successfully!",description:`Message forwarded to 919960904626
Name: ${he}
THARVA No: ${fr}
Response: ${lr}`,duration:5e3});else throw new Error(`HTTP ${dr.status}: ${dr.statusText} - ${lr}`)}catch(he){console.error(" WhatsApp send error:",he),console.error(" Error details:",he instanceof Error?he.message:String(he)),ue({title:" WhatsApp Message Failed",description:`Error: ${he instanceof Error?he.message:"Unknown error"}

Please check:
1. Internet connection
2. Webhook API status
3. Console logs for details`,variant:"destructive",duration:8e3})}},children:[o.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),"Send WhatsApp to Latur"]}),o.jsxs(et,{variant:"outline",className:"gap-2 bg-green-100 hover:bg-green-200 text-green-800 border-green-300",onClick:()=>{try{const he="Digambar Jadhav",Ge=new Date,st=Ge.getFullYear(),pt=String(Ge.getMonth()+1).padStart(2,"0"),fr=`THARVA_${(i==null?void 0:i.lgdCode)||"LGD"}_${st}-${pt}`,ur=`shri,${he},${fr}`,dr=`https://wa.me/919960904626?text=${encodeURIComponent(ur)}`;console.log(" Opening WhatsApp Web with message:",ur),console.log(" WhatsApp URL:",dr),window.open(dr,"_blank"),ue({title:" WhatsApp Web Opened",description:`Opening WhatsApp Web to send message to 9960904626
Message: ${ur}`,duration:5e3})}catch(he){console.error(" WhatsApp Web error:",he),ue({title:" Failed to Open WhatsApp",description:"Could not open WhatsApp Web. Please try manually.",variant:"destructive",duration:5e3})}},children:[o.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})})," WhatsApp Web (Backup)"]})]})]}),o.jsxs("div",{ref:ne,className:"bg-white border rounded-lg p-4",style:{width:"280mm",minHeight:"auto",margin:"0 auto",padding:"5mm 10mm 10mm 10mm",boxSizing:"border-box",fontFamily:"'Noto Sans Devanagari', 'Mangal', 'Kokila', sans-serif",fontSize:"14px"},children:[!K&&o.jsxs("div",{className:"print:hidden mb-3 p-3 bg-gradient-to-r from-gray-900/10 to-gray-700/10 border-2 border-[#3B82F6]/30 rounded-lg",children:[o.jsx("div",{className:"text-xs font-bold mb-1 text-[#1E293B]",children:"   (Auto-converted, edit if needed):"}),o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsxs("div",{children:[o.jsx(xr,{className:"text-xs",children:" (Village)"}),o.jsx(Or,{value:Ue,onChange:he=>lt(he.target.value),placeholder:"  ",className:"h-7 text-xs"})]}),o.jsxs("div",{children:[o.jsx(xr,{className:"text-xs",children:" (Taluka)"}),o.jsx(Or,{value:bt,onChange:he=>it(he.target.value),placeholder:"  ",className:"h-7 text-xs"})]}),o.jsxs("div",{children:[o.jsx(xr,{className:"text-xs",children:" (District)"}),o.jsx(Or,{value:ct,onChange:he=>ht(he.target.value),placeholder:"  ",className:"h-7 text-xs"})]})]})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-red-900 font-black leading-tight",style:{fontWeight:900,fontSize:"40px",letterSpacing:"0.5px",fontStretch:"expanded"},children:[" ",Ue||i.village]}),o.jsxs("div",{className:"text-black font-black",style:{fontWeight:900,marginTop:"0.5mm",fontSize:"28px",letterSpacing:"0.5px",fontStretch:"expanded"},children:["- ",bt||i.taluka||"-",", - ",ct||i.district||"-"]}),o.jsx("div",{className:"border-t-2 border-gray-800",style:{marginTop:"2mm"}})]}),o.jsx("div",{className:"text-sm flex justify-between font-semibold",style:{marginTop:"2mm",fontSize:"18px"},children:o.jsx("div",{children:o.jsx("div",{className:"flex items-center gap-1",children:K?o.jsxs("span",{style:{fontSize:"18px"},children:[".. - //",o.jsx("span",{className:"text-red-700 font-bold",children:ve})," /",Go(We),"/ .",Go(z.getDate().toString().padStart(2,"0")),"/",Go((z.getMonth()+1).toString().padStart(2,"0")),"/",Go(z.getFullYear())]}):o.jsxs(o.Fragment,{children:[o.jsxs("span",{children:[".. - //",o.jsx("span",{className:"text-red-700 font-bold",children:ve})," /"]}),o.jsxs(oo,{value:We,onValueChange:Re,children:[o.jsx(Qa,{className:"w-16 h-6 text-xs",children:o.jsx(lo,{})}),o.jsx($a,{className:"max-h-[200px]",children:Array.from({length:100},(he,Ge)=>Ge+1).map(he=>o.jsx(qr,{value:he.toString(),children:Go(he)},he))})]}),o.jsx("span",{children:"/ ."}),o.jsx("input",{type:"date",value:z.toISOString().split("T")[0],onChange:he=>Fe(new Date(he.target.value)),className:"w-32 h-6 text-xs inline-block border rounded px-1"})]})})})}),o.jsx("div",{className:"text-base font-semibold",style:{marginTop:"2mm",lineHeight:"1.3"},children:o.jsxs("div",{className:"font-bold",children:[" - ",o.jsxs("span",{className:"text-red-700",children:[ve," ",ze]}),", ",o.jsxs("span",{className:"text-red-700",children:[Ae,"     GEM PORTAL   "]})]})}),o.jsx("hr",{className:"border-t-2 border-gray-800",style:{margin:"2mm 0"}}),o.jsx("div",{style:{marginTop:"2mm",lineHeight:"1.4",fontSize:"18px"},children:o.jsx("div",{children:K?o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{fontSize:"18px"},children:["-) .. ",Ue||i.village," .",bt||i.taluka||"-","       .",nee(He,Te)," .",Go(z.getDate().toString().padStart(2,"0")),"/",Go((z.getMonth()+1).toString().padStart(2,"0")),"/",Go(z.getFullYear())]}),o.jsx("div",{style:{fontSize:"18px"},children:")            ..()"}),o.jsx("div",{style:{fontSize:"18px"},children:")   ,,     .-/../ - .  "}),o.jsx("div",{style:{fontSize:"18px"},children:")         .."})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsxs("span",{children:["-) .. ",Ue||i.village," .",bt||i.taluka||"-","       ."]}),o.jsxs(oo,{value:He,onValueChange:ke,children:[o.jsx(Qa,{className:"w-16 h-6 text-xs inline-block",children:o.jsx(lo,{})}),o.jsxs($a,{className:"max-h-[200px]",children:[o.jsx(qr,{value:"0",children:""}),Array.from({length:100},(he,Ge)=>Ge+1).map(he=>o.jsx(qr,{value:he.toString(),children:he.toString().split("").map(Ge=>String.fromCharCode(2406+parseInt(Ge))).join("")},he))]})]}),o.jsx("span",{children:"/"}),o.jsxs(oo,{value:Te,onValueChange:Ze,children:[o.jsx(Qa,{className:"w-16 h-6 text-xs inline-block",children:o.jsx(lo,{})}),o.jsxs($a,{className:"max-h-[200px]",children:[o.jsx(qr,{value:"0",children:""}),Array.from({length:100},(he,Ge)=>Ge+1).map(he=>o.jsx(qr,{value:he.toString(),children:he.toString().split("").map(Ge=>String.fromCharCode(2406+parseInt(Ge))).join("")},he))]})]}),o.jsxs("span",{children:[".",Go(z.getDate().toString().padStart(2,"0")),"/",Go((z.getMonth()+1).toString().padStart(2,"0")),"/",Go(z.getFullYear())]})]}),o.jsx("div",{children:")            ..()"}),o.jsx("div",{children:")   ,,     .-/../ - .  "}),o.jsx("div",{children:")         .."})]})})}),o.jsx("hr",{className:"border-t-2 border-gray-800",style:{marginTop:"4mm",marginBottom:"2mm"}}),o.jsx("div",{className:"text-center font-semibold",style:{fontSize:"18px",marginBottom:"2mm"},children:"  "}),o.jsxs("div",{style:{lineHeight:"1.5",marginTop:"2mm",fontSize:"18px"},children:[o.jsxs("div",{style:{marginBottom:"2mm"},children:["  .      ",o.jsxs("span",{className:"text-red-700 font-bold",children:[ve," ",ze]}),", ",o.jsxs("span",{className:"text-red-700 font-bold",children:[Ae,"     GEM PORTAL   "]}),"                 ."]}),o.jsx("div",{style:{marginBottom:"2mm"},children:"  .               ."}),o.jsx("div",{style:{marginBottom:"2mm"},children:"  .                      /    .//    ,,            ."}),o.jsxs("div",{style:{marginBottom:"2mm"},children:["  .       ",o.jsxs("span",{className:"text-red-700 font-bold",children:[ve," ",ze]}),", ",o.jsxs("span",{className:"text-red-700 font-bold",children:[Ae,"     GEM PORTAL   "]}),"         ."]})]}),o.jsxs("div",{className:"sr-only",children:["LGD Code ",i.lgdCode]}),o.jsx("div",{style:{marginTop:"3mm"},children:o.jsxs("table",{className:"w-full border-2 border-gray-600",style:{fontSize:"18px"},children:[o.jsx("thead",{className:"bg-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"border-2 border-gray-600 font-bold",style:{width:"50px",padding:"8px 6px",fontSize:"16px"},children:". ."}),o.jsx("th",{className:"border-2 border-gray-600 font-bold",style:{width:"30%",padding:"8px 6px",fontSize:"16px"},children:" "}),o.jsx("th",{className:"border-2 border-gray-600 font-bold",style:{width:"25%",padding:"8px 6px",fontSize:"16px",whiteSpace:"nowrap"},children:"   .  "}),o.jsx("th",{className:"border-2 border-gray-600 font-bold",style:{width:"20%",padding:"8px 6px",fontSize:"16px"},children:" "}),o.jsx("th",{className:"border-2 border-gray-600 font-bold",style:{width:"15%",padding:"8px 6px",fontSize:"16px",whiteSpace:"nowrap"},children:"  "})]})}),o.jsx("tbody",{children:o.jsxs("tr",{children:[o.jsx("td",{className:"border-2 border-gray-600 text-center font-semibold align-top",style:{padding:"10px 12px",fontSize:"22px"},children:"1"}),o.jsxs("td",{className:"border-2 border-gray-600 align-top",style:{padding:"10px 12px",minHeight:"260px"},children:[o.jsx("div",{className:"mb-3 text-red-700 font-bold",style:{fontSize:"22px",lineHeight:"1.4",fontWeight:"700",whiteSpace:"pre-line"},children:`${ve} ${ze}, ${Ae}
   
GEM PORTAL   `}),at.length>0&&o.jsx("div",{className:"mt-3",style:{fontSize:"20px",lineHeight:"1.6",fontWeight:"600"},children:at.map((he,Ge)=>o.jsxs("div",{className:"py-2 border-b border-gray-300 last:border-0",children:[Ge+1,". ",he]},Ge))}),!K&&o.jsx("div",{className:"mt-3",children:o.jsx(mTt,{selectedProducts:Rn,onProductsChange:wa})}),K&&Rn.length>0&&o.jsx("div",{className:"mt-1",children:o.jsx("div",{style:{fontSize:"18px",lineHeight:"1.5",fontWeight:"700"},children:Rn.map((he,Ge)=>o.jsxs("div",{className:"text-red-900 font-bold py-0.5",style:{color:"#7f1d1d",fontWeight:700},children:[Ge+1,". ",he.name," - Quantity: ",he.quantity]},he.id))})}),K?o.jsx("div",{className:"mt-3 whitespace-pre-wrap text-red-900 font-bold",style:{minHeight:"200px",fontSize:"20px",lineHeight:"1.6",color:"#7f1d1d",fontWeight:700},children:Vt}):o.jsx("textarea",{value:Vt,onChange:he=>tr(he.target.value),placeholder:`Add more products here (one per line)...
Example:
1. Camera
2. Laptop
3. Printer

(Products will appear in DARK RED in PDF)`,className:"w-full mt-3 p-2 border border-red-400 rounded focus:outline-none focus:ring-2 focus:ring-red-500 text-red-900 font-semibold",style:{minHeight:"200px",fontFamily:"inherit",fontSize:"inherit"},rows:10})]}),o.jsxs("td",{className:"border-2 border-gray-600 text-center align-top",style:{padding:"10px 12px",fontSize:"18px",lineHeight:"1.7"},children:["   ",o.jsx("br",{}),nee(He,Te),o.jsx("br",{}),".",Go(z.getDate().toString().padStart(2,"0")),"/",Go((z.getMonth()+1).toString().padStart(2,"0")),"/",Go(z.getFullYear())]}),o.jsx("td",{className:"border-2 border-gray-600 text-center align-top",style:{padding:"10px 12px",fontSize:"18px",lineHeight:"1.7"},children:o.jsxs("span",{className:"text-red-700 font-bold",children:[ve,o.jsx("br",{}),ze]})}),o.jsx("td",{className:"border-2 border-gray-600 text-center align-top",style:{padding:"10px 12px",fontSize:"18px",lineHeight:"1.7"},children:K?o.jsx("span",{children:or}):o.jsx("input",{type:"text",value:or,onChange:he=>St(he.target.value),className:"w-full text-center border-0 focus:outline-none focus:ring-2 focus:ring-[#EF5350]/50 rounded px-1"})})]})})]})}),o.jsx("div",{className:"mt-1 font-bold",style:{fontSize:"12px"},children:"           "}),o.jsx("div",{style:{marginTop:"80mm"},className:"flex justify-end items-end",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"mb-2",children:[!K&&o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:yo,className:"text-sm",id:"signature-upload"}),o.jsx("label",{htmlFor:"signature-upload",className:"text-xs text-gray-600",children:"Upload client signature (background will be removed)"})]}),Jt&&o.jsx("div",{className:"mt-2",children:o.jsx("img",{src:Jt,alt:"Client Signature",className:"mx-auto",style:{maxHeight:"400px",maxWidth:"800px",width:"auto",height:"auto",filter:"contrast(1.3)",imageRendering:"crisp-edges"}})})]}),o.jsx("div",{className:"border-t-2 border-black pt-1 min-w-[200px]"})]})})]})]})]}),Rn.length>0&&o.jsx("div",{style:{position:"absolute",left:"-9999px",top:0},children:Rn.map((he,Ge)=>{console.log(` Rendering hidden page ${Ge} for: ${he.name}`),console.log(`   Has image: ${!!he.image_url}`),console.log(`   Has description image: ${!!he.description_image_url}`),console.log(`   Has description text: ${!!he.description}`);const st=!!(he.description_image_url&&he.description);return o.jsxs("div",{id:`product-page-${Ge}`,className:"bg-white",style:{width:"210mm",height:"297mm",padding:"15mm",boxSizing:"border-box"},children:[o.jsxs("div",{className:"text-center",style:{marginBottom:st?"8px":"12px"},children:[o.jsx("h1",{style:{color:"#7f1d1d",fontSize:"32px",lineHeight:"1.1",fontWeight:"700",marginBottom:"6px"},children:he.name}),o.jsxs("p",{style:{color:"#7f1d1d",fontSize:"24px",lineHeight:"1.1",fontWeight:"600",marginTop:"2px"},children:["Quantity: ",he.quantity]})]}),he.image_url?o.jsx("div",{style:{marginBottom:st?"8px":"10mm",textAlign:"center"},children:o.jsx("img",{src:he.image_url,alt:he.name,style:{width:"auto",height:"auto",maxWidth:st?"70mm":"90mm",maxHeight:st?"70mm":"100mm",objectFit:"contain",border:"2px solid #7f1d1d",borderRadius:"6px"},onLoad:()=>console.log(` Product image loaded for ${he.name}`),onError:pt=>console.error(` Product image failed for ${he.name}:`,pt)})}):o.jsx("div",{style:{marginBottom:"8px",padding:"15px",border:"2px dashed #ccc",textAlign:"center"},children:o.jsx("p",{style:{color:"#999",fontSize:"16px"},children:"No product image"})}),(he.description_image_url||he.description)&&o.jsxs("div",{children:[o.jsx("h2",{style:{color:"#7f1d1d",marginBottom:"8px",fontSize:"28px",fontWeight:"700",lineHeight:"1.1"},children:"Description:"}),he.description_image_url&&o.jsx("img",{src:he.description_image_url,alt:"Description",style:{width:"100%",height:"auto",maxHeight:st?"60mm":"100mm",objectFit:"contain",border:"2px solid #7f1d1d",borderRadius:"6px",marginBottom:he.description?"8px":"0"},onLoad:()=>console.log(` Description image loaded for ${he.name}`),onError:pt=>console.error(` Description image failed for ${he.name}:`,pt)}),he.description&&o.jsx("ul",{style:{fontSize:st?"16px":"20px",lineHeight:"1.3",listStyleType:"disc",paddingLeft:"25px",color:"#1f2937",fontWeight:"500",margin:0},children:he.description.split(`
`).filter(pt=>pt.trim()).map((pt,fr)=>o.jsx("li",{style:{marginBottom:st?"4px":"6px"},children:pt.trim()},fr))}),!he.description_image_url&&!he.description&&o.jsx("p",{style:{color:"#999",fontSize:"16px"},children:"No description available"})]})]},he.id)})}),i&&R&&Rn.length>0&&o.jsxs(Sr,{className:"mt-6",children:[o.jsxs(fn,{children:[o.jsx(hn,{children:"Product Details with Images"}),o.jsx(_n,{children:"Download A4 pages with product images and descriptions (one product per page)"})]}),o.jsx(Pr,{children:o.jsx(NTt,{products:Rn})})]}),i&&pr&&o.jsxs(Sr,{children:[o.jsxs(fn,{children:[o.jsx(hn,{children:"Commission Format"}),o.jsx(_n,{children:"Commission format document for selected LGD"})]}),o.jsxs(Pr,{children:[o.jsxs("div",{className:"mb-3 flex justify-between",children:[o.jsx("div",{className:"flex gap-2",children:o.jsxs(et,{variant:"outline",className:"gap-2",onClick:()=>tn(!0),children:[o.jsx(ta,{className:"h-4 w-4"}),"Add Manual Product"]})}),o.jsxs(et,{variant:"outline",className:"gap-2",onClick:async()=>{try{if(!X.current)return;const he=(await ml(async()=>{const{default:wr}=await Promise.resolve().then(()=>g2);return{default:wr}},void 0)).default,Ge=await he(X.current,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff"}),st=Ge.toDataURL("image/png"),pt=new Hr("l","mm","a4"),fr=pt.internal.pageSize.getWidth(),ur=pt.internal.pageSize.getHeight(),dr=fr-20,lr=Ge.height*dr/Ge.width;let Wr=lr,vn=10;for(pt.addImage(st,"PNG",10,vn,dr,lr,void 0,"FAST"),Wr-=ur;Wr>0;)pt.addPage(),vn=10-(lr-Wr),pt.addImage(st,"PNG",10,vn,dr,lr,void 0,"FAST"),Wr-=ur;const Hn=`CommissionFormat_${(i==null?void 0:i.lgdCode)||"LGD"}_${new Date().toISOString().slice(0,10)}.pdf`;pt.save(Hn)}catch(he){console.error("PDF generation failed:",he),ue({title:"PDF failed",description:"Please ensure html2canvas is installed",variant:"destructive"})}},children:[o.jsx(na,{className:"h-4 w-4"}),"Download Commission Format as PDF"]})]}),o.jsxs("div",{ref:X,className:"bg-white border rounded-lg p-6",style:{width:"297mm",minHeight:"210mm",margin:"0 auto",padding:"15mm",boxSizing:"border-box"},children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsxs("div",{className:"text-red-700 text-4xl font-extrabold",children:[" ",o.jsx("span",{className:"font-extrabold",children:i.village})]}),o.jsxs("div",{className:"text-xl font-bold mt-2",children:[o.jsx("span",{className:"text-red-700",children:"- "}),o.jsx("span",{className:"font-bold",children:i.taluka||"xxxxxx"}),o.jsx("span",{className:"text-red-700",children:" - "}),o.jsx("span",{className:"font-bold",children:i.district||"xxxxxx"})]})]}),o.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-red-700 font-bold text-lg",children:"... :-"}),o.jsx("input",{type:"text",value:bi,onChange:he=>jn(he.target.value),placeholder:"Enter Name",className:"border-b-2 border-gray-400 px-3 py-2 text-base focus:outline-none focus:border-blue-500"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-red-700 font-bold text-lg",children:".:-"}),o.jsx("input",{type:"text",value:Ee,onChange:he=>Ie(he.target.value),placeholder:"Mobile Number",className:"border-b-2 border-gray-400 px-3 py-2 w-40 text-base focus:outline-none focus:border-blue-500"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-red-700 font-bold text-lg",children:"."}),o.jsx("input",{type:"date",value:li.toISOString().split("T")[0],onChange:he=>xe(new Date(he.target.value)),className:"border-b-2 border-gray-400 px-3 py-2 text-base focus:outline-none focus:border-blue-500"})]})]}),o.jsx("div",{className:"mt-6",children:o.jsxs("table",{className:"w-full border-collapse border text-[15px]",style:{lineHeight:"1.8"},children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"border p-1 font-semibold w-12",children:"."}),o.jsx("th",{className:"border p-1 font-semibold",style:{minWidth:"250px",width:"30%"},children:" /"}),o.jsx("th",{className:"border p-1 font-semibold",children:" "}),o.jsx("th",{className:"border p-1 font-semibold",children:o.jsxs("div",{className:"flex items-center justify-center gap-1",children:[o.jsxs(oo,{value:Ct,onValueChange:he=>{$t(he)},children:[o.jsx(Qa,{className:"w-16 h-7 border-0 bg-transparent font-semibold",children:o.jsx(lo,{})}),o.jsx($a,{className:"max-h-[300px]",children:Array.from({length:50},(he,Ge)=>Ge+1).map(he=>o.jsxs(qr,{value:he.toString(),children:[he,"%"]},he))})]}),o.jsx("span",{children:"% gst"})]})}),o.jsx("th",{className:"border p-1 font-semibold",children:" "}),o.jsx("th",{className:"border p-1 font-semibold",children:o.jsxs("div",{className:"flex items-center justify-center gap-1",children:[o.jsxs(oo,{value:hr,onValueChange:he=>{mr(he)},children:[o.jsx(Qa,{className:"w-16 h-7 border-0 bg-transparent font-semibold",children:o.jsx(lo,{})}),o.jsx($a,{className:"max-h-[300px]",children:Array.from({length:50},(he,Ge)=>Ge+1).map(he=>o.jsxs(qr,{value:he.toString(),children:[he,"%"]},he))})]}),o.jsx("span",{children:"%  "})]})})]})}),o.jsxs("tbody",{children:[er.map((he,Ge)=>o.jsxs("tr",{children:[o.jsx("td",{className:"border p-1 text-center",children:Ge+1}),o.jsx("td",{className:"border p-1",children:o.jsx("textarea",{value:he.itemName,onChange:st=>{const pt=[...er];pt[Ge].itemName=st.target.value,sr(pt)},onKeyDown:st=>Hh(st),className:"w-full border-0 focus:outline-none focus:ring-2 focus:ring-[#EF5350]/50 px-1 resize-y min-h-[40px]",rows:2})}),o.jsx("td",{className:"border p-1",children:o.jsx("input",{type:"text",value:he.billAmount,onChange:st=>{const pt=[...er];pt[Ge].billAmount=st.target.value,sr(pt)},onKeyDown:st=>Hh(st),className:"w-full border-0 focus:outline-none focus:ring-1 focus:ring-blue-300 px-1 text-center"})}),o.jsx("td",{className:"border p-1 text-center",children:(()=>{const st=parseFloat(he.billAmount)||0,pt=parseFloat(Ct)||0;return(st*pt/100).toFixed(2)})()}),o.jsx("td",{className:"border p-1 text-center font-semibold",children:(()=>{const st=parseFloat(he.billAmount)||0,pt=parseFloat(Ct)||0,fr=st*pt/100;return(st-fr).toFixed(2)})()}),o.jsx("td",{className:"border p-1 text-center font-semibold",children:(()=>{const st=parseFloat(he.billAmount)||0,pt=parseFloat(Ct)||0,fr=st*pt/100,ur=st-fr,dr=parseFloat(hr)||0;return(ur*dr/100).toFixed(2)})()})]},he.id)),o.jsxs("tr",{className:"bg-gray-100 font-bold",children:[o.jsx("td",{className:"border p-2 text-center",colSpan:5,children:" (Total)"}),o.jsx("td",{className:"border p-2 text-center text-lg",children:er.reduce((he,Ge)=>{const st=parseFloat(Ge.billAmount)||0,pt=parseFloat(Ct)||0,fr=st*pt/100,ur=st-fr,dr=parseFloat(hr)||0,lr=ur*dr/100;return he+lr},0).toFixed(2)})]})]})]})})]}),o.jsx("div",{className:"add-row-wrapper mt-4 px-6",children:o.jsx(et,{className:"add-row-btn",size:"sm",variant:"outline",onClick:()=>{sr([...er,{id:Date.now().toString(),itemName:"",billAmount:"",quantity:""}])},children:"+ Add Row"})})]})]}),i&&qt&&o.jsxs(Sr,{children:[o.jsxs(fn,{children:[o.jsx(hn,{children:"  (Direct Khardi)"}),o.jsx(_n,{children:"Direct purchase document for selected LGD"})]}),o.jsxs(Pr,{children:[o.jsx("div",{className:"mb-3 flex justify-end",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(et,{variant:"outline",className:"gap-2",onClick:Ho,children:[o.jsx(na,{className:"h-4 w-4"}),"Download Direct Khardi as PDF"]}),o.jsxs(et,{variant:"outline",className:"gap-2 border-purple-500 text-purple-700 hover:bg-purple-50",onClick:()=>al("direct_khardi"),children:[o.jsx(ta,{className:"h-4 w-4"}),"Save Direct Khardi as THARVA"]}),o.jsxs(et,{className:"gap-2 bg-orange-600 hover:bg-orange-700",onClick:Qu,children:[o.jsx(F2,{className:"h-4 w-4"}),"Send Direct Khardi to Latur"]})]})}),o.jsxs("div",{ref:le,className:"bg-white border rounded-lg p-6",style:{width:"210mm",maxHeight:"297mm",margin:"0 auto",padding:"10mm",boxSizing:"border-box"},children:[o.jsxs("div",{className:"text-center mb-3",children:[o.jsxs("div",{className:"text-red-700 text-3xl font-extrabold",children:[" ",o.jsx("span",{className:"font-extrabold",children:i.village})]}),o.jsxs("div",{className:"text-lg font-bold mt-1",children:[o.jsx("span",{className:"text-red-700",children:"- "}),o.jsx("span",{className:"font-bold",children:i.taluka||"xxxxxx"}),o.jsx("span",{className:"text-red-700",children:" - "}),o.jsx("span",{className:"font-bold",children:i.district||"xxxxxx"})]})]}),o.jsxs("div",{className:"mt-2",style:{marginBottom:"16px"},children:[o.jsxs("div",{className:"flex justify-between items-center",style:{marginBottom:"12px"},children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-red-700 font-bold text-lg",style:{lineHeight:"2"},children:"GEM PORTAL ID :-"}),o.jsx("input",{type:"text",value:Mr,onChange:he=>Jn(he.target.value),placeholder:"Enter GEM Portal ID",className:"border-b-2 border-black text-base focus:outline-none focus:border-blue-500 bg-transparent",style:{borderBottomWidth:"2px",borderBottomStyle:"solid",borderBottomColor:"#000",padding:"8px 12px",lineHeight:"1.8"}})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-red-700 font-bold text-lg",style:{lineHeight:"2"},children:"."}),o.jsx("input",{type:"date",value:li.toISOString().split("T")[0],onChange:he=>xe(new Date(he.target.value)),className:"border-b-2 border-black text-base focus:outline-none focus:border-blue-500 bg-transparent",style:{borderBottomWidth:"2px",borderBottomStyle:"solid",borderBottomColor:"#000",padding:"8px 12px",lineHeight:"1.8"}})]})]}),o.jsxs("div",{className:"flex justify-between items-center",style:{marginBottom:"12px"},children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-red-700 font-bold text-lg",style:{lineHeight:"2"},children:"GEM PASSWORD :-"}),o.jsx("input",{type:"text",value:Fr,onChange:he=>Zn(he.target.value),placeholder:"Enter GEM Password",className:"border-b-2 border-black text-base focus:outline-none focus:border-blue-500 bg-transparent",style:{borderBottomWidth:"2px",borderBottomStyle:"solid",borderBottomColor:"#000",padding:"8px 12px",lineHeight:"1.8"}})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-red-700 font-bold text-lg",style:{lineHeight:"2"},children:"."}),o.jsx("input",{type:"text",value:Ee,onChange:he=>Ie(he.target.value),placeholder:"Mobile Number",className:"border-b-2 border-black w-40 text-base focus:outline-none focus:border-blue-500 bg-transparent",style:{borderBottomWidth:"2px",borderBottomStyle:"solid",borderBottomColor:"#000",padding:"8px 12px",lineHeight:"1.8"}})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-red-700 font-bold text-lg",style:{lineHeight:"2"},children:"... :-"}),o.jsx("input",{type:"text",value:bi,onChange:he=>jn(he.target.value),placeholder:"Enter Name",className:"border-b-2 border-black text-base focus:outline-none focus:border-blue-500 bg-transparent",style:{borderBottomWidth:"2px",borderBottomStyle:"solid",borderBottomColor:"#000",padding:"8px 12px",lineHeight:"1.8"}})]})]}),o.jsx("div",{className:"mt-6",children:o.jsxs("table",{className:"w-full text-lg",style:{borderCollapse:"collapse"},children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"font-bold text-lg text-center",style:{padding:"12px 16px",lineHeight:"1.8"},children:"."}),o.jsx("th",{className:"font-bold text-lg text-center",style:{padding:"12px 16px",lineHeight:"1.8",minWidth:"300px",width:"40%"},children:" / "}),o.jsx("th",{className:"font-bold text-lg text-center",style:{padding:"12px 16px",lineHeight:"1.8"},children:" //"}),o.jsx("th",{className:"font-bold text-lg text-center",style:{padding:"12px 16px",lineHeight:"1.8"},children:"  "}),o.jsx("th",{className:"font-bold text-lg text-center",style:{padding:"12px 16px",lineHeight:"1.8"},children:" "})]})}),o.jsxs("tbody",{children:[je.map((he,Ge)=>o.jsxs("tr",{children:[o.jsx("td",{className:"text-center font-semibold text-lg",style:{padding:"14px 16px",lineHeight:"1.8"},children:Ge+1}),o.jsx("td",{className:"text-center relative",style:{padding:"14px 16px",lineHeight:"1.8",minWidth:"300px",width:"40%"},children:o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",value:he.itemName,onChange:st=>{const pt=[...je];pt[Ge].itemName=st.target.value,De(pt),oa(st.target.value),On(Ge),Ln(st.target.value.length>0)},onKeyDown:st=>Hh(st),onFocus:()=>{On(Ge),Ln(he.itemName.length>0)},onBlur:()=>{setTimeout(()=>Ln(!1),200)},placeholder:"Type product name or select from inventory...",className:"w-full border-0 focus:outline-none focus:ring-2 focus:ring-[#EF5350]/50 text-base resize-none",style:{padding:"8px 12px",lineHeight:"1.8",minWidth:"250px",minHeight:"40px",wordWrap:"break-word",whiteSpace:"pre-wrap"}}),Nt&&xo===Ge&&o.jsxs("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:[I.filter(st=>{var pt;return st.name.toLowerCase().includes(wn.toLowerCase())||((pt=st.description)==null?void 0:pt.toLowerCase().includes(wn.toLowerCase()))}).slice(0,10).map((st,pt)=>o.jsxs("div",{onClick:()=>{var ur;const fr=[...je];fr[Ge].itemName=st.name,fr[Ge].unitPrice=((ur=st.price)==null?void 0:ur.toString())||"",De(fr),Ln(!1)},className:"px-3 py-2 hover:bg-blue-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:[o.jsx("div",{className:"font-medium text-sm text-gray-900",style:{wordWrap:"break-word",whiteSpace:"normal"},children:st.name}),st.description&&o.jsx("div",{className:"text-xs text-gray-500 mt-1",style:{wordWrap:"break-word",whiteSpace:"normal"},children:st.description}),o.jsxs("div",{className:"flex justify-between items-center mt-1",children:[st.price&&o.jsxs("div",{className:"text-xs text-green-600 font-medium",children:["",st.price]}),o.jsx("div",{className:"text-xs text-blue-500",children:"Click to select"})]})]},pt)),I.filter(st=>st.name.toLowerCase().includes(wn.toLowerCase())).length===0&&wn&&o.jsxs("div",{className:"px-3 py-2 text-sm text-gray-500 text-center",children:["No matching products found",o.jsx("div",{className:"text-xs mt-1",children:"Continue typing to add manually"})]})]})]})}),o.jsx("td",{className:"text-center",style:{padding:"14px 16px",lineHeight:"1.8"},children:o.jsx("input",{type:"text",value:he.unit,onChange:st=>{const pt=[...je];pt[Ge].unit=st.target.value,De(pt)},onKeyDown:st=>Hh(st),className:"w-full border-0 focus:outline-none focus:ring-1 focus:ring-blue-300 px-2 text-center text-lg bg-transparent"})}),o.jsx("td",{className:"text-center",style:{padding:"14px 16px",lineHeight:"1.8"},children:o.jsx("input",{type:"text",value:he.unitPrice,onChange:st=>{const pt=[...je];pt[Ge].unitPrice=st.target.value,De(pt)},onKeyDown:st=>Hh(st),className:"w-full border-0 focus:outline-none focus:ring-1 focus:ring-blue-300 px-2 text-center text-lg bg-transparent"})}),o.jsx("td",{className:"text-center font-semibold text-lg",style:{padding:"14px 16px",lineHeight:"1.8"},children:(()=>{const st=parseFloat(he.unit)||0,pt=parseFloat(he.unitPrice)||0;return(st*pt).toFixed(2)})()})]},he.id)),o.jsxs("tr",{className:"bg-gray-50 font-bold",children:[o.jsx("td",{className:"text-center text-lg",style:{padding:"14px 16px",lineHeight:"1.8"},colSpan:4,children:" (Total)"}),o.jsx("td",{className:"text-center text-xl font-bold",style:{padding:"14px 16px",lineHeight:"1.8"},children:je.reduce((he,Ge)=>{const st=parseFloat(Ge.unit)||0,pt=parseFloat(Ge.unitPrice)||0,fr=st*pt;return he+fr},0).toFixed(2)})]})]})]})})]}),o.jsx("div",{className:"add-row-wrapper mt-4 px-6",children:o.jsx(et,{className:"add-row-btn",size:"sm",variant:"outline",onClick:()=>{De([...je,{id:Date.now().toString(),itemName:"",unit:"",unitPrice:"",totalPrice:""}])},children:"+ Add Row"})})]})]}),i&&Kt&&o.jsxs(Sr,{children:[o.jsxs(fn,{children:[o.jsx(hn,{children:"Business Tharva"}),o.jsx(_n,{children:"Business purchase document for selected LGD"})]}),o.jsxs(Pr,{children:[o.jsxs("div",{className:"mb-3 flex justify-between",children:[o.jsx("div",{className:"flex gap-2",children:o.jsxs(et,{variant:"outline",className:"gap-2",onClick:()=>tn(!0),children:[o.jsx(ta,{className:"h-4 w-4"}),"Add Manual Product"]})}),o.jsxs(et,{variant:"outline",className:"gap-2",onClick:async()=>{try{if(!te.current)return;const he=(await ml(async()=>{const{default:wr}=await Promise.resolve().then(()=>g2);return{default:wr}},void 0)).default,Ge=await he(te.current,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff"}),st=Ge.toDataURL("image/png"),pt=new Hr("l","mm","a4"),fr=pt.internal.pageSize.getWidth(),ur=pt.internal.pageSize.getHeight(),dr=fr-20,lr=Ge.height*dr/Ge.width;let Wr=lr,vn=10;for(pt.addImage(st,"PNG",10,vn,dr,lr,void 0,"FAST"),Wr-=ur;Wr>0;)pt.addPage(),vn=10-(lr-Wr),pt.addImage(st,"PNG",10,vn,dr,lr,void 0,"FAST"),Wr-=ur;const Hn=`BusinessTharva_${(i==null?void 0:i.lgdCode)||"LGD"}_${new Date().toISOString().slice(0,10)}.pdf`;pt.save(Hn)}catch(he){console.error("PDF generation failed:",he),ue({title:"PDF failed",description:"Please ensure html2canvas is installed",variant:"destructive"})}},children:[o.jsx(na,{className:"h-4 w-4"}),"Download Business Tharva as PDF"]})]}),o.jsxs("div",{ref:te,className:"bg-white border rounded-lg p-6",style:{width:"297mm",minHeight:"210mm",margin:"0 auto",padding:"15mm",boxSizing:"border-box"},children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsxs("div",{className:"text-red-700 text-4xl font-extrabold",children:[" ",o.jsx("span",{className:"font-extrabold",children:i.village})]}),o.jsxs("div",{className:"text-xl font-bold mt-2",children:[o.jsx("span",{className:"text-red-700",children:"- "}),o.jsx("span",{className:"font-bold",children:i.taluka||"xxxxxx"}),o.jsx("span",{className:"text-red-700",children:" - "}),o.jsx("span",{className:"font-bold",children:i.district||"xxxxxx"})]})]}),o.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-red-700 font-bold text-lg",children:"... :-"}),o.jsx("input",{type:"text",value:bi,onChange:he=>jn(he.target.value),placeholder:"Enter Name",className:"border-b-2 border-gray-400 px-3 py-2 text-base focus:outline-none focus:border-blue-500"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-red-700 font-bold text-lg",children:".:-"}),o.jsx("input",{type:"text",value:Ee,onChange:he=>Ie(he.target.value),placeholder:"Mobile Number",className:"border-b-2 border-gray-400 px-3 py-2 w-40 text-base focus:outline-none focus:border-blue-500"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-red-700 font-bold text-lg",children:"."}),o.jsx("input",{type:"date",value:li.toISOString().split("T")[0],onChange:he=>xe(new Date(he.target.value)),className:"border-b-2 border-gray-400 px-3 py-2 text-base focus:outline-none focus:border-blue-500"})]})]}),o.jsx("div",{className:"mt-6",children:o.jsxs("table",{className:"w-full border-collapse border text-[15px]",style:{lineHeight:"1.8"},children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"border p-1 font-semibold w-12",children:"."}),o.jsx("th",{className:"border p-1 font-semibold",style:{minWidth:"200px",width:"25%"},children:" /"}),o.jsx("th",{className:"border p-1 font-semibold",children:" "}),o.jsx("th",{className:"border p-1 font-semibold",children:" "}),o.jsx("th",{className:"border p-1 font-semibold",children:""}),o.jsx("th",{className:"border p-1 font-semibold",children:" "}),o.jsx("th",{className:"border p-1 font-semibold",children:o.jsxs("div",{className:"flex items-center justify-center gap-1",children:[o.jsxs(oo,{value:gt,onValueChange:he=>{gr(he)},children:[o.jsx(Qa,{className:"w-16 h-7 border-0 bg-transparent font-semibold",children:o.jsx(lo,{})}),o.jsx($a,{className:"max-h-[300px]",children:Array.from({length:50},(he,Ge)=>Ge+1).map(he=>o.jsxs(qr,{value:he.toString(),children:[he,"%"]},he))})]}),o.jsx("span",{children:"% gst"})]})}),o.jsx("th",{className:"border p-1 font-semibold",children:""}),o.jsx("th",{className:"border p-1 font-semibold",children:" "})]})}),o.jsxs("tbody",{children:[Zt.map((he,Ge)=>o.jsxs("tr",{children:[o.jsx("td",{className:"border p-1 text-center",children:Ge+1}),o.jsx("td",{className:"border p-1",children:o.jsx("textarea",{value:he.itemName,onChange:st=>{const pt=[...Zt];pt[Ge].itemName=st.target.value,br(pt)},onKeyDown:st=>Hh(st),className:"w-full border-0 focus:outline-none focus:ring-2 focus:ring-[#EF5350]/50 px-1 resize-y min-h-[40px]",rows:2})}),o.jsx("td",{className:"border p-1",children:o.jsx("input",{type:"text",value:he.billAmount,onChange:st=>{const pt=[...Zt];pt[Ge].billAmount=st.target.value,br(pt)},onKeyDown:st=>Hh(st),className:"w-full border-0 focus:outline-none focus:ring-1 focus:ring-blue-300 px-1 text-center"})}),o.jsx("td",{className:"border p-1",children:o.jsx("input",{type:"text",value:he.discountAmount,onChange:st=>{const pt=[...Zt];pt[Ge].discountAmount=st.target.value,br(pt)},onKeyDown:st=>Hh(st),className:"w-full border-0 focus:outline-none focus:ring-1 focus:ring-blue-300 px-1 text-center"})}),o.jsx("td",{className:"border p-1 text-center",children:(()=>{const st=parseFloat(he.billAmount)||0,pt=parseFloat(he.discountAmount)||0;return(st-pt).toFixed(2)})()}),o.jsx("td",{className:"border p-1 text-center",children:(()=>{const st=parseFloat(he.billAmount)||0,pt=parseFloat(he.discountAmount)||0;return(st-pt).toFixed(2)})()}),o.jsx("td",{className:"border p-1 text-center",children:(()=>{const st=parseFloat(he.billAmount)||0,pt=parseFloat(he.discountAmount)||0,fr=st-pt,ur=parseFloat(gt)||0;return(fr*ur/100).toFixed(2)})()}),o.jsx("td",{className:"border p-1",children:o.jsx("input",{type:"text",value:he.quantity,onChange:st=>{const pt=[...Zt];pt[Ge].quantity=st.target.value,br(pt)},onKeyDown:st=>Hh(st),className:"w-full border-0 focus:outline-none focus:ring-1 focus:ring-blue-300 px-1 text-center"})}),o.jsx("td",{className:"border p-1 text-center",children:(()=>{const st=parseFloat(he.billAmount)||0,pt=parseFloat(he.discountAmount)||0,fr=st-pt,ur=parseFloat(gt)||0,dr=fr*ur/100,lr=parseFloat(he.quantity)||0;return(dr*lr).toFixed(2)})()})]},he.id)),o.jsxs("tr",{className:"bg-gray-100 font-bold",children:[o.jsx("td",{className:"border p-2 text-center",colSpan:2,children:" (Total)"}),o.jsx("td",{className:"border p-2 text-center",children:Zt.reduce((he,Ge)=>{const st=parseFloat(Ge.billAmount)||0;return he+st},0).toFixed(2)}),o.jsx("td",{className:"border p-2 text-center",children:Zt.reduce((he,Ge)=>{const st=parseFloat(Ge.discountAmount)||0;return he+st},0).toFixed(2)}),o.jsx("td",{className:"border p-2 text-center",children:Zt.reduce((he,Ge)=>{const st=parseFloat(Ge.billAmount)||0,pt=parseFloat(Ge.discountAmount)||0;return he+(st-pt)},0).toFixed(2)}),o.jsx("td",{className:"border p-2 text-center",children:Zt.reduce((he,Ge)=>{const st=parseFloat(Ge.billAmount)||0,pt=parseFloat(Ge.discountAmount)||0;return he+(st-pt)},0).toFixed(2)}),o.jsx("td",{className:"border p-2 text-center",children:Zt.reduce((he,Ge)=>{const st=parseFloat(Ge.billAmount)||0,pt=parseFloat(Ge.discountAmount)||0,fr=st-pt,ur=parseFloat(gt)||0,dr=fr*ur/100;return he+dr},0).toFixed(2)}),o.jsx("td",{className:"border p-2 text-center",colSpan:1}),o.jsx("td",{className:"border p-2 text-center",children:Zt.reduce((he,Ge)=>{const st=parseFloat(Ge.billAmount)||0,pt=parseFloat(Ge.discountAmount)||0,fr=st-pt,ur=parseFloat(gt)||0,dr=fr*ur/100,lr=parseFloat(Ge.quantity)||0,Wr=dr*lr;return he+Wr},0).toFixed(2)})]})]})]})})]}),o.jsx("div",{className:"add-row-wrapper mt-4 px-6",children:o.jsx(et,{className:"add-row-btn",size:"sm",variant:"outline",onClick:()=>{br([...Zt,{id:Date.now().toString(),itemName:"",billAmount:"",discountAmount:"",discount:"",discountPrice:"",gst18:"",percentDiscount:"",quantity:"",totalPrice:""}])},children:"+ Add Row"})})]})]}),a.length>0&&o.jsxs(Sr,{children:[o.jsxs(fn,{children:[o.jsxs(hn,{children:[d||A?"Filtered":"All"," LGD Data (",c.length," records)"]}),o.jsx(_n,{children:d||A?`Showing filtered results${d&&d!=="all"?` for ${d}`:""}${A&&A!=="all"?` - ${A}`:""}`:"All records from database"})]}),o.jsx(Pr,{children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full border-collapse",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-primary text-primary-foreground",children:[o.jsx("th",{className:"border p-3 text-left",children:"LGD Code"}),o.jsx("th",{className:"border p-3 text-left",children:"Village Panchayat"}),o.jsx("th",{className:"border p-3 text-left",children:"District"}),o.jsx("th",{className:"border p-3 text-left",children:"Taluka"})]})}),o.jsx("tbody",{children:c.map((he,Ge)=>o.jsxs("tr",{className:Ge%2===0?"bg-gray-50":"bg-white",children:[o.jsx("td",{className:"border p-3 font-mono font-bold text-lg bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:he.lgdCode}),o.jsx("td",{className:"border p-3",children:he.village}),o.jsx("td",{className:"border p-3",children:he.district||"-"}),o.jsx("td",{className:"border p-3",children:he.taluka||"-"})]},he.id||Ge))})]})})})]})]}),o.jsx(t1,{}),yr&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Add Manual Product"}),o.jsx(et,{variant:"outline",onClick:()=>tn(!1),children:" Close"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(xr,{children:"Product Name *"}),o.jsx(Or,{value:Jr.name,onChange:he=>xn(Ge=>({...Ge,name:he.target.value})),placeholder:"Enter product name"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx(xr,{children:"Quantity *"}),o.jsx(Or,{type:"number",value:Jr.quantity,onChange:he=>xn(Ge=>({...Ge,quantity:he.target.value})),placeholder:"Qty"})]}),o.jsxs("div",{children:[o.jsx(xr,{children:"Unit"}),o.jsxs(oo,{value:Jr.unit,onValueChange:he=>xn(Ge=>({...Ge,unit:he})),children:[o.jsx(Qa,{children:o.jsx(lo,{})}),o.jsxs($a,{children:[o.jsx(qr,{value:"Nos",children:"Nos"}),o.jsx(qr,{value:"Kg",children:"Kg"}),o.jsx(qr,{value:"Ltr",children:"Ltr"}),o.jsx(qr,{value:"Mtr",children:"Mtr"}),o.jsx(qr,{value:"Set",children:"Set"}),o.jsx(qr,{value:"Box",children:"Box"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(xr,{children:"Rate () *"}),o.jsx(Or,{type:"number",value:Jr.rate,onChange:he=>xn(Ge=>({...Ge,rate:he.target.value})),placeholder:"Enter rate per unit"})]}),o.jsxs("div",{children:[o.jsx(xr,{children:"Description"}),o.jsx(Or,{value:Jr.description,onChange:he=>xn(Ge=>({...Ge,description:he.target.value})),placeholder:"Optional description"})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o.jsx(et,{variant:"outline",onClick:()=>tn(!1),children:"Cancel"}),o.jsx(et,{onClick:ru,children:"Add Product"})]})]})})]})},kTt=()=>{const e=Vm();return C.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),o.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},jTt=()=>{const[e,t]=C.useState([]),[r,n]=C.useState([]),[i,s]=C.useState([]),[a,l]=C.useState({}),[c,u]=C.useState(0),[d,h]=C.useState(""),[A,g]=C.useState(null),[v,x]=C.useState("all"),[y,w]=C.useState(!0);ds(),C.useEffect(()=>{const N=jr(Et,"latur_operator_tharvas"),j=Ai(N,Xa("bidNumber","!=",null),ia("bidUpdatedAt","desc")),T=vs(j,P=>{const k=[];P.forEach(M=>{const H=M.data();H.bidNumber&&k.push({id:M.id,lgdCode:H.lgdCode||"",village:H.village||"",taluka:H.taluka||"",district:H.district||"",scheme:H.scheme||"",schemeYear:H.schemeYear||"",bidNumber:H.bidNumber,tharvaFileName:H.tharvaFileName||"",bidUpdatedAt:H.bidUpdatedAt,bidEndDate:H.bidEndDate||"",bidAmount:H.bidAmount||"",amount:H.amount||"",tharvaDate:H.tharvaDate,status:H.status||"pending"})}),t(k);const R=new Date(Date.now()-5*60*1e3),O=k.filter(M=>M.bidUpdatedAt?(M.bidUpdatedAt.toDate?M.bidUpdatedAt.toDate():new Date(M.bidUpdatedAt))>R:!1).length;u(O)});return()=>T()},[]),C.useEffect(()=>{const N=jr(Et,"directkhardi"),j=Ai(N,Xa("productName","!=",null),ia("productName"),ia("sentAt","desc")),T=vs(j,P=>{const k={};P.forEach(R=>{const O=R.data();O.tharvaId&&O.productName&&(k[O.tharvaId]||(k[O.tharvaId]=[]),k[O.tharvaId].push({id:R.id,productId:O.productId,productName:O.productName,price:O.price,quantity:O.quantity,unit:O.unit,rate:O.rate,amount:O.amount,description:O.description,sentAt:O.sentAt,sentBy:O.sentBy,status:O.status,village:O.village,taluka:O.taluka,district:O.district,lgdCode:O.lgdCode,scheme:O.scheme}))}),console.log(" Loaded Direct Khardi products by THARVA:",k),l(k)});return()=>T()},[]),C.useEffect(()=>{const N=jr(Et,"latur_operator_tharvas"),j=Ai(N,Xa("type","==","direct_khardi"),ia("createdAt","desc")),T=jr(Et,"directkhardi"),P=Ai(T,ia("createdAt","desc")),k=vs(j,O=>{const M=[];O.forEach(H=>{const K=H.data();M.push({id:H.id,lgdCode:K.lgdCode||"",village:K.village||"",taluka:K.taluka||"",district:K.district||"",scheme:K.scheme||"",schemeYear:K.schemeYear||"",bidNumber:K.bidNumber||"",tharvaFileName:K.tharvaFileName||"",bidUpdatedAt:K.createdAt||K.bidUpdatedAt,bidEndDate:K.bidEndDate||"",bidAmount:K.bidAmount||"",amount:K.amount||"",tharvaDate:K.tharvaDate,status:K.status||"pending",type:K.type||"direct_khardi",directKhardiCompletedAt:K.directKhardiCompletedAt,allProductsSent:K.allProductsSent||!1,totalProducts:K.totalProducts||0,totalProductsSent:K.totalProductsSent||0,extractedProducts:K.extractedProducts||[],sentProducts:K.sentProducts||{}})}),s(H=>{new Set(H.filter(ne=>ne.source==="directkhardi").map(ne=>ne.id));const K=M.map(ne=>({...ne,source:"tharvas"}));return[...H.filter(ne=>ne.source==="directkhardi"),...K]})}),R=vs(P,O=>{const M=[];O.forEach(H=>{const K=H.data();M.push({id:H.id,lgdCode:K.lgdCode||"",village:K.village||"",taluka:K.taluka||"",district:K.district||"",scheme:K.scheme||"",schemeYear:K.schemeYear||"",bidNumber:K.bidNumber||"",tharvaFileName:K.tharvaFileName||"",bidUpdatedAt:K.createdAt||K.bidUpdatedAt,bidEndDate:K.bidEndDate||"",bidAmount:K.bidAmount||"",amount:K.amount||"",tharvaDate:K.tharvaDate,status:K.status||"pending",type:"direct_khardi",directKhardiCompletedAt:K.directKhardiCompletedAt,allProductsSent:K.allProductsSent||!1,totalProducts:K.totalProducts||0,totalProductsSent:K.totalProductsSent||0,extractedProducts:K.extractedProducts||[],sentProducts:K.sentProducts||{},source:"directkhardi"})}),s(H=>{const K=H.filter(ne=>ne.source==="tharvas"),Y=M;return[...K,...Y]})});return()=>{k(),R()}},[]),C.useEffect(()=>{const N=async()=>{const T=[],P=["tharvaHistory","latur_operator_tharvas","tharvas","lgd_data","tharva_drafts"];for(const k of P)try{console.log(`Checking collection: ${k}`);const R=jr(Et,k),O=Ai(R),M=vs(O,H=>{console.log(`${k} snapshot size:`,H.size),H.forEach(K=>{const Y=K.data();console.log(`${k} document:`,Y),T.push({id:`${k}_${K.id}`,lgdCode:Y.lgdCode||Y.LGDCode||"",village:Y.village||Y.Village||"",taluka:Y.taluka||Y.Taluka||"",district:Y.district||Y.District||"",scheme:Y.scheme||Y.Scheme||"",schemeYear:Y.schemeYear||Y.SchemeYear||"",bidNumber:Y.bidNumber||Y.BidNumber||"",tharvaFileName:Y.tharvaFileName||Y.TharvaFileName||"Not generated",bidUpdatedAt:Y.date||Y.timestamp||Y.createdAt,bidEndDate:Y.bidEndDate||"",bidAmount:Y.bidAmount||"",amount:Y.amount||"",tharvaDate:Y.date||Y.timestamp,pdfData:Y.pdfData||"",status:Y.status||"pending"})}),console.log("All loaded THARVAs:",T),n([...T])})}catch(R){console.log(`Error loading ${k}:`,R)}},j=async()=>{try{console.log("Loading THARVAs from Firebase Storage...");const T=pc(Js,"tharvas"),P=await pce(T);console.log("Storage files found:",P.items.length);const k=[];for(const R of P.items)try{const O=await nf(R),M=await Ace(R);console.log("Storage file:",R.name,M);const H=R.name,K=H.replace(".pdf","").split("_");k.push({id:`storage_${H}`,lgdCode:K[1]||"",village:"From Storage",taluka:"",district:"",scheme:"",schemeYear:"",bidNumber:"",tharvaFileName:H,bidUpdatedAt:M.timeCreated?new Date(M.timeCreated):new Date,bidEndDate:"",bidAmount:"",amount:"",tharvaDate:M.timeCreated?new Date(M.timeCreated):new Date,pdfData:O,status:"completed"})}catch(O){console.log("Error processing storage file:",R.name,O)}console.log("Storage THARVAs loaded:",k),n(R=>[...R,...k])}catch(T){console.log("Error loading from storage:",T)}};N(),j()},[]);const _=N=>N?(N.toDate?N.toDate():new Date(N)).toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",E=()=>{if(!d.trim()){g(null);return}const N=e.find(j=>j.bidNumber===d.trim());g(N||null)},I=N=>{x(N)};return C.useEffect(()=>{const j=setTimeout(()=>{const T=document.getElementById("bid-list-section");T&&T.scrollIntoView({behavior:"smooth",block:"center"})},100);return()=>clearTimeout(j)},[v]),o.jsx("div",{className:"premium-dashboard min-h-screen",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-3 sm:p-4 space-y-4 sm:space-y-6",children:[o.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:[o.jsx(Sr,{className:`premium-glass-card group relative p-6 transition-all duration-200 hover:shadow-lg hover:-translate-y-1 cursor-pointer ${v==="all"?"ring-2 ring-blue-500":""}`,onClick:()=>I("all"),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total BIDs"}),o.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:e.length}),o.jsx("p",{className:"text-sm text-gray-500",children:v==="all"?" Showing All":"Click to show all"})]}),o.jsx("div",{className:"p-3 rounded-lg bg-blue-50 border border-blue-100",children:o.jsx(ta,{className:"h-6 w-6 text-blue-600"})})]})}),o.jsx(Sr,{className:`premium-glass-card group relative p-6 transition-all duration-200 hover:shadow-lg hover:-translate-y-1 cursor-pointer ${v==="approved"?"ring-2 ring-green-500":""}`,onClick:()=>I("approved"),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Approved"}),o.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:e.filter(N=>N.status==="approval"&&N.bidAmount).length}),o.jsx("p",{className:"text-sm text-gray-500",children:v==="approved"?" Filtered":"Click to filter"})]}),o.jsx("div",{className:"p-3 rounded-lg bg-green-50 border border-green-100",children:o.jsx(id,{className:"h-6 w-6 text-green-600"})})]})}),o.jsx(Sr,{className:`premium-glass-card group relative p-6 transition-all duration-200 hover:shadow-lg hover:-translate-y-1 cursor-pointer ${v==="pending"?"ring-2 ring-yellow-500":""}`,onClick:()=>I("pending"),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Pending"}),o.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:e.filter(N=>N.status==="pending"||!N.bidAmount&&N.bidNumber).length}),o.jsx("p",{className:"text-sm text-gray-500",children:v==="pending"?" Filtered":"Click to filter"})]}),o.jsx("div",{className:"p-3 rounded-lg bg-yellow-50 border border-yellow-100",children:o.jsx(Mf,{className:"h-6 w-6 text-yellow-600"})})]})}),o.jsx(Sr,{className:`premium-glass-card group relative p-6 transition-all duration-200 hover:shadow-lg hover:-translate-y-1 cursor-pointer ${v==="directKhardi"?"ring-2 ring-orange-500":""}`,onClick:()=>I("directKhardi"),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Direct Khardi"}),o.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:i.length}),o.jsx("p",{className:"text-sm text-gray-500",children:v==="directKhardi"?" Filtered":"Click to filter"})]}),o.jsx("div",{className:"p-3 rounded-lg bg-orange-50 border border-orange-100",children:o.jsx(dm,{className:"h-6 w-6 text-orange-600"})})]})})]}),o.jsx(Sr,{className:"premium-glass-card p-4 sm:p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-bold",children:"BID Management"}),o.jsx("p",{className:"text-xs sm:text-sm",children:"Search and manage all BID submissions"})]}),o.jsxs(et,{onClick:()=>w(!y),className:"btn-premium-primary gap-2",children:[o.jsx(ta,{className:"h-5 w-5"}),y?"Hide History":"THARVA History"]})]})}),o.jsxs(Sr,{className:"premium-glass-card p-6",children:[o.jsx("div",{className:"mb-4",children:o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Check BID Approval Status"})}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("input",{type:"text",value:d,onChange:N=>h(N.target.value),onKeyDown:N=>N.key==="Enter"&&E(),placeholder:"Paste BID Number here...",className:"premium-search flex-1 text-lg font-medium",autoComplete:"off"}),o.jsxs(et,{onClick:E,className:"btn-premium-primary gap-2",children:[o.jsx(id,{className:"h-5 w-5"}),"Check Status"]})]}),d&&o.jsx("div",{className:"mt-4",children:A?(()=>{const N=A.bidAmount&&A.bidEndDate,j=[];return A.bidEndDate||j.push("BID End Date"),A.bidAmount||j.push("BID Amount"),o.jsxs("div",{className:`border-2 rounded-lg p-4 ${N?"bg-green-50 border-green-500":"bg-yellow-50 border-yellow-500"}`,children:[o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"flex items-center gap-2 mb-3",children:N?o.jsxs(o.Fragment,{children:[o.jsx(id,{className:"h-6 w-6 text-green-600"}),o.jsx("h3",{className:"text-lg font-bold text-green-800",children:" BID Amount Submitted!"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"h-6 w-6 rounded-full flex items-center justify-center shadow-sm",style:{background:"linear-gradient(135deg, #F59E0B, #FBBF24)"},children:o.jsx(Mf,{className:"h-3.5 w-3.5 text-white"})}),o.jsx("h3",{className:"text-lg font-bold",style:{color:"#F59E0B"},children:" BID Pending"})]})}),o.jsxs("div",{className:"details-grid gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"BID Number:"}),o.jsx("span",{className:"font-bold ml-2 text-green-700",children:A.bidNumber})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"THARVA Number:"}),o.jsx("span",{className:"font-semibold ml-2",children:A.tharvaFileName})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Village:"}),o.jsx("span",{className:"font-semibold ml-2",children:A.village})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"LGD Code:"}),o.jsx("span",{className:"font-semibold ml-2",children:A.lgdCode})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Scheme:"}),o.jsxs("span",{className:"font-semibold ml-2",children:[A.scheme," ",A.schemeYear]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Submitted:"}),o.jsx("span",{className:"font-semibold ml-2",children:_(A.bidUpdatedAt)})]}),o.jsxs("div",{className:A.bidEndDate?"":"bg-red-100 border-2 border-red-400 rounded p-2",children:[o.jsx("span",{className:"text-gray-600",children:"BID End Date:"}),o.jsx("span",{className:`font-bold ml-2 ${A.bidEndDate?"text-red-600":"text-red-700"}`,children:A.bidEndDate||" MISSING"})]}),o.jsxs("div",{className:A.bidAmount?"":"bg-red-100 border-2 border-red-400 rounded p-2",children:[o.jsx("span",{className:"text-gray-600",children:"BID Amount:"}),o.jsx("span",{className:`font-bold ml-2 ${A.bidAmount?"text-purple-600":"text-red-700"}`,children:A.bidAmount?`${A.bidAmount}`:" MISSING"})]})]})]}),N?o.jsxs("div",{className:"flex flex-col items-center justify-center bg-green-600 text-white rounded-lg px-6 py-4 min-w-[180px]",children:[o.jsx(id,{className:"h-12 w-12 mb-2"}),o.jsx("p",{className:"text-xl font-bold",children:"BID AMOUNT SUBMITTED"}),o.jsx("p",{className:"text-xs mt-1 opacity-90",children:" Verified"})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center rounded-xl px-4 py-3 w-fit shrink-0",style:{background:"linear-gradient(135deg, #F59E0B, #FBBF24)"},children:[o.jsx("div",{className:"h-10 w-10 mb-1.5 rounded-full bg-white flex items-center justify-center shadow-md",children:o.jsx(Mf,{className:"h-5 w-5",style:{color:"#F59E0B"}})}),o.jsx("p",{className:"text-base font-bold text-white",children:"PENDING"}),o.jsx("p",{className:"text-xs mt-0.5 text-white/90",children:" Incomplete"})]})]}),o.jsx("div",{className:`mt-3 pt-3 border-t ${N?"border-green-200":"border-yellow-200"}`,children:N?o.jsx("p",{className:"text-sm text-gray-600",children:"This BID has been successfully submitted and approved."}):o.jsxs("p",{className:"text-sm text-yellow-800 font-semibold",children:[" Missing Information: ",j.join(", "),". Please complete to approve."]})})]})})():o.jsxs("div",{className:"bg-red-50 border-2 border-red-500 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("div",{className:"h-6 w-6 rounded-full bg-red-600 flex items-center justify-center text-white font-bold",children:""}),o.jsx("h3",{className:"text-lg font-bold text-red-800",children:" BID Not Found"})]}),o.jsxs("p",{className:"text-red-700",children:['BID Number "',d,'" is not in the system.']}),o.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please check the number and try again, or contact the administrator."})]})})]}),o.jsxs(Sr,{id:"bid-list-section",className:"premium-glass-card p-6",children:[o.jsxs(fn,{children:[o.jsx(hn,{children:v==="directKhardi"?"Direct Khardi History":"All Received BID Numbers"}),o.jsx(_n,{children:v==="directKhardi"?"Complete list of Direct Khardi THARVAs with product status":"Complete list of BID numbers submitted by Latur Operator"})]}),o.jsx(Pr,{children:v==="directKhardi"?i.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(dm,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),o.jsx("p",{className:"text-lg font-semibold text-gray-600",children:"No Direct Khardi THARVAs Yet"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Direct Khardi THARVAs will appear here when received"})]}):o.jsx("div",{className:"space-y-4",children:i.sort((N,j)=>{const T=R=>{var O;return(O=R.bidUpdatedAt)!=null&&O.toDate?R.bidUpdatedAt.toDate().getTime():R.bidUpdatedAt?new Date(R.bidUpdatedAt).getTime():Date.now()},P=T(N);return T(j)-P}).map(N=>{var P,k,R,O,M,H;const j=N.allProductsSent,T=N.status==="approval";return o.jsx(Sr,{className:`premium-glass-card p-6 transition-all duration-200 hover:shadow-lg hover:-translate-y-1 ${T?"ring-2 ring-green-500":j?"ring-2 ring-blue-500":"ring-2 ring-orange-400"}`,children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:N.village}),o.jsx(cn,{className:"bg-orange-600 text-white",children:"Direct Khardi"}),T&&o.jsx(cn,{className:"bg-green-600 text-white",children:"Approved"}),j&&!T&&o.jsx(cn,{className:"bg-blue-600 text-white",children:"Complete"}),!j&&o.jsx(cn,{className:"bg-yellow-500 text-white",children:"Incomplete"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"LGD Code:"}),o.jsx("span",{className:"font-semibold ml-2",children:N.lgdCode||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"THARVA File:"}),o.jsx("span",{className:"font-semibold ml-2",children:N.tharvaFileName||"Not generated"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Taluka:"}),o.jsx("span",{className:"font-semibold ml-2",children:N.taluka||"Not specified"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"District:"}),o.jsx("span",{className:"font-semibold ml-2",children:N.district||"Not specified"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Scheme:"}),o.jsxs("span",{className:"font-semibold ml-2",children:[N.scheme," ",N.schemeYear]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Amount:"}),o.jsxs("span",{className:"font-bold ml-2 text-purple-600",children:["",N.amount||N.bidAmount||"-"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Received:"}),o.jsx("span",{className:"font-semibold ml-2",children:_(N.bidUpdatedAt)})]}),N.bidNumber&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"BID Number:"}),o.jsx("span",{className:"font-bold ml-2 text-green-700",children:N.bidNumber})]}),o.jsxs("div",{className:"col-span-2 mt-2 p-2 bg-gray-100 rounded",children:[o.jsx("span",{className:"text-gray-600",children:"Status:"}),o.jsx("span",{className:`font-bold ml-2 ${T?"text-green-600":j?"text-blue-600":"text-orange-600"}`,children:T?" Approved & Complete":j?" Ready for Approval":" Processing"})]}),(N.totalProducts||((P=N.extractedProducts)==null?void 0:P.length))&&o.jsxs("div",{className:"col-span-2",children:[o.jsx("span",{className:"text-gray-600",children:"Products:"}),o.jsxs("span",{className:"font-bold ml-2 text-blue-600",children:[((k=N.extractedProducts)==null?void 0:k.length)||N.totalProducts||0," items",N.totalProductsSent?` (${N.totalProductsSent} sent)`:""]})]})]}),N.extractedProducts&&N.extractedProducts.length>0||a[N.id]?o.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[o.jsxs("h4",{className:"font-bold text-blue-800 mb-3 flex items-center gap-2",children:[" Product Details (",(((R=N.extractedProducts)==null?void 0:R.length)||0)+(((O=a[N.id])==null?void 0:O.length)||0)," items):"]}),o.jsxs("div",{className:"space-y-3",children:[N.extractedProducts&&N.extractedProducts.map((K,Y)=>{var te;const ne=(te=N.sentProducts)==null?void 0:te[K.id],le=!!ne;return o.jsx("div",{className:"bg-white p-3 rounded-lg border shadow-sm",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("span",{className:"font-bold text-gray-800",children:K.name}),le?o.jsx(cn,{className:"bg-green-600 text-white",children:" Sent"}):o.jsx(cn,{className:"bg-orange-500 text-white",children:" Pending"})]}),o.jsxs("div",{className:"text-sm text-gray-600 flex gap-4",children:[o.jsxs("span",{children:[o.jsx("strong",{children:"Qty:"})," ",K.quantity," ",K.unit||"Nos"]}),K.rate&&o.jsxs("span",{children:[o.jsx("strong",{children:"Rate:"})," ",K.rate]}),le&&ne.price&&o.jsxs("span",{className:"text-green-700",children:[o.jsx("strong",{children:"Final Price:"})," ",ne.price]})]})]}),le&&o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"font-bold text-green-600",children:["",ne.price]}),o.jsx("div",{className:"text-xs text-gray-500",children:"Sent"})]})]})},K.id||Y)}),a[N.id]&&a[N.id].map((K,Y)=>o.jsx("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("span",{className:"font-bold text-gray-800",children:K.productName}),o.jsx(cn,{className:"bg-blue-600 text-white",children:" Sent to Tharva"})]}),o.jsxs("div",{className:"text-sm text-gray-600 flex gap-4 flex-wrap",children:[o.jsxs("span",{children:[o.jsx("strong",{children:"Qty:"})," ",K.quantity," ",K.unit||"Nos"]}),K.rate&&o.jsxs("span",{children:[o.jsx("strong",{children:"Original:"})," ",K.rate]}),o.jsxs("span",{className:"text-blue-700",children:[o.jsx("strong",{children:"Final Price:"})," ",K.price]})]}),o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Sent by: ",K.sentBy,"  ",_(K.sentAt)]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"font-bold text-blue-600 text-lg",children:["",K.price]}),o.jsx("div",{className:"text-xs text-gray-500",children:"Final"})]})]})},`sent-${K.id}`))]}),(N.extractedProducts&&N.extractedProducts.length>0||a[N.id]&&a[N.id].length>0)&&o.jsx("div",{className:"mt-4 pt-3 border-t border-blue-200 bg-blue-100 p-3 rounded",children:o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("span",{className:"font-semibold text-blue-800",children:[" Total Products: ",(((M=N.extractedProducts)==null?void 0:M.length)||0)+(((H=a[N.id])==null?void 0:H.length)||0)]}),a[N.id]&&o.jsxs("span",{className:"font-semibold text-green-700",children:[" Sent: ",a[N.id].length]})]}),a[N.id]&&a[N.id].length>0&&o.jsxs("span",{className:"font-bold text-blue-700 text-lg",children:["Total: ",a[N.id].reduce((K,Y)=>K+(parseFloat(Y.price)||0),0).toLocaleString()]})]})})]}):o.jsx("div",{className:"mt-4 p-3 bg-gray-100 rounded-lg border text-center",children:o.jsx("p",{className:"text-gray-600 text-sm",children:" No product details available for this Direct Khardi entry"})})]}),T?o.jsxs("div",{className:"flex flex-col items-center justify-center bg-green-600 text-white rounded-lg px-4 py-3 min-w-[120px]",children:[o.jsx(id,{className:"h-8 w-8 mb-1"}),o.jsx("p",{className:"text-sm font-bold",children:"APPROVED"}),o.jsx("p",{className:"text-xs opacity-90",children:" Final"})]}):j?o.jsxs("div",{className:"flex flex-col items-center justify-center bg-blue-600 text-white rounded-lg px-4 py-3 min-w-[120px]",children:[o.jsx(id,{className:"h-8 w-8 mb-1"}),o.jsx("p",{className:"text-sm font-bold",children:"COMPLETE"}),o.jsx("p",{className:"text-xs opacity-90",children:"Ready for approval"})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center bg-orange-500 text-white rounded-lg px-4 py-3 min-w-[120px]",children:[o.jsx(Mf,{className:"h-8 w-8 mb-1"}),o.jsx("p",{className:"text-sm font-bold",children:"PROCESSING"}),o.jsx("p",{className:"text-xs opacity-90",children:"Products pending"})]})]})},N.id)})}):e.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ta,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),o.jsx("p",{className:"text-lg font-semibold text-gray-600",children:"No BIDs Received Yet"}),o.jsx("p",{className:"text-sm text-gray-500",children:"BID numbers will appear here when submitted"})]}):o.jsx("div",{className:"space-y-4",children:e.filter(N=>!A||N.bidNumber!==A.bidNumber).filter(N=>v==="approved"?N.status==="approval"&&N.bidAmount:v==="pending"?N.status==="pending"||!N.bidAmount&&N.bidNumber:!0).sort((N,j)=>{const T=R=>{var O;return(O=R.bidUpdatedAt)!=null&&O.toDate?R.bidUpdatedAt.toDate().getTime():R.bidUpdatedAt?new Date(R.bidUpdatedAt).getTime():Date.now()},P=T(N);return T(j)-P}).map(N=>{const j=N.bidUpdatedAt&&(()=>{const P=new Date(Date.now()-3e5);return(N.bidUpdatedAt.toDate?N.bidUpdatedAt.toDate():new Date(N.bidUpdatedAt))>P})(),T=N.bidAmount&&N.bidEndDate;return o.jsx(Sr,{className:`premium-glass-card p-6 transition-all duration-200 hover:shadow-lg hover:-translate-y-1 ${j?"ring-2 ring-green-500":T?"":"ring-2 ring-yellow-400"}`,children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:N.village}),j&&o.jsx(cn,{className:"bg-green-600 text-white",children:"New"}),!T&&o.jsx(cn,{className:"bg-yellow-500 text-white",children:"Pending"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"THARVA Number:"}),o.jsx("span",{className:"font-semibold ml-2",children:N.tharvaFileName||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"BID Number:"}),o.jsx("span",{className:"font-bold ml-2 text-green-700",children:N.bidNumber})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"LGD Code:"}),o.jsx("span",{className:"font-semibold ml-2",children:N.lgdCode||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Taluka:"}),o.jsx("span",{className:"font-semibold ml-2",children:N.taluka||"Not specified"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"District:"}),o.jsx("span",{className:"font-semibold ml-2",children:N.district||"Not specified"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Scheme:"}),o.jsxs("span",{className:"font-semibold ml-2",children:[N.scheme," ",N.schemeYear]})]}),N.amount&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"THARVA Amount:"}),o.jsx("span",{className:"font-bold ml-2 text-purple-600",children:N.amount})]}),N.tharvaDate&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"THARVA Date:"}),o.jsx("span",{className:"font-semibold ml-2",children:_(N.tharvaDate)})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"BID Submitted:"}),o.jsx("span",{className:"font-semibold ml-2",children:_(N.bidUpdatedAt)})]}),o.jsxs("div",{className:N.bidEndDate?"":"bg-red-100 border-2 border-red-400 rounded p-1",children:[o.jsx("span",{className:"text-gray-600",children:"BID End Date:"}),o.jsx("span",{className:`font-bold ml-2 ${N.bidEndDate?"text-red-600":"text-red-700"}`,children:N.bidEndDate||" MISSING"})]}),o.jsxs("div",{className:N.bidAmount?"":"bg-red-100 border-2 border-red-400 rounded p-1",children:[o.jsx("span",{className:"text-gray-600",children:"BID Amount:"}),o.jsx("span",{className:`font-bold ml-2 ${N.bidAmount?"text-purple-600":"text-red-700"}`,children:N.bidAmount?`${N.bidAmount}`:" MISSING"})]})]})]}),T?o.jsxs("div",{className:"flex flex-col items-center justify-center bg-green-600 text-white rounded-lg px-4 py-3 min-w-[120px]",children:[o.jsx(id,{className:"h-8 w-8 mb-1"}),o.jsx("p",{className:"text-sm font-bold",children:"SUBMITTED"}),o.jsx("p",{className:"text-xs opacity-90",children:" Verified"})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center bg-yellow-500 text-white rounded-lg px-4 py-3 min-w-[120px]",children:[o.jsx(Mf,{className:"h-8 w-8 mb-1"}),o.jsx("p",{className:"text-sm font-bold",children:"PENDING"}),o.jsx("p",{className:"text-xs opacity-90",children:" Incomplete"})]})]})},N.id)})})})]}),y&&o.jsxs(Sr,{className:"premium-glass-card p-6",children:[o.jsxs(fn,{children:[o.jsx(hn,{children:"All THARVA History"}),o.jsx(_n,{children:"Click on any card to view the THARVA PDF"})]}),o.jsx(Pr,{children:r.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ta,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),o.jsx("p",{className:"text-lg font-semibold text-gray-600",children:"No THARVAs Yet"}),o.jsx("p",{className:"text-sm text-gray-500",children:"THARVA history will appear here"})]}):o.jsx("div",{className:"space-y-4",children:r.map(N=>{const j=!!N.bidNumber;return o.jsx(Sr,{className:"premium-glass-card p-6 cursor-pointer transition-all duration-200 hover:shadow-lg hover:-translate-y-1 border-l-4 border-l-red-400",onClick:()=>{if(N.pdfData){const T=window.open();T&&T.document.write(`<iframe width='100%' height='100%' src='${N.pdfData}'></iframe>`)}},children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:N.village}),j&&o.jsx(cn,{className:"bg-green-600 text-white",children:"Has BID"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"THARVA Number:"}),o.jsx("span",{className:"font-semibold ml-2",children:N.tharvaFileName||"Not generated"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"BID Number:"}),o.jsx("span",{className:"font-bold ml-2 text-green-700",children:N.bidNumber||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"LGD Code:"}),o.jsx("span",{className:"font-semibold ml-2",children:N.lgdCode||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Taluka:"}),o.jsx("span",{className:"font-semibold ml-2",children:N.taluka||"Not specified"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"District:"}),o.jsx("span",{className:"font-semibold ml-2",children:N.district||"Not specified"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Scheme:"}),o.jsxs("span",{className:"font-semibold ml-2",children:[N.scheme," ",N.schemeYear]})]}),j&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"BID End Date:"}),o.jsx("span",{className:"font-bold ml-2 text-red-600",children:N.bidEndDate||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"BID Amount:"}),o.jsx("span",{className:"font-bold ml-2 text-purple-600",children:N.bidAmount?`${N.bidAmount}`:"-"})]})]})]})]}),o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-blue-50 border border-blue-100",children:o.jsx(ta,{className:"h-8 w-8 text-blue-600"})}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click to view"})]})]})},N.id)})})})]})]})})},PTt=()=>{const[e,t]=C.useState(""),[r,n]=C.useState(""),[i,s]=C.useState(!1),[a,l]=C.useState(!1),[c,u]=C.useState(!1),[d,h]=C.useState([]),[A,g]=C.useState(0),[v,x]=C.useState({}),[y,w]=C.useState({}),[_,E]=C.useState({}),[I,N]=C.useState(new Set),[j,T]=C.useState("tharvas"),[P,k]=C.useState([]),[R,O]=C.useState([]),[M,H]=C.useState({}),[K,Y]=C.useState({}),[ne,le]=C.useState({}),[te,X]=C.useState({}),ue=async z=>{try{console.log(" Loading Direct Khardi products from Firebase for:",z);const{doc:Fe,getDoc:He,collection:ke,query:Te,where:Ze,getDocs:ze}=await ml(async()=>{const{doc:_t,getDoc:jt,collection:or,query:St,where:at,getDocs:Ut}=await Promise.resolve().then(()=>f0);return{doc:_t,getDoc:jt,collection:or,query:St,where:at,getDocs:Ut}},void 0),Tt=Fe(Et,"latur_operator_tharvas",z),Bt=await He(Tt);let mt=null;if(Bt.exists())mt=Bt.data(),console.log(" Found data in latur_operator_tharvas");else{console.log(" Not found in latur_operator_tharvas, checking directkhardi collection...");const _t=Te(ke(Et,"directkhardi"),Ze("tharvaId","==",z)),jt=await ze(_t);jt.empty||(mt=jt.docs[0].data(),console.log(" Found data in directkhardi collection"))}if(mt&&mt.extractedProducts&&mt.extractedProducts.length>0){console.log(" Found stored products:",mt.extractedProducts),H(St=>({...St,[z]:mt.extractedProducts}));const _t={};mt.sentProducts&&Object.entries(mt.sentProducts).forEach(([St,at])=>{_t[St]=at.price||""});const jt={};if(mt.extractedProducts.forEach(St=>{jt[St.id]=_t[St.id]||""}),Y(St=>({...St,[z]:jt})),mt.sentProducts){const St=Object.keys(mt.sentProducts);le(at=>({...at,[z]:new Set(St)}))}const or=mt.allProductsSent?"complete":mt.directKhardiStatus==="approved"?"approved":"incomplete";return X(St=>({...St,[z]:or})),V({title:" Products Loaded!",description:`Found ${mt.extractedProducts.length} stored products`,duration:3e3}),!0}return!1}catch(Fe){return console.error(" Failed to load Direct Khardi products:",Fe),!1}},ve=ds(),{toast:V}=Lo();C.useRef(null);const q=C.useRef(0);C.useEffect(()=>{localStorage.setItem("downloadedTharvas",JSON.stringify(Array.from(I)))},[I]),C.useEffect(()=>{if(!a)return;let z=null,Fe=null;const He=setTimeout(()=>{u(!0);const ke=jr(Et,"latur_operator_tharvas"),Te=Ai(ke,ia("createdAt","desc")),Ze=jr(Et,"directkhardi"),ze=Ai(Ze,ia("createdAt","desc"));z=vs(Te,Tt=>{const Bt=[],mt=new Set;let _t=0;Tt.forEach(St=>{var qt,Er;const at=St.data();if(console.log(" ========== RECEIVED THARVA FROM FIREBASE =========="),console.log(" Document ID:",St.id),console.log(" Village:",at.village),console.log(" LGD Code:",at.lgdCode),console.log(" AMOUNT FROM FIREBASE:",at.amount),console.log(" AMOUNT TYPE:",typeof at.amount),console.log(" THARVA DATE FROM FIREBASE:",at.tharvaDate),console.log(" THARVA DATE TYPE:",typeof at.tharvaDate),console.log(" Has toDate method:",!!((qt=at.tharvaDate)!=null&&qt.toDate)),(Er=at.tharvaDate)!=null&&Er.toDate){const Kt=at.tharvaDate.toDate();console.log(" Converted Date:",Kt),console.log(" Date components:",{day:Kt.getDate(),month:Kt.getMonth()+1,year:Kt.getFullYear()})}console.log(" ==================================================="),at.downloaded===!0&&(mt.add(St.id),console.log(" Loaded downloaded status for:",St.id,at.village));const Ut={id:St.id,lgdCode:at.lgdCode||"",village:at.village||"",taluka:at.taluka||"",district:at.district||"",scheme:at.scheme||"",schemeYear:at.schemeYear||"",fundOption:at.fundOption||"",amount:at.amount||"",tharvaDate:at.tharvaDate,pdfData:at.pdfData||"",pdfUrl:at.pdfUrl||"",pdfPath:at.pdfPath||"",createdAt:at.createdAt||at.date||at.timestamp,status:at.status||"pending",read:at.read||!1,bidNumber:at.bidNumber,tharvaFileName:at.tharvaFileName,bidEndDate:at.bidEndDate,bidAmount:at.bidAmount,type:at.type||"regular"};if(at.type==="direct_khardi"&&console.log(" Direct Khardi entry loaded:",{id:St.id,village:at.village,type:at.type,hasPdfUrl:!!at.pdfUrl,hasPdfData:!!at.pdfData,hasPdfPath:!!at.pdfPath,hasExtractedProducts:!!at.extractedProducts}),Bt.push(Ut),at.type==="direct_khardi"&&at.extractedProducts){console.log(" Loading stored products for Direct Khardi:",at.extractedProducts),H(pr=>({...pr,[St.id]:at.extractedProducts}));const Kt={};if(at.extractedProducts.forEach(pr=>{Kt[pr.id]=pr.price||""}),Y(pr=>({...pr,[St.id]:Kt})),at.sentProducts){const pr=Object.keys(at.sentProducts);le(Ke=>({...Ke,[St.id]:new Set(pr)}))}const xt=at.allProductsSent?"complete":at.directKhardiStatus==="approved"?"approved":"incomplete";X(pr=>({...pr,[St.id]:xt}))}at.read||_t++}),h(Bt),g(_t),u(!1),N(mt),console.log(" Loaded downloaded THARVAs from Firebase:",Array.from(mt));const jt=Bt.filter(St=>St.bidNumber);k(jt);const or=Bt.filter(St=>St.type==="direct_khardi");O(or),_t>q.current&&q.current>0&&(ee(),V({title:"New THARVA Received! ",description:`You have ${_t} unread THARVA(s)`})),q.current=_t}),Fe=vs(ze,Tt=>{const Bt=[];Tt.forEach(mt=>{const _t=mt.data();if(console.log(" Received Direct Khardi from directkhardi collection:",{id:mt.id,village:_t.village,extractedProducts:_t.extractedProducts,totalProducts:_t.totalProducts}),_t.type==="direct_khardi"&&(Bt.push({id:mt.id,lgdCode:_t.lgdCode||"",village:_t.village||"",taluka:_t.taluka||"",district:_t.district||"",scheme:_t.scheme||"",schemeYear:_t.schemeYear||"",fundOption:_t.fundOption||"",amount:_t.amount||"",tharvaDate:_t.tharvaDate,pdfData:_t.pdfData||"",pdfUrl:_t.pdfUrl||"",pdfPath:_t.pdfPath||"",createdAt:_t.createdAt||_t.date||_t.timestamp,status:_t.status||"pending",read:_t.read||!1,bidNumber:_t.bidNumber,tharvaFileName:_t.tharvaFileName,bidEndDate:_t.bidEndDate,bidAmount:_t.bidAmount,type:"direct_khardi"}),_t.extractedProducts&&_t.extractedProducts.length>0)){console.log(" Loading products from directkhardi collection:",_t.extractedProducts),H(St=>({...St,[mt.id]:_t.extractedProducts}));const jt={};if(_t.extractedProducts.forEach(St=>{jt[St.id]=St.price||""}),Y(St=>({...St,[mt.id]:jt})),_t.sentProducts){const St=Object.keys(_t.sentProducts);le(at=>({...at,[mt.id]:new Set(St)}))}const or=_t.allProductsSent?"complete":_t.directKhardiStatus==="approved"?"approved":"incomplete";X(St=>({...St,[mt.id]:or}))}}),O(mt=>{const jt=[...mt.filter(or=>or.type==="direct_khardi")];return Bt.forEach(or=>{jt.findIndex(at=>at.lgdCode===or.lgdCode)===-1&&jt.push(or)}),jt})})},1e3);return()=>{clearTimeout(He),z&&z(),Fe&&Fe()}},[a,V]),C.useEffect(()=>{if(!a)return;const Fe=setTimeout(()=>{const He=`${j}-section`,ke=document.getElementById(He);ke&&ke.scrollIntoView({behavior:"smooth",block:"center"})},100);return()=>clearTimeout(Fe)},[j,a]);const ee=()=>{const z=new(window.AudioContext||window.webkitAudioContext),Fe=z.createOscillator(),He=z.createGain();Fe.connect(He),He.connect(z.destination),Fe.frequency.value=800,Fe.type="sine",He.gain.setValueAtTime(.3,z.currentTime),He.gain.exponentialRampToValueAtTime(.01,z.currentTime+.5),Fe.start(z.currentTime),Fe.stop(z.currentTime+.5)},re=async()=>{e==="SDE"&&r==="12345"?(localStorage.getItem("userRole")!=="superadmin"?(console.log(" Latur Operator: Clearing existing localStorage..."),localStorage.clear(),console.log(" localStorage cleared")):console.log(" Super Admin detected - preserving session"),l(!0),console.log(" Setting Latur Operator role..."),localStorage.setItem("userRole","latur-operator"),localStorage.setItem("userName","Latur Operator"),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("isAuthenticated","true"),V({title:"Login Successful! ",description:"Welcome to Latur Operator Dashboard"})):V({title:"Login Failed",description:"Invalid login ID or password",variant:"destructive"})};C.useEffect(()=>{const z=localStorage.getItem("userRole"),Fe=localStorage.getItem("isLoggedIn")==="true";console.log(" LaturOperator checking session:",{userRole:z,isAuth:Fe}),Fe?z==="latur-operator"?(console.log(" Valid latur-operator session found"),l(!0)):z==="latur"?(console.log(" Latur office role detected - allowing access"),l(!0)):z==="superadmin"?(console.log(" Super Admin accessing Latur Operator - allowing access"),l(!0)):(console.log(" Invalid role for LaturOperator:",z),l(!1)):(console.log(" No authentication found"),l(!1))},[]);const de=()=>{console.log(" LaturOperator logout initiated"),l(!1),t(""),n(""),h([]),g(0),console.log(" Clearing ALL localStorage data..."),localStorage.clear(),console.log(" All localStorage data cleared"),V({title:"Logged Out",description:"You have been logged out successfully"}),window.location.href=window.location.origin+"/"},Ae=async z=>{try{if(console.log(" Starting download for:",z.village,"Type:",z.type),z.type==="direct_khardi"){if(console.log(" Direct Khardi detected - will download PDF and process products"),!z.pdfUrl&&!z.pdfData&&!z.pdfPath){console.log(" No PDF data for Direct Khardi - processing products only"),N(He=>{const ke=new Set(He);return ke.add(z.id),localStorage.setItem("downloadedTharvas",JSON.stringify(Array.from(ke))),ke});try{const He=pn(Et,"latur_operator_tharvas",z.id);await Ns(He,{downloaded:!0,downloadedAt:new Date,downloadedBy:localStorage.getItem("userName")||"Latur Operator"}),console.log(" Marked Direct Khardi as downloaded in Firebase")}catch(He){console.warn(" Failed to mark as downloaded in Firebase:",He)}await _e(z),V({title:" Direct Khardi Processed!",description:`Direct Khardi for ${z.village} is ready. Products are available for pricing.`,duration:5e3});return}console.log(" PDF data found for Direct Khardi - proceeding with download")}if(!z.pdfUrl&&!z.pdfData&&!z.pdfPath){console.log(" No PDF data found - this might be a Direct Khardi or corrupted entry"),console.log(" THARVA details:",{id:z.id,village:z.village,type:z.type,scheme:z.scheme}),console.log(" Attempting to process as Direct Khardi..."),N(He=>{const ke=new Set(He);return ke.add(z.id),localStorage.setItem("downloadedTharvas",JSON.stringify(Array.from(ke))),ke});try{const He=pn(Et,"latur_operator_tharvas",z.id);await Ns(He,{downloaded:!0,downloadedAt:new Date,downloadedBy:localStorage.getItem("userName")||"Latur Operator"}),console.log(" Marked legacy THARVA as downloaded in Firebase")}catch(He){console.warn(" Failed to mark as downloaded in Firebase:",He)}try{await _e(z),V({title:" THARVA Processed!",description:`THARVA for ${z.village} processed successfully. ${z.type==="direct_khardi"?"Direct Khardi":"Legacy entry"} - Products are available.`,duration:5e3})}catch(He){console.error(" Failed to extract products:",He),V({title:"Processing Failed",description:`Could not process THARVA for ${z.village}. Please check the data.`,variant:"destructive"})}return}let Fe=z.pdfUrl||z.pdfData;if(!Fe)throw new Error(`No PDF data available for ${z.type||"regular"} THARVA. Village: ${z.village}`);if(z.pdfPath&&!z.pdfData)try{console.log(" Getting fresh download URL from Storage...");const{getDownloadURL:He,ref:ke}=await ml(async()=>{const{getDownloadURL:Ze,ref:ze}=await Promise.resolve().then(()=>U6e);return{getDownloadURL:Ze,ref:ze}},void 0),Te=ke(Js,z.pdfPath);Fe=await He(Te),console.log(" Fresh URL obtained")}catch(He){console.warn(" Could not get fresh URL, using existing:",He)}console.log(" Downloading PDF...");try{const He=await fetch(Fe,{mode:"cors",credentials:"omit"});if(!He.ok)throw new Error(`HTTP ${He.status}`);const ke=await He.blob(),Te=window.URL.createObjectURL(ke),Ze=document.createElement("a");Ze.href=Te,Ze.download=`THARVA_${z.village}_${z.lgdCode}_${new Date().toISOString().slice(0,10)}.pdf`,document.body.appendChild(Ze),Ze.click(),document.body.removeChild(Ze),setTimeout(()=>window.URL.revokeObjectURL(Te),100)}catch(He){console.warn(" Fetch failed, trying direct window.open:",He),window.open(Fe,"_blank")}Ne(z.id),N(He=>{const ke=new Set(He);return ke.add(z.id),console.log(" Downloaded THARVAs:",Array.from(ke)),localStorage.setItem("downloadedTharvas",JSON.stringify(Array.from(ke))),ke});try{const He=pn(Et,"latur_operator_tharvas",z.id);await Ns(He,{downloaded:!0,downloadedAt:new Date,downloadedBy:localStorage.getItem("userName")||"Latur Operator"}),console.log(" Marked as downloaded in Firebase")}catch(He){console.warn(" Failed to mark as downloaded in Firebase:",He)}z.type==="direct_khardi"&&(await ue(z.id)?console.log(" Products loaded from Firebase storage"):(console.log(" No stored products found, extracting from PDF..."),await _e(z))),V({title:" PDF Downloaded Successfully!",description:`THARVA for ${z.village} has been downloaded. ${z.type==="direct_khardi"?"Products extracted automatically.":"BID form is now available."}`,duration:5e3}),console.log(" Download completed successfully")}catch(Fe){console.error(" Download failed:",Fe),V({title:"Download Failed",description:Fe.message||"Could not download THARVA. Please check your internet connection and try again.",variant:"destructive"})}},_e=async z=>{try{console.log(" Processing Direct Khardi products from Firestore...");let Fe=[];const{doc:He,getDoc:ke}=await ml(async()=>{const{doc:mt,getDoc:_t}=await Promise.resolve().then(()=>f0);return{doc:mt,getDoc:_t}},void 0),Te=He(Et,"latur_operator_tharvas",z.id),Ze=await ke(Te);if(Ze.exists()){const mt=Ze.data();mt.extractedProducts&&mt.extractedProducts.length>0&&(console.log(" Found Direct Khardi products in Firestore:",mt.extractedProducts),Fe=mt.extractedProducts)}if(Fe.length===0){console.log(" No products in latur_operator_tharvas, checking directkhardi collection...");const{collection:mt,query:_t,where:jt,getDocs:or}=await ml(async()=>{const{collection:Ut,query:qt,where:Er,getDocs:Kt}=await Promise.resolve().then(()=>f0);return{collection:Ut,query:qt,where:Er,getDocs:Kt}},void 0),St=_t(mt(Et,"directkhardi"),jt("lgdCode","==",z.lgdCode)),at=await or(St);if(!at.empty){const Ut=at.docs[0].data();Ut.extractedProducts&&Ut.extractedProducts.length>0&&(console.log(" Found Direct Khardi products in directkhardi collection:",Ut.extractedProducts),Fe=Ut.extractedProducts)}}if(Fe.length===0){console.log(" No products found in Firebase for Direct Khardi. This should not happen!"),console.log(" Creating fallback products based on scheme...");const mt=z.scheme||"Unknown Scheme";Fe=[{id:"1",name:"Direct Purchase Item 1",quantity:"1",unit:"Nos",rate:"0",amount:"0",description:`Item from ${mt} - Please add price`},{id:"2",name:"Direct Purchase Item 2",quantity:"1",unit:"Nos",rate:"0",amount:"0",description:`Item from ${mt} - Please add price`},{id:"3",name:"Direct Purchase Item 3",quantity:"1",unit:"Nos",rate:"0",amount:"0",description:`Item from ${mt} - Please add price`}],console.log(" Created fallback products for Direct Khardi:",Fe)}console.log(` Final products to be used (${Fe.length}):`,Fe),H(mt=>({...mt,[z.id]:Fe}));const ze={};Fe.forEach(mt=>{ze[mt.id]=""}),Y(mt=>({...mt,[z.id]:ze})),le(mt=>({...mt,[z.id]:new Set})),X(mt=>({...mt,[z.id]:"incomplete"}));try{const{doc:mt,updateDoc:_t,serverTimestamp:jt,collection:or,addDoc:St}=await ml(async()=>{const{doc:Er,updateDoc:Kt,serverTimestamp:xt,collection:pr,addDoc:Ke}=await Promise.resolve().then(()=>f0);return{doc:Er,updateDoc:Kt,serverTimestamp:xt,collection:pr,addDoc:Ke}},void 0),at=mt(Et,"latur_operator_tharvas",z.id);await _t(at,{extractedProducts:Fe,productsExtractedAt:jt(),directKhardiStatus:"products_extracted",totalProducts:Fe.length});const Ut={tharvaId:z.id,lgdCode:z.lgdCode,village:z.village,taluka:z.taluka,district:z.district,scheme:z.scheme,schemeYear:z.schemeYear,fundOption:z.fundOption,amount:z.amount,type:"direct_khardi",status:"products_extracted",extractedProducts:Fe,totalProducts:Fe.length,totalProductsSent:0,createdAt:z.createdAt,productsExtractedAt:jt(),pdfUrl:z.pdfUrl,pdfData:z.pdfData,pdfPath:z.pdfPath,directKhardiStatus:"products_extracted",allProductsSent:!1,read:z.read||!1},qt=await St(or(Et,"directkhardi"),Ut);console.log(" Direct Khardi THARVA with products saved to directkhardi collection:",qt.id),console.log(" Products saved to both Firebase collections")}catch(mt){console.warn(" Failed to save products to Firebase:",mt)}const Tt=Fe.length,Bt=Fe.map(mt=>mt.name).join(", ");V({title:" Products Extracted!",description:`Found ${Tt} product(s): ${Bt}. Please add prices and send to Tharva.`,duration:5e3})}catch(Fe){console.error(" Failed to extract products:",Fe),V({title:"Extraction Failed",description:"Could not extract products from PDF. Please try again.",variant:"destructive"})}},ye=async(z,Fe,He)=>{var Te,Ze,ze,Tt,Bt,mt,_t,jt,or,St,at,Ut,qt,Er,Kt,xt;const ke=(Te=K[z])==null?void 0:Te[Fe];if(!ke||!ke.trim()){V({title:"Price Required",description:"Please enter price for this product",variant:"destructive"});return}try{console.log(" Sending product to Tharva:",{tharvaId:z,productId:Fe,productName:He,price:ke});const{collection:pr,addDoc:Ke,serverTimestamp:gt,doc:gr,updateDoc:Ct}=await ml(async()=>{const{collection:sr,addDoc:Zt,serverTimestamp:br,doc:Xr,updateDoc:Un}=await Promise.resolve().then(()=>f0);return{collection:sr,addDoc:Zt,serverTimestamp:br,doc:Xr,updateDoc:Un}},void 0),$t={tharvaId:z,productId:Fe,productName:He,price:ke,quantity:((ze=(Ze=M[z])==null?void 0:Ze.find(sr=>sr.id===Fe))==null?void 0:ze.quantity)||"1",unit:((Bt=(Tt=M[z])==null?void 0:Tt.find(sr=>sr.id===Fe))==null?void 0:Bt.unit)||"Nos",rate:((_t=(mt=M[z])==null?void 0:mt.find(sr=>sr.id===Fe))==null?void 0:_t.rate)||"",amount:((or=(jt=M[z])==null?void 0:jt.find(sr=>sr.id===Fe))==null?void 0:or.amount)||"",description:((at=(St=M[z])==null?void 0:St.find(sr=>sr.id===Fe))==null?void 0:at.description)||"",sentAt:gt(),sentBy:"latur_operator",status:"sent_to_tharva",village:((Ut=R.find(sr=>sr.id===z))==null?void 0:Ut.village)||"",taluka:((qt=R.find(sr=>sr.id===z))==null?void 0:qt.taluka)||"",district:((Er=R.find(sr=>sr.id===z))==null?void 0:Er.district)||"",lgdCode:((Kt=R.find(sr=>sr.id===z))==null?void 0:Kt.lgdCode)||"",scheme:((xt=R.find(sr=>sr.id===z))==null?void 0:xt.scheme)||""};await Ke(pr(Et,"directkhardi"),$t),console.log(" Product saved to directkhardi collection in Firestore");const hr=gr(Et,"latur_operator_tharvas",z),mr=new Set([...ne[z]||[],Fe]),er=M[z]||[];await Ct(hr,{[`sentProducts.${Fe}`]:{name:He,price:ke,sentAt:gt()},totalProductsSent:mr.size,totalProducts:er.length,lastProductSentAt:gt()}),le(sr=>({...sr,[z]:mr})),V({title:" Product Sent to Tharva!",description:`${He} with price ${ke} sent successfully`,duration:3e3}),mr.size===er.length&&(X(sr=>({...sr,[z]:"complete"})),await Ct(hr,{directKhardiStatus:"complete",allProductsSent:!0,completedAt:gt()}),V({title:` ${er.length>1?"All Products":"Product"} Sent!`,description:"Direct Khardi is now ready for approval",duration:4e3}))}catch(pr){console.error(" Failed to send product:",pr),V({title:"Send Failed",description:"Could not send product to Tharva",variant:"destructive"})}},ce=async z=>{var Fe;try{const{doc:He,updateDoc:ke,serverTimestamp:Te,collection:Ze,addDoc:ze}=await ml(async()=>{const{doc:mt,updateDoc:_t,serverTimestamp:jt,collection:or,addDoc:St}=await Promise.resolve().then(()=>f0);return{doc:mt,updateDoc:_t,serverTimestamp:jt,collection:or,addDoc:St}},void 0),Tt=He(Et,"latur_operator_tharvas",z);await ke(Tt,{status:"approval",directKhardiStatus:"approved",directKhardiCompletedAt:Te(),allProductsSent:!0,sentForApprovalAt:Te(),sentForApprovalBy:"latur_operator"});const Bt={tharvaId:z,type:"direct_khardi_approval",requestedBy:"latur_operator",requestedAt:Te(),status:"pending_admin_approval",totalProducts:((Fe=M[z])==null?void 0:Fe.length)||0,allProductsSent:!0};await ze(Ze(Et,"approval_requests"),Bt),X(mt=>({...mt,[z]:"approved"})),V({title:" Sent for Approval!",description:"Direct Khardi has been sent for final approval",duration:3e3})}catch(He){console.error(" Failed to send for approval:",He),V({title:"Approval Failed",description:"Could not send for approval",variant:"destructive"})}},Ne=async z=>{try{const Fe=pn(Et,"latur_operator_tharvas",z);await Ns(Fe,{read:!0})}catch(Fe){console.error("Failed to mark as read:",Fe)}},oe=async(z,Fe)=>{const He=v[z],ke=y[z];if(!He||!He.trim()){V({title:"BID Number Required",description:"Please enter a BID number",variant:"destructive"});return}if(!ke||!ke.trim()){V({title:"BID End Date Required",description:"Please select BID end date",variant:"destructive"});return}try{const Te=new Date,Ze=Te.getFullYear(),ze=String(Te.getMonth()+1).padStart(2,"0"),Tt=String(Te.getDate()).padStart(2,"0"),Bt=`THARVA_${Fe.lgdCode}_${Ze}-${ze}-${Tt}`,mt=pn(Et,"latur_operator_tharvas",z);await Ns(mt,{bidNumber:He.trim(),bidEndDate:ke,tharvaFileName:Bt,bidUpdatedAt:new Date}),V({title:" BID Sent Successfully!",description:`THARVA: ${Bt}
BID: ${He}
End Date: ${ke}`,duration:5e3}),x(_t=>({..._t,[z]:""})),w(_t=>({..._t,[z]:""}))}catch(Te){console.error("Failed to save BID number:",Te),V({title:"Failed to Send BID",description:"Could not send BID number",variant:"destructive"})}},We=async z=>{const Fe=_[z];if(!Fe||!Fe.trim()){V({title:"BID Amount Required",description:"Please enter BID amount",variant:"destructive"});return}try{const He=pn(Et,"latur_operator_tharvas",z);await Ns(He,{bidAmount:Fe.trim(),amountUpdatedAt:new Date,status:"approval"}),V({title:" Amount Sent Successfully!",description:`BID Amount: ${Fe} - Status: Approval`,duration:3e3}),E(ke=>({...ke,[z]:""}))}catch(He){console.error("Failed to save BID amount:",He),V({title:"Failed to Send Amount",description:"Could not send BID amount",variant:"destructive"})}},Re=z=>{if(console.log(" Formatting timestamp:",z),!z)return console.log(" Timestamp is null/undefined"),"Not available";try{const Fe=z.toDate?z.toDate():new Date(z);console.log(" Converted date:",Fe);const He=String(Fe.getDate()).padStart(2,"0"),ke=String(Fe.getMonth()+1).padStart(2,"0"),Te=Fe.getFullYear();let Ze=Fe.getHours();const ze=String(Fe.getMinutes()).padStart(2,"0"),Tt=Ze>=12?"PM":"AM";Ze=Ze%12,Ze=Ze||12;const Bt=`${He}/${ke}/${Te} ${Ze}:${ze} ${Tt}`;return console.log(" Formatted:",Bt),Bt}catch(Fe){return console.error(" Error formatting date:",Fe),"Invalid date"}};return o.jsx("div",{className:"space-y-6",children:o.jsx("div",{className:"relative",children:a?o.jsxs("div",{className:"space-y-6",children:[c&&o.jsx("div",{className:"premium-glass-card p-6 text-center",style:{animation:"fadeIn 0.3s ease-out"},children:o.jsxs("div",{className:"flex items-center justify-center gap-3",children:[o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-[#4F46E5]"}),o.jsx("span",{className:"text-[#64748B] font-medium",children:"Loading THARVA data..."})]})}),o.jsxs("div",{className:"premium-glass-card p-2 flex gap-2",style:{animation:"fadeIn 0.6s ease-out 0.5s both"},children:[o.jsxs("button",{onClick:()=>T("tharvas"),className:`flex-1 px-6 py-3 rounded-xl font-semibold transition-all duration-300 ${j==="tharvas"?"bg-gradient-to-r from-[#4F46E5] to-[#06B6D4] text-white shadow-lg":"text-[#64748B] hover:bg-white/60 hover:text-[#1E293B]"}`,children:["PRASHASKIY AADESH (",d.length,")"]}),o.jsxs("button",{onClick:()=>T("bids"),className:`flex-1 px-6 py-3 rounded-xl font-semibold transition-all duration-300 ${j==="bids"?"bg-gradient-to-r from-[#10B981] to-[#34D399] text-white shadow-lg":"text-[#64748B] hover:bg-white/60 hover:text-[#1E293B]"}`,children:["PUBLISH BIDS LIST (",P.length,")"]}),o.jsxs("button",{onClick:()=>T("amounts"),className:`flex-1 px-6 py-3 rounded-xl font-semibold transition-all duration-300 ${j==="amounts"?"bg-gradient-to-r from-[#8B5CF6] to-[#A78BFA] text-white shadow-lg":"text-[#64748B] hover:bg-white/60 hover:text-[#1E293B]"}`,children:["BID Amounts (",P.length,")"]}),o.jsxs("button",{onClick:()=>T("directKhardi"),className:`flex-1 px-6 py-3 rounded-xl font-semibold transition-all duration-300 ${j==="directKhardi"?"bg-gradient-to-r from-[#F59E0B] to-[#FBBF24] text-white shadow-lg":"text-[#64748B] hover:bg-white/60 hover:text-[#1E293B]"}`,children:["DIRECT PURCHASE (",R.length,")"]})]}),j==="tharvas"&&o.jsxs("div",{id:"tharvas-section",className:"floating-card",style:{animation:"fadeIn 0.6s ease-out 0.6s both"},children:[o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"heading-2 mb-2",children:"Received THARVAs"}),o.jsx("p",{className:"caption-text",children:"  THARVA "})]}),o.jsxs("div",{className:"flex gap-2",children:[localStorage.getItem("userRole")==="superadmin"&&o.jsxs(et,{variant:"default",onClick:()=>ve("/dashboard"),className:"gap-2 bg-blue-600 hover:bg-blue-700",children:[o.jsx(go,{className:"h-4 w-4"}),"Go to Dashboard"]}),o.jsxs(et,{variant:"outline",onClick:()=>ve("/bid-status"),className:"gap-2",children:[o.jsx(Is,{className:"h-4 w-4"}),"Bid Status"]}),o.jsx(et,{variant:"outline",onClick:de,children:"Logout"})]})]})}),o.jsx("div",{children:d.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ta,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),o.jsx("p",{className:"text-lg font-semibold text-gray-600",children:"No THARVAs Received Yet"}),o.jsx("p",{className:"text-sm text-gray-500",children:"THARVAs sent to you will appear here"})]}):o.jsx("div",{className:"space-y-3",children:d.filter(z=>z.type!=="direct_khardi").sort((z,Fe)=>{var Te,Ze;const He=(Te=z.createdAt)!=null&&Te.toDate?z.createdAt.toDate():new Date(z.createdAt||0);return((Ze=Fe.createdAt)!=null&&Ze.toDate?Fe.createdAt.toDate():new Date(Fe.createdAt||0)).getTime()-He.getTime()}).map(z=>o.jsx(Sr,{className:`${z.read?"":"border-2 border-[#3B82F6] bg-gradient-to-br from-gray-900/10 to-gray-700/10"}`,children:o.jsx(Pr,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h3",{className:"text-lg font-bold",children:z.village}),!z.read&&o.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold text-white shadow-md animate-pulse",style:{background:"linear-gradient(135deg, #EF4444, #F97316)"},children:"New"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"LGD Code:"}),o.jsx("span",{className:"font-semibold ml-2",children:z.lgdCode||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Taluka:"}),o.jsx("span",{className:"font-semibold ml-2",children:z.taluka||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"District:"}),o.jsx("span",{className:"font-semibold ml-2",children:z.district||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Scheme:"}),o.jsxs("span",{className:"font-semibold ml-2",children:[z.scheme," ",z.schemeYear]})]}),z.amount&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Amount:"}),o.jsx("span",{className:"font-bold ml-2 text-purple-600",children:z.amount})]}),z.tharvaDate&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"THARVA Date:"}),o.jsx("span",{className:"font-semibold ml-2",children:Re(z.tharvaDate)})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("span",{className:"text-gray-600",children:"Received:"}),o.jsx("span",{className:"font-semibold ml-2",children:Re(z.createdAt)})]})]})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[I.has(z.id)?o.jsxs(et,{disabled:!0,className:"gap-2 bg-green-600 text-white cursor-not-allowed",children:[o.jsx(na,{className:"h-4 w-4"})," Downloaded"]}):o.jsxs(et,{onClick:()=>Ae(z),className:"gap-2",children:[o.jsx(na,{className:"h-4 w-4"}),"Download PDF"]}),I.has(z.id)&&o.jsx("div",{className:"border-t pt-2 mt-2 space-y-2",children:z.bidNumber?o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded px-3 py-2",children:[o.jsxs("div",{className:"text-xs font-semibold text-green-700",children:["THARVA: ",z.tharvaFileName||"N/A"]}),o.jsxs("div",{className:"text-sm font-bold text-green-800 mt-1",children:["BID: ",z.bidNumber]}),o.jsxs("div",{className:"text-xs font-semibold text-green-700 mt-1",children:["End Date: ",z.bidEndDate||"N/A"]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsxs(xr,{className:"text-xs text-gray-600 mb-1 block",children:["BID Number ",o.jsx("span",{className:"text-red-600",children:"*"})]}),o.jsx(Or,{value:v[z.id]||"",onChange:Fe=>x(He=>({...He,[z.id]:Fe.target.value})),placeholder:"Enter BID Number",className:"h-9"})]}),o.jsxs("div",{children:[o.jsxs(xr,{className:"text-xs text-gray-600 mb-1 block",children:["BID End Date ",o.jsx("span",{className:"text-red-600",children:"*"})]}),o.jsx(Or,{type:"date",value:y[z.id]||"",onChange:Fe=>w(He=>({...He,[z.id]:Fe.target.value})),className:"h-9",required:!0})]}),(!y[z.id]||!y[z.id].trim())&&o.jsx("div",{className:"bg-yellow-50 border border-yellow-300 rounded px-3 py-2 text-xs text-yellow-800",children:" BID End Date is required to send THARVA"}),o.jsx("div",{className:"flex gap-2",children:o.jsxs(et,{size:"sm",onClick:()=>oe(z.id,z),className:"bg-green-600 hover:bg-green-700 flex-1 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!v[z.id]||!v[z.id].trim()||!y[z.id]||!y[z.id].trim(),title:!v[z.id]||!v[z.id].trim()?"Please enter BID Number first":!y[z.id]||!y[z.id].trim()?"Please fill BID End Date":"Send BID to Admin",children:[o.jsx(F2,{className:"h-4 w-4 mr-2"}),!v[z.id]||!v[z.id].trim()?"Enter BID":!y[z.id]||!y[z.id].trim()?"Fill Date":"Send BID"]})})]})})]})]})})},z.id))})})]}),j==="bids"&&o.jsxs(Sr,{id:"bids-section",children:[o.jsxs(fn,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx(hn,{children:"Submitted BID Numbers"}),o.jsx(_n,{children:"  BID "})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(et,{variant:"outline",onClick:()=>ve("/bid-status"),className:"gap-2",children:[o.jsx(Is,{className:"h-4 w-4"}),"Bid Status"]}),o.jsx(et,{variant:"outline",onClick:de,children:"Logout"})]})]}),P.length>0&&o.jsxs("div",{className:"flex gap-2 flex-wrap",children:[o.jsxs(et,{size:"sm",variant:"outline",className:"border-orange-500 text-orange-700 hover:bg-orange-50",onClick:()=>{const z=document.getElementById("pending-bids-section");if(z){const He=z.getBoundingClientRect().top+window.pageYOffset+-100;window.scrollTo({top:He,behavior:"smooth"})}},children:[o.jsx(cn,{className:"bg-orange-600 mr-2",children:"Pending"}),"Jump to Pending (",P.filter(z=>z.status==="pending").length,")"]}),o.jsxs(et,{size:"sm",variant:"outline",className:"border-green-500 text-green-700 hover:bg-green-50",onClick:()=>{const z=document.getElementById("approval-bids-section");if(z){const He=z.getBoundingClientRect().top+window.pageYOffset+-100;window.scrollTo({top:He,behavior:"smooth"})}},children:[o.jsx(cn,{className:"bg-green-600 mr-2",children:"Approval"}),"Jump to Approval (",P.filter(z=>z.status==="approval"&&z.bidAmount).length,")"]})]})]}),o.jsx(Pr,{children:P.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ta,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),o.jsx("p",{className:"text-lg font-semibold text-gray-600",children:"No BIDs Submitted Yet"}),o.jsx("p",{className:"text-sm text-gray-500",children:"BID numbers you submit will appear here"})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{id:"pending-bids-section",children:[o.jsxs("h3",{className:"text-lg font-bold text-orange-700 mb-3 flex items-center gap-2",children:[o.jsx(cn,{className:"bg-orange-600",children:"Pending"}),"Pending THARVAs (",P.filter(z=>z.status==="pending").length,")"]}),o.jsx("div",{className:"space-y-3",children:P.filter(z=>z.status==="pending").sort((z,Fe)=>{var Te,Ze,ze,Tt;const He=((Ze=(Te=z.bidUpdatedAt)==null?void 0:Te.toDate)==null?void 0:Ze.call(Te))||new Date(z.bidUpdatedAt||0);return(((Tt=(ze=Fe.bidUpdatedAt)==null?void 0:ze.toDate)==null?void 0:Tt.call(ze))||new Date(Fe.bidUpdatedAt||0)).getTime()-He.getTime()}).map(z=>o.jsx(Sr,{className:"border-2 border-orange-500 bg-orange-50",children:o.jsx(Pr,{className:"p-4",children:o.jsx("div",{className:"flex items-start justify-between gap-4",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h3",{className:"text-lg font-bold",children:z.village}),o.jsx(cn,{className:"bg-orange-600",children:"Pending"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"THARVA Number:"}),o.jsx("span",{className:"font-semibold ml-2",children:z.tharvaFileName||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"BID Number:"}),o.jsx("span",{className:"font-bold ml-2 text-orange-700",children:z.bidNumber})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"LGD Code:"}),o.jsx("span",{className:"font-semibold ml-2",children:z.lgdCode||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Taluka:"}),o.jsx("span",{className:"font-semibold ml-2",children:z.taluka||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"District:"}),o.jsx("span",{className:"font-semibold ml-2",children:z.district||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Scheme:"}),o.jsxs("span",{className:"font-semibold ml-2",children:[z.scheme," ",z.schemeYear]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"BID End Date:"}),o.jsx("span",{className:"font-bold ml-2 text-red-600",children:z.bidEndDate||"-"})]}),z.bidAmount&&o.jsxs("div",{className:"col-span-2 bg-purple-100 border border-purple-300 rounded p-2 mt-2",children:[o.jsx("span",{className:"text-gray-700 font-semibold",children:"BID Amount:"}),o.jsxs("span",{className:"font-bold ml-2 text-purple-700 text-lg",children:["",z.bidAmount]})]})]})]})})})},z.id))})]}),o.jsxs("div",{id:"approval-bids-section",children:[o.jsxs("h3",{className:"text-lg font-bold text-green-700 mb-3 flex items-center gap-2",children:[o.jsx(cn,{className:"bg-green-600",children:"Approval"}),"Approval Status (",P.filter(z=>z.status==="approval"&&z.bidAmount).length,")"]}),o.jsx("div",{className:"space-y-3",children:P.filter(z=>z.status==="approval"&&z.bidAmount).sort((z,Fe)=>{var Te,Ze,ze,Tt;const He=((Ze=(Te=z.bidUpdatedAt)==null?void 0:Te.toDate)==null?void 0:Ze.call(Te))||new Date(z.bidUpdatedAt||0);return(((Tt=(ze=Fe.bidUpdatedAt)==null?void 0:ze.toDate)==null?void 0:Tt.call(ze))||new Date(Fe.bidUpdatedAt||0)).getTime()-He.getTime()}).map(z=>o.jsx(Sr,{className:"border-2 border-green-500 bg-green-50",children:o.jsx(Pr,{className:"p-4",children:o.jsx("div",{className:"flex items-start justify-between gap-4",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h3",{className:"text-lg font-bold",children:z.village}),o.jsx(cn,{className:"bg-green-600",children:"Approval"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"THARVA Number:"}),o.jsx("span",{className:"font-semibold ml-2",children:z.tharvaFileName||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"BID Number:"}),o.jsx("span",{className:"font-bold ml-2 text-green-700",children:z.bidNumber})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"LGD Code:"}),o.jsx("span",{className:"font-semibold ml-2",children:z.lgdCode||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Taluka:"}),o.jsx("span",{className:"font-semibold ml-2",children:z.taluka||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"District:"}),o.jsx("span",{className:"font-semibold ml-2",children:z.district||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Scheme:"}),o.jsxs("span",{className:"font-semibold ml-2",children:[z.scheme," ",z.schemeYear]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"BID End Date:"}),o.jsx("span",{className:"font-bold ml-2 text-red-600",children:z.bidEndDate||"-"})]}),o.jsx("div",{className:"col-span-2 bg-green-100 border border-green-400 rounded p-3 mt-2",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-700 font-semibold",children:"BID Amount:"}),o.jsxs("span",{className:"font-bold ml-2 text-green-700 text-lg",children:["",z.bidAmount]})]}),o.jsx(cn,{className:"bg-green-600",children:"Sent "})]})})]})]})})})},z.id))})]}),P.filter(z=>z.status==="approved").length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-bold text-blue-700 mb-3 flex items-center gap-2",children:[o.jsx(cn,{className:"bg-blue-600",children:"Approved"}),"Fully Approved (",P.filter(z=>z.status==="approved").length,")"]}),o.jsx("div",{className:"space-y-3",children:P.filter(z=>z.status==="approved").sort((z,Fe)=>{var Te,Ze,ze,Tt;const He=((Ze=(Te=z.bidUpdatedAt)==null?void 0:Te.toDate)==null?void 0:Ze.call(Te))||new Date(z.bidUpdatedAt||0);return(((Tt=(ze=Fe.bidUpdatedAt)==null?void 0:ze.toDate)==null?void 0:Tt.call(ze))||new Date(Fe.bidUpdatedAt||0)).getTime()-He.getTime()}).map(z=>o.jsx(Sr,{className:"border-2 border-blue-500 bg-blue-50",children:o.jsx(Pr,{className:"p-4",children:o.jsx("div",{className:"flex items-start justify-between gap-4",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h3",{className:"text-lg font-bold",children:z.village}),o.jsx(cn,{className:"bg-blue-600",children:"Approved"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"THARVA Number:"}),o.jsx("span",{className:"font-semibold ml-2",children:z.tharvaFileName||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"BID Number:"}),o.jsx("span",{className:"font-bold ml-2 text-blue-700",children:z.bidNumber})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"LGD Code:"}),o.jsx("span",{className:"font-semibold ml-2",children:z.lgdCode||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"BID End Date:"}),o.jsx("span",{className:"font-bold ml-2 text-red-600",children:z.bidEndDate||"-"})]}),z.bidAmount&&o.jsxs("div",{className:"col-span-2 bg-blue-100 border border-blue-400 rounded p-2 mt-2",children:[o.jsx("span",{className:"text-gray-700 font-semibold",children:"BID Amount:"}),o.jsxs("span",{className:"font-bold ml-2 text-blue-700 text-lg",children:["",z.bidAmount]})]})]})]})})})},z.id))})]})]})})]}),j==="amounts"&&o.jsxs(Sr,{id:"amounts-section",children:[o.jsx(fn,{children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx(hn,{children:"BID Amounts"}),o.jsx(_n,{children:"BID  "})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(et,{variant:"outline",onClick:()=>ve("/bid-status"),className:"gap-2",children:[o.jsx(Is,{className:"h-4 w-4"}),"Bid Status"]}),o.jsx(et,{variant:"outline",onClick:de,children:"Logout"})]})]})}),o.jsx(Pr,{children:P.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ta,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),o.jsx("p",{className:"text-lg font-semibold text-gray-600",children:"No BID Amounts Yet"}),o.jsx("p",{className:"text-sm text-gray-500",children:"BID amounts will appear here after submission"})]}):o.jsx("div",{className:"space-y-3",children:P.sort((z,Fe)=>{var Te,Ze,ze,Tt;const He=((Ze=(Te=z.bidUpdatedAt)==null?void 0:Te.toDate)==null?void 0:Ze.call(Te))||new Date(z.bidUpdatedAt||0);return(((Tt=(ze=Fe.bidUpdatedAt)==null?void 0:ze.toDate)==null?void 0:Tt.call(ze))||new Date(Fe.bidUpdatedAt||0)).getTime()-He.getTime()}).map(z=>o.jsx(Sr,{className:"border-2 border-purple-500 bg-purple-50",children:o.jsx(Pr,{className:"p-4",children:o.jsx("div",{className:"flex items-start justify-between gap-4",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"flex items-center gap-2 mb-2",children:o.jsx("h3",{className:"text-lg font-bold",children:z.village})}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"THARVA Number:"}),o.jsx("span",{className:"font-semibold ml-2",children:z.tharvaFileName||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"BID Number:"}),o.jsx("span",{className:"font-bold ml-2 text-green-700",children:z.bidNumber})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"LGD Code:"}),o.jsx("span",{className:"font-semibold ml-2",children:z.lgdCode||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Village:"}),o.jsx("span",{className:"font-semibold ml-2",children:z.village})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Taluka:"}),o.jsx("span",{className:"font-semibold ml-2",children:z.taluka||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"District:"}),o.jsx("span",{className:"font-semibold ml-2",children:z.district||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Scheme:"}),o.jsxs("span",{className:"font-semibold ml-2",children:[z.scheme," ",z.schemeYear]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"BID End Date:"}),o.jsx("span",{className:"font-bold ml-2 text-red-600",children:z.bidEndDate||"-"})]}),o.jsxs("div",{className:"col-span-2 mt-2",children:[o.jsx(xr,{className:"text-xs text-gray-600 mb-1 block",children:"BID Amount ()"}),z.bidAmount?o.jsx("div",{className:"bg-purple-50 border-2 border-purple-300 rounded-lg p-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-purple-600 font-semibold mb-1",children:"Amount Already Submitted"}),o.jsxs("p",{className:"text-2xl font-bold text-purple-700",children:["",z.bidAmount]})]}),o.jsx(cn,{className:"bg-purple-600",children:"Sent "})]})}):o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Or,{type:"text",value:_[z.id]||"",onChange:Fe=>{const He=Fe.target.value;(He===""||/^\d*\.?\d*$/.test(He))&&E(ke=>({...ke,[z.id]:He}))},placeholder:"Enter amount (e.g., 50000)",className:"h-9"}),_[z.id]&&o.jsxs(et,{size:"sm",onClick:()=>We(z.id),className:"bg-purple-600 hover:bg-purple-700",children:[o.jsx(F2,{className:"h-4 w-4 mr-1"}),"Send"]})]})]})]})]})})})},z.id))})})]}),j==="directKhardi"&&o.jsxs(Sr,{id:"directKhardi-section",children:[o.jsx(fn,{children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx(hn,{children:"Received Direct Khardi"}),o.jsx(_n,{children:"    THARVA"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(et,{variant:"outline",onClick:()=>ve("/bid-status"),className:"gap-2",children:[o.jsx(Is,{className:"h-4 w-4"}),"Bid Status"]}),o.jsx(et,{variant:"outline",onClick:de,children:"Logout"})]})]})}),o.jsx(Pr,{children:R.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ta,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),o.jsx("p",{className:"text-lg font-semibold text-gray-600",children:"No Direct Khardi THARVAs Yet"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Direct Khardi THARVAs will appear here"})]}):o.jsx("div",{className:"space-y-6",children:R.sort((z,Fe)=>{var Te,Ze;const He=(Te=z.createdAt)!=null&&Te.toDate?z.createdAt.toDate():new Date(z.createdAt||0);return((Ze=Fe.createdAt)!=null&&Ze.toDate?Fe.createdAt.toDate():new Date(Fe.createdAt||0)).getTime()-He.getTime()}).map(z=>{var Fe,He,ke;return o.jsx(Sr,{className:`border-2 border-orange-500 bg-orange-50 ${z.read?"":"shadow-lg"}`,children:o.jsx(Pr,{className:"p-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h3",{className:"text-lg font-bold",children:z.village}),o.jsx(cn,{className:"bg-orange-600",children:"Direct Khardi"}),!z.read&&o.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold text-white shadow-md animate-pulse",style:{background:"linear-gradient(135deg, #EF4444, #F97316)"},children:"New"}),te[z.id]&&o.jsx(cn,{className:te[z.id]==="incomplete"?"bg-red-600":te[z.id]==="complete"?"bg-green-600":"bg-blue-600",children:te[z.id]==="incomplete"?"Incomplete":te[z.id]==="complete"?"Complete":"Approved"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"LGD Code:"}),o.jsx("span",{className:"font-semibold ml-2",children:z.lgdCode||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Taluka:"}),o.jsx("span",{className:"font-semibold ml-2",children:z.taluka||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"District:"}),o.jsx("span",{className:"font-semibold ml-2",children:z.district||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Scheme:"}),o.jsxs("span",{className:"font-semibold ml-2",children:[z.scheme," ",z.schemeYear]})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("span",{className:"text-gray-600",children:"Received:"}),o.jsx("span",{className:"font-semibold ml-2",children:Re(z.createdAt)})]})]})]}),o.jsx("div",{className:"flex flex-col gap-2",children:I.has(z.id)?o.jsxs(et,{disabled:!0,className:"gap-2 bg-green-600 text-white cursor-not-allowed",children:[o.jsx(na,{className:"h-4 w-4"})," Downloaded & Extracted"]}):o.jsxs(et,{onClick:()=>Ae(z),className:"gap-2 bg-orange-600 hover:bg-orange-700",children:[o.jsx(na,{className:"h-4 w-4"}),"Download & Extract"]})})]}),I.has(z.id)&&M[z.id]&&o.jsxs("div",{className:"border-t pt-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h4",{className:"text-lg font-bold text-orange-700",children:[" Product",M[z.id].length>1?"s":""," (",M[z.id].length,")"]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:["Sent: ",((Fe=ne[z.id])==null?void 0:Fe.size)||0," / ",M[z.id].length]}),o.jsx("div",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-700",children:" From Firebase"}),o.jsx(et,{size:"sm",variant:"outline",onClick:()=>ue(z.id),className:"text-xs h-6",children:" Refresh"})]})]}),o.jsx("div",{className:"space-y-3",children:M[z.id].map(Te=>{var Tt,Bt;const Ze=(Tt=ne[z.id])==null?void 0:Tt.has(Te.id),ze=((Bt=K[z.id])==null?void 0:Bt[Te.id])||"";return o.jsx(Sr,{className:`border ${Ze?"border-green-500 bg-green-50":"border-gray-300 bg-white"}`,children:o.jsx(Pr,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h5",{className:"font-bold text-gray-800",children:Te.name}),Ze&&o.jsx(cn,{className:"bg-green-600",children:" Sent to Tharva"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm text-gray-600",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-semibold",children:"Qty:"})," ",Te.quantity," ",Te.unit]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("span",{className:"font-semibold",children:"Description:"})," ",Te.description]})]})]}),o.jsx("div",{className:"flex items-center gap-2 min-w-[200px]",children:Ze?o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-sm font-bold text-green-700",children:["",ze]}),o.jsx("div",{className:"text-xs text-green-600",children:"Sent to Tharva "})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex-1",children:o.jsx(Or,{type:"text",placeholder:"Enter price",value:ze,onChange:mt=>{const _t=mt.target.value;(_t===""||/^\d*\.?\d*$/.test(_t))&&Y(jt=>({...jt,[z.id]:{...jt[z.id],[Te.id]:_t}}))},className:"h-8 text-sm"})}),o.jsxs(et,{size:"sm",onClick:()=>ye(z.id,Te.id,Te.name),disabled:!ze.trim(),className:"bg-orange-600 hover:bg-orange-700 h-8 px-3",children:[o.jsx(F2,{className:"h-3 w-3 mr-1"}),"Send"]})]})})]})})},Te.id)})}),te[z.id]==="complete"&&o.jsx("div",{className:"mt-4 p-4 bg-green-100 border border-green-300 rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h5",{className:"font-bold text-green-800",children:[" ",M[z.id].length>1?"All Products":"Product"," Sent!"]}),o.jsx("p",{className:"text-sm text-green-700",children:"Direct Khardi is ready for final approval"})]}),o.jsx(et,{onClick:()=>ce(z.id),className:"bg-green-600 hover:bg-green-700",disabled:te[z.id]==="approved",children:te[z.id]==="approved"?" Approved":"Send for Approval"})]})}),o.jsxs("div",{className:"mt-4",children:[o.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[o.jsx("span",{children:"Progress"}),o.jsxs("span",{children:[((He=ne[z.id])==null?void 0:He.size)||0," / ",M[z.id].length," product",M[z.id].length>1?"s":""," sent"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-orange-600 h-2 rounded-full transition-all duration-300",style:{width:`${(((ke=ne[z.id])==null?void 0:ke.size)||0)/M[z.id].length*100}%`}})})]})]})]})})},z.id)})})})]})]}):o.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:o.jsxs("div",{className:"floating-card w-full max-w-md",style:{animation:"fadeIn 0.6s ease-out 0.2s both"},children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h2",{className:"heading-2 mb-2",children:"Latur Operator Login"}),o.jsx("p",{className:"caption-text",children:"  "})]}),o.jsx(Pr,{className:"space-y-4",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(xr,{htmlFor:"loginId",className:"flex items-center gap-2",children:[o.jsx(Qm,{className:"h-4 w-4"}),"Login ID"]}),o.jsx(Or,{id:"loginId",type:"text",value:e,onChange:z=>t(z.target.value),placeholder:"Enter Login ID",onKeyDown:z=>z.key==="Enter"&&re()})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(xr,{htmlFor:"password",className:"flex items-center gap-2",children:[o.jsx(NR,{className:"h-4 w-4"}),"Password"]}),o.jsxs("div",{className:"relative",children:[o.jsx(Or,{id:"password",type:i?"text":"password",value:r,onChange:z=>n(z.target.value),placeholder:"Enter Password",className:"pr-10",onKeyDown:z=>z.key==="Enter"&&re()}),o.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none",children:i?o.jsx(FA,{className:"h-4 w-4"}):o.jsx(Ec,{className:"h-4 w-4"})})]})]}),o.jsxs(et,{onClick:re,className:"w-full gap-2",children:[o.jsx(Hm,{className:"h-4 w-4"}),"Login"]}),o.jsxs("div",{className:"text-center text-sm text-muted-foreground mt-4",children:[o.jsx("p",{children:"Demo Credentials:"}),o.jsx("p",{className:"font-mono",children:"ID: SDE | Password: 12345"})]})]})})]})})})})},FTt=()=>o.jsxs("div",{className:"min-h-screen",style:{background:"linear-gradient(135deg, #F5F9FF 0%, #EBF2FA 100%)"},children:[o.jsx("div",{className:"parallax-blob parallax-blob-1"}),o.jsx("div",{className:"parallax-blob parallax-blob-2"}),o.jsx("div",{className:"parallax-blob parallax-blob-3"}),[...Array(10)].map((e,t)=>o.jsx("div",{className:"floating-particle",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*15}s`,animationDuration:`${15+Math.random()*10}s`}},t)),o.jsxs("div",{className:"relative z-10 p-8 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-12",style:{animation:"fadeIn 0.6s ease-out"},children:[o.jsx("h1",{className:"display-text mb-4",children:"Premium Dashboard"}),o.jsx("p",{className:"body-text text-xl",children:"Ultra-luxurious, futuristic admin panel worth 1,00,000+"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[o.jsxs("div",{className:"stats-card",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center",style:{background:"linear-gradient(135deg, #7F96F8, #A5E9D7)"},children:o.jsx(kx,{className:"h-7 w-7 text-white premium-icon"})}),o.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 rounded-full",style:{background:"rgba(165, 233, 215, 0.2)"},children:[o.jsx(VN,{className:"h-4 w-4",style:{color:"#A5E9D7"}}),o.jsx("span",{className:"text-sm font-semibold",style:{color:"#A5E9D7"},children:"+12.5%"})]})]}),o.jsx("div",{className:"stats-value",children:"2,45,890"}),o.jsx("div",{className:"stats-label",children:"Total Revenue"})]}),o.jsxs("div",{className:"stats-card",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center",style:{background:"linear-gradient(135deg, #FFD9EC, #FFA07A)"},children:o.jsx(Fo,{className:"h-7 w-7 text-white premium-icon"})}),o.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 rounded-full",style:{background:"rgba(255, 217, 236, 0.2)"},children:[o.jsx(VN,{className:"h-4 w-4",style:{color:"#FFD9EC"}}),o.jsx("span",{className:"text-sm font-semibold",style:{color:"#FF6B9D"},children:"+8.2%"})]})]}),o.jsx("div",{className:"stats-value",children:"1,234"}),o.jsx("div",{className:"stats-label",children:"Total Products"})]}),o.jsxs("div",{className:"stats-card",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center",style:{background:"linear-gradient(135deg, #A5E9D7, #7F96F8)"},children:o.jsx(fh,{className:"h-7 w-7 text-white premium-icon"})}),o.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 rounded-full",style:{background:"rgba(127, 150, 248, 0.2)"},children:[o.jsx(VN,{className:"h-4 w-4",style:{color:"#7F96F8"}}),o.jsx("span",{className:"text-sm font-semibold",style:{color:"#7F96F8"},children:"+15.3%"})]})]}),o.jsx("div",{className:"stats-value",children:"8,549"}),o.jsx("div",{className:"stats-label",children:"Active Users"})]}),o.jsxs("div",{className:"stats-card",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center",style:{background:"linear-gradient(135deg, #FFA07A, #FFD9EC)"},children:o.jsx(fm,{className:"h-7 w-7 text-white premium-icon"})}),o.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 rounded-full",style:{background:"rgba(255, 160, 122, 0.2)"},children:[o.jsx(Bie,{className:"h-4 w-4",style:{color:"#FFA07A"}}),o.jsx("span",{className:"text-sm font-semibold",style:{color:"#FFA07A"},children:"-2.4%"})]})]}),o.jsx("div",{className:"stats-value",children:"456"}),o.jsx("div",{className:"stats-label",children:"Orders Today"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-12",children:[o.jsxs("div",{className:"lg:col-span-2 floating-card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"heading-3 mb-2",children:"Revenue Analytics"}),o.jsx("p",{className:"caption-text",children:"Monthly performance overview"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{className:"btn-premium-secondary px-4 py-2 text-sm",children:"Week"}),o.jsx("button",{className:"btn-premium-primary px-4 py-2 text-sm",children:"Month"}),o.jsx("button",{className:"btn-premium-secondary px-4 py-2 text-sm",children:"Year"})]})]}),o.jsx("div",{className:"h-64 rounded-xl flex items-end justify-around gap-2 p-4",style:{background:"linear-gradient(180deg, rgba(127, 150, 248, 0.05), transparent)"},children:[40,65,45,80,55,90,70,85,60,95,75,88].map((e,t)=>o.jsx("div",{className:"flex-1 rounded-t-lg transition-all duration-500 hover:opacity-80 cursor-pointer",style:{height:`${e}%`,background:"linear-gradient(180deg, #7F96F8, #A5E9D7)",boxShadow:"0 -4px 20px rgba(127, 150, 248, 0.3)",animation:`slideUp 0.6s ease-out ${t*.1}s both`}},t))})]}),o.jsxs("div",{className:"premium-glass-card",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:"linear-gradient(135deg, #7F96F8, #A5E9D7)"},children:o.jsx(DF,{className:"h-5 w-5 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"heading-3",style:{fontSize:"1.25rem"},children:"Recent Activity"}),o.jsx("p",{className:"caption-text",children:"Last 24 hours"})]})]}),o.jsx("div",{className:"space-y-4",children:[{title:"New Order",desc:"Order #1234 received",time:"2 min ago",color:"#A5E9D7"},{title:"Payment Success",desc:"12,450 credited",time:"15 min ago",color:"#7F96F8"},{title:"Stock Alert",desc:"Low stock warning",time:"1 hour ago",color:"#FFD9EC"},{title:"New Customer",desc:"John Doe registered",time:"2 hours ago",color:"#FFA07A"},{title:"Report Generated",desc:"Monthly sales report",time:"3 hours ago",color:"#A5E9D7"}].map((e,t)=>o.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl transition-all duration-300 hover:bg-white/50 cursor-pointer",style:{animation:`fadeIn 0.6s ease-out ${t*.1}s both`},children:[o.jsx("div",{className:"w-2 h-2 rounded-full mt-2",style:{background:e.color,boxShadow:`0 0 10px ${e.color}`}}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-sm",style:{color:"var(--neutral-dark)"},children:e.title}),o.jsx("p",{className:"caption-text text-xs",children:e.desc})]}),o.jsx("span",{className:"caption-text text-xs",children:e.time})]},t))})]})]}),o.jsxs("div",{className:"premium-glass-card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"heading-3 mb-2",children:"Recent Transactions"}),o.jsx("p",{className:"caption-text",children:"Latest sales and orders"})]}),o.jsx("button",{className:"btn-premium-primary",children:"View All"})]}),o.jsxs("table",{className:"premium-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Order ID"}),o.jsx("th",{children:"Customer"}),o.jsx("th",{children:"Product"}),o.jsx("th",{children:"Amount"}),o.jsx("th",{children:"Status"}),o.jsx("th",{children:"Date"})]})}),o.jsx("tbody",{children:[{id:"#1234",customer:"John Doe",product:"Premium Widget",amount:"2,450",status:"Completed",date:"2024-01-15"},{id:"#1235",customer:"Jane Smith",product:"Luxury Item",amount:"5,890",status:"Processing",date:"2024-01-15"},{id:"#1236",customer:"Bob Johnson",product:"Standard Pack",amount:"1,200",status:"Completed",date:"2024-01-14"},{id:"#1237",customer:"Alice Brown",product:"Deluxe Set",amount:"8,750",status:"Pending",date:"2024-01-14"},{id:"#1238",customer:"Charlie Wilson",product:"Basic Kit",amount:"950",status:"Completed",date:"2024-01-13"}].map((e,t)=>o.jsxs("tr",{children:[o.jsx("td",{className:"font-semibold",children:e.id}),o.jsx("td",{children:e.customer}),o.jsx("td",{children:e.product}),o.jsx("td",{className:"font-semibold",style:{color:"#7F96F8"},children:e.amount}),o.jsx("td",{children:o.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{background:e.status==="Completed"?"rgba(165, 233, 215, 0.2)":e.status==="Processing"?"rgba(127, 150, 248, 0.2)":"rgba(255, 217, 236, 0.2)",color:e.status==="Completed"?"#A5E9D7":e.status==="Processing"?"#7F96F8":"#FF6B9D"},children:e.status})}),o.jsx("td",{className:"caption-text",children:e.date})]},t))})]})]}),o.jsxs("div",{className:"mt-12 premium-glass-card",children:[o.jsx("h3",{className:"heading-3 mb-6",children:"Premium UI Components"}),o.jsxs("div",{className:"flex flex-wrap gap-4",children:[o.jsx("button",{className:"btn-premium-primary",children:"Primary Action"}),o.jsx("button",{className:"btn-premium-secondary",children:"Secondary Action"}),o.jsx("input",{type:"text",placeholder:"Premium Input Field",className:"premium-input",style:{maxWidth:"300px"}}),o.jsx("span",{className:"premium-badge",children:"New"})]})]})]})]}),OTt=()=>{var _e,ye;const e=ds(),{toast:t}=Lo(),[r,n]=C.useState(!1);C.useEffect(()=>{localStorage.getItem("userRole")!=="superadmin"&&(t({title:"Access Denied",description:"You do not have permission to view Certifications page.",variant:"destructive"}),e("/"))},[e,t]);const[i,s]=C.useState(""),[a,l]=C.useState(""),[c,u]=C.useState(!1),[d,h]=C.useState([]),[A,g]=C.useState([]),[v,x]=C.useState(null),[y,w]=C.useState(!1),[_,E]=C.useState(""),[I,N]=C.useState(""),[j,T]=C.useState(""),[P,k]=C.useState(null),[R,O]=C.useState(!1),[M,H]=C.useState(!1),K="SHREE DATTA ENTERPRICES",Y="12345",ne=()=>{i===K&&a===Y?(n(!0),t({title:" Login Successful",description:"Welcome to Certifications"})):t({title:" Login Failed",description:"Invalid username or password",variant:"destructive"})};C.useEffect(()=>{le(),te()},[]);const le=async()=>{try{const ce=jr(Et,"certificate_categories"),Ne=await Si(ce),oe=[];Ne.forEach(We=>{const Re=We.data();oe.push({id:We.id,name:Re.name,createdAt:Re.createdAt})}),h(oe)}catch(ce){console.error("Error loading categories:",ce)}},te=async()=>{try{const ce=jr(Et,"certifications"),Ne=await Si(ce),oe=[];Ne.forEach(We=>{const Re=We.data();oe.push({id:We.id,title:Re.title,description:Re.description,fileName:Re.fileName,fileUrl:Re.fileUrl,filePath:Re.filePath,size:Re.size,categoryId:Re.categoryId||"",fileType:Re.fileType||"application/pdf",uploadedAt:Re.uploadedAt})}),g(oe)}catch(ce){console.error("Error loading certificates:",ce)}},X=async()=>{if(!_.trim()){t({title:"Category Name Required",description:"Please enter a category name",variant:"destructive"});return}try{await ka(jr(Et,"certificate_categories"),{name:_.trim(),createdAt:Yi()}),t({title:" Category Added",description:`${_} has been created`}),E(""),O(!1),le()}catch(ce){console.error("Error adding category:",ce),t({title:"Failed to Add Category",description:"Could not create category",variant:"destructive"})}},ue=ce=>{var oe;const Ne=(oe=ce.target.files)==null?void 0:oe[0];if(Ne){if(!["application/pdf","image/jpeg","image/jpg","image/png","image/webp"].includes(Ne.type)){t({title:"Invalid File",description:"Please select a PDF or image file (JPG, PNG, WebP)",variant:"destructive"});return}k(Ne)}},ve=async()=>{if(!P||!I.trim()||!v){t({title:"Missing Information",description:"Please select category, provide title and select a PDF file",variant:"destructive"});return}w(!0);try{const Ne=`${Date.now()}_${P.name}`,oe=pc(Js,`certifications/${Ne}`);await Bv(oe,P);const We=await nf(oe),Re={title:I.trim(),description:j.trim()||"Certification Document",fileName:P.name,fileUrl:We,filePath:`certifications/${Ne}`,size:P.size,categoryId:v,fileType:P.type,uploadedAt:Yi()};await ka(jr(Et,"certifications"),Re),t({title:" Upload Successful",description:`${I} has been uploaded`}),N(""),T(""),k(null),H(!1),te()}catch(ce){console.error("Upload error:",ce),t({title:"Upload Failed",description:"Could not upload certificate",variant:"destructive"})}finally{w(!1)}},V=async ce=>{if(confirm(`Delete ${ce.title}?`))try{const Ne=pc(Js,ce.filePath);await Iv(Ne),await Yc(pn(Et,"certifications",ce.id)),t({title:" Deleted",description:`${ce.title} has been deleted`}),te()}catch(Ne){console.error("Delete error:",Ne),t({title:"Delete Failed",description:"Could not delete certificate",variant:"destructive"})}},q=async(ce,Ne)=>{const oe=A.filter(We=>We.categoryId===ce);if(oe.length>0){t({title:"Cannot Delete",description:`Category has ${oe.length} certificate(s). Delete them first.`,variant:"destructive"});return}if(confirm(`Delete category "${Ne}"?`))try{await Yc(pn(Et,"certificate_categories",ce)),t({title:" Category Deleted",description:`${Ne} has been deleted`}),v===ce&&x(null),le()}catch(We){console.error("Delete category error:",We),t({title:"Delete Failed",description:"Could not delete category",variant:"destructive"})}},ee=ce=>{window.open(ce,"_blank")},re=(ce,Ne)=>{const oe=document.createElement("a");oe.href=ce,oe.download=Ne,oe.target="_blank",document.body.appendChild(oe),oe.click(),document.body.removeChild(oe)},de=ce=>ce<1024?ce+" B":ce<1024*1024?(ce/1024).toFixed(2)+" KB":(ce/(1024*1024)).toFixed(2)+" MB",Ae=v?A.filter(ce=>ce.categoryId===v):[];return r?o.jsxs("div",{className:"min-h-screen",style:{background:"linear-gradient(135deg, #F5F9FF 0%, #EBF2FA 100%)"},children:[o.jsx("div",{className:"parallax-blob parallax-blob-1"}),o.jsx("div",{className:"parallax-blob parallax-blob-2"}),o.jsx("div",{className:"parallax-blob parallax-blob-3"}),[...Array(6)].map((ce,Ne)=>o.jsx("div",{className:"floating-particle",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*15}s`,animationDuration:`${15+Math.random()*10}s`}},Ne)),o.jsxs("div",{className:"relative container mx-auto p-4 sm:p-6 space-y-6",children:[o.jsxs("div",{className:"premium-glass-card flex items-center gap-4",style:{animation:"fadeIn 0.6s ease-out"},children:[o.jsx(et,{variant:"outline",size:"icon",onClick:()=>e("/"),className:"rounded-xl hover:bg-white/60 transition-all text-[#64748B] hover:text-[#1E293B]",children:o.jsx(go,{className:"h-4 w-4"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"display-text",style:{fontSize:"2rem"},children:"CERTIFICATIONS"}),o.jsx("p",{className:"caption-text",children:""})]})]}),o.jsxs("div",{className:"floating-card",style:{animation:"fadeIn 0.6s ease-out 0.2s both"},children:[o.jsx(fn,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(hn,{className:"flex items-center gap-2",children:[o.jsx(aj,{className:"h-5 w-5"}),"Categories"]}),o.jsx(_n,{children:"Organize certificates by category"})]}),o.jsxs(et,{onClick:()=>O(!R),className:"gap-2",children:[o.jsx(pbe,{className:"h-4 w-4"}),"Add Category"]})]})}),o.jsxs(Pr,{className:"space-y-4",children:[R&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Or,{value:_,onChange:ce=>E(ce.target.value),placeholder:"Category name (e.g., ISO Certificates)",onKeyDown:ce=>ce.key==="Enter"&&X()}),o.jsx(et,{onClick:X,children:"Add"}),o.jsx(et,{variant:"outline",onClick:()=>O(!1),children:"Cancel"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(ce=>{const Ne=A.filter(oe=>oe.categoryId===ce.id).length;return o.jsxs("div",{className:"flex gap-1",children:[o.jsxs(et,{variant:v===ce.id?"default":"outline",onClick:()=>x(ce.id),className:"gap-2",children:[o.jsx(aj,{className:"h-4 w-4"}),ce.name," (",Ne,")"]}),o.jsx(et,{variant:"ghost",size:"icon",onClick:()=>q(ce.id,ce.name),className:"h-9 w-9",children:o.jsx(Sc,{className:"h-4 w-4 text-red-600"})})]},ce.id)})})]})]}),v&&M&&o.jsxs("div",{className:"floating-card",style:{animation:"fadeIn 0.6s ease-out 0.3s both"},children:[o.jsx(fn,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(hn,{className:"flex items-center gap-2",children:[o.jsx(Wg,{className:"h-5 w-5"}),"Upload Certificate to ",(_e=d.find(ce=>ce.id===v))==null?void 0:_e.name]}),o.jsx(_n,{children:"Upload PDF or image files (JPG, PNG, WebP - Max 10 MB)"})]}),o.jsx(et,{variant:"outline",onClick:()=>H(!1),children:"Cancel"})]})}),o.jsxs(Pr,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xr,{htmlFor:"title",children:"Certificate Title *"}),o.jsx(Or,{id:"title",value:I,onChange:ce=>N(ce.target.value),placeholder:"e.g., ISO 9001:2015"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xr,{htmlFor:"description",children:"Description (Optional)"}),o.jsx(Or,{id:"description",value:j,onChange:ce=>T(ce.target.value),placeholder:"Brief description"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xr,{htmlFor:"file",children:"Select PDF or Image File *"}),o.jsx(Or,{id:"file",type:"file",accept:".pdf,.jpg,.jpeg,.png,.webp",onChange:ue}),P&&o.jsxs("p",{className:"text-sm text-gray-600",children:["Selected: ",P.name," (",de(P.size),")"]})]}),o.jsxs(et,{onClick:ve,disabled:y||!P||!I.trim(),className:"w-full gap-2",children:[o.jsx(Wg,{className:"h-4 w-4"}),y?"Uploading...":"Upload Certificate"]})]})]}),v&&!M&&o.jsx("div",{className:"flex justify-center",style:{animation:"fadeIn 0.6s ease-out 0.3s both"},children:o.jsxs(et,{onClick:()=>H(!0),className:"gap-2",size:"lg",children:[o.jsx(Wg,{className:"h-5 w-5"}),"Add Certificate to ",(ye=d.find(ce=>ce.id===v))==null?void 0:ye.name]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v?Ae.length===0?o.jsxs("div",{className:"col-span-full text-center py-12",children:[o.jsx(ta,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),o.jsx("p",{className:"text-lg font-semibold text-gray-600",children:"No certificates in this category"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Upload your first certificate above"})]}):Ae.map((ce,Ne)=>o.jsxs("div",{className:"floating-card",style:{animation:`fadeIn 0.6s ease-out ${.4+Ne*.1}s both`},children:[o.jsx(fn,{children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-[#4F46E5]/10 to-[#06B6D4]/10",children:ce.fileType.startsWith("image/")?o.jsx(Pb,{className:"h-6 w-6 text-[#4F46E5]"}):o.jsx(ta,{className:"h-6 w-6 text-[#4F46E5]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx(hn,{className:"text-lg",children:ce.title}),o.jsx(_n,{children:ce.description})]})]})}),o.jsxs(Pr,{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[o.jsx("span",{children:"File Size:"}),o.jsx("span",{className:"font-semibold",children:de(ce.size)})]}),o.jsxs("div",{className:"flex gap-2 justify-center",children:[o.jsx(et,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>ee(ce.fileUrl),title:"View PDF",children:o.jsx(Ec,{className:"h-4 w-4"})}),o.jsx(et,{size:"icon",className:"h-8 w-8",onClick:()=>re(ce.fileUrl,ce.fileName),title:"Download PDF",children:o.jsx(na,{className:"h-4 w-4"})}),o.jsx(et,{variant:"destructive",size:"icon",className:"h-8 w-8",onClick:()=>V(ce),title:"Delete Certificate",children:o.jsx(Sc,{className:"h-4 w-4"})})]})]})]},ce.id)):o.jsxs("div",{className:"col-span-full text-center py-12",children:[o.jsx(aj,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),o.jsx("p",{className:"text-lg font-semibold text-gray-600",children:"Select a Category"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Click on a category above to view its certificates"})]})})]}),o.jsx(t1,{})]}):o.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0",style:{backgroundImage:'url("/Screenshot 2025-11-27 130112.png")',backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundColor:"#f0f4f8",filter:"brightness(0.85)",animation:"zoomIn 20s ease-in-out infinite alternate"}}),o.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(135deg, rgba(79, 70, 229, 0.3) 0%, rgba(6, 182, 212, 0.3) 100%)",animation:"gradientShift 8s ease infinite"}}),[...Array(8)].map((ce,Ne)=>o.jsx("div",{className:"floating-particle",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${10+Math.random()*10}s`,opacity:.6}},Ne)),o.jsx("div",{className:"relative z-10 w-full max-w-md mx-4",style:{animation:"fadeInUp 0.8s ease-out"},children:o.jsxs("div",{className:"premium-glass-card p-8 space-y-6",style:{background:"rgba(255, 255, 255, 0.98)",backdropFilter:"blur(30px)",boxShadow:"0 25px 80px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(255, 255, 255, 0.3)",border:"1px solid rgba(255, 255, 255, 0.5)"},children:[o.jsxs("div",{className:"text-center space-y-2",children:[o.jsx("div",{className:"w-20 h-20 mx-auto rounded-full bg-gradient-to-br from-[#4F46E5] to-[#06B6D4] flex items-center justify-center mb-4 shadow-lg",style:{animation:"pulse 2s ease-in-out infinite"},children:o.jsx(ta,{className:"h-10 w-10 text-white"})}),o.jsx("h1",{className:"text-3xl font-bold gradient-text",style:{animation:"fadeIn 1s ease-out 0.2s both"},children:"CERTIFICATIONS"}),o.jsx("p",{className:"text-gray-600 font-medium",style:{animation:"fadeIn 1s ease-out 0.3s both"},children:""})]}),o.jsxs("div",{className:"space-y-4",style:{animation:"fadeIn 1s ease-out 0.4s both"},children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xr,{htmlFor:"username",className:"text-sm font-semibold text-gray-700",children:"Username"}),o.jsx(Or,{id:"username",type:"text",value:i,onChange:ce=>s(ce.target.value),placeholder:"Enter username",className:"premium-input h-12 text-base",onKeyDown:ce=>ce.key==="Enter"&&ne(),autoFocus:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xr,{htmlFor:"password",className:"text-sm font-semibold text-gray-700",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Or,{id:"password",type:c?"text":"password",value:a,onChange:ce=>l(ce.target.value),placeholder:"Enter password",className:"premium-input h-12 text-base pr-10",onKeyDown:ce=>ce.key==="Enter"&&ne()}),o.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none",children:c?o.jsx(FA,{className:"h-5 w-5"}):o.jsx(Ec,{className:"h-5 w-5"})})]})]}),o.jsx(et,{onClick:ne,className:"w-full gap-2 py-6 text-lg font-semibold bg-gradient-to-r from-[#4F46E5] to-[#06B6D4] hover:from-[#4338CA] hover:to-[#0891B2] shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:" Login"}),o.jsxs(et,{variant:"outline",onClick:()=>e("/"),className:"w-full gap-2 hover:bg-gray-100 transition-all duration-300",children:[o.jsx(go,{className:"h-4 w-4"}),"Back to Home"]})]})]})}),o.jsx("style",{children:`
          @keyframes zoomIn {
            0% { transform: scale(1); }
            100% { transform: scale(1.1); }
          }
          
          @keyframes gradientShift {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 0.5; }
          }
          
          @keyframes fadeInUp {
            from {
              opacity: 0;
              transform: translateY(30px);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
        `})]})},DTt=pE("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),nH=C.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:Zr(DTt({variant:t}),e),...r}));nH.displayName="Alert";const LTt=C.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:Zr("mb-1 font-medium leading-none tracking-tight",e),...t}));LTt.displayName="AlertTitle";const iH=C.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Zr("text-sm [&_p]:leading-relaxed",e),...t}));iH.displayName="AlertDescription";function lee(){const[e,t]=C.useState(""),[r,n]=C.useState(""),[i,s]=C.useState(!1),[a,l]=C.useState(""),[c,u]=C.useState(!1),d=ds(),{isAuthenticated:h,userRole:A}=jy();C.useEffect(()=>{h&&A&&(console.log(" User already authenticated, redirecting to dashboard"),A==="superadmin"?d("/dashboard",{replace:!0}):A==="jath"?d("/jath-operator",{replace:!0}):A==="sangli"?d("/sangli-operator",{replace:!0}):A==="latur"?d("/latur-operator",{replace:!0}):A==="billing"||A==="billing_admin"?d("/billing/software",{replace:!0}):d("/dashboard",{replace:!0}))},[h,A,d]);const g=async v=>{v.preventDefault(),l(""),u(!0),console.log(" Clearing ALL existing localStorage authentication data..."),localStorage.clear(),console.log(" localStorage completely cleared");const x=[{email:"admin@dattaenterprises.com",password:"Adminsunilsir@7385",role:"superadmin",name:"Super Admin",redirect:"/dashboard"},{email:"dattaenterprises@jath.com",password:"@123jath.jathcom",role:"jath",name:"Jath Office",redirect:"/jath-operator"},{email:"sangli@dattaenterprises.com",password:"sangli@123",role:"sangli",name:"Sangli Office",redirect:"/sangli-operator"},{email:"latur@dattaenterprises.com",password:"27latur@27.com123",role:"latur",name:"Latur Office",redirect:"/latur-operator"},{email:"accounts@dattaenterprises.com",password:"billingpassword27",role:"billing",name:"Billing Software User",redirect:"/billing/software"}];console.log(" Checking credentials for:",e),console.log(" Available emails:",x.map(w=>w.email));const y=x.find(w=>w.email===e&&w.password===r);if(y){console.log(" Hardcoded login successful:",y.email),console.log(" Setting NEW role in localStorage:",y.role),localStorage.setItem("userRole",y.role),localStorage.setItem("userName",y.name),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("isAuthenticated","true"),localStorage.setItem("loginTime",new Date().toISOString()),(y.role==="billing"||y.role==="billing_admin")&&localStorage.setItem("isBillingUser","true"),console.log(" Stored in localStorage:",{userRole:localStorage.getItem("userRole"),userName:localStorage.getItem("userName"),isAuthenticated:localStorage.getItem("isAuthenticated")});const w=JSON.parse(localStorage.getItem("loginSessions")||"[]"),_={id:`session_${Date.now()}`,role:y.role,name:y.name,loginTime:new Date().toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}),logoutTime:null,duration:"Active",date:new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"2-digit"})};w.unshift(_),w.length>50&&w.splice(50),localStorage.setItem("loginSessions",JSON.stringify(w)),window.dispatchEvent(new Event("authStateChanged")),console.log(" Redirecting to:",y.redirect),setTimeout(()=>{u(!1),d(y.redirect)},300);return}console.log(" Hardcoded credentials did not match"),console.log(" Entered email:",`"${e}"`),console.log(" Entered password:",`"${r}"`),l("Invalid email or password. Please check your credentials."),u(!1)};return o.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative overflow-hidden overflow-y-auto",style:{background:"linear-gradient(180deg, #FAFBFC 0%, #F5F7FA 50%, #FAFBFC 100%)"},children:[o.jsx("div",{className:"parallax-blob parallax-blob-1"}),o.jsx("div",{className:"parallax-blob parallax-blob-2"}),o.jsx("div",{className:"parallax-blob parallax-blob-3"}),o.jsxs("div",{className:"animated-logo-bg",children:[o.jsx("div",{className:"logo-layer logo-1"}),o.jsx("div",{className:"logo-layer logo-2"}),o.jsx("div",{className:"logo-layer logo-3"}),o.jsx("div",{className:"logo-layer logo-4"})]}),o.jsxs(Sr,{className:"w-full max-w-md relative z-10 my-8",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(40px) saturate(180%)",border:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.02)"},children:[o.jsxs(fn,{className:"space-y-4 text-center relative",children:[o.jsx("div",{className:"absolute top-0 left-0",children:o.jsxs(et,{variant:"ghost",size:"sm",onClick:()=>d("/"),className:"gap-2 text-gray-600 hover:text-gray-800",children:[o.jsx(go,{className:"h-4 w-4"}),"Back"]})}),o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("img",{src:"/superadmin/Screenshot 2025-12-02 181035.png",alt:"Shree Datta Enterprises",className:"h-24 w-auto object-contain",onError:v=>{v.currentTarget.src="/superadmin/Screenshot 2025-11-27 130112.png"}})}),o.jsx(hn,{className:"text-3xl font-bold",style:{color:"#1E293B"},children:"Welcome Back"}),o.jsx(_n,{className:"text-base",style:{color:"#64748B"},children:"Sign in to access your dashboard"})]}),o.jsx(Pr,{children:o.jsxs("form",{onSubmit:g,className:"space-y-4",children:[a&&o.jsx(nH,{variant:"destructive",children:o.jsx(iH,{children:a})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xr,{htmlFor:"email",children:"Email"}),o.jsx(Or,{id:"email",type:"email",placeholder:"Enter your email",value:e,onChange:v=>t(v.target.value),required:!0,disabled:c,className:"h-11"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xr,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Or,{id:"password",type:i?"text":"password",placeholder:"Enter your password",value:r,onChange:v=>n(v.target.value),required:!0,disabled:c,className:"h-11 pr-10"}),o.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none",children:i?o.jsx(FA,{className:"h-5 w-5"}):o.jsx(Ec,{className:"h-5 w-5"})})]})]}),o.jsx(et,{type:"submit",className:"w-full h-11 text-base font-semibold",disabled:c,style:{background:"linear-gradient(135deg, #667EEA 0%, #764BA2 100%)",boxShadow:"0 4px 12px rgba(102, 126, 234, 0.3)"},children:c?o.jsxs(o.Fragment,{children:[o.jsx(uh,{className:"mr-2 h-5 w-5 animate-spin"}),"Signing in..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Hm,{className:"mr-2 h-5 w-5"}),"Sign In"]})})]})})]})]})}function RTt(){const[e,t]=C.useState("sangli@dattaenterprises.com"),[r,n]=C.useState(""),[i,s]=C.useState(!1),[a,l]=C.useState(""),[c,u]=C.useState(!1),d=ds();jy();const h=async A=>{A.preventDefault(),l(""),u(!0),e==="sangli@dattaenterprises.com"&&r==="sangli@123"?(localStorage.getItem("userRole")!=="superadmin"?(console.log(" SangliOffice: Clearing existing localStorage..."),localStorage.clear(),console.log(" localStorage cleared")):console.log(" Super Admin detected - preserving session"),localStorage.setItem("userRole","sangli-office"),localStorage.setItem("userName","Sangli Office"),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("isAuthenticated","true"),console.log(" Sangli Office login successful"),setTimeout(()=>{d("/sangli-operator")},500)):(l("Invalid Sangli Office credentials"),u(!1))};return o.jsxs("div",{className:"office-page-container",children:[o.jsx("div",{className:"office-blob office-blob-1"}),o.jsx("div",{className:"office-blob office-blob-2"}),o.jsx("div",{className:"office-blob office-blob-3"}),o.jsxs(et,{variant:"ghost",className:"office-back-button",onClick:()=>d("/"),children:[o.jsx(go,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsxs(Sr,{className:"office-login-card",children:[o.jsxs(fn,{className:"office-card-header",children:[o.jsx("div",{className:"office-logo-container",children:o.jsx("img",{src:"/superadmin/Screenshot 2025-12-02 181035.png",alt:"Shree Datta Enterprises",className:"office-logo",onError:A=>{A.currentTarget.src="/superadmin/Screenshot 2025-11-27 130112.png"}})}),o.jsx(hn,{className:"office-title",children:"Sangli Office"}),o.jsx(_n,{className:"office-description",children:"Sign in to access Sangli dashboard"})]}),o.jsx(Pr,{className:"office-card-content",children:o.jsxs("form",{onSubmit:h,className:"office-form",children:[a&&o.jsx("div",{className:"office-error-alert",children:a}),o.jsxs("div",{className:"office-form-group",children:[o.jsx(xr,{htmlFor:"email",className:"office-form-label",children:"Email"}),o.jsx(Or,{id:"email",type:"email",placeholder:"Enter Sangli email",value:e,onChange:A=>t(A.target.value),required:!0,disabled:c,className:"office-form-input"})]}),o.jsxs("div",{className:"office-form-group",children:[o.jsx(xr,{htmlFor:"password",className:"office-form-label",children:"Password"}),o.jsxs("div",{className:"office-password-container",children:[o.jsx(Or,{id:"password",type:i?"text":"password",placeholder:"Enter Sangli password",value:r,onChange:A=>n(A.target.value),required:!0,disabled:c,className:"office-form-input",style:{paddingRight:"48px"}}),o.jsx("button",{type:"button",onClick:()=>s(!i),className:"office-password-toggle",children:i?o.jsx(FA,{className:"h-5 w-5"}):o.jsx(Ec,{className:"h-5 w-5"})})]})]}),o.jsx("button",{type:"submit",className:"office-submit-button",disabled:c,children:c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"office-loading-spinner"}),"Signing In..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Hm,{className:"h-5 w-5"}),"Sign In to Sangli"]})})]})})]})]})}function MTt(){const[e,t]=C.useState("dattaenterprises@jath.com"),[r,n]=C.useState(""),[i,s]=C.useState(!1),[a,l]=C.useState(""),[c,u]=C.useState(!1),d=ds();jy();const h=async A=>{A.preventDefault(),l(""),u(!0),e==="dattaenterprises@jath.com"&&r==="@123jath.jathcom"?(localStorage.getItem("userRole")!=="superadmin"?(console.log(" JathOffice: Clearing existing localStorage..."),localStorage.clear(),console.log(" localStorage cleared")):console.log(" Super Admin detected - preserving session"),localStorage.setItem("userRole","jath-office"),localStorage.setItem("userName","Jath Office"),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("isAuthenticated","true"),console.log(" Jath Office login successful"),setTimeout(()=>{d("/jath-operator")},500)):(l("Invalid Jath Office credentials"),u(!1))};return o.jsxs("div",{className:"office-page-container",children:[o.jsx("div",{className:"office-blob office-blob-1"}),o.jsx("div",{className:"office-blob office-blob-2"}),o.jsx("div",{className:"office-blob office-blob-3"}),o.jsxs(et,{variant:"ghost",className:"office-back-button",onClick:()=>d("/"),children:[o.jsx(go,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsxs(Sr,{className:"office-login-card",children:[o.jsxs(fn,{className:"office-card-header",children:[o.jsx("div",{className:"office-logo-container",children:o.jsx("img",{src:"/superadmin/Screenshot 2025-12-02 181035.png",alt:"Shree Datta Enterprises",className:"office-logo",onError:A=>{A.currentTarget.src="/superadmin/Screenshot 2025-11-27 130112.png"}})}),o.jsx(hn,{className:"office-title",children:"Jath Office"}),o.jsx(_n,{className:"office-description",children:"Sign in to access Jath dashboard"})]}),o.jsx(Pr,{className:"office-card-content",children:o.jsxs("form",{onSubmit:h,className:"office-form",children:[a&&o.jsx("div",{className:"office-error-alert",children:a}),o.jsxs("div",{className:"office-form-group",children:[o.jsx(xr,{htmlFor:"email",className:"office-form-label",children:"Email"}),o.jsx(Or,{id:"email",type:"email",placeholder:"Enter Jath email",value:e,onChange:A=>t(A.target.value),required:!0,disabled:c,className:"office-form-input"})]}),o.jsxs("div",{className:"office-form-group",children:[o.jsx(xr,{htmlFor:"password",className:"office-form-label",children:"Password"}),o.jsxs("div",{className:"office-password-container",children:[o.jsx(Or,{id:"password",type:i?"text":"password",placeholder:"Enter Jath password",value:r,onChange:A=>n(A.target.value),required:!0,disabled:c,className:"office-form-input",style:{paddingRight:"48px"}}),o.jsx("button",{type:"button",onClick:()=>s(!i),className:"office-password-toggle",children:i?o.jsx(FA,{className:"h-5 w-5"}):o.jsx(Ec,{className:"h-5 w-5"})})]})]}),o.jsx("button",{type:"submit",className:"office-submit-button",disabled:c,children:c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"office-loading-spinner"}),"Signing In..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Hm,{className:"h-5 w-5"}),"Sign In to Jath"]})})]})})]})]})}function UTt(){const[e,t]=C.useState("latur@dattaenterprises.com"),[r,n]=C.useState(""),[i,s]=C.useState(!1),[a,l]=C.useState(""),[c,u]=C.useState(!1),d=ds();jy();const h=async A=>{A.preventDefault(),l(""),u(!0),e==="latur@dattaenterprises.com"&&r==="27latur@27.com123"?(localStorage.getItem("userRole")!=="superadmin"?(console.log(" LaturOffice: Clearing existing localStorage..."),localStorage.clear(),console.log(" localStorage cleared")):console.log(" Super Admin detected - preserving session"),localStorage.setItem("userRole","latur"),localStorage.setItem("userName","Latur Office"),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("isAuthenticated","true"),console.log(" Latur Office login successful"),setTimeout(()=>{u(!1),d("/latur-operator")},500)):(l("Invalid Latur Office credentials"),u(!1))};return o.jsxs("div",{className:"office-page-container",children:[o.jsx("div",{className:"office-blob office-blob-1"}),o.jsx("div",{className:"office-blob office-blob-2"}),o.jsx("div",{className:"office-blob office-blob-3"}),o.jsxs(et,{variant:"ghost",className:"office-back-button",onClick:()=>d("/"),children:[o.jsx(go,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsxs(Sr,{className:"office-login-card",children:[o.jsxs(fn,{className:"office-card-header",children:[o.jsx("div",{className:"office-logo-container",children:o.jsx("img",{src:"/superadmin/Screenshot 2025-12-02 181035.png",alt:"Shree Datta Enterprises",className:"office-logo",onError:A=>{A.currentTarget.src="/superadmin/Screenshot 2025-11-27 130112.png"}})}),o.jsx(hn,{className:"office-title",children:"Latur Office"}),o.jsx(_n,{className:"office-description",children:"  "})]}),o.jsx(Pr,{className:"office-card-content",children:o.jsxs("form",{onSubmit:h,className:"office-form",children:[a&&o.jsx("div",{className:"office-error-alert",children:a}),o.jsxs("div",{className:"office-form-group",children:[o.jsx(xr,{htmlFor:"email",className:"office-form-label",children:"Email"}),o.jsx(Or,{id:"email",type:"email",placeholder:"Enter Latur email",value:e,onChange:A=>t(A.target.value),required:!0,disabled:c,className:"office-form-input"})]}),o.jsxs("div",{className:"office-form-group",children:[o.jsx(xr,{htmlFor:"password",className:"office-form-label",children:"Password"}),o.jsxs("div",{className:"office-password-container",children:[o.jsx(Or,{id:"password",type:i?"text":"password",placeholder:"Enter Latur password",value:r,onChange:A=>n(A.target.value),required:!0,disabled:c,className:"office-form-input",style:{paddingRight:"48px"}}),o.jsx("button",{type:"button",onClick:()=>s(!i),className:"office-password-toggle",children:i?o.jsx(FA,{className:"h-5 w-5"}):o.jsx(Ec,{className:"h-5 w-5"})})]})]}),o.jsx("button",{type:"submit",className:"office-submit-button",disabled:c,children:c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"office-loading-spinner"}),"Signing In..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Hm,{className:"h-5 w-5"}),"Sign In to Latur"]})})]})})]})]})}const HTt=()=>{const[e,t]=C.useState(""),[r,n]=C.useState(""),[i,s]=C.useState(!1),[a,l]=C.useState(!1),c=ds(),{toast:u}=Lo(),d=async()=>{e==="SDE"&&r==="12345"?(localStorage.getItem("userRole")!=="superadmin"?(console.log(" SangliOperator: Clearing existing localStorage..."),localStorage.clear(),console.log(" localStorage cleared")):console.log(" Super Admin detected - preserving session"),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("userRole","sangli-operator"),localStorage.setItem("userName","Sangli Operator"),localStorage.setItem("isAuthenticated","true"),l(!0),u({title:"Login Successful! ",description:"Welcome to Sangli Operator Dashboard"})):u({title:"Login Failed",description:"Invalid login ID or password",variant:"destructive"})};C.useEffect(()=>{const A=localStorage.getItem("userRole"),g=localStorage.getItem("isLoggedIn")==="true";console.log(" SangliOperator checking session:",{userRole:A,isAuth:g}),g?A==="sangli-operator"||A==="sangli"?(console.log(" Valid sangli session found"),l(!0)):A==="superadmin"?(console.log(" Super Admin accessing Sangli Operator - allowing access"),l(!0)):(console.log(" Invalid role for SangliOperator:",A),l(!1)):(console.log(" No authentication found"),l(!1))},[]);const h=()=>{console.log(" SangliOperator logout initiated"),l(!1),t(""),n(""),console.log(" Clearing ALL localStorage data..."),localStorage.clear(),console.log(" All localStorage data cleared"),u({title:"Logged Out",description:"You have been logged out successfully"}),c("/")};return o.jsxs("div",{className:"min-h-screen h-auto overflow-y-auto relative",style:{background:"linear-gradient(135deg, #F5F9FF 0%, #EBF2FA 100%)",position:"relative",scrollBehavior:"smooth"},children:[o.jsx("div",{className:"parallax-blob parallax-blob-1"}),o.jsx("div",{className:"parallax-blob parallax-blob-2"}),o.jsx("div",{className:"parallax-blob parallax-blob-3"}),[...Array(6)].map((A,g)=>o.jsx("div",{className:"floating-particle",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*15}s`,animationDuration:`${15+Math.random()*10}s`}},g)),o.jsxs("div",{className:"relative container mx-auto p-4 sm:p-6 space-y-6",children:[o.jsxs("div",{className:"premium-glass-card flex items-center gap-4",style:{animation:"fadeIn 0.6s ease-out"},children:[o.jsx(et,{variant:"outline",size:"icon",onClick:()=>c("/"),className:"rounded-xl hover:bg-white/60 transition-all text-[#64748B] hover:text-[#1E293B]",children:o.jsx(go,{className:"h-4 w-4"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"display-text",style:{fontSize:"2rem"},children:"SANGLI OFFICE"}),o.jsx("p",{className:"caption-text",children:" "})]})]}),a?o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"floating-card",style:{animation:"fadeIn 0.6s ease-out 0.6s both"},children:[o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"heading-2 mb-2",children:"Sangli Operator Dashboard"}),o.jsx("p",{className:"caption-text",children:"  "})]}),o.jsxs("div",{className:"flex gap-2",children:[localStorage.getItem("userRole")==="superadmin"&&o.jsxs(et,{variant:"default",onClick:()=>c("/dashboard"),className:"gap-2 bg-blue-600 hover:bg-blue-700",children:[o.jsx(go,{className:"h-4 w-4"}),"Go to Dashboard"]}),o.jsx(et,{variant:"outline",onClick:h,children:"Logout"})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{className:"floating-card cursor-pointer hover:scale-105 transition-all duration-300 bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",onClick:()=>c("/create-tipni"),style:{animation:"fadeIn 0.6s ease-out 0.7s both"},children:o.jsxs("div",{className:"text-center p-8",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-blue-600 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white text-2xl",children:""})}),o.jsx("h3",{className:"text-xl font-bold text-blue-800 mb-2",children:"PRASHASKIY AADESH"}),o.jsx("p",{className:"text-blue-600",children:" "})]})}),o.jsx("div",{className:"floating-card cursor-pointer hover:scale-105 transition-all duration-300 bg-gradient-to-br from-green-50 to-green-100 border-green-200",onClick:()=>c("/lgd-info"),style:{animation:"fadeIn 0.6s ease-out 0.8s both"},children:o.jsxs("div",{className:"text-center p-8",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-600 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white text-2xl",children:""})}),o.jsx("h3",{className:"text-xl font-bold text-green-800 mb-2",children:"DIRECT PURCHASE"}),o.jsx("p",{className:"text-green-600",children:" "})]})}),o.jsx("div",{className:"floating-card cursor-pointer hover:scale-105 transition-all duration-300 bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",onClick:()=>c("/dashboard"),style:{animation:"fadeIn 0.6s ease-out 0.9s both"},children:o.jsxs("div",{className:"text-center p-8",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-purple-600 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white text-2xl",children:""})}),o.jsx("h3",{className:"text-xl font-bold text-purple-800 mb-2",children:"DASHBOARD"}),o.jsx("p",{className:"text-purple-600",children:" (Stock In Only)"})]})}),o.jsx("div",{className:"floating-card cursor-pointer hover:scale-105 transition-all duration-300 bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200",onClick:()=>c("/lgd-info"),style:{animation:"fadeIn 0.6s ease-out 1.0s both"},children:o.jsxs("div",{className:"text-center p-8",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-orange-600 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white text-2xl",children:""})}),o.jsx("h3",{className:"text-xl font-bold text-orange-800 mb-2",children:"SHREE"}),o.jsx("p",{className:"text-orange-600",children:" (Prashikaddhes & Direct Khardi)"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[o.jsx("div",{className:"floating-card cursor-pointer hover:scale-105 transition-all duration-300 bg-gradient-to-br from-gray-50 to-gray-100 border-gray-200",onClick:()=>c("/sales-history"),style:{animation:"fadeIn 0.6s ease-out 1.1s both"},children:o.jsxs("div",{className:"text-center p-6",children:[o.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-gray-600 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white text-lg",children:""})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:"SALES HISTORY"}),o.jsx("p",{className:"text-gray-600 text-sm",children:" "})]})}),o.jsx("div",{className:"floating-card cursor-pointer hover:scale-105 transition-all duration-300 bg-gradient-to-br from-red-50 to-red-100 border-red-200",onClick:()=>c("/bid-status"),style:{animation:"fadeIn 0.6s ease-out 1.2s both"},children:o.jsxs("div",{className:"text-center p-6",children:[o.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-red-600 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white text-lg",children:""})}),o.jsx("h3",{className:"text-lg font-bold text-red-800 mb-1",children:"SUBMITTED BIDS"}),o.jsx("p",{className:"text-red-600 text-sm",children:"  "})]})})]})]})}):o.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:o.jsxs("div",{className:"floating-card w-full max-w-md",style:{animation:"fadeIn 0.6s ease-out 0.2s both"},children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h2",{className:"heading-2 mb-2",children:"Sangli Operator Login"}),o.jsx("p",{className:"caption-text",children:"  "})]}),o.jsxs(Pr,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(xr,{htmlFor:"loginId",className:"flex items-center gap-2",children:[o.jsx(Qm,{className:"h-4 w-4"}),"Login ID"]}),o.jsx(Or,{id:"loginId",type:"text",value:e,onChange:A=>t(A.target.value),placeholder:"Enter Login ID",onKeyDown:A=>A.key==="Enter"&&d()})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(xr,{htmlFor:"password",className:"flex items-center gap-2",children:[o.jsx(NR,{className:"h-4 w-4"}),"Password"]}),o.jsxs("div",{className:"relative",children:[o.jsx(Or,{id:"password",type:i?"text":"password",value:r,onChange:A=>n(A.target.value),placeholder:"Enter Password",className:"pr-10",onKeyDown:A=>A.key==="Enter"&&d()}),o.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none",children:i?o.jsx(FA,{className:"h-4 w-4"}):o.jsx(Ec,{className:"h-4 w-4"})})]})]}),o.jsxs(et,{onClick:d,className:"w-full gap-2",children:[o.jsx(Hm,{className:"h-4 w-4"}),"Login"]}),o.jsxs("div",{className:"text-center text-sm text-muted-foreground mt-4",children:[o.jsx("p",{children:"Demo Credentials:"}),o.jsx("p",{className:"font-mono",children:"ID: SDE | Password: 12345"})]})]})]})})]}),o.jsx(t1,{})]})},QTt=()=>{const[e,t]=C.useState(""),[r,n]=C.useState(""),[i,s]=C.useState(!1),[a,l]=C.useState(!1),c=ds(),{toast:u}=Lo(),d=async()=>{e==="SDE"&&r==="12345"?(localStorage.getItem("userRole")!=="superadmin"?(console.log(" JathOperator: Clearing existing localStorage..."),localStorage.clear(),console.log(" localStorage cleared")):console.log(" Super Admin detected - preserving session"),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("userRole","jath-operator"),localStorage.setItem("userName","Jath Operator"),localStorage.setItem("isAuthenticated","true"),l(!0),u({title:"Login Successful! ",description:"Welcome to Jath Operator Dashboard"})):u({title:"Login Failed",description:"Invalid login ID or password",variant:"destructive"})};C.useEffect(()=>{const A=localStorage.getItem("userRole"),g=localStorage.getItem("isLoggedIn")==="true";console.log(" JathOperator checking session:",{userRole:A,isAuth:g}),g?A==="jath-operator"||A==="jath"?(console.log(" Valid jath session found"),l(!0)):A==="superadmin"?(console.log(" Super Admin accessing Jath Operator - allowing access"),l(!0)):(console.log(" Invalid role for JathOperator:",A),l(!1)):(console.log(" No authentication found"),l(!1))},[]);const h=()=>{console.log(" JathOperator logout initiated"),l(!1),t(""),n(""),console.log(" Clearing ALL localStorage data..."),localStorage.clear(),console.log(" All localStorage data cleared"),u({title:"Logged Out",description:"You have been logged out successfully"}),c("/")};return o.jsxs("div",{className:"min-h-screen h-auto overflow-y-auto relative",style:{background:"linear-gradient(135deg, #F5F9FF 0%, #EBF2FA 100%)",position:"relative",scrollBehavior:"smooth"},children:[o.jsx("div",{className:"parallax-blob parallax-blob-1"}),o.jsx("div",{className:"parallax-blob parallax-blob-2"}),o.jsx("div",{className:"parallax-blob parallax-blob-3"}),[...Array(6)].map((A,g)=>o.jsx("div",{className:"floating-particle",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*15}s`,animationDuration:`${15+Math.random()*10}s`}},g)),o.jsxs("div",{className:"relative container mx-auto p-4 sm:p-6 space-y-6",children:[o.jsxs("div",{className:"premium-glass-card flex items-center gap-4",style:{animation:"fadeIn 0.6s ease-out"},children:[o.jsx(et,{variant:"outline",size:"icon",onClick:()=>c("/"),className:"rounded-xl hover:bg-white/60 transition-all text-[#64748B] hover:text-[#1E293B]",children:o.jsx(go,{className:"h-4 w-4"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"display-text",style:{fontSize:"2rem"},children:"JATH OPERATOR"}),o.jsx("p",{className:"caption-text",children:" "})]})]}),a?o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"floating-card",style:{animation:"fadeIn 0.6s ease-out 0.6s both"},children:[o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"heading-2 mb-2",children:"Jath Operator Dashboard"}),o.jsx("p",{className:"caption-text",children:"  "})]}),o.jsxs("div",{className:"flex gap-2",children:[localStorage.getItem("userRole")==="superadmin"&&o.jsxs(et,{variant:"default",onClick:()=>c("/dashboard"),className:"gap-2 bg-blue-600 hover:bg-blue-700",children:[o.jsx(go,{className:"h-4 w-4"}),"Go to Dashboard"]}),o.jsx(et,{variant:"outline",onClick:h,children:"Logout"})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{className:"floating-card cursor-pointer hover:scale-105 transition-all duration-300 bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",onClick:()=>c("/create-tipni"),style:{animation:"fadeIn 0.6s ease-out 0.7s both"},children:o.jsxs("div",{className:"text-center p-8",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-blue-600 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white text-2xl",children:""})}),o.jsx("h3",{className:"text-xl font-bold text-blue-800 mb-2",children:"PRASHASKIY AADESH"}),o.jsx("p",{className:"text-blue-600",children:" "})]})}),o.jsx("div",{className:"floating-card cursor-pointer hover:scale-105 transition-all duration-300 bg-gradient-to-br from-green-50 to-green-100 border-green-200",onClick:()=>c("/lgd-info"),style:{animation:"fadeIn 0.6s ease-out 0.8s both"},children:o.jsxs("div",{className:"text-center p-8",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-600 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white text-2xl",children:""})}),o.jsx("h3",{className:"text-xl font-bold text-green-800 mb-2",children:"DIRECT PURCHASE"}),o.jsx("p",{className:"text-green-600",children:" "})]})}),o.jsx("div",{className:"floating-card cursor-pointer hover:scale-105 transition-all duration-300 bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",onClick:()=>c("/dashboard"),style:{animation:"fadeIn 0.6s ease-out 0.9s both"},children:o.jsxs("div",{className:"text-center p-8",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-purple-600 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white text-2xl",children:""})}),o.jsx("h3",{className:"text-xl font-bold text-purple-800 mb-2",children:"DASHBOARD"}),o.jsx("p",{className:"text-purple-600",children:" (Stock In Only)"})]})}),o.jsx("div",{className:"floating-card cursor-pointer hover:scale-105 transition-all duration-300 bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200",onClick:()=>c("/lgd-info"),style:{animation:"fadeIn 0.6s ease-out 1.0s both"},children:o.jsxs("div",{className:"text-center p-8",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-orange-600 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white text-2xl",children:""})}),o.jsx("h3",{className:"text-xl font-bold text-orange-800 mb-2",children:"SHREE"}),o.jsx("p",{className:"text-orange-600",children:" (Prashikaddhes & Direct Khardi)"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[o.jsx("div",{className:"floating-card cursor-pointer hover:scale-105 transition-all duration-300 bg-gradient-to-br from-gray-50 to-gray-100 border-gray-200",onClick:()=>c("/sales-history"),style:{animation:"fadeIn 0.6s ease-out 1.1s both"},children:o.jsxs("div",{className:"text-center p-6",children:[o.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-gray-600 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white text-lg",children:""})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:"SALES HISTORY"}),o.jsx("p",{className:"text-gray-600 text-sm",children:" "})]})}),o.jsx("div",{className:"floating-card cursor-pointer hover:scale-105 transition-all duration-300 bg-gradient-to-br from-red-50 to-red-100 border-red-200",onClick:()=>c("/bid-status"),style:{animation:"fadeIn 0.6s ease-out 1.2s both"},children:o.jsxs("div",{className:"text-center p-6",children:[o.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-red-600 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white text-lg",children:""})}),o.jsx("h3",{className:"text-lg font-bold text-red-800 mb-1",children:"SUBMITTED BIDS"}),o.jsx("p",{className:"text-red-600 text-sm",children:"  "})]})})]})]})}):o.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:o.jsxs("div",{className:"floating-card w-full max-w-md",style:{animation:"fadeIn 0.6s ease-out 0.2s both"},children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h2",{className:"heading-2 mb-2",children:"Jath Operator Login"}),o.jsx("p",{className:"caption-text",children:"  "})]}),o.jsx(Pr,{className:"space-y-4",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(xr,{htmlFor:"loginId",className:"flex items-center gap-2",children:[o.jsx(Qm,{className:"h-4 w-4"}),"Login ID"]}),o.jsx(Or,{id:"loginId",type:"text",placeholder:"Enter your login ID",value:e,onChange:A=>t(A.target.value),required:!0,className:"premium-input"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(xr,{htmlFor:"password",className:"flex items-center gap-2",children:[o.jsx(NR,{className:"h-4 w-4"}),"Password"]}),o.jsxs("div",{className:"relative",children:[o.jsx(Or,{id:"password",type:i?"text":"password",placeholder:"Enter your password",value:r,onChange:A=>n(A.target.value),required:!0,className:"premium-input pr-10"}),o.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none",children:i?o.jsx(FA,{className:"h-5 w-5"}):o.jsx(Ec,{className:"h-5 w-5"})})]})]}),o.jsxs(et,{onClick:d,className:"w-full gap-2",children:[o.jsx(Hm,{className:"h-4 w-4"}),"Login"]}),o.jsxs("div",{className:"text-center text-sm text-muted-foreground mt-4",children:[o.jsx("p",{children:"Demo Credentials:"}),o.jsx("p",{className:"font-mono",children:"ID: SDE | Password: 12345"})]})]})})]})})]}),o.jsx(t1,{})]})};function $Tt(){const[e,t]=C.useState({}),[r,n]=C.useState(!0),i=ds(),s=localStorage.getItem("userRole");if(C.useEffect(()=>{if(s!=="superadmin"){console.log(" Access denied: Only Super Admin can view login history"),window.location.href="/";return}},[s]),s!=="superadmin")return o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs(Sr,{className:"w-96",children:[o.jsx(fn,{children:o.jsx(hn,{className:"text-center text-red-600",children:"Access Denied"})}),o.jsx(Pr,{children:o.jsx("p",{className:"text-center text-gray-600",children:"Only Super Admin can view login history."})})]})});C.useEffect(()=>{const c=()=>{console.log(" Loading login history...");const h=localStorage.getItem("loginSessions");let A=[];h&&(A=JSON.parse(h),console.log(" Stored sessions:",A));const g=localStorage.getItem("userRole"),v=localStorage.getItem("userName"),x=localStorage.getItem("loginTime"),y=localStorage.getItem("isAuthenticated");if(console.log(" Current auth state:",{currentRole:g,currentName:v,loginTime:x,isAuthenticated:y}),g&&v&&y){const _=new Date,E={id:`current_${Date.now()}`,role:g,name:v,loginTime:x?new Date(x).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}):_.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}),logoutTime:null,duration:"Active",date:_.toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"2-digit"})};console.log(" Adding current session:",E);const I=A.findIndex(N=>N.role===g&&N.date===E.date&&N.logoutTime===null);I===-1?A.unshift(E):A[I]=E}if(A.length===0){console.log(" No sessions found, creating sample data");const _=new Date,E={id:"sample_1",role:"superadmin",name:"Super Admin",loginTime:_.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}),logoutTime:null,duration:"Active",date:_.toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"2-digit"})};A.push(E)}const w={};A.forEach(_=>{w[_.date]||(w[_.date]={}),w[_.date][_.role]||(w[_.date][_.role]=[]),w[_.date][_.role].push(_)}),console.log(" Grouped records:",w),t(w),n(!1)};c();const u=()=>{c()};window.addEventListener("authStateChanged",u);const d=setInterval(c,3e4);return()=>{window.removeEventListener("authStateChanged",u),clearInterval(d)}},[]);const a=c=>{switch(c){case"superadmin":return"bg-purple-500";case"jath":return"bg-blue-500";case"sangli":return"bg-green-500";case"latur":return"bg-orange-500";default:return"bg-gray-500"}},l=c=>{switch(c){case"superadmin":return"Super Admin";case"jath":return"Jath Office";case"sangli":return"Sangli Office";case"latur":return"Latur Office";default:return c}};return o.jsx("div",{className:"space-y-6",children:o.jsxs(Sr,{className:"premium-glass-card",children:[o.jsx(fn,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(hn,{className:"flex items-center gap-2",children:[o.jsx(Mf,{className:"h-6 w-6"}),"Login History"]}),o.jsxs(et,{variant:"outline",onClick:()=>i("/dashboard"),className:"gap-2",children:[o.jsx(go,{className:"h-4 w-4"}),"Back to Dashboard"]})]})}),o.jsx(Pr,{children:r?o.jsx("p",{className:"text-center py-8 text-gray-500",children:"Loading..."}):Object.keys(e).length===0?o.jsx("p",{className:"text-center py-8 text-gray-500",children:"No login records found"}):o.jsx("div",{className:"space-y-6",children:Object.entries(e).sort(([c],[u])=>new Date(u).getTime()-new Date(c).getTime()).map(([c,u])=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-gray-200",children:[o.jsx(Iie,{className:"h-5 w-5 text-blue-600"}),o.jsx("h2",{className:"text-xl font-bold text-gray-800",children:c})]}),o.jsx("div",{className:"space-y-3",children:["superadmin","jath","sangli","latur"].map(d=>u[d]?o.jsxs("div",{className:"premium-glass-card p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${a(d)}`}),o.jsx("h3",{className:"font-semibold text-lg text-gray-700",children:l(d)})]}),o.jsx("div",{className:"space-y-2",children:u[d].map(h=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"font-medium text-green-600",children:"Login:"}),o.jsx("span",{className:"ml-2 text-gray-700",children:h.loginTime})]}),o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"font-medium text-red-600",children:"Logout:"}),o.jsx("span",{className:"ml-2 text-gray-700",children:h.logoutTime||"Active"})]})]}),o.jsx("div",{className:"text-sm",children:o.jsx(cn,{variant:"outline",className:"text-blue-600 border-blue-300",children:h.duration})})]},h.id))})]},d):null)})]},c))})})]})})}const VTt=()=>{const e=ds(),[t,r]=C.useState({totalCustomers:0,totalProducts:0,totalInvoices:0,totalChallans:0,todaysSales:0,pendingPayments:0,monthlyRevenue:0,yearlyGrowth:0,activeCustomers:0,topProducts:[],recentInvoices:[],pendingPaymentsList:[],monthlyData:[],customerGrowth:[]}),[n,i]=C.useState(!0),[s,a]=C.useState(new Date);C.useEffect(()=>{l();const u=setInterval(()=>{a(new Date)},1e3);return()=>clearInterval(u)},[]);const l=async()=>{try{i(!0);const u=new Date;u.setHours(0,0,0,0);const d=new Date;d.setDate(1),d.setHours(0,0,0,0);const h=new Date;h.setFullYear(h.getFullYear()-1);const g=(await Si(jr(Et,"customers"))).size,x=(await Si(jr(Et,"items"))).size,y=await Si(jr(Et,"invoices")),w=y.size,_=y.docs.map(V=>({id:V.id,...V.data()})),E=Ai(jr(Et,"invoices"),ia("createdAt","desc"),OM(5)),N=(await Si(E)).docs.map(V=>({id:V.id,...V.data()})),T=(await Si(jr(Et,"challans"))).size,k=_.filter(V=>{var ee;const q=(ee=V.createdAt)==null?void 0:ee.toDate();return q&&q>=u}).reduce((V,q)=>V+(q.grandTotal||0),0),O=_.filter(V=>{var ee;const q=(ee=V.createdAt)==null?void 0:ee.toDate();return q&&q>=d}).reduce((V,q)=>V+(q.grandTotal||0),0),H=_.filter(V=>{var ee;const q=(ee=V.createdAt)==null?void 0:ee.toDate();return q&&q>=h}).reduce((V,q)=>V+(q.grandTotal||0),0),K=H>0?(O*12-H)/H*100:0,Y=_.filter(V=>(V.grandTotal||0)-(V.receivedAmount||0)>0).slice(0,5),ne=Y.reduce((V,q)=>{const ee=(q.grandTotal||0)-(q.receivedAmount||0);return V+ee},0),le=new Date;le.setDate(le.getDate()-30);const te=new Set(_.filter(V=>{var ee;const q=(ee=V.createdAt)==null?void 0:ee.toDate();return q&&q>=le}).map(V=>{var q;return(q=V.billTo)==null?void 0:q.name})).size,X=[];for(let V=5;V>=0;V--){const q=new Date;q.setMonth(q.getMonth()-V),q.setDate(1),q.setHours(0,0,0,0);const ee=new Date(q);ee.setMonth(ee.getMonth()+1);const re=_.filter(Ae=>{var ye;const _e=(ye=Ae.createdAt)==null?void 0:ye.toDate();return _e&&_e>=q&&_e<ee}),de=re.reduce((Ae,_e)=>Ae+(_e.grandTotal||0),0);X.push({month:q.toLocaleDateString("en-IN",{month:"short"}),revenue:de,invoices:re.length})}const ue={};_.forEach(V=>{V.items&&V.items.forEach(q=>{const ee=q.itemName||"Unknown Product";ue[ee]||(ue[ee]={name:ee,quantity:0,revenue:0}),ue[ee].quantity+=q.quantity||0,ue[ee].revenue+=(q.quantity||0)*(q.pricePerUnit||0)})});const ve=Object.values(ue).sort((V,q)=>q.revenue-V.revenue).slice(0,5);r({totalCustomers:g,totalProducts:x,totalInvoices:w,totalChallans:T,todaysSales:k,pendingPayments:ne,monthlyRevenue:O,yearlyGrowth:K,activeCustomers:te,topProducts:ve,recentInvoices:N,pendingPaymentsList:Y,monthlyData:X,customerGrowth:[]})}catch(u){console.error("Error fetching dashboard stats:",u)}finally{i(!1)}},c=[{title:"Total Customers",value:t.totalCustomers,icon:fh,gradient:"linear-gradient(135deg, #667EEA 0%, #764BA2 100%)",color:"#667EEA",change:`+${(t.activeCustomers/Math.max(t.totalCustomers,1)*100).toFixed(1)}%`,isPositive:!0,subtitle:`${t.activeCustomers} active this month`},{title:"Total Products",value:t.totalProducts,icon:Fo,gradient:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"#f093fb",change:"+8.2%",isPositive:!0,subtitle:`${t.topProducts.length} top sellers`},{title:"Total Invoices",value:t.totalInvoices,icon:ja,gradient:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",color:"#4facfe",change:"+15.3%",isPositive:!0,subtitle:`${t.monthlyData.reduce((u,d)=>u+d.invoices,0)} this month`},{title:"Monthly Revenue",value:`${t.monthlyRevenue.toLocaleString("en-IN")}`,icon:LF,gradient:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)",color:"#43e97b",change:`+${t.yearlyGrowth.toFixed(1)}%`,isPositive:t.yearlyGrowth>0,subtitle:"Year over year growth"},{title:"Today's Sales",value:`${t.todaysSales.toLocaleString("en-IN")}`,icon:kx,gradient:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",color:"#fa709a",change:"+18.4%",isPositive:!0,subtitle:"Daily performance"},{title:"Pending Payments",value:`${t.pendingPayments.toLocaleString("en-IN")}`,icon:Z0,gradient:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",color:"#ff6b9d",change:"-3.2%",isPositive:!1,subtitle:`${t.pendingPaymentsList.length} pending invoices`}];return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:"linear-gradient(135deg, #F5F9FF 0%, #EBF2FA 100%)"},children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"body-text text-lg",children:"Loading dashboard..."})]})}):o.jsxs("div",{className:"min-h-screen",style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 50%, #cbd5e1 100%)",position:"relative",overflow:"hidden"},children:[o.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-white/40 rounded-full blur-3xl animate-pulse"}),o.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-100/30 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),o.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gray-100/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"4s"}}),o.jsx("div",{className:"absolute top-20 left-20 w-3 h-3 bg-white/60 rounded-full animate-bounce shadow-lg",style:{animationDelay:"1s",animationDuration:"4s"}}),o.jsx("div",{className:"absolute top-40 right-32 w-2 h-2 bg-blue-200/70 rounded-full animate-bounce shadow-md",style:{animationDelay:"2s",animationDuration:"3s"}}),o.jsx("div",{className:"absolute bottom-32 left-40 w-4 h-4 bg-gray-200/50 rounded-full animate-bounce shadow-lg",style:{animationDelay:"3s",animationDuration:"5s"}}),o.jsx("div",{className:"absolute bottom-20 right-20 w-3 h-3 bg-white/70 rounded-full animate-bounce shadow-md",style:{animationDelay:"0.5s",animationDuration:"3.5s"}})]}),o.jsx("div",{className:"absolute top-8 right-8 z-10",children:o.jsxs("div",{className:"relative group",children:[o.jsx("div",{className:"absolute inset-0 bg-white/30 rounded-2xl blur-xl animate-pulse group-hover:blur-2xl transition-all duration-300 shadow-2xl"}),o.jsx("div",{className:"relative bg-white/80 backdrop-blur-lg rounded-2xl p-4 border border-white/60 hover:border-blue-200/80 transition-all duration-300 hover:transform hover:scale-110 shadow-xl",children:o.jsx("img",{src:"/Shree Datta Enterprises_LOGO 1.png",alt:"Shree Datta Enterprises",className:"w-16 h-16 object-contain animate-pulse hover:animate-spin",style:{animationDuration:"2s",filter:"drop-shadow(0 0 15px rgba(59, 130, 246, 0.3))"}})}),o.jsxs("div",{className:"absolute -inset-4",children:[o.jsx("div",{className:"absolute top-0 left-1/2 w-3 h-3 bg-blue-400/70 rounded-full animate-spin shadow-lg",style:{animationDuration:"8s",transformOrigin:"0 40px"}}),o.jsx("div",{className:"absolute top-1/2 right-0 w-2 h-2 bg-purple-400/70 rounded-full animate-spin shadow-md",style:{animationDuration:"6s",transformOrigin:"-40px 0"}}),o.jsx("div",{className:"absolute bottom-0 left-1/2 w-2.5 h-2.5 bg-cyan-400/70 rounded-full animate-spin shadow-lg",style:{animationDuration:"10s",transformOrigin:"0 -40px"}})]})]})}),o.jsxs("div",{className:"relative z-10 p-8 max-w-7xl mx-auto",children:[o.jsx("div",{className:"mb-12 text-center",style:{animation:"fadeIn 0.6s ease-out"},children:o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-5xl font-bold mb-4 drop-shadow-lg bg-gradient-to-r from-gray-800 to-blue-600 bg-clip-text text-transparent",children:"SHREE DATTA ENTERPRISES"}),o.jsx("p",{className:"text-xl text-gray-700 mb-6",children:"Real-time Analytics & Business Intelligence for Shree Datta Enterprises"}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-6",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/70 backdrop-blur-lg rounded-full px-6 py-3 border border-white/80 hover:border-blue-200/80 transition-all duration-300 shadow-lg",children:[o.jsx(Iie,{className:"h-5 w-5 text-blue-600 animate-pulse"}),o.jsx("span",{className:"text-gray-800 font-medium",children:s.toLocaleDateString("en-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),o.jsx("span",{className:"text-gray-500",children:""}),o.jsx("span",{className:"text-gray-800 font-mono text-lg",children:s.toLocaleTimeString("en-IN")})]}),o.jsxs("div",{className:"inline-flex items-center gap-2 bg-green-100/80 backdrop-blur-lg rounded-full px-4 py-2 border border-green-200/80 shadow-md",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),o.jsx("span",{className:"text-green-700 font-medium text-sm",children:"System Online"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 max-w-2xl mx-auto",children:[o.jsxs("div",{className:"bg-white/70 backdrop-blur-lg rounded-xl p-4 border border-white/80 shadow-lg hover:shadow-xl transition-all duration-300",children:[o.jsxs("div",{className:"text-2xl font-bold text-gray-800",children:["",t.monthlyRevenue.toLocaleString("en-IN")]}),o.jsx("div",{className:"text-gray-600 text-sm",children:"Monthly Revenue"})]}),o.jsxs("div",{className:"bg-white/70 backdrop-blur-lg rounded-xl p-4 border border-white/80 shadow-lg hover:shadow-xl transition-all duration-300",children:[o.jsx("div",{className:"text-2xl font-bold text-gray-800",children:t.totalInvoices}),o.jsx("div",{className:"text-gray-600 text-sm",children:"Total Invoices"})]}),o.jsxs("div",{className:"bg-white/70 backdrop-blur-lg rounded-xl p-4 border border-white/80 shadow-lg hover:shadow-xl transition-all duration-300",children:[o.jsx("div",{className:"text-2xl font-bold text-gray-800",children:t.activeCustomers}),o.jsx("div",{className:"text-gray-600 text-sm",children:"Active Customers"})]})]})]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:c.map((u,d)=>o.jsxs("div",{className:"group relative",style:{animation:`fadeIn 0.6s ease-out ${d*.1}s both`},children:[o.jsx("div",{className:"absolute inset-0 bg-white/40 rounded-2xl blur-xl group-hover:blur-2xl transition-all duration-300 shadow-2xl"}),o.jsxs("div",{className:"relative bg-white/80 backdrop-blur-lg rounded-2xl p-6 border border-white/90 hover:border-blue-200/80 transition-all duration-300 hover:transform hover:scale-105 shadow-xl hover:shadow-2xl",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center shadow-lg",style:{background:u.gradient},children:o.jsx(u.icon,{className:"h-8 w-8 text-white"})}),o.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 rounded-full bg-white/60 backdrop-blur-sm shadow-md",children:[u.isPositive?o.jsx(VN,{className:"h-4 w-4 text-green-600"}):o.jsx(Bie,{className:"h-4 w-4 text-red-600"}),o.jsx("span",{className:`text-sm font-semibold ${u.isPositive?"text-green-600":"text-red-600"}`,children:u.change})]})]}),o.jsx("div",{className:"text-3xl font-bold text-gray-800 mb-2",children:typeof u.value=="number"?u.value.toLocaleString("en-IN"):u.value}),o.jsx("div",{className:"text-gray-700 font-medium mb-1",children:u.title}),o.jsx("div",{className:"text-gray-600 text-sm",children:u.subtitle})]})]},d))}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-12",children:[o.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl p-6 border border-white/90 hover:border-blue-200/80 transition-all duration-300 group shadow-xl hover:shadow-2xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2 group-hover:text-blue-600 transition-colors duration-300",children:"Monthly Revenue Chart"}),o.jsx("p",{className:"text-gray-600",children:"Last 6 months performance"}),o.jsxs("div",{className:"mt-2 text-sm text-green-600 font-semibold",children:["Total: ",t.monthlyData.reduce((u,d)=>u+d.revenue,0).toLocaleString("en-IN")]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(zN,{className:"h-6 w-6 text-gray-600 group-hover:text-blue-600 transition-colors duration-300"}),o.jsx("div",{className:"absolute -inset-2 bg-blue-400/20 rounded-full blur-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]}),o.jsxs("div",{className:"h-64 flex items-end justify-between gap-3 bg-gradient-to-t from-gray-50 to-white rounded-xl p-4 border border-gray-200/50 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 flex flex-col justify-between opacity-20 pointer-events-none",children:[...Array(5)].map((u,d)=>o.jsx("div",{className:"border-t border-gray-300"},d))}),(t.monthlyData.length>0?t.monthlyData:[{month:"Jul",revenue:15e3,invoices:12},{month:"Aug",revenue:22e3,invoices:18},{month:"Sep",revenue:18e3,invoices:15},{month:"Oct",revenue:28e3,invoices:22},{month:"Nov",revenue:35e3,invoices:28},{month:"Dec",revenue:42e3,invoices:32}]).map((u,d)=>{const h=Math.max(...(t.monthlyData.length>0?t.monthlyData:[{month:"Jul",revenue:15e3,invoices:12},{month:"Aug",revenue:22e3,invoices:18},{month:"Sep",revenue:18e3,invoices:15},{month:"Oct",revenue:28e3,invoices:22},{month:"Nov",revenue:35e3,invoices:28},{month:"Dec",revenue:42e3,invoices:32}]).map(v=>v.revenue)),A=h>0?Math.max(u.revenue/h*85,8):20,g=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4"];return o.jsxs("div",{className:"flex flex-col items-center flex-1 group/bar relative",children:[o.jsxs("div",{className:"relative w-full flex flex-col items-center h-full justify-end",children:[o.jsxs("div",{className:"absolute -top-10 bg-gray-800 text-white text-xs px-3 py-1 rounded-lg opacity-0 group-hover/bar:opacity-100 transition-all duration-200 whitespace-nowrap z-10 shadow-lg",children:[o.jsxs("div",{className:"font-semibold",children:["",u.revenue.toLocaleString("en-IN")]}),o.jsxs("div",{className:"text-gray-300 text-xs",children:[u.invoices," invoices"]}),o.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-full",children:o.jsx("div",{className:"w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800"})})]}),o.jsxs("div",{className:"w-full rounded-t-lg transition-all duration-1000 hover:scale-105 shadow-lg cursor-pointer relative overflow-hidden group-hover/bar:shadow-xl",style:{height:`${A}%`,background:`linear-gradient(to top, ${g[d%g.length]}, ${g[d%g.length]}80)`,animationDelay:`${d*.2}s`,minHeight:"12px"},children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 -translate-x-full group-hover/bar:translate-x-full transition-transform duration-1000"}),A>25&&o.jsxs("div",{className:"absolute top-2 left-1/2 transform -translate-x-1/2 text-white text-xs font-bold opacity-80",children:["",(u.revenue/1e3).toFixed(0),"k"]})]})]}),o.jsxs("div",{className:"mt-3 text-center",children:[o.jsx("div",{className:"text-sm font-semibold text-gray-700 group-hover/bar:text-blue-600 transition-colors duration-200",children:u.month}),o.jsxs("div",{className:"text-xs text-gray-500",children:[u.invoices," inv"]})]})]},d)})]})]}),o.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl p-6 border border-white/90 hover:border-blue-200/80 transition-all duration-300 group shadow-xl hover:shadow-2xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2 group-hover:text-blue-600 transition-colors duration-300",children:"Top Products Chart"}),o.jsx("p",{className:"text-gray-600",children:"Best selling items"}),o.jsxs("div",{className:"mt-2 text-sm text-green-600 font-semibold",children:["Total Revenue: ",t.topProducts.reduce((u,d)=>u+d.revenue,0).toLocaleString("en-IN")]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Ebe,{className:"h-6 w-6 text-gray-600 group-hover:text-yellow-500 transition-colors duration-300 group-hover:animate-pulse"}),o.jsx("div",{className:"absolute -inset-2 bg-yellow-400/20 rounded-full blur-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]}),o.jsx("div",{className:"flex items-center justify-center mb-6",children:o.jsxs("div",{className:"relative w-56 h-56",children:[o.jsx("div",{className:"absolute inset-0 rounded-full bg-gray-100/50 shadow-inner"}),o.jsx("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:(t.topProducts.length>0?t.topProducts:[{name:"Product A",revenue:25e3,quantity:150},{name:"Product B",revenue:18e3,quantity:120},{name:"Product C",revenue:15e3,quantity:90},{name:"Product D",revenue:12e3,quantity:80},{name:"Product E",revenue:8e3,quantity:60}]).slice(0,5).map((u,d)=>{const h=t.topProducts.length>0?t.topProducts:[{name:"Product A",revenue:25e3,quantity:150},{name:"Product B",revenue:18e3,quantity:120},{name:"Product C",revenue:15e3,quantity:90},{name:"Product D",revenue:12e3,quantity:80},{name:"Product E",revenue:8e3,quantity:60}],A=h.reduce((_,E)=>_+E.revenue,0),g=A>0?u.revenue/A*100:20,v=2*Math.PI*35,x=`${g/100*v} ${v}`,y=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"],w=h.slice(0,d).reduce((_,E)=>_+E.revenue/A*360,0);return o.jsxs("g",{children:[o.jsx("circle",{cx:"50",cy:"50",r:"37",fill:"none",stroke:"rgba(0,0,0,0.1)",strokeWidth:"6",strokeDasharray:x,strokeLinecap:"round",style:{transformOrigin:"50% 50%",transform:`rotate(${w+2}deg)`}}),o.jsx("circle",{cx:"50",cy:"50",r:"35",fill:"none",stroke:y[d],strokeWidth:"8",strokeDasharray:x,strokeLinecap:"round",className:"transition-all duration-1000 hover:stroke-width-10 cursor-pointer",style:{transformOrigin:"50% 50%",transform:`rotate(${w}deg)`,animationDelay:`${d*.3}s`,filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.1))"}})]},d)})}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsxs("div",{className:"text-center bg-white/80 backdrop-blur-sm rounded-full w-20 h-20 flex flex-col items-center justify-center shadow-lg",children:[o.jsx("div",{className:"text-xl font-bold text-gray-800",children:t.topProducts.length>0?t.topProducts.length:5}),o.jsx("div",{className:"text-xs text-gray-600",children:"Products"})]})})]})}),o.jsx("div",{className:"space-y-3",children:(t.topProducts.length>0?t.topProducts:[{name:"Product A",revenue:25e3,quantity:150},{name:"Product B",revenue:18e3,quantity:120},{name:"Product C",revenue:15e3,quantity:90},{name:"Product D",revenue:12e3,quantity:80},{name:"Product E",revenue:8e3,quantity:60}]).slice(0,5).map((u,d)=>{const h=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"],g=(t.topProducts.length>0?t.topProducts:[{name:"Product A",revenue:25e3,quantity:150},{name:"Product B",revenue:18e3,quantity:120},{name:"Product C",revenue:15e3,quantity:90},{name:"Product D",revenue:12e3,quantity:80},{name:"Product E",revenue:8e3,quantity:60}]).reduce((x,y)=>x+y.revenue,0),v=g>0?u.revenue/g*100:20;return o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-gray-50/80 to-white/50 rounded-xl hover:from-gray-100/80 hover:to-white/70 transition-all duration-300 shadow-sm hover:shadow-md border border-gray-100/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-5 h-5 rounded-full shadow-md border-2 border-white",style:{backgroundColor:h[d]}}),o.jsx("div",{className:"absolute inset-0 rounded-full animate-ping opacity-20",style:{backgroundColor:h[d]}})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-800 font-semibold text-sm",children:u.name}),o.jsxs("p",{className:"text-gray-600 text-xs",children:[u.quantity," units sold"]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("span",{className:"text-gray-800 font-bold text-sm",children:["",u.revenue.toLocaleString("en-IN")]}),o.jsxs("div",{className:"text-xs font-medium",style:{color:h[d]},children:[v.toFixed(1),"%"]})]})]},d)})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl p-6 border border-white/90 shadow-xl hover:shadow-2xl transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Recent Invoices"}),o.jsx("p",{className:"text-gray-600",children:"Latest billing activity"})]}),o.jsx("button",{onClick:()=>e("/billing/invoices"),className:"px-4 py-2 bg-blue-100/80 hover:bg-blue-200/80 rounded-lg text-blue-700 text-sm font-medium transition-all duration-200 shadow-md hover:shadow-lg",children:"View All"})]}),o.jsx("div",{className:"space-y-3",children:t.recentInvoices.slice(0,5).map((u,d)=>{var h,A;return o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50/50 rounded-xl hover:bg-gray-100/70 transition-all duration-200 cursor-pointer shadow-sm hover:shadow-md",onClick:()=>e(`/billing/invoice/create?id=${u.id}`),children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center shadow-md",children:o.jsx(ja,{className:"h-5 w-5 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-800 font-medium",children:u.invoiceNumber||`INV-${u.id.slice(-4)}`}),o.jsx("p",{className:"text-gray-600 text-sm",children:((h=u.billTo)==null?void 0:h.name)||"Customer"})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-gray-800 font-semibold",children:["",(u.grandTotal||0).toLocaleString("en-IN")]}),o.jsx("p",{className:"text-gray-500 text-xs",children:((A=u.createdAt)==null?void 0:A.toDate().toLocaleDateString("en-IN"))||"Recent"})]})]},u.id)})})]}),o.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl p-6 border border-white/90 shadow-xl hover:shadow-2xl transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Pending Payments"}),o.jsx("p",{className:"text-gray-600",children:"Outstanding invoices"})]}),o.jsx("button",{onClick:()=>e("/billing/payment-history"),className:"px-4 py-2 bg-orange-100/80 hover:bg-orange-200/80 rounded-lg text-orange-700 text-sm font-medium transition-all duration-200 shadow-md hover:shadow-lg",children:"View All"})]}),o.jsx("div",{className:"space-y-3",children:t.pendingPaymentsList.slice(0,5).map((u,d)=>{var A,g;const h=(u.grandTotal||0)-(u.receivedAmount||0);return o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50/50 rounded-xl hover:bg-gray-100/70 transition-all duration-200 cursor-pointer shadow-sm hover:shadow-md",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-red-500 rounded-xl flex items-center justify-center shadow-md",children:o.jsx(Z0,{className:"h-5 w-5 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-800 font-medium",children:u.invoiceNumber||`PAY-${u.id.slice(-4)}`}),o.jsx("p",{className:"text-gray-600 text-sm",children:((A=u.billTo)==null?void 0:A.name)||"Customer"})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-orange-600 font-semibold",children:["",h.toLocaleString("en-IN")]}),o.jsx("p",{className:"text-gray-500 text-xs",children:((g=u.createdAt)==null?void 0:g.toDate().toLocaleDateString("en-IN"))||"Pending"})]})]},u.id)})})]})]}),o.jsxs("div",{className:"mt-12 mb-8 bg-white/80 backdrop-blur-lg rounded-2xl p-6 border border-white/90 shadow-xl",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Business Performance Summary"}),o.jsx("p",{className:"text-gray-600",children:"Real-time insights powered by Firebase"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"text-center bg-green-50/50 rounded-xl p-4 border border-green-100/50 shadow-sm hover:shadow-md transition-all duration-300",children:[o.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-1",children:[t.yearlyGrowth>0?"+":"",t.yearlyGrowth.toFixed(1),"%"]}),o.jsx("div",{className:"text-gray-600 text-sm font-medium",children:"Growth Rate"}),o.jsx("div",{className:"w-full bg-green-100/50 rounded-full h-3 mt-2 overflow-hidden",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-emerald-500 rounded-full transition-all duration-1000 shadow-sm",style:{width:`${Math.min(Math.abs(t.yearlyGrowth),100)}%`}})})]}),o.jsxs("div",{className:"text-center bg-blue-50/50 rounded-xl p-4 border border-blue-100/50 shadow-sm hover:shadow-md transition-all duration-300",children:[o.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:[(t.activeCustomers/Math.max(t.totalCustomers,1)*100).toFixed(0),"%"]}),o.jsx("div",{className:"text-gray-600 text-sm font-medium",children:"Customer Activity"}),o.jsx("div",{className:"w-full bg-blue-100/50 rounded-full h-3 mt-2 overflow-hidden",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full transition-all duration-1000 shadow-sm",style:{width:`${t.activeCustomers/Math.max(t.totalCustomers,1)*100}%`}})})]}),o.jsxs("div",{className:"text-center bg-purple-50/50 rounded-xl p-4 border border-purple-100/50 shadow-sm hover:shadow-md transition-all duration-300",children:[o.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-1",children:["",(t.monthlyRevenue/Math.max(t.totalInvoices,1)).toLocaleString("en-IN",{maximumFractionDigits:0})]}),o.jsx("div",{className:"text-gray-600 text-sm font-medium",children:"Avg Invoice Value"}),o.jsx("div",{className:"w-full bg-purple-100/50 rounded-full h-3 mt-2 overflow-hidden",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 rounded-full transition-all duration-1000 w-3/4 shadow-sm"})})]}),o.jsxs("div",{className:"text-center bg-orange-50/50 rounded-xl p-4 border border-orange-100/50 shadow-sm hover:shadow-md transition-all duration-300",children:[o.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-1",children:t.pendingPaymentsList.length}),o.jsx("div",{className:"text-gray-600 text-sm font-medium",children:"Pending Payments"}),o.jsx("div",{className:"w-full bg-orange-100/50 rounded-full h-3 mt-2 overflow-hidden",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-orange-500 to-red-500 rounded-full transition-all duration-1000 shadow-sm",style:{width:`${Math.min(t.pendingPaymentsList.length/Math.max(t.totalInvoices,1)*100,100)}%`}})})]})]})]}),o.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl p-6 border border-white/90 shadow-xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Quick Actions"}),o.jsx("p",{className:"text-gray-600",children:"Streamline your workflow"})]}),o.jsxs("div",{className:"text-gray-500 text-sm bg-gray-100/50 px-3 py-1 rounded-full",children:["Last updated: ",s.toLocaleTimeString("en-IN")]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("button",{onClick:()=>e("/billing/invoice/create"),className:"group flex items-center justify-center gap-3 p-4 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 rounded-xl text-white font-medium transition-all duration-300 hover:transform hover:scale-105 shadow-lg hover:shadow-2xl relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-white/20 transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"}),o.jsx(ja,{className:"h-5 w-5 relative z-10"}),o.jsx("span",{className:"relative z-10",children:"Create Invoice"})]}),o.jsxs("button",{onClick:()=>e("/billing/challan/create"),className:"group flex items-center justify-center gap-3 p-4 bg-gradient-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 rounded-xl text-white font-medium transition-all duration-300 hover:transform hover:scale-105 shadow-lg hover:shadow-2xl relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-white/20 transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"}),o.jsx(hd,{className:"h-5 w-5 relative z-10"}),o.jsx("span",{className:"relative z-10",children:"Create Challan"})]}),o.jsxs("button",{onClick:()=>e("/billing/customers"),className:"group flex items-center justify-center gap-3 p-4 bg-gradient-to-r from-orange-500 to-pink-600 hover:from-orange-600 hover:to-pink-700 rounded-xl text-white font-medium transition-all duration-300 hover:transform hover:scale-105 shadow-lg hover:shadow-2xl relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-white/20 transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"}),o.jsx(fh,{className:"h-5 w-5 relative z-10"}),o.jsx("span",{className:"relative z-10",children:"Manage Customers"})]}),o.jsxs("button",{onClick:()=>e("/billing/products"),className:"group flex items-center justify-center gap-3 p-4 bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 rounded-xl text-white font-medium transition-all duration-300 hover:transform hover:scale-105 shadow-lg hover:shadow-2xl relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-white/20 transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"}),o.jsx(Fo,{className:"h-5 w-5 relative z-10"}),o.jsx("span",{className:"relative z-10",children:"Manage Products"})]})]})]})]})]})},zTt=()=>{const e=ds(),[t,r]=C.useState([]),[n,i]=C.useState([]),[s,a]=C.useState([]),[l,c]=C.useState(!0),[u,d]=C.useState(null),[h,A]=C.useState(!1),[g,v]=C.useState(!1);C.useEffect(()=>{const I=localStorage.getItem("userRole"),N=localStorage.getItem("isBillingUser")==="true";if(!(localStorage.getItem("isAuthenticated")==="true"&&(I==="superadmin"||I==="billing"||I==="billing_admin"||N))){console.log(" Unauthorized access to billing software, redirecting to billing login"),e("/billing-login");return}console.log(" Billing software access granted for:",I)},[e]);const[x,y]=C.useState(!0),[w,_]=C.useState({totalInvoices:0,totalChallans:0,totalPurchases:0,totalPendingAmount:0});C.useEffect(()=>{const I=vs(jr(Et,"invoices"),T=>{const P=[],k=[];let R=0;T.docs.forEach(O=>{var K,Y,ne,le;const M=O.data(),H=(M.grandTotal||0)-(M.receivedAmount||0);k.push({id:O.id,invoiceNumber:M.invoiceNumber||"N/A",billTo:M.billTo||{name:"Unknown"},grandTotal:M.grandTotal||0,receivedAmount:M.receivedAmount||0,balance:H,createdAt:M.createdAt}),H>0&&(R+=H,P.push({id:O.id,customerName:((K=M.billTo)==null?void 0:K.name)||"Unknown Customer",invoiceNumber:M.invoiceNumber||"N/A",totalAmount:M.grandTotal||0,receivedAmount:M.receivedAmount||0,balance:H,date:((le=(ne=(Y=M.createdAt)==null?void 0:Y.toDate)==null?void 0:ne.call(Y))==null?void 0:le.toLocaleDateString("en-IN"))||"N/A"}))}),k.sort((O,M)=>O.createdAt&&M.createdAt?M.createdAt.toMillis()-O.createdAt.toMillis():0),i(k),P.sort((O,M)=>M.balance-O.balance),r(P.slice(0,5)),_(O=>({...O,totalInvoices:T.size,totalPendingAmount:R})),c(!1)},T=>{console.error("Error fetching invoices:",T),c(!1)}),N=vs(jr(Et,"challans"),T=>{const P=[];T.docs.forEach(k=>{const R=k.data();P.push({id:k.id,challanNumber:R.challanNumber||"N/A",billTo:R.billTo||{name:"Unknown"},grandTotal:R.grandTotal||0,createdAt:R.createdAt})}),P.sort((k,R)=>k.createdAt&&R.createdAt?R.createdAt.toMillis()-k.createdAt.toMillis():0),a(P),_(k=>({...k,totalChallans:T.size}))},T=>{console.error("Error fetching challans:",T)}),j=vs(jr(Et,"purchases"),T=>{_(P=>({...P,totalPurchases:T.size}))},T=>{console.error("Error fetching purchases:",T)});return()=>{I(),N(),j()}},[]);const E=[{title:"Customers",description:"Manage customer information",icon:fh,path:"/billing/customers",color:"from-blue-500 to-blue-600"},{title:"Products",description:"Manage product inventory",icon:Fo,path:"/billing/products",color:"from-purple-500 to-purple-600"},{title:"Create Invoice",description:"Generate new invoices",icon:ja,path:"/billing/invoice/create",color:"from-green-500 to-green-600"},{title:"Delivery Challan",description:"Create delivery challans",icon:hd,path:"/billing/challan/create",color:"from-orange-500 to-orange-600"},{title:"Purchase Invoice",description:"Record purchases from suppliers",icon:fm,path:"/billing/purchase/create",color:"from-gray-500 to-gray-600"},{title:"Payment Receipts",description:"Track payment receipts",icon:ta,path:"/billing/payment-receipts",color:"from-pink-500 to-pink-600"},{title:"Payment History",description:"View customer payment records",icon:GN,path:"/billing/payment-history",color:"from-teal-500 to-teal-600"},{title:"Invoice Settings",description:"Configure invoice templates",icon:ja,path:"/billing/invoice-settings",color:"from-indigo-500 to-indigo-600"},{title:"Create Tipni",description:"Generate Marathi government notes",icon:ta,path:"/billing/tipni/create",color:"from-red-500 to-red-600"}];return o.jsx("div",{className:"min-h-screen p-6",style:{background:"linear-gradient(135deg, #F5F9FF 0%, #EBF2FA 100%)"},children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold mb-2",style:{color:"#1E293B"},children:"Billing Software"}),o.jsx("p",{style:{color:"#64748B"},children:"Manage your billing operations efficiently"})]}),o.jsx("div",{className:"max-w-4xl mx-auto mb-8",children:o.jsxs("div",{className:"rounded-xl p-6",style:{background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px) saturate(180%)",border:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},children:[o.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"#1E293B"},children:"Quick Actions"}),o.jsx("div",{className:"space-y-2",children:E.map(I=>{const N=I.icon;return o.jsxs("div",{onClick:()=>e(I.path),className:"flex items-center gap-3 p-3 rounded-lg transition-all duration-300 cursor-pointer group hover:translate-x-1",style:{border:"1px solid rgba(0, 0, 0, 0.05)",background:"rgba(255, 255, 255, 0.5)"},onMouseEnter:j=>{j.currentTarget.style.background="rgba(59, 130, 246, 0.05)",j.currentTarget.style.borderColor="rgba(59, 130, 246, 0.2)"},onMouseLeave:j=>{j.currentTarget.style.background="rgba(255, 255, 255, 0.5)",j.currentTarget.style.borderColor="rgba(0, 0, 0, 0.05)"},children:[o.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 bg-gradient-to-br ${I.color}`,children:o.jsx(N,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"text-sm font-semibold truncate",style:{color:"#1E293B"},children:I.title}),o.jsx("p",{className:"text-xs truncate",style:{color:"#64748B"},children:I.description})]}),o.jsx("svg",{className:"w-4 h-4 flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity",style:{color:"#3B82F6"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},I.path)})})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[o.jsxs("div",{onClick:()=>{A(!h),v(!1),y(!1)},className:"rounded-xl p-4 md:p-6 transition-all duration-300 hover:scale-105 cursor-pointer",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(40px) saturate(180%)",border:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.06)"},children:[o.jsxs("div",{className:"flex items-center gap-3 md:gap-4 mb-3 md:mb-4",children:[o.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 rounded-xl flex items-center justify-center flex-shrink-0",style:{background:"linear-gradient(135deg, #10B981, #059669)"},children:o.jsx(ja,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"text-xs md:text-sm truncate",style:{color:"#64748B"},children:"Saved Invoices"}),o.jsx("p",{className:"text-2xl md:text-3xl font-bold",style:{color:"#1E293B"},children:w.totalInvoices})]})]}),o.jsx("div",{className:"h-2 rounded-full",style:{background:"linear-gradient(90deg, #10B981, #059669)"}})]}),o.jsxs("div",{onClick:()=>{v(!g),A(!1),y(!1)},className:"rounded-xl p-4 md:p-6 transition-all duration-300 hover:scale-105 cursor-pointer",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(40px) saturate(180%)",border:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.06)"},children:[o.jsxs("div",{className:"flex items-center gap-3 md:gap-4 mb-3 md:mb-4",children:[o.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 rounded-xl flex items-center justify-center flex-shrink-0",style:{background:"linear-gradient(135deg, #F59E0B, #D97706)"},children:o.jsx(hd,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"text-xs md:text-sm truncate",style:{color:"#64748B"},children:"Delivery Challans"}),o.jsx("p",{className:"text-2xl md:text-3xl font-bold",style:{color:"#1E293B"},children:w.totalChallans})]})]}),o.jsx("div",{className:"h-2 rounded-full",style:{background:"linear-gradient(90deg, #F59E0B, #D97706)"}})]}),o.jsxs("div",{onClick:()=>{y(!x),A(!1),v(!1)},className:"rounded-xl p-4 md:p-6 transition-all duration-300 hover:scale-105 cursor-pointer",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(40px) saturate(180%)",border:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.06)"},children:[o.jsxs("div",{className:"flex items-center gap-3 md:gap-4 mb-3 md:mb-4",children:[o.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 rounded-xl flex items-center justify-center flex-shrink-0",style:{background:"linear-gradient(135deg, #EF4444, #DC2626)"},children:o.jsx(V4,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"text-xs md:text-sm truncate",style:{color:"#64748B"},children:"Pending Amount"}),o.jsxs("p",{className:"text-2xl md:text-3xl font-bold truncate",style:{color:"#EF4444"},children:["",w.totalPendingAmount.toLocaleString("en-IN")]})]})]}),o.jsx("div",{className:"h-2 rounded-full",style:{background:"linear-gradient(90deg, #EF4444, #DC2626)"}})]}),o.jsxs("div",{onClick:()=>e("/billing/purchases"),className:"rounded-xl p-4 md:p-6 transition-all duration-300 hover:scale-105 cursor-pointer",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(40px) saturate(180%)",border:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.06)"},children:[o.jsxs("div",{className:"flex items-center gap-3 md:gap-4 mb-3 md:mb-4",children:[o.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 rounded-xl flex items-center justify-center flex-shrink-0",style:{background:"linear-gradient(135deg, #8B5CF6, #7C3AED)"},children:o.jsx(fm,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"text-xs md:text-sm truncate",style:{color:"#64748B"},children:"Purchase History"}),o.jsx("p",{className:"text-2xl md:text-3xl font-bold",style:{color:"#1E293B"},children:w.totalPurchases})]})]}),o.jsx("div",{className:"h-2 rounded-full",style:{background:"linear-gradient(90deg, #8B5CF6, #7C3AED)"}})]})]}),h&&o.jsxs("div",{className:"rounded-xl p-6 mb-8",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(40px) saturate(180%)",border:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.06)"},children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{background:"linear-gradient(135deg, #10B981, #059669)"},children:o.jsx(ja,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",style:{color:"#1E293B"},children:"All Invoices"}),o.jsxs("p",{className:"text-sm",style:{color:"#64748B"},children:["Total: ",n.length," invoices"]})]})]}),o.jsx("button",{onClick:()=>A(!1),className:"px-4 py-2 rounded-lg font-semibold transition-all",style:{background:"rgba(16, 185, 129, 0.1)",color:"#10B981"},children:"Hide"})]}),o.jsx("div",{className:"space-y-3",children:n.map(I=>{var N,j,T;return o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between p-4 rounded-xl transition-all duration-300 hover:bg-white/50 gap-4",style:{border:"1px solid rgba(16, 185, 129, 0.2)"},children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-2",children:[o.jsx("h3",{className:"text-lg font-bold",style:{color:"#1E293B"},children:I.billTo.name}),o.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{background:"rgba(16, 185, 129, 0.1)",color:"#10B981"},children:["Invoice #",I.invoiceNumber]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{style:{color:"#64748B"},children:"Total Amount"}),o.jsxs("p",{className:"font-semibold",style:{color:"#1E293B"},children:["",I.grandTotal.toLocaleString("en-IN")]})]}),o.jsxs("div",{children:[o.jsx("p",{style:{color:"#64748B"},children:"Received"}),o.jsxs("p",{className:"font-semibold",style:{color:"#10B981"},children:["",I.receivedAmount.toLocaleString("en-IN")]})]}),o.jsxs("div",{children:[o.jsx("p",{style:{color:"#64748B"},children:"Date"}),o.jsx("p",{className:"font-semibold",style:{color:"#1E293B"},children:((T=(j=(N=I.createdAt)==null?void 0:N.toDate)==null?void 0:j.call(N))==null?void 0:T.toLocaleDateString("en-IN"))||"N/A"})]})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 md:ml-6",children:[o.jsxs("div",{className:"text-left sm:text-right",children:[o.jsx("p",{className:"text-sm mb-1",style:{color:"#64748B"},children:"Balance"}),o.jsxs("p",{className:"text-2xl font-bold",style:{color:I.balance>0?"#EF4444":"#10B981"},children:["",I.balance.toLocaleString("en-IN")]})]}),o.jsx("button",{onClick:()=>e(`/billing/invoice/create?id=${I.id}`),className:"px-4 py-2 rounded-lg font-semibold transition-all duration-300 hover:scale-105 w-full sm:w-auto",style:{background:"linear-gradient(135deg, #10B981, #059669)",color:"white",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},children:"View/Edit"})]})]},I.id)})})]}),g&&o.jsxs("div",{className:"rounded-xl p-6 mb-8",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(40px) saturate(180%)",border:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.06)"},children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{background:"linear-gradient(135deg, #F59E0B, #D97706)"},children:o.jsx(hd,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",style:{color:"#1E293B"},children:"All Delivery Challans"}),o.jsxs("p",{className:"text-sm",style:{color:"#64748B"},children:["Total: ",s.length," challans"]})]})]}),o.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 rounded-lg font-semibold transition-all",style:{background:"rgba(245, 158, 11, 0.1)",color:"#F59E0B"},children:"Hide"})]}),o.jsx("div",{className:"space-y-3",children:s.map(I=>{var N,j,T;return o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between p-4 rounded-xl transition-all duration-300 hover:bg-white/50 gap-4",style:{border:"1px solid rgba(245, 158, 11, 0.2)"},children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-2",children:[o.jsx("h3",{className:"text-lg font-bold",style:{color:"#1E293B"},children:I.billTo.name}),o.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{background:"rgba(245, 158, 11, 0.1)",color:"#F59E0B"},children:["Challan #",I.challanNumber]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{style:{color:"#64748B"},children:"Total Amount"}),o.jsxs("p",{className:"font-semibold",style:{color:"#1E293B"},children:["",I.grandTotal.toLocaleString("en-IN")]})]}),o.jsxs("div",{children:[o.jsx("p",{style:{color:"#64748B"},children:"Date"}),o.jsx("p",{className:"font-semibold",style:{color:"#1E293B"},children:((T=(j=(N=I.createdAt)==null?void 0:N.toDate)==null?void 0:j.call(N))==null?void 0:T.toLocaleDateString("en-IN"))||"N/A"})]})]})]}),o.jsx("div",{className:"flex items-center md:ml-6",children:o.jsx("button",{onClick:()=>e(`/billing/challan/create?id=${I.id}`),className:"px-4 py-2 rounded-lg font-semibold transition-all duration-300 hover:scale-105 w-full sm:w-auto",style:{background:"linear-gradient(135deg, #F59E0B, #D97706)",color:"white",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.3)"},children:"View/Edit"})})]},I.id)})})]}),x&&o.jsxs("div",{className:"rounded-xl p-6",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(40px) saturate(180%)",border:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.02)"},children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{background:"linear-gradient(135deg, #EF4444, #F97316)"},children:o.jsx(V4,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",style:{color:"#1E293B"},children:"Pending Payments"}),o.jsx("p",{className:"text-sm",style:{color:"#64748B"},children:"Customers with outstanding balance"})]})]}),l?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto"})}):t.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{style:{color:"#64748B"},children:"No pending payments found"})}):o.jsx("div",{className:"space-y-3",children:t.map(I=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl transition-all duration-300 hover:bg-white/50 cursor-pointer",style:{border:"1px solid rgba(239, 68, 68, 0.2)"},onClick:()=>d(u===I.id?null:I.id),children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u===I.id?o.jsx(DT,{className:"w-5 h-5",style:{color:"#EF4444"}}):o.jsx(gE,{className:"w-5 h-5",style:{color:"#64748B"}}),o.jsx("h3",{className:"text-lg font-bold",style:{color:"#1E293B"},children:I.customerName}),o.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{background:"rgba(239, 68, 68, 0.1)",color:"#EF4444"},children:["Invoice #",I.invoiceNumber]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{style:{color:"#64748B"},children:"Total Amount"}),o.jsxs("p",{className:"font-semibold",style:{color:"#1E293B"},children:["",I.totalAmount.toLocaleString("en-IN")]})]}),o.jsxs("div",{children:[o.jsx("p",{style:{color:"#64748B"},children:"Received"}),o.jsxs("p",{className:"font-semibold",style:{color:"#10B981"},children:["",I.receivedAmount.toLocaleString("en-IN")]})]}),o.jsxs("div",{children:[o.jsx("p",{style:{color:"#64748B"},children:"Date"}),o.jsx("p",{className:"font-semibold",style:{color:"#1E293B"},children:I.date})]})]})]}),o.jsxs("div",{className:"flex items-center gap-4 ml-6",onClick:N=>N.stopPropagation(),children:[o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm mb-1",style:{color:"#64748B"},children:"Balance Due"}),o.jsxs("p",{className:"text-2xl font-bold",style:{color:"#EF4444"},children:["",I.balance.toLocaleString("en-IN")]})]}),o.jsx("button",{onClick:N=>{N.stopPropagation(),e(`/billing/invoice/create?id=${I.id}`)},className:"px-4 py-2 rounded-lg font-semibold transition-all duration-300 hover:scale-105",style:{background:"linear-gradient(135deg, #3B82F6, #8B5CF6)",color:"white",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)"},children:"Edit Payment"})]})]}),u===I.id&&o.jsxs("div",{className:"mt-3 p-6 rounded-xl",style:{background:"rgba(239, 68, 68, 0.05)",border:"1px solid rgba(239, 68, 68, 0.1)"},children:[o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold mb-3",style:{color:"#1E293B"},children:"Payment Details"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between py-2",style:{borderBottom:"1px solid #E2E8F0"},children:[o.jsx("span",{style:{color:"#64748B"},children:"Invoice Number:"}),o.jsx("span",{className:"font-semibold",style:{color:"#1E293B"},children:I.invoiceNumber})]}),o.jsxs("div",{className:"flex justify-between py-2",style:{borderBottom:"1px solid #E2E8F0"},children:[o.jsx("span",{style:{color:"#64748B"},children:"Invoice Date:"}),o.jsx("span",{className:"font-semibold",style:{color:"#1E293B"},children:I.date})]}),o.jsxs("div",{className:"flex justify-between py-2",style:{borderBottom:"1px solid #E2E8F0"},children:[o.jsx("span",{style:{color:"#64748B"},children:"Customer:"}),o.jsx("span",{className:"font-semibold",style:{color:"#1E293B"},children:I.customerName})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold mb-3",style:{color:"#1E293B"},children:"Amount Breakdown"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between py-2",style:{borderBottom:"1px solid #E2E8F0"},children:[o.jsx("span",{style:{color:"#64748B"},children:"Total Amount:"}),o.jsxs("span",{className:"font-semibold",style:{color:"#1E293B"},children:["",I.totalAmount.toLocaleString("en-IN")]})]}),o.jsxs("div",{className:"flex justify-between py-2",style:{borderBottom:"1px solid #E2E8F0"},children:[o.jsx("span",{style:{color:"#10B981"},children:"Amount Received:"}),o.jsxs("span",{className:"font-semibold",style:{color:"#10B981"},children:["",I.receivedAmount.toLocaleString("en-IN")]})]}),o.jsxs("div",{className:"flex justify-between py-3",style:{borderTop:"2px solid #EF4444"},children:[o.jsx("span",{className:"font-bold",style:{color:"#EF4444"},children:"Balance Due:"}),o.jsxs("span",{className:"font-bold text-xl",style:{color:"#EF4444"},children:["",I.balance.toLocaleString("en-IN")]})]})]})]})]}),o.jsx("div",{className:"mt-4 p-4 rounded-lg",style:{background:"rgba(239, 68, 68, 0.1)"},children:o.jsxs("p",{className:"text-sm font-semibold",style:{color:"#EF4444"},children:[" Payment pending since ",I.date,". Please follow up with customer."]})})]})]},I.id))})]})]})})};function GTt(){const[e,t]=C.useState(""),[r,n]=C.useState(""),[i,s]=C.useState(!1),[a,l]=C.useState(""),[c,u]=C.useState(!1),d=ds(),h=async A=>{A.preventDefault(),l(""),u(!0);const v=[{email:"accounts@dattaenterprises.com",password:"billingpassword27",role:"billing",name:"Billing Software User"}].find(x=>x.email===e&&x.password===r);if(v){console.log(" Billing login successful:",v.email),localStorage.getItem("userRole")!=="superadmin"?(console.log(" BillingLogin: Clearing existing localStorage..."),localStorage.clear(),console.log(" localStorage cleared")):console.log(" Super Admin detected - preserving session"),localStorage.setItem("userRole",v.role),localStorage.setItem("userName",v.name),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("isAuthenticated","true"),localStorage.setItem("isBillingUser","true"),localStorage.setItem("loginTime",new Date().toISOString());const y=JSON.parse(localStorage.getItem("loginSessions")||"[]"),w={id:`billing_session_${Date.now()}`,role:v.role,name:v.name,loginTime:new Date().toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}),logoutTime:null,duration:"Active",date:new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"2-digit"}),type:"Billing Software"};y.unshift(w),y.length>50&&y.splice(50),localStorage.setItem("loginSessions",JSON.stringify(y)),window.dispatchEvent(new Event("authStateChanged")),setTimeout(()=>{u(!1),d("/billing/dashboard")},300)}else l("Invalid email or password for Billing Software"),u(!1)};return o.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative overflow-hidden overflow-y-auto",style:{background:"linear-gradient(180deg, #FAFBFC 0%, #F5F7FA 50%, #FAFBFC 100%)"},children:[o.jsx("div",{className:"parallax-blob parallax-blob-1"}),o.jsx("div",{className:"parallax-blob parallax-blob-2"}),o.jsx("div",{className:"parallax-blob parallax-blob-3"}),o.jsxs("div",{className:"animated-logo-bg",children:[o.jsx("div",{className:"logo-layer logo-1"}),o.jsx("div",{className:"logo-layer logo-2"}),o.jsx("div",{className:"logo-layer logo-3"}),o.jsx("div",{className:"logo-layer logo-4"})]}),o.jsxs(Sr,{className:"w-full max-w-md relative z-10 my-8",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(40px) saturate(180%)",border:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.02)"},children:[o.jsxs(fn,{className:"space-y-4 text-center",children:[o.jsx("div",{className:"flex justify-start mb-2",children:o.jsxs(et,{variant:"ghost",size:"sm",onClick:()=>d("/login"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-800",children:[o.jsx(go,{className:"h-4 w-4"}),"Back to Main Login"]})}),o.jsx("div",{className:"flex justify-center mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:"/superadmin/Screenshot 2025-12-02 181035.png",alt:"Shree Datta Enterprises",className:"h-20 w-auto object-contain",onError:A=>{A.currentTarget.src="/superadmin/Screenshot 2025-11-27 130112.png"}}),o.jsx("div",{className:"absolute -bottom-2 -right-2 bg-blue-500 rounded-full p-2",children:o.jsx(c$,{className:"h-4 w-4 text-white"})})]})}),o.jsx(hn,{className:"text-2xl font-bold",style:{color:"#1E293B"},children:"Billing Software"}),o.jsx(_n,{className:"text-base",style:{color:"#64748B"},children:"Enter your billing credentials to access the software"})]}),o.jsxs(Pr,{children:[o.jsxs("form",{onSubmit:h,className:"space-y-4",children:[a&&o.jsx(nH,{variant:"destructive",children:o.jsx(iH,{children:a})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xr,{htmlFor:"email",children:"Email"}),o.jsx(Or,{id:"email",type:"email",placeholder:"Enter billing email",value:e,onChange:A=>t(A.target.value),required:!0,disabled:c,className:"h-11"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xr,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Or,{id:"password",type:i?"text":"password",placeholder:"Enter billing password",value:r,onChange:A=>n(A.target.value),required:!0,disabled:c,className:"h-11 pr-10"}),o.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none",children:i?o.jsx(FA,{className:"h-5 w-5"}):o.jsx(Ec,{className:"h-5 w-5"})})]})]}),o.jsx(et,{type:"submit",className:"w-full h-11 text-base font-semibold",disabled:c,style:{background:"linear-gradient(135deg, #10B981 0%, #059669 100%)",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},children:c?o.jsxs(o.Fragment,{children:[o.jsx(uh,{className:"mr-2 h-5 w-5 animate-spin"}),"Accessing..."]}):o.jsxs(o.Fragment,{children:[o.jsx(c$,{className:"mr-2 h-5 w-5"}),"Access Billing Software"]})})]}),o.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[o.jsx("h4",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Billing Credentials:"}),o.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Email:"})," accounts@dattaenterprises.com"]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Password:"})," billingpassword27"]})]})]})]})]})]})}var fS={},WTt=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Y1e={},Hu={};let sH;const KTt=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Hu.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Hu.getSymbolTotalCodewords=function(t){return KTt[t]};Hu.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};Hu.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');sH=t};Hu.isKanjiModeEnabled=function(){return typeof sH<"u"};Hu.toSJIS=function(t){return sH(t)};var lk={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,i){if(e.isValid(n))return n;try{return t(n)}catch{return i}}})(lk);function Z1e(){this.buffer=[],this.length=0}Z1e.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var qTt=Z1e;function hS(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}hS.prototype.set=function(e,t,r,n){const i=e*this.size+t;this.data[i]=r,n&&(this.reservedBit[i]=!0)};hS.prototype.get=function(e,t){return this.data[e*this.size+t]};hS.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};hS.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var XTt=hS,J1e={};(function(e){const t=Hu.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,s=t(n),a=s===145?26:Math.ceil((s-13)/(2*i-2))*2,l=[s-7];for(let c=1;c<i-1;c++)l[c]=l[c-1]-a;return l.push(6),l.reverse()},e.getPositions=function(n){const i=[],s=e.getRowColCoords(n),a=s.length;for(let l=0;l<a;l++)for(let c=0;c<a;c++)l===0&&c===0||l===0&&c===a-1||l===a-1&&c===0||i.push([s[l],s[c]]);return i}})(J1e);var exe={};const YTt=Hu.getSymbolSize,cee=7;exe.getPositions=function(t){const r=YTt(t);return[[0,0],[r-cee,0],[0,r-cee]]};var txe={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const s=i.size;let a=0,l=0,c=0,u=null,d=null;for(let h=0;h<s;h++){l=c=0,u=d=null;for(let A=0;A<s;A++){let g=i.get(h,A);g===u?l++:(l>=5&&(a+=t.N1+(l-5)),u=g,l=1),g=i.get(A,h),g===d?c++:(c>=5&&(a+=t.N1+(c-5)),d=g,c=1)}l>=5&&(a+=t.N1+(l-5)),c>=5&&(a+=t.N1+(c-5))}return a},e.getPenaltyN2=function(i){const s=i.size;let a=0;for(let l=0;l<s-1;l++)for(let c=0;c<s-1;c++){const u=i.get(l,c)+i.get(l,c+1)+i.get(l+1,c)+i.get(l+1,c+1);(u===4||u===0)&&a++}return a*t.N2},e.getPenaltyN3=function(i){const s=i.size;let a=0,l=0,c=0;for(let u=0;u<s;u++){l=c=0;for(let d=0;d<s;d++)l=l<<1&2047|i.get(u,d),d>=10&&(l===1488||l===93)&&a++,c=c<<1&2047|i.get(d,u),d>=10&&(c===1488||c===93)&&a++}return a*t.N3},e.getPenaltyN4=function(i){let s=0;const a=i.data.length;for(let c=0;c<a;c++)s+=i.data[c];return Math.abs(Math.ceil(s*100/a/5)-10)*t.N4};function r(n,i,s){switch(n){case e.Patterns.PATTERN000:return(i+s)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return s%3===0;case e.Patterns.PATTERN011:return(i+s)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case e.Patterns.PATTERN101:return i*s%2+i*s%3===0;case e.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case e.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(i,s){const a=s.size;for(let l=0;l<a;l++)for(let c=0;c<a;c++)s.isReserved(c,l)||s.xor(c,l,r(i,c,l))},e.getBestMask=function(i,s){const a=Object.keys(e.Patterns).length;let l=0,c=1/0;for(let u=0;u<a;u++){s(u),e.applyMask(u,i);const d=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(u,i),d<c&&(c=d,l=u)}return l}})(txe);var ck={};const $0=lk,SN=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],CN=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];ck.getBlocksCount=function(t,r){switch(r){case $0.L:return SN[(t-1)*4+0];case $0.M:return SN[(t-1)*4+1];case $0.Q:return SN[(t-1)*4+2];case $0.H:return SN[(t-1)*4+3];default:return}};ck.getTotalCodewordsCount=function(t,r){switch(r){case $0.L:return CN[(t-1)*4+0];case $0.M:return CN[(t-1)*4+1];case $0.Q:return CN[(t-1)*4+2];case $0.H:return CN[(t-1)*4+3];default:return}};var rxe={},uk={};const hb=new Uint8Array(512),aT=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)hb[r]=t,aT[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)hb[r]=hb[r-255]})();uk.log=function(t){if(t<1)throw new Error("log("+t+")");return aT[t]};uk.exp=function(t){return hb[t]};uk.mul=function(t,r){return t===0||r===0?0:hb[aT[t]+aT[r]]};(function(e){const t=uk;e.mul=function(n,i){const s=new Uint8Array(n.length+i.length-1);for(let a=0;a<n.length;a++)for(let l=0;l<i.length;l++)s[a+l]^=t.mul(n[a],i[l]);return s},e.mod=function(n,i){let s=new Uint8Array(n);for(;s.length-i.length>=0;){const a=s[0];for(let c=0;c<i.length;c++)s[c]^=t.mul(i[c],a);let l=0;for(;l<s.length&&s[l]===0;)l++;s=s.slice(l)}return s},e.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let s=0;s<n;s++)i=e.mul(i,new Uint8Array([1,t.exp(s)]));return i}})(rxe);const nxe=rxe;function aH(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}aH.prototype.initialize=function(t){this.degree=t,this.genPoly=nxe.generateECPolynomial(this.degree)};aH.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(t.length+this.degree);r.set(t);const n=nxe.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(n,i),s}return n};var ZTt=aH,ixe={},Jp={},oH={};oH.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Nh={};const sxe="[0-9]+",JTt="[A-Z $%*+\\-./:]+";let iE="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";iE=iE.replace(/u/g,"\\u");const eBt="(?:(?![A-Z0-9 $%*+\\-./:]|"+iE+`)(?:.|[\r
]))+`;Nh.KANJI=new RegExp(iE,"g");Nh.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Nh.BYTE=new RegExp(eBt,"g");Nh.NUMERIC=new RegExp(sxe,"g");Nh.ALPHANUMERIC=new RegExp(JTt,"g");const tBt=new RegExp("^"+iE+"$"),rBt=new RegExp("^"+sxe+"$"),nBt=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Nh.testKanji=function(t){return tBt.test(t)};Nh.testNumeric=function(t){return rBt.test(t)};Nh.testAlphanumeric=function(t){return nBt.test(t)};(function(e){const t=oH,r=Nh;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(s,a){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!t.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?s.ccBits[0]:a<27?s.ccBits[1]:s.ccBits[2]},e.getBestModeForData=function(s){return r.testNumeric(s)?e.NUMERIC:r.testAlphanumeric(s)?e.ALPHANUMERIC:r.testKanji(s)?e.KANJI:e.BYTE},e.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},e.isValid=function(s){return s&&s.bit&&s.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(s,a){if(e.isValid(s))return s;try{return n(s)}catch{return a}}})(Jp);(function(e){const t=Hu,r=ck,n=lk,i=Jp,s=oH,a=7973,l=t.getBCHDigit(a);function c(A,g,v){for(let x=1;x<=40;x++)if(g<=e.getCapacity(x,v,A))return x}function u(A,g){return i.getCharCountIndicator(A,g)+4}function d(A,g){let v=0;return A.forEach(function(x){const y=u(x.mode,g);v+=y+x.getBitsLength()}),v}function h(A,g){for(let v=1;v<=40;v++)if(d(A,v)<=e.getCapacity(v,g,i.MIXED))return v}e.from=function(g,v){return s.isValid(g)?parseInt(g,10):v},e.getCapacity=function(g,v,x){if(!s.isValid(g))throw new Error("Invalid QR Code version");typeof x>"u"&&(x=i.BYTE);const y=t.getSymbolTotalCodewords(g),w=r.getTotalCodewordsCount(g,v),_=(y-w)*8;if(x===i.MIXED)return _;const E=_-u(x,g);switch(x){case i.NUMERIC:return Math.floor(E/10*3);case i.ALPHANUMERIC:return Math.floor(E/11*2);case i.KANJI:return Math.floor(E/13);case i.BYTE:default:return Math.floor(E/8)}},e.getBestVersionForData=function(g,v){let x;const y=n.from(v,n.M);if(Array.isArray(g)){if(g.length>1)return h(g,y);if(g.length===0)return 1;x=g[0]}else x=g;return c(x.mode,x.getLength(),y)},e.getEncodedBits=function(g){if(!s.isValid(g)||g<7)throw new Error("Invalid QR Code version");let v=g<<12;for(;t.getBCHDigit(v)-l>=0;)v^=a<<t.getBCHDigit(v)-l;return g<<12|v}})(ixe);var axe={};const vL=Hu,oxe=1335,iBt=21522,uee=vL.getBCHDigit(oxe);axe.getEncodedBits=function(t,r){const n=t.bit<<3|r;let i=n<<10;for(;vL.getBCHDigit(i)-uee>=0;)i^=oxe<<vL.getBCHDigit(i)-uee;return(n<<10|i)^iBt};var lxe={};const sBt=Jp;function hy(e){this.mode=sBt.NUMERIC,this.data=e.toString()}hy.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};hy.prototype.getLength=function(){return this.data.length};hy.prototype.getBitsLength=function(){return hy.getBitsLength(this.data.length)};hy.prototype.write=function(t){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),t.put(i,10);const s=this.data.length-r;s>0&&(n=this.data.substr(r),i=parseInt(n,10),t.put(i,s*3+1))};var aBt=hy;const oBt=Jp,BP=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ay(e){this.mode=oBt.ALPHANUMERIC,this.data=e}Ay.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Ay.prototype.getLength=function(){return this.data.length};Ay.prototype.getBitsLength=function(){return Ay.getBitsLength(this.data.length)};Ay.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let n=BP.indexOf(this.data[r])*45;n+=BP.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(BP.indexOf(this.data[r]),6)};var lBt=Ay;const cBt=Jp;function py(e){this.mode=cBt.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}py.getBitsLength=function(t){return t*8};py.prototype.getLength=function(){return this.data.length};py.prototype.getBitsLength=function(){return py.getBitsLength(this.data.length)};py.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var uBt=py;const dBt=Jp,fBt=Hu;function gy(e){this.mode=dBt.KANJI,this.data=e}gy.getBitsLength=function(t){return t*13};gy.prototype.getLength=function(){return this.data.length};gy.prototype.getBitsLength=function(){return gy.getBitsLength(this.data.length)};gy.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=fBt.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};var hBt=gy,cxe={exports:{}};(function(e){var t={single_source_shortest_paths:function(r,n,i){var s={},a={};a[n]=0;var l=t.PriorityQueue.make();l.push(n,0);for(var c,u,d,h,A,g,v,x,y;!l.empty();){c=l.pop(),u=c.value,h=c.cost,A=r[u]||{};for(d in A)A.hasOwnProperty(d)&&(g=A[d],v=h+g,x=a[d],y=typeof a[d]>"u",(y||x>v)&&(a[d]=v,l.push(d,v),s[d]=u))}if(typeof i<"u"&&typeof a[i]>"u"){var w=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(w)}return s},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],s=n;s;)i.push(s),r[s],s=r[s];return i.reverse(),i},find_path:function(r,n,i){var s=t.single_source_shortest_paths(r,n,i);return t.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,i={},s;r=r||{};for(s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(cxe);var ABt=cxe.exports;(function(e){const t=Jp,r=aBt,n=lBt,i=uBt,s=hBt,a=Nh,l=Hu,c=ABt;function u(w){return unescape(encodeURIComponent(w)).length}function d(w,_,E){const I=[];let N;for(;(N=w.exec(E))!==null;)I.push({data:N[0],index:N.index,mode:_,length:N[0].length});return I}function h(w){const _=d(a.NUMERIC,t.NUMERIC,w),E=d(a.ALPHANUMERIC,t.ALPHANUMERIC,w);let I,N;return l.isKanjiModeEnabled()?(I=d(a.BYTE,t.BYTE,w),N=d(a.KANJI,t.KANJI,w)):(I=d(a.BYTE_KANJI,t.BYTE,w),N=[]),_.concat(E,I,N).sort(function(T,P){return T.index-P.index}).map(function(T){return{data:T.data,mode:T.mode,length:T.length}})}function A(w,_){switch(_){case t.NUMERIC:return r.getBitsLength(w);case t.ALPHANUMERIC:return n.getBitsLength(w);case t.KANJI:return s.getBitsLength(w);case t.BYTE:return i.getBitsLength(w)}}function g(w){return w.reduce(function(_,E){const I=_.length-1>=0?_[_.length-1]:null;return I&&I.mode===E.mode?(_[_.length-1].data+=E.data,_):(_.push(E),_)},[])}function v(w){const _=[];for(let E=0;E<w.length;E++){const I=w[E];switch(I.mode){case t.NUMERIC:_.push([I,{data:I.data,mode:t.ALPHANUMERIC,length:I.length},{data:I.data,mode:t.BYTE,length:I.length}]);break;case t.ALPHANUMERIC:_.push([I,{data:I.data,mode:t.BYTE,length:I.length}]);break;case t.KANJI:_.push([I,{data:I.data,mode:t.BYTE,length:u(I.data)}]);break;case t.BYTE:_.push([{data:I.data,mode:t.BYTE,length:u(I.data)}])}}return _}function x(w,_){const E={},I={start:{}};let N=["start"];for(let j=0;j<w.length;j++){const T=w[j],P=[];for(let k=0;k<T.length;k++){const R=T[k],O=""+j+k;P.push(O),E[O]={node:R,lastCount:0},I[O]={};for(let M=0;M<N.length;M++){const H=N[M];E[H]&&E[H].node.mode===R.mode?(I[H][O]=A(E[H].lastCount+R.length,R.mode)-A(E[H].lastCount,R.mode),E[H].lastCount+=R.length):(E[H]&&(E[H].lastCount=R.length),I[H][O]=A(R.length,R.mode)+4+t.getCharCountIndicator(R.mode,_))}}N=P}for(let j=0;j<N.length;j++)I[N[j]].end=0;return{map:I,table:E}}function y(w,_){let E;const I=t.getBestModeForData(w);if(E=t.from(_,I),E!==t.BYTE&&E.bit<I.bit)throw new Error('"'+w+'" cannot be encoded with mode '+t.toString(E)+`.
 Suggested mode is: `+t.toString(I));switch(E===t.KANJI&&!l.isKanjiModeEnabled()&&(E=t.BYTE),E){case t.NUMERIC:return new r(w);case t.ALPHANUMERIC:return new n(w);case t.KANJI:return new s(w);case t.BYTE:return new i(w)}}e.fromArray=function(_){return _.reduce(function(E,I){return typeof I=="string"?E.push(y(I,null)):I.data&&E.push(y(I.data,I.mode)),E},[])},e.fromString=function(_,E){const I=h(_,l.isKanjiModeEnabled()),N=v(I),j=x(N,E),T=c.find_path(j.map,"start","end"),P=[];for(let k=1;k<T.length-1;k++)P.push(j.table[T[k]].node);return e.fromArray(g(P))},e.rawSplit=function(_){return e.fromArray(h(_,l.isKanjiModeEnabled()))}})(lxe);const dk=Hu,IP=lk,pBt=qTt,gBt=XTt,mBt=J1e,xBt=exe,yL=txe,wL=ck,vBt=ZTt,oT=ixe,yBt=axe,wBt=Jp,kP=lxe;function bBt(e,t){const r=e.size,n=xBt.getPositions(t);for(let i=0;i<n.length;i++){const s=n[i][0],a=n[i][1];for(let l=-1;l<=7;l++)if(!(s+l<=-1||r<=s+l))for(let c=-1;c<=7;c++)a+c<=-1||r<=a+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?e.set(s+l,a+c,!0,!0):e.set(s+l,a+c,!1,!0))}}function _Bt(e){const t=e.size;for(let r=8;r<t-8;r++){const n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function EBt(e,t){const r=mBt.getPositions(t);for(let n=0;n<r.length;n++){const i=r[n][0],s=r[n][1];for(let a=-2;a<=2;a++)for(let l=-2;l<=2;l++)a===-2||a===2||l===-2||l===2||a===0&&l===0?e.set(i+a,s+l,!0,!0):e.set(i+a,s+l,!1,!0)}}function SBt(e,t){const r=e.size,n=oT.getEncodedBits(t);let i,s,a;for(let l=0;l<18;l++)i=Math.floor(l/3),s=l%3+r-8-3,a=(n>>l&1)===1,e.set(i,s,a,!0),e.set(s,i,a,!0)}function jP(e,t,r){const n=e.size,i=yBt.getEncodedBits(t,r);let s,a;for(s=0;s<15;s++)a=(i>>s&1)===1,s<6?e.set(s,8,a,!0):s<8?e.set(s+1,8,a,!0):e.set(n-15+s,8,a,!0),s<8?e.set(8,n-s-1,a,!0):s<9?e.set(8,15-s-1+1,a,!0):e.set(8,15-s-1,a,!0);e.set(n-8,8,1,!0)}function CBt(e,t){const r=e.size;let n=-1,i=r-1,s=7,a=0;for(let l=r-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!e.isReserved(i,l-c)){let u=!1;a<t.length&&(u=(t[a]>>>s&1)===1),e.set(i,l-c,u),s--,s===-1&&(a++,s=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function NBt(e,t,r){const n=new pBt;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),wBt.getCharCountIndicator(c.mode,e)),c.write(n)});const i=dk.getSymbolTotalCodewords(e),s=wL.getTotalCodewordsCount(e,t),a=(i-s)*8;for(n.getLengthInBits()+4<=a&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const l=(a-n.getLengthInBits())/8;for(let c=0;c<l;c++)n.put(c%2?17:236,8);return TBt(n,e,t)}function TBt(e,t,r){const n=dk.getSymbolTotalCodewords(t),i=wL.getTotalCodewordsCount(t,r),s=n-i,a=wL.getBlocksCount(t,r),l=n%a,c=a-l,u=Math.floor(n/a),d=Math.floor(s/a),h=d+1,A=u-d,g=new vBt(A);let v=0;const x=new Array(a),y=new Array(a);let w=0;const _=new Uint8Array(e.buffer);for(let T=0;T<a;T++){const P=T<c?d:h;x[T]=_.slice(v,v+P),y[T]=g.encode(x[T]),v+=P,w=Math.max(w,P)}const E=new Uint8Array(n);let I=0,N,j;for(N=0;N<w;N++)for(j=0;j<a;j++)N<x[j].length&&(E[I++]=x[j][N]);for(N=0;N<A;N++)for(j=0;j<a;j++)E[I++]=y[j][N];return E}function BBt(e,t,r,n){let i;if(Array.isArray(e))i=kP.fromArray(e);else if(typeof e=="string"){let u=t;if(!u){const d=kP.rawSplit(e);u=oT.getBestVersionForData(d,r)}i=kP.fromString(e,u||40)}else throw new Error("Invalid data");const s=oT.getBestVersionForData(i,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=s;else if(t<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const a=NBt(t,r,i),l=dk.getSymbolSize(t),c=new gBt(l);return bBt(c,t),_Bt(c),EBt(c,t),jP(c,r,0),t>=7&&SBt(c,t),CBt(c,a),isNaN(n)&&(n=yL.getBestMask(c,jP.bind(null,c,r))),yL.applyMask(n,c),jP(c,r,n),{modules:c,version:t,errorCorrectionLevel:r,maskPattern:n,segments:i}}Y1e.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");let n=IP.M,i,s;return typeof r<"u"&&(n=IP.from(r.errorCorrectionLevel,IP.M),i=oT.from(r.version),s=yL.from(r.maskPattern),r.toSJISFunc&&dk.setToSJISFunction(r.toSJISFunc)),BBt(t,i,n,s)};var uxe={},lH={};(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,s=n.width&&n.width>=21?n.width:void 0,a=n.scale||4;return{width:s,scale:s?4:a,margin:i,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},e.getImageWidth=function(n,i){const s=e.getScale(n,i);return Math.floor((n+i.margin*2)*s)},e.qrToImageData=function(n,i,s){const a=i.modules.size,l=i.modules.data,c=e.getScale(a,s),u=Math.floor((a+s.margin*2)*c),d=s.margin*c,h=[s.color.light,s.color.dark];for(let A=0;A<u;A++)for(let g=0;g<u;g++){let v=(A*u+g)*4,x=s.color.light;if(A>=d&&g>=d&&A<u-d&&g<u-d){const y=Math.floor((A-d)/c),w=Math.floor((g-d)/c);x=h[l[y*a+w]?1:0]}n[v++]=x.r,n[v++]=x.g,n[v++]=x.b,n[v]=x.a}}})(lH);(function(e){const t=lH;function r(i,s,a){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=a,s.width=a,s.style.height=a+"px",s.style.width=a+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(s,a,l){let c=l,u=a;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),a||(u=n()),c=t.getOptions(c);const d=t.getImageWidth(s.modules.size,c),h=u.getContext("2d"),A=h.createImageData(d,d);return t.qrToImageData(A.data,s,c),r(h,u,d),h.putImageData(A,0,0),u},e.renderToDataURL=function(s,a,l){let c=l;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),c||(c={});const u=e.render(s,a,c),d=c.type||"image/png",h=c.rendererOpts||{};return u.toDataURL(d,h.quality)}})(uxe);var dxe={};const IBt=lH;function dee(e,t){const r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function PP(e,t,r){let n=e+t;return typeof r<"u"&&(n+=" "+r),n}function kBt(e,t,r){let n="",i=0,s=!1,a=0;for(let l=0;l<e.length;l++){const c=Math.floor(l%t),u=Math.floor(l/t);!c&&!s&&(s=!0),e[l]?(a++,l>0&&c>0&&e[l-1]||(n+=s?PP("M",c+r,.5+u+r):PP("m",i,0),i=0,s=!1),c+1<t&&e[l+1]||(n+=PP("h",a),a=0)):i++}return n}dxe.render=function(t,r,n){const i=IBt.getOptions(r),s=t.modules.size,a=t.modules.data,l=s+i.margin*2,c=i.color.light.a?"<path "+dee(i.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",u="<path "+dee(i.color.dark,"stroke")+' d="'+kBt(a,s,i.margin)+'"/>',d='viewBox="0 0 '+l+" "+l+'"',A='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+d+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof n=="function"&&n(null,A),A};const jBt=WTt,bL=Y1e,fxe=uxe,PBt=dxe;function cH(e,t,r,n,i){const s=[].slice.call(arguments,1),a=s.length,l=typeof s[a-1]=="function";if(!l&&!jBt())throw new Error("Callback required as last argument");if(l){if(a<2)throw new Error("Too few arguments provided");a===2?(i=r,r=t,t=n=void 0):a===3&&(t.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=t,t=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(r=t,t=n=void 0):a===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(c,u){try{const d=bL.create(r,n);c(e(d,t,n))}catch(d){u(d)}})}try{const c=bL.create(r,n);i(null,e(c,t,n))}catch(c){i(c)}}fS.create=bL.create;fS.toCanvas=cH.bind(null,fxe.render);fS.toDataURL=cH.bind(null,fxe.renderToDataURL);fS.toString=cH.bind(null,function(e,t,r){return PBt.render(e,r)});const Qh={name:"SHREE DATTA ENTERPRISES",address:"M NO278, A/P SHIRASHI, SANGLI, Sangli,",state:"MAHARASHTRA, 415408",phone:"9850127385",email:"SUNILVPATIL27@GMAIL.COM",gstin:"27AOJPP8472L2Z2",stateCode:"27-Maharashtra",bankName:"KOTAK MAHINDRA BANK LIMITED, SANGALI BRANCH",accountNo:"9850127385",ifsc:"KKBK0002046",accountHolder:"SHREE DATTA ENTERPRISES"},hxe=[{id:"kotak",name:"Kotak Mahindra Bank",upiId:"9850127385-2@ybl",bankName:"KOTAK MAHINDRA BANK LTD",accountNo:"9850127385",ifsc:"KKBK0002046",branchAddress:"RAM MANDIR-CIVIL HOSPITAL ROAD SANGLI"},{id:"gp_parshik",name:"GP Parshik Bank",upiId:"9850127385@paytm",bankName:"GP PARSHIK BANK LTD",accountNo:"123456789",ifsc:"GPBK0001234",branchAddress:"MAIN BRANCH SANGLI"}];let U1=[...hxe];const FBt=()=>{const e=C.useRef(null),[t]=WT(),r=ds(),n=t.get("id"),[i,s]=C.useState([]),[a,l]=C.useState(""),[c,u]=C.useState(""),[d,h]=C.useState(new Date().toISOString().split("T")[0]),[A,g]=C.useState(""),[v,x]=C.useState(""),[y,w]=C.useState(""),[_,E]=C.useState(""),[I,N]=C.useState(""),[j,T]=C.useState(""),[P,k]=C.useState(""),[R,O]=C.useState(0),[M,H]=C.useState("Cash"),[K,Y]=C.useState(""),[ne,le]=C.useState(""),[te,X]=C.useState(""),[ue,ve]=C.useState(""),[V,q]=C.useState("Thanks for doing business with us!"),[ee,re]=C.useState("kotak"),[de,Ae]=C.useState(""),[_e,ye]=C.useState("theme-simple-white"),[ce,Ne]=C.useState(!0),[oe,We]=C.useState(!1),[Re,z]=C.useState(!1);C.useEffect(()=>{const Ke=async()=>{try{const Ct=(await Si(jr(Et,"customers"))).docs.map($t=>({id:$t.id,...$t.data()}));s(Ct)}catch(gr){console.error("Error fetching customers:",gr)}},gt=async()=>{try{const Ct=(await Si(jr(Et,"bank_accounts"))).docs.map($t=>{const hr=$t.data();return{id:$t.id,name:hr.name||"",upiId:hr.upiId||"",bankName:hr.bankName||"",accountNo:hr.accountNo||"",ifsc:hr.ifsc||"",branchAddress:hr.branchAddress||""}});U1.length=0,U1.push(...hxe,...Ct)}catch(gr){console.error("Error fetching banks:",gr)}};Ke(),gt()},[]);const[Fe,He]=C.useState([]);C.useEffect(()=>{(async()=>{try{const gr=(await Si(jr(Et,"items"))).docs.map(Ct=>{const $t=Ct.data();return{id:Ct.id,itemName:$t.name||$t.itemName||"",hsnSac:$t.hsnSac||"",unit:$t.unit||"Kg",price:$t.price||$t.pricePerUnit||0,gstRate:$t.gstRate||18}});He(gr)}catch(gt){console.error("Error fetching products:",gt)}})()},[]),C.useEffect(()=>{(async()=>{var gt,gr,Ct,$t,hr,mr;if(n)try{const er=await ql(pn(Et,"invoices",n));if(er.exists()){const sr=er.data();u(sr.invoiceNumber||""),h(sr.invoiceDate||""),g(((gt=sr.billTo)==null?void 0:gt.name)||""),x(((gr=sr.billTo)==null?void 0:gr.address)||""),w(((Ct=sr.billTo)==null?void 0:Ct.contact)||""),E(sr.shipTo||""),N((($t=sr.transportation)==null?void 0:$t.vehicleNumber)||""),T(((hr=sr.transportation)==null?void 0:hr.deliveryDate)||""),k(((mr=sr.transportation)==null?void 0:mr.deliveryLocation)||""),O(sr.receivedAmount||0),H(sr.paymentMethod||"Cash"),Y(sr.bankName||""),le(sr.paymentDate||""),re(sr.selectedBankId||"kotak"),X(sr.clientBankName||""),ve(sr.paymentTime||""),q(sr.termsConditions||"Thanks for doing business with us!"),sr.items&&sr.items.length>0&&Ze(sr.items.map((Zt,br)=>({id:(br+1).toString(),itemName:Zt.itemName||"",hsnSac:Zt.hsnSac||"",quantity:Zt.quantity||1,unit:Zt.unit||"Kg",pricePerUnit:Zt.pricePerUnit||0,gstRate:Zt.gstRate||18})))}}catch(er){console.error("Error loading invoice:",er),alert("Failed to load invoice")}})()},[n]);const ke=Ke=>{l(Ke);const gt=i.find(gr=>gr.id===Ke);gt&&(g(gt.name),x(gt.address),w(gt.contactNo),E(gt.address))},[Te,Ze]=C.useState([{id:"1",itemName:"",hsnSac:"",quantity:1,unit:"Kg",pricePerUnit:0,gstRate:18}]),ze=()=>{Ze([...Te,{id:Date.now().toString(),itemName:"",hsnSac:"",quantity:1,unit:"Kg",pricePerUnit:0,gstRate:18}])},Tt=Ke=>{Te.length>1&&Ze(Te.filter(gt=>gt.id!==Ke))},Bt=(Ke,gt,gr)=>{Ze(Te.map(Ct=>Ct.id===Ke?{...Ct,[gt]:gr}:Ct))},mt=(Ke,gt)=>{const gr=Fe.find(Ct=>Ct.id===gt);gr?Ze(Te.map(Ct=>Ct.id===Ke?{...Ct,productId:gr.id,itemName:gr.itemName,hsnSac:gr.hsnSac,unit:gr.unit,pricePerUnit:gr.price,gstRate:gr.gstRate}:Ct)):Bt(Ke,"productId",gt)},_t=Ke=>(Number(Ke.quantity)||0)*(Number(Ke.pricePerUnit)||0),jt=Ke=>_t(Ke)*Ke.gstRate/100,or=Ke=>_t(Ke)+jt(Ke),St=()=>Te.reduce((Ke,gt)=>Ke+_t(gt),0),at=()=>Te.reduce((Ke,gt)=>Ke+jt(gt),0),Ut=()=>St()+at(),qt=()=>Ut()-(Number(R)||0),Er=Ke=>{const gt=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],gr=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],Ct=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"];if(Ke===0)return"Zero Rupees only";const $t=br=>br===0?"":br<10?gt[br]:br<20?Ct[br-10]:br<100?gr[Math.floor(br/10)]+(br%10!==0?" "+gt[br%10]:""):gt[Math.floor(br/100)]+" Hundred"+(br%100!==0?" "+$t(br%100):""),hr=Math.floor(Ke/1e7),mr=Math.floor(Ke%1e7/1e5),er=Math.floor(Ke%1e5/1e3),sr=Ke%1e3;let Zt="";return hr>0&&(Zt+=$t(hr)+" Crore "),mr>0&&(Zt+=$t(mr)+" Lakh "),er>0&&(Zt+=$t(er)+" Thousand "),sr>0&&(Zt+=$t(sr)),Zt.trim()+" Rupees only"};C.useEffect(()=>{(async()=>{const gt=U1.find($t=>$t.id===ee);if(!gt)return;const gr=Ut(),Ct=`upi://pay?pa=${gt.upiId}&pn=${encodeURIComponent(Qh.name)}&am=${gr.toFixed(2)}&cu=INR`;try{const $t=await fS.toDataURL(Ct,{width:200,margin:1,color:{dark:"#000000",light:"#FFFFFF"}});Ae($t)}catch($t){console.error("Error generating QR code:",$t)}})()},[ee,Te]);const Kt=async()=>{try{const Ke={invoiceNumber:c,invoiceDate:d,billTo:{name:A,address:v,contact:y},shipTo:_,transportation:{vehicleNumber:I,deliveryDate:j,deliveryLocation:P},items:Te.map(gt=>({itemName:gt.itemName,hsnSac:gt.hsnSac,quantity:Number(gt.quantity)||0,unit:gt.unit,pricePerUnit:Number(gt.pricePerUnit)||0,gstRate:gt.gstRate,total:or(gt)})),subtotal:St(),totalGST:at(),grandTotal:Ut(),receivedAmount:Number(R)||0,paymentMethod:M,...M==="UPI"&&{selectedBankId:ee,clientBankName:te,paymentTime:ue},bankName:M==="Bank"?K:"",paymentDate:ne,balance:qt(),termsConditions:V,updatedAt:Yi()};n?(await Ns(pn(Et,"invoices",n),Ke),alert("Invoice updated successfully!")):(await ka(jr(Et,"invoices"),{...Ke,createdAt:Yi()}),alert("Invoice saved successfully!"))}catch(Ke){console.error("Error saving invoice:",Ke),alert("Failed to save invoice")}},xt=()=>{const Ke=document.getElementById("invoice");if(!Ke){alert("Invoice not found. Please try again.");return}if(!ce&&!oe&&!Re){alert("Please select at least one copy to include in the PDF.");return}console.log("Starting PDF generation..."),console.log("Invoice element found:",Ke),console.log("Invoice dimensions:",Ke.offsetWidth,"x",Ke.offsetHeight),setTimeout(()=>{Ke.classList.add("pdf-rendering"),Ke.offsetHeight,Vc(Ke,{scale:3,useCORS:!0,backgroundColor:null,scrollX:0,scrollY:0,logging:!1,allowTaint:!0,foreignObjectRendering:!1,imageTimeout:15e3,removeContainer:!0,windowWidth:Ke.scrollWidth,windowHeight:Ke.scrollHeight,width:Ke.scrollWidth,height:Ke.scrollHeight}).then(gt=>{if(console.log("Canvas created successfully"),console.log("Canvas dimensions:",gt.width,"x",gt.height),gt.width===0||gt.height===0)throw new Error("Canvas has zero dimensions");const gr=gt.toDataURL("image/png",1);if(!gr||gr==="data:,")throw new Error("Failed to generate image data");console.log("Image data generated, length:",gr.length);const Ct=new Hr("p","mm","a4"),$t=210,hr=297,mr=$t-20,er=gt.height*mr/gt.width,sr=10,Zt=10;let br=0;ce&&(br>0&&Ct.addPage(),Ct.setFontSize(16),Ct.setTextColor(100,100,100),Ct.text("ORIGINAL COPY",$t/2,15,{align:"center"}),Ct.addImage(gr,"PNG",sr,Zt+5,mr,Math.min(er,hr-25)),br++),oe&&(br>0&&Ct.addPage(),Ct.setFontSize(16),Ct.setTextColor(100,100,100),Ct.text("DUPLICATE FOR TRANSPORTER",$t/2,15,{align:"center"}),Ct.addImage(gr,"PNG",sr,Zt+5,mr,Math.min(er,hr-25)),br++),Re&&(br>0&&Ct.addPage(),Ct.setFontSize(16),Ct.setTextColor(100,100,100),Ct.text("TRIPLICATE FOR SUPPLIER",$t/2,15,{align:"center"}),Ct.addImage(gr,"PNG",sr,Zt+5,mr,Math.min(er,hr-25)),br++),Ke.classList.remove("pdf-rendering"),console.log(`PDF created successfully with ${br} copies`),Ct.save(`Invoice_${c||Date.now()}_${br}copies.pdf`)}).catch(gt=>{console.error("Error generating PDF:",gt),console.log("Trying fallback PDF generation method..."),Vc(Ke,{scale:1,useCORS:!1,backgroundColor:"#ffffff",logging:!0,allowTaint:!0}).then(gr=>{console.log("Fallback canvas created");const Ct=gr.toDataURL("image/png"),$t=new Hr("p","mm","a4"),hr=190,mr=gr.height*hr/gr.width;let er=0;ce&&(er>0&&$t.addPage(),$t.setFontSize(16),$t.setTextColor(100,100,100),$t.text("ORIGINAL COPY",105,15,{align:"center"}),$t.addImage(Ct,"PNG",10,20,hr,mr),er++),oe&&(er>0&&$t.addPage(),$t.setFontSize(16),$t.setTextColor(100,100,100),$t.text("DUPLICATE FOR TRANSPORTER",105,15,{align:"center"}),$t.addImage(Ct,"PNG",10,20,hr,mr),er++),Re&&(er>0&&$t.addPage(),$t.setFontSize(16),$t.setTextColor(100,100,100),$t.text("TRIPLICATE FOR SUPPLIER",105,15,{align:"center"}),$t.addImage(Ct,"PNG",10,20,hr,mr),er++),$t.save(`Invoice_${c||Date.now()}_${er}copies.pdf`),Ke.classList.remove("pdf-rendering")}).catch(gr=>{console.error("Fallback PDF generation also failed:",gr),Ke.classList.remove("pdf-rendering"),alert(`PDF generation failed: ${gt.message}. Please try refreshing the page and try again.`)})})},100)},pr=()=>{if(!n){alert("Please save the invoice first before generating a payment receipt.");return}if(!A){alert("Customer information is required to generate a payment receipt.");return}r(`/billing/payment-receipt/create?invoiceId=${n}`)};return o.jsx("div",{className:"min-h-screen p-4 bg-gray-100",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Invoice Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Invoice Number *"}),o.jsx("input",{type:"text",value:c,onChange:Ke=>u(Ke.target.value),placeholder:"2025/NOV/109",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Invoice Date *"}),o.jsx("input",{type:"date",value:d,onChange:Ke=>h(Ke.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold mb-3",children:"Bill To:"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Select Customer"}),o.jsxs("select",{value:a,onChange:Ke=>ke(Ke.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Customer --"}),i.map(Ke=>o.jsx("option",{value:Ke.id,children:Ke.name},Ke.id))]})]}),o.jsx("input",{type:"text",value:A,onChange:Ke=>g(Ke.target.value),placeholder:"Customer Name",className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),o.jsx("textarea",{value:v,onChange:Ke=>x(Ke.target.value),placeholder:"Address",className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:2}),o.jsx("input",{type:"text",value:y,onChange:Ke=>w(Ke.target.value),placeholder:"Contact Number",className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold mb-3",children:"Ship To:"}),o.jsx("textarea",{value:_,onChange:Ke=>E(Ke.target.value),placeholder:"Shipping Address",className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:4})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsx("input",{type:"text",value:I,onChange:Ke=>N(Ke.target.value),placeholder:"Vehicle Number",className:"px-3 py-2 border border-gray-300 rounded-md"}),o.jsx("input",{type:"date",value:j,onChange:Ke=>T(Ke.target.value),placeholder:"Delivery Date",className:"px-3 py-2 border border-gray-300 rounded-md"}),o.jsx("input",{type:"text",value:P,onChange:Ke=>k(Ke.target.value),placeholder:"Delivery Location",className:"px-3 py-2 border border-gray-300 rounded-md"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("h3",{className:"text-lg font-bold",children:"Items"}),o.jsxs("button",{onClick:ze,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[o.jsx(dh,{className:"h-4 w-4"}),"Add Item"]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"border border-gray-300 px-2 py-2 text-sm",children:"#"}),o.jsx("th",{className:"border border-gray-300 px-2 py-2 text-sm",children:"Item Name"}),o.jsx("th",{className:"border border-gray-300 px-2 py-2 text-sm",children:"HSN/SAC"}),o.jsx("th",{className:"border border-gray-300 px-2 py-2 text-sm",children:"Qty"}),o.jsx("th",{className:"border border-gray-300 px-2 py-2 text-sm",children:"Unit"}),o.jsx("th",{className:"border border-gray-300 px-2 py-2 text-sm",children:"Price/Unit"}),o.jsx("th",{className:"border border-gray-300 px-2 py-2 text-sm",children:"GST%"}),o.jsx("th",{className:"border border-gray-300 px-2 py-2 text-sm",children:"Amount"}),o.jsx("th",{className:"border border-gray-300 px-2 py-2 text-sm",children:"Action"})]})}),o.jsx("tbody",{children:Te.map((Ke,gt)=>{var gr;return o.jsxs("tr",{children:[o.jsx("td",{className:"border border-gray-300 px-2 py-1 text-center",children:gt+1}),o.jsx("td",{className:"border border-gray-300 px-2 py-1",children:o.jsxs("select",{value:((gr=Te.find(Ct=>Ct.id===Ke.id))==null?void 0:gr.productId)||"",onChange:Ct=>mt(Ke.id,Ct.target.value),className:"w-full px-2 py-1 border-0 focus:outline-none",children:[o.jsx("option",{value:"",children:"Select Product..."}),Fe.map(Ct=>o.jsx("option",{value:Ct.id,children:Ct.itemName},Ct.id))]})}),o.jsx("td",{className:"border border-gray-300 px-2 py-1",children:o.jsx("input",{type:"text",value:Ke.hsnSac,onChange:Ct=>Bt(Ke.id,"hsnSac",Ct.target.value),className:"w-full px-2 py-1 border-0 focus:outline-none"})}),o.jsx("td",{className:"border border-gray-300 px-2 py-1",children:o.jsx("input",{type:"number",value:Ke.quantity,onChange:Ct=>Bt(Ke.id,"quantity",Ct.target.value),className:"w-20 px-2 py-1 border-0 focus:outline-none"})}),o.jsx("td",{className:"border border-gray-300 px-2 py-1",children:o.jsxs("select",{value:Ke.unit,onChange:Ct=>Bt(Ke.id,"unit",Ct.target.value),className:"w-full px-2 py-1 border-0 focus:outline-none",children:[o.jsx("option",{value:"Bag",children:"BAGS (Bag)"}),o.jsx("option",{value:"Btl",children:"BOTTLES (Btl)"}),o.jsx("option",{value:"Box",children:"BOX (Box)"}),o.jsx("option",{value:"Bdl",children:"BUNDLES (Bdl)"}),o.jsx("option",{value:"Can",children:"CANS (Can)"}),o.jsx("option",{value:"Ctn",children:"CARTONS (Ctn)"}),o.jsx("option",{value:"Dzn",children:"DOZENS (Dzn)"}),o.jsx("option",{value:"Gm",children:"GRAMMES (Gm)"}),o.jsx("option",{value:"Kg",children:"KILOGRAMS (Kg)"}),o.jsx("option",{value:"Ltr",children:"LITRE (Ltr)"}),o.jsx("option",{value:"Mtr",children:"METERS (Mtr)"}),o.jsx("option",{value:"Ml",children:"MILILITRE (Ml)"}),o.jsx("option",{value:"Nos",children:"NUMBERS (Nos)"}),o.jsx("option",{value:"Pac",children:"PACKS (Pac)"}),o.jsx("option",{value:"Prs",children:"PAIRS (Prs)"}),o.jsx("option",{value:"Pcs",children:"PIECES (Pcs)"}),o.jsx("option",{value:"Qtl",children:"QUINTAL (Qtl)"}),o.jsx("option",{value:"Rol",children:"ROLLS (Rol)"}),o.jsx("option",{value:"Sqf",children:"SQUARE FEET (Sqf)"})]})}),o.jsx("td",{className:"border border-gray-300 px-2 py-1",children:o.jsx("input",{type:"number",value:Ke.pricePerUnit,onChange:Ct=>Bt(Ke.id,"pricePerUnit",Ct.target.value),className:"w-24 px-2 py-1 border-0 focus:outline-none"})}),o.jsx("td",{className:"border border-gray-300 px-2 py-1",children:o.jsxs("select",{value:Ke.gstRate,onChange:Ct=>Bt(Ke.id,"gstRate",parseFloat(Ct.target.value)),className:"w-full px-2 py-1 border-0 focus:outline-none",children:[o.jsx("option",{value:"0",children:"0%"}),o.jsx("option",{value:"5",children:"5%"}),o.jsx("option",{value:"12",children:"12%"}),o.jsx("option",{value:"18",children:"18%"}),o.jsx("option",{value:"28",children:"28%"})]})}),o.jsxs("td",{className:"border border-gray-300 px-2 py-1 text-right font-semibold",children:["",or(Ke).toFixed(2)]}),o.jsx("td",{className:"border border-gray-300 px-2 py-1 text-center",children:o.jsx("button",{onClick:()=>Tt(Ke.id),className:"text-red-600 hover:text-red-800",disabled:Te.length===1,children:o.jsx(Sc,{className:"h-4 w-4"})})})]},Ke.id)})})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Received Amount ()"}),o.jsx("input",{type:"number",value:R,onChange:Ke=>O(Ke.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Payment Method"}),o.jsxs("select",{value:M,onChange:Ke=>H(Ke.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[o.jsx("option",{value:"Cash",children:"Cash"}),o.jsx("option",{value:"UPI",children:"UPI"})]})]})]}),M==="UPI"&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Select Our Bank (Receiving)"}),o.jsx("select",{value:ee,onChange:Ke=>re(Ke.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:U1.map(Ke=>o.jsx("option",{value:Ke.id,children:Ke.name},Ke.id))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Client's Bank Name"}),o.jsx("input",{type:"text",value:te,onChange:Ke=>X(Ke.target.value),placeholder:"Enter client's bank name",className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),M==="UPI"&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Payment Time"}),o.jsx("input",{type:"datetime-local",value:ue,onChange:Ke=>ve(Ke.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Terms & Conditions"}),o.jsx("textarea",{value:V,onChange:Ke=>q(Ke.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:3})]})]}),M==="Cash"&&o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Terms & Conditions"}),o.jsx("textarea",{value:V,onChange:Ke=>q(Ke.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:3})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-md font-semibold mb-3",children:"Select which copies to include in the PDF"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:ce,onChange:Ke=>Ne(Ke.target.checked),className:"w-5 h-5 text-blue-600 border-2 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("span",{className:"text-lg font-medium",children:"Original Copy"})]}),o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:oe,onChange:Ke=>We(Ke.target.checked),className:"w-5 h-5 text-blue-600 border-2 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("span",{className:"text-lg font-medium",children:"Duplicate for Transporter"})]}),o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:Re,onChange:Ke=>z(Ke.target.checked),className:"w-5 h-5 text-blue-600 border-2 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("span",{className:"text-lg font-medium",children:"Triplicate for Supplier"})]})]})]}),o.jsxs("div",{className:"flex gap-4 flex-wrap",children:[o.jsxs("button",{onClick:Kt,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:[o.jsx(mE,{className:"h-4 w-4"}),"Save Invoice"]}),o.jsxs("button",{onClick:xt,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[o.jsx(na,{className:"h-4 w-4"}),"Download PDF (",[ce&&"Original",oe&&"Duplicate",Re&&"Triplicate"].filter(Boolean).length," copies)"]}),n&&o.jsxs("button",{onClick:pr,className:"flex items-center gap-2 px-6 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:[o.jsx(ja,{className:"h-4 w-4"}),"Generate Payment Receipt"]})]})]}),o.jsx("div",{id:"invoice",ref:e,className:_e,style:{width:"210mm",minHeight:"297mm",fontFamily:"Calibri, Arial, sans-serif",fontSize:"12px",lineHeight:"1.4",position:"relative",background:"#FFFFFF",margin:"0 auto",padding:"20px",boxSizing:"border-box",overflow:"hidden",border:"none",display:"block",visibility:"visible",opacity:1,transform:"scale(1)",transformOrigin:"top center",pageBreakInside:"avoid"},children:o.jsxs("div",{className:"invoice-container",children:[o.jsxs("div",{className:"invoice-header",style:{background:"#ffffff",borderBottom:"2px solid #000000",padding:"15px 0",marginBottom:"20px",display:"flex",alignItems:"center",gap:"15px"},children:[o.jsx("img",{src:"/Shree Datta Enterprises_LOGO 1.png",alt:"Company Logo",crossOrigin:"anonymous",className:"company-logo",style:{width:"100px",height:"100px",objectFit:"contain",background:"transparent",border:"none",display:"block"}}),o.jsxs("div",{style:{flex:1},children:[o.jsx("h1",{style:{fontSize:"24px",fontWeight:"900",color:"#000000",letterSpacing:"1px",textTransform:"uppercase",margin:"0 0 10px 0",lineHeight:"1.2"},children:Qh.name}),o.jsxs("div",{style:{fontSize:"12px",lineHeight:"1.4",marginBottom:"5px"},children:[Qh.address,o.jsx("br",{}),Qh.state]}),o.jsxs("div",{style:{fontSize:"11px",lineHeight:"1.3"},children:[o.jsxs("div",{children:["Phone: ",Qh.phone]}),o.jsxs("div",{children:["Email: ",Qh.email]}),o.jsxs("div",{children:["GSTIN: ",Qh.gstin]})]})]}),o.jsx("div",{style:{textAlign:"center",fontSize:"18px",fontWeight:"bold",padding:"10px 20px",border:"2px solid #000000",backgroundColor:"#f8f9fa"},children:"Tax Invoice"})]}),o.jsxs("div",{className:"details-section",style:{display:"grid",gridTemplateColumns:"1fr 1fr",marginBottom:"20px",border:"1px solid #000000"},children:[o.jsxs("div",{className:"bill-to-section",style:{padding:"12px",borderRight:"1px solid #000000"},children:[o.jsx("div",{className:"section-label",style:{fontWeight:"bold",fontSize:"12px",background:"#f0f0f0",padding:"4px 8px",border:"1px solid #000000",marginBottom:"8px"},children:"Bill To:"}),o.jsx("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:A}),o.jsx("div",{style:{marginBottom:"4px"},children:v}),o.jsxs("div",{children:["Contact: ",y]})]}),o.jsxs("div",{className:"invoice-details-section",style:{padding:"12px"},children:[o.jsx("div",{className:"section-label",style:{fontWeight:"bold",fontSize:"12px",background:"#f0f0f0",padding:"4px 8px",border:"1px solid #000000",marginBottom:"8px"},children:"Invoice Details:"}),o.jsxs("div",{style:{marginBottom:"4px"},children:[o.jsx("strong",{children:"Invoice No:"})," ",c]}),o.jsxs("div",{style:{marginBottom:"4px"},children:[o.jsx("strong",{children:"Date:"})," ",new Date(d).toLocaleDateString("en-GB")]})]})]}),o.jsxs("div",{className:"shipping-transport-section",style:{display:"grid",gridTemplateColumns:"1fr 1fr",marginBottom:"20px",border:"1px solid #000000"},children:[o.jsxs("div",{className:"ship-to-section",style:{padding:"12px",borderRight:"1px solid #000000"},children:[o.jsx("div",{className:"section-label",style:{fontWeight:"bold",fontSize:"12px",background:"#f0f0f0",padding:"4px 8px",border:"1px solid #000000",marginBottom:"8px"},children:"Ship To:"}),o.jsx("div",{children:_})]}),o.jsxs("div",{className:"transport-section",style:{padding:"12px"},children:[o.jsx("div",{className:"section-label",style:{fontWeight:"bold",fontSize:"12px",background:"#f0f0f0",padding:"4px 8px",border:"1px solid #000000",marginBottom:"8px"},children:"Transportation:"}),o.jsxs("div",{style:{marginBottom:"4px"},children:[o.jsx("strong",{children:"Vehicle:"})," ",I]}),o.jsxs("div",{style:{marginBottom:"4px"},children:[o.jsx("strong",{children:"Delivery Date:"})," ",j]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Location:"})," ",P]})]})]}),o.jsxs("table",{className:"items-table",style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px",border:"1px solid #000000"},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{background:"#f8f9fa"},children:[o.jsx("th",{style:{border:"1px solid #000000",padding:"8px 4px",fontSize:"11px",textAlign:"center"},children:"#"}),o.jsx("th",{style:{border:"1px solid #000000",padding:"8px 4px",fontSize:"11px",textAlign:"left"},children:"Item name"}),o.jsx("th",{style:{border:"1px solid #000000",padding:"8px 4px",fontSize:"11px",textAlign:"center"},children:"HSN/SAC"}),o.jsx("th",{style:{border:"1px solid #000000",padding:"8px 4px",fontSize:"11px",textAlign:"center"},children:"Qty"}),o.jsx("th",{style:{border:"1px solid #000000",padding:"8px 4px",fontSize:"11px",textAlign:"center"},children:"Unit"}),o.jsx("th",{style:{border:"1px solid #000000",padding:"8px 4px",fontSize:"11px",textAlign:"right"},children:"Price/Unit()"}),o.jsx("th",{style:{border:"1px solid #000000",padding:"8px 4px",fontSize:"11px",textAlign:"right"},children:"GST()"}),o.jsx("th",{style:{border:"1px solid #000000",padding:"8px 4px",fontSize:"11px",textAlign:"right"},children:"Amount()"})]})}),o.jsx("tbody",{children:Te.map((Ke,gt)=>o.jsxs("tr",{children:[o.jsx("td",{style:{border:"1px solid #000000",padding:"6px 4px",textAlign:"center",fontSize:"10px"},children:gt+1}),o.jsx("td",{style:{border:"1px solid #000000",padding:"6px 4px",fontSize:"10px",textAlign:"left"},children:Ke.itemName}),o.jsx("td",{style:{border:"1px solid #000000",padding:"6px 4px",fontSize:"10px",textAlign:"center"},children:Ke.hsnSac}),o.jsx("td",{style:{border:"1px solid #000000",padding:"6px 4px",fontSize:"10px",textAlign:"center"},children:Ke.quantity}),o.jsx("td",{style:{border:"1px solid #000000",padding:"6px 4px",fontSize:"10px",textAlign:"center"},children:Ke.unit}),o.jsxs("td",{style:{border:"1px solid #000000",padding:"6px 4px",fontSize:"10px",textAlign:"right"},children:[" ",Number(Ke.pricePerUnit).toFixed(2)]}),o.jsxs("td",{style:{border:"1px solid #000000",padding:"6px 4px",fontSize:"10px",textAlign:"right"},children:[" ",jt(Ke).toFixed(2)," (",Ke.gstRate,"%)"]}),o.jsxs("td",{style:{border:"1px solid #000000",padding:"6px 4px",fontSize:"10px",textAlign:"right"},children:[" ",or(Ke).toFixed(2)]})]},Ke.id))})]}),o.jsxs("div",{style:{display:"flex",marginBottom:"20px"},children:[o.jsxs("div",{style:{flex:"1",border:"1px solid #000000",borderRight:"none"},children:[o.jsx("div",{style:{fontWeight:"bold",padding:"6px",borderBottom:"1px solid #000000",background:"#f8f9fa",fontSize:"11px"},children:"Tax Summary:"}),o.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"9px"},children:[o.jsxs("thead",{children:[o.jsxs("tr",{children:[o.jsx("th",{rowSpan:2,style:{border:"1px solid #000000",padding:"4px 2px",background:"#f8f9fa"},children:"HSN/SAC"}),o.jsx("th",{rowSpan:2,style:{border:"1px solid #000000",padding:"4px 2px",background:"#f8f9fa"},children:"Taxable amount ()"}),o.jsx("th",{colSpan:2,style:{border:"1px solid #000000",padding:"4px 2px",background:"#f8f9fa"},children:"CGST"}),o.jsx("th",{colSpan:2,style:{border:"1px solid #000000",padding:"4px 2px",background:"#f8f9fa"},children:"SGST"}),o.jsx("th",{rowSpan:2,style:{border:"1px solid #000000",padding:"4px 2px",background:"#f8f9fa"},children:"Total Tax ()"})]}),o.jsxs("tr",{children:[o.jsx("th",{style:{border:"1px solid #000000",padding:"4px 2px",background:"#f8f9fa"},children:"Rate (%)"}),o.jsx("th",{style:{border:"1px solid #000000",padding:"4px 2px",background:"#f8f9fa"},children:"Amt ()"}),o.jsx("th",{style:{border:"1px solid #000000",padding:"4px 2px",background:"#f8f9fa"},children:"Rate (%)"}),o.jsx("th",{style:{border:"1px solid #000000",padding:"4px 2px",background:"#f8f9fa"},children:"Amt ()"})]})]}),o.jsxs("tbody",{children:[Te.map((Ke,gt)=>{const gr=_t(Ke),Ct=jt(Ke),$t=Ke.gstRate/2,hr=Ke.gstRate/2,mr=Ct/2,er=Ct/2;return o.jsxs("tr",{children:[o.jsx("td",{style:{border:"1px solid #000000",padding:"2px 1px",fontSize:"8px"},children:Ke.hsnSac}),o.jsx("td",{style:{border:"1px solid #000000",padding:"2px 1px",fontSize:"8px"},children:gr.toFixed(2)}),o.jsx("td",{style:{border:"1px solid #000000",padding:"2px 1px",fontSize:"8px"},children:$t}),o.jsx("td",{style:{border:"1px solid #000000",padding:"2px 1px",fontSize:"8px"},children:mr.toFixed(2)}),o.jsx("td",{style:{border:"1px solid #000000",padding:"2px 1px",fontSize:"8px"},children:hr}),o.jsx("td",{style:{border:"1px solid #000000",padding:"2px 1px",fontSize:"8px"},children:er.toFixed(2)}),o.jsx("td",{style:{border:"1px solid #000000",padding:"2px 1px",fontSize:"8px"},children:Ct.toFixed(2)})]},gt)}),o.jsxs("tr",{style:{fontWeight:"bold"},children:[o.jsx("td",{style:{border:"1px solid #000000",padding:"2px 1px",background:"#f8f9fa",fontSize:"8px"},children:"TOTAL"}),o.jsx("td",{style:{border:"1px solid #000000",padding:"2px 1px",background:"#f8f9fa",fontSize:"8px"},children:St().toFixed(2)}),o.jsx("td",{style:{border:"1px solid #000000",padding:"2px 1px",background:"#f8f9fa",fontSize:"8px"}}),o.jsx("td",{style:{border:"1px solid #000000",padding:"2px 1px",background:"#f8f9fa",fontSize:"8px"},children:(at()/2).toFixed(2)}),o.jsx("td",{style:{border:"1px solid #000000",padding:"2px 1px",background:"#f8f9fa",fontSize:"8px"}}),o.jsx("td",{style:{border:"1px solid #000000",padding:"2px 1px",background:"#f8f9fa",fontSize:"8px"},children:(at()/2).toFixed(2)}),o.jsx("td",{style:{border:"1px solid #000000",padding:"2px 1px",background:"#f8f9fa",fontSize:"8px"},children:at().toFixed(2)})]})]})]})]}),o.jsxs("div",{style:{width:"200px",padding:"8px",border:"1px solid #000000",borderLeft:"none"},children:[o.jsxs("div",{style:{marginBottom:"8px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[o.jsx("span",{style:{fontSize:"10px"},children:"Sub Total"}),o.jsxs("span",{style:{fontSize:"10px"},children:[" ",St().toFixed(2)]})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px",borderTop:"1px solid #000000",paddingTop:"4px"},children:[o.jsx("span",{style:{fontSize:"10px",fontWeight:"bold"},children:"Total"}),o.jsxs("span",{style:{fontSize:"10px",fontWeight:"bold"},children:[" ",Ut().toFixed(2)]})]})]}),o.jsxs("div",{style:{padding:"6px",marginBottom:"8px",borderTop:"1px solid #000000"},children:[o.jsx("div",{style:{fontWeight:"bold",fontSize:"9px",marginBottom:"4px"},children:"Invoice Amount in Words:"}),o.jsx("div",{style:{fontSize:"8px",lineHeight:"1.2"},children:Er(Ut())})]}),o.jsxs("div",{style:{padding:"6px",borderTop:"1px solid #000000"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[o.jsx("span",{style:{fontSize:"9px"},children:"Received"}),o.jsxs("span",{style:{fontSize:"9px"},children:[" ",Number(R).toFixed(2)]})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{fontSize:"9px"},children:"Balance"}),o.jsxs("span",{style:{fontSize:"9px"},children:[" ",qt().toFixed(2)]})]})]})]})]}),M==="UPI"&&(te||ue)&&o.jsxs("div",{style:{border:"1px solid #000000",marginBottom:"20px"},children:[o.jsx("div",{style:{fontWeight:"bold",padding:"6px",borderBottom:"1px solid #000000",background:"#f8f9fa",fontSize:"11px"},children:"Payment Information:"}),o.jsxs("div",{style:{padding:"8px",fontSize:"10px",lineHeight:"1.3"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[o.jsxs("span",{children:[o.jsx("strong",{children:"Payment Method:"})," UPI"]}),te&&o.jsxs("span",{children:[o.jsx("strong",{children:"Client's Bank:"})," ",te]})]}),ue&&o.jsxs("div",{style:{marginBottom:"4px"},children:[o.jsx("strong",{children:"Payment Time:"})," ",new Date(ue).toLocaleString("en-IN")]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Received in:"})," ",(()=>{const Ke=U1.find(gt=>gt.id===ee);return Ke?Ke.name:"Kotak Mahindra Bank"})()]})]})]}),o.jsxs("div",{style:{border:"1px solid #000000",marginBottom:"20px"},children:[o.jsx("div",{style:{fontWeight:"bold",padding:"6px",borderBottom:"1px solid #000000",background:"#f8f9fa",fontSize:"11px"},children:"Terms & Conditions:"}),o.jsx("div",{style:{padding:"8px",fontSize:"10px",lineHeight:"1.3",minHeight:"30px"},children:V})]}),o.jsxs("div",{style:{display:"flex"},children:[o.jsxs("div",{style:{flex:"1",border:"1px solid #000000",borderRight:"none"},children:[o.jsx("div",{style:{fontWeight:"bold",padding:"6px",borderBottom:"1px solid #000000",background:"#f8f9fa",fontSize:"11px"},children:"Bank Details:"}),o.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"flex-start",padding:"8px"},children:[de&&o.jsx("img",{src:de,alt:"Payment QR Code",style:{width:"80px",height:"80px",border:"1px solid #000000"}}),o.jsx("div",{style:{fontSize:"9px",lineHeight:"1.3",flex:1},children:(()=>{const Ke=U1.find(gt=>gt.id===ee);return Ke?o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{marginBottom:"3px"},children:[o.jsx("strong",{children:"Bank Name:"})," ",Ke.bankName]}),o.jsxs("div",{style:{marginBottom:"3px"},children:[o.jsx("strong",{children:"Account No.:"})," ",Ke.accountNo]}),o.jsxs("div",{style:{marginBottom:"3px"},children:[o.jsx("strong",{children:"IFSC Code:"})," ",Ke.ifsc]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Account Holder:"})," ",Qh.name]})]}):null})()})]})]}),o.jsxs("div",{style:{width:"200px",padding:"8px",border:"1px solid #000000",borderLeft:"none"},children:[o.jsxs("div",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"8px",textAlign:"center"},children:["For ",Qh.name,":"]}),o.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"60px",marginBottom:"8px"},children:o.jsx("div",{style:{width:"80px",height:"40px",border:"1px solid #000000",borderRadius:"20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px",color:"#666",background:"#f9f9f9"},children:"STAMP"})}),o.jsx("div",{style:{textAlign:"center",fontSize:"9px",borderTop:"1px solid #000000",paddingTop:"4px"},children:"Authorized Signatory"})]})]})]})})]})})},$h={name:"SHREE DATTA ENTERPRISES",address:"M NO278, A/P SHIRASHI, SANGLI, Sangli,",state:"MAHARASHTRA, 415408",phone:"9850127385",email:"SUNILVPATIL27@GMAIL.COM",gstin:"27AOJPP8472L2Z2",stateCode:"27-Maharashtra",bankName:"KOTAK MAHINDRA BANK LIMITED, SANGALI BRANCH",accountNo:"9850127385",ifsc:"KKBK0002046",accountHolder:"SHREE DATTA ENTERPRISES"},OBt=()=>{const e=C.useRef(null),[t]=WT(),r=t.get("id"),[n,i]=C.useState(""),[s,a]=C.useState(new Date().toISOString().split("T")[0]),[l,c]=C.useState(""),[u,d]=C.useState(""),[h,A]=C.useState(""),[g,v]=C.useState(""),[x,y]=C.useState(""),[w,_]=C.useState(""),[E,I]=C.useState(""),[N,j]=C.useState("Thanks for doing business with us!"),[T,P]=C.useState(""),[k,R]=C.useState("theme-simple-white"),[O,M]=C.useState({original:!0,duplicate:!1,triplicate:!1}),H=[{id:"theme-simple-white",name:"Simple White",description:"Clean minimal white design"}],[K,Y]=C.useState(""),[ne,le]=C.useState(""),[te,X]=C.useState(""),[ue,ve]=C.useState(""),[V,q]=C.useState(""),[ee,re]=C.useState([{id:"1",itemName:"",hsnSac:"",quantity:1,unit:"Kg",pricePerUnit:0,gstRate:18}]);C.useEffect(()=>{(async()=>{var Te,Ze,ze,Tt,Bt,mt,_t,jt,or,St,at,Ut;if(r)try{const qt=await ql(pn(Et,"challans",r));if(qt.exists()){const Er=qt.data();i(Er.challanNumber||""),a(Er.challanDate||""),c(((Te=Er.billTo)==null?void 0:Te.name)||""),d(((Ze=Er.billTo)==null?void 0:Ze.address)||""),A(((ze=Er.billTo)==null?void 0:ze.contact)||""),v(Er.shipTo||""),y(((Tt=Er.transportation)==null?void 0:Tt.vehicleNumber)||""),_(((Bt=Er.transportation)==null?void 0:Bt.deliveryDate)||""),I(((mt=Er.transportation)==null?void 0:mt.deliveryLocation)||""),P(((_t=Er.receivedBy)==null?void 0:_t.name)||""),Y(((jt=Er.receivedBy)==null?void 0:jt.comment)||""),le(((or=Er.receivedBy)==null?void 0:or.date)||""),X(((St=Er.deliveredBy)==null?void 0:St.name)||""),ve(((at=Er.deliveredBy)==null?void 0:at.comment)||""),q(((Ut=Er.deliveredBy)==null?void 0:Ut.date)||""),j(Er.termsConditions||"Thanks for doing business with us!"),Er.items&&Er.items.length>0&&re(Er.items.map((Kt,xt)=>({id:(xt+1).toString(),itemName:Kt.itemName||"",hsnSac:Kt.hsnSac||"",quantity:Kt.quantity||1,unit:Kt.unit||"Kg",pricePerUnit:Kt.pricePerUnit||0,gstRate:Kt.gstRate||18})))}}catch(qt){console.error("Error loading challan:",qt),alert("Failed to load challan")}})()},[r]);const de=()=>{re([...ee,{id:Date.now().toString(),itemName:"",hsnSac:"",quantity:1,unit:"Kg",pricePerUnit:0,gstRate:18}])},Ae=ke=>{ee.length>1&&re(ee.filter(Te=>Te.id!==ke))},_e=(ke,Te,Ze)=>{re(ee.map(ze=>ze.id===ke?{...ze,[Te]:Ze}:ze))},ye=ke=>ke.quantity*ke.pricePerUnit,ce=ke=>ye(ke)*ke.gstRate/100,Ne=ke=>ye(ke)+ce(ke),oe=()=>ee.reduce((ke,Te)=>ke+ye(Te),0),We=()=>ee.reduce((ke,Te)=>ke+ce(Te),0),Re=()=>oe()+We(),z=ke=>{const Te=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],Ze=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],ze=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"];if(ke===0)return"Zero Rupees only";const Tt=St=>St===0?"":St<10?Te[St]:St<20?ze[St-10]:St<100?Ze[Math.floor(St/10)]+(St%10!==0?" "+Te[St%10]:""):Te[Math.floor(St/100)]+" Hundred"+(St%100!==0?" "+Tt(St%100):""),Bt=Math.floor(ke/1e7),mt=Math.floor(ke%1e7/1e5),_t=Math.floor(ke%1e5/1e3),jt=ke%1e3;let or="";return Bt>0&&(or+=Tt(Bt)+" Crore "),mt>0&&(or+=Tt(mt)+" Lakh "),_t>0&&(or+=Tt(_t)+" Thousand "),jt>0&&(or+=Tt(jt)),or.trim()+" Rupees only"},Fe=async()=>{try{const ke={challanNumber:n,challanDate:s,billTo:{name:l,address:u,contact:h},shipTo:g,transportation:{vehicleNumber:x,deliveryDate:w,deliveryLocation:E},receivedBy:{name:T,comment:K,date:ne},deliveredBy:{name:te,comment:ue,date:V},items:ee.map(Te=>({itemName:Te.itemName,hsnSac:Te.hsnSac,quantity:Te.quantity,unit:Te.unit,pricePerUnit:Te.pricePerUnit,gstRate:Te.gstRate,total:Ne(Te)})),subtotal:oe(),totalGST:We(),grandTotal:Re(),termsConditions:N,updatedAt:Yi()};r?(await Ns(pn(Et,"challans",r),ke),alert("Delivery Challan updated successfully!")):(await ka(jr(Et,"challans"),{...ke,createdAt:Yi()}),alert("Delivery Challan saved successfully!"))}catch(ke){console.error("Error saving challan:",ke),alert("Failed to save challan")}},He=()=>{const ke=document.getElementById("challan");if(!ke){alert("Challan not found. Please try again.");return}ke.classList.add("pdf-rendering"),Vc(ke,{scale:3,useCORS:!0,backgroundColor:"#ffffff",scrollX:0,scrollY:0,logging:!1,allowTaint:!1,foreignObjectRendering:!0,imageTimeout:3e4,removeContainer:!0,width:ke.offsetWidth,height:ke.offsetHeight,windowWidth:ke.offsetWidth,windowHeight:ke.offsetHeight}).then(Te=>{const Ze=Te.toDataURL("image/jpeg",1),ze=new Hr("p","mm","a4"),Tt=210,Bt=297,mt=Tt-10,_t=Te.height*mt/Te.width;ze.addImage(Ze,"JPEG",5,5,mt,Math.min(_t,Bt-10)),ke.classList.remove("pdf-rendering"),ze.save(`Delivery_Invoice_${n||"draft"}.pdf`)}).catch(Te=>{console.error("Error generating PDF:",Te),ke.classList.remove("pdf-rendering"),alert(`PDF generation failed: ${Te.message}. Please try again.`)})};return o.jsx("div",{className:"min-h-screen p-4 bg-gray-100",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Invoice Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Invoice Number *"}),o.jsx("input",{type:"text",value:n,onChange:ke=>i(ke.target.value),placeholder:"2025/NOV/109",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Invoice Date *"}),o.jsx("input",{type:"date",value:s,onChange:ke=>a(ke.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold mb-3",children:"Bill To:"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("input",{type:"text",value:l,onChange:ke=>c(ke.target.value),placeholder:"Customer Name",className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),o.jsx("textarea",{value:u,onChange:ke=>d(ke.target.value),placeholder:"Address",className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:2}),o.jsx("input",{type:"text",value:h,onChange:ke=>A(ke.target.value),placeholder:"Contact Number",className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold mb-3",children:"Ship To:"}),o.jsx("textarea",{value:g,onChange:ke=>v(ke.target.value),placeholder:"Shipping Address",className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:4})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsx("input",{type:"text",value:x,onChange:ke=>y(ke.target.value),placeholder:"Vehicle Number",className:"px-3 py-2 border border-gray-300 rounded-md"}),o.jsx("input",{type:"date",value:w,onChange:ke=>_(ke.target.value),placeholder:"Delivery Date",className:"px-3 py-2 border border-gray-300 rounded-md"}),o.jsx("input",{type:"text",value:E,onChange:ke=>I(ke.target.value),placeholder:"Delivery Location",className:"px-3 py-2 border border-gray-300 rounded-md"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("h3",{className:"text-lg font-bold",children:"Items"}),o.jsxs("button",{onClick:de,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[o.jsx(dh,{className:"h-4 w-4"}),"Add Item"]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"border border-gray-300 px-2 py-2 text-sm",children:"#"}),o.jsx("th",{className:"border border-gray-300 px-2 py-2 text-sm",children:"Item Name"}),o.jsx("th",{className:"border border-gray-300 px-2 py-2 text-sm",children:"HSN/SAC"}),o.jsx("th",{className:"border border-gray-300 px-2 py-2 text-sm",children:"Qty"}),o.jsx("th",{className:"border border-gray-300 px-2 py-2 text-sm",children:"Unit"}),o.jsx("th",{className:"border border-gray-300 px-2 py-2 text-sm",children:"Price/Unit"}),o.jsx("th",{className:"border border-gray-300 px-2 py-2 text-sm",children:"GST%"}),o.jsx("th",{className:"border border-gray-300 px-2 py-2 text-sm",children:"Amount"}),o.jsx("th",{className:"border border-gray-300 px-2 py-2 text-sm",children:"Action"})]})}),o.jsx("tbody",{children:ee.map((ke,Te)=>o.jsxs("tr",{children:[o.jsx("td",{className:"border border-gray-300 px-2 py-1 text-center",children:Te+1}),o.jsx("td",{className:"border border-gray-300 px-2 py-1",children:o.jsx("input",{type:"text",value:ke.itemName,onChange:Ze=>_e(ke.id,"itemName",Ze.target.value),className:"w-full px-2 py-1 border-0 focus:outline-none"})}),o.jsx("td",{className:"border border-gray-300 px-2 py-1",children:o.jsx("input",{type:"text",value:ke.hsnSac,onChange:Ze=>_e(ke.id,"hsnSac",Ze.target.value),className:"w-full px-2 py-1 border-0 focus:outline-none"})}),o.jsx("td",{className:"border border-gray-300 px-2 py-1",children:o.jsx("input",{type:"number",value:ke.quantity,onChange:Ze=>_e(ke.id,"quantity",parseFloat(Ze.target.value)||0),className:"w-20 px-2 py-1 border-0 focus:outline-none"})}),o.jsx("td",{className:"border border-gray-300 px-2 py-1",children:o.jsxs("select",{value:ke.unit,onChange:Ze=>_e(ke.id,"unit",Ze.target.value),className:"w-full px-2 py-1 border-0 focus:outline-none",children:[o.jsx("option",{value:"Kg",children:"Kg"}),o.jsx("option",{value:"Pcs",children:"Pcs"}),o.jsx("option",{value:"Box",children:"Box"}),o.jsx("option",{value:"Ltr",children:"Ltr"})]})}),o.jsx("td",{className:"border border-gray-300 px-2 py-1",children:o.jsx("input",{type:"number",value:ke.pricePerUnit,onChange:Ze=>_e(ke.id,"pricePerUnit",parseFloat(Ze.target.value)||0),className:"w-24 px-2 py-1 border-0 focus:outline-none"})}),o.jsx("td",{className:"border border-gray-300 px-2 py-1",children:o.jsxs("select",{value:ke.gstRate,onChange:Ze=>_e(ke.id,"gstRate",parseFloat(Ze.target.value)),className:"w-full px-2 py-1 border-0 focus:outline-none",children:[o.jsx("option",{value:"0",children:"0%"}),o.jsx("option",{value:"5",children:"5%"}),o.jsx("option",{value:"12",children:"12%"}),o.jsx("option",{value:"18",children:"18%"}),o.jsx("option",{value:"28",children:"28%"})]})}),o.jsxs("td",{className:"border border-gray-300 px-2 py-1 text-right font-semibold",children:["",Ne(ke).toFixed(2)]}),o.jsx("td",{className:"border border-gray-300 px-2 py-1 text-center",children:o.jsx("button",{onClick:()=>Ae(ke.id),className:"text-red-600 hover:text-red-800",disabled:ee.length===1,children:o.jsx(Sc,{className:"h-4 w-4"})})})]},ke.id))})]})})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Terms & Conditions"}),o.jsx("textarea",{value:N,onChange:ke=>j(ke.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:2})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-bold mb-3",children:"Print Copy Options"}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Select which copies to include in the challan"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"checkbox",checked:O.original,onChange:ke=>M(Te=>({...Te,original:ke.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("span",{className:"text-sm font-medium",children:"Original Copy"})]}),o.jsxs("label",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"checkbox",checked:O.duplicate,onChange:ke=>M(Te=>({...Te,duplicate:ke.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("span",{className:"text-sm font-medium",children:"Duplicate for Transporter"})]}),o.jsxs("label",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"checkbox",checked:O.triplicate,onChange:ke=>M(Te=>({...Te,triplicate:ke.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("span",{className:"text-sm font-medium",children:"Triplicate for Supplier"})]})]})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Challan Theme"}),o.jsx("select",{value:k,onChange:ke=>R(ke.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:H.map(ke=>o.jsxs("option",{value:ke.id,children:[ke.name," - ",ke.description]},ke.id))})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold mb-3",children:"Received By:"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("input",{type:"text",value:T,onChange:ke=>P(ke.target.value),placeholder:"Name",className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),o.jsx("input",{type:"text",value:K,onChange:ke=>Y(ke.target.value),placeholder:"Comment",className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),o.jsx("input",{type:"date",value:ne,onChange:ke=>le(ke.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold mb-3",children:"Delivered By:"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("input",{type:"text",value:te,onChange:ke=>X(ke.target.value),placeholder:"Name",className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),o.jsx("input",{type:"text",value:ue,onChange:ke=>ve(ke.target.value),placeholder:"Comment",className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),o.jsx("input",{type:"date",value:V,onChange:ke=>q(ke.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]}),o.jsxs("div",{className:"flex gap-4 mt-6",children:[o.jsxs("button",{onClick:Fe,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:[o.jsx(mE,{className:"h-4 w-4"}),"Save Challan"]}),o.jsxs("button",{onClick:He,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[o.jsx(na,{className:"h-4 w-4"}),"Download PDF"]}),o.jsxs("button",{onClick:()=>{const ke=document.getElementById("challan");ke&&(ke.classList.add("pdf-rendering"),window.print(),setTimeout(()=>{ke.classList.remove("pdf-rendering")},1e3))},className:"flex items-center gap-2 px-6 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:[o.jsx(na,{className:"h-4 w-4"}),"Print Challan"]})]})]}),o.jsxs("div",{id:"challan",ref:e,className:`bg-white mx-auto ${k}`,style:{width:"800px",padding:"20px",fontFamily:"Arial, sans-serif",fontSize:"12px",lineHeight:"1.4",boxShadow:"0 0 10px rgba(0,0,0,0.1)",position:"relative",background:"#ffffff"},children:[o.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.85)",zIndex:0}}),o.jsxs("div",{style:{position:"relative",zIndex:1},children:[o.jsx("h2",{style:{textAlign:"center",fontSize:"24px",fontWeight:"bold",marginBottom:"12px",color:"#1E293B"},children:"Delivery Challan"}),o.jsx("div",{className:"invoice-header",style:{border:"2px solid black",padding:"8px",marginBottom:"8px"},children:o.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"flex-start"},children:[o.jsx("div",{style:{width:"80px",height:"80px",flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx("img",{src:"/Shree Datta Enterprises_LOGO 1.png",alt:"Company Logo",className:"company-logo",crossOrigin:"anonymous",style:{width:"80px",height:"80px",objectFit:"contain",background:"transparent",border:"none",imageRendering:"crisp-edges"},onLoad:ke=>{ke.target.style.opacity="1"}})}),o.jsxs("div",{style:{flex:1},children:[o.jsx("h1",{style:{fontSize:"18px",fontWeight:"bold",marginBottom:"4px",lineHeight:"1.2"},children:$h.name}),o.jsx("p",{style:{fontSize:"10px",marginBottom:"2px",lineHeight:"1.3"},children:$h.address}),o.jsx("p",{style:{fontSize:"10px",marginBottom:"4px",lineHeight:"1.3"},children:$h.state}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",fontSize:"10px"},children:[o.jsxs("div",{children:[o.jsxs("p",{style:{marginBottom:"2px",lineHeight:"1.3"},children:[o.jsx("span",{style:{fontWeight:"600"},children:"Phone:"})," ",$h.phone]}),o.jsxs("p",{style:{lineHeight:"1.3"},children:[o.jsx("span",{style:{fontWeight:"600"},children:"GSTIN:"})," ",$h.gstin]})]}),o.jsxs("div",{children:[o.jsxs("p",{style:{marginBottom:"2px",lineHeight:"1.3"},children:[o.jsx("span",{style:{fontWeight:"600"},children:"Email:"})," ",$h.email]}),o.jsxs("p",{style:{lineHeight:"1.3"},children:[o.jsx("span",{style:{fontWeight:"600"},children:"State:"})," ",$h.stateCode]})]})]})]})]})}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",padding:"0",marginBottom:"8px"},children:[o.jsxs("div",{style:{background:"white",padding:"10px",borderRadius:"6px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.08)",border:"2px solid #0f766e"},children:[o.jsx("h3",{style:{fontSize:"11px",fontWeight:"700",marginBottom:"8px",color:"#0f766e",borderBottom:"2px solid #f59e0b",paddingBottom:"4px",display:"inline-block"},children:"Bill To"}),o.jsxs("div",{style:{marginTop:"6px"},children:[o.jsxs("div",{style:{marginBottom:"5px"},children:[o.jsx("div",{style:{fontSize:"7px",color:"#64748b",marginBottom:"2px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.3px"},children:"Customer Name:"}),o.jsx("div",{style:{fontSize:"10px",fontWeight:"600",color:"#1e293b",lineHeight:"1.2"},children:l||"[Customer Name]"})]}),o.jsxs("div",{style:{marginBottom:"5px"},children:[o.jsx("div",{style:{fontSize:"7px",color:"#64748b",marginBottom:"2px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.3px"},children:"Address:"}),o.jsx("div",{style:{fontSize:"9px",color:"#475569",lineHeight:"1.3"},children:u||"[Customer Address]"})]}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"7px",color:"#64748b",marginBottom:"2px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.3px"},children:"Contact:"}),o.jsx("div",{style:{fontSize:"9px",fontWeight:"600",color:"#0f766e"},children:h||"[Contact Number]"})]})]})]}),o.jsxs("div",{style:{background:"white",padding:"10px",borderRadius:"6px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.08)",border:"2px solid #0f766e"},children:[o.jsx("h3",{style:{fontSize:"11px",fontWeight:"700",marginBottom:"8px",color:"#0f766e",borderBottom:"2px solid #f59e0b",paddingBottom:"4px",display:"inline-block"},children:"Transportation Details"}),o.jsxs("div",{style:{marginTop:"6px"},children:[o.jsxs("div",{style:{marginBottom:"5px"},children:[o.jsx("div",{style:{fontSize:"7px",color:"#64748b",marginBottom:"2px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.3px"},children:"Vehicle No:"}),o.jsx("div",{style:{fontSize:"9px",fontWeight:"600",color:"#1e293b",fontFamily:"monospace"},children:x||"N/A"})]}),o.jsxs("div",{style:{marginBottom:"5px"},children:[o.jsx("div",{style:{fontSize:"7px",color:"#64748b",marginBottom:"2px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.3px"},children:"Delivery Date:"}),o.jsx("div",{style:{fontSize:"9px",fontWeight:"600",color:"#0f766e"},children:w?new Date(w).toLocaleDateString("en-GB"):"N/A"})]}),o.jsxs("div",{style:{marginBottom:"5px"},children:[o.jsx("div",{style:{fontSize:"7px",color:"#64748b",marginBottom:"2px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.3px"},children:"Delivery Location:"}),o.jsx("div",{style:{fontSize:"9px",color:"#475569",lineHeight:"1.3"},children:E||"N/A"})]}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"7px",color:"#64748b",marginBottom:"2px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.3px"},children:"Transport Mode:"}),o.jsx("div",{style:{fontSize:"9px",fontWeight:"600",color:"#475569"},children:"By Road"})]})]})]})]}),o.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",border:"1px solid black",marginBottom:"8px",fontSize:"10px"},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{backgroundColor:"#f3f4f6"},children:[o.jsx("th",{style:{border:"1px solid black",padding:"6px 8px",lineHeight:"1.5"},children:"#"}),o.jsx("th",{style:{border:"1px solid black",padding:"6px 8px",lineHeight:"1.5"},children:"Item name"}),o.jsx("th",{style:{border:"1px solid black",padding:"6px 8px",lineHeight:"1.5"},children:"HSN/SAC"}),o.jsx("th",{style:{border:"1px solid black",padding:"6px 8px",lineHeight:"1.5"},children:"Qty"}),o.jsx("th",{style:{border:"1px solid black",padding:"6px 8px",lineHeight:"1.5"},children:"Unit"}),o.jsx("th",{style:{border:"1px solid black",padding:"6px 8px",lineHeight:"1.5"},children:"Price/Unit()"}),o.jsx("th",{style:{border:"1px solid black",padding:"6px 8px",lineHeight:"1.5"},children:"GST()"}),o.jsx("th",{style:{border:"1px solid black",padding:"6px 8px",lineHeight:"1.5"},children:"Amount()"})]})}),o.jsxs("tbody",{children:[ee.map((ke,Te)=>o.jsxs("tr",{children:[o.jsx("td",{style:{border:"1px solid black",padding:"6px 8px",textAlign:"center",lineHeight:"1.5"},children:Te+1}),o.jsx("td",{style:{border:"1px solid black",padding:"6px 8px",lineHeight:"1.5"},children:ke.itemName||""}),o.jsx("td",{style:{border:"1px solid black",padding:"6px 8px",lineHeight:"1.5"},children:ke.hsnSac||""}),o.jsx("td",{style:{border:"1px solid black",padding:"6px 8px",textAlign:"center",lineHeight:"1.5"},children:ke.quantity}),o.jsx("td",{style:{border:"1px solid black",padding:"6px 8px",textAlign:"center",lineHeight:"1.5"},children:ke.unit}),o.jsxs("td",{style:{border:"1px solid black",padding:"6px 8px",textAlign:"right",lineHeight:"1.5"},children:[" ",ke.pricePerUnit.toFixed(2)]}),o.jsxs("td",{style:{border:"1px solid black",padding:"6px 8px",textAlign:"right",lineHeight:"1.5"},children:[" ",ce(ke).toFixed(2)," (",ke.gstRate,"%)"]}),o.jsxs("td",{style:{border:"1px solid black",padding:"6px 8px",textAlign:"right",fontWeight:"600",lineHeight:"1.5"},children:[" ",Ne(ke).toFixed(2)]})]},ke.id)),o.jsxs("tr",{style:{fontWeight:"bold"},children:[o.jsx("td",{colSpan:3,style:{border:"1px solid black",padding:"6px 8px",lineHeight:"1.5"},children:"Total"}),o.jsx("td",{style:{border:"1px solid black",padding:"6px 8px",textAlign:"center",lineHeight:"1.5"},children:ee.reduce((ke,Te)=>ke+Te.quantity,0)}),o.jsx("td",{colSpan:2,style:{border:"1px solid black",padding:"6px 8px"}}),o.jsxs("td",{style:{border:"1px solid black",padding:"6px 8px",textAlign:"right",lineHeight:"1.5"},children:[" ",We().toFixed(2)]}),o.jsxs("td",{style:{border:"1px solid black",padding:"6px 8px",textAlign:"right",lineHeight:"1.5"},children:[" ",Re().toFixed(2)]})]})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginBottom:"8px",fontSize:"10px"},children:[o.jsxs("div",{style:{border:"1px solid black"},children:[o.jsx("p",{style:{fontWeight:"bold",padding:"6px 10px",borderBottom:"1px solid black",fontSize:"10px",lineHeight:"1.5"},children:"Tax Summary:"}),o.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"10px"},children:[o.jsxs("thead",{children:[o.jsxs("tr",{style:{borderBottom:"1px solid black"},children:[o.jsx("th",{style:{border:"1px solid black",padding:"6px 8px",textAlign:"left",lineHeight:"1.5"},children:"HSN/SAC"}),o.jsxs("th",{style:{border:"1px solid black",padding:"6px 8px",textAlign:"left",lineHeight:"1.5"},children:["Taxable",o.jsx("br",{}),"amount ()"]}),o.jsx("th",{colSpan:2,style:{border:"1px solid black",padding:"6px 8px",textAlign:"center",lineHeight:"1.5"},children:"CGST"}),o.jsx("th",{colSpan:2,style:{border:"1px solid black",padding:"6px 8px",textAlign:"center",lineHeight:"1.5"},children:"SGST"}),o.jsx("th",{style:{border:"1px solid black",padding:"6px 8px",textAlign:"left",lineHeight:"1.5"},children:"Total Tax ()"})]}),o.jsxs("tr",{style:{borderBottom:"1px solid black"},children:[o.jsx("th",{style:{border:"1px solid black",padding:"6px 8px"}}),o.jsx("th",{style:{border:"1px solid black",padding:"6px 8px"}}),o.jsxs("th",{style:{border:"1px solid black",padding:"6px 8px",fontSize:"9px",lineHeight:"1.5"},children:["Rate",o.jsx("br",{}),"(%)"]}),o.jsxs("th",{style:{border:"1px solid black",padding:"6px 8px",fontSize:"9px",lineHeight:"1.5"},children:["Amt",o.jsx("br",{}),"()"]}),o.jsxs("th",{style:{border:"1px solid black",padding:"6px 8px",fontSize:"9px",lineHeight:"1.5"},children:["Rate",o.jsx("br",{}),"(%)"]}),o.jsxs("th",{style:{border:"1px solid black",padding:"6px 8px",fontSize:"9px",lineHeight:"1.5"},children:["Amt",o.jsx("br",{}),"()"]}),o.jsx("th",{style:{border:"1px solid black",padding:"6px 8px"}})]})]}),o.jsxs("tbody",{children:[ee.map(ke=>{const Te=ye(ke),Ze=ce(ke),ze=Ze/2,Tt=Ze/2;return o.jsxs("tr",{style:{borderBottom:"1px solid black"},children:[o.jsx("td",{style:{border:"1px solid black",padding:"6px 8px",lineHeight:"1.5"},children:ke.hsnSac}),o.jsx("td",{style:{border:"1px solid black",padding:"6px 8px",textAlign:"right",lineHeight:"1.5"},children:Te.toFixed(2)}),o.jsx("td",{style:{border:"1px solid black",padding:"6px 8px",textAlign:"center",lineHeight:"1.5"},children:ke.gstRate/2}),o.jsx("td",{style:{border:"1px solid black",padding:"6px 8px",textAlign:"right",lineHeight:"1.5"},children:ze.toFixed(2)}),o.jsx("td",{style:{border:"1px solid black",padding:"6px 8px",textAlign:"center",lineHeight:"1.5"},children:ke.gstRate/2}),o.jsx("td",{style:{border:"1px solid black",padding:"6px 8px",textAlign:"right",lineHeight:"1.5"},children:Tt.toFixed(2)}),o.jsx("td",{style:{border:"1px solid black",padding:"6px 8px",textAlign:"right",lineHeight:"1.5"},children:Ze.toFixed(2)})]},ke.id)}),o.jsxs("tr",{style:{fontWeight:"bold"},children:[o.jsx("td",{style:{border:"1px solid black",padding:"6px 8px",lineHeight:"1.5"},children:"TOTAL"}),o.jsx("td",{style:{border:"1px solid black",padding:"6px 8px",textAlign:"right",lineHeight:"1.5"},children:oe().toFixed(2)}),o.jsx("td",{style:{border:"1px solid black",padding:"6px 8px"}}),o.jsx("td",{style:{border:"1px solid black",padding:"6px 8px",textAlign:"right",lineHeight:"1.5"},children:(We()/2).toFixed(2)}),o.jsx("td",{style:{border:"1px solid black",padding:"6px 8px"}}),o.jsx("td",{style:{border:"1px solid black",padding:"6px 8px",textAlign:"right",lineHeight:"1.5"},children:(We()/2).toFixed(2)}),o.jsx("td",{style:{border:"1px solid black",padding:"6px 8px",textAlign:"right",lineHeight:"1.5"},children:We().toFixed(2)})]})]})]})]}),o.jsx("div",{style:{border:"1px solid black"},children:o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",fontSize:"10px"},children:[o.jsx("div",{style:{borderBottom:"1px solid black",borderRight:"1px solid black",padding:"8px 10px",lineHeight:"1.6"},children:"Sub Total"}),o.jsx("div",{style:{borderBottom:"1px solid black",padding:"8px 10px",textAlign:"right",lineHeight:"1.6"},children:":"}),o.jsx("div",{style:{borderBottom:"1px solid black",borderRight:"1px solid black",padding:"8px 10px",fontWeight:"bold",lineHeight:"1.6"},children:"Total"}),o.jsxs("div",{style:{borderBottom:"1px solid black",padding:"8px 10px",textAlign:"right",fontWeight:"bold",lineHeight:"1.6"},children:[":  ",Re().toFixed(2)]}),o.jsx("div",{style:{padding:"8px 10px",fontWeight:"600",gridColumn:"1 / -1",lineHeight:"1.6"},children:"Challan Amount in Words:"}),o.jsx("div",{style:{padding:"8px 10px",fontSize:"10px",gridColumn:"1 / -1",lineHeight:"1.6"},children:z(Math.round(Re()))})]})})]}),o.jsxs("div",{style:{marginBottom:"8px",background:"#f0f9ff",padding:"8px 12px",borderRadius:"6px",border:"1px solid #e0f2fe"},children:[o.jsx("p",{style:{fontWeight:"bold",fontSize:"9px",lineHeight:"1.3",color:"#1e293b",marginBottom:"4px"},children:"Thank you for your business!"}),o.jsxs("p",{style:{fontSize:"8px",lineHeight:"1.4",color:"#475569"},children:["We appreciate your trust in ",$h.name]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"6px",marginTop:"8px"},children:[o.jsxs("div",{style:{background:"white",padding:"8px",borderRadius:"6px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.08)",border:"2px solid #0f766e"},children:[o.jsx("h3",{style:{fontSize:"9px",fontWeight:"700",marginBottom:"6px",color:"#0f766e",borderBottom:"2px solid #f59e0b",paddingBottom:"3px",display:"inline-block"},children:"Received By"}),o.jsxs("div",{style:{fontSize:"8px",lineHeight:"1.4",marginTop:"6px"},children:[o.jsxs("div",{style:{marginBottom:"3px"},children:[o.jsx("span",{style:{color:"#64748b",fontSize:"7px",textTransform:"uppercase",fontWeight:"600"},children:"Name:"}),o.jsx("div",{style:{fontWeight:"600",color:"#1e293b"},children:T||"N/A"})]}),o.jsxs("div",{style:{marginBottom:"3px"},children:[o.jsx("span",{style:{color:"#64748b",fontSize:"7px",textTransform:"uppercase",fontWeight:"600"},children:"Comment:"}),o.jsx("div",{style:{color:"#475569"},children:K||"N/A"})]}),o.jsxs("div",{style:{marginBottom:"3px"},children:[o.jsx("span",{style:{color:"#64748b",fontSize:"7px",textTransform:"uppercase",fontWeight:"600"},children:"Date:"}),o.jsx("div",{style:{fontWeight:"600",color:"#0f766e"},children:ne?new Date(ne).toLocaleDateString("en-GB"):"N/A"})]}),o.jsxs("div",{style:{marginTop:"8px",paddingTop:"8px",borderTop:"1px solid #e2e8f0"},children:[o.jsx("span",{style:{color:"#64748b",fontSize:"7px",textTransform:"uppercase",fontWeight:"600"},children:"Signature:"}),o.jsx("div",{style:{height:"20px"}})]})]})]}),o.jsxs("div",{style:{background:"white",padding:"8px",borderRadius:"6px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.08)",border:"2px solid #0f766e"},children:[o.jsx("h3",{style:{fontSize:"9px",fontWeight:"700",marginBottom:"6px",color:"#0f766e",borderBottom:"2px solid #f59e0b",paddingBottom:"3px",display:"inline-block"},children:"Delivered By"}),o.jsxs("div",{style:{fontSize:"8px",lineHeight:"1.4",marginTop:"6px"},children:[o.jsxs("div",{style:{marginBottom:"3px"},children:[o.jsx("span",{style:{color:"#64748b",fontSize:"7px",textTransform:"uppercase",fontWeight:"600"},children:"Name:"}),o.jsx("div",{style:{fontWeight:"600",color:"#1e293b"},children:te||"N/A"})]}),o.jsxs("div",{style:{marginBottom:"3px"},children:[o.jsx("span",{style:{color:"#64748b",fontSize:"7px",textTransform:"uppercase",fontWeight:"600"},children:"Comment:"}),o.jsx("div",{style:{color:"#475569"},children:ue||"N/A"})]}),o.jsxs("div",{style:{marginBottom:"3px"},children:[o.jsx("span",{style:{color:"#64748b",fontSize:"7px",textTransform:"uppercase",fontWeight:"600"},children:"Date:"}),o.jsx("div",{style:{fontWeight:"600",color:"#0f766e"},children:V?new Date(V).toLocaleDateString("en-GB"):"N/A"})]}),o.jsxs("div",{style:{marginTop:"8px",paddingTop:"8px",borderTop:"1px solid #e2e8f0"},children:[o.jsx("span",{style:{color:"#64748b",fontSize:"7px",textTransform:"uppercase",fontWeight:"600"},children:"Signature:"}),o.jsx("div",{style:{height:"20px"}})]})]})]}),o.jsxs("div",{style:{background:"white",padding:"8px",borderRadius:"6px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.08)",border:"2px solid #0f766e",display:"flex",flexDirection:"column"},children:[o.jsxs("p",{style:{fontWeight:"bold",fontSize:"7px",lineHeight:"1.3",color:"#64748b",marginBottom:"4px",textTransform:"uppercase"},children:["For ",$h.name,":"]}),o.jsx("div",{style:{flex:1,display:"flex",alignItems:"flex-end",justifyContent:"center",paddingTop:"40px"},children:o.jsx("div",{style:{textAlign:"center"},children:o.jsx("div",{style:{borderTop:"1px solid #cbd5e1",paddingTop:"3px",minWidth:"80px"},children:o.jsx("p",{style:{fontSize:"7px",lineHeight:"1.3",color:"#475569",fontWeight:"600"},children:"Authorized Signatory"})})})})]})]})]})]})]})})},DBt=()=>{const[e,t]=C.useState([]),[r,n]=C.useState(""),[i,s]=C.useState(!1),[a,l]=C.useState(null),[c,u]=C.useState({name:"",address:"",contactNo:"",email:"",gstin:""});C.useEffect(()=>{d()},[]);const d=async()=>{try{const w=(await Si(jr(Et,"customers"))).docs.map(_=>({id:_.id,..._.data()}));t(w)}catch(y){console.error("Error fetching customers:",y)}},h=async y=>{y.preventDefault();try{a?(await Ns(pn(Et,"customers",a.id),{...c,updatedAt:Yi()}),alert("Customer updated successfully!")):(await ka(jr(Et,"customers"),{...c,createdAt:Yi()}),alert("Customer added successfully!")),v(),d()}catch(w){console.error("Error saving customer:",w),alert("Failed to save customer")}},A=y=>{l(y),u({name:y.name,address:y.address,contactNo:y.contactNo,email:y.email||"",gstin:y.gstin||""}),window.scrollTo({top:0,behavior:"smooth"})},g=async y=>{if(window.confirm("Are you sure you want to delete this customer?"))try{await Yc(pn(Et,"customers",y)),alert("Customer deleted successfully!"),d()}catch(w){console.error("Error deleting customer:",w),alert("Failed to delete customer")}},v=()=>{u({name:"",address:"",contactNo:"",email:"",gstin:""}),l(null),s(!1)},x=e.filter(y=>y.name.toLowerCase().includes(r.toLowerCase())||y.contactNo.includes(r)||y.email&&y.email.toLowerCase().includes(r.toLowerCase()));return o.jsx("div",{className:"min-h-screen p-6 bg-gray-100",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:a?"Edit Customer":"Add New Customer"}),o.jsxs("form",{onSubmit:h,children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Name *"}),o.jsx("input",{type:"text",required:!0,value:c.name,onChange:y=>u({...c,name:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Customer Name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Contact No *"}),o.jsx("input",{type:"text",required:!0,value:c.contactNo,onChange:y=>u({...c,contactNo:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Phone Number"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Address *"}),o.jsx("textarea",{required:!0,value:c.address,onChange:y=>u({...c,address:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Full Address"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Email"}),o.jsx("input",{type:"email",value:c.email,onChange:y=>u({...c,email:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"email@example.com"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"GSTIN"}),o.jsx("input",{type:"text",value:c.gstin,onChange:y=>u({...c,gstin:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"GST Number"})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 font-semibold",children:a?"Update Customer":"Add Customer"}),a&&o.jsx("button",{type:"button",onClick:v,className:"px-6 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 font-semibold",children:"Cancel Edit"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsx("div",{className:"flex justify-between items-center mb-6",children:o.jsx("h1",{className:"text-3xl font-bold",children:"Customer List"})}),o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx(Is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),o.jsx("input",{type:"text",placeholder:"Search customers...",value:r,onChange:y=>n(y.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full border-collapse",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-100",children:[o.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left",children:"#"}),o.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left",children:"Name"}),o.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left",children:"Address"}),o.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left",children:"Contact No"}),o.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left",children:"Email"}),o.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left",children:"GSTIN"}),o.jsx("th",{className:"border border-gray-300 px-4 py-3 text-center",children:"Actions"})]})}),o.jsx("tbody",{children:x.map((y,w)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"border border-gray-300 px-4 py-2",children:w+1}),o.jsx("td",{className:"border border-gray-300 px-4 py-2 font-semibold",children:y.name}),o.jsx("td",{className:"border border-gray-300 px-4 py-2",children:y.address}),o.jsx("td",{className:"border border-gray-300 px-4 py-2",children:y.contactNo}),o.jsx("td",{className:"border border-gray-300 px-4 py-2",children:y.email||"-"}),o.jsx("td",{className:"border border-gray-300 px-4 py-2",children:y.gstin||"-"}),o.jsx("td",{className:"border border-gray-300 px-4 py-2",children:o.jsxs("div",{className:"flex justify-center gap-2",children:[o.jsx("button",{onClick:()=>A(y),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",children:o.jsx(vv,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>g(y.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",children:o.jsx(Sc,{className:"h-4 w-4"})})]})})]},y.id))})]})}),x.length===0&&o.jsx("div",{className:"text-center py-8 text-gray-500",children:"No customers found"})]})]})})},LBt=()=>{const[e,t]=C.useState([]),[r,n]=C.useState(""),[i,s]=C.useState(!1),[a,l]=C.useState(null),[c,u]=C.useState({itemName:"",hsnSac:"",unit:"Kg",pricePerUnit:0,gstRate:18,description:"",location:""});C.useEffect(()=>{d()},[]);const d=async()=>{try{const w=(await Si(jr(Et,"items"))).docs.map(_=>{const E=_.data();return{id:_.id,itemName:E.name||E.itemName||"",hsnSac:E.hsnSac||"",unit:E.unit||"Kg",pricePerUnit:E.price||E.pricePerUnit||0,gstRate:E.gstRate||18,quantity:E.quantity||0,description:E.description||"",location:E.location||"",createdAt:E.createdAt}});t(w)}catch(y){console.error("Error fetching products:",y)}},h=async y=>{y.preventDefault();try{a?(await Ns(pn(Et,"items",a.id),{name:c.itemName,hsnSac:c.hsnSac,unit:c.unit,price:c.pricePerUnit,gstRate:c.gstRate,description:c.description,location:c.location,updatedAt:Yi()}),alert("Product updated successfully!")):(await ka(jr(Et,"items"),{name:c.itemName,hsnSac:c.hsnSac,unit:c.unit,price:c.pricePerUnit,gstRate:c.gstRate,description:c.description,location:c.location,quantity:0,createdAt:Yi()}),alert("Product added successfully!")),v(),d()}catch(w){console.error("Error saving product:",w),alert("Failed to save product")}},A=y=>{l(y),u({itemName:y.itemName,hsnSac:y.hsnSac,unit:y.unit,pricePerUnit:y.pricePerUnit,gstRate:y.gstRate,description:y.description||"",location:y.location||""}),window.scrollTo({top:0,behavior:"smooth"})},g=async y=>{if(window.confirm("Are you sure you want to delete this product?"))try{await Yc(pn(Et,"items",y)),alert("Product deleted successfully!"),d()}catch(w){console.error("Error deleting product:",w),alert("Failed to delete product")}},v=()=>{u({itemName:"",hsnSac:"",unit:"Kg",pricePerUnit:0,gstRate:18,description:"",location:""}),l(null),s(!1)},x=e.filter(y=>y.itemName.toLowerCase().includes(r.toLowerCase())||y.hsnSac.includes(r));return o.jsx("div",{className:"min-h-screen p-6 bg-gray-100",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:a?"Edit Product":"Add New Product"}),o.jsxs("form",{onSubmit:h,children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Item Name *"}),o.jsx("input",{type:"text",required:!0,value:c.itemName,onChange:y=>u({...c,itemName:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Product Name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"HSN/SAC Code *"}),o.jsx("input",{type:"text",required:!0,value:c.hsnSac,onChange:y=>u({...c,hsnSac:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"HSN/SAC"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Unit *"}),o.jsxs("select",{value:c.unit,onChange:y=>u({...c,unit:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"Bag",children:"BAGS (Bag)"}),o.jsx("option",{value:"Btl",children:"BOTTLES (Btl)"}),o.jsx("option",{value:"Box",children:"BOX (Box)"}),o.jsx("option",{value:"Bdl",children:"BUNDLES (Bdl)"}),o.jsx("option",{value:"Can",children:"CANS (Can)"}),o.jsx("option",{value:"Ctn",children:"CARTONS (Ctn)"}),o.jsx("option",{value:"Dzn",children:"DOZENS (Dzn)"}),o.jsx("option",{value:"Gm",children:"GRAMMES (Gm)"}),o.jsx("option",{value:"Kg",children:"KILOGRAMS (Kg)"}),o.jsx("option",{value:"Ltr",children:"LITRE (Ltr)"}),o.jsx("option",{value:"Mtr",children:"METERS (Mtr)"}),o.jsx("option",{value:"Ml",children:"MILILITRE (Ml)"}),o.jsx("option",{value:"Nos",children:"NUMBERS (Nos)"}),o.jsx("option",{value:"Pac",children:"PACKS (Pac)"}),o.jsx("option",{value:"Prs",children:"PAIRS (Prs)"}),o.jsx("option",{value:"Pcs",children:"PIECES (Pcs)"}),o.jsx("option",{value:"Qtl",children:"QUINTAL (Qtl)"}),o.jsx("option",{value:"Rol",children:"ROLLS (Rol)"}),o.jsx("option",{value:"Sqf",children:"SQUARE FEET (Sqf)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Quantity *"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"number",required:!0,step:"0.01",placeholder:"Enter quantity",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsxs("select",{value:c.unit,onChange:y=>u({...c,unit:y.target.value}),className:"w-28 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 font-semibold bg-gray-50",children:[o.jsx("option",{value:"Bag",children:"BAGS (Bag)"}),o.jsx("option",{value:"Btl",children:"BOTTLES (Btl)"}),o.jsx("option",{value:"Box",children:"BOX (Box)"}),o.jsx("option",{value:"Bdl",children:"BUNDLES (Bdl)"}),o.jsx("option",{value:"Can",children:"CANS (Can)"}),o.jsx("option",{value:"Ctn",children:"CARTONS (Ctn)"}),o.jsx("option",{value:"Dzn",children:"DOZENS (Dzn)"}),o.jsx("option",{value:"Gm",children:"GRAMMES (Gm)"}),o.jsx("option",{value:"Kg",children:"KILOGRAMS (Kg)"}),o.jsx("option",{value:"Ltr",children:"LITRE (Ltr)"}),o.jsx("option",{value:"Mtr",children:"METERS (Mtr)"}),o.jsx("option",{value:"Ml",children:"MILILITRE (Ml)"}),o.jsx("option",{value:"Nos",children:"NUMBERS (Nos)"}),o.jsx("option",{value:"Pac",children:"PACKS (Pac)"}),o.jsx("option",{value:"Prs",children:"PAIRS (Prs)"}),o.jsx("option",{value:"Pcs",children:"PIECES (Pcs)"}),o.jsx("option",{value:"Qtl",children:"QUINTAL (Qtl)"}),o.jsx("option",{value:"Rol",children:"ROLLS (Rol)"}),o.jsx("option",{value:"Sqf",children:"SQUARE FEET (Sqf)"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"GST Rate *"}),o.jsxs("select",{value:c.gstRate,onChange:y=>u({...c,gstRate:parseFloat(y.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"0",children:"0%"}),o.jsx("option",{value:"5",children:"5%"}),o.jsx("option",{value:"12",children:"12%"}),o.jsx("option",{value:"18",children:"18%"}),o.jsx("option",{value:"28",children:"28%"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Price per Unit () *"}),o.jsx("input",{type:"number",required:!0,step:"0.01",value:c.pricePerUnit,onChange:y=>u({...c,pricePerUnit:parseFloat(y.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Description"}),o.jsx("input",{type:"text",value:c.description,onChange:y=>u({...c,description:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Product Description"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Location/Destination"}),o.jsx("input",{type:"text",value:c.location,onChange:y=>u({...c,location:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Shop No. 5, Mumbai"})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 font-semibold",children:a?"Update Product":"Add Product"}),a&&o.jsx("button",{type:"button",onClick:v,className:"px-6 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 font-semibold",children:"Cancel Edit"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsx("div",{className:"flex justify-between items-center mb-6",children:o.jsx("h1",{className:"text-3xl font-bold",children:"Product List"})}),o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx(Is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),o.jsx("input",{type:"text",placeholder:"Search products...",value:r,onChange:y=>n(y.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full border-collapse",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-100",children:[o.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left",children:"#"}),o.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left",children:"Item Name"}),o.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left",children:"HSN/SAC"}),o.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left",children:"Unit"}),o.jsx("th",{className:"border border-gray-300 px-4 py-3 text-right",children:"Price/Unit"}),o.jsx("th",{className:"border border-gray-300 px-4 py-3 text-center",children:"GST %"}),o.jsx("th",{className:"border border-gray-300 px-4 py-3 text-center",children:"Quantity"}),o.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left",children:"Description"}),o.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left",children:"Location"}),o.jsx("th",{className:"border border-gray-300 px-4 py-3 text-center",children:"Actions"})]})}),o.jsx("tbody",{children:x.map((y,w)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"border border-gray-300 px-4 py-2",children:w+1}),o.jsx("td",{className:"border border-gray-300 px-4 py-2 font-semibold",children:y.itemName}),o.jsx("td",{className:"border border-gray-300 px-4 py-2",children:y.hsnSac}),o.jsx("td",{className:"border border-gray-300 px-4 py-2",children:y.unit}),o.jsxs("td",{className:"border border-gray-300 px-4 py-2 text-right",children:["",y.pricePerUnit.toFixed(2)]}),o.jsxs("td",{className:"border border-gray-300 px-4 py-2 text-center",children:[y.gstRate,"%"]}),o.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:o.jsx("span",{className:`px-2 py-1 rounded ${y.quantity&&y.quantity>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:y.quantity||0})}),o.jsx("td",{className:"border border-gray-300 px-4 py-2",children:y.description||"-"}),o.jsx("td",{className:"border border-gray-300 px-4 py-2 text-blue-600 font-medium",children:y.location||"-"}),o.jsx("td",{className:"border border-gray-300 px-4 py-2",children:o.jsxs("div",{className:"flex justify-center gap-2",children:[o.jsx("button",{onClick:()=>A(y),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",children:o.jsx(vv,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>g(y.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",children:o.jsx(Sc,{className:"h-4 w-4"})})]})})]},y.id))})]})}),x.length===0&&o.jsx("div",{className:"text-center py-8 text-gray-500",children:"No products found"})]})]})})},RBt=()=>{const e=ds(),[t,r]=C.useState([]),[n,i]=C.useState(!0),[s,a]=C.useState(null),[l,c]=C.useState(null),[u,d]=C.useState(!1);C.useEffect(()=>{const g=vs(jr(Et,"invoices"),v=>{const x=v.docs.map(y=>{const w=y.data();return{id:y.id,invoiceNumber:w.invoiceNumber||"N/A",billTo:w.billTo||{name:"Unknown",address:"",contact:""},grandTotal:w.grandTotal||0,receivedAmount:w.receivedAmount||0,balance:(w.grandTotal||0)-(w.receivedAmount||0),createdAt:w.createdAt}});x.sort((y,w)=>y.createdAt&&w.createdAt?w.createdAt.toMillis()-y.createdAt.toMillis():0),r(x),i(!1)});return()=>g()},[]);const h=async g=>{if(s===g)a(null),c(null);else{d(!0),a(g);try{const v=await ql(pn(Et,"invoices",g));v.exists()&&c({id:v.id,...v.data()})}catch(v){console.error("Error loading invoice details:",v)}d(!1)}},A=async g=>{if(window.confirm("Are you sure you want to delete this invoice?"))try{await Yc(pn(Et,"invoices",g)),alert("Invoice deleted successfully!")}catch(v){console.error("Error deleting invoice:",v),alert("Failed to delete invoice")}};return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:"linear-gradient(135deg, #F5F9FF 0%, #EBF2FA 100%)"},children:o.jsx("div",{className:"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"})}):o.jsx("div",{className:"min-h-screen p-6",style:{background:"linear-gradient(135deg, #F5F9FF 0%, #EBF2FA 100%)"},children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold mb-2",style:{color:"#1E293B"},children:"Saved Invoices"}),o.jsx("p",{style:{color:"#64748B"},children:"View and manage all your invoices"})]}),o.jsx("div",{className:"rounded-xl p-6",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(40px) saturate(180%)",border:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.06)"},children:t.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ja,{className:"w-16 h-16 mx-auto mb-4",style:{color:"#CBD5E1"}}),o.jsx("p",{className:"text-lg",style:{color:"#64748B"},children:"No invoices found"})]}):o.jsx("div",{className:"space-y-3",children:t.map((g,v)=>{var x,y,w;return o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl transition-all duration-300 hover:bg-white/50 cursor-pointer",style:{border:"1px solid rgba(59, 130, 246, 0.2)"},onClick:()=>h(g.id),children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s===g.id?o.jsx(DT,{className:"w-5 h-5",style:{color:"#3B82F6"}}):o.jsx(gE,{className:"w-5 h-5",style:{color:"#64748B"}}),o.jsx("h3",{className:"text-lg font-bold",style:{color:"#1E293B"},children:g.billTo.name}),o.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{background:"rgba(59, 130, 246, 0.1)",color:"#3B82F6"},children:["Invoice #",g.invoiceNumber]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{style:{color:"#64748B"},children:"Total Amount"}),o.jsxs("p",{className:"font-semibold",style:{color:"#1E293B"},children:["",g.grandTotal.toLocaleString("en-IN")]})]}),o.jsxs("div",{children:[o.jsx("p",{style:{color:"#64748B"},children:"Received"}),o.jsxs("p",{className:"font-semibold",style:{color:"#10B981"},children:["",g.receivedAmount.toLocaleString("en-IN")]})]}),o.jsxs("div",{children:[o.jsx("p",{style:{color:"#64748B"},children:"Date"}),o.jsx("p",{className:"font-semibold",style:{color:"#1E293B"},children:((w=(y=(x=g.createdAt)==null?void 0:x.toDate)==null?void 0:y.call(x))==null?void 0:w.toLocaleDateString("en-IN"))||"N/A"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-4 ml-6",onClick:_=>_.stopPropagation(),children:[o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm mb-1",style:{color:"#64748B"},children:"Balance Due"}),o.jsxs("p",{className:"text-2xl font-bold",style:{color:g.balance>0?"#EF4444":"#10B981"},children:["",g.balance.toLocaleString("en-IN")]})]}),o.jsx("button",{onClick:_=>{_.stopPropagation(),e(`/billing/invoice/create?id=${g.id}`)},className:"px-4 py-2 rounded-lg font-semibold transition-all duration-300 hover:scale-105",style:{background:"linear-gradient(135deg, #3B82F6, #8B5CF6)",color:"white",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)"},children:"Edit Payment"}),o.jsx("button",{onClick:_=>{_.stopPropagation(),A(g.id)},className:"p-2 rounded-lg hover:bg-red-50 transition-colors",title:"Delete Invoice",children:o.jsx(Sc,{className:"w-5 h-5",style:{color:"#EF4444"}})})]})]}),s===g.id&&o.jsx("div",{className:"mt-3 p-6 rounded-xl",style:{background:"rgba(59, 130, 246, 0.05)",border:"1px solid rgba(59, 130, 246, 0.1)"},children:u?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"w-8 h-8 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto"})}):l?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold mb-2",style:{color:"#1E293B"},children:"Bill To:"}),o.jsx("p",{className:"font-semibold",style:{color:"#1E293B"},children:l.billTo.name}),o.jsx("p",{className:"text-sm",style:{color:"#64748B"},children:l.billTo.address}),o.jsxs("p",{className:"text-sm",style:{color:"#64748B"},children:["Contact: ",l.billTo.contact]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold mb-2",style:{color:"#1E293B"},children:"Ship To:"}),o.jsx("p",{className:"text-sm",style:{color:"#64748B"},children:l.shipTo||"Same as billing address"})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold mb-2",style:{color:"#1E293B"},children:"Invoice Details:"}),o.jsxs("p",{className:"text-sm",style:{color:"#64748B"},children:["Date: ",l.invoiceDate||"N/A"]}),l.transportation&&o.jsxs(o.Fragment,{children:[o.jsxs("p",{className:"text-sm",style:{color:"#64748B"},children:["Vehicle: ",l.transportation.vehicleNumber]}),o.jsxs("p",{className:"text-sm",style:{color:"#64748B"},children:["Delivery: ",l.transportation.deliveryLocation]})]})]})]}),l.items&&l.items.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold mb-3",style:{color:"#1E293B"},children:"Items:"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full border-collapse",style:{border:"1px solid #E2E8F0"},children:[o.jsx("thead",{style:{background:"rgba(59, 130, 246, 0.1)"},children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-2 text-left text-sm",style:{border:"1px solid #E2E8F0",color:"#1E293B"},children:"#"}),o.jsx("th",{className:"px-3 py-2 text-left text-sm",style:{border:"1px solid #E2E8F0",color:"#1E293B"},children:"Item"}),o.jsx("th",{className:"px-3 py-2 text-left text-sm",style:{border:"1px solid #E2E8F0",color:"#1E293B"},children:"HSN/SAC"}),o.jsx("th",{className:"px-3 py-2 text-center text-sm",style:{border:"1px solid #E2E8F0",color:"#1E293B"},children:"Qty"}),o.jsx("th",{className:"px-3 py-2 text-center text-sm",style:{border:"1px solid #E2E8F0",color:"#1E293B"},children:"Unit"}),o.jsx("th",{className:"px-3 py-2 text-right text-sm",style:{border:"1px solid #E2E8F0",color:"#1E293B"},children:"Price"}),o.jsx("th",{className:"px-3 py-2 text-center text-sm",style:{border:"1px solid #E2E8F0",color:"#1E293B"},children:"GST%"}),o.jsx("th",{className:"px-3 py-2 text-right text-sm",style:{border:"1px solid #E2E8F0",color:"#1E293B"},children:"Total"})]})}),o.jsx("tbody",{children:l.items.map((_,E)=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-3 py-2 text-sm",style:{border:"1px solid #E2E8F0",color:"#64748B"},children:E+1}),o.jsx("td",{className:"px-3 py-2 text-sm",style:{border:"1px solid #E2E8F0",color:"#1E293B"},children:_.itemName}),o.jsx("td",{className:"px-3 py-2 text-sm",style:{border:"1px solid #E2E8F0",color:"#64748B"},children:_.hsnSac}),o.jsx("td",{className:"px-3 py-2 text-sm text-center",style:{border:"1px solid #E2E8F0",color:"#1E293B"},children:_.quantity}),o.jsx("td",{className:"px-3 py-2 text-sm text-center",style:{border:"1px solid #E2E8F0",color:"#64748B"},children:_.unit}),o.jsxs("td",{className:"px-3 py-2 text-sm text-right",style:{border:"1px solid #E2E8F0",color:"#1E293B"},children:["",_.pricePerUnit.toFixed(2)]}),o.jsxs("td",{className:"px-3 py-2 text-sm text-center",style:{border:"1px solid #E2E8F0",color:"#64748B"},children:[_.gstRate,"%"]}),o.jsxs("td",{className:"px-3 py-2 text-sm text-right font-semibold",style:{border:"1px solid #E2E8F0",color:"#1E293B"},children:["",_.total.toFixed(2)]})]},E))})]})})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("div",{className:"w-full md:w-1/3 space-y-2",children:[o.jsxs("div",{className:"flex justify-between py-2",style:{borderBottom:"1px solid #E2E8F0"},children:[o.jsx("span",{style:{color:"#64748B"},children:"Subtotal:"}),o.jsxs("span",{className:"font-semibold",style:{color:"#1E293B"},children:["",(l.subtotal||0).toLocaleString("en-IN")]})]}),o.jsxs("div",{className:"flex justify-between py-2",style:{borderBottom:"1px solid #E2E8F0"},children:[o.jsx("span",{style:{color:"#64748B"},children:"Total GST:"}),o.jsxs("span",{className:"font-semibold",style:{color:"#1E293B"},children:["",(l.totalGST||0).toLocaleString("en-IN")]})]}),o.jsxs("div",{className:"flex justify-between py-2",style:{borderBottom:"2px solid #1E293B"},children:[o.jsx("span",{className:"font-bold",style:{color:"#1E293B"},children:"Grand Total:"}),o.jsxs("span",{className:"font-bold text-lg",style:{color:"#1E293B"},children:["",l.grandTotal.toLocaleString("en-IN")]})]}),o.jsxs("div",{className:"flex justify-between py-2",style:{borderBottom:"1px solid #E2E8F0"},children:[o.jsx("span",{style:{color:"#10B981"},children:"Received:"}),o.jsxs("span",{className:"font-semibold",style:{color:"#10B981"},children:["",l.receivedAmount.toLocaleString("en-IN")]})]}),o.jsxs("div",{className:"flex justify-between py-2",children:[o.jsx("span",{className:"font-bold",style:{color:l.balance>0?"#EF4444":"#10B981"},children:"Balance:"}),o.jsxs("span",{className:"font-bold text-lg",style:{color:l.balance>0?"#EF4444":"#10B981"},children:["",l.balance.toLocaleString("en-IN")]})]})]})}),l.termsConditions&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold mb-2",style:{color:"#1E293B"},children:"Terms & Conditions:"}),o.jsx("p",{className:"text-sm",style:{color:"#64748B"},children:l.termsConditions})]})]}):o.jsx("p",{className:"text-center",style:{color:"#64748B"},children:"Failed to load invoice details"})})]},g.id)})})})]})})},MBt=["https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&display=swap","https://fonts.googleapis.com/css2?family=Crimson+Text:wght@400;600;700&display=swap","https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;800&display=swap","https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap"];MBt.forEach(e=>{if(!document.querySelector(`link[href="${e}"]`)){const t=document.createElement("link");t.rel="stylesheet",t.href=e,document.head.appendChild(t)}});const UBt=()=>{const e=ds(),[t,r]=C.useState([]),[n,i]=C.useState(!0),[s,a]=C.useState(null),[l,c]=C.useState(null),[u,d]=C.useState(!1),[h,A]=C.useState("techBlue"),g={techBlue:{name:"Ultra Tech Blue",primary:"#0F172A",accent:"#06B6D4",font:"'Orbitron', monospace",headerFont:"'Orbitron', monospace",design:"futuristic",background:"linear-gradient(135deg, #0A0F1C 0%, #1E293B 100%)",cardBg:"rgba(6, 182, 212, 0.1)",textPrimary:"#FFFFFF",textSecondary:"#06B6D4",buttonBg:"linear-gradient(135deg, #0F172A 0%, #06B6D4 100%)",borderColor:"#06B6D4"},royalPurple:{name:"Royal Purple Luxury",primary:"#581C87",accent:"#A855F7",font:"'Crimson Text', serif",headerFont:"'Playfair Display', serif",design:"luxury",background:"linear-gradient(135deg, #2D1B69 0%, #581C87 100%)",cardBg:"rgba(168, 85, 247, 0.1)",textPrimary:"#FFFFFF",textSecondary:"#A855F7",buttonBg:"linear-gradient(135deg, #581C87 0%, #A855F7 100%)",borderColor:"#A855F7"},greenMinimal:{name:"Fresh Green Nature",primary:"#064E3B",accent:"#10B981",font:"'Nunito', sans-serif",headerFont:"'Nunito', sans-serif",design:"nature",background:"linear-gradient(135deg, #064E3B 0%, #059669 100%)",cardBg:"rgba(16, 185, 129, 0.1)",textPrimary:"#FFFFFF",textSecondary:"#10B981",buttonBg:"linear-gradient(135deg, #064E3B 0%, #10B981 100%)",borderColor:"#10B981"}},v=g[h]||g.techBlue;C.useEffect(()=>{const w=vs(jr(Et,"challans"),_=>{const E=_.docs.map(I=>{const N=I.data();return{id:I.id,challanNumber:N.challanNumber||"N/A",billTo:N.billTo||{name:"Unknown",address:"",contact:""},grandTotal:N.grandTotal||0,createdAt:N.createdAt}});E.sort((I,N)=>I.createdAt&&N.createdAt?N.createdAt.toMillis()-I.createdAt.toMillis():0),r(E),i(!1)});return()=>w()},[]);const x=async w=>{if(s===w)a(null),c(null);else{d(!0),a(w);try{const _=await ql(pn(Et,"challans",w));_.exists()&&c({id:_.id,..._.data()})}catch(_){console.error("Error loading challan details:",_)}d(!1)}},y=async w=>{if(window.confirm("Are you sure you want to delete this challan?"))try{await Yc(pn(Et,"challans",w)),alert("Challan deleted successfully!")}catch(_){console.error("Error deleting challan:",_),alert("Failed to delete challan")}};return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:v.background,fontFamily:v.font},children:o.jsx("div",{className:"w-12 h-12 border-4 rounded-full animate-spin",style:{borderColor:`${v.accent}30`,borderTopColor:v.accent}})}):o.jsx("div",{className:"min-h-screen p-6",style:{background:v.background,fontFamily:v.font},children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx("div",{className:"mb-6",children:o.jsx("div",{className:"flex justify-end",children:o.jsx("select",{value:h,onChange:w=>A(w.target.value),className:"px-4 py-2 rounded-lg font-semibold",style:{background:v.cardBg,color:v.textPrimary,border:`2px solid ${v.borderColor}`,fontFamily:v.font},children:Object.entries(g).map(([w,_])=>o.jsx("option",{value:w,style:{background:"#1F2937",color:"#FFFFFF"},children:_.name},w))})})}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold mb-2",style:{color:v.textPrimary,fontFamily:v.headerFont,textShadow:v.design==="futuristic"?`0 0 10px ${v.accent}`:"none"},children:v.design==="futuristic"?" SAVED DELIVERY CHALLANS ":v.design==="luxury"?" Saved Delivery Challans ":" Saved Delivery Challans"}),o.jsx("p",{style:{color:v.textSecondary},children:"View and manage all your delivery challans"})]}),o.jsx("div",{className:"rounded-xl p-6",style:{background:v.cardBg,backdropFilter:"blur(20px)",border:`2px solid ${v.borderColor}`,boxShadow:v.design==="futuristic"?`0 0 20px ${v.accent}30`:"0 8px 32px rgba(0, 0, 0, 0.2)"},children:t.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(hd,{className:"w-16 h-16 mx-auto mb-4",style:{color:v.textSecondary}}),o.jsx("p",{className:"text-lg",style:{color:v.textSecondary},children:v.design==="futuristic"?" NO DELIVERY CHALLANS FOUND ":v.design==="luxury"?" No Delivery Challans Found ":" No delivery challans found"})]}):o.jsx("div",{className:"space-y-3",children:t.map((w,_)=>{var E,I,N,j,T;return o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl transition-all duration-300 cursor-pointer",style:{border:`2px solid ${v.borderColor}30`,background:`${v.cardBg}50`,backdropFilter:"blur(10px)"},onClick:()=>x(w.id),onMouseEnter:P=>{P.currentTarget.style.background=`${v.cardBg}80`,P.currentTarget.style.boxShadow=v.design==="futuristic"?`0 0 15px ${v.accent}40`:"0 4px 20px rgba(0,0,0,0.1)"},onMouseLeave:P=>{P.currentTarget.style.background=`${v.cardBg}50`,P.currentTarget.style.boxShadow="none"},children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s===w.id?o.jsx(DT,{className:"w-5 h-5",style:{color:v.accent}}):o.jsx(gE,{className:"w-5 h-5",style:{color:v.textSecondary}}),o.jsx("h3",{className:"text-lg font-bold",style:{color:v.textPrimary,fontFamily:v.headerFont},children:w.billTo.name}),o.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{background:`${v.accent}20`,color:v.accent,border:`1px solid ${v.accent}50`},children:[v.design==="futuristic"?" ":v.design==="luxury"?" ":" ","Challan #",w.challanNumber]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{style:{color:v.textSecondary},children:"Total Amount"}),o.jsxs("p",{className:"font-semibold",style:{color:v.textPrimary},children:["",w.grandTotal.toLocaleString("en-IN")]})]}),o.jsxs("div",{children:[o.jsx("p",{style:{color:v.textSecondary},children:"Date"}),o.jsx("p",{className:"font-semibold",style:{color:v.textPrimary},children:((N=(I=(E=w.createdAt)==null?void 0:E.toDate)==null?void 0:I.call(E))==null?void 0:N.toLocaleDateString("en-IN"))||"N/A"})]}),o.jsxs("div",{children:[o.jsx("p",{style:{color:v.textSecondary},children:"Status"}),o.jsx("p",{className:"font-semibold",style:{color:v.accent},children:v.design==="futuristic"?" DELIVERED ":v.design==="luxury"?" Delivered ":" Delivered"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-4 ml-6",onClick:P=>P.stopPropagation(),children:[o.jsx("button",{onClick:P=>{P.stopPropagation(),e(`/billing/challan/create?id=${w.id}`)},className:"px-4 py-2 rounded-lg font-semibold transition-all duration-300 hover:scale-105",style:{background:v.buttonBg,color:"#FFFFFF",boxShadow:`0 4px 12px ${v.accent}30`,border:`1px solid ${v.accent}`,fontFamily:v.font},children:v.design==="futuristic"?" EDIT ":v.design==="luxury"?" Edit Challan ":" Edit Challan"}),o.jsx("button",{onClick:P=>{P.stopPropagation(),y(w.id)},className:"p-2 rounded-lg transition-colors",style:{background:`${v.accent}20`,border:`1px solid ${v.accent}50`},title:"Delete Challan",onMouseEnter:P=>{P.currentTarget.style.background="#EF444450",P.currentTarget.style.borderColor="#EF4444"},onMouseLeave:P=>{P.currentTarget.style.background=`${v.accent}20`,P.currentTarget.style.borderColor=`${v.accent}50`},children:o.jsx(Sc,{className:"w-5 h-5",style:{color:"#EF4444"}})})]})]}),s===w.id&&o.jsx("div",{className:"mt-3 p-6 rounded-xl",style:{background:`${v.cardBg}30`,border:`2px solid ${v.borderColor}30`,backdropFilter:"blur(10px)"},children:u?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"w-8 h-8 border-4 rounded-full animate-spin mx-auto",style:{borderColor:`${v.accent}30`,borderTopColor:v.accent}})}):l?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold mb-2",style:{color:"#1E293B"},children:"Bill To:"}),o.jsx("p",{className:"font-semibold",style:{color:"#1E293B"},children:l.billTo.name}),o.jsx("p",{className:"text-sm",style:{color:"#64748B"},children:l.billTo.address}),o.jsxs("p",{className:"text-sm",style:{color:"#64748B"},children:["Contact: ",l.billTo.contact]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold mb-2",style:{color:"#1E293B"},children:"Ship To:"}),o.jsx("p",{className:"text-sm",style:{color:"#64748B"},children:l.shipTo||"Same as billing address"}),l.transportation&&o.jsxs(o.Fragment,{children:[o.jsxs("p",{className:"text-sm mt-2",style:{color:"#64748B"},children:["Vehicle: ",l.transportation.vehicleNumber]}),o.jsxs("p",{className:"text-sm",style:{color:"#64748B"},children:["Delivery: ",l.transportation.deliveryLocation]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold mb-2",style:{color:"#1E293B"},children:"Challan Details:"}),o.jsxs("p",{className:"text-sm",style:{color:"#64748B"},children:["Date: ",l.challanDate||"N/A"]}),((j=l.receivedBy)==null?void 0:j.name)&&o.jsxs("p",{className:"text-sm",style:{color:"#64748B"},children:["Received By: ",l.receivedBy.name]}),((T=l.deliveredBy)==null?void 0:T.name)&&o.jsxs("p",{className:"text-sm",style:{color:"#64748B"},children:["Delivered By: ",l.deliveredBy.name]})]})]}),l.items&&l.items.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold mb-3",style:{color:"#1E293B"},children:"Items:"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full border-collapse",style:{border:"1px solid #E2E8F0"},children:[o.jsx("thead",{style:{background:"rgba(245, 158, 11, 0.1)"},children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-2 text-left text-sm",style:{border:"1px solid #E2E8F0",color:"#1E293B"},children:"#"}),o.jsx("th",{className:"px-3 py-2 text-left text-sm",style:{border:"1px solid #E2E8F0",color:"#1E293B"},children:"Item"}),o.jsx("th",{className:"px-3 py-2 text-left text-sm",style:{border:"1px solid #E2E8F0",color:"#1E293B"},children:"HSN/SAC"}),o.jsx("th",{className:"px-3 py-2 text-center text-sm",style:{border:"1px solid #E2E8F0",color:"#1E293B"},children:"Qty"}),o.jsx("th",{className:"px-3 py-2 text-center text-sm",style:{border:"1px solid #E2E8F0",color:"#1E293B"},children:"Unit"}),o.jsx("th",{className:"px-3 py-2 text-right text-sm",style:{border:"1px solid #E2E8F0",color:"#1E293B"},children:"Price"}),o.jsx("th",{className:"px-3 py-2 text-center text-sm",style:{border:"1px solid #E2E8F0",color:"#1E293B"},children:"GST%"}),o.jsx("th",{className:"px-3 py-2 text-right text-sm",style:{border:"1px solid #E2E8F0",color:"#1E293B"},children:"Total"})]})}),o.jsx("tbody",{children:l.items.map((P,k)=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-3 py-2 text-sm",style:{border:"1px solid #E2E8F0",color:"#64748B"},children:k+1}),o.jsx("td",{className:"px-3 py-2 text-sm",style:{border:"1px solid #E2E8F0",color:"#1E293B"},children:P.itemName}),o.jsx("td",{className:"px-3 py-2 text-sm",style:{border:"1px solid #E2E8F0",color:"#64748B"},children:P.hsnSac}),o.jsx("td",{className:"px-3 py-2 text-sm text-center",style:{border:"1px solid #E2E8F0",color:"#1E293B"},children:P.quantity}),o.jsx("td",{className:"px-3 py-2 text-sm text-center",style:{border:"1px solid #E2E8F0",color:"#64748B"},children:P.unit}),o.jsxs("td",{className:"px-3 py-2 text-sm text-right",style:{border:"1px solid #E2E8F0",color:"#1E293B"},children:["",P.pricePerUnit.toFixed(2)]}),o.jsxs("td",{className:"px-3 py-2 text-sm text-center",style:{border:"1px solid #E2E8F0",color:"#64748B"},children:[P.gstRate,"%"]}),o.jsxs("td",{className:"px-3 py-2 text-sm text-right font-semibold",style:{border:"1px solid #E2E8F0",color:"#1E293B"},children:["",P.total.toFixed(2)]})]},k))})]})})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("div",{className:"w-full md:w-1/3 space-y-2",children:[o.jsxs("div",{className:"flex justify-between py-2",style:{borderBottom:"1px solid #E2E8F0"},children:[o.jsx("span",{style:{color:"#64748B"},children:"Subtotal:"}),o.jsxs("span",{className:"font-semibold",style:{color:"#1E293B"},children:["",(l.subtotal||0).toLocaleString("en-IN")]})]}),o.jsxs("div",{className:"flex justify-between py-2",style:{borderBottom:"1px solid #E2E8F0"},children:[o.jsx("span",{style:{color:"#64748B"},children:"Total GST:"}),o.jsxs("span",{className:"font-semibold",style:{color:"#1E293B"},children:["",(l.totalGST||0).toLocaleString("en-IN")]})]}),o.jsxs("div",{className:"flex justify-between py-2",style:{borderBottom:"2px solid #1E293B"},children:[o.jsx("span",{className:"font-bold",style:{color:"#1E293B"},children:"Grand Total:"}),o.jsxs("span",{className:"font-bold text-lg",style:{color:"#1E293B"},children:["",l.grandTotal.toLocaleString("en-IN")]})]})]})}),l.termsConditions&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold mb-2",style:{color:"#1E293B"},children:"Terms & Conditions:"}),o.jsx("p",{className:"text-sm",style:{color:"#64748B"},children:l.termsConditions})]})]}):o.jsx("p",{className:"text-center",style:{color:"#64748B"},children:"Failed to load challan details"})})]},w.id)})})})]})})},r0={name:"SHREE DATTA ENTERPRISES",address:"M NO278, A/P SHIRASHI, SANGLI, Sangli,",state:"MAHARASHTRA, 415408",phone:"9850127385",email:"SUNILVPATIL27@GMAIL.COM",gstin:"27AOJPP8472L2Z2",stateCode:"27-Maharashtra",bankName:"KOTAK MAHINDRA BANK LIMITED, SANGALI BRANCH",accountNo:"9850127385",ifsc:"KKBK0002046",accountHolder:"SHREE DATTA ENTERPRISES"},HBt=()=>{const e=ds(),t=C.useRef(null),[r]=WT(),n=r.get("id"),[i,s]=C.useState([]),[a,l]=C.useState(""),[c,u]=C.useState(""),[d,h]=C.useState(new Date().toISOString().split("T")[0]),[A,g]=C.useState(""),[v,x]=C.useState(""),[y,w]=C.useState(""),[_,E]=C.useState(""),[I,N]=C.useState(""),[j,T]=C.useState(""),[P,k]=C.useState(0),[R,O]=C.useState("Cash"),[M,H]=C.useState(""),[K,Y]=C.useState(""),[ne,le]=C.useState("");C.useEffect(()=>{(async()=>{try{const Fe=(await Si(jr(Et,"suppliers"))).docs.map(He=>({id:He.id,...He.data()}));s(Fe)}catch(z){console.error("Error fetching suppliers:",z)}})()},[]),C.useEffect(()=>{(async()=>{var z,Fe,He,ke;if(n)try{const Te=await ql(pn(Et,"purchases",n));if(Te.exists()){const Ze=Te.data();u(Ze.purchaseNumber||""),h(Ze.purchaseDate||""),g(((z=Ze.supplier)==null?void 0:z.name)||""),x(((Fe=Ze.supplier)==null?void 0:Fe.address)||""),w(((He=Ze.supplier)==null?void 0:He.contact)||""),E(((ke=Ze.supplier)==null?void 0:ke.gstin)||""),N(Ze.vehicleNumber||""),T(Ze.deliveryDate||""),k(Ze.paidAmount||0),O(Ze.paymentMode||"Cash"),H(Ze.bankName||""),Y(Ze.paymentDate||""),le(Ze.notes||""),Ze.items&&Ze.items.length>0&&ue(Ze.items.map((ze,Tt)=>({id:(Tt+1).toString(),itemName:ze.itemName||"",hsnSac:ze.hsnSac||"",quantity:ze.quantity||1,unit:ze.unit||"Kg",pricePerUnit:ze.pricePerUnit||0,gstRate:ze.gstRate||18})))}}catch(Te){console.error("Error loading purchase:",Te),alert("Failed to load purchase invoice")}})()},[n]);const te=Re=>{l(Re);const z=i.find(Fe=>Fe.id===Re);z&&(g(z.name),x(z.address),w(z.contactNo),E(z.gstin||""))},[X,ue]=C.useState([{id:"1",itemName:"",hsnSac:"",quantity:1,unit:"Kg",pricePerUnit:0,gstRate:18}]),ve=()=>{ue([...X,{id:Date.now().toString(),itemName:"",hsnSac:"",quantity:1,unit:"Kg",pricePerUnit:0,gstRate:18}])},V=Re=>{X.length>1&&ue(X.filter(z=>z.id!==Re))},q=(Re,z,Fe)=>{ue(X.map(He=>He.id===Re?{...He,[z]:Fe}:He))},ee=Re=>(Number(Re.quantity)||0)*(Number(Re.pricePerUnit)||0),re=Re=>ee(Re)*Re.gstRate/100,de=Re=>ee(Re)+re(Re),Ae=()=>X.reduce((Re,z)=>Re+ee(z),0),_e=()=>X.reduce((Re,z)=>Re+re(z),0),ye=()=>Ae()+_e(),ce=()=>ye()-(Number(P)||0),Ne=Re=>{const z=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],Fe=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],He=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"];if(Re===0)return"Zero Rupees only";const ke=mt=>mt===0?"":mt<10?z[mt]:mt<20?He[mt-10]:mt<100?Fe[Math.floor(mt/10)]+(mt%10!==0?" "+z[mt%10]:""):z[Math.floor(mt/100)]+" Hundred"+(mt%100!==0?" "+ke(mt%100):""),Te=Math.floor(Re/1e7),Ze=Math.floor(Re%1e7/1e5),ze=Math.floor(Re%1e5/1e3),Tt=Re%1e3;let Bt="";return Te>0&&(Bt+=ke(Te)+" Crore "),Ze>0&&(Bt+=ke(Ze)+" Lakh "),ze>0&&(Bt+=ke(ze)+" Thousand "),Tt>0&&(Bt+=ke(Tt)),Bt.trim()+" Rupees only"},oe=async()=>{try{const Re={purchaseNumber:c,purchaseDate:d,supplier:{name:A,address:v,contact:y,gstin:_},vehicleNumber:I,deliveryDate:j,items:X.map(z=>({itemName:z.itemName,hsnSac:z.hsnSac,quantity:Number(z.quantity)||0,unit:z.unit,pricePerUnit:Number(z.pricePerUnit)||0,gstRate:z.gstRate,total:de(z)})),subtotal:Ae(),totalGST:_e(),grandTotal:ye(),paidAmount:Number(P)||0,balance:ce(),paymentMode:R,bankName:R==="Bank"?M:"",paymentDate:K,notes:ne,updatedAt:Yi()};n?(await Ns(pn(Et,"purchases",n),Re),alert("Purchase invoice updated successfully!")):(await ka(jr(Et,"purchases"),{...Re,createdAt:Yi()}),alert("Purchase invoice saved successfully!"))}catch(Re){console.error("Error saving purchase:",Re),alert("Failed to save purchase invoice")}},We=()=>{const Re=document.getElementById("purchase-invoice");Re&&Vc(Re,{scale:3,useCORS:!0,backgroundColor:"#ffffff",scrollX:0,scrollY:0,windowWidth:Re.scrollWidth,windowHeight:Re.scrollHeight}).then(z=>{const Fe=z.toDataURL("image/png"),He=new Hr("p","mm","a4"),Te=210,Ze=z.height*Te/z.width;let ze=Ze,Tt=0;for(He.addImage(Fe,"PNG",0,Tt,Te,Ze),ze-=297;ze>0;)Tt=ze-Ze,He.addPage(),He.addImage(Fe,"PNG",0,Tt,Te,Ze),ze-=297;He.save(`Purchase_Invoice_${c||"draft"}.pdf`)})};return o.jsx("div",{className:"min-h-screen p-4 bg-gray-100",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx("div",{className:"mb-6 flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{onClick:()=>e("/billing/software"),className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:[o.jsx(go,{className:"h-4 w-4"}),"Back"]}),o.jsx("h1",{className:"text-3xl font-bold",children:"Purchase Invoice"})]})}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Purchase Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Purchase Invoice Number *"}),o.jsx("input",{type:"text",value:c,onChange:Re=>u(Re.target.value),placeholder:"P/2025/001",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Purchase Date *"}),o.jsx("input",{type:"date",value:d,onChange:Re=>h(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold mb-3",children:"Supplier Details:"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Select Supplier"}),o.jsxs("select",{value:a,onChange:Re=>te(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Supplier or Add New --"}),i.map(Re=>o.jsx("option",{value:Re.id,children:Re.name},Re.id))]})]}),o.jsx("input",{type:"text",value:A,onChange:Re=>g(Re.target.value),placeholder:"Supplier Name *",className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),o.jsx("textarea",{value:v,onChange:Re=>x(Re.target.value),placeholder:"Supplier Address",className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:2}),o.jsx("input",{type:"text",value:y,onChange:Re=>w(Re.target.value),placeholder:"Contact Number",className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),o.jsx("input",{type:"text",value:_,onChange:Re=>E(Re.target.value),placeholder:"Supplier GSTIN (Optional)",className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold mb-3",children:"Delivery Details:"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("input",{type:"text",value:I,onChange:Re=>N(Re.target.value),placeholder:"Vehicle Number",className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),o.jsx("input",{type:"date",value:j,onChange:Re=>T(Re.target.value),placeholder:"Delivery Date",className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("h3",{className:"text-lg font-bold",children:"Items Purchased"}),o.jsxs("button",{onClick:ve,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[o.jsx(dh,{className:"h-4 w-4"}),"Add Item"]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"border border-gray-300 px-2 py-2 text-sm",children:"#"}),o.jsx("th",{className:"border border-gray-300 px-2 py-2 text-sm",children:"Item Name"}),o.jsx("th",{className:"border border-gray-300 px-2 py-2 text-sm",children:"HSN/SAC"}),o.jsx("th",{className:"border border-gray-300 px-2 py-2 text-sm",children:"Qty"}),o.jsx("th",{className:"border border-gray-300 px-2 py-2 text-sm",children:"Unit"}),o.jsx("th",{className:"border border-gray-300 px-2 py-2 text-sm",children:"Price/Unit"}),o.jsx("th",{className:"border border-gray-300 px-2 py-2 text-sm",children:"GST%"}),o.jsx("th",{className:"border border-gray-300 px-2 py-2 text-sm",children:"Amount"}),o.jsx("th",{className:"border border-gray-300 px-2 py-2 text-sm",children:"Action"})]})}),o.jsx("tbody",{children:X.map((Re,z)=>o.jsxs("tr",{children:[o.jsx("td",{className:"border border-gray-300 px-2 py-1 text-center",children:z+1}),o.jsx("td",{className:"border border-gray-300 px-2 py-1",children:o.jsx("input",{type:"text",value:Re.itemName,onChange:Fe=>q(Re.id,"itemName",Fe.target.value),className:"w-full px-2 py-1 border-0 focus:outline-none"})}),o.jsx("td",{className:"border border-gray-300 px-2 py-1",children:o.jsx("input",{type:"text",value:Re.hsnSac,onChange:Fe=>q(Re.id,"hsnSac",Fe.target.value),className:"w-full px-2 py-1 border-0 focus:outline-none"})}),o.jsx("td",{className:"border border-gray-300 px-2 py-1",children:o.jsx("input",{type:"number",value:Re.quantity,onChange:Fe=>q(Re.id,"quantity",Fe.target.value),className:"w-20 px-2 py-1 border-0 focus:outline-none"})}),o.jsx("td",{className:"border border-gray-300 px-2 py-1",children:o.jsxs("select",{value:Re.unit,onChange:Fe=>q(Re.id,"unit",Fe.target.value),className:"w-full px-2 py-1 border-0 focus:outline-none",children:[o.jsx("option",{value:"Bag",children:"BAGS (Bag)"}),o.jsx("option",{value:"Btl",children:"BOTTLES (Btl)"}),o.jsx("option",{value:"Box",children:"BOX (Box)"}),o.jsx("option",{value:"Bdl",children:"BUNDLES (Bdl)"}),o.jsx("option",{value:"Can",children:"CANS (Can)"}),o.jsx("option",{value:"Ctn",children:"CARTONS (Ctn)"}),o.jsx("option",{value:"Dzn",children:"DOZENS (Dzn)"}),o.jsx("option",{value:"Gm",children:"GRAMMES (Gm)"}),o.jsx("option",{value:"Kg",children:"KILOGRAMS (Kg)"}),o.jsx("option",{value:"Ltr",children:"LITRE (Ltr)"}),o.jsx("option",{value:"Mtr",children:"METERS (Mtr)"}),o.jsx("option",{value:"Ml",children:"MILILITRE (Ml)"}),o.jsx("option",{value:"Nos",children:"NUMBERS (Nos)"}),o.jsx("option",{value:"Pac",children:"PACKS (Pac)"}),o.jsx("option",{value:"Prs",children:"PAIRS (Prs)"}),o.jsx("option",{value:"Pcs",children:"PIECES (Pcs)"}),o.jsx("option",{value:"Qtl",children:"QUINTAL (Qtl)"}),o.jsx("option",{value:"Rol",children:"ROLLS (Rol)"}),o.jsx("option",{value:"Sqf",children:"SQUARE FEET (Sqf)"})]})}),o.jsx("td",{className:"border border-gray-300 px-2 py-1",children:o.jsx("input",{type:"number",value:Re.pricePerUnit,onChange:Fe=>q(Re.id,"pricePerUnit",Fe.target.value),className:"w-24 px-2 py-1 border-0 focus:outline-none"})}),o.jsx("td",{className:"border border-gray-300 px-2 py-1",children:o.jsxs("select",{value:Re.gstRate,onChange:Fe=>q(Re.id,"gstRate",parseFloat(Fe.target.value)),className:"w-full px-2 py-1 border-0 focus:outline-none",children:[o.jsx("option",{value:"0",children:"0%"}),o.jsx("option",{value:"5",children:"5%"}),o.jsx("option",{value:"12",children:"12%"}),o.jsx("option",{value:"18",children:"18%"}),o.jsx("option",{value:"28",children:"28%"})]})}),o.jsxs("td",{className:"border border-gray-300 px-2 py-1 text-right font-semibold",children:["",de(Re).toFixed(2)]}),o.jsx("td",{className:"border border-gray-300 px-2 py-1 text-center",children:o.jsx("button",{onClick:()=>V(Re.id),className:"text-red-600 hover:text-red-800",disabled:X.length===1,children:o.jsx(Sc,{className:"h-4 w-4"})})})]},Re.id))})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Paid Amount ()"}),o.jsx("input",{type:"number",value:P,onChange:Re=>k(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Payment Mode"}),o.jsxs("select",{value:R,onChange:Re=>O(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"Cash",children:"Cash"}),o.jsx("option",{value:"Bank",children:"Bank"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Balance Due"}),o.jsx("input",{type:"text",value:`${ce().toFixed(2)}`,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 font-bold text-red-600"})]})]}),R==="Bank"&&o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Bank Name"}),o.jsx("input",{type:"text",value:M,onChange:Re=>H(Re.target.value),placeholder:"Enter bank name (e.g., HDFC Bank, SBI, etc.)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Payment Date"}),o.jsx("input",{type:"date",value:K,onChange:Re=>Y(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Notes"}),o.jsx("textarea",{value:ne,onChange:Re=>le(Re.target.value),placeholder:"Additional notes about this purchase...",className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:2})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("button",{onClick:oe,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:[o.jsx(mE,{className:"h-4 w-4"}),"Save Purchase Invoice"]}),o.jsxs("button",{onClick:We,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[o.jsx(na,{className:"h-4 w-4"}),"Download PDF"]})]})]}),o.jsxs("div",{id:"purchase-invoice",ref:t,className:"bg-white mx-auto",style:{width:"800px",padding:"20px",fontFamily:"Arial, sans-serif",fontSize:"12px",lineHeight:"1.4",boxShadow:"0 0 10px rgba(0,0,0,0.1)",position:"relative",background:"#ffffff url(/Shree%20Datta%20Enterprises_LOGO%201.png) no-repeat center center",backgroundSize:"350px auto"},children:[o.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.85)",zIndex:0}}),o.jsxs("div",{style:{position:"relative",zIndex:1},children:[o.jsx("div",{style:{border:"2px solid black",padding:"8px",marginBottom:"8px"},children:o.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"flex-start"},children:[o.jsx("div",{style:{width:"80px",height:"80px",flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx("img",{src:"/Shree Datta Enterprises_LOGO 2.jpg",alt:"Shree Datta Enterprises Logo",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}})}),o.jsxs("div",{style:{flex:1},children:[o.jsx("h1",{style:{fontSize:"18px",fontWeight:"bold",marginBottom:"4px",lineHeight:"1.2"},children:r0.name}),o.jsx("p",{style:{fontSize:"10px",marginBottom:"2px",lineHeight:"1.3"},children:r0.address}),o.jsx("p",{style:{fontSize:"10px",marginBottom:"4px",lineHeight:"1.3"},children:r0.state}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",fontSize:"10px"},children:[o.jsxs("div",{children:[o.jsxs("p",{style:{marginBottom:"2px",lineHeight:"1.3"},children:[o.jsx("span",{style:{fontWeight:"600"},children:"Phone:"})," ",r0.phone]}),o.jsxs("p",{style:{lineHeight:"1.3"},children:[o.jsx("span",{style:{fontWeight:"600"},children:"GSTIN:"})," ",r0.gstin]})]}),o.jsxs("div",{children:[o.jsxs("p",{style:{marginBottom:"2px",lineHeight:"1.3"},children:[o.jsx("span",{style:{fontWeight:"600"},children:"Email:"})," ",r0.email]}),o.jsxs("p",{style:{lineHeight:"1.3"},children:[o.jsx("span",{style:{fontWeight:"600"},children:"State:"})," ",r0.stateCode]})]})]})]})]})}),o.jsx("div",{style:{textAlign:"center",padding:"8px",backgroundColor:"#f3f4f6",border:"1px solid black",marginBottom:"8px"},children:o.jsx("h2",{style:{fontSize:"16px",fontWeight:"bold",margin:0},children:"PURCHASE INVOICE"})}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginBottom:"8px"},children:[o.jsxs("div",{style:{border:"1px solid black",padding:"8px"},children:[o.jsx("p",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"4px",lineHeight:"1.3"},children:"Supplier Details:"}),o.jsx("p",{style:{fontWeight:"600",fontSize:"10px",marginBottom:"2px",lineHeight:"1.3"},children:A||"[Supplier Name]"}),o.jsx("p",{style:{fontSize:"10px",marginBottom:"2px",lineHeight:"1.3"},children:v||"[Supplier Address]"}),o.jsxs("p",{style:{fontSize:"10px",marginBottom:"2px",lineHeight:"1.3"},children:["Contact: ",y||"[Contact]"]}),_&&o.jsxs("p",{style:{fontSize:"10px",lineHeight:"1.3"},children:["GSTIN: ",_]})]}),o.jsxs("div",{style:{border:"1px solid black",padding:"8px"},children:[o.jsx("p",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"4px",lineHeight:"1.3"},children:"Purchase Details:"}),o.jsxs("p",{style:{fontSize:"10px",marginBottom:"2px",lineHeight:"1.3"},children:["Invoice No: ",c||"[Purchase No]"]}),o.jsxs("p",{style:{fontSize:"10px",marginBottom:"2px",lineHeight:"1.3"},children:["Date: ",d?new Date(d).toLocaleDateString("en-GB"):"[Date]"]}),I&&o.jsxs("p",{style:{fontSize:"10px",marginBottom:"2px",lineHeight:"1.3"},children:["Vehicle: ",I]}),j&&o.jsxs("p",{style:{fontSize:"10px",lineHeight:"1.3"},children:["Delivery: ",new Date(j).toLocaleDateString("en-GB")]})]})]}),o.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",border:"1px solid black",marginBottom:"8px",fontSize:"10px"},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{backgroundColor:"#f3f4f6"},children:[o.jsx("th",{style:{border:"1px solid black",padding:"4px 6px",lineHeight:"1.3"},children:"#"}),o.jsx("th",{style:{border:"1px solid black",padding:"4px 6px",lineHeight:"1.3"},children:"Item name"}),o.jsx("th",{style:{border:"1px solid black",padding:"4px 6px",lineHeight:"1.3"},children:"HSN/SAC"}),o.jsx("th",{style:{border:"1px solid black",padding:"4px 6px",lineHeight:"1.3"},children:"Qty"}),o.jsx("th",{style:{border:"1px solid black",padding:"4px 6px",lineHeight:"1.3"},children:"Unit"}),o.jsx("th",{style:{border:"1px solid black",padding:"4px 6px",lineHeight:"1.3"},children:"Price/Unit()"}),o.jsx("th",{style:{border:"1px solid black",padding:"4px 6px",lineHeight:"1.3"},children:"GST()"}),o.jsx("th",{style:{border:"1px solid black",padding:"4px 6px",lineHeight:"1.3"},children:"Amount()"})]})}),o.jsxs("tbody",{children:[X.map((Re,z)=>o.jsxs("tr",{children:[o.jsx("td",{style:{border:"1px solid black",padding:"4px 6px",textAlign:"center",lineHeight:"1.3"},children:z+1}),o.jsx("td",{style:{border:"1px solid black",padding:"4px 6px",lineHeight:"1.3"},children:Re.itemName||""}),o.jsx("td",{style:{border:"1px solid black",padding:"4px 6px",lineHeight:"1.3"},children:Re.hsnSac||""}),o.jsx("td",{style:{border:"1px solid black",padding:"4px 6px",textAlign:"center",lineHeight:"1.3"},children:Re.quantity}),o.jsx("td",{style:{border:"1px solid black",padding:"4px 6px",textAlign:"center",lineHeight:"1.3"},children:Re.unit}),o.jsxs("td",{style:{border:"1px solid black",padding:"4px 6px",textAlign:"right",lineHeight:"1.3"},children:[" ",Number(Re.pricePerUnit).toFixed(2)]}),o.jsxs("td",{style:{border:"1px solid black",padding:"4px 6px",textAlign:"right",lineHeight:"1.3"},children:[" ",re(Re).toFixed(2)," (",Re.gstRate,"%)"]}),o.jsxs("td",{style:{border:"1px solid black",padding:"4px 6px",textAlign:"right",fontWeight:"600",lineHeight:"1.3"},children:[" ",de(Re).toFixed(2)]})]},Re.id)),o.jsxs("tr",{style:{fontWeight:"bold"},children:[o.jsx("td",{colSpan:3,style:{border:"1px solid black",padding:"4px 6px",lineHeight:"1.3"},children:"Total"}),o.jsx("td",{style:{border:"1px solid black",padding:"4px 6px",textAlign:"center",lineHeight:"1.3"},children:X.reduce((Re,z)=>Re+(Number(z.quantity)||0),0)}),o.jsx("td",{colSpan:2,style:{border:"1px solid black",padding:"4px 6px"}}),o.jsxs("td",{style:{border:"1px solid black",padding:"4px 6px",textAlign:"right",lineHeight:"1.3"},children:[" ",_e().toFixed(2)]}),o.jsxs("td",{style:{border:"1px solid black",padding:"4px 6px",textAlign:"right",lineHeight:"1.3"},children:[" ",ye().toFixed(2)]})]})]})]}),o.jsx("div",{style:{border:"1px solid black",marginBottom:"8px"},children:o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",fontSize:"10px"},children:[o.jsx("div",{style:{borderBottom:"1px solid black",borderRight:"1px solid black",padding:"6px 8px",fontWeight:"bold",lineHeight:"1.4"},children:"Grand Total"}),o.jsxs("div",{style:{borderBottom:"1px solid black",padding:"6px 8px",textAlign:"right",fontWeight:"bold",lineHeight:"1.4"},children:[":  ",ye().toFixed(2)]}),o.jsx("div",{style:{borderBottom:"1px solid black",padding:"6px 8px",fontWeight:"600",gridColumn:"1 / -1",lineHeight:"1.4"},children:"Amount in Words:"}),o.jsx("div",{style:{borderBottom:"1px solid black",padding:"6px 8px",fontSize:"10px",gridColumn:"1 / -1",lineHeight:"1.4"},children:Ne(Math.round(ye()))}),o.jsxs("div",{style:{borderBottom:"1px solid black",borderRight:"1px solid black",padding:"6px 8px",lineHeight:"1.4"},children:["Paid (",R,R==="Bank"&&M?` - ${M}`:"",")"]}),o.jsxs("div",{style:{borderBottom:"1px solid black",padding:"6px 8px",textAlign:"right",color:"#10B981",fontWeight:"600",lineHeight:"1.4"},children:[":  ",Number(P).toFixed(2)]}),K&&o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{borderBottom:"1px solid black",borderRight:"1px solid black",padding:"6px 8px",lineHeight:"1.4"},children:"Payment Date"}),o.jsxs("div",{style:{borderBottom:"1px solid black",padding:"6px 8px",textAlign:"right",lineHeight:"1.4"},children:[": ",new Date(K).toLocaleDateString("en-GB")]})]}),o.jsx("div",{style:{borderRight:"1px solid black",padding:"6px 8px",fontWeight:"600",color:"#EF4444",lineHeight:"1.4"},children:"Balance Due"}),o.jsxs("div",{style:{padding:"6px 8px",textAlign:"right",fontWeight:"600",color:"#EF4444",lineHeight:"1.4"},children:[":  ",ce().toFixed(2)]})]})}),ne&&o.jsxs("div",{style:{border:"1px solid black",marginBottom:"8px"},children:[o.jsx("p",{style:{fontWeight:"bold",padding:"6px 8px",borderBottom:"1px solid black",fontSize:"10px",lineHeight:"1.4"},children:"Notes:"}),o.jsx("p",{style:{padding:"6px 8px",fontSize:"10px",lineHeight:"1.4"},children:ne})]}),o.jsxs("div",{style:{border:"1px solid black",padding:"8px",textAlign:"right"},children:[o.jsxs("p",{style:{fontWeight:"bold",marginBottom:"40px",fontSize:"10px",lineHeight:"1.4"},children:["For ",r0.name,":"]}),o.jsx("p",{style:{fontSize:"10px",lineHeight:"1.4"},children:"Authorized Signatory"})]})]})]})]})})},QBt=()=>{const e=ds(),[t,r]=C.useState([]),[n,i]=C.useState([]),[s,a]=C.useState(!0),[l,c]=C.useState(""),[u,d]=C.useState("all"),[h,A]=C.useState({totalPurchases:0,totalAmount:0,totalPaid:0,totalPending:0});C.useEffect(()=>{const x=Ai(jr(Et,"purchases"),ia("createdAt","desc")),y=vs(x,w=>{const _=[];let E=0,I=0,N=0;w.docs.forEach(j=>{const T=j.data(),P={id:j.id,purchaseNumber:T.purchaseNumber||"N/A",purchaseDate:T.purchaseDate||"",supplier:T.supplier||{name:"Unknown",address:"",contact:""},grandTotal:T.grandTotal||0,paidAmount:T.paidAmount||0,balance:T.balance||0,paymentMode:T.paymentMode||"Cash",items:T.items||[],notes:T.notes||"",createdAt:T.createdAt};_.push(P),E+=P.grandTotal,I+=P.paidAmount,N+=P.balance}),r(_),i(_),A({totalPurchases:_.length,totalAmount:E,totalPaid:I,totalPending:N}),a(!1)},w=>{console.error("Error fetching purchases:",w),a(!1)});return()=>y()},[]),C.useEffect(()=>{let x=t;u==="paid"?x=x.filter(y=>y.balance===0):u==="pending"&&(x=x.filter(y=>y.balance>0)),l&&(x=x.filter(y=>y.purchaseNumber.toLowerCase().includes(l.toLowerCase())||y.supplier.name.toLowerCase().includes(l.toLowerCase()))),i(x)},[l,u,t]);const g=async(x,y)=>{if(window.confirm(`Are you sure you want to delete purchase invoice ${y}?`))try{await Yc(pn(Et,"purchases",x)),alert("Purchase invoice deleted successfully!")}catch(w){console.error("Error deleting purchase:",w),alert("Failed to delete purchase invoice")}},v=()=>{const x=new Hr;x.setFontSize(18),x.text("Purchase History Report",14,20),x.setFontSize(10),x.text(`Total Purchases: ${h.totalPurchases}`,14,30),x.text(`Total Amount: ${h.totalAmount.toLocaleString("en-IN")}`,14,36),x.text(`Total Paid: ${h.totalPaid.toLocaleString("en-IN")}`,14,42),x.text(`Total Pending: ${h.totalPending.toLocaleString("en-IN")}`,14,48);let y=60;x.setFontSize(12),x.text("Purchase Details:",14,y),y+=10,x.setFontSize(8),n.forEach((w,_)=>{y>270&&(x.addPage(),y=20),x.text(`${_+1}. ${w.purchaseNumber} - ${w.supplier.name}`,14,y),y+=5,x.text(`   Date: ${new Date(w.purchaseDate).toLocaleDateString("en-IN")} | Total: ${w.grandTotal.toFixed(2)} | Paid: ${w.paidAmount.toFixed(2)} | Balance: ${w.balance.toFixed(2)}`,14,y),y+=8}),x.save("Purchase_History.pdf")};return o.jsx("div",{className:"min-h-screen p-4 md:p-6",style:{background:"linear-gradient(135deg, #F5F9FF 0%, #EBF2FA 100%)"},children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{onClick:()=>e("/billing/software"),className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-all",children:[o.jsx(go,{className:"h-4 w-4"}),"Back"]}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",style:{color:"#1E293B"},children:"Purchase History"}),o.jsx("p",{className:"text-sm",style:{color:"#64748B"},children:"View and manage all purchase invoices"})]})]}),o.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-all",children:[o.jsx(na,{className:"h-4 w-4"}),"Export PDF"]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[o.jsx("div",{className:"rounded-xl p-6 transition-all duration-300 hover:scale-105",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(40px) saturate(180%)",border:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.06)"},children:o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"w-16 h-16 rounded-xl flex items-center justify-center",style:{background:"linear-gradient(135deg, #8B5CF6, #7C3AED)"},children:o.jsx(fm,{className:"w-8 h-8 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm",style:{color:"#64748B"},children:"Total Purchases"}),o.jsx("p",{className:"text-3xl font-bold",style:{color:"#1E293B"},children:h.totalPurchases})]})]})}),o.jsx("div",{className:"rounded-xl p-6 transition-all duration-300 hover:scale-105",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(40px) saturate(180%)",border:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.06)"},children:o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"w-16 h-16 rounded-xl flex items-center justify-center",style:{background:"linear-gradient(135deg, #3B82F6, #2563EB)"},children:o.jsx("span",{className:"text-2xl font-bold text-white",children:""})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm",style:{color:"#64748B"},children:"Total Amount"}),o.jsxs("p",{className:"text-2xl font-bold",style:{color:"#1E293B"},children:["",h.totalAmount.toLocaleString("en-IN")]})]})]})}),o.jsx("div",{className:"rounded-xl p-6 transition-all duration-300 hover:scale-105",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(40px) saturate(180%)",border:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.06)"},children:o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"w-16 h-16 rounded-xl flex items-center justify-center",style:{background:"linear-gradient(135deg, #10B981, #059669)"},children:o.jsx("span",{className:"text-2xl font-bold text-white",children:""})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm",style:{color:"#64748B"},children:"Total Paid"}),o.jsxs("p",{className:"text-2xl font-bold",style:{color:"#10B981"},children:["",h.totalPaid.toLocaleString("en-IN")]})]})]})}),o.jsx("div",{className:"rounded-xl p-6 transition-all duration-300 hover:scale-105",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(40px) saturate(180%)",border:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.06)"},children:o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"w-16 h-16 rounded-xl flex items-center justify-center",style:{background:"linear-gradient(135deg, #EF4444, #DC2626)"},children:o.jsx("span",{className:"text-2xl font-bold text-white",children:""})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm",style:{color:"#64748B"},children:"Total Pending"}),o.jsxs("p",{className:"text-2xl font-bold",style:{color:"#EF4444"},children:["",h.totalPending.toLocaleString("en-IN")]})]})]})})]}),o.jsx("div",{className:"rounded-xl p-6 mb-6",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(40px) saturate(180%)",border:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.06)"},children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),o.jsx("input",{type:"text",placeholder:"Search by purchase number or supplier name...",value:l,onChange:x=>c(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>d("all"),className:`px-4 py-2 rounded-lg font-semibold transition-all ${u==="all"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"All"}),o.jsx("button",{onClick:()=>d("paid"),className:`px-4 py-2 rounded-lg font-semibold transition-all ${u==="paid"?"bg-green-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Paid"}),o.jsx("button",{onClick:()=>d("pending"),className:`px-4 py-2 rounded-lg font-semibold transition-all ${u==="pending"?"bg-red-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Pending"})]})]})}),o.jsxs("div",{className:"rounded-xl p-6",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(40px) saturate(180%)",border:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.06)"},children:[o.jsxs("h2",{className:"text-2xl font-bold mb-6",style:{color:"#1E293B"},children:["Purchase Invoices (",n.length,")"]}),s?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto"})}):n.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(fm,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),o.jsx("p",{style:{color:"#64748B"},children:"No purchase invoices found"}),o.jsx("button",{onClick:()=>e("/billing/purchase/create"),className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all",children:"Create First Purchase Invoice"})]}):o.jsx("div",{className:"space-y-4",children:n.map(x=>o.jsx("div",{className:"p-4 rounded-xl transition-all duration-300 hover:bg-white/50",style:{border:"1px solid rgba(148, 163, 184, 0.2)"},children:o.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-2",children:[o.jsx("h3",{className:"text-lg font-bold",style:{color:"#1E293B"},children:x.supplier.name}),o.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{background:"rgba(139, 92, 246, 0.1)",color:"#8B5CF6"},children:x.purchaseNumber}),x.balance===0?o.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{background:"rgba(16, 185, 129, 0.1)",color:"#10B981"},children:"Paid"}):o.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{background:"rgba(239, 68, 68, 0.1)",color:"#EF4444"},children:"Pending"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{style:{color:"#64748B"},children:"Date"}),o.jsx("p",{className:"font-semibold",style:{color:"#1E293B"},children:new Date(x.purchaseDate).toLocaleDateString("en-IN")})]}),o.jsxs("div",{children:[o.jsx("p",{style:{color:"#64748B"},children:"Total Amount"}),o.jsxs("p",{className:"font-semibold",style:{color:"#1E293B"},children:["",x.grandTotal.toLocaleString("en-IN")]})]}),o.jsxs("div",{children:[o.jsx("p",{style:{color:"#64748B"},children:"Paid"}),o.jsxs("p",{className:"font-semibold",style:{color:"#10B981"},children:["",x.paidAmount.toLocaleString("en-IN")]})]}),o.jsxs("div",{children:[o.jsx("p",{style:{color:"#64748B"},children:"Balance"}),o.jsxs("p",{className:"font-semibold",style:{color:x.balance>0?"#EF4444":"#10B981"},children:["",x.balance.toLocaleString("en-IN")]})]})]}),x.notes&&o.jsxs("p",{className:"mt-2 text-sm italic",style:{color:"#64748B"},children:["Note: ",x.notes]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>e(`/billing/purchase/create?id=${x.id}`),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold transition-all duration-300 hover:scale-105",style:{background:"linear-gradient(135deg, #8B5CF6, #7C3AED)",color:"white",boxShadow:"0 4px 12px rgba(139, 92, 246, 0.3)"},children:[o.jsx(Ec,{className:"h-4 w-4"}),"View/Edit"]}),o.jsx("button",{onClick:()=>g(x.id,x.purchaseNumber),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold transition-all duration-300 hover:scale-105",style:{background:"linear-gradient(135deg, #EF4444, #DC2626)",color:"white",boxShadow:"0 4px 12px rgba(239, 68, 68, 0.3)"},children:o.jsx(Sc,{className:"h-4 w-4"})})]})]})},x.id))})]})]})})},n0={name:"SHREE DATTA ENTERPRISES",address:"M NO278, A/P SHIRASHI, SANGLI, Sangli,",state:"MAHARASHTRA, 415408",phone:"9850127385",email:"SUNILVPATIL27@GMAIL.COM",gstin:"27AOJPP8472L2Z2",stateCode:"27-Maharashtra",bankName:"KOTAK MAHINDRA BANK LIMITED, SANGALI BRANCH",accountNo:"9850127385",ifsc:"KKBK0002046",accountHolder:"SHREE DATTA ENTERPRISES"},$Bt=()=>{const e=ds(),t=C.useRef(null),[r]=WT(),n=r.get("invoiceId"),i=r.get("receiptId"),[s,a]=C.useState(""),[l,c]=C.useState(new Date().toISOString().split("T")[0]),[u,d]=C.useState(""),[h,A]=C.useState(""),[g,v]=C.useState(""),[x,y]=C.useState(""),[w,_]=C.useState(""),[E,I]=C.useState(0),[N,j]=C.useState(0),[T,P]=C.useState("Cash"),[k,R]=C.useState(""),[O,M]=C.useState(""),[H,K]=C.useState("theme-simple-white");C.useState({original:!0,duplicate:!1,triplicate:!1});const Y=[{id:"theme-simple-white",name:"Simple White",description:"Clean minimal white design"}];C.useEffect(()=>{(async()=>{var ue,ve,V,q,ee,re;if(i){console.log("Loading receipt data for ID:",i);try{const de=await ql(pn(Et,"paymentReceipts",i));if(de.exists()){const Ae=de.data();console.log("Receipt data loaded:",Ae),a(Ae.receiptNumber||""),c(Ae.receiptDate||""),d(((ue=Ae.customer)==null?void 0:ue.name)||""),A(((ve=Ae.customer)==null?void 0:ve.address)||""),v(((V=Ae.customer)==null?void 0:V.contact)||""),y(Ae.invoiceNumber||""),_(Ae.invoiceDate||""),I(Ae.previousBalance||0),j(Ae.paymentAmount||0),P(Ae.paymentMethod||"Cash"),R(Ae.bankName||""),M(Ae.remarks||"")}else console.log("Receipt not found"),alert("Payment receipt not found")}catch(de){console.error("Error loading receipt:",de),alert("Failed to load receipt data")}return}if(n){console.log("Loading invoice data for ID:",n);try{const de=await ql(pn(Et,"invoices",n));if(de.exists()){const Ae=de.data();console.log("Invoice data loaded:",Ae),d(((q=Ae.billTo)==null?void 0:q.name)||""),A(((ee=Ae.billTo)==null?void 0:ee.address)||""),v(((re=Ae.billTo)==null?void 0:re.contact)||""),y(Ae.invoiceNumber||""),_(Ae.invoiceDate||""),I(Ae.balance||0),Ae.paymentMethod&&(P(Ae.paymentMethod==="UPI"?"UPI":"Cash"),Ae.paymentMethod==="UPI"&&Ae.clientBankName&&R(Ae.clientBankName))}else console.log("Invoice not found")}catch(de){console.error("Error loading invoice:",de),alert("Failed to load invoice data")}}})()},[n,i]);const ne=()=>E-N,le=async()=>{if(!s||!u||N<=0){alert("Please fill all required fields");return}try{const X={receiptNumber:s,receiptDate:l,customer:{name:u,address:h,contact:g},invoiceNumber:x,invoiceDate:w,previousBalance:E,paymentAmount:N,newBalance:ne(),paymentMethod:T,bankName:T==="UPI"?k:"",remarks:O,invoiceId:n||"",updatedAt:Yi()};if(i)await Ns(pn(Et,"paymentReceipts",i),X),alert("Payment receipt updated successfully!");else{const ue={...X,createdAt:Yi()};await ka(jr(Et,"paymentReceipts"),ue),alert("Payment receipt saved successfully!")}if(n){const ue=ne(),ve=pn(Et,"invoices",n),q=(await ql(ve)).data(),ee=(q==null?void 0:q.receivedAmount)||0;await Ns(ve,{balance:ue,receivedAmount:ee+N,updatedAt:Yi()}),console.log("Invoice updated - New balance:",ue,"Total received:",ee+N)}alert("Payment receipt saved successfully!"),e("/billing/payment-receipts")}catch(X){console.error("Error saving receipt:",X),alert("Failed to save payment receipt")}},te=()=>{const X=document.getElementById("payment-receipt");if(!X){alert("Receipt not found. Please try again.");return}X.classList.add("pdf-rendering"),Vc(X,{scale:3,useCORS:!0,backgroundColor:"#ffffff",scrollX:0,scrollY:0,logging:!1,allowTaint:!1,foreignObjectRendering:!0,imageTimeout:3e4,removeContainer:!0,width:X.offsetWidth,height:X.offsetHeight,windowWidth:X.offsetWidth,windowHeight:X.offsetHeight}).then(ue=>{const ve=ue.toDataURL("image/jpeg",1),V=new Hr("p","mm","a4"),q=210,ee=297,re=q-10,de=ue.height*re/ue.width;V.addImage(ve,"JPEG",5,5,re,Math.min(de,ee-10)),X.classList.remove("pdf-rendering"),V.save(`Payment_Receipt_${s||"draft"}.pdf`)}).catch(ue=>{console.error("Error generating PDF:",ue),X.classList.remove("pdf-rendering"),alert(`PDF generation failed: ${ue.message}. Please try again.`)})};return o.jsx("div",{className:"min-h-screen p-4 bg-gray-100",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx("div",{className:"mb-6 flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{onClick:()=>e("/billing/software"),className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:[o.jsx(go,{className:"h-4 w-4"}),"Back"]}),o.jsx("h1",{className:"text-3xl font-bold",children:i?"View Payment Receipt":"Create Payment Receipt"})]})}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Receipt Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Receipt Number *"}),o.jsx("input",{type:"text",value:s,onChange:X=>a(X.target.value),placeholder:"REC/2025/001",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Receipt Date *"}),o.jsx("input",{type:"date",value:l,onChange:X=>c(X.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold mb-3",children:"Customer Details:"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("input",{type:"text",value:u,onChange:X=>d(X.target.value),placeholder:"Customer Name *",className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),o.jsx("textarea",{value:h,onChange:X=>A(X.target.value),placeholder:"Customer Address",className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:2}),o.jsx("input",{type:"text",value:g,onChange:X=>v(X.target.value),placeholder:"Contact Number",className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold mb-3",children:"Invoice Reference:"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("input",{type:"text",value:x,onChange:X=>y(X.target.value),placeholder:"Invoice Number",className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),o.jsx("input",{type:"date",value:w,onChange:X=>_(X.target.value),placeholder:"Invoice Date",className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Previous Balance ()"}),o.jsx("input",{type:"number",value:E,onChange:X=>I(parseFloat(X.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Payment Amount () *"}),o.jsx("input",{type:"number",value:N,onChange:X=>j(parseFloat(X.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"New Balance ()"}),o.jsx("input",{type:"text",value:`${ne().toFixed(2)}`,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 font-bold text-green-600"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Payment Method"}),o.jsxs("select",{value:T,onChange:X=>P(X.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"Cash",children:"Cash"}),o.jsx("option",{value:"UPI",children:"UPI"})]})]}),T==="UPI"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Client's Bank Name"}),o.jsx("input",{type:"text",value:k,onChange:X=>R(X.target.value),placeholder:"Enter client's bank name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Remarks"}),o.jsx("textarea",{value:O,onChange:X=>M(X.target.value),placeholder:"Additional remarks...",className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:2})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Receipt Theme"}),o.jsx("select",{value:H,onChange:X=>K(X.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:Y.map(X=>o.jsxs("option",{value:X.id,children:[X.name," - ",X.description]},X.id))})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("button",{onClick:le,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:[o.jsx(mE,{className:"h-4 w-4"}),i?"Update Receipt":"Save Receipt"]}),o.jsxs("button",{onClick:te,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[o.jsx(na,{className:"h-4 w-4"}),"Download PDF"]}),o.jsxs("button",{onClick:()=>{const X=document.getElementById("payment-receipt");X&&(X.classList.add("pdf-rendering"),window.print(),setTimeout(()=>{X.classList.remove("pdf-rendering")},1e3))},className:"flex items-center gap-2 px-6 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:[o.jsx(na,{className:"h-4 w-4"}),"Print Receipt"]})]})]}),o.jsxs("div",{id:"payment-receipt",ref:t,className:`bg-white mx-auto ${H}`,style:{width:"800px",padding:"20px",fontFamily:"Arial, sans-serif",fontSize:"12px",lineHeight:"1.4",boxShadow:"0 0 10px rgba(0,0,0,0.1)",position:"relative",background:"#ffffff"},children:[o.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.85)",zIndex:0}}),o.jsxs("div",{style:{position:"relative",zIndex:1},children:[o.jsx("div",{style:{border:"2px solid black",padding:"8px",marginBottom:"8px"},children:o.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"flex-start"},children:[o.jsx("div",{style:{width:"80px",height:"80px",flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx("img",{src:"/Shree Datta Enterprises_LOGO 1.png",alt:"Shree Datta Enterprises Logo",className:"company-logo",crossOrigin:"anonymous",style:{width:"80px",height:"80px",objectFit:"contain",background:"transparent",border:"none",imageRendering:"crisp-edges"}})}),o.jsxs("div",{style:{flex:1},children:[o.jsx("h1",{style:{fontSize:"18px",fontWeight:"bold",marginBottom:"4px",lineHeight:"1.2"},children:n0.name}),o.jsx("p",{style:{fontSize:"10px",marginBottom:"2px",lineHeight:"1.3"},children:n0.address}),o.jsx("p",{style:{fontSize:"10px",marginBottom:"4px",lineHeight:"1.3"},children:n0.state}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",fontSize:"10px"},children:[o.jsxs("div",{children:[o.jsxs("p",{style:{marginBottom:"2px",lineHeight:"1.3"},children:[o.jsx("span",{style:{fontWeight:"600"},children:"Phone:"})," ",n0.phone]}),o.jsxs("p",{style:{lineHeight:"1.3"},children:[o.jsx("span",{style:{fontWeight:"600"},children:"GSTIN:"})," ",n0.gstin]})]}),o.jsxs("div",{children:[o.jsxs("p",{style:{marginBottom:"2px",lineHeight:"1.3"},children:[o.jsx("span",{style:{fontWeight:"600"},children:"Email:"})," ",n0.email]}),o.jsxs("p",{style:{lineHeight:"1.3"},children:[o.jsx("span",{style:{fontWeight:"600"},children:"State:"})," ",n0.stateCode]})]})]})]})]})}),o.jsx("div",{className:"invoice-header",style:{textAlign:"center",padding:"8px",backgroundColor:"#f3f4f6",border:"1px solid black",marginBottom:"8px"},children:o.jsx("h2",{style:{fontSize:"16px",fontWeight:"bold",margin:0},children:"PAYMENT RECEIPT"})}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginBottom:"8px"},children:[o.jsxs("div",{style:{border:"1px solid black",padding:"8px"},children:[o.jsx("p",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"4px",lineHeight:"1.3"},children:"Received From:"}),o.jsx("p",{style:{fontWeight:"600",fontSize:"10px",marginBottom:"2px",lineHeight:"1.3"},children:u||"[Customer Name]"}),o.jsx("p",{style:{fontSize:"10px",marginBottom:"2px",lineHeight:"1.3"},children:h||"[Customer Address]"}),o.jsxs("p",{style:{fontSize:"10px",lineHeight:"1.3"},children:["Contact: ",g||"[Contact]"]})]}),o.jsxs("div",{style:{border:"1px solid black",padding:"8px"},children:[o.jsx("p",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"4px",lineHeight:"1.3"},children:"Receipt Details:"}),o.jsxs("p",{style:{fontSize:"10px",marginBottom:"2px",lineHeight:"1.3"},children:["Receipt No: ",s||"[Receipt No]"]}),o.jsxs("p",{style:{fontSize:"10px",marginBottom:"2px",lineHeight:"1.3"},children:["Date: ",l?new Date(l).toLocaleDateString("en-GB"):"[Date]"]}),x&&o.jsxs("p",{style:{fontSize:"10px",marginBottom:"2px",lineHeight:"1.3"},children:["Invoice Ref: ",x]}),w&&o.jsxs("p",{style:{fontSize:"10px",lineHeight:"1.3"},children:["Invoice Date: ",new Date(w).toLocaleDateString("en-GB")]})]})]}),o.jsx("div",{style:{border:"1px solid black",marginBottom:"8px"},children:o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",fontSize:"11px"},children:[o.jsx("div",{style:{borderBottom:"1px solid black",borderRight:"1px solid black",padding:"8px 10px",fontWeight:"600",lineHeight:"1.4"},children:"Previous Balance"}),o.jsxs("div",{style:{borderBottom:"1px solid black",padding:"8px 10px",textAlign:"right",fontWeight:"600",color:"#EF4444",lineHeight:"1.4"},children:[":  ",E.toFixed(2)]}),o.jsxs("div",{style:{borderBottom:"1px solid black",borderRight:"1px solid black",padding:"8px 10px",fontWeight:"600",lineHeight:"1.4"},children:["Payment Received (",T,T==="UPI"&&k?` - ${k}`:"",")"]}),o.jsxs("div",{style:{borderBottom:"1px solid black",padding:"8px 10px",textAlign:"right",fontWeight:"600",color:"#10B981",lineHeight:"1.4"},children:[":  ",N.toFixed(2)]}),o.jsx("div",{style:{borderRight:"1px solid black",padding:"8px 10px",fontWeight:"bold",fontSize:"12px",lineHeight:"1.4",backgroundColor:"#f3f4f6"},children:"New Balance"}),o.jsxs("div",{style:{padding:"8px 10px",textAlign:"right",fontWeight:"bold",fontSize:"12px",color:ne()>0?"#EF4444":"#10B981",lineHeight:"1.4",backgroundColor:"#f3f4f6"},children:[":  ",ne().toFixed(2)]})]})}),O&&o.jsxs("div",{style:{border:"1px solid black",marginBottom:"8px"},children:[o.jsx("p",{style:{fontWeight:"bold",padding:"6px 8px",borderBottom:"1px solid black",fontSize:"10px",lineHeight:"1.4"},children:"Remarks:"}),o.jsx("p",{style:{padding:"6px 8px",fontSize:"10px",lineHeight:"1.4"},children:O})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[o.jsx("div",{style:{border:"1px solid black",padding:"8px"},children:o.jsx("p",{style:{fontSize:"10px",lineHeight:"1.4",marginBottom:"40px"},children:"Customer Signature"})}),o.jsxs("div",{style:{border:"1px solid black",padding:"8px",textAlign:"right"},children:[o.jsxs("p",{style:{fontWeight:"bold",marginBottom:"40px",fontSize:"10px",lineHeight:"1.4"},children:["For ",n0.name,":"]}),o.jsx("p",{style:{fontSize:"10px",lineHeight:"1.4"},children:"Authorized Signatory"})]})]})]})]})]})})},VBt=()=>{const e=ds(),[t,r]=C.useState([]),[n,i]=C.useState(!0),[s,a]=C.useState("");C.useEffect(()=>{const u=Ai(jr(Et,"paymentReceipts"),ia("createdAt","desc")),d=vs(u,h=>{const A=[];h.docs.forEach(g=>{A.push({id:g.id,...g.data()})}),r(A),i(!1)},h=>{console.error("Error fetching receipts:",h),i(!1)});return()=>d()},[]);const l=t.filter(u=>u.customer.name.toLowerCase().includes(s.toLowerCase())||u.receiptNumber.toLowerCase().includes(s.toLowerCase())||u.invoiceNumber.toLowerCase().includes(s.toLowerCase())),c=t.reduce((u,d)=>u+d.paymentAmount,0);return o.jsx("div",{className:"min-h-screen p-4 md:p-6",style:{background:"linear-gradient(135deg, #F5F9FF 0%, #EBF2FA 100%)"},children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{onClick:()=>e("/billing/software"),className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-all",children:[o.jsx(go,{className:"h-4 w-4"}),"Back"]}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",style:{color:"#1E293B"},children:"Payment Receipts"}),o.jsx("p",{className:"text-sm",style:{color:"#64748B"},children:"Track all payment receipts"})]})]}),o.jsxs("button",{onClick:()=>e("/billing/payment-receipt/create"),className:"flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all duration-300 hover:scale-105",style:{background:"linear-gradient(135deg, #10B981, #059669)",color:"white",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},children:[o.jsx(dh,{className:"h-5 w-5"}),"New Payment Receipt"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[o.jsx("div",{className:"rounded-xl p-6 transition-all duration-300 hover:scale-105",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(40px) saturate(180%)",border:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.06)"},children:o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"w-16 h-16 rounded-xl flex items-center justify-center",style:{background:"linear-gradient(135deg, #10B981, #059669)"},children:o.jsx(ja,{className:"w-8 h-8 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm",style:{color:"#64748B"},children:"Total Receipts"}),o.jsx("p",{className:"text-3xl font-bold",style:{color:"#1E293B"},children:t.length})]})]})}),o.jsx("div",{className:"rounded-xl p-6 transition-all duration-300 hover:scale-105",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(40px) saturate(180%)",border:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.06)"},children:o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"w-16 h-16 rounded-xl flex items-center justify-center",style:{background:"linear-gradient(135deg, #3B82F6, #2563EB)"},children:o.jsx(ja,{className:"w-8 h-8 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm",style:{color:"#64748B"},children:"Total Collected"}),o.jsxs("p",{className:"text-3xl font-bold",style:{color:"#1E293B"},children:["",c.toLocaleString("en-IN")]})]})]})}),o.jsx("div",{className:"rounded-xl p-6 transition-all duration-300 hover:scale-105",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(40px) saturate(180%)",border:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.06)"},children:o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"w-16 h-16 rounded-xl flex items-center justify-center",style:{background:"linear-gradient(135deg, #8B5CF6, #7C3AED)"},children:o.jsx(ja,{className:"w-8 h-8 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm",style:{color:"#64748B"},children:"This Month"}),o.jsx("p",{className:"text-3xl font-bold",style:{color:"#1E293B"},children:t.filter(u=>{const d=new Date(u.receiptDate),h=new Date;return d.getMonth()===h.getMonth()&&d.getFullYear()===h.getFullYear()}).length})]})]})})]}),o.jsx("div",{className:"mb-6",children:o.jsx("input",{type:"text",placeholder:"Search by customer name, receipt number, or invoice number...",value:s,onChange:u=>a(u.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",style:{background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)"}})}),o.jsxs("div",{className:"rounded-xl p-6",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(40px) saturate(180%)",border:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.06)"},children:[o.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"#1E293B"},children:"All Payment Receipts"}),n?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto"})}):l.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(ja,{className:"w-16 h-16 mx-auto mb-4",style:{color:"#CBD5E1"}}),o.jsx("p",{style:{color:"#64748B"},children:s?"No receipts found matching your search":"No payment receipts yet"})]}):o.jsx("div",{className:"space-y-4",children:l.map(u=>o.jsx("div",{className:"p-4 rounded-xl transition-all duration-300 hover:bg-white/50",style:{border:"1px solid rgba(16, 185, 129, 0.2)"},children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-2",children:[o.jsx("h3",{className:"text-lg font-bold",style:{color:"#1E293B"},children:u.customer.name}),o.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{background:"rgba(16, 185, 129, 0.1)",color:"#10B981"},children:["Receipt #",u.receiptNumber]}),u.invoiceNumber&&o.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{background:"rgba(59, 130, 246, 0.1)",color:"#3B82F6"},children:["Invoice #",u.invoiceNumber]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{style:{color:"#64748B"},children:"Date"}),o.jsx("p",{className:"font-semibold",style:{color:"#1E293B"},children:new Date(u.receiptDate).toLocaleDateString("en-IN")})]}),o.jsxs("div",{children:[o.jsx("p",{style:{color:"#64748B"},children:"Previous Balance"}),o.jsxs("p",{className:"font-semibold",style:{color:"#EF4444"},children:["",u.previousBalance.toLocaleString("en-IN")]})]}),o.jsxs("div",{children:[o.jsx("p",{style:{color:"#64748B"},children:"Payment Received"}),o.jsxs("p",{className:"font-semibold",style:{color:"#10B981"},children:["",u.paymentAmount.toLocaleString("en-IN")]})]}),o.jsxs("div",{children:[o.jsx("p",{style:{color:"#64748B"},children:"New Balance"}),o.jsxs("p",{className:"font-semibold",style:{color:u.newBalance>0?"#EF4444":"#10B981"},children:["",u.newBalance.toLocaleString("en-IN")]})]})]}),o.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs",style:{color:"#64748B"},children:[o.jsxs("span",{children:["Payment: ",u.paymentMethod]}),u.bankName&&o.jsxs("span",{children:[" Bank: ",u.bankName]})]})]}),o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs("button",{onClick:()=>e(`/billing/payment-receipt/create?receiptId=${u.id}`),className:"px-4 py-2 rounded-lg font-semibold transition-all duration-300 hover:scale-105 flex items-center gap-2",style:{background:"linear-gradient(135deg, #3B82F6, #2563EB)",color:"white",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)"},children:[o.jsx(Ec,{className:"h-4 w-4"}),"View"]})})]})},u.id))})]})]})})},zBt=()=>{const[e,t]=C.useState([]),[r,n]=C.useState(!1),[i,s]=C.useState({name:"",bankName:"",accountNo:"",ifsc:"",upiId:"",branchAddress:"",accountHolder:"SHREE DATTA ENTERPRISES"});C.useEffect(()=>{a()},[]);const a=async()=>{try{const d=(await Si(jr(Et,"bank_accounts"))).docs.map(h=>({id:h.id,...h.data()}));t(d)}catch(u){console.error("Error fetching banks:",u)}},l=async u=>{u.preventDefault();try{await ka(jr(Et,"bank_accounts"),{...i,createdAt:Yi()}),alert("Bank account added successfully!"),s({name:"",bankName:"",accountNo:"",ifsc:"",upiId:"",branchAddress:"",accountHolder:"SHREE DATTA ENTERPRISES"}),n(!1),a()}catch(d){console.error("Error adding bank:",d),alert("Failed to add bank account")}},c=async u=>{if(window.confirm("Are you sure you want to delete this bank account?"))try{await Yc(pn(Et,"bank_accounts",u)),alert("Bank account deleted successfully!"),a()}catch(d){console.error("Error deleting bank:",d),alert("Failed to delete bank account")}};return o.jsx("div",{className:"min-h-screen p-6",style:{background:"linear-gradient(135deg, #F5F9FF 0%, #EBF2FA 100%)"},children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold mb-2",style:{color:"#1E293B"},children:"Bank Accounts"}),o.jsx("p",{style:{color:"#64748B"},children:"Manage your company bank accounts"})]}),o.jsxs("button",{onClick:()=>n(!r),className:"flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all duration-300 hover:scale-105",style:{background:"linear-gradient(135deg, #3B82F6, #8B5CF6)",color:"white",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)"},children:[o.jsx(dh,{className:"h-5 w-5"}),"Add Bank Account"]})]}),r&&o.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Add New Bank Account"}),o.jsxs("form",{onSubmit:l,children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Display Name *"}),o.jsx("input",{type:"text",value:i.name,onChange:u=>s({...i,name:u.target.value}),placeholder:"e.g., HDFC Bank",className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Bank Name *"}),o.jsx("input",{type:"text",value:i.bankName,onChange:u=>s({...i,bankName:u.target.value}),placeholder:"e.g., HDFC BANK LIMITED",className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Account Number *"}),o.jsx("input",{type:"text",value:i.accountNo,onChange:u=>s({...i,accountNo:u.target.value}),placeholder:"e.g., 1234567890",className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"IFSC Code *"}),o.jsx("input",{type:"text",value:i.ifsc,onChange:u=>s({...i,ifsc:u.target.value}),placeholder:"e.g., HDFC0001234",className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"UPI ID *"}),o.jsx("input",{type:"text",value:i.upiId,onChange:u=>s({...i,upiId:u.target.value}),placeholder:"e.g., 9876543210@ybl",className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Branch Address"}),o.jsx("input",{type:"text",value:i.branchAddress,onChange:u=>s({...i,branchAddress:u.target.value}),placeholder:"e.g., SANGLI BRANCH",className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Account Holder Name *"}),o.jsx("input",{type:"text",value:i.accountHolder,onChange:u=>s({...i,accountHolder:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]})]}),o.jsxs("div",{className:"flex gap-4 mt-6",children:[o.jsx("button",{type:"submit",className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Save Bank Account"}),o.jsx("button",{type:"button",onClick:()=>n(!1),className:"px-6 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600",children:"Cancel"})]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(u=>o.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 transition-all duration-300 hover:shadow-lg",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center",children:o.jsx(Z0,{className:"h-6 w-6 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold",children:u.name}),o.jsx("p",{className:"text-sm text-gray-600",children:u.bankName})]})]}),o.jsx("button",{onClick:()=>c(u.id),className:"text-red-600 hover:text-red-800",children:o.jsx(Sc,{className:"h-5 w-5"})})]}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-semibold",children:"Account No:"})," ",u.accountNo]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-semibold",children:"IFSC:"})," ",u.ifsc]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-semibold",children:"UPI ID:"})," ",u.upiId]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-semibold",children:"Branch:"})," ",u.branchAddress]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-semibold",children:"Account Holder:"})," ",u.accountHolder]})]})]},u.id))}),e.length===0&&!r&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Z0,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"No bank accounts added yet"}),o.jsx("p",{className:"text-gray-500 text-sm",children:'Click "Add Bank Account" to get started'})]})]})})},_L=C.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:Zr("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));_L.displayName="Textarea";var FP="rovingFocusGroup.onEntryFocus",GBt={bubbles:!1,cancelable:!0},AS="RovingFocusGroup",[EL,Axe,WBt]=_R(AS),[KBt,pxe]=xh(AS,[WBt]),[qBt,XBt]=KBt(AS),gxe=C.forwardRef((e,t)=>o.jsx(EL.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(EL.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(YBt,{...e,ref:t})})}));gxe.displayName=AS;var YBt=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,A=C.useRef(null),g=Ji(t,A),v=GU(s),[x,y]=um({prop:a,defaultProp:l??null,onChange:c,caller:AS}),[w,_]=C.useState(!1),E=_d(u),I=Axe(r),N=C.useRef(!1),[j,T]=C.useState(0);return C.useEffect(()=>{const P=A.current;if(P)return P.addEventListener(FP,E),()=>P.removeEventListener(FP,E)},[E]),o.jsx(qBt,{scope:r,orientation:n,dir:v,loop:i,currentTabStopId:x,onItemFocus:C.useCallback(P=>y(P),[y]),onItemShiftTab:C.useCallback(()=>_(!0),[]),onFocusableItemAdd:C.useCallback(()=>T(P=>P+1),[]),onFocusableItemRemove:C.useCallback(()=>T(P=>P-1),[]),children:o.jsx(Yn.div,{tabIndex:w||j===0?-1:0,"data-orientation":n,...h,ref:g,style:{outline:"none",...e.style},onMouseDown:Cn(e.onMouseDown,()=>{N.current=!0}),onFocus:Cn(e.onFocus,P=>{const k=!N.current;if(P.target===P.currentTarget&&k&&!w){const R=new CustomEvent(FP,GBt);if(P.currentTarget.dispatchEvent(R),!R.defaultPrevented){const O=I().filter(ne=>ne.focusable),M=O.find(ne=>ne.active),H=O.find(ne=>ne.id===x),Y=[M,H,...O].filter(Boolean).map(ne=>ne.ref.current);vxe(Y,d)}}N.current=!1}),onBlur:Cn(e.onBlur,()=>_(!1))})})}),mxe="RovingFocusGroupItem",xxe=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:a,...l}=e,c=J0(),u=s||c,d=XBt(mxe,r),h=d.currentTabStopId===u,A=Axe(r),{onFocusableItemAdd:g,onFocusableItemRemove:v,currentTabStopId:x}=d;return C.useEffect(()=>{if(n)return g(),()=>v()},[n,g,v]),o.jsx(EL.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:o.jsx(Yn.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Cn(e.onMouseDown,y=>{n?d.onItemFocus(u):y.preventDefault()}),onFocus:Cn(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Cn(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const w=eIt(y,d.orientation,d.dir);if(w!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let E=A().filter(I=>I.focusable).map(I=>I.ref.current);if(w==="last")E.reverse();else if(w==="prev"||w==="next"){w==="prev"&&E.reverse();const I=E.indexOf(y.currentTarget);E=d.loop?tIt(E,I+1):E.slice(I+1)}setTimeout(()=>vxe(E))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:x!=null}):a})})});xxe.displayName=mxe;var ZBt={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function JBt(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function eIt(e,t,r){const n=JBt(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return ZBt[n]}function vxe(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function tIt(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var rIt=gxe,nIt=xxe,fk="Tabs",[iIt,Sjt]=xh(fk,[pxe]),yxe=pxe(),[sIt,uH]=iIt(fk),wxe=C.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=GU(l),[h,A]=um({prop:n,onChange:i,defaultProp:s??"",caller:fk});return o.jsx(sIt,{scope:r,baseId:J0(),value:h,onValueChange:A,orientation:a,dir:d,activationMode:c,children:o.jsx(Yn.div,{dir:d,"data-orientation":a,...u,ref:t})})});wxe.displayName=fk;var bxe="TabsList",_xe=C.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,s=uH(bxe,r),a=yxe(r);return o.jsx(rIt,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:n,children:o.jsx(Yn.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});_xe.displayName=bxe;var Exe="TabsTrigger",Sxe=C.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=e,a=uH(Exe,r),l=yxe(r),c=Txe(a.baseId,n),u=Bxe(a.baseId,n),d=n===a.value;return o.jsx(nIt,{asChild:!0,...l,focusable:!i,active:d,children:o.jsx(Yn.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:t,onMouseDown:Cn(e.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?a.onValueChange(n):h.preventDefault()}),onKeyDown:Cn(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(n)}),onFocus:Cn(e.onFocus,()=>{const h=a.activationMode!=="manual";!d&&!i&&h&&a.onValueChange(n)})})})});Sxe.displayName=Exe;var Cxe="TabsContent",Nxe=C.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...a}=e,l=uH(Cxe,r),c=Txe(l.baseId,n),u=Bxe(l.baseId,n),d=n===l.value,h=C.useRef(d);return C.useEffect(()=>{const A=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(A)},[]),o.jsx(Um,{present:i||d,children:({present:A})=>o.jsx(Yn.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!A,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:A&&s})})});Nxe.displayName=Cxe;function Txe(e,t){return`${e}-trigger-${t}`}function Bxe(e,t){return`${e}-content-${t}`}var aIt=wxe,Ixe=_xe,kxe=Sxe,jxe=Nxe;const oIt=aIt,Pxe=C.forwardRef(({className:e,...t},r)=>o.jsx(Ixe,{ref:r,className:Zr("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Pxe.displayName=Ixe.displayName;const J1=C.forwardRef(({className:e,...t},r)=>o.jsx(kxe,{ref:r,className:Zr("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));J1.displayName=kxe.displayName;const ex=C.forwardRef(({className:e,...t},r)=>o.jsx(jxe,{ref:r,className:Zr("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ex.displayName=jxe.displayName;var lIt="Separator",fee="horizontal",cIt=["horizontal","vertical"],Fxe=C.forwardRef((e,t)=>{const{decorative:r,orientation:n=fee,...i}=e,s=uIt(n)?n:fee,l=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return o.jsx(Yn.div,{"data-orientation":s,...l,...i,ref:t})});Fxe.displayName=lIt;function uIt(e){return cIt.includes(e)}var Oxe=Fxe;const v4=C.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},i)=>o.jsx(Oxe,{ref:i,decorative:r,orientation:t,className:Zr("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));v4.displayName=Oxe.displayName;const hee={companyName:"SHREE DATTA ENTERPRISES",companyLogoUrl:"/Shree Datta Enterprises_LOGO 1.png",address:`M NO278, A/P SHIRASHI, SANGLI, Sangli,
MAHARASHTRA, 415408`,phone:"9850127385",email:"SUNILVPATIL27@GMAIL.COM",gstin:"27AOJPP8472L2Z2",headerFont:"Arial",headerFontSize:"medium",bodyFontSize:"medium",paperSize:"A4",showLogo:!0,showHeaderInAllPages:!1,theme:"GST Theme 1",footerText:"Thanks for doing business with us!",signatureUrl:"",authorizedSignatory:"Authorized Signatory",showTaxSummary:!0,showBankDetails:!0,showQRCode:!0,showItemBorders:!0,showTotalItems:!0,showReceivedAmount:!0,showBalanceAmount:!0,showPaymentMode:!0,copies:{original:!0,duplicate:!1,triplicate:!1},applyToInvoices:!1},dIt=()=>{const[e,t]=C.useState(hee),[r,n]=C.useState(!1),[i,s]=C.useState(!1),a=C.useRef(null),l=C.useRef(null);C.useEffect(()=>{(async()=>{n(!0);try{const x=await ql(pn(Et,"settings","invoiceSettings"));x.exists()&&t({...hee,...x.data()})}catch(x){console.error("Error loading settings:",x)}finally{n(!1)}})()},[]);const c=(v,x)=>{t(y=>({...y,[v]:x}))},u=async(v,x)=>{if(v)try{const y=pc(Js,`invoice-settings/${x}-${Date.now()}`),w=await Bv(y,v),_=await nf(w.ref);c(x==="logo"?"companyLogoUrl":"signatureUrl",_)}catch(y){console.error("Error uploading file:",y),alert("Failed to upload file")}},d=async()=>{s(!0);try{await LM(pn(Et,"settings","invoiceSettings"),e),alert("Settings saved successfully!")}catch(v){console.error("Error saving settings:",v),alert("Failed to save settings")}finally{s(!1)}},h={vsmall:"8px",small:"10px",medium:"12px",large:"14px",vlarge:"16px",extralarge:"18px"},A={A4:{width:"210mm",scale:1},A5:{width:"148mm",scale:.7}},g=[{value:"GST Theme 1",label:"GST Theme 1 (Professional)"},{value:"GST Theme 2",label:"GST Theme 2 (Modern)"},{value:"Theme 1",label:"Theme 1 (Simple)"},{value:"Theme 2",label:"Theme 2 (Elegant)"}];return o.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(xE,{className:"h-8 w-8 text-blue-600"}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Invoice Settings"})]}),o.jsx("p",{className:"text-gray-600",children:"Configure your invoice appearance and company information"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs(oIt,{defaultValue:"company",className:"w-full",children:[o.jsxs(Pxe,{className:"grid w-full grid-cols-5",children:[o.jsxs(J1,{value:"company",className:"flex items-center gap-2",children:[o.jsx(dbe,{className:"h-4 w-4"}),"Company"]}),o.jsxs(J1,{value:"header",className:"flex items-center gap-2",children:[o.jsx(ta,{className:"h-4 w-4"}),"Header"]}),o.jsxs(J1,{value:"body",className:"flex items-center gap-2",children:[o.jsx(ta,{className:"h-4 w-4"}),"Body"]}),o.jsxs(J1,{value:"footer",className:"flex items-center gap-2",children:[o.jsx(ta,{className:"h-4 w-4"}),"Footer"]}),o.jsxs(J1,{value:"layout",className:"flex items-center gap-2",children:[o.jsx(Fb,{className:"h-4 w-4"}),"Layout"]})]}),o.jsx(ex,{value:"company",children:o.jsxs(Sr,{children:[o.jsxs(fn,{children:[o.jsx(hn,{children:"Company Information"}),o.jsx(_n,{children:"Update your company details"})]}),o.jsxs(Pr,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(xr,{htmlFor:"companyName",children:"Company Name"}),o.jsx(Or,{id:"companyName",value:e.companyName,onChange:v=>c("companyName",v.target.value),placeholder:"Enter company name"})]}),o.jsxs("div",{children:[o.jsx(xr,{children:"Company Logo"}),o.jsxs("div",{className:"flex items-center gap-4",children:[e.companyLogoUrl&&o.jsx("img",{src:e.companyLogoUrl,alt:"Company Logo",className:"w-16 h-16 object-contain border rounded"}),o.jsxs(et,{variant:"outline",onClick:()=>{var v;return(v=a.current)==null?void 0:v.click()},className:"flex items-center gap-2",children:[o.jsx(Wg,{className:"h-4 w-4"}),"Upload Logo"]}),o.jsx("input",{ref:a,type:"file",accept:"image/*",className:"hidden",onChange:v=>{var y;const x=(y=v.target.files)==null?void 0:y[0];x&&u(x,"logo")}})]})]}),o.jsxs("div",{children:[o.jsx(xr,{htmlFor:"address",children:"Company Address"}),o.jsx(_L,{id:"address",value:e.address,onChange:v=>c("address",v.target.value),placeholder:"Enter company address",rows:3})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(xr,{htmlFor:"phone",children:"Phone Number"}),o.jsx(Or,{id:"phone",value:e.phone,onChange:v=>c("phone",v.target.value),placeholder:"Enter phone number"})]}),o.jsxs("div",{children:[o.jsx(xr,{htmlFor:"email",children:"Email ID"}),o.jsx(Or,{id:"email",type:"email",value:e.email,onChange:v=>c("email",v.target.value),placeholder:"Enter email address"})]})]}),o.jsxs("div",{children:[o.jsx(xr,{htmlFor:"gstin",children:"GSTIN"}),o.jsx(Or,{id:"gstin",value:e.gstin,onChange:v=>c("gstin",v.target.value),placeholder:"Enter GSTIN"})]})]})]})}),o.jsx(ex,{value:"header",children:o.jsxs(Sr,{children:[o.jsxs(fn,{children:[o.jsx(hn,{children:"Invoice Header Settings"}),o.jsx(_n,{children:"Configure header appearance"})]}),o.jsxs(Pr,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(xr,{htmlFor:"showLogo",children:"Show Company Logo"}),o.jsx(Dl,{id:"showLogo",checked:e.showLogo,onCheckedChange:v=>c("showLogo",v)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(xr,{htmlFor:"showHeaderInAllPages",children:"Show Header on All Pages"}),o.jsx(Dl,{id:"showHeaderInAllPages",checked:e.showHeaderInAllPages,onCheckedChange:v=>c("showHeaderInAllPages",v)})]}),o.jsxs("div",{children:[o.jsx(xr,{children:"Header Font Style"}),o.jsxs(oo,{value:e.headerFont,onValueChange:v=>c("headerFont",v),children:[o.jsx(Qa,{children:o.jsx(lo,{})}),o.jsxs($a,{children:[o.jsx(qr,{value:"Arial",children:"Arial"}),o.jsx(qr,{value:"Calibri",children:"Calibri"}),o.jsx(qr,{value:"Poppins",children:"Poppins"}),o.jsx(qr,{value:"Roboto",children:"Roboto"})]})]})]}),o.jsxs("div",{children:[o.jsx(xr,{children:"Header Font Size"}),o.jsxs(oo,{value:e.headerFontSize,onValueChange:v=>c("headerFontSize",v),children:[o.jsx(Qa,{children:o.jsx(lo,{})}),o.jsxs($a,{children:[o.jsx(qr,{value:"vsmall",children:"Very Small"}),o.jsx(qr,{value:"small",children:"Small"}),o.jsx(qr,{value:"medium",children:"Medium"}),o.jsx(qr,{value:"large",children:"Large"}),o.jsx(qr,{value:"vlarge",children:"Very Large"}),o.jsx(qr,{value:"extralarge",children:"Extra Large"})]})]})]})]})]})}),o.jsx(ex,{value:"body",children:o.jsxs(Sr,{children:[o.jsxs(fn,{children:[o.jsx(hn,{children:"Invoice Body Text Settings"}),o.jsx(_n,{children:"Configure body text appearance"})]}),o.jsx(Pr,{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx(xr,{children:"Invoice Text Font Size"}),o.jsxs(oo,{value:e.bodyFontSize,onValueChange:v=>c("bodyFontSize",v),children:[o.jsx(Qa,{children:o.jsx(lo,{})}),o.jsxs($a,{children:[o.jsx(qr,{value:"vsmall",children:"Very Small"}),o.jsx(qr,{value:"small",children:"Small"}),o.jsx(qr,{value:"medium",children:"Medium"}),o.jsx(qr,{value:"large",children:"Large"}),o.jsx(qr,{value:"vlarge",children:"Very Large"}),o.jsx(qr,{value:"extralarge",children:"Extra Large"})]})]}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Affects item table, descriptions, GST summary, totals, and addresses"})]})})]})}),o.jsx(ex,{value:"footer",children:o.jsxs(Sr,{children:[o.jsxs(fn,{children:[o.jsx(hn,{children:"Invoice Footer Settings"}),o.jsx(_n,{children:"Configure footer content"})]}),o.jsxs(Pr,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(xr,{htmlFor:"footerText",children:"Footer Text"}),o.jsx(_L,{id:"footerText",value:e.footerText,onChange:v=>c("footerText",v.target.value),placeholder:"Enter footer text",rows:2})]}),o.jsxs("div",{children:[o.jsx(xr,{children:"Signature Image"}),o.jsxs("div",{className:"flex items-center gap-4",children:[e.signatureUrl&&o.jsx("img",{src:e.signatureUrl,alt:"Signature",className:"w-24 h-12 object-contain border rounded"}),o.jsxs(et,{variant:"outline",onClick:()=>{var v;return(v=l.current)==null?void 0:v.click()},className:"flex items-center gap-2",children:[o.jsx(Pb,{className:"h-4 w-4"}),"Upload Signature"]}),o.jsx("input",{ref:l,type:"file",accept:"image/*",className:"hidden",onChange:v=>{var y;const x=(y=v.target.files)==null?void 0:y[0];x&&u(x,"signature")}})]})]}),o.jsxs("div",{children:[o.jsx(xr,{htmlFor:"authorizedSignatory",children:"Authorized Signatory Text"}),o.jsx(Or,{id:"authorizedSignatory",value:e.authorizedSignatory,onChange:v=>c("authorizedSignatory",v.target.value),placeholder:"Enter signatory text"})]})]})]})}),o.jsx(ex,{value:"layout",children:o.jsxs(Sr,{children:[o.jsxs(fn,{children:[o.jsx(hn,{children:"Print Layout Settings"}),o.jsx(_n,{children:"Configure invoice layout and theme"})]}),o.jsxs(Pr,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(xr,{children:"Select Theme"}),o.jsxs(oo,{value:e.theme,onValueChange:v=>c("theme",v),children:[o.jsx(Qa,{children:o.jsx(lo,{})}),o.jsx($a,{children:g.map(v=>o.jsx(qr,{value:v.value,children:v.label},v.value))})]})]}),o.jsxs("div",{children:[o.jsx(xr,{children:"Paper Size"}),o.jsxs(oo,{value:e.paperSize,onValueChange:v=>c("paperSize",v),children:[o.jsx(Qa,{children:o.jsx(lo,{})}),o.jsxs($a,{children:[o.jsx(qr,{value:"A4",children:"A4"}),o.jsx(qr,{value:"A5",children:"A5"})]})]})]}),o.jsx(v4,{}),o.jsxs("div",{children:[o.jsx(xr,{className:"text-base font-semibold",children:"Print Copy Options"}),o.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Select which copies to print"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(xr,{htmlFor:"originalCopy",children:"Original Copy"}),o.jsx(Dl,{id:"originalCopy",checked:e.copies.original,onCheckedChange:v=>c("copies",{...e.copies,original:v})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(xr,{htmlFor:"duplicateCopy",children:"Duplicate for Transporter"}),o.jsx(Dl,{id:"duplicateCopy",checked:e.copies.duplicate,onCheckedChange:v=>c("copies",{...e.copies,duplicate:v})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(xr,{htmlFor:"triplicateCopy",children:"Triplicate for Supplier"}),o.jsx(Dl,{id:"triplicateCopy",checked:e.copies.triplicate,onCheckedChange:v=>c("copies",{...e.copies,triplicate:v})})]})]})]}),o.jsx(v4,{}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(xr,{htmlFor:"showItemBorders",children:"Show Item Table Borders"}),o.jsx(Dl,{id:"showItemBorders",checked:e.showItemBorders,onCheckedChange:v=>c("showItemBorders",v)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(xr,{htmlFor:"showTaxSummary",children:"Show Tax Summary"}),o.jsx(Dl,{id:"showTaxSummary",checked:e.showTaxSummary,onCheckedChange:v=>c("showTaxSummary",v)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(xr,{htmlFor:"showBankDetails",children:"Show Bank Details"}),o.jsx(Dl,{id:"showBankDetails",checked:e.showBankDetails,onCheckedChange:v=>c("showBankDetails",v)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(xr,{htmlFor:"showQRCode",children:"Show QR Code"}),o.jsx(Dl,{id:"showQRCode",checked:e.showQRCode,onCheckedChange:v=>c("showQRCode",v)})]})]}),o.jsx(v4,{}),o.jsxs("div",{children:[o.jsx(xr,{className:"text-base font-semibold",children:"Totals & Tax Section Options"}),o.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Configure totals and payment display"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(xr,{htmlFor:"showTotalItems",children:"Show Total Items"}),o.jsx(Dl,{id:"showTotalItems",checked:e.showTotalItems,onCheckedChange:v=>c("showTotalItems",v)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(xr,{htmlFor:"showReceivedAmount",children:"Show Received Amount"}),o.jsx(Dl,{id:"showReceivedAmount",checked:e.showReceivedAmount,onCheckedChange:v=>c("showReceivedAmount",v)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(xr,{htmlFor:"showBalanceAmount",children:"Show Balance Amount"}),o.jsx(Dl,{id:"showBalanceAmount",checked:e.showBalanceAmount,onCheckedChange:v=>c("showBalanceAmount",v)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(xr,{htmlFor:"showPaymentMode",children:"Show Payment Mode"}),o.jsx(Dl,{id:"showPaymentMode",checked:e.showPaymentMode,onCheckedChange:v=>c("showPaymentMode",v)})]})]})]})]})]})})]}),o.jsxs(Sr,{children:[o.jsxs(fn,{children:[o.jsx(hn,{children:"Apply Settings"}),o.jsx(_n,{children:"Save and apply your invoice settings"})]}),o.jsxs(Pr,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[o.jsxs("div",{children:[o.jsx(xr,{htmlFor:"applyToInvoices",className:"font-semibold",children:"Apply Settings to Invoice?"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Enable this to apply settings to all invoice templates"})]}),o.jsx(Dl,{id:"applyToInvoices",checked:e.applyToInvoices,onCheckedChange:v=>c("applyToInvoices",v)})]}),o.jsxs(et,{onClick:d,disabled:i,className:"w-full",size:"lg",children:[o.jsx(mE,{className:"h-4 w-4 mr-2"}),i?"Saving...":"Save Settings"]})]})]})]}),o.jsx("div",{className:"lg:sticky lg:top-6",children:o.jsxs(Sr,{children:[o.jsxs(fn,{children:[o.jsxs(hn,{className:"flex items-center gap-2",children:[o.jsx(Ec,{className:"h-5 w-5"}),"Live Invoice Preview"]}),o.jsx(_n,{children:"Real-time preview of your invoice settings"})]}),o.jsx(Pr,{children:o.jsxs("div",{className:"border rounded-lg overflow-hidden bg-white",children:[e.copies.original&&o.jsx("div",{className:"text-center font-bold py-1 bg-blue-50 border-b text-blue-800",children:"ORIGINAL"}),e.copies.duplicate&&o.jsx("div",{className:"text-center font-bold py-1 bg-green-50 border-b text-green-800",children:"DUPLICATE FOR TRANSPORTER"}),e.copies.triplicate&&o.jsx("div",{className:"text-center font-bold py-1 bg-orange-50 border-b text-orange-800",children:"TRIPLICATE FOR SUPPLIER"}),o.jsxs("div",{className:"theme-simple-white p-4",style:{fontFamily:e.headerFont,fontSize:h[e.bodyFontSize],transform:`scale(${A[e.paperSize].scale*.6})`,transformOrigin:"top left",width:`${166.67/A[e.paperSize].scale}%`,height:`${166.67/A[e.paperSize].scale}%`,maxWidth:A[e.paperSize].width,position:"relative"},children:[o.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1,opacity:.08,pointerEvents:"none"},children:o.jsx("img",{src:e.companyLogoUrl||"/Shree Datta Enterprises_LOGO 1.png",alt:"Watermark",crossOrigin:"anonymous",style:{width:"300px",height:"300px",objectFit:"contain",filter:"grayscale(100%) brightness(0.9) contrast(0.3)"}})}),o.jsx("div",{className:"invoice-title",style:{position:"relative",zIndex:1},children:"Tax Invoice"}),o.jsxs("div",{style:{display:"flex",alignItems:"flex-start",padding:"10px",borderBottom:"1px solid #000",marginBottom:"10px",minHeight:"100px",position:"relative",zIndex:1},children:[e.showLogo&&o.jsx("img",{src:e.companyLogoUrl||"/Shree Datta Enterprises_LOGO 1.png",alt:"Company Logo",style:{width:"80px",height:"80px",objectFit:"contain",background:"transparent",border:"none",display:"block",imageRendering:"crisp-edges",marginRight:"15px",flexShrink:0,marginTop:"10px"}}),o.jsxs("div",{style:{flex:1,display:"flex",justifyContent:"space-between"},children:[o.jsxs("div",{style:{flex:1,maxWidth:"60%"},children:[o.jsx("h1",{className:"dynamic-company-name",style:{fontSize:e.headerFontSize==="vsmall"?"14px":e.headerFontSize==="small"?"18px":e.headerFontSize==="medium"?"20px":e.headerFontSize==="large"?"24px":e.headerFontSize==="vlarge"?"28px":e.headerFontSize==="extralarge"?"32px":"20px",fontFamily:`${e.headerFont}, Arial, sans-serif`,fontWeight:"900",color:"#000000",letterSpacing:"1px",textTransform:"uppercase",margin:"0 0 8px 0",lineHeight:"1.2",wordWrap:"break-word",maxWidth:"100%",overflow:"visible"},children:e.companyName}),o.jsx("div",{style:{fontSize:e.bodyFontSize==="vsmall"?"8px":e.bodyFontSize==="small"?"10px":e.bodyFontSize==="medium"?"12px":e.bodyFontSize==="large"?"14px":e.bodyFontSize==="vlarge"?"16px":e.bodyFontSize==="extralarge"?"18px":"12px",marginBottom:"8px",fontFamily:`${e.headerFont}, Calibri, Arial, sans-serif`,lineHeight:"1.3"},children:e.address.split(`
`).map((v,x)=>o.jsx("div",{children:v},x))}),o.jsxs("div",{style:{fontSize:e.bodyFontSize==="vsmall"?"7px":e.bodyFontSize==="small"?"9px":e.bodyFontSize==="medium"?"11px":e.bodyFontSize==="large"?"13px":e.bodyFontSize==="vlarge"?"15px":e.bodyFontSize==="extralarge"?"17px":"11px",fontFamily:`${e.headerFont}, Calibri, Arial, sans-serif`,lineHeight:"1.3"},children:[o.jsxs("div",{children:["Phone: ",e.phone]}),o.jsxs("div",{children:["GSTIN: ",e.gstin]})]})]}),o.jsxs("div",{style:{fontSize:e.bodyFontSize==="vsmall"?"7px":e.bodyFontSize==="small"?"9px":e.bodyFontSize==="medium"?"11px":e.bodyFontSize==="large"?"13px":e.bodyFontSize==="vlarge"?"15px":e.bodyFontSize==="extralarge"?"17px":"11px",fontFamily:`${e.headerFont}, Calibri, Arial, sans-serif`,textAlign:"right",paddingTop:"30px",maxWidth:"35%"},children:[o.jsxs("div",{style:{marginBottom:"3px"},children:["Email: ",e.email]}),o.jsx("div",{children:"State: 27-Maharashtra"})]})]})]}),o.jsx("table",{style:{width:"100%",borderCollapse:"collapse",border:"2px solid #000",marginBottom:"0",position:"relative",zIndex:1,background:"#ffffff"},children:o.jsxs("tr",{children:[o.jsxs("td",{style:{width:"50%",border:"1px solid #000",padding:"0",verticalAlign:"top"},children:[o.jsx("div",{style:{background:"#e9ecef",padding:"4px 8px",borderBottom:"1px solid #000",fontWeight:"bold",fontSize:"11px"},children:"Bill To:"}),o.jsxs("div",{style:{padding:"8px",fontSize:"11px",lineHeight:"1.4",fontFamily:`${e.headerFont}, Calibri, Arial, sans-serif`,minHeight:"60px"},children:[o.jsx("div",{style:{fontWeight:"bold",marginBottom:"4px",textTransform:"uppercase"},children:"A/P NILZIBAMANI GRAMPANCHAYAT NILZI TAL-MIRAJ DIST-SANGLI"}),o.jsx("div",{style:{marginBottom:"2px"},children:"A/P NILZIBAMANI GRAMPANCHAYAT NILZI TAL-MIRAJ DIST-SANGLI"}),o.jsx("div",{children:"Contact No: 8999660907"})]})]}),o.jsxs("td",{style:{width:"50%",border:"1px solid #000",padding:"0",verticalAlign:"top"},children:[o.jsx("div",{style:{background:"#e9ecef",padding:"4px 8px",borderBottom:"1px solid #000",fontWeight:"bold",fontSize:"11px"},children:"Invoice Details:"}),o.jsxs("div",{style:{padding:"8px",fontSize:"11px",lineHeight:"1.4",fontFamily:`${e.headerFont}, Calibri, Arial, sans-serif`,minHeight:"60px"},children:[o.jsxs("div",{style:{marginBottom:"4px"},children:["No: ",o.jsx("strong",{children:"2025/NOV/109"})]}),o.jsxs("div",{children:["Date: ",o.jsx("strong",{children:new Date().toLocaleDateString("en-GB")})]})]})]})]})}),o.jsx("table",{style:{width:"100%",borderCollapse:"collapse",border:"2px solid #000",marginBottom:"0",position:"relative",zIndex:1,background:"#ffffff"},children:o.jsxs("tr",{children:[o.jsxs("td",{style:{width:"50%",border:"1px solid #000",padding:"0",verticalAlign:"top"},children:[o.jsx("div",{style:{background:"#e9ecef",padding:"4px 8px",borderBottom:"1px solid #000",fontWeight:"bold",fontSize:"11px"},children:"Ship To:"}),o.jsx("div",{style:{padding:"8px",fontSize:"11px",lineHeight:"1.4",minHeight:"60px"},children:"A/P NILZIBAMANI GRAMPANCHAYAT NILZI TAL-MIRAJ DIST-SANGLI"})]}),o.jsxs("td",{style:{width:"50%",border:"1px solid #000",padding:"0",verticalAlign:"top"},children:[o.jsx("div",{style:{background:"#e9ecef",padding:"4px 8px",borderBottom:"1px solid #000",fontWeight:"bold",fontSize:"11px"},children:"Transportation Details:"}),o.jsx("div",{style:{padding:"0",minHeight:"60px"},children:o.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:o.jsxs("tr",{children:[o.jsx("td",{style:{width:"50%",border:"1px solid #000",padding:"4px 8px",verticalAlign:"top"},children:o.jsxs("div",{style:{fontSize:"10px",lineHeight:"1.4"},children:[o.jsx("div",{style:{marginBottom:"2px"},children:"Vehicle Number:"}),o.jsx("div",{style:{fontWeight:"bold"},children:"Sample Vehicle"}),o.jsx("div",{style:{marginTop:"4px",marginBottom:"2px"},children:"Delivery Date:"}),o.jsx("div",{style:{fontWeight:"bold"},children:"Sample Date"})]})}),o.jsx("td",{style:{width:"50%",border:"1px solid #000",padding:"4px 8px",verticalAlign:"top"},children:o.jsxs("div",{style:{fontSize:"10px",lineHeight:"1.4"},children:[o.jsx("div",{style:{marginBottom:"2px"},children:"Delivery Location:"}),o.jsx("div",{style:{fontWeight:"bold"},children:"Sample Location"})]})})]})})})]})]})}),o.jsxs("table",{className:"items-table",style:{position:"relative",zIndex:1,background:"#ffffff"},children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{style:{width:"30px"},children:"#"}),o.jsx("th",{style:{width:"200px"},children:"Item name"}),o.jsx("th",{style:{width:"80px"},children:"HSN/ SAC"}),o.jsx("th",{style:{width:"60px"},children:"Quantity"}),o.jsx("th",{style:{width:"40px"},children:"Unit"}),o.jsx("th",{style:{width:"80px"},children:"Price/ Unit()"}),o.jsx("th",{style:{width:"80px"},children:"GST()"}),o.jsx("th",{style:{width:"80px"},children:"Amount()"})]})}),o.jsxs("tbody",{children:[o.jsxs("tr",{children:[o.jsx("td",{children:"1"}),o.jsx("td",{className:"item-name",children:"(vikram bleaching powder) TCL"}),o.jsx("td",{children:"28281010"}),o.jsx("td",{children:"1"}),o.jsx("td",{children:"Kg"}),o.jsx("td",{children:" 42.37"}),o.jsx("td",{children:" 7.63 (18%)"}),o.jsx("td",{children:" 50.00"})]}),o.jsxs("tr",{style:{fontWeight:"bold",background:"#f8f9fa"},children:[o.jsx("td",{colSpan:2,children:"Total"}),o.jsx("td",{children:"1"}),o.jsx("td",{}),o.jsx("td",{}),o.jsx("td",{children:" 7.63"}),o.jsx("td",{children:" 50.00"})]})]})]}),o.jsxs("div",{style:{display:"flex",border:"2px solid #000",marginTop:"0",position:"relative",zIndex:1,background:"#ffffff"},children:[o.jsxs("div",{style:{flex:"1",borderRight:"2px solid #000"},children:[o.jsx("div",{style:{fontWeight:"bold",padding:"4px 8px",borderBottom:"2px solid #000",background:"#f8f9fa",fontSize:"12px"},children:"Tax Summary:"}),o.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"9px"},children:[o.jsxs("thead",{children:[o.jsxs("tr",{children:[o.jsx("th",{rowSpan:2,style:{border:"1px solid #000",padding:"3px 2px",background:"#f8f9fa",fontSize:"8px"},children:"HSN/ SAC"}),o.jsx("th",{rowSpan:2,style:{border:"1px solid #000",padding:"3px 2px",background:"#f8f9fa",fontSize:"8px"},children:"Taxable amount ()"}),o.jsx("th",{colSpan:2,style:{border:"1px solid #000",padding:"3px 2px",background:"#f8f9fa",fontSize:"8px"},children:"CGST"}),o.jsx("th",{colSpan:2,style:{border:"1px solid #000",padding:"3px 2px",background:"#f8f9fa",fontSize:"8px"},children:"SGST"}),o.jsx("th",{rowSpan:2,style:{border:"1px solid #000",padding:"3px 2px",background:"#f8f9fa",fontSize:"8px"},children:"Total Tax ()"})]}),o.jsxs("tr",{children:[o.jsx("th",{style:{border:"1px solid #000",padding:"3px 2px",background:"#f8f9fa",fontSize:"8px"},children:"Rate (%)"}),o.jsx("th",{style:{border:"1px solid #000",padding:"3px 2px",background:"#f8f9fa",fontSize:"8px"},children:"Amt ()"}),o.jsx("th",{style:{border:"1px solid #000",padding:"3px 2px",background:"#f8f9fa",fontSize:"8px"},children:"Rate (%)"}),o.jsx("th",{style:{border:"1px solid #000",padding:"3px 2px",background:"#f8f9fa",fontSize:"8px"},children:"Amt ()"})]})]}),o.jsxs("tbody",{children:[o.jsxs("tr",{children:[o.jsx("td",{style:{border:"1px solid #000",padding:"3px 2px",fontSize:"9px"},children:"28281010"}),o.jsx("td",{style:{border:"1px solid #000",padding:"3px 2px",fontSize:"9px"},children:"42.37"}),o.jsx("td",{style:{border:"1px solid #000",padding:"3px 2px",fontSize:"9px"},children:"9"}),o.jsx("td",{style:{border:"1px solid #000",padding:"3px 2px",fontSize:"9px"},children:"3.81"}),o.jsx("td",{style:{border:"1px solid #000",padding:"3px 2px",fontSize:"9px"},children:"9"}),o.jsx("td",{style:{border:"1px solid #000",padding:"3px 2px",fontSize:"9px"},children:"3.81"}),o.jsx("td",{style:{border:"1px solid #000",padding:"3px 2px",fontSize:"9px"},children:"7.63"})]}),o.jsxs("tr",{style:{fontWeight:"bold"},children:[o.jsx("td",{style:{border:"1px solid #000",padding:"3px 2px",background:"#f8f9fa",fontSize:"9px"},children:"TOTAL"}),o.jsx("td",{style:{border:"1px solid #000",padding:"3px 2px",background:"#f8f9fa",fontSize:"9px"},children:"42.37"}),o.jsx("td",{style:{border:"1px solid #000",padding:"3px 2px",background:"#f8f9fa",fontSize:"9px"}}),o.jsx("td",{style:{border:"1px solid #000",padding:"3px 2px",background:"#f8f9fa",fontSize:"9px"},children:"3.81"}),o.jsx("td",{style:{border:"1px solid #000",padding:"3px 2px",background:"#f8f9fa",fontSize:"9px"}}),o.jsx("td",{style:{border:"1px solid #000",padding:"3px 2px",background:"#f8f9fa",fontSize:"9px"},children:"3.81"}),o.jsx("td",{style:{border:"1px solid #000",padding:"3px 2px",background:"#f8f9fa",fontSize:"9px"},children:"7.63"})]})]})]})]}),o.jsxs("div",{style:{width:"200px",padding:"8px",borderLeft:"0"},children:[o.jsxs("div",{style:{marginBottom:"8px",border:"1px solid #000",padding:"4px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"2px"},children:[o.jsx("span",{style:{fontSize:"10px"},children:"Sub Total"}),o.jsx("span",{style:{fontSize:"10px"},children:" 42.37"})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"2px",borderTop:"1px solid #ddd",paddingTop:"2px"},children:[o.jsx("span",{style:{fontSize:"10px",fontWeight:"bold"},children:"Total"}),o.jsx("span",{style:{fontSize:"10px",fontWeight:"bold"},children:" 50.00"})]})]}),o.jsxs("div",{style:{border:"1px solid #000",padding:"4px",marginBottom:"8px"},children:[o.jsx("div",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"4px"},children:"Invoice Amount in Words:"}),o.jsx("div",{style:{fontSize:"9px"},children:"Fifty Rupees only"})]}),o.jsxs("div",{style:{border:"1px solid #000",padding:"4px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"2px"},children:[o.jsx("span",{style:{fontSize:"10px"},children:"Received"}),o.jsx("span",{style:{fontSize:"10px"},children:" 0.00"})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{fontSize:"10px"},children:"Balance"}),o.jsx("span",{style:{fontSize:"10px"},children:" 50.00"})]})]})]})]}),o.jsxs("div",{style:{border:"2px solid #000",marginTop:"0",position:"relative",zIndex:1,background:"#ffffff"},children:[o.jsx("div",{style:{fontWeight:"bold",padding:"4px 8px",borderBottom:"2px solid #000",background:"#f8f9fa",fontSize:"12px"},children:"Terms & Conditions:"}),o.jsx("div",{style:{padding:"8px",fontSize:"11px",minHeight:"30px"},children:e.footerText})]}),o.jsxs("div",{style:{display:"flex",border:"2px solid #000",marginTop:"0",position:"relative",zIndex:1,background:"#ffffff"},children:[o.jsxs("div",{style:{flex:"1",borderRight:"2px solid #000"},children:[o.jsx("div",{style:{fontWeight:"bold",padding:"4px 8px",borderBottom:"2px solid #000",background:"#f8f9fa",fontSize:"12px"},children:"Bank Details:"}),o.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"flex-start",padding:"8px"},children:[e.showQRCode&&o.jsx("div",{style:{width:"70px",height:"70px",background:"#f0f0f0",border:"1px solid #ddd",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px"},children:"QR CODE"}),o.jsxs("div",{style:{fontSize:"9px",lineHeight:"1.3",flex:1},children:[o.jsxs("div",{style:{marginBottom:"2px"},children:[o.jsx("strong",{children:"Name :"})," KOTAK MAHINDRA BANK LIMITED, SANGALI BRANCH"]}),o.jsxs("div",{style:{marginBottom:"2px"},children:[o.jsx("strong",{children:"Account No. :"})," 9850127385"]}),o.jsxs("div",{style:{marginBottom:"2px"},children:[o.jsx("strong",{children:"IFSC code :"})," KKBK0002046"]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Account holder's name :"})," ",e.companyName]})]})]})]}),o.jsxs("div",{style:{width:"200px",padding:"8px"},children:[o.jsxs("div",{style:{fontWeight:"bold",fontSize:"11px",marginBottom:"8px",textAlign:"center"},children:["For ",e.companyName,":"]}),o.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"70px",marginBottom:"8px"},children:o.jsx("div",{style:{width:"80px",height:"50px",border:"1px solid #ddd",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px",color:"#666",background:"#f9f9f9"},children:"STAMP"})}),o.jsx("div",{style:{textAlign:"center",fontSize:"10px",borderTop:"1px solid #000",paddingTop:"4px"},children:"Authorized Signatory"})]})]})]})]})})]})})]})]})})},fIt=()=>{const e=ds(),[t,r]=C.useState([]),[n,i]=C.useState(!0),[s,a]=C.useState(""),[l,c]=C.useState("all"),[u,d]=C.useState("all");C.useEffect(()=>{h()},[]);const h=async()=>{try{i(!0);const _=Ai(jr(Et,"invoices"),ia("createdAt","desc")),E=await Si(_),I=[];E.docs.forEach(N=>{var O,M;const j=N.data(),T=j.grandTotal||0,P=j.receivedAmount||0,k=j.balance||T-P;let R="pending";P>=T?R="completed":P>0&&(R="pending"),I.push({id:N.id,customerName:((O=j.billTo)==null?void 0:O.name)||"Unknown Customer",customerContact:((M=j.billTo)==null?void 0:M.contact)||"",invoiceNumber:j.invoiceNumber||"N/A",amount:P,paymentMethod:j.paymentMethod||"Cash",bankName:j.bankName||"",paymentDate:j.paymentDate||j.invoiceDate||"",timestamp:j.createdAt,status:R,grandTotal:T,balance:k})}),r(I)}catch(_){console.error("Error fetching payment history:",_)}finally{i(!1)}},A=t.filter(_=>{const E=_.customerName.toLowerCase().includes(s.toLowerCase())||_.invoiceNumber.toLowerCase().includes(s.toLowerCase())||_.customerContact.includes(s),I=l==="all"||_.paymentMethod===l,N=u==="all"||_.status===u;return E&&I&&N}),g=A.reduce((_,E)=>_+E.amount,0),v=A.reduce((_,E)=>_+(E.balance||0),0);A.filter(_=>_.status==="completed").length;const x=A.filter(_=>_.status==="pending").length,y=_=>{switch(_.toLowerCase()){case"upi":return"";case"bank":case"bank transfer":return"";case"cash":return"";case"cheque":return"";default:return""}},w=_=>{switch(_){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return n?o.jsx("div",{className:"min-h-screen p-6 bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading payment history..."})]})}):o.jsx("div",{className:"min-h-screen p-6",style:{background:"linear-gradient(135deg, #F5F9FF 0%, #EBF2FA 100%)"},children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(Z0,{className:"h-8 w-8 text-blue-600"}),o.jsx("h1",{className:"text-4xl font-bold",style:{color:"#1E293B"},children:"Payment History"})]}),o.jsx("p",{style:{color:"#64748B"},children:"Track all customer payments and transactions"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Total Payments"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A.length})]}),o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx(LF,{className:"h-6 w-6 text-blue-600"})})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),o.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",g.toLocaleString()]})]}),o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:o.jsx(Z0,{className:"h-6 w-6 text-green-600"})})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Pending Payments"}),o.jsx("p",{className:"text-2xl font-bold text-red-600",children:x})]}),o.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:o.jsx(Mf,{className:"h-6 w-6 text-red-600"})})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Pending Amount"}),o.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:["",v.toLocaleString()]})]}),o.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:o.jsx(LF,{className:"h-6 w-6 text-orange-600"})})]})})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-8",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Search"}),o.jsxs("div",{className:"relative",children:[o.jsx(Is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx("input",{type:"text",value:s,onChange:_=>a(_.target.value),placeholder:"Search customer, invoice...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Payment Method"}),o.jsxs("select",{value:l,onChange:_=>c(_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Methods"}),o.jsx("option",{value:"Cash",children:"Cash"}),o.jsx("option",{value:"UPI",children:"UPI"}),o.jsx("option",{value:"Bank",children:"Bank Transfer"}),o.jsx("option",{value:"Cheque",children:"Cheque"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Status"}),o.jsxs("select",{value:u,onChange:_=>d(_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"failed",children:"Failed"})]})]}),o.jsx("div",{className:"flex items-end",children:o.jsxs("button",{onClick:h,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[o.jsx(Fie,{className:"h-4 w-4 inline mr-2"}),"Refresh"]})})]})}),o.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Recent Payments"})}),A.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Z0,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"No payment records found"}),o.jsx("p",{className:"text-gray-500 text-sm",children:"Payments will appear here once customers make transactions"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Amount"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paid Amount"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Balance"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Method"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bank/Details"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.map(_=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx(Qm,{className:"h-5 w-5 text-blue-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.customerName}),o.jsx("div",{className:"text-sm text-gray-500",children:_.customerContact})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.invoiceNumber})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"text-sm font-bold text-blue-600",children:["",(_.grandTotal||0).toLocaleString()]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"text-sm font-bold text-green-600",children:["",_.amount.toLocaleString()]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:`text-sm font-bold ${(_.balance||0)>0?"text-red-600":"text-green-600"}`,children:["",(_.balance||0).toLocaleString()]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-lg mr-2",children:y(_.paymentMethod)}),o.jsx("span",{className:"text-sm text-gray-900",children:_.paymentMethod})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900",children:_.bankName||"N/A"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Mf,{className:"h-4 w-4 text-gray-400 mr-2"}),o.jsx("span",{className:"text-sm text-gray-900",children:_.paymentDate?new Date(_.paymentDate).toLocaleDateString("en-GB"):"N/A"})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${w(_.status)}`,children:_.status})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("button",{onClick:()=>e(`/billing/invoice/create?id=${_.id}`),className:"inline-flex items-center gap-2 px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:[o.jsx(Ec,{className:"h-4 w-4"}),"View Invoice"]})})]},_.id))})]})})]})]})})},hIt={Sindhudurg:"",Ratnagiri:"",Kolhapur:"",Sangli:"",Satara:"",Solapur:"",Latur:""},AIt={Atpadi:"",Jat:"",Kadegaon:"",Kavathemahankal:"",Khanapur:"",Miraj:"",Palus:"",Sangli:"",Shirala:"",Tasgaon:"",Walwa:""},NN=(e,t)=>{if(!e)return"";const r=e.trim();return t==="district"?hIt[r]||e:t==="taluka"&&AIt[r]||e},pIt=()=>{const e=C.useRef(null),[t,r]=C.useState(""),[n,i]=C.useState(null),[s,a]=C.useState([]),[l,c]=C.useState(""),[u,d]=C.useState(""),[h,A]=C.useState("");C.useState(1e6),C.useState(1),C.useState(1),C.useState(1);const[g,v]=C.useState(1e5),[x,y]=C.useState(118),[w,_]=C.useState(""),[E,I]=C.useState("-"),[N,j]=C.useState("2025-05-21"),[T,P]=C.useState("50529897"),[k,R]=C.useState(""),[O,M]=C.useState(""),[H,K]=C.useState("        "),[Y,ne]=C.useState("1000"),[le,te]=C.useState(" "),X=ce=>{const Ne=new Date(ce),oe=Ne.getDate().toString().padStart(2,"0"),We=(Ne.getMonth()+1).toString().padStart(2,"0"),Re=Ne.getFullYear().toString(),z={0:"",1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:""},Fe=oe.split("").map(Te=>z[Te]).join(""),He=We.split("").map(Te=>z[Te]).join(""),ke=Re.split("").map(Te=>z[Te]).join("");return`${Fe}/${He}/${ke}`};C.useEffect(()=>{ue()},[]);const ue=async()=>{try{const ce=jr(Et,"lgd_data"),Ne=await Si(ce),oe=[];Ne.forEach(We=>{const Re=We.data();oe.push({id:We.id,lgdCode:Re.lgdCode||"",village:Re.village||"",district:Re.district||"",taluka:Re.taluka||""})}),a(oe)}catch(ce){console.error("Error loading LGD data:",ce)}},ve=()=>{if(!t.trim()){alert(" LGD     ");return}const ce=t.toLowerCase().trim(),Ne=s.find(oe=>oe.lgdCode.toLowerCase().includes(ce)||oe.village.toLowerCase().includes(ce));Ne?(i(Ne),c(Ne.village),d(NN(Ne.taluka||"","taluka")),A(NN(Ne.district||"","district")),alert(`! : ${Ne.village}, : ${NN(Ne.taluka||"","taluka")}, : ${NN(Ne.district||"","district")}`)):(i(null),alert("LGD     "))},V=()=>g*.8474576,q=()=>V()/100,ee=()=>q(),re=()=>q(),de=()=>q(),Ae=()=>ee()+re()+de(),_e=()=>g-Ae(),ye=async()=>{const ce=document.getElementById("tipni"),Ne=document.getElementById("tipni-page-2");if(!ce){alert("  .    .");return}console.log("Starting Tipni PDF generation..."),console.log("Page 1 found:",!!ce),console.log("Page 2 found:",!!Ne);try{const oe=new Hr("p","mm","a4");ce.classList.add("pdf-rendering"),Ne&&Ne.classList.add("pdf-rendering"),console.log(" Processing Page 1...");const We=await Vc(ce,{scale:2,useCORS:!0,backgroundColor:"#ffffff",scrollX:0,scrollY:0,logging:!1,allowTaint:!0,width:ce.scrollWidth,height:ce.scrollHeight}),Re=We.toDataURL("image/png",1),z=190,Fe=We.height*z/We.width;if(oe.addImage(Re,"PNG",10,10,z,Math.min(Fe,277)),console.log(" Page 1 added to PDF"),Ne){console.log(" Processing Page 2...");const ke=await Vc(Ne,{scale:2,useCORS:!0,backgroundColor:"#ffffff",scrollX:0,scrollY:0,logging:!1,allowTaint:!0,width:Ne.scrollWidth,height:Ne.scrollHeight}),Te=ke.toDataURL("image/png",1),Ze=ke.height*z/ke.width;oe.addPage(),oe.addImage(Te,"PNG",10,10,z,Math.min(Ze,277)),console.log(" Page 2 added to PDF")}ce.classList.remove("pdf-rendering"),Ne&&Ne.classList.remove("pdf-rendering"),console.log(` Tipni PDF created successfully with ${Ne?2:1} pages`),oe.save(`Tipni_${new Date().toISOString().split("T")[0]}.pdf`)}catch(oe){console.error("Error generating Tipni PDF:",oe),ce.classList.remove("pdf-rendering"),Ne&&Ne.classList.remove("pdf-rendering"),alert(`PDF generation failed: ${oe.message}.   refresh    .`)}};return o.jsx("div",{className:"min-h-screen p-4 bg-gray-100",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6",children:"LGD Search -  "}),o.jsxs("div",{className:"flex gap-4 items-end",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"LGD    "}),o.jsx("input",{type:"text",value:t,onChange:ce=>r(ce.target.value),placeholder:"LGD Code  Village Name ",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:ce=>ce.key==="Enter"&&ve()})]}),o.jsxs("button",{onClick:ve,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[o.jsx(Is,{className:"h-4 w-4"}),""]})]}),n&&o.jsxs("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-md",children:[o.jsx("h3",{className:"font-bold text-green-800 mb-2",children:"  !"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-semibold",children:"LGD :"})," ",n.lgdCode]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-semibold",children:":"})," ",l]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-semibold",children:":"})," ",u]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-semibold",children:":"})," ",h]})]})]}),o.jsxs("div",{className:"mt-6",children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"     PFMS"}),o.jsxs("select",{value:w,onChange:ce=>_(ce.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"--  --"}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"   ",children:"   "})]})]}),o.jsxs("div",{className:"mt-6",children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:" "}),o.jsxs("select",{value:E,onChange:ce=>I(ce.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"-",children:"-"}),o.jsx("option",{value:"-",children:"-"}),o.jsx("option",{value:"-",children:"-"}),o.jsx("option",{value:"-",children:"-"}),o.jsx("option",{value:"-",children:"-"}),o.jsx("option",{value:"-",children:"-"}),o.jsx("option",{value:"-",children:"-"})]})]}),o.jsxs("div",{className:"mt-6",children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"  (Select Date) -   "}),o.jsx("input",{type:"date",value:N,onChange:ce=>j(ce.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsxs("div",{className:"mt-1 text-sm text-gray-600",children:[" : . ",X(N)]}),o.jsx("div",{className:"mt-1 text-xs text-blue-600",children:"    "})]}),o.jsxs("div",{className:"mt-6",children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"  (Project Number)"}),o.jsx("input",{type:"text",value:T,onChange:ce=>P(ce.target.value),placeholder:"50529897",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("div",{className:"mt-1 text-xs text-blue-600",children:"    "})]}),o.jsxs("div",{className:"mt-6",children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"GEM   (GEM Order Number)"}),o.jsx("input",{type:"text",value:k,onChange:ce=>R(ce.target.value),placeholder:"",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("div",{className:"mt-1 text-xs text-blue-600",children:"     "})]}),o.jsxs("div",{className:"mt-6",children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"  (Bill Amount)"}),o.jsx("input",{type:"text",value:O,onChange:ce=>M(ce.target.value),placeholder:"",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("div",{className:"mt-1 text-xs text-blue-600",children:"     (, , )"})]}),o.jsxs("div",{className:"mt-6",children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"  (Work Description)"}),o.jsx("textarea",{value:H,onChange:ce=>K(ce.target.value),placeholder:"        ",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:2}),o.jsx("div",{className:"mt-1 text-xs text-blue-600",children:"     "})]}),o.jsxs("div",{className:"mt-6",children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"   (Government Deduction Amount)"}),o.jsx("input",{type:"text",value:Y,onChange:ce=>ne(ce.target.value),placeholder:"1000",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("div",{className:"mt-1 text-xs text-blue-600",children:"     "})]}),o.jsxs("div",{className:"mt-6",children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"   (Computer Operator Name)"}),o.jsx("input",{type:"text",value:le,onChange:ce=>te(ce.target.value),placeholder:" ",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("div",{className:"mt-1 text-xs text-blue-600",children:"   "})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h3",{className:"text-lg font-bold mb-4",children:"  "}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("button",{onClick:ye,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[o.jsx(na,{className:"h-4 w-4"}),"PDF  "]}),o.jsxs("button",{onClick:()=>{const ce=document.getElementById("tipni");ce&&(ce.classList.add("pdf-rendering"),window.print(),setTimeout(()=>{ce.classList.remove("pdf-rendering")},1e3))},className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:[o.jsx(na,{className:"h-4 w-4"})," "]})]})]}),o.jsx("style",{children:`
          #tipni *, #tipni-page-2 * {
            font-variant-numeric: lining-nums !important;
          }
          #tipni input[type="number"], #tipni-page-2 input[type="number"] {
            font-family: Arial, sans-serif !important;
            font-variant-numeric: lining-nums !important;
            color: #000 !important;
          }
          #tipni .calculated-value, #tipni-page-2 .calculated-value {
            font-family: Arial, sans-serif !important;
            font-variant-numeric: lining-nums !important;
            color: #000 !important;
          }
          
          /* PDF-specific fixes */
          .pdf-rendering .tipni-table td {
            height: 40px !important;
            line-height: 40px !important;
            vertical-align: middle !important;
            padding: 0 8px !important;
            display: table-cell !important;
          }
          .pdf-rendering .tipni-table input {
            line-height: 40px !important;
            height: 40px !important;
            vertical-align: middle !important;
            margin: 0 !important;
            padding: 0 !important;
          }
          .pdf-rendering .tipni-table .calculated-value {
            line-height: 40px !important;
            height: 40px !important;
            vertical-align: middle !important;
            display: table-cell !important;
          }
        `}),o.jsxs("div",{id:"tipni",ref:e,style:{width:"210mm",minHeight:"297mm",fontFamily:"Arial, sans-serif",fontSize:"14px",lineHeight:"1.4",position:"relative",background:"#FFFFFF",margin:"0 auto",padding:"20mm",boxSizing:"border-box",overflow:"hidden",border:"1px solid #000000",display:"block",visibility:"visible",opacity:1,boxShadow:"0 4px 8px rgba(0,0,0,0.1)",fontVariantNumeric:"lining-nums"},children:[o.jsxs("div",{style:{textAlign:"center",marginBottom:"10px"},children:[o.jsxs("h1",{style:{fontSize:"28px",fontWeight:"bold",margin:"0 0 8px 0",letterSpacing:"1px"},children:[" , ",l||""]}),o.jsxs("div",{style:{fontSize:"18px",marginBottom:"8px"},children:[". ",u||"",", . ",h||"",". ()"]}),o.jsxs("div",{style:{textAlign:"right",fontSize:"14px",marginTop:"10px",fontWeight:"bold"},children:[". ",X(N)]})]}),o.jsx("div",{style:{textAlign:"center",fontSize:"18px",fontWeight:"bold",marginBottom:"20px",textDecoration:"underline"},children:""}),o.jsxs("div",{style:{marginBottom:"15px",fontSize:"14px",lineHeight:"1.6"},children:[o.jsxs("div",{style:{marginBottom:"15px"},children:[o.jsx("strong",{children:":"})," ",w?`${w} `:"    "," PFMS     ."]}),o.jsxs("div",{style:{marginBottom:"15px"},children:[o.jsx("strong",{children:"  :-"})," ",H," ",E," (",T,")"]}),o.jsxs("div",{style:{marginBottom:"15px"},children:[o.jsx("strong",{children:":"})," . .        . ",X(N),"."]}),o.jsxs("div",{style:{marginBottom:"15px"},children:[o.jsx("strong",{children:". GEM  "})," ",k,"."]}),o.jsx("div",{style:{marginBottom:"20px"},children:o.jsx("strong",{children:","})}),o.jsxs("div",{style:{marginBottom:"20px",textIndent:"50px",textAlign:"justify"},children:[w||"   ","  ",E,"       ",H,"                      ."]}),o.jsxs("div",{style:{marginBottom:"20px",textIndent:"50px",textAlign:"justify"},children:["      . ",O,"/-   ."]}),o.jsx("div",{style:{marginBottom:"20px"},children:o.jsxs("strong",{children:["   .",Y,"/-"]})})]}),o.jsx("div",{style:{marginBottom:"10px",display:"flex",justifyContent:"center"},children:o.jsxs("table",{className:"tipni-table",style:{borderCollapse:"collapse",border:"2px solid #000",fontSize:"14px",width:"100%",tableLayout:"auto"},children:[o.jsx("style",{children:`
                .tipni-table {
                  width: 100% !important;
                  table-layout: fixed !important;
                  border-collapse: collapse !important;
                }
                .tipni-table td, .tipni-table th {
                  border: 1px solid #000 !important;
                  padding: 8px !important;
                  vertical-align: middle !important;
                  height: 45px !important;
                  font-family: Arial, sans-serif !important;
                  font-variant-numeric: lining-nums !important;
                  line-height: 1.2 !important;
                  box-sizing: border-box !important;
                }
                .tipni-table th {
                  text-align: center !important;
                  font-weight: bold !important;
                  background: #f5f5f5 !important;
                }
                .tipni-table td:nth-child(1) {
                  width: 10% !important;
                  text-align: center !important;
                  font-weight: bold !important;
                }
                .tipni-table td:nth-child(2) {
                  width: 35% !important;
                  text-align: left !important;
                  padding-left: 8px !important;
                  white-space: nowrap !important;
                  overflow: hidden !important;
                  text-overflow: ellipsis !important;
                }
                .tipni-table td:nth-child(3),
                .tipni-table td:nth-child(4),
                .tipni-table td:nth-child(5) {
                  width: 18% !important;
                  text-align: center !important;
                  font-weight: bold !important;
                  font-size: 14px !important;
                }
                .tipni-table input {
                  width: 90% !important;
                  border: none !important;
                  text-align: center !important;
                  background: transparent !important;
                  font-size: 14px !important;
                  padding: 4px !important;
                  font-weight: bold !important;
                  outline: none !important;
                  font-family: Arial, sans-serif !important;
                  font-variant-numeric: lining-nums !important;
                  color: #000 !important;
                  vertical-align: middle !important;
                  height: 30px !important;
                  line-height: 1.2 !important;
                  margin: 0 auto !important;
                  display: block !important;
                }
                .tipni-table .calculated-value {
                  font-weight: bold !important;
                  color: #000 !important;
                  font-family: Arial, sans-serif !important;
                  font-variant-numeric: lining-nums !important;
                  text-align: center !important;
                  vertical-align: middle !important;
                  font-size: 14px !important;
                  line-height: 1.2 !important;
                }
              `}),o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"."}),o.jsx("th",{children:""}),o.jsx("th",{children:" "}),o.jsx("th",{children:""})]})}),o.jsxs("tbody",{children:[o.jsxs("tr",{children:[o.jsx("td",{children:"."}),o.jsx("td",{children:" "}),o.jsx("td",{children:o.jsx("input",{type:"number",value:g,onChange:ce=>v(Number(ce.target.value))})}),o.jsx("td",{className:"calculated-value",children:g.toFixed(0)})]}),o.jsxs("tr",{children:[o.jsx("td",{children:"."}),o.jsxs("td",{children:["  ",o.jsx("input",{type:"number",value:x,onChange:ce=>y(Number(ce.target.value)),style:{width:"50px",border:"none",background:"transparent",fontSize:"14px",fontWeight:"bold",marginLeft:"4px",outline:"none",display:"inline",fontFamily:"Arial, sans-serif",fontVariantNumeric:"lining-nums",color:"#000"}})]}),o.jsx("td",{className:"calculated-value",children:V().toFixed(4)}),o.jsx("td",{className:"calculated-value",children:V().toFixed(4)})]}),o.jsxs("tr",{children:[o.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",height:"45px",verticalAlign:"middle"},children:"."}),o.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"left",verticalAlign:"middle",height:"45px",whiteSpace:"nowrap"},children:"  100"}),o.jsx("td",{className:"calculated-value",style:{border:"1px solid #000",padding:"8px",textAlign:"center",height:"45px",verticalAlign:"middle",fontWeight:"bold"},children:q().toFixed(4)}),o.jsx("td",{className:"calculated-value",style:{border:"1px solid #000",padding:"8px",textAlign:"center",height:"45px",verticalAlign:"middle",fontWeight:"bold"},children:q().toFixed(4)})]}),o.jsxs("tr",{children:[o.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",height:"45px",verticalAlign:"middle"},children:"."}),o.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"left",verticalAlign:"middle",height:"45px",whiteSpace:"nowrap"},children:" %"}),o.jsx("td",{className:"calculated-value",style:{border:"1px solid #000",padding:"8px",textAlign:"center",height:"45px",verticalAlign:"middle",fontWeight:"bold"},children:ee().toFixed(4)}),o.jsx("td",{className:"calculated-value",style:{border:"1px solid #000",padding:"8px",textAlign:"center",height:"45px",verticalAlign:"middle",fontWeight:"bold"},children:ee().toFixed(4)})]}),o.jsxs("tr",{children:[o.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center"},children:"."}),o.jsx("td",{className:"text-cell",style:{border:"1px solid #000",padding:"8px",textAlign:"left",verticalAlign:"middle",height:"auto",minHeight:"40px"},children:"CGST %"}),o.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center"},children:re().toFixed(4)}),o.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center"},children:re().toFixed(4)}),o.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center"},children:re().toFixed(2)})]}),o.jsxs("tr",{children:[o.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center"},children:"."}),o.jsx("td",{className:"text-cell",style:{border:"1px solid #000",padding:"8px",textAlign:"left",verticalAlign:"middle",height:"auto",minHeight:"40px"},children:"SGST %"}),o.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center"},children:de().toFixed(4)}),o.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center"},children:de().toFixed(4)})]}),o.jsxs("tr",{children:[o.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center"},children:"."}),o.jsx("td",{className:"text-cell",style:{border:"1px solid #000",padding:"8px",textAlign:"left",verticalAlign:"middle",height:"auto",minHeight:"40px",fontWeight:"bold"},children:" "}),o.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",fontWeight:"bold"},children:Ae().toFixed(4)}),o.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",fontWeight:"bold"},children:Ae().toFixed(4)})]}),o.jsxs("tr",{children:[o.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center"},children:"."}),o.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"left",fontWeight:"bold"},children:" "}),o.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",fontWeight:"bold",background:"#f0f8ff"},children:_e().toFixed(4)}),o.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",fontWeight:"bold",background:"#f0f8ff"},children:_e().toFixed(4)})]})]})]})}),o.jsx("div",{style:{marginTop:"20px"},children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end"},children:[o.jsxs("div",{style:{textAlign:"left"},children:[o.jsx("div",{style:{marginBottom:"60px"},children:o.jsx("strong",{children:""})}),o.jsx("div",{style:{borderTop:"1px solid #000",paddingTop:"5px",width:"150px"},children:""})]}),o.jsxs("div",{style:{textAlign:"right"},children:[o.jsx("div",{style:{marginBottom:"60px"},children:o.jsx("strong",{children:""})}),o.jsx("div",{style:{borderTop:"1px solid #000",paddingTop:"5px",width:"150px"},children:""})]})]})})]}),o.jsxs("div",{id:"tipni-page-2",style:{width:"210mm",minHeight:"297mm",fontFamily:"Arial, sans-serif",fontSize:"14px",lineHeight:"1.4",position:"relative",background:"#FFFFFF",margin:"20px auto 0",padding:"20mm",boxSizing:"border-box",overflow:"hidden",border:"1px solid #000000",display:"block",visibility:"visible",opacity:1,pageBreakBefore:"always",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",fontVariantNumeric:"lining-nums"},children:[o.jsxs("div",{style:{textAlign:"center",marginBottom:"10px"},children:[o.jsxs("h1",{style:{fontSize:"28px",fontWeight:"bold",margin:"0 0 8px 0",letterSpacing:"1px"},children:[" , ",l||""]}),o.jsxs("div",{style:{fontSize:"18px",marginBottom:"8px"},children:[". ",u||"",", . ",h||"",". ()"]})]}),o.jsxs("div",{style:{textAlign:"left",fontSize:"14px",marginBottom:"20px",fontWeight:"bold"},children:[": ",X(N)]}),o.jsx("div",{style:{marginBottom:"30px"},children:o.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",border:"2px solid #000",fontSize:"14px"},children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsxs("th",{style:{border:"2px solid #000",padding:"12px 8px",textAlign:"center",fontWeight:"bold",width:"15%"},children:[".",o.jsx("br",{}),""]}),o.jsx("th",{style:{border:"2px solid #000",padding:"12px 8px",textAlign:"center",fontWeight:"bold",width:"50%"},children:""}),o.jsx("th",{style:{border:"2px solid #000",padding:"12px 8px",textAlign:"center",fontWeight:"bold",width:"35%"},children:""})]})}),o.jsxs("tbody",{children:[o.jsxs("tr",{children:[o.jsx("td",{style:{border:"1px solid #000",padding:"12px 8px",textAlign:"center",fontWeight:"bold"},children:"."}),o.jsx("td",{style:{border:"1px solid #000",padding:"12px 8px",textAlign:"left"},children:"  "}),o.jsx("td",{style:{border:"1px solid #000",padding:"12px 8px",textAlign:"center"},children:O})]}),o.jsxs("tr",{children:[o.jsx("td",{style:{border:"1px solid #000",padding:"12px 8px",textAlign:"center",fontWeight:"bold"},children:"."}),o.jsx("td",{style:{border:"1px solid #000",padding:"12px 8px",textAlign:"left"},children:""}),o.jsx("td",{style:{border:"1px solid #000",padding:"12px 8px",textAlign:"center"},children:""})]}),o.jsxs("tr",{children:[o.jsx("td",{style:{border:"1px solid #000",padding:"12px 8px",textAlign:"center",fontWeight:"bold"},children:"."}),o.jsx("td",{style:{border:"1px solid #000",padding:"12px 8px",textAlign:"left"},children:"GST   ()"}),o.jsx("td",{style:{border:"1px solid #000",padding:"12px 8px",textAlign:"center"},children:""})]}),o.jsxs("tr",{children:[o.jsx("td",{style:{border:"1px solid #000",padding:"12px 8px",textAlign:"center",fontWeight:"bold"},children:"."}),o.jsx("td",{style:{border:"1px solid #000",padding:"12px 8px",textAlign:"left"},children:"  ("}),o.jsx("td",{style:{border:"1px solid #000",padding:"4px",textAlign:"center"},children:o.jsx("input",{type:"text",value:Y,onChange:ce=>ne(ce.target.value),style:{width:"100%",border:"none",textAlign:"center",background:"transparent",fontSize:"14px",fontWeight:"normal",outline:"none",fontFamily:"Arial, sans-serif"},placeholder:"100"})})]}),o.jsxs("tr",{children:[o.jsx("td",{style:{border:"1px solid #000",padding:"12px 8px",textAlign:"center",fontWeight:"bold"},children:"."}),o.jsx("td",{style:{border:"1px solid #000",padding:"12px 8px",textAlign:"left"},children:"  () = (-)"}),o.jsx("td",{style:{border:"1px solid #000",padding:"12px 8px",textAlign:"center"}})]}),o.jsxs("tr",{children:[o.jsx("td",{style:{border:"1px solid #000",padding:"12px 8px",textAlign:"center",fontWeight:"bold"},children:"."}),o.jsx("td",{style:{border:"1px solid #000",padding:"12px 8px",textAlign:"left"},children:"GST ()"}),o.jsx("td",{style:{border:"1px solid #000",padding:"12px 8px",textAlign:"center"}})]}),o.jsxs("tr",{children:[o.jsx("td",{style:{border:"1px solid #000",padding:"12px 8px",textAlign:"center",fontWeight:"bold"},children:"."}),o.jsx("td",{style:{border:"1px solid #000",padding:"12px 8px",textAlign:"left"},children:""}),o.jsx("td",{style:{border:"1px solid #000",padding:"12px 8px",textAlign:"center"}})]}),o.jsxs("tr",{children:[o.jsx("td",{style:{border:"1px solid #000",padding:"12px 8px",textAlign:"center",fontWeight:"bold"},children:"."}),o.jsxs("td",{style:{border:"1px solid #000",padding:"12px 8px",textAlign:"left"},children:["    ",o.jsx("br",{}),"= (+)"]}),o.jsx("td",{style:{border:"1px solid #000",padding:"12px 8px",textAlign:"center"}})]})]})]})}),o.jsxs("div",{style:{marginBottom:"20px",fontSize:"14px",lineHeight:"1.6"},children:[o.jsxs("p",{style:{marginBottom:"15px",textAlign:"justify"},children:["      ",O,"/-          ",Y,"/-      ",l||"","  PFMS      .  PFMS       ",le,"    ."]}),o.jsxs("p",{style:{marginBottom:"15px",textAlign:"justify"},children:["           www.egramswaj.com     .                                    ",O,"/-       ",l||"","   ",Y,"/-        "]}),o.jsxs("p",{style:{marginBottom:"15px",textAlign:"justify"},children:["  ",H,"         ",O,"/-       ",l||"","    ",Y,"/-   PFMS     ."]})]}),o.jsx("div",{style:{marginTop:"50px"},children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end"},children:[o.jsxs("div",{style:{textAlign:"left"},children:[o.jsx("div",{style:{marginBottom:"60px"},children:o.jsx("strong",{children:""})}),o.jsx("div",{style:{borderTop:"1px solid #000",paddingTop:"5px",width:"150px"},children:""})]}),o.jsxs("div",{style:{textAlign:"right"},children:[o.jsx("div",{style:{marginBottom:"60px"},children:o.jsx("strong",{children:""})}),o.jsx("div",{style:{borderTop:"1px solid #000",paddingTop:"5px",width:"150px"},children:""})]})]})})]})]})})};function sE(e){"@babel/helpers - typeof";return sE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sE(e)}function gIt(e,t){if(sE(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sE(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mIt(e){var t=gIt(e,"string");return sE(t)=="symbol"?t:t+""}function kt(e,t,r){return(t=mIt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dxe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var OP,Aee;function xIt(){if(Aee)return OP;Aee=1;var e=function(r,n,i,s,a,l,c,u){if(!r){var d;if(n===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[i,s,a,l,c,u],A=0;d=new Error(n.replace(/%s/g,function(){return h[A++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}};return OP=e,OP}var vIt=xIt(),mo=Dxe(vIt),oi=C.createContext(null);function yIt(){mo(!!C.useContext,"useGoogleMap is React hook and requires React version 16.8+");var e=C.useContext(oi);return mo(!!e,"useGoogleMap needs a GoogleMap available up in the tree"),e}function wIt(e,t,r){return Object.keys(e).reduce(function(i,s){return t(i,e[s],s)},r)}function bIt(e,t){Object.keys(e).forEach(r=>t(e[r],r))}function _It(e,t,r,n){var i={},s=(a,l)=>{var c=r[l];c!==t[l]&&(i[l]=c,a(n,c))};return bIt(e,s),i}function EIt(e,t,r){var n=wIt(r,function(s,a,l){return typeof e[l]=="function"&&s.push(google.maps.event.addListener(t,a,e[l])),s},[]);return n}function SIt(e){google.maps.event.removeListener(e)}function gi(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];e.forEach(SIt)}function pi(e){var{updaterMap:t,eventMap:r,prevProps:n,nextProps:i,instance:s}=e,a=EIt(i,s,r);return _It(t,n,i,s),a}var pee={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},gee={extraMapTypes(e,t){t.forEach(function(n,i){e.mapTypes.set(String(i),n)})},center(e,t){e.setCenter(t)},clickableIcons(e,t){e.setClickableIcons(t)},heading(e,t){e.setHeading(t)},mapTypeId(e,t){e.setMapTypeId(t)},options(e,t){e.setOptions(t)},streetView(e,t){e.setStreetView(t)},tilt(e,t){e.setTilt(t)},zoom(e,t){e.setZoom(t)}};function CIt(e){var{children:t,options:r,id:n,mapContainerStyle:i,mapContainerClassName:s,center:a,onClick:l,onDblClick:c,onDrag:u,onDragEnd:d,onDragStart:h,onMouseMove:A,onMouseOut:g,onMouseOver:v,onMouseDown:x,onMouseUp:y,onRightClick:w,onCenterChanged:_,onLoad:E,onUnmount:I}=e,[N,j]=C.useState(null),T=C.useRef(null),[P,k]=C.useState(null),[R,O]=C.useState(null),[M,H]=C.useState(null),[K,Y]=C.useState(null),[ne,le]=C.useState(null),[te,X]=C.useState(null),[ue,ve]=C.useState(null),[V,q]=C.useState(null),[ee,re]=C.useState(null),[de,Ae]=C.useState(null),[_e,ye]=C.useState(null),[ce,Ne]=C.useState(null);return C.useEffect(()=>{r&&N!==null&&N.setOptions(r)},[N,r]),C.useEffect(()=>{N!==null&&typeof a<"u"&&N.setCenter(a)},[N,a]),C.useEffect(()=>{N&&c&&(R!==null&&google.maps.event.removeListener(R),O(google.maps.event.addListener(N,"dblclick",c)))},[c]),C.useEffect(()=>{N&&d&&(M!==null&&google.maps.event.removeListener(M),H(google.maps.event.addListener(N,"dragend",d)))},[d]),C.useEffect(()=>{N&&h&&(K!==null&&google.maps.event.removeListener(K),Y(google.maps.event.addListener(N,"dragstart",h)))},[h]),C.useEffect(()=>{N&&x&&(ne!==null&&google.maps.event.removeListener(ne),le(google.maps.event.addListener(N,"mousedown",x)))},[x]),C.useEffect(()=>{N&&A&&(te!==null&&google.maps.event.removeListener(te),X(google.maps.event.addListener(N,"mousemove",A)))},[A]),C.useEffect(()=>{N&&g&&(ue!==null&&google.maps.event.removeListener(ue),ve(google.maps.event.addListener(N,"mouseout",g)))},[g]),C.useEffect(()=>{N&&v&&(V!==null&&google.maps.event.removeListener(V),q(google.maps.event.addListener(N,"mouseover",v)))},[v]),C.useEffect(()=>{N&&y&&(ee!==null&&google.maps.event.removeListener(ee),re(google.maps.event.addListener(N,"mouseup",y)))},[y]),C.useEffect(()=>{N&&w&&(de!==null&&google.maps.event.removeListener(de),Ae(google.maps.event.addListener(N,"rightclick",w)))},[w]),C.useEffect(()=>{N&&l&&(_e!==null&&google.maps.event.removeListener(_e),ye(google.maps.event.addListener(N,"click",l)))},[l]),C.useEffect(()=>{N&&u&&(ce!==null&&google.maps.event.removeListener(ce),Ne(google.maps.event.addListener(N,"drag",u)))},[u]),C.useEffect(()=>{N&&_&&(P!==null&&google.maps.event.removeListener(P),k(google.maps.event.addListener(N,"center_changed",_)))},[l]),C.useEffect(()=>{var oe=T.current===null?null:new google.maps.Map(T.current,r);return j(oe),oe!==null&&E&&E(oe),()=>{oe!==null&&I&&I(oe)}},[]),o.jsx("div",{id:n,ref:T,style:i,className:s,children:o.jsx(oi.Provider,{value:N,children:N!==null?t:null})})}C.memo(CIt);class NIt extends C.PureComponent{constructor(){super(...arguments),kt(this,"state",{map:null}),kt(this,"registeredEvents",[]),kt(this,"mapRef",null),kt(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),kt(this,"panTo",t=>{var r=this.getInstance();r&&r.panTo(t)}),kt(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),kt(this,"getRef",t=>{this.mapRef=t})}componentDidMount(){var t=this.getInstance();this.registeredEvents=pi({updaterMap:gee,eventMap:pee,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{map:t}},this.setMapCallback)}componentDidUpdate(t){this.state.map!==null&&(gi(this.registeredEvents),this.registeredEvents=pi({updaterMap:gee,eventMap:pee,prevProps:t,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),gi(this.registeredEvents))}render(){return o.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:o.jsx(oi.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function mee(e,t,r,n,i,s,a){try{var l=e[s](a),c=l.value}catch(u){return void r(u)}l.done?t(c):Promise.resolve(c).then(n,i)}function Lxe(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var s=e.apply(t,r);function a(c){mee(s,n,i,a,l,"next",c)}function l(c){mee(s,n,i,a,l,"throw",c)}a(void 0)})}}function Rxe(e){var{googleMapsApiKey:t,googleMapsClientId:r,version:n="weekly",language:i,region:s,libraries:a,channel:l,mapIds:c,authReferrerPolicy:u,apiUrl:d="https://maps.googleapis.com"}=e,h=[];return mo(t&&r||!(t&&r),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?h.push("key=".concat(t)):r&&h.push("client=".concat(r)),n&&h.push("v=".concat(n)),i&&h.push("language=".concat(i)),s&&h.push("region=".concat(s)),a&&a.length&&h.push("libraries=".concat(a.sort().join(","))),l&&h.push("channel=".concat(l)),c&&c.length&&h.push("map_ids=".concat(c.join(","))),u&&h.push("auth_referrer_policy=".concat(u)),h.push("loading=async"),h.push("callback=initMap"),"".concat(d,"/maps/api/js?").concat(h.join("&"))}var Lg=typeof document<"u";function Mxe(e){var{url:t,id:r,nonce:n}=e;return Lg?new Promise(function(s,a){var l=document.getElementById(r),c=window;if(l){var u=l.getAttribute("data-state");if(l.src===t&&u!=="error"){if(u==="ready")return s(r);var d=c.initMap,h=l.onerror;c.initMap=function(){d&&d(),s(r)},l.onerror=function(g){h&&h(g),a(g)};return}else l.remove()}var A=document.createElement("script");A.type="text/javascript",A.src=t,A.id=r,A.async=!0,A.nonce=n||"",A.onerror=function(v){A.setAttribute("data-state","error"),a(v)},c.initMap=function(){A.setAttribute("data-state","ready"),s(r)},document.head.appendChild(A)}).catch(i=>{throw console.error("injectScript error: ",i),i}):Promise.reject(new Error("document is undefined"))}function xee(e){var t=e.href;return t&&(t.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:e.tagName.toLowerCase()==="style"&&e.styleSheet&&e.styleSheet.cssText&&e.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(e.styleSheet.cssText="",!0):e.tagName.toLowerCase()==="style"&&e.innerHTML&&e.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(e.innerHTML="",!0):e.tagName.toLowerCase()==="style"&&!e.styleSheet&&!e.innerHTML}function Uxe(){var e=document.getElementsByTagName("head")[0];if(e){var t=e.insertBefore.bind(e);e.insertBefore=function(i,s){return xee(i)||Reflect.apply(t,e,[i,s]),i};var r=e.appendChild.bind(e);e.appendChild=function(i){return xee(i)||Reflect.apply(r,e,[i]),i}}}var qw=!1;function Hxe(){return o.jsx("div",{children:"Loading..."})}var SL={id:"script-loader",version:"weekly"};class TIt extends C.PureComponent{constructor(){super(...arguments),kt(this,"check",null),kt(this,"state",{loaded:!1}),kt(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),kt(this,"isCleaningUp",Lxe(function*(){function t(r){if(!qw)r();else if(Lg)var n=window.setInterval(function(){qw||(window.clearInterval(n),r())},1)}return new Promise(t)})),kt(this,"cleanup",()=>{qw=!0;var t=document.getElementById(this.props.id);t&&t.parentNode&&t.parentNode.removeChild(t),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(n){return typeof n.src=="string"&&n.src.includes("maps.googleapis")}).forEach(function(n){n.parentNode&&n.parentNode.removeChild(n)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(n){return n.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(n){n.parentNode&&n.parentNode.removeChild(n)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(n){return n.innerText!==void 0&&n.innerText.length>0&&n.innerText.includes(".gm-")}).forEach(function(n){n.parentNode&&n.parentNode.removeChild(n)})}),kt(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&Uxe(),mo(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var t={id:this.props.id,nonce:this.props.nonce,url:Rxe(this.props)};Mxe(t).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(r=>{this.props.onError&&this.props.onError(r),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),kt(this,"getRef",t=>{this.check=t})}componentDidMount(){if(Lg){if(window.google&&window.google.maps&&!qw){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(r){console.error("Error at injecting script after cleaning up: ",r)})}}componentDidUpdate(t){this.props.libraries!==t.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Lg&&t.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Lg){this.cleanup();var t=()=>{this.check||(delete window.google,qw=!1)};window.setTimeout(t,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return o.jsxs(o.Fragment,{children:[o.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||o.jsx(Hxe,{})]})}}kt(TIt,"defaultProps",SL);function BIt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}function dH(e,t){if(e==null)return{};var r,n,i=BIt(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var vee;function Qxe(e){var{id:t=SL.id,version:r=SL.version,nonce:n,googleMapsApiKey:i,googleMapsClientId:s,language:a,region:l,libraries:c,preventGoogleFontsLoading:u,channel:d,mapIds:h,authReferrerPolicy:A,apiUrl:g="https://maps.googleapis.com"}=e,v=C.useRef(!1),[x,y]=C.useState(!1),[w,_]=C.useState(void 0);C.useEffect(function(){return v.current=!0,()=>{v.current=!1}},[]),C.useEffect(function(){Lg&&u&&Uxe()},[u]),C.useEffect(function(){x&&mo(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[x]);var E=Rxe({version:r,googleMapsApiKey:i,googleMapsClientId:s,language:a,region:l,libraries:c,channel:d,mapIds:h,authReferrerPolicy:A,apiUrl:g});C.useEffect(function(){if(!Lg)return;function j(){v.current&&(y(!0),vee=E)}if(window.google&&window.google.maps&&vee===E){j();return}Mxe({id:t,url:E,nonce:n}).then(j).catch(function(P){v.current&&_(P),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(i||"-",") or Client ID (").concat(s||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(P)})},[t,E,n]);var I=C.useRef(void 0);return C.useEffect(function(){I.current&&c!==I.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),I.current=c},[c]),{isLoaded:x,loadError:w,url:E}}var IIt=["loadingElement","onLoad","onError","onUnmount","children"],kIt=o.jsx(Hxe,{});function jIt(e){var{loadingElement:t,onLoad:r,onError:n,onUnmount:i,children:s}=e,a=dH(e,IIt),{isLoaded:l,loadError:c}=Qxe(a);return C.useEffect(function(){l&&typeof r=="function"&&r()},[l,r]),C.useEffect(function(){c&&typeof n=="function"&&n(c)},[c,n]),C.useEffect(function(){return()=>{i&&i()}},[i]),l?s:t||kIt}C.memo(jIt);var yee;(function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"})(yee||(yee={}));function wee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wee(Object(r),!0).forEach(function(n){kt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wee(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var bee={},_ee={options(e,t){e.setOptions(t)}};function PIt(e){var{options:t,onLoad:r,onUnmount:n}=e,i=C.useContext(oi),[s,a]=C.useState(null);return C.useEffect(()=>{s!==null&&s.setMap(i)},[i]),C.useEffect(()=>{t&&s!==null&&s.setOptions(t)},[s,t]),C.useEffect(()=>{var l=new google.maps.TrafficLayer(lT(lT({},t),{},{map:i}));return a(l),r&&r(l),()=>{s!==null&&(n&&n(s),s.setMap(null))}},[]),null}C.memo(PIt);class FIt extends C.PureComponent{constructor(){super(...arguments),kt(this,"state",{trafficLayer:null}),kt(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),kt(this,"registeredEvents",[])}componentDidMount(){var t=new google.maps.TrafficLayer(lT(lT({},this.props.options),{},{map:this.context}));this.registeredEvents=pi({updaterMap:_ee,eventMap:bee,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{trafficLayer:t}},this.setTrafficLayerCallback)}componentDidUpdate(t){this.state.trafficLayer!==null&&(gi(this.registeredEvents),this.registeredEvents=pi({updaterMap:_ee,eventMap:bee,prevProps:t,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),gi(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}kt(FIt,"contextType",oi);function OIt(e){var{onLoad:t,onUnmount:r}=e,n=C.useContext(oi),[i,s]=C.useState(null);return C.useEffect(()=>{i!==null&&i.setMap(n)},[n]),C.useEffect(()=>{var a=new google.maps.BicyclingLayer;return s(a),a.setMap(n),t&&t(a),()=>{a!==null&&(r&&r(a),a.setMap(null))}},[]),null}C.memo(OIt);class DIt extends C.PureComponent{constructor(){super(...arguments),kt(this,"state",{bicyclingLayer:null}),kt(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var t=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:t}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}kt(DIt,"contextType",oi);function LIt(e){var{onLoad:t,onUnmount:r}=e,n=C.useContext(oi),[i,s]=C.useState(null);return C.useEffect(()=>{i!==null&&i.setMap(n)},[n]),C.useEffect(()=>{var a=new google.maps.TransitLayer;return s(a),a.setMap(n),t&&t(a),()=>{i!==null&&(r&&r(i),i.setMap(null))}},[]),null}C.memo(LIt);class RIt extends C.PureComponent{constructor(){super(...arguments),kt(this,"state",{transitLayer:null}),kt(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var t=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:t}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}kt(RIt,"contextType",oi);function Eee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Eee(Object(r),!0).forEach(function(n){kt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Eee(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var See={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},Cee={drawingMode(e,t){e.setDrawingMode(t)},options(e,t){e.setOptions(t)}};function MIt(e){var{options:t,drawingMode:r,onCircleComplete:n,onMarkerComplete:i,onOverlayComplete:s,onPolygonComplete:a,onPolylineComplete:l,onRectangleComplete:c,onLoad:u,onUnmount:d}=e,h=C.useContext(oi),[A,g]=C.useState(null),[v,x]=C.useState(null),[y,w]=C.useState(null),[_,E]=C.useState(null),[I,N]=C.useState(null),[j,T]=C.useState(null),[P,k]=C.useState(null);return C.useEffect(()=>{A!==null&&A.setMap(h)},[h]),C.useEffect(()=>{t&&A!==null&&A.setOptions(t)},[A,t]),C.useEffect(()=>{A!==null&&A.setDrawingMode(r??null)},[A,r]),C.useEffect(()=>{A&&n&&(v!==null&&google.maps.event.removeListener(v),x(google.maps.event.addListener(A,"circlecomplete",n)))},[A,n]),C.useEffect(()=>{A&&i&&(y!==null&&google.maps.event.removeListener(y),w(google.maps.event.addListener(A,"markercomplete",i)))},[A,i]),C.useEffect(()=>{A&&s&&(_!==null&&google.maps.event.removeListener(_),E(google.maps.event.addListener(A,"overlaycomplete",s)))},[A,s]),C.useEffect(()=>{A&&a&&(I!==null&&google.maps.event.removeListener(I),N(google.maps.event.addListener(A,"polygoncomplete",a)))},[A,a]),C.useEffect(()=>{A&&l&&(j!==null&&google.maps.event.removeListener(j),T(google.maps.event.addListener(A,"polylinecomplete",l)))},[A,l]),C.useEffect(()=>{A&&c&&(P!==null&&google.maps.event.removeListener(P),k(google.maps.event.addListener(A,"rectanglecomplete",c)))},[A,c]),C.useEffect(()=>{mo(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var R=new google.maps.drawing.DrawingManager(cT(cT({},t),{},{map:h}));return r&&R.setDrawingMode(r),n&&x(google.maps.event.addListener(R,"circlecomplete",n)),i&&w(google.maps.event.addListener(R,"markercomplete",i)),s&&E(google.maps.event.addListener(R,"overlaycomplete",s)),a&&N(google.maps.event.addListener(R,"polygoncomplete",a)),l&&T(google.maps.event.addListener(R,"polylinecomplete",l)),c&&k(google.maps.event.addListener(R,"rectanglecomplete",c)),g(R),u&&u(R),()=>{A!==null&&(v&&google.maps.event.removeListener(v),y&&google.maps.event.removeListener(y),_&&google.maps.event.removeListener(_),I&&google.maps.event.removeListener(I),j&&google.maps.event.removeListener(j),P&&google.maps.event.removeListener(P),d&&d(A),A.setMap(null))}},[]),null}C.memo(MIt);class UIt extends C.PureComponent{constructor(t){super(t),kt(this,"registeredEvents",[]),kt(this,"state",{drawingManager:null}),kt(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),mo(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var t=new google.maps.drawing.DrawingManager(cT(cT({},this.props.options),{},{map:this.context}));this.registeredEvents=pi({updaterMap:Cee,eventMap:See,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{drawingManager:t}},this.setDrawingManagerCallback)}componentDidUpdate(t){this.state.drawingManager!==null&&(gi(this.registeredEvents),this.registeredEvents=pi({updaterMap:Cee,eventMap:See,prevProps:t,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),gi(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}kt(UIt,"contextType",oi);function Nee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nee(Object(r),!0).forEach(function(n){kt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nee(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Tee={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},Bee={animation(e,t){e.setAnimation(t)},clickable(e,t){e.setClickable(t)},cursor(e,t){e.setCursor(t)},draggable(e,t){e.setDraggable(t)},icon(e,t){e.setIcon(t)},label(e,t){e.setLabel(t)},map(e,t){e.setMap(t)},opacity(e,t){e.setOpacity(t)},options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},shape(e,t){e.setShape(t)},title(e,t){e.setTitle(t)},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},uT={};function HIt(e){var{position:t,options:r,clusterer:n,noClustererRedraw:i,children:s,draggable:a,visible:l,animation:c,clickable:u,cursor:d,icon:h,label:A,opacity:g,shape:v,title:x,zIndex:y,onClick:w,onDblClick:_,onDrag:E,onDragEnd:I,onDragStart:N,onMouseOut:j,onMouseOver:T,onMouseUp:P,onMouseDown:k,onRightClick:R,onClickableChanged:O,onCursorChanged:M,onAnimationChanged:H,onDraggableChanged:K,onFlatChanged:Y,onIconChanged:ne,onPositionChanged:le,onShapeChanged:te,onTitleChanged:X,onVisibleChanged:ue,onZindexChanged:ve,onLoad:V,onUnmount:q}=e,ee=C.useContext(oi),[re,de]=C.useState(null),[Ae,_e]=C.useState(null),[ye,ce]=C.useState(null),[Ne,oe]=C.useState(null),[We,Re]=C.useState(null),[z,Fe]=C.useState(null),[He,ke]=C.useState(null),[Te,Ze]=C.useState(null),[ze,Tt]=C.useState(null),[Bt,mt]=C.useState(null),[_t,jt]=C.useState(null),[or,St]=C.useState(null),[at,Ut]=C.useState(null),[qt,Er]=C.useState(null),[Kt,xt]=C.useState(null),[pr,Ke]=C.useState(null),[gt,gr]=C.useState(null),[Ct,$t]=C.useState(null),[hr,mr]=C.useState(null),[er,sr]=C.useState(null),[Zt,br]=C.useState(null),[Xr,Un]=C.useState(null);C.useEffect(()=>{re!==null&&re.setMap(ee)},[ee]),C.useEffect(()=>{typeof r<"u"&&re!==null&&re.setOptions(r)},[re,r]),C.useEffect(()=>{typeof a<"u"&&re!==null&&re.setDraggable(a)},[re,a]),C.useEffect(()=>{t&&re!==null&&re.setPosition(t)},[re,t]),C.useEffect(()=>{typeof l<"u"&&re!==null&&re.setVisible(l)},[re,l]),C.useEffect(()=>{re==null||re.setAnimation(c)},[re,c]),C.useEffect(()=>{re&&u!==void 0&&re.setClickable(u)},[re,u]),C.useEffect(()=>{re&&d!==void 0&&re.setCursor(d)},[re,d]),C.useEffect(()=>{re&&h!==void 0&&re.setIcon(h)},[re,h]),C.useEffect(()=>{re&&A!==void 0&&re.setLabel(A)},[re,A]),C.useEffect(()=>{re&&g!==void 0&&re.setOpacity(g)},[re,g]),C.useEffect(()=>{re&&v!==void 0&&re.setShape(v)},[re,v]),C.useEffect(()=>{re&&x!==void 0&&re.setTitle(x)},[re,x]),C.useEffect(()=>{re&&y!==void 0&&re.setZIndex(y)},[re,y]),C.useEffect(()=>{re&&_&&(Ae!==null&&google.maps.event.removeListener(Ae),_e(google.maps.event.addListener(re,"dblclick",_)))},[_]),C.useEffect(()=>{re&&I&&(ye!==null&&google.maps.event.removeListener(ye),ce(google.maps.event.addListener(re,"dragend",I)))},[I]),C.useEffect(()=>{re&&N&&(Ne!==null&&google.maps.event.removeListener(Ne),oe(google.maps.event.addListener(re,"dragstart",N)))},[N]),C.useEffect(()=>{re&&k&&(We!==null&&google.maps.event.removeListener(We),Re(google.maps.event.addListener(re,"mousedown",k)))},[k]),C.useEffect(()=>{re&&j&&(z!==null&&google.maps.event.removeListener(z),Fe(google.maps.event.addListener(re,"mouseout",j)))},[j]),C.useEffect(()=>{re&&T&&(He!==null&&google.maps.event.removeListener(He),ke(google.maps.event.addListener(re,"mouseover",T)))},[T]),C.useEffect(()=>{re&&P&&(Te!==null&&google.maps.event.removeListener(Te),Ze(google.maps.event.addListener(re,"mouseup",P)))},[P]),C.useEffect(()=>{re&&R&&(ze!==null&&google.maps.event.removeListener(ze),Tt(google.maps.event.addListener(re,"rightclick",R)))},[R]),C.useEffect(()=>{re&&w&&(Bt!==null&&google.maps.event.removeListener(Bt),mt(google.maps.event.addListener(re,"click",w)))},[w]),C.useEffect(()=>{re&&E&&(_t!==null&&google.maps.event.removeListener(_t),jt(google.maps.event.addListener(re,"drag",E)))},[E]),C.useEffect(()=>{re&&O&&(or!==null&&google.maps.event.removeListener(or),St(google.maps.event.addListener(re,"clickable_changed",O)))},[O]),C.useEffect(()=>{re&&M&&(at!==null&&google.maps.event.removeListener(at),Ut(google.maps.event.addListener(re,"cursor_changed",M)))},[M]),C.useEffect(()=>{re&&H&&(qt!==null&&google.maps.event.removeListener(qt),Er(google.maps.event.addListener(re,"animation_changed",H)))},[H]),C.useEffect(()=>{re&&K&&(Kt!==null&&google.maps.event.removeListener(Kt),xt(google.maps.event.addListener(re,"draggable_changed",K)))},[K]),C.useEffect(()=>{re&&Y&&(pr!==null&&google.maps.event.removeListener(pr),Ke(google.maps.event.addListener(re,"flat_changed",Y)))},[Y]),C.useEffect(()=>{re&&ne&&(gt!==null&&google.maps.event.removeListener(gt),gr(google.maps.event.addListener(re,"icon_changed",ne)))},[ne]),C.useEffect(()=>{re&&le&&(Ct!==null&&google.maps.event.removeListener(Ct),$t(google.maps.event.addListener(re,"position_changed",le)))},[le]),C.useEffect(()=>{re&&te&&(hr!==null&&google.maps.event.removeListener(hr),mr(google.maps.event.addListener(re,"shape_changed",te)))},[te]),C.useEffect(()=>{re&&X&&(er!==null&&google.maps.event.removeListener(er),sr(google.maps.event.addListener(re,"title_changed",X)))},[X]),C.useEffect(()=>{re&&ue&&(Zt!==null&&google.maps.event.removeListener(Zt),br(google.maps.event.addListener(re,"visible_changed",ue)))},[ue]),C.useEffect(()=>{re&&ve&&(Xr!==null&&google.maps.event.removeListener(Xr),Un(google.maps.event.addListener(re,"zindex_changed",ve)))},[ve]),C.useEffect(()=>{var Zn=rv(rv(rv({},r||uT),n?uT:{map:ee}),{},{position:t}),Mr=new google.maps.Marker(Zn);return n?n.addMarker(Mr,!!i):Mr.setMap(ee),t&&Mr.setPosition(t),typeof l<"u"&&Mr.setVisible(l),typeof a<"u"&&Mr.setDraggable(a),typeof u<"u"&&Mr.setClickable(u),typeof d=="string"&&Mr.setCursor(d),h&&Mr.setIcon(h),typeof A<"u"&&Mr.setLabel(A),typeof g<"u"&&Mr.setOpacity(g),v&&Mr.setShape(v),typeof x=="string"&&Mr.setTitle(x),typeof y=="number"&&Mr.setZIndex(y),_&&_e(google.maps.event.addListener(Mr,"dblclick",_)),I&&ce(google.maps.event.addListener(Mr,"dragend",I)),N&&oe(google.maps.event.addListener(Mr,"dragstart",N)),k&&Re(google.maps.event.addListener(Mr,"mousedown",k)),j&&Fe(google.maps.event.addListener(Mr,"mouseout",j)),T&&ke(google.maps.event.addListener(Mr,"mouseover",T)),P&&Ze(google.maps.event.addListener(Mr,"mouseup",P)),R&&Tt(google.maps.event.addListener(Mr,"rightclick",R)),w&&mt(google.maps.event.addListener(Mr,"click",w)),E&&jt(google.maps.event.addListener(Mr,"drag",E)),O&&St(google.maps.event.addListener(Mr,"clickable_changed",O)),M&&Ut(google.maps.event.addListener(Mr,"cursor_changed",M)),H&&Er(google.maps.event.addListener(Mr,"animation_changed",H)),K&&xt(google.maps.event.addListener(Mr,"draggable_changed",K)),Y&&Ke(google.maps.event.addListener(Mr,"flat_changed",Y)),ne&&gr(google.maps.event.addListener(Mr,"icon_changed",ne)),le&&$t(google.maps.event.addListener(Mr,"position_changed",le)),te&&mr(google.maps.event.addListener(Mr,"shape_changed",te)),X&&sr(google.maps.event.addListener(Mr,"title_changed",X)),ue&&br(google.maps.event.addListener(Mr,"visible_changed",ue)),ve&&Un(google.maps.event.addListener(Mr,"zindex_changed",ve)),de(Mr),V&&V(Mr),()=>{Ae!==null&&google.maps.event.removeListener(Ae),ye!==null&&google.maps.event.removeListener(ye),Ne!==null&&google.maps.event.removeListener(Ne),We!==null&&google.maps.event.removeListener(We),z!==null&&google.maps.event.removeListener(z),He!==null&&google.maps.event.removeListener(He),Te!==null&&google.maps.event.removeListener(Te),ze!==null&&google.maps.event.removeListener(ze),Bt!==null&&google.maps.event.removeListener(Bt),or!==null&&google.maps.event.removeListener(or),at!==null&&google.maps.event.removeListener(at),qt!==null&&google.maps.event.removeListener(qt),Kt!==null&&google.maps.event.removeListener(Kt),pr!==null&&google.maps.event.removeListener(pr),gt!==null&&google.maps.event.removeListener(gt),Ct!==null&&google.maps.event.removeListener(Ct),er!==null&&google.maps.event.removeListener(er),Zt!==null&&google.maps.event.removeListener(Zt),Xr!==null&&google.maps.event.removeListener(Xr),q&&q(Mr),n?n.removeMarker(Mr,!!i):Mr&&Mr.setMap(null)}},[]);var Fr=C.useMemo(()=>s?C.Children.map(s,Zn=>{if(!C.isValidElement(Zn))return Zn;var Mr=Zn;return C.cloneElement(Mr,{anchor:re})}):null,[s,re]);return o.jsx(o.Fragment,{children:Fr})||null}C.memo(HIt);class $xe extends C.PureComponent{constructor(){super(...arguments),kt(this,"registeredEvents",[])}componentDidMount(){var t=this;return Lxe(function*(){var r=rv(rv(rv({},t.props.options||uT),t.props.clusterer?uT:{map:t.context}),{},{position:t.props.position});t.marker=new google.maps.Marker(r),t.props.clusterer?t.props.clusterer.addMarker(t.marker,!!t.props.noClustererRedraw):t.marker.setMap(t.context),t.registeredEvents=pi({updaterMap:Bee,eventMap:Tee,prevProps:{},nextProps:t.props,instance:t.marker}),t.props.onLoad&&t.props.onLoad(t.marker)})()}componentDidUpdate(t){this.marker&&(gi(this.registeredEvents),this.registeredEvents=pi({updaterMap:Bee,eventMap:Tee,prevProps:t,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),gi(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var t=this.props.children?C.Children.map(this.props.children,r=>{if(!C.isValidElement(r))return r;var n=r;return C.cloneElement(n,{anchor:this.marker})}):null;return t||null}}kt($xe,"contextType",oi);var QIt=function(){function e(t,r){t.getClusterer().extend(e,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=r,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return e.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},e.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},e.prototype.onClick=function(t){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var r=this.cluster.getClusterer();if(google.maps.event.trigger(r,"click",this.cluster),google.maps.event.trigger(r,"clusterclick",this.cluster),r.getZoomOnClick()){var n=r.getMaxZoom(),i=this.cluster.getBounds(),s=r.getMap();s!==null&&"fitBounds"in s&&s.fitBounds(i),this.timeOut=window.setTimeout(function(){var a=r.getMap();if(a!==null){"fitBounds"in a&&a.fitBounds(i);var l=a.getZoom()||0;n!==null&&l>n&&a.setZoom(n+1)}},100)}t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}},e.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},e.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},e.prototype.onAdd=function(){var t;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(t=this.getPanes())===null||t===void 0||t.overlayMouseTarget.appendChild(this.div);var r=this.getMap();r!==null&&(this.boundsChangedListener=google.maps.event.addListener(r,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},e.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var t=this.getPosFromLatLng(this.center);this.div.style.top=t!==null?"".concat(t.y,"px"):"0",this.div.style.left=t!==null?"".concat(t.x,"px"):"0"}},e.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},e.prototype.show=function(){var t,r,n,i,s,a;if(this.div&&this.center){var l=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,c=this.backgroundPosition.split(" "),u=parseInt(((t=c[0])===null||t===void 0?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),d=parseInt(((r=c[1])===null||r===void 0?void 0:r.replace(/^\s+|\s+$/g,""))||"0",10),h=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(h!==null?"".concat(h.y,"px"):"0","; left: ").concat(h!==null?"".concat(h.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var A=document.createElement("img");A.alt=l,A.src=this.url,A.width=this.width,A.height=this.height,A.setAttribute("style","position: absolute; top: ".concat(d,"px; left: ").concat(u,"px")),this.cluster.getClusterer().enableRetinaIcons||(A.style.clip="rect(-".concat(d,"px, -").concat(u+this.width,"px, -").concat(d+this.height,", -").concat(u,")"));var g=document.createElement("div");g.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((n=this.sums)===null||n===void 0)&&n.text&&(g.innerText="".concat((i=this.sums)===null||i===void 0?void 0:i.text)),!((s=this.sums)===null||s===void 0)&&s.html&&(g.innerHTML="".concat((a=this.sums)===null||a===void 0?void 0:a.html)),this.div.innerHTML="",this.div.appendChild(A),this.div.appendChild(g),this.div.title=l,this.div.style.display=""}this.visible=!0},e.prototype.useStyle=function(t){this.sums=t;var r=this.cluster.getClusterer().getStyles(),n=r[Math.min(r.length-1,Math.max(0,t.index-1))];n&&(this.url=n.url,this.height=n.height,this.width=n.width,n.className&&(this.className="".concat(this.clusterClassName," ").concat(n.className)),this.anchorText=n.anchorText||[0,0],this.anchorIcon=n.anchorIcon||[this.height/2,this.width/2],this.textColor=n.textColor||"black",this.textSize=n.textSize||11,this.textDecoration=n.textDecoration||"none",this.fontWeight=n.fontWeight||"bold",this.fontStyle=n.fontStyle||"normal",this.fontFamily=n.fontFamily||"Arial,sans-serif",this.backgroundPosition=n.backgroundPosition||"0 0")},e.prototype.setCenter=function(t){this.center=t},e.prototype.getPosFromLatLng=function(t){var r=this.getProjection().fromLatLngToDivPixel(t);return r!==null&&(r.x-=this.anchorIcon[1],r.y-=this.anchorIcon[0]),r},e}(),$It=function(){function e(t){this.markerClusterer=t,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new QIt(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return e.prototype.getSize=function(){return this.markers.length},e.prototype.getMarkers=function(){return this.markers},e.prototype.getCenter=function(){return this.center},e.prototype.getMap=function(){return this.map},e.prototype.getClusterer=function(){return this.markerClusterer},e.prototype.getBounds=function(){for(var t=new google.maps.LatLngBounds(this.center,this.center),r=this.getMarkers(),n=0,i=r;n<i.length;n++){var s=i[n],a=s.getPosition();a&&t.extend(a)}return t},e.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},e.prototype.addMarker=function(t){var r;if(this.isMarkerAlreadyAdded(t))return!1;if(this.center){if(this.averageCenter){var n=t.getPosition();if(n){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+n.lat())/i,(this.center.lng()*(i-1)+n.lng())/i),this.calculateBounds()}}}else{var n=t.getPosition();n&&(this.center=n,this.calculateBounds())}t.isAdded=!0,this.markers.push(t);var s=this.markers.length,a=this.markerClusterer.getMaxZoom(),l=(r=this.map)===null||r===void 0?void 0:r.getZoom();if(a!==null&&typeof l<"u"&&l>a)t.getMap()!==this.map&&t.setMap(this.map);else if(s<this.minClusterSize)t.getMap()!==this.map&&t.setMap(this.map);else if(s===this.minClusterSize)for(var c=0,u=this.markers;c<u.length;c++){var d=u[c];d.setMap(null)}else t.setMap(null);return!0},e.prototype.isMarkerInClusterBounds=function(t){if(this.bounds!==null){var r=t.getPosition();if(r)return this.bounds.contains(r)}return!1},e.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},e.prototype.updateIcon=function(){var t,r=this.markers.length,n=this.markerClusterer.getMaxZoom(),i=(t=this.map)===null||t===void 0?void 0:t.getZoom();if(n!==null&&typeof i<"u"&&i>n){this.clusterIcon.hide();return}if(r<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},e.prototype.isMarkerAlreadyAdded=function(t){if(this.markers.includes)return this.markers.includes(t);for(var r=0;r<this.markers.length;r++)if(t===this.markers[r])return!0;return!1},e}();function VIt(e,t){var r=e.length,n=r.toString().length,i=Math.min(n,t);return{text:r.toString(),index:i,title:""}}var zIt=2e3,GIt=500,WIt="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",KIt="png",qIt=[53,56,66,78,90],XIt="cluster",Vxe=function(){function e(t,r,n){r===void 0&&(r=[]),n===void 0&&(n={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(e,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=n.gridSize||60,this.minClusterSize=n.minimumClusterSize||2,this.maxZoom=n.maxZoom||null,this.styles=n.styles||[],this.title=n.title||"",this.zoomOnClick=!0,n.zoomOnClick!==void 0&&(this.zoomOnClick=n.zoomOnClick),this.averageCenter=!1,n.averageCenter!==void 0&&(this.averageCenter=n.averageCenter),this.ignoreHidden=!1,n.ignoreHidden!==void 0&&(this.ignoreHidden=n.ignoreHidden),this.enableRetinaIcons=!1,n.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=n.enableRetinaIcons),this.imagePath=n.imagePath||WIt,this.imageExtension=n.imageExtension||KIt,this.imageSizes=n.imageSizes||qIt,this.calculator=n.calculator||VIt,this.batchSize=n.batchSize||zIt,this.batchSizeIE=n.batchSizeIE||GIt,this.clusterClass=n.clusterClass||XIt,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(r,!0),this.setMap(t)}return e.prototype.onZoomChanged=function(){var t,r;this.resetViewport(!1),(((t=this.getMap())===null||t===void 0?void 0:t.getZoom())===(this.get("minZoom")||0)||((r=this.getMap())===null||r===void 0?void 0:r.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},e.prototype.onIdle=function(){this.redraw()},e.prototype.onAdd=function(){var t=this.getMap();this.activeMap=t,this.ready=!0,this.repaint(),t!==null&&(this.listeners=[google.maps.event.addListener(t,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(t,"idle",this.onIdle)])},e.prototype.onRemove=function(){for(var t=0,r=this.markers;t<r.length;t++){var n=r[t];n.getMap()!==this.activeMap&&n.setMap(this.activeMap)}for(var i=0,s=this.clusters;i<s.length;i++){var a=s[i];a.remove()}this.clusters=[];for(var l=0,c=this.listeners;l<c.length;l++){var u=c[l];google.maps.event.removeListener(u)}this.listeners=[],this.activeMap=null,this.ready=!1},e.prototype.draw=function(){},e.prototype.getMap=function(){return null},e.prototype.getPanes=function(){return null},e.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},e.prototype.setMap=function(){},e.prototype.addListener=function(){return{remove:function(){}}},e.prototype.bindTo=function(){},e.prototype.get=function(){},e.prototype.notify=function(){},e.prototype.set=function(){},e.prototype.setValues=function(){},e.prototype.unbind=function(){},e.prototype.unbindAll=function(){},e.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var t=0;t<this.imageSizes.length;t++)this.styles.push({url:"".concat(this.imagePath+(t+1),".").concat(this.imageExtension),height:this.imageSizes[t]||0,width:this.imageSizes[t]||0})},e.prototype.fitMapToMarkers=function(){for(var t=this.getMarkers(),r=new google.maps.LatLngBounds,n=0,i=t;n<i.length;n++){var s=i[n],a=s.getPosition();a&&r.extend(a)}var l=this.getMap();l!==null&&"fitBounds"in l&&l.fitBounds(r)},e.prototype.getGridSize=function(){return this.gridSize},e.prototype.setGridSize=function(t){this.gridSize=t},e.prototype.getMinimumClusterSize=function(){return this.minClusterSize},e.prototype.setMinimumClusterSize=function(t){this.minClusterSize=t},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.setMaxZoom=function(t){this.maxZoom=t},e.prototype.getStyles=function(){return this.styles},e.prototype.setStyles=function(t){this.styles=t},e.prototype.getTitle=function(){return this.title},e.prototype.setTitle=function(t){this.title=t},e.prototype.getZoomOnClick=function(){return this.zoomOnClick},e.prototype.setZoomOnClick=function(t){this.zoomOnClick=t},e.prototype.getAverageCenter=function(){return this.averageCenter},e.prototype.setAverageCenter=function(t){this.averageCenter=t},e.prototype.getIgnoreHidden=function(){return this.ignoreHidden},e.prototype.setIgnoreHidden=function(t){this.ignoreHidden=t},e.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},e.prototype.setEnableRetinaIcons=function(t){this.enableRetinaIcons=t},e.prototype.getImageExtension=function(){return this.imageExtension},e.prototype.setImageExtension=function(t){this.imageExtension=t},e.prototype.getImagePath=function(){return this.imagePath},e.prototype.setImagePath=function(t){this.imagePath=t},e.prototype.getImageSizes=function(){return this.imageSizes},e.prototype.setImageSizes=function(t){this.imageSizes=t},e.prototype.getCalculator=function(){return this.calculator},e.prototype.setCalculator=function(t){this.calculator=t},e.prototype.getBatchSizeIE=function(){return this.batchSizeIE},e.prototype.setBatchSizeIE=function(t){this.batchSizeIE=t},e.prototype.getClusterClass=function(){return this.clusterClass},e.prototype.setClusterClass=function(t){this.clusterClass=t},e.prototype.getMarkers=function(){return this.markers},e.prototype.getTotalMarkers=function(){return this.markers.length},e.prototype.getClusters=function(){return this.clusters},e.prototype.getTotalClusters=function(){return this.clusters.length},e.prototype.addMarker=function(t,r){this.pushMarkerTo(t),r||this.redraw()},e.prototype.addMarkers=function(t,r){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=t[n];i&&this.pushMarkerTo(i)}r||this.redraw()},e.prototype.pushMarkerTo=function(t){var r=this;t.getDraggable()&&google.maps.event.addListener(t,"dragend",function(){r.ready&&(t.isAdded=!1,r.repaint())}),t.isAdded=!1,this.markers.push(t)},e.prototype.removeMarker_=function(t){var r=-1;if(this.markers.indexOf)r=this.markers.indexOf(t);else for(var n=0;n<this.markers.length;n++)if(t===this.markers[n]){r=n;break}return r===-1?!1:(t.setMap(null),this.markers.splice(r,1),!0)},e.prototype.removeMarker=function(t,r){var n=this.removeMarker_(t);return!r&&n&&this.repaint(),n},e.prototype.removeMarkers=function(t,r){for(var n=!1,i=0,s=t;i<s.length;i++){var a=s[i];n=n||this.removeMarker_(a)}return!r&&n&&this.repaint(),n},e.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},e.prototype.repaint=function(){var t=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var n=0,i=t;n<i.length;n++){var s=i[n];s.remove()}},0)},e.prototype.getExtendedBounds=function(t){var r=this.getProjection(),n=r.fromLatLngToDivPixel(new google.maps.LatLng(t.getNorthEast().lat(),t.getNorthEast().lng()));n!==null&&(n.x+=this.gridSize,n.y-=this.gridSize);var i=r.fromLatLngToDivPixel(new google.maps.LatLng(t.getSouthWest().lat(),t.getSouthWest().lng()));if(i!==null&&(i.x-=this.gridSize,i.y+=this.gridSize),n!==null){var s=r.fromDivPixelToLatLng(n);s!==null&&t.extend(s)}if(i!==null){var a=r.fromDivPixelToLatLng(i);a!==null&&t.extend(a)}return t},e.prototype.redraw=function(){this.createClusters(0)},e.prototype.resetViewport=function(t){for(var r=0,n=this.clusters;r<n.length;r++){var i=n[r];i.remove()}this.clusters=[];for(var s=0,a=this.markers;s<a.length;s++){var l=a[s];l.isAdded=!1,t&&l.setMap(null)}},e.prototype.distanceBetweenPoints=function(t,r){var n=6371,i=(r.lat()-t.lat())*Math.PI/180,s=(r.lng()-t.lng())*Math.PI/180,a=Math.sin(i/2)*Math.sin(i/2)+Math.cos(t.lat()*Math.PI/180)*Math.cos(r.lat()*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return n*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))},e.prototype.isMarkerInBounds=function(t,r){var n=t.getPosition();return n?r.contains(n):!1},e.prototype.addToClosestCluster=function(t){for(var r,n=4e4,i=null,s=0,a=this.clusters;s<a.length;s++){var l=a[s];r=l;var c=r.getCenter(),u=t.getPosition();if(c&&u){var d=this.distanceBetweenPoints(c,u);d<n&&(n=d,i=r)}}i&&i.isMarkerInClusterBounds(t)?i.addMarker(t):(r=new $It(this),r.addMarker(t),this.clusters.push(r))},e.prototype.createClusters=function(t){var r=this;if(this.ready){t===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var n=this.getMap(),i=n!==null&&("getBounds"in n)?n.getBounds():null,s=(n==null?void 0:n.getZoom())||0,a=s>3?new google.maps.LatLngBounds(i==null?void 0:i.getSouthWest(),i==null?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),l=this.getExtendedBounds(a),c=Math.min(t+this.batchSize,this.markers.length),u=t;u<c;u++){var d=this.markers[u];d&&!d.isAdded&&this.isMarkerInBounds(d,l)&&(!this.ignoreHidden||this.ignoreHidden&&d.getVisible())&&this.addToClosestCluster(d)}if(c<this.markers.length)this.timerRefStatic=window.setTimeout(function(){r.createClusters(c)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var h=0,A=this.clusters;h<A.length;h++){var g=A[h];g.updateIcon()}}}},e.prototype.extend=function(t,r){return(function(i){for(var s in i.prototype){var a=s;this.prototype[a]=i.prototype[a]}return this}).apply(t,[r])},e}();function Iee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function YIt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iee(Object(r),!0).forEach(function(n){kt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iee(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Ju={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Qi={averageCenter(e,t){e.setAverageCenter(t)},batchSizeIE(e,t){e.setBatchSizeIE(t)},calculator(e,t){e.setCalculator(t)},clusterClass(e,t){e.setClusterClass(t)},enableRetinaIcons(e,t){e.setEnableRetinaIcons(t)},gridSize(e,t){e.setGridSize(t)},ignoreHidden(e,t){e.setIgnoreHidden(t)},imageExtension(e,t){e.setImageExtension(t)},imagePath(e,t){e.setImagePath(t)},imageSizes(e,t){e.setImageSizes(t)},maxZoom(e,t){e.setMaxZoom(t)},minimumClusterSize(e,t){e.setMinimumClusterSize(t)},styles(e,t){e.setStyles(t)},title(e,t){e.setTitle(t)},zoomOnClick(e,t){e.setZoomOnClick(t)}},ZIt={};function JIt(e){var{children:t,options:r,averageCenter:n,batchSizeIE:i,calculator:s,clusterClass:a,enableRetinaIcons:l,gridSize:c,ignoreHidden:u,imageExtension:d,imagePath:h,imageSizes:A,maxZoom:g,minimumClusterSize:v,styles:x,title:y,zoomOnClick:w,onClick:_,onClusteringBegin:E,onClusteringEnd:I,onMouseOver:N,onMouseOut:j,onLoad:T,onUnmount:P}=e,[k,R]=C.useState(null),O=C.useContext(oi),[M,H]=C.useState(null),[K,Y]=C.useState(null),[ne,le]=C.useState(null),[te,X]=C.useState(null),[ue,ve]=C.useState(null);return C.useEffect(()=>{k&&j&&(te!==null&&google.maps.event.removeListener(te),X(google.maps.event.addListener(k,Ju.onMouseOut,j)))},[j]),C.useEffect(()=>{k&&N&&(ue!==null&&google.maps.event.removeListener(ue),ve(google.maps.event.addListener(k,Ju.onMouseOver,N)))},[N]),C.useEffect(()=>{k&&_&&(M!==null&&google.maps.event.removeListener(M),H(google.maps.event.addListener(k,Ju.onClick,_)))},[_]),C.useEffect(()=>{k&&E&&(K!==null&&google.maps.event.removeListener(K),Y(google.maps.event.addListener(k,Ju.onClusteringBegin,E)))},[E]),C.useEffect(()=>{k&&I&&(ne!==null&&google.maps.event.removeListener(ne),Y(google.maps.event.addListener(k,Ju.onClusteringEnd,I)))},[I]),C.useEffect(()=>{typeof n<"u"&&k!==null&&Qi.averageCenter(k,n)},[k,n]),C.useEffect(()=>{typeof i<"u"&&k!==null&&Qi.batchSizeIE(k,i)},[k,i]),C.useEffect(()=>{typeof s<"u"&&k!==null&&Qi.calculator(k,s)},[k,s]),C.useEffect(()=>{typeof a<"u"&&k!==null&&Qi.clusterClass(k,a)},[k,a]),C.useEffect(()=>{typeof l<"u"&&k!==null&&Qi.enableRetinaIcons(k,l)},[k,l]),C.useEffect(()=>{typeof c<"u"&&k!==null&&Qi.gridSize(k,c)},[k,c]),C.useEffect(()=>{typeof u<"u"&&k!==null&&Qi.ignoreHidden(k,u)},[k,u]),C.useEffect(()=>{typeof d<"u"&&k!==null&&Qi.imageExtension(k,d)},[k,d]),C.useEffect(()=>{typeof h<"u"&&k!==null&&Qi.imagePath(k,h)},[k,h]),C.useEffect(()=>{typeof A<"u"&&k!==null&&Qi.imageSizes(k,A)},[k,A]),C.useEffect(()=>{typeof g<"u"&&k!==null&&Qi.maxZoom(k,g)},[k,g]),C.useEffect(()=>{typeof v<"u"&&k!==null&&Qi.minimumClusterSize(k,v)},[k,v]),C.useEffect(()=>{typeof x<"u"&&k!==null&&Qi.styles(k,x)},[k,x]),C.useEffect(()=>{typeof y<"u"&&k!==null&&Qi.title(k,y)},[k,y]),C.useEffect(()=>{typeof w<"u"&&k!==null&&Qi.zoomOnClick(k,w)},[k,w]),C.useEffect(()=>{if(O){var V=YIt({},r||ZIt),q=new Vxe(O,[],V);return n&&Qi.averageCenter(q,n),i&&Qi.batchSizeIE(q,i),s&&Qi.calculator(q,s),a&&Qi.clusterClass(q,a),l&&Qi.enableRetinaIcons(q,l),c&&Qi.gridSize(q,c),u&&Qi.ignoreHidden(q,u),d&&Qi.imageExtension(q,d),h&&Qi.imagePath(q,h),A&&Qi.imageSizes(q,A),g&&Qi.maxZoom(q,g),v&&Qi.minimumClusterSize(q,v),x&&Qi.styles(q,x),y&&Qi.title(q,y),w&&Qi.zoomOnClick(q,w),j&&X(google.maps.event.addListener(q,Ju.onMouseOut,j)),N&&ve(google.maps.event.addListener(q,Ju.onMouseOver,N)),_&&H(google.maps.event.addListener(q,Ju.onClick,_)),E&&Y(google.maps.event.addListener(q,Ju.onClusteringBegin,E)),I&&le(google.maps.event.addListener(q,Ju.onClusteringEnd,I)),R(q),T&&T(q),()=>{te!==null&&google.maps.event.removeListener(te),ue!==null&&google.maps.event.removeListener(ue),M!==null&&google.maps.event.removeListener(M),K!==null&&google.maps.event.removeListener(K),ne!==null&&google.maps.event.removeListener(ne),P&&P(q)}}},[]),k!==null&&t(k)||null}C.memo(JIt);class ekt extends C.PureComponent{constructor(){super(...arguments),kt(this,"registeredEvents",[]),kt(this,"state",{markerClusterer:null}),kt(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var t=new Vxe(this.context,[],this.props.options);this.registeredEvents=pi({updaterMap:Qi,eventMap:Ju,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({markerClusterer:t}),this.setClustererCallback)}}componentDidUpdate(t){this.state.markerClusterer&&(gi(this.registeredEvents),this.registeredEvents=pi({updaterMap:Qi,eventMap:Ju,prevProps:t,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),gi(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}kt(ekt,"contextType",oi);function kee(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}var zxe=function(){function e(t){t===void 0&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(e,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",t.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),typeof t.visible>"u"&&(typeof t.isHidden>"u"?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return e.prototype.createInfoBoxDiv=function(){var t=this,r=function(d){d.returnValue=!1,d.preventDefault&&d.preventDefault(),t.enableEventPropagation||kee(d)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var n=this.getPanes();if(n!==null&&n[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var i=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-i.left-i.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var s=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],a=0,l=s;a<l.length;a++){var c=l[a];this.eventListeners.push(google.maps.event.addListener(this.div,c,kee))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){t.div&&(t.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",r),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg=function(){var t="";return this.closeBoxURL!==""&&(t='<img alt=""',t+=' aria-hidden="true"',t+=" src='"+this.closeBoxURL+"'",t+=" align=right",t+=" style='",t+=" position: relative;",t+=" cursor: pointer;",t+=" margin: "+this.closeBoxMargin+";",t+="'>"),t},e.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},e.prototype.closeClickHandler=function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},e.prototype.getCloseClickHandler=function(){return this.closeClickHandler},e.prototype.panBox=function(t){if(this.div&&!t){var r=this.getMap();if(r instanceof google.maps.Map){var n=0,i=0,s=r.getBounds();s&&!s.contains(this.position)&&r.setCenter(this.position);var a=r.getDiv(),l=a.offsetWidth,c=a.offsetHeight,u=this.pixelOffset.width,d=this.pixelOffset.height,h=this.div.offsetWidth,A=this.div.offsetHeight,g=this.infoBoxClearance.width,v=this.infoBoxClearance.height,x=this.getProjection(),y=x.fromLatLngToContainerPixel(this.position);y!==null&&(y.x<-u+g?n=y.x+u-g:y.x+h+u+g>l&&(n=y.x+h+u+g-l),this.alignBottom?y.y<-d+v+A?i=y.y+d-v-A:y.y+d+v>c&&(i=y.y+d+v-c):y.y<-d+v?i=y.y+d-v:y.y+A+d+v>c&&(i=y.y+A+d+v-c)),n===0&&i===0||r.panBy(n,i)}}},e.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var t=this.boxStyle;for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(this.div.style[r]=t[r]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var n=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+n*100+')"',this.div.style.filter="alpha(opacity="+n*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},e.prototype.getBoxWidths=function(){var t={top:0,bottom:0,left:0,right:0};if(!this.div)return t;if(document.defaultView){var r=this.div.ownerDocument,n=r&&r.defaultView?r.defaultView.getComputedStyle(this.div,""):null;n&&(t.top=parseInt(n.borderTopWidth||"",10)||0,t.bottom=parseInt(n.borderBottomWidth||"",10)||0,t.left=parseInt(n.borderLeftWidth||"",10)||0,t.right=parseInt(n.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(t.top=parseInt(i.borderTopWidth||"",10)||0,t.bottom=parseInt(i.borderBottomWidth||"",10)||0,t.left=parseInt(i.borderLeftWidth||"",10)||0,t.right=parseInt(i.borderRightWidth||"",10)||0)}return t},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},e.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var t=this.getProjection(),r=t.fromLatLngToDivPixel(this.position);r!==null&&(this.div.style.left=r.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(r.y+this.pixelOffset.height)+"px":this.div.style.top=r.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},e.prototype.setOptions=function(t){t===void 0&&(t={}),typeof t.boxClass<"u"&&(this.boxClass=t.boxClass,this.setBoxStyle()),typeof t.boxStyle<"u"&&(this.boxStyle=t.boxStyle,this.setBoxStyle()),typeof t.content<"u"&&this.setContent(t.content),typeof t.disableAutoPan<"u"&&(this.disableAutoPan=t.disableAutoPan),typeof t.maxWidth<"u"&&(this.maxWidth=t.maxWidth),typeof t.pixelOffset<"u"&&(this.pixelOffset=t.pixelOffset),typeof t.alignBottom<"u"&&(this.alignBottom=t.alignBottom),typeof t.position<"u"&&this.setPosition(t.position),typeof t.zIndex<"u"&&this.setZIndex(t.zIndex),typeof t.closeBoxMargin<"u"&&(this.closeBoxMargin=t.closeBoxMargin),typeof t.closeBoxURL<"u"&&(this.closeBoxURL=t.closeBoxURL),typeof t.infoBoxClearance<"u"&&(this.infoBoxClearance=t.infoBoxClearance),typeof t.isHidden<"u"&&(this.isHidden=t.isHidden),typeof t.visible<"u"&&(this.isHidden=!t.visible),typeof t.enableEventPropagation<"u"&&(this.enableEventPropagation=t.enableEventPropagation),this.div&&this.draw()},e.prototype.setContent=function(t){this.content=t,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof t=="string"?this.div.innerHTML=this.getCloseBoxImg()+t:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(t)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof t=="string"?this.div.innerHTML=this.getCloseBoxImg()+t:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(t))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(t){this.position=t,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setVisible=function(t){this.isHidden=!t,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},e.prototype.setZIndex=function(t){this.zIndex=t,this.div&&(this.div.style.zIndex=t+""),google.maps.event.trigger(this,"zindex_changed")},e.prototype.getContent=function(){return this.content},e.prototype.getPosition=function(){return this.position},e.prototype.getZIndex=function(){return this.zIndex},e.prototype.getVisible=function(){var t=this.getMap();return typeof t>"u"||t===null?!1:!this.isHidden},e.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},e.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},e.prototype.open=function(t,r){var n=this;r&&(this.position=r.getPosition(),this.moveListener=google.maps.event.addListener(r,"position_changed",function(){var i=r.getPosition();n.setPosition(i)}),this.mapListener=google.maps.event.addListener(r,"map_changed",function(){n.setMap(r.map)})),this.setMap(t),this.div&&this.panBox()},e.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var t=0,r=this.eventListeners;t<r.length;t++){var n=r[t];google.maps.event.removeListener(n)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},e.prototype.extend=function(t,r){return(function(i){for(var s in i.prototype)Object.prototype.hasOwnProperty.call(this,s)||(this.prototype[s]=i.prototype[s]);return this}).apply(t,[r])},e}(),tkt=["position"],rkt=["position"];function jee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jee(Object(r),!0).forEach(function(n){kt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jee(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Pee={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Fee={options(e,t){e.setOptions(t)},position(e,t){t instanceof google.maps.LatLng?e.setPosition(t):e.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},nkt={};function ikt(e){var{children:t,anchor:r,options:n,position:i,zIndex:s,onCloseClick:a,onDomReady:l,onContentChanged:c,onPositionChanged:u,onZindexChanged:d,onLoad:h,onUnmount:A}=e,g=C.useContext(oi),[v,x]=C.useState(null),[y,w]=C.useState(null),[_,E]=C.useState(null),[I,N]=C.useState(null),[j,T]=C.useState(null),[P,k]=C.useState(null),R=C.useRef(null);return C.useEffect(()=>{g&&v!==null&&(v.close(),r?v.open(g,r):v.getPosition()&&v.open(g))},[g,v,r]),C.useEffect(()=>{n&&v!==null&&v.setOptions(n)},[v,n]),C.useEffect(()=>{if(i&&v!==null){var O=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);v.setPosition(O)}},[i]),C.useEffect(()=>{typeof s=="number"&&v!==null&&v.setZIndex(s)},[s]),C.useEffect(()=>{v&&a&&(y!==null&&google.maps.event.removeListener(y),w(google.maps.event.addListener(v,"closeclick",a)))},[a]),C.useEffect(()=>{v&&l&&(_!==null&&google.maps.event.removeListener(_),E(google.maps.event.addListener(v,"domready",l)))},[l]),C.useEffect(()=>{v&&c&&(I!==null&&google.maps.event.removeListener(I),N(google.maps.event.addListener(v,"content_changed",c)))},[c]),C.useEffect(()=>{v&&u&&(j!==null&&google.maps.event.removeListener(j),T(google.maps.event.addListener(v,"position_changed",u)))},[u]),C.useEffect(()=>{v&&d&&(P!==null&&google.maps.event.removeListener(P),k(google.maps.event.addListener(v,"zindex_changed",d)))},[d]),C.useEffect(()=>{if(g){var O=n||nkt,{position:M}=O,H=dH(O,tkt),K;M&&!(M instanceof google.maps.LatLng)&&(K=new google.maps.LatLng(M.lat,M.lng));var Y=new zxe(dT(dT({},H),K?{position:K}:{}));R.current=document.createElement("div"),x(Y),a&&w(google.maps.event.addListener(Y,"closeclick",a)),l&&E(google.maps.event.addListener(Y,"domready",l)),c&&N(google.maps.event.addListener(Y,"content_changed",c)),u&&T(google.maps.event.addListener(Y,"position_changed",u)),d&&k(google.maps.event.addListener(Y,"zindex_changed",d)),Y.setContent(R.current),r?Y.open(g,r):Y.getPosition()?Y.open(g):mo(!1,"You must provide either an anchor or a position prop for <InfoBox>."),h&&h(Y)}return()=>{v!==null&&(y&&google.maps.event.removeListener(y),I&&google.maps.event.removeListener(I),_&&google.maps.event.removeListener(_),j&&google.maps.event.removeListener(j),P&&google.maps.event.removeListener(P),A&&A(v),v.close())}},[]),R.current?Uu.createPortal(C.Children.only(t),R.current):null}C.memo(ikt);class skt extends C.PureComponent{constructor(){super(...arguments),kt(this,"registeredEvents",[]),kt(this,"containerElement",null),kt(this,"state",{infoBox:null}),kt(this,"open",(t,r)=>{r?this.context!==null&&t.open(this.context,r):t.getPosition()?this.context!==null&&t.open(this.context):mo(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),kt(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var t=this.props.options||{},{position:r}=t,n=dH(t,rkt),i;r&&!(r instanceof google.maps.LatLng)&&(i=new google.maps.LatLng(r.lat,r.lng));var s=new zxe(dT(dT({},n),i?{position:i}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=pi({updaterMap:Fee,eventMap:Pee,prevProps:{},nextProps:this.props,instance:s}),this.setState({infoBox:s},this.setInfoBoxCallback)}componentDidUpdate(t){var{infoBox:r}=this.state;r!==null&&(gi(this.registeredEvents),this.registeredEvents=pi({updaterMap:Fee,eventMap:Pee,prevProps:t,nextProps:this.props,instance:r}))}componentWillUnmount(){var{onUnmount:t}=this.props,{infoBox:r}=this.state;r!==null&&(t&&t(r),gi(this.registeredEvents),r.close())}render(){return this.containerElement?Uu.createPortal(C.Children.only(this.props.children),this.containerElement):null}}kt(skt,"contextType",oi);var DP,Oee;function akt(){return Oee||(Oee=1,DP=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;i--!==0;){var a=s[i];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r}),DP}var okt=akt(),Dee=Dxe(okt),Lee=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],LP=1,Xw=8;class fH{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[r,n]=new Uint8Array(t,0,2);if(r!==219)throw new Error("Data does not appear to be in a KDBush format.");var i=n>>4;if(i!==LP)throw new Error("Got v".concat(i," data when expected v").concat(LP,"."));var s=Lee[n&15];if(!s)throw new Error("Unrecognized array type.");var[a]=new Uint16Array(t,2,1),[l]=new Uint32Array(t,4,1);return new fH(l,a,s,t)}constructor(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,i=arguments.length>3?arguments[3]:void 0;if(isNaN(t)||t<0)throw new Error("Unpexpected numItems value: ".concat(t,"."));this.numItems=+t,this.nodeSize=Math.min(Math.max(+r,2),65535),this.ArrayType=n,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;var s=Lee.indexOf(this.ArrayType),a=t*2*this.ArrayType.BYTES_PER_ELEMENT,l=t*this.IndexArrayType.BYTES_PER_ELEMENT,c=(8-l%8)%8;if(s<0)throw new Error("Unexpected typed array class: ".concat(n,"."));i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,Xw,t),this.coords=new this.ArrayType(this.data,Xw+l+c,t*2),this._pos=t*2,this._finished=!0):(this.data=new ArrayBuffer(Xw+a+l+c),this.ids=new this.IndexArrayType(this.data,Xw,t),this.coords=new this.ArrayType(this.data,Xw+l+c,t*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(LP<<4)+s]),new Uint16Array(this.data,2,1)[0]=r,new Uint32Array(this.data,4,1)[0]=t)}add(t,r){var n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=t,this.coords[this._pos++]=r,n}finish(){var t=this._pos>>1;if(t!==this.numItems)throw new Error("Added ".concat(t," items when expected ").concat(this.numItems,"."));return CL(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,r,n,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:a,nodeSize:l}=this,c=[0,s.length-1,0],u=[];c.length;){var d=c.pop()||0,h=c.pop()||0,A=c.pop()||0;if(h-A<=l){for(var g=A;g<=h;g++){var v=a[2*g],x=a[2*g+1];v>=t&&v<=n&&x>=r&&x<=i&&u.push(s[g])}continue}var y=A+h>>1,w=a[2*y],_=a[2*y+1];w>=t&&w<=n&&_>=r&&_<=i&&u.push(s[y]),(d===0?t<=w:r<=_)&&(c.push(A),c.push(y-1),c.push(1-d)),(d===0?n>=w:i>=_)&&(c.push(y+1),c.push(h),c.push(1-d))}return u}within(t,r,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:s,nodeSize:a}=this,l=[0,i.length-1,0],c=[],u=n*n;l.length;){var d=l.pop()||0,h=l.pop()||0,A=l.pop()||0;if(h-A<=a){for(var g=A;g<=h;g++)Ree(s[2*g],s[2*g+1],t,r)<=u&&c.push(i[g]);continue}var v=A+h>>1,x=s[2*v],y=s[2*v+1];Ree(x,y,t,r)<=u&&c.push(i[v]),(d===0?t-n<=x:r-n<=y)&&(l.push(A),l.push(v-1),l.push(1-d)),(d===0?t+n>=x:r+n>=y)&&(l.push(v+1),l.push(h),l.push(1-d))}return c}}function CL(e,t,r,n,i,s){if(!(i-n<=r)){var a=n+i>>1;Gxe(e,t,a,n,i,s),CL(e,t,r,n,a-1,1-s),CL(e,t,r,a+1,i,1-s)}}function Gxe(e,t,r,n,i,s){for(;i>n;){if(i-n>600){var a=i-n+1,l=r-n+1,c=Math.log(a),u=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*u*(a-u)/a)*(l-a/2<0?-1:1),h=Math.max(n,Math.floor(r-l*u/a+d)),A=Math.min(i,Math.floor(r+(a-l)*u/a+d));Gxe(e,t,r,h,A,s)}var g=t[2*r+s],v=n,x=i;for(Yw(e,t,n,r),t[2*i+s]>g&&Yw(e,t,n,i);v<x;){for(Yw(e,t,v,x),v++,x--;t[2*v+s]<g;)v++;for(;t[2*x+s]>g;)x--}t[2*n+s]===g?Yw(e,t,n,x):(x++,Yw(e,t,x,i)),x<=r&&(n=x+1),r<=x&&(i=x-1)}}function Yw(e,t,r,n){RP(e,r,n),RP(t,2*r,2*n),RP(t,2*r+1,2*n+1)}function RP(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function Ree(e,t,r,n){var i=e-r,s=t-n;return i*i+s*s}var lkt={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},Mee=Math.fround||(e=>t=>(e[0]=+t,e[0]))(new Float32Array(1)),ug=2,g0=3,MP=4,c0=5,Wxe=6;class ckt{constructor(t){this.options=Object.assign(Object.create(lkt),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){var{log:r,minZoom:n,maxZoom:i}=this.options;r&&console.time("total time");var s="prepare ".concat(t.length," points");r&&console.time(s),this.points=t;for(var a=[],l=0;l<t.length;l++){var c=t[l];if(c.geometry){var[u,d]=c.geometry.coordinates,h=Mee(TN(u)),A=Mee(BN(d));a.push(h,A,1/0,l,-1,1),this.options.reduce&&a.push(0)}}var g=this.trees[i+1]=this._createTree(a);r&&console.timeEnd(s);for(var v=i;v>=n;v--){var x=+Date.now();g=this.trees[v]=this._createTree(this._cluster(g,v)),r&&console.log("z%d: %d clusters in %dms",v,g.numItems,+Date.now()-x)}return r&&console.timeEnd("total time"),this}getClusters(t,r){var n=((t[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,t[1])),s=t[2]===180?180:((t[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,s=180;else if(n>s){var l=this.getClusters([n,i,180,a],r),c=this.getClusters([-180,i,s,a],r);return l.concat(c)}var u=this.trees[this._limitZoom(r)],d=u.range(TN(n),BN(a),TN(s),BN(i)),h=u.data,A=[];for(var g of d){var v=this.stride*g;A.push(h[v+c0]>1?Uee(h,v,this.clusterProps):this.points[h[v+g0]])}return A}getChildren(t){var r=this._getOriginId(t),n=this._getOriginZoom(t),i="No cluster with the specified id.",s=this.trees[n];if(!s)throw new Error(i);var a=s.data;if(r*this.stride>=a.length)throw new Error(i);var l=this.options.radius/(this.options.extent*Math.pow(2,n-1)),c=a[r*this.stride],u=a[r*this.stride+1],d=s.within(c,u,l),h=[];for(var A of d){var g=A*this.stride;a[g+MP]===t&&h.push(a[g+c0]>1?Uee(a,g,this.clusterProps):this.points[a[g+g0]])}if(h.length===0)throw new Error(i);return h}getLeaves(t,r,n){r=r||10,n=n||0;var i=[];return this._appendLeaves(i,t,r,n,0),i}getTile(t,r,n){var i=this.trees[this._limitZoom(t)],s=Math.pow(2,t),{extent:a,radius:l}=this.options,c=l/a,u=(n-c)/s,d=(n+1+c)/s,h={features:[]};return this._addTileFeatures(i.range((r-c)/s,u,(r+1+c)/s,d),i.data,r,n,s,h),r===0&&this._addTileFeatures(i.range(1-c/s,u,1,d),i.data,s,n,s,h),r===s-1&&this._addTileFeatures(i.range(0,u,c/s,d),i.data,-1,n,s,h),h.features.length?h:null}getClusterExpansionZoom(t){for(var r=this._getOriginZoom(t)-1;r<=this.options.maxZoom;){var n=this.getChildren(t);if(r++,n.length!==1)break;t=n[0].properties.cluster_id}return r}_appendLeaves(t,r,n,i,s){var a=this.getChildren(r);for(var l of a){var c=l.properties;if(c&&c.cluster?s+c.point_count<=i?s+=c.point_count:s=this._appendLeaves(t,c.cluster_id,n,i,s):s<i?s++:t.push(l),t.length===n)break}return s}_createTree(t){for(var r=new fH(t.length/this.stride|0,this.options.nodeSize,Float32Array),n=0;n<t.length;n+=this.stride)r.add(t[n],t[n+1]);return r.finish(),r.data=t,r}_addTileFeatures(t,r,n,i,s,a){for(var l of t){var c=l*this.stride,u=r[c+c0]>1,d=void 0,h=void 0,A=void 0;if(u)d=Kxe(r,c,this.clusterProps),h=r[c],A=r[c+1];else{var g=this.points[r[c+g0]];d=g.properties;var[v,x]=g.geometry.coordinates;h=TN(v),A=BN(x)}var y={type:1,geometry:[[Math.round(this.options.extent*(h*s-n)),Math.round(this.options.extent*(A*s-i))]],tags:d},w=void 0;u||this.options.generateId?w=r[c+g0]:w=this.points[r[c+g0]].id,w!==void 0&&(y.id=w),a.features.push(y)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,r){for(var{radius:n,extent:i,reduce:s,minPoints:a}=this.options,l=n/(i*Math.pow(2,r)),c=t.data,u=[],d=this.stride,h=0;h<c.length;h+=d)if(!(c[h+ug]<=r)){c[h+ug]=r;var A=c[h],g=c[h+1],v=t.within(c[h],c[h+1],l),x=c[h+c0],y=x;for(var w of v){var _=w*d;c[_+ug]>r&&(y+=c[_+c0])}if(y>x&&y>=a){var E=A*x,I=g*x,N=void 0,j=-1,T=((h/d|0)<<5)+(r+1)+this.points.length;for(var P of v){var k=P*d;if(!(c[k+ug]<=r)){c[k+ug]=r;var R=c[k+c0];E+=c[k]*R,I+=c[k+1]*R,c[k+MP]=T,s&&(N||(N=this._map(c,h,!0),j=this.clusterProps.length,this.clusterProps.push(N)),s(N,this._map(c,k)))}}c[h+MP]=T,u.push(E/y,I/y,1/0,T,-1,y),s&&u.push(j)}else{for(var O=0;O<d;O++)u.push(c[h+O]);if(y>1)for(var M of v){var H=M*d;if(!(c[H+ug]<=r)){c[H+ug]=r;for(var K=0;K<d;K++)u.push(c[H+K])}}}}return u}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,r,n){if(t[r+c0]>1){var i=this.clusterProps[t[r+Wxe]];return n?Object.assign({},i):i}var s=this.points[t[r+g0]].properties,a=this.options.map(s);return n&&a===s?Object.assign({},a):a}}function Uee(e,t,r){return{type:"Feature",id:e[t+g0],properties:Kxe(e,t,r),geometry:{type:"Point",coordinates:[ukt(e[t]),dkt(e[t+1])]}}}function Kxe(e,t,r){var n=e[t+c0],i=n>=1e4?"".concat(Math.round(n/1e3),"k"):n>=1e3?"".concat(Math.round(n/100)/10,"k"):n,s=e[t+Wxe],a=s===-1?{}:Object.assign({},r[s]);return Object.assign(a,{cluster:!0,cluster_id:e[t+g0],point_count:n,point_count_abbreviated:i})}function TN(e){return e/360+.5}function BN(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function ukt(e){return(e-.5)*360}function dkt(e){var t=(180-e*360)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function fkt(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}class bu{static isAdvancedMarkerAvailable(t){return google.maps.marker&&t.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(t){return google.maps.marker&&t instanceof google.maps.marker.AdvancedMarkerElement}static setMap(t,r){this.isAdvancedMarker(t)?t.map=r:t.setMap(r)}static getPosition(t){if(this.isAdvancedMarker(t)){if(t.position){if(t.position instanceof google.maps.LatLng)return t.position;if(t.position.lat&&t.position.lng)return new google.maps.LatLng(t.position.lat,t.position.lng)}return new google.maps.LatLng(null)}return t.getPosition()}static getVisible(t){return this.isAdvancedMarker(t)?!0:t.getVisible()}}class NL{constructor(t){var{markers:r,position:n}=t;this.markers=r,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(!(this.markers.length===0&&!this._position)){var t=new google.maps.LatLngBounds(this._position,this._position);for(var r of this.markers)t.extend(bu.getPosition(r));return t}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(t=>bu.getVisible(t)).length}push(t){this.markers.push(t)}delete(){this.marker&&(bu.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class hkt{constructor(t){var{maxZoom:r=16}=t;this.maxZoom=r}noop(t){var{markers:r}=t;return Akt(r)}}var Akt=e=>{var t=e.map(r=>new NL({position:bu.getPosition(r),markers:[r]}));return t};class pkt extends hkt{constructor(t){var{maxZoom:r,radius:n=60}=t,i=fkt(t,["maxZoom","radius"]);super({maxZoom:r}),this.state={zoom:-1},this.superCluster=new ckt(Object.assign({maxZoom:this.maxZoom,radius:n},i))}calculate(t){var r=!1,n={zoom:t.map.getZoom()};if(!Dee(t.markers,this.markers)){r=!0,this.markers=[...t.markers];var i=this.markers.map(s=>{var a=bu.getPosition(s),l=[a.lng(),a.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:l},properties:{marker:s}}});this.superCluster.load(i)}return r||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(r=!Dee(this.state,n)),this.state=n,r&&(this.clusters=this.cluster(t)),{clusters:this.clusters,changed:r}}cluster(t){var{map:r}=t;return this.superCluster.getClusters([-180,-90,180,90],Math.round(r.getZoom())).map(n=>this.transformCluster(n))}transformCluster(t){var{geometry:{coordinates:[r,n]},properties:i}=t;if(i.cluster)return new NL({markers:this.superCluster.getLeaves(i.cluster_id,1/0).map(a=>a.properties.marker),position:{lat:n,lng:r}});var s=i.marker;return new NL({markers:[s],position:bu.getPosition(s)})}}class gkt{constructor(t,r){this.markers={sum:t.length};var n=r.map(s=>s.count),i=n.reduce((s,a)=>s+a,0);this.clusters={count:r.length,markers:{mean:i/r.length,sum:i,min:Math.min(...n),max:Math.max(...n)}}}}class mkt{render(t,r,n){var{count:i,position:s}=t,a=i>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff",l='<svg fill="'.concat(a,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(i,`</text>
</svg>`),c="Cluster of ".concat(i," markers"),u=Number(google.maps.Marker.MAX_ZINDEX)+i;if(bu.isAdvancedMarkerAvailable(n)){var d=new DOMParser,h=d.parseFromString(l,"image/svg+xml").documentElement;h.setAttribute("transform","translate(0 25)");var A={map:n,position:s,zIndex:u,title:c,content:h};return new google.maps.marker.AdvancedMarkerElement(A)}var g={position:s,zIndex:u,title:c,icon:{url:"data:image/svg+xml;base64,".concat(btoa(l)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(g)}}function xkt(e,t){for(var r in t.prototype)e.prototype[r]=t.prototype[r]}class hH{constructor(){xkt(hH,google.maps.OverlayView)}}var Ab;(function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"})(Ab||(Ab={}));var vkt=(e,t,r)=>{r.fitBounds(t.bounds)};class ykt extends hH{constructor(t){var{map:r,markers:n=[],algorithmOptions:i={},algorithm:s=new pkt(i),renderer:a=new mkt,onClusterClick:l=vkt}=t;super(),this.markers=[...n],this.clusters=[],this.algorithm=s,this.renderer=a,this.onClusterClick=l,r&&this.setMap(r)}addMarker(t,r){this.markers.includes(t)||(this.markers.push(t),r||this.render())}addMarkers(t,r){t.forEach(n=>{this.addMarker(n,!0)}),r||this.render()}removeMarker(t,r){var n=this.markers.indexOf(t);return n===-1?!1:(bu.setMap(t,null),this.markers.splice(n,1),r||this.render(),!0)}removeMarkers(t,r){var n=!1;return t.forEach(i=>{n=this.removeMarker(i,!0)||n}),n&&!r&&this.render(),n}clearMarkers(t){this.markers.length=0,t||this.render()}render(){var t=this.getMap();if(t instanceof google.maps.Map&&t.getProjection()){google.maps.event.trigger(this,Ab.CLUSTERING_BEGIN,this);var{clusters:r,changed:n}=this.algorithm.calculate({markers:this.markers,map:t,mapCanvasProjection:this.getProjection()});if(n||n==null){var i=new Set;for(var s of r)s.markers.length==1&&i.add(s.markers[0]);var a=[];for(var l of this.clusters)l.marker!=null&&(l.markers.length==1?i.has(l.marker)||bu.setMap(l.marker,null):a.push(l.marker));this.clusters=r,this.renderClusters(),requestAnimationFrame(()=>a.forEach(c=>bu.setMap(c,null)))}google.maps.event.trigger(this,Ab.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(t=>bu.setMap(t,null)),this.clusters.forEach(t=>t.delete()),this.clusters=[]}renderClusters(){var t=new gkt(this.markers,this.clusters),r=this.getMap();this.clusters.forEach(n=>{n.markers.length===1?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,t,r),n.markers.forEach(i=>bu.setMap(i,null)),this.onClusterClick&&n.marker.addListener("click",i=>{google.maps.event.trigger(this,Ab.CLUSTER_CLICK,n),this.onClusterClick(i,n,r)})),bu.setMap(n.marker,r)})}}function Hee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hee(Object(r),!0).forEach(function(n){kt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hee(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wkt(e){var t=yIt(),[r,n]=C.useState(null);return C.useEffect(()=>{if(t&&r===null){var i=new ykt(Qee(Qee({},e),{},{map:t}));n(i)}},[t]),r}function bkt(e){var{children:t,options:r}=e,n=wkt(r);return n!==null?t(n):null}C.memo(bkt);var $ee={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Vee={options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},zIndex(e,t){e.setZIndex(t)}};function _kt(e){var{children:t,anchor:r,options:n,position:i,zIndex:s,onCloseClick:a,onDomReady:l,onContentChanged:c,onPositionChanged:u,onZindexChanged:d,onLoad:h,onUnmount:A}=e,g=C.useContext(oi),[v,x]=C.useState(null),[y,w]=C.useState(null),[_,E]=C.useState(null),[I,N]=C.useState(null),[j,T]=C.useState(null),[P,k]=C.useState(null),R=C.useRef(null);return C.useEffect(()=>{v!==null&&(v.close(),r?v.open(g,r):v.getPosition()&&v.open(g))},[g,v,r]),C.useEffect(()=>{n&&v!==null&&v.setOptions(n)},[v,n]),C.useEffect(()=>{i&&v!==null&&v.setPosition(i)},[i]),C.useEffect(()=>{typeof s=="number"&&v!==null&&v.setZIndex(s)},[s]),C.useEffect(()=>{v&&a&&(y!==null&&google.maps.event.removeListener(y),w(google.maps.event.addListener(v,"closeclick",a)))},[a]),C.useEffect(()=>{v&&l&&(_!==null&&google.maps.event.removeListener(_),E(google.maps.event.addListener(v,"domready",l)))},[l]),C.useEffect(()=>{v&&c&&(I!==null&&google.maps.event.removeListener(I),N(google.maps.event.addListener(v,"content_changed",c)))},[c]),C.useEffect(()=>{v&&u&&(j!==null&&google.maps.event.removeListener(j),T(google.maps.event.addListener(v,"position_changed",u)))},[u]),C.useEffect(()=>{v&&d&&(P!==null&&google.maps.event.removeListener(P),k(google.maps.event.addListener(v,"zindex_changed",d)))},[d]),C.useEffect(()=>{var O=new google.maps.InfoWindow(n);return x(O),R.current=document.createElement("div"),a&&w(google.maps.event.addListener(O,"closeclick",a)),l&&E(google.maps.event.addListener(O,"domready",l)),c&&N(google.maps.event.addListener(O,"content_changed",c)),u&&T(google.maps.event.addListener(O,"position_changed",u)),d&&k(google.maps.event.addListener(O,"zindex_changed",d)),O.setContent(R.current),i&&O.setPosition(i),s&&O.setZIndex(s),r?O.open(g,r):O.getPosition()?O.open(g):mo(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),h&&h(O),()=>{y&&google.maps.event.removeListener(y),I&&google.maps.event.removeListener(I),_&&google.maps.event.removeListener(_),j&&google.maps.event.removeListener(j),P&&google.maps.event.removeListener(P),A&&A(O),O.close()}},[]),R.current?Uu.createPortal(C.Children.only(t),R.current):null}C.memo(_kt);class qxe extends C.PureComponent{constructor(){super(...arguments),kt(this,"registeredEvents",[]),kt(this,"containerElement",null),kt(this,"state",{infoWindow:null}),kt(this,"open",(t,r)=>{r?t.open(this.context,r):t.getPosition()?t.open(this.context):mo(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),kt(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var t=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=pi({updaterMap:Vee,eventMap:$ee,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({infoWindow:t}),this.setInfoWindowCallback)}componentDidUpdate(t){this.state.infoWindow!==null&&(gi(this.registeredEvents),this.registeredEvents=pi({updaterMap:Vee,eventMap:$ee,prevProps:t,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(gi(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Uu.createPortal(C.Children.only(this.props.children),this.containerElement):null}}kt(qxe,"contextType",oi);function zee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zee(Object(r),!0).forEach(function(n){kt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zee(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Gee={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Wee={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},visible(e,t){e.setVisible(t)}},Ekt={};function Skt(e){var{options:t,draggable:r,editable:n,visible:i,path:s,onDblClick:a,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:d,onMouseOut:h,onMouseOver:A,onMouseUp:g,onRightClick:v,onClick:x,onDrag:y,onLoad:w,onUnmount:_}=e,E=C.useContext(oi),[I,N]=C.useState(null),[j,T]=C.useState(null),[P,k]=C.useState(null),[R,O]=C.useState(null),[M,H]=C.useState(null),[K,Y]=C.useState(null),[ne,le]=C.useState(null),[te,X]=C.useState(null),[ue,ve]=C.useState(null),[V,q]=C.useState(null),[ee,re]=C.useState(null),[de,Ae]=C.useState(null);return C.useEffect(()=>{I!==null&&I.setMap(E)},[E]),C.useEffect(()=>{typeof t<"u"&&I!==null&&I.setOptions(t)},[I,t]),C.useEffect(()=>{typeof r<"u"&&I!==null&&I.setDraggable(r)},[I,r]),C.useEffect(()=>{typeof n<"u"&&I!==null&&I.setEditable(n)},[I,n]),C.useEffect(()=>{typeof i<"u"&&I!==null&&I.setVisible(i)},[I,i]),C.useEffect(()=>{typeof s<"u"&&I!==null&&I.setPath(s)},[I,s]),C.useEffect(()=>{I&&a&&(j!==null&&google.maps.event.removeListener(j),T(google.maps.event.addListener(I,"dblclick",a)))},[a]),C.useEffect(()=>{I&&l&&(P!==null&&google.maps.event.removeListener(P),k(google.maps.event.addListener(I,"dragend",l)))},[l]),C.useEffect(()=>{I&&c&&(R!==null&&google.maps.event.removeListener(R),O(google.maps.event.addListener(I,"dragstart",c)))},[c]),C.useEffect(()=>{I&&u&&(M!==null&&google.maps.event.removeListener(M),H(google.maps.event.addListener(I,"mousedown",u)))},[u]),C.useEffect(()=>{I&&d&&(K!==null&&google.maps.event.removeListener(K),Y(google.maps.event.addListener(I,"mousemove",d)))},[d]),C.useEffect(()=>{I&&h&&(ne!==null&&google.maps.event.removeListener(ne),le(google.maps.event.addListener(I,"mouseout",h)))},[h]),C.useEffect(()=>{I&&A&&(te!==null&&google.maps.event.removeListener(te),X(google.maps.event.addListener(I,"mouseover",A)))},[A]),C.useEffect(()=>{I&&g&&(ue!==null&&google.maps.event.removeListener(ue),ve(google.maps.event.addListener(I,"mouseup",g)))},[g]),C.useEffect(()=>{I&&v&&(V!==null&&google.maps.event.removeListener(V),q(google.maps.event.addListener(I,"rightclick",v)))},[v]),C.useEffect(()=>{I&&x&&(ee!==null&&google.maps.event.removeListener(ee),re(google.maps.event.addListener(I,"click",x)))},[x]),C.useEffect(()=>{I&&y&&(de!==null&&google.maps.event.removeListener(de),Ae(google.maps.event.addListener(I,"drag",y)))},[y]),C.useEffect(()=>{var _e=new google.maps.Polyline(fT(fT({},t||Ekt),{},{map:E}));return s&&_e.setPath(s),typeof i<"u"&&_e.setVisible(i),typeof n<"u"&&_e.setEditable(n),typeof r<"u"&&_e.setDraggable(r),a&&T(google.maps.event.addListener(_e,"dblclick",a)),l&&k(google.maps.event.addListener(_e,"dragend",l)),c&&O(google.maps.event.addListener(_e,"dragstart",c)),u&&H(google.maps.event.addListener(_e,"mousedown",u)),d&&Y(google.maps.event.addListener(_e,"mousemove",d)),h&&le(google.maps.event.addListener(_e,"mouseout",h)),A&&X(google.maps.event.addListener(_e,"mouseover",A)),g&&ve(google.maps.event.addListener(_e,"mouseup",g)),v&&q(google.maps.event.addListener(_e,"rightclick",v)),x&&re(google.maps.event.addListener(_e,"click",x)),y&&Ae(google.maps.event.addListener(_e,"drag",y)),N(_e),w&&w(_e),()=>{j!==null&&google.maps.event.removeListener(j),P!==null&&google.maps.event.removeListener(P),R!==null&&google.maps.event.removeListener(R),M!==null&&google.maps.event.removeListener(M),K!==null&&google.maps.event.removeListener(K),ne!==null&&google.maps.event.removeListener(ne),te!==null&&google.maps.event.removeListener(te),ue!==null&&google.maps.event.removeListener(ue),V!==null&&google.maps.event.removeListener(V),ee!==null&&google.maps.event.removeListener(ee),_&&_(_e),_e.setMap(null)}},[]),null}C.memo(Skt);class Xxe extends C.PureComponent{constructor(){super(...arguments),kt(this,"registeredEvents",[]),kt(this,"state",{polyline:null}),kt(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var t=new google.maps.Polyline(fT(fT({},this.props.options),{},{map:this.context}));this.registeredEvents=pi({updaterMap:Wee,eventMap:Gee,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{polyline:t}},this.setPolylineCallback)}componentDidUpdate(t){this.state.polyline!==null&&(gi(this.registeredEvents),this.registeredEvents=pi({updaterMap:Wee,eventMap:Gee,prevProps:t,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),gi(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}kt(Xxe,"contextType",oi);function Kee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kee(Object(r),!0).forEach(function(n){kt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kee(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Xee={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Yee={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},paths(e,t){e.setPaths(t)},visible(e,t){e.setVisible(t)}};function Ckt(e){var{options:t,draggable:r,editable:n,visible:i,path:s,paths:a,onDblClick:l,onDragEnd:c,onDragStart:u,onMouseDown:d,onMouseMove:h,onMouseOut:A,onMouseOver:g,onMouseUp:v,onRightClick:x,onClick:y,onDrag:w,onLoad:_,onUnmount:E,onEdit:I}=e,N=C.useContext(oi),[j,T]=C.useState(null),[P,k]=C.useState(null),[R,O]=C.useState(null),[M,H]=C.useState(null),[K,Y]=C.useState(null),[ne,le]=C.useState(null),[te,X]=C.useState(null),[ue,ve]=C.useState(null),[V,q]=C.useState(null),[ee,re]=C.useState(null),[de,Ae]=C.useState(null),[_e,ye]=C.useState(null);return C.useEffect(()=>{j!==null&&j.setMap(N)},[N]),C.useEffect(()=>{typeof t<"u"&&j!==null&&j.setOptions(t)},[j,t]),C.useEffect(()=>{typeof r<"u"&&j!==null&&j.setDraggable(r)},[j,r]),C.useEffect(()=>{typeof n<"u"&&j!==null&&j.setEditable(n)},[j,n]),C.useEffect(()=>{typeof i<"u"&&j!==null&&j.setVisible(i)},[j,i]),C.useEffect(()=>{typeof s<"u"&&j!==null&&j.setPath(s)},[j,s]),C.useEffect(()=>{typeof a<"u"&&j!==null&&j.setPaths(a)},[j,a]),C.useEffect(()=>{j&&typeof l=="function"&&(P!==null&&google.maps.event.removeListener(P),k(google.maps.event.addListener(j,"dblclick",l)))},[l]),C.useEffect(()=>{j&&(google.maps.event.addListener(j.getPath(),"insert_at",()=>{I==null||I(j)}),google.maps.event.addListener(j.getPath(),"set_at",()=>{I==null||I(j)}),google.maps.event.addListener(j.getPath(),"remove_at",()=>{I==null||I(j)}))},[j,I]),C.useEffect(()=>{j&&typeof c=="function"&&(R!==null&&google.maps.event.removeListener(R),O(google.maps.event.addListener(j,"dragend",c)))},[c]),C.useEffect(()=>{j&&typeof u=="function"&&(M!==null&&google.maps.event.removeListener(M),H(google.maps.event.addListener(j,"dragstart",u)))},[u]),C.useEffect(()=>{j&&typeof d=="function"&&(K!==null&&google.maps.event.removeListener(K),Y(google.maps.event.addListener(j,"mousedown",d)))},[d]),C.useEffect(()=>{j&&typeof h=="function"&&(ne!==null&&google.maps.event.removeListener(ne),le(google.maps.event.addListener(j,"mousemove",h)))},[h]),C.useEffect(()=>{j&&typeof A=="function"&&(te!==null&&google.maps.event.removeListener(te),X(google.maps.event.addListener(j,"mouseout",A)))},[A]),C.useEffect(()=>{j&&typeof g=="function"&&(ue!==null&&google.maps.event.removeListener(ue),ve(google.maps.event.addListener(j,"mouseover",g)))},[g]),C.useEffect(()=>{j&&typeof v=="function"&&(V!==null&&google.maps.event.removeListener(V),q(google.maps.event.addListener(j,"mouseup",v)))},[v]),C.useEffect(()=>{j&&typeof x=="function"&&(ee!==null&&google.maps.event.removeListener(ee),re(google.maps.event.addListener(j,"rightclick",x)))},[x]),C.useEffect(()=>{j&&typeof y=="function"&&(de!==null&&google.maps.event.removeListener(de),Ae(google.maps.event.addListener(j,"click",y)))},[y]),C.useEffect(()=>{j&&typeof w=="function"&&(_e!==null&&google.maps.event.removeListener(_e),ye(google.maps.event.addListener(j,"drag",w)))},[w]),C.useEffect(()=>{var ce=new google.maps.Polygon(qee(qee({},t),{},{map:N}));return s&&ce.setPath(s),a&&ce.setPaths(a),typeof i<"u"&&ce.setVisible(i),typeof n<"u"&&ce.setEditable(n),typeof r<"u"&&ce.setDraggable(r),l&&k(google.maps.event.addListener(ce,"dblclick",l)),c&&O(google.maps.event.addListener(ce,"dragend",c)),u&&H(google.maps.event.addListener(ce,"dragstart",u)),d&&Y(google.maps.event.addListener(ce,"mousedown",d)),h&&le(google.maps.event.addListener(ce,"mousemove",h)),A&&X(google.maps.event.addListener(ce,"mouseout",A)),g&&ve(google.maps.event.addListener(ce,"mouseover",g)),v&&q(google.maps.event.addListener(ce,"mouseup",v)),x&&re(google.maps.event.addListener(ce,"rightclick",x)),y&&Ae(google.maps.event.addListener(ce,"click",y)),w&&ye(google.maps.event.addListener(ce,"drag",w)),T(ce),_&&_(ce),()=>{P!==null&&google.maps.event.removeListener(P),R!==null&&google.maps.event.removeListener(R),M!==null&&google.maps.event.removeListener(M),K!==null&&google.maps.event.removeListener(K),ne!==null&&google.maps.event.removeListener(ne),te!==null&&google.maps.event.removeListener(te),ue!==null&&google.maps.event.removeListener(ue),V!==null&&google.maps.event.removeListener(V),ee!==null&&google.maps.event.removeListener(ee),de!==null&&google.maps.event.removeListener(de),E&&E(ce),ce.setMap(null)}},[]),null}C.memo(Ckt);class Nkt extends C.PureComponent{constructor(){super(...arguments),kt(this,"registeredEvents",[])}componentDidMount(){var t=this.props.options||{};this.polygon=new google.maps.Polygon(t),this.polygon.setMap(this.context),this.registeredEvents=pi({updaterMap:Yee,eventMap:Xee,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(t){this.polygon&&(gi(this.registeredEvents),this.registeredEvents=pi({updaterMap:Yee,eventMap:Xee,prevProps:t,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),gi(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}kt(Nkt,"contextType",oi);function Zee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zee(Object(r),!0).forEach(function(n){kt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zee(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Jee={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},ete={bounds(e,t){e.setBounds(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},visible(e,t){e.setVisible(t)}};function Tkt(e){var{options:t,bounds:r,draggable:n,editable:i,visible:s,onDblClick:a,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:d,onMouseOut:h,onMouseOver:A,onMouseUp:g,onRightClick:v,onClick:x,onDrag:y,onBoundsChanged:w,onLoad:_,onUnmount:E}=e,I=C.useContext(oi),[N,j]=C.useState(null),[T,P]=C.useState(null),[k,R]=C.useState(null),[O,M]=C.useState(null),[H,K]=C.useState(null),[Y,ne]=C.useState(null),[le,te]=C.useState(null),[X,ue]=C.useState(null),[ve,V]=C.useState(null),[q,ee]=C.useState(null),[re,de]=C.useState(null),[Ae,_e]=C.useState(null),[ye,ce]=C.useState(null);return C.useEffect(()=>{N!==null&&N.setMap(I)},[I]),C.useEffect(()=>{typeof t<"u"&&N!==null&&N.setOptions(t)},[N,t]),C.useEffect(()=>{typeof n<"u"&&N!==null&&N.setDraggable(n)},[N,n]),C.useEffect(()=>{typeof i<"u"&&N!==null&&N.setEditable(i)},[N,i]),C.useEffect(()=>{typeof s<"u"&&N!==null&&N.setVisible(s)},[N,s]),C.useEffect(()=>{typeof r<"u"&&N!==null&&N.setBounds(r)},[N,r]),C.useEffect(()=>{N&&a&&(T!==null&&google.maps.event.removeListener(T),P(google.maps.event.addListener(N,"dblclick",a)))},[a]),C.useEffect(()=>{N&&l&&(k!==null&&google.maps.event.removeListener(k),R(google.maps.event.addListener(N,"dragend",l)))},[l]),C.useEffect(()=>{N&&c&&(O!==null&&google.maps.event.removeListener(O),M(google.maps.event.addListener(N,"dragstart",c)))},[c]),C.useEffect(()=>{N&&u&&(H!==null&&google.maps.event.removeListener(H),K(google.maps.event.addListener(N,"mousedown",u)))},[u]),C.useEffect(()=>{N&&d&&(Y!==null&&google.maps.event.removeListener(Y),ne(google.maps.event.addListener(N,"mousemove",d)))},[d]),C.useEffect(()=>{N&&h&&(le!==null&&google.maps.event.removeListener(le),te(google.maps.event.addListener(N,"mouseout",h)))},[h]),C.useEffect(()=>{N&&A&&(X!==null&&google.maps.event.removeListener(X),ue(google.maps.event.addListener(N,"mouseover",A)))},[A]),C.useEffect(()=>{N&&g&&(ve!==null&&google.maps.event.removeListener(ve),V(google.maps.event.addListener(N,"mouseup",g)))},[g]),C.useEffect(()=>{N&&v&&(q!==null&&google.maps.event.removeListener(q),ee(google.maps.event.addListener(N,"rightclick",v)))},[v]),C.useEffect(()=>{N&&x&&(re!==null&&google.maps.event.removeListener(re),de(google.maps.event.addListener(N,"click",x)))},[x]),C.useEffect(()=>{N&&y&&(Ae!==null&&google.maps.event.removeListener(Ae),_e(google.maps.event.addListener(N,"drag",y)))},[y]),C.useEffect(()=>{N&&w&&(ye!==null&&google.maps.event.removeListener(ye),ce(google.maps.event.addListener(N,"bounds_changed",w)))},[w]),C.useEffect(()=>{var Ne=new google.maps.Rectangle(hT(hT({},t),{},{map:I}));return typeof s<"u"&&Ne.setVisible(s),typeof i<"u"&&Ne.setEditable(i),typeof n<"u"&&Ne.setDraggable(n),typeof r<"u"&&Ne.setBounds(r),a&&P(google.maps.event.addListener(Ne,"dblclick",a)),l&&R(google.maps.event.addListener(Ne,"dragend",l)),c&&M(google.maps.event.addListener(Ne,"dragstart",c)),u&&K(google.maps.event.addListener(Ne,"mousedown",u)),d&&ne(google.maps.event.addListener(Ne,"mousemove",d)),h&&te(google.maps.event.addListener(Ne,"mouseout",h)),A&&ue(google.maps.event.addListener(Ne,"mouseover",A)),g&&V(google.maps.event.addListener(Ne,"mouseup",g)),v&&ee(google.maps.event.addListener(Ne,"rightclick",v)),x&&de(google.maps.event.addListener(Ne,"click",x)),y&&_e(google.maps.event.addListener(Ne,"drag",y)),w&&ce(google.maps.event.addListener(Ne,"bounds_changed",w)),j(Ne),_&&_(Ne),()=>{T!==null&&google.maps.event.removeListener(T),k!==null&&google.maps.event.removeListener(k),O!==null&&google.maps.event.removeListener(O),H!==null&&google.maps.event.removeListener(H),Y!==null&&google.maps.event.removeListener(Y),le!==null&&google.maps.event.removeListener(le),X!==null&&google.maps.event.removeListener(X),ve!==null&&google.maps.event.removeListener(ve),q!==null&&google.maps.event.removeListener(q),re!==null&&google.maps.event.removeListener(re),Ae!==null&&google.maps.event.removeListener(Ae),ye!==null&&google.maps.event.removeListener(ye),E&&E(Ne),Ne.setMap(null)}},[]),null}C.memo(Tkt);class Bkt extends C.PureComponent{constructor(){super(...arguments),kt(this,"registeredEvents",[]),kt(this,"state",{rectangle:null}),kt(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var t=new google.maps.Rectangle(hT(hT({},this.props.options),{},{map:this.context}));this.registeredEvents=pi({updaterMap:ete,eventMap:Jee,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{rectangle:t}},this.setRectangleCallback)}componentDidUpdate(t){this.state.rectangle!==null&&(gi(this.registeredEvents),this.registeredEvents=pi({updaterMap:ete,eventMap:Jee,prevProps:t,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),gi(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}kt(Bkt,"contextType",oi);function tte(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function AT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tte(Object(r),!0).forEach(function(n){kt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tte(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var rte={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},nte={center(e,t){e.setCenter(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},radius(e,t){e.setRadius(t)},visible(e,t){e.setVisible(t)}},Ikt={};function kkt(e){var{options:t,center:r,radius:n,draggable:i,editable:s,visible:a,onDblClick:l,onDragEnd:c,onDragStart:u,onMouseDown:d,onMouseMove:h,onMouseOut:A,onMouseOver:g,onMouseUp:v,onRightClick:x,onClick:y,onDrag:w,onCenterChanged:_,onRadiusChanged:E,onLoad:I,onUnmount:N}=e,j=C.useContext(oi),[T,P]=C.useState(null),[k,R]=C.useState(null),[O,M]=C.useState(null),[H,K]=C.useState(null),[Y,ne]=C.useState(null),[le,te]=C.useState(null),[X,ue]=C.useState(null),[ve,V]=C.useState(null),[q,ee]=C.useState(null),[re,de]=C.useState(null),[Ae,_e]=C.useState(null),[ye,ce]=C.useState(null),[Ne,oe]=C.useState(null),[We,Re]=C.useState(null);return C.useEffect(()=>{T!==null&&T.setMap(j)},[j]),C.useEffect(()=>{typeof t<"u"&&T!==null&&T.setOptions(t)},[T,t]),C.useEffect(()=>{typeof i<"u"&&T!==null&&T.setDraggable(i)},[T,i]),C.useEffect(()=>{typeof s<"u"&&T!==null&&T.setEditable(s)},[T,s]),C.useEffect(()=>{typeof a<"u"&&T!==null&&T.setVisible(a)},[T,a]),C.useEffect(()=>{typeof n=="number"&&T!==null&&T.setRadius(n)},[T,n]),C.useEffect(()=>{typeof r<"u"&&T!==null&&T.setCenter(r)},[T,r]),C.useEffect(()=>{T&&l&&(k!==null&&google.maps.event.removeListener(k),R(google.maps.event.addListener(T,"dblclick",l)))},[l]),C.useEffect(()=>{T&&c&&(O!==null&&google.maps.event.removeListener(O),M(google.maps.event.addListener(T,"dragend",c)))},[c]),C.useEffect(()=>{T&&u&&(H!==null&&google.maps.event.removeListener(H),K(google.maps.event.addListener(T,"dragstart",u)))},[u]),C.useEffect(()=>{T&&d&&(Y!==null&&google.maps.event.removeListener(Y),ne(google.maps.event.addListener(T,"mousedown",d)))},[d]),C.useEffect(()=>{T&&h&&(le!==null&&google.maps.event.removeListener(le),te(google.maps.event.addListener(T,"mousemove",h)))},[h]),C.useEffect(()=>{T&&A&&(X!==null&&google.maps.event.removeListener(X),ue(google.maps.event.addListener(T,"mouseout",A)))},[A]),C.useEffect(()=>{T&&g&&(ve!==null&&google.maps.event.removeListener(ve),V(google.maps.event.addListener(T,"mouseover",g)))},[g]),C.useEffect(()=>{T&&v&&(q!==null&&google.maps.event.removeListener(q),ee(google.maps.event.addListener(T,"mouseup",v)))},[v]),C.useEffect(()=>{T&&x&&(re!==null&&google.maps.event.removeListener(re),de(google.maps.event.addListener(T,"rightclick",x)))},[x]),C.useEffect(()=>{T&&y&&(Ae!==null&&google.maps.event.removeListener(Ae),_e(google.maps.event.addListener(T,"click",y)))},[y]),C.useEffect(()=>{T&&w&&(ye!==null&&google.maps.event.removeListener(ye),ce(google.maps.event.addListener(T,"drag",w)))},[w]),C.useEffect(()=>{T&&_&&(Ne!==null&&google.maps.event.removeListener(Ne),oe(google.maps.event.addListener(T,"center_changed",_)))},[y]),C.useEffect(()=>{T&&E&&(We!==null&&google.maps.event.removeListener(We),Re(google.maps.event.addListener(T,"radius_changed",E)))},[E]),C.useEffect(()=>{var z=new google.maps.Circle(AT(AT({},t||Ikt),{},{map:j}));return typeof n=="number"&&z.setRadius(n),typeof r<"u"&&z.setCenter(r),typeof n=="number"&&z.setRadius(n),typeof a<"u"&&z.setVisible(a),typeof s<"u"&&z.setEditable(s),typeof i<"u"&&z.setDraggable(i),l&&R(google.maps.event.addListener(z,"dblclick",l)),c&&M(google.maps.event.addListener(z,"dragend",c)),u&&K(google.maps.event.addListener(z,"dragstart",u)),d&&ne(google.maps.event.addListener(z,"mousedown",d)),h&&te(google.maps.event.addListener(z,"mousemove",h)),A&&ue(google.maps.event.addListener(z,"mouseout",A)),g&&V(google.maps.event.addListener(z,"mouseover",g)),v&&ee(google.maps.event.addListener(z,"mouseup",v)),x&&de(google.maps.event.addListener(z,"rightclick",x)),y&&_e(google.maps.event.addListener(z,"click",y)),w&&ce(google.maps.event.addListener(z,"drag",w)),_&&oe(google.maps.event.addListener(z,"center_changed",_)),E&&Re(google.maps.event.addListener(z,"radius_changed",E)),P(z),I&&I(z),()=>{k!==null&&google.maps.event.removeListener(k),O!==null&&google.maps.event.removeListener(O),H!==null&&google.maps.event.removeListener(H),Y!==null&&google.maps.event.removeListener(Y),le!==null&&google.maps.event.removeListener(le),X!==null&&google.maps.event.removeListener(X),ve!==null&&google.maps.event.removeListener(ve),q!==null&&google.maps.event.removeListener(q),re!==null&&google.maps.event.removeListener(re),Ae!==null&&google.maps.event.removeListener(Ae),Ne!==null&&google.maps.event.removeListener(Ne),We!==null&&google.maps.event.removeListener(We),N&&N(z),z.setMap(null)}},[]),null}C.memo(kkt);class jkt extends C.PureComponent{constructor(){super(...arguments),kt(this,"registeredEvents",[]),kt(this,"state",{circle:null}),kt(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var t=new google.maps.Circle(AT(AT({},this.props.options),{},{map:this.context}));this.registeredEvents=pi({updaterMap:nte,eventMap:rte,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{circle:t}},this.setCircleCallback)}componentDidUpdate(t){this.state.circle!==null&&(gi(this.registeredEvents),this.registeredEvents=pi({updaterMap:nte,eventMap:rte,prevProps:t,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var t;this.props.onUnmount&&this.props.onUnmount(this.state.circle),gi(this.registeredEvents),(t=this.state.circle)===null||t===void 0||t.setMap(null)}}render(){return null}}kt(jkt,"contextType",oi);function ite(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ite(Object(r),!0).forEach(function(n){kt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ite(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var ste={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},ate={add(e,t){e.add(t)},addgeojson(e,t,r){e.addGeoJson(t,r)},contains(e,t){e.contains(t)},foreach(e,t){e.forEach(t)},loadgeojson(e,t,r,n){e.loadGeoJson(t,r,n)},overridestyle(e,t,r){e.overrideStyle(t,r)},remove(e,t){e.remove(t)},revertstyle(e,t){e.revertStyle(t)},controlposition(e,t){e.setControlPosition(t)},controls(e,t){e.setControls(t)},drawingmode(e,t){e.setDrawingMode(t)},map(e,t){e.setMap(t)},style(e,t){e.setStyle(t)},togeojson(e,t){e.toGeoJson(t)}};function Pkt(e){var{options:t,onClick:r,onDblClick:n,onMouseDown:i,onMouseMove:s,onMouseOut:a,onMouseOver:l,onMouseUp:c,onRightClick:u,onAddFeature:d,onRemoveFeature:h,onRemoveProperty:A,onSetGeometry:g,onSetProperty:v,onLoad:x,onUnmount:y}=e,w=C.useContext(oi),[_,E]=C.useState(null),[I,N]=C.useState(null),[j,T]=C.useState(null),[P,k]=C.useState(null),[R,O]=C.useState(null),[M,H]=C.useState(null),[K,Y]=C.useState(null),[ne,le]=C.useState(null),[te,X]=C.useState(null),[ue,ve]=C.useState(null),[V,q]=C.useState(null),[ee,re]=C.useState(null),[de,Ae]=C.useState(null),[_e,ye]=C.useState(null);return C.useEffect(()=>{_!==null&&_.setMap(w)},[w]),C.useEffect(()=>{_&&n&&(I!==null&&google.maps.event.removeListener(I),N(google.maps.event.addListener(_,"dblclick",n)))},[n]),C.useEffect(()=>{_&&i&&(j!==null&&google.maps.event.removeListener(j),T(google.maps.event.addListener(_,"mousedown",i)))},[i]),C.useEffect(()=>{_&&s&&(P!==null&&google.maps.event.removeListener(P),k(google.maps.event.addListener(_,"mousemove",s)))},[s]),C.useEffect(()=>{_&&a&&(R!==null&&google.maps.event.removeListener(R),O(google.maps.event.addListener(_,"mouseout",a)))},[a]),C.useEffect(()=>{_&&l&&(M!==null&&google.maps.event.removeListener(M),H(google.maps.event.addListener(_,"mouseover",l)))},[l]),C.useEffect(()=>{_&&c&&(K!==null&&google.maps.event.removeListener(K),Y(google.maps.event.addListener(_,"mouseup",c)))},[c]),C.useEffect(()=>{_&&u&&(ne!==null&&google.maps.event.removeListener(ne),le(google.maps.event.addListener(_,"rightclick",u)))},[u]),C.useEffect(()=>{_&&r&&(te!==null&&google.maps.event.removeListener(te),X(google.maps.event.addListener(_,"click",r)))},[r]),C.useEffect(()=>{_&&d&&(ue!==null&&google.maps.event.removeListener(ue),ve(google.maps.event.addListener(_,"addfeature",d)))},[d]),C.useEffect(()=>{_&&h&&(V!==null&&google.maps.event.removeListener(V),q(google.maps.event.addListener(_,"removefeature",h)))},[h]),C.useEffect(()=>{_&&A&&(ee!==null&&google.maps.event.removeListener(ee),re(google.maps.event.addListener(_,"removeproperty",A)))},[A]),C.useEffect(()=>{_&&g&&(de!==null&&google.maps.event.removeListener(de),Ae(google.maps.event.addListener(_,"setgeometry",g)))},[g]),C.useEffect(()=>{_&&v&&(_e!==null&&google.maps.event.removeListener(_e),ye(google.maps.event.addListener(_,"setproperty",v)))},[v]),C.useEffect(()=>{if(w!==null){var ce=new google.maps.Data(pT(pT({},t),{},{map:w}));n&&N(google.maps.event.addListener(ce,"dblclick",n)),i&&T(google.maps.event.addListener(ce,"mousedown",i)),s&&k(google.maps.event.addListener(ce,"mousemove",s)),a&&O(google.maps.event.addListener(ce,"mouseout",a)),l&&H(google.maps.event.addListener(ce,"mouseover",l)),c&&Y(google.maps.event.addListener(ce,"mouseup",c)),u&&le(google.maps.event.addListener(ce,"rightclick",u)),r&&X(google.maps.event.addListener(ce,"click",r)),d&&ve(google.maps.event.addListener(ce,"addfeature",d)),h&&q(google.maps.event.addListener(ce,"removefeature",h)),A&&re(google.maps.event.addListener(ce,"removeproperty",A)),g&&Ae(google.maps.event.addListener(ce,"setgeometry",g)),v&&ye(google.maps.event.addListener(ce,"setproperty",v)),E(ce),x&&x(ce)}return()=>{_&&(I!==null&&google.maps.event.removeListener(I),j!==null&&google.maps.event.removeListener(j),P!==null&&google.maps.event.removeListener(P),R!==null&&google.maps.event.removeListener(R),M!==null&&google.maps.event.removeListener(M),K!==null&&google.maps.event.removeListener(K),ne!==null&&google.maps.event.removeListener(ne),te!==null&&google.maps.event.removeListener(te),ue!==null&&google.maps.event.removeListener(ue),V!==null&&google.maps.event.removeListener(V),ee!==null&&google.maps.event.removeListener(ee),de!==null&&google.maps.event.removeListener(de),_e!==null&&google.maps.event.removeListener(_e),y&&y(_),_.setMap(null))}},[]),null}C.memo(Pkt);class Fkt extends C.PureComponent{constructor(){super(...arguments),kt(this,"registeredEvents",[]),kt(this,"state",{data:null}),kt(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var t=new google.maps.Data(pT(pT({},this.props.options),{},{map:this.context}));this.registeredEvents=pi({updaterMap:ate,eventMap:ste,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({data:t}),this.setDataCallback)}}componentDidUpdate(t){this.state.data!==null&&(gi(this.registeredEvents),this.registeredEvents=pi({updaterMap:ate,eventMap:ste,prevProps:t,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),gi(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}kt(Fkt,"contextType",oi);function ote(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lte(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ote(Object(r),!0).forEach(function(n){kt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ote(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var cte={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},ute={options(e,t){e.setOptions(t)},url(e,t){e.setUrl(t)},zIndex(e,t){e.setZIndex(t)}};class Okt extends C.PureComponent{constructor(){super(...arguments),kt(this,"registeredEvents",[]),kt(this,"state",{kmlLayer:null}),kt(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var t=new google.maps.KmlLayer(lte(lte({},this.props.options),{},{map:this.context}));this.registeredEvents=pi({updaterMap:ute,eventMap:cte,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{kmlLayer:t}},this.setKmlLayerCallback)}componentDidUpdate(t){this.state.kmlLayer!==null&&(gi(this.registeredEvents),this.registeredEvents=pi({updaterMap:ute,eventMap:cte,prevProps:t,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),gi(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}kt(Okt,"contextType",oi);function Yxe(e,t){return typeof t=="function"?t(e.offsetWidth,e.offsetHeight):{x:0,y:0}}function Dkt(e,t){return new t(e.lat,e.lng)}function Lkt(e,t){return new t(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function Rkt(e,t,r){return e instanceof t?e:r(e,t)}function Mkt(e,t,r){return e instanceof t?e:r(e,t)}function Ukt(e,t,r){var n=e&&e.fromLatLngToDivPixel(r.getNorthEast()),i=e&&e.fromLatLngToDivPixel(r.getSouthWest());return n&&i?{left:"".concat(i.x+t.x,"px"),top:"".concat(n.y+t.y,"px"),width:"".concat(n.x-i.x-t.x,"px"),height:"".concat(i.y-n.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}function Hkt(e,t,r){var n=e&&e.fromLatLngToDivPixel(r);if(n){var{x:i,y:s}=n;return{left:"".concat(i+t.x,"px"),top:"".concat(s+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}function Zxe(e,t,r,n){return r!==void 0?Ukt(e,t,Mkt(r,google.maps.LatLngBounds,Lkt)):Hkt(e,t,Rkt(n,google.maps.LatLng,Dkt))}function Qkt(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.height&&e.height===t.height}function dte(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dte(Object(r),!0).forEach(function(n){kt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dte(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vkt(e,t,r,n,i){class s extends google.maps.OverlayView{constructor(l,c,u,d){super(),this.container=l,this.pane=c,this.position=u,this.bounds=d}onAdd(){var l,c=(l=this.getPanes())===null||l===void 0?void 0:l[this.pane];c==null||c.appendChild(this.container)}draw(){var l=this.getProjection(),c=$kt({},this.container?Yxe(this.container,i):{x:0,y:0}),u=Zxe(l,c,this.bounds,this.position);for(var[d,h]of Object.entries(u))this.container.style[d]=h}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new s(e,t,r,n)}function fte(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zkt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fte(Object(r),!0).forEach(function(n){kt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fte(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hte(e){if(!e)return"";var t=e instanceof google.maps.LatLng?e:new google.maps.LatLng(e.lat,e.lng);return t+""}function Ate(e){if(!e)return"";var t=e instanceof google.maps.LatLngBounds?e:new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.east),new google.maps.LatLng(e.north,e.west));return t+""}function Gkt(e){var{position:t,bounds:r,mapPaneName:n,zIndex:i,onLoad:s,onUnmount:a,getPixelPositionOffset:l,children:c}=e,u=C.useContext(oi),d=C.useMemo(()=>{var A=document.createElement("div");return A.style.position="absolute",A},[]),h=C.useMemo(()=>Vkt(d,n,t,r,l),[d,n,t,r]);return C.useEffect(()=>(s==null||s(h),h==null||h.setMap(u),()=>{a==null||a(h),h==null||h.setMap(null)}),[u,h]),C.useEffect(()=>{d.style.zIndex="".concat(i)},[i,d]),Uu.createPortal(c,d)}C.memo(Gkt);class lw extends C.PureComponent{constructor(t){super(t),kt(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),kt(this,"updatePane",()=>{var n=this.props.mapPaneName,i=this.overlayView.getPanes();mo(!!n,"OverlayView requires props.mapPaneName but got %s",n),i?this.setState({paneEl:i[n]}):this.setState({paneEl:null})}),kt(this,"onAdd",()=>{var n,i;this.updatePane(),(n=(i=this.props).onLoad)===null||n===void 0||n.call(i,this.overlayView)}),kt(this,"onPositionElement",()=>{var n=this.overlayView.getProjection(),i=zkt({x:0,y:0},this.containerRef.current?Yxe(this.containerRef.current,this.props.getPixelPositionOffset):{}),s=Zxe(n,i,this.props.bounds,this.props.position);if(!Qkt(s,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var a,l,c,u;this.setState({containerStyle:{top:(a=s.top)!==null&&a!==void 0?a:0,left:(l=s.left)!==null&&l!==void 0?l:0,width:(c=s.width)!==null&&c!==void 0?c:0,height:(u=s.height)!==null&&u!==void 0?u:0,position:"absolute"}})}}),kt(this,"draw",()=>{this.onPositionElement()}),kt(this,"onRemove",()=>{var n,i;this.setState(()=>({paneEl:null})),(n=(i=this.props).onUnmount)===null||n===void 0||n.call(i,this.overlayView)}),this.containerRef=C.createRef();var r=new google.maps.OverlayView;r.onAdd=this.onAdd,r.draw=this.draw,r.onRemove=this.onRemove,this.overlayView=r}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(t){var r=hte(t.position),n=hte(this.props.position),i=Ate(t.bounds),s=Ate(this.props.bounds);(r!==n||i!==s)&&this.overlayView.draw(),t.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var t=this.state.paneEl;return t?Uu.createPortal(o.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:C.Children.only(this.props.children)}),t):null}}kt(lw,"FLOAT_PANE","floatPane");kt(lw,"MAP_PANE","mapPane");kt(lw,"MARKER_LAYER","markerLayer");kt(lw,"OVERLAY_LAYER","overlayLayer");kt(lw,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");kt(lw,"contextType",oi);function Wkt(){}function pte(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gte(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pte(Object(r),!0).forEach(function(n){kt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pte(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var mte={onDblClick:"dblclick",onClick:"click"},xte={opacity(e,t){e.setOpacity(t)}};function Kkt(e){var{url:t,bounds:r,options:n,visible:i}=e,s=C.useContext(oi),a=new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.west),new google.maps.LatLng(r.north,r.east)),l=C.useMemo(()=>new google.maps.GroundOverlay(t,a,n),[]);return C.useEffect(()=>{l!==null&&l.setMap(s)},[s]),C.useEffect(()=>{typeof t<"u"&&l!==null&&(l.set("url",t),l.setMap(s))},[l,t]),C.useEffect(()=>{typeof i<"u"&&l!==null&&l.setOpacity(i?1:0)},[l,i]),C.useEffect(()=>{var c=new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.west),new google.maps.LatLng(r.north,r.east));typeof r<"u"&&l!==null&&(l.set("bounds",c),l.setMap(s))},[l,r]),null}C.memo(Kkt);class Jxe extends C.PureComponent{constructor(){super(...arguments),kt(this,"registeredEvents",[]),kt(this,"state",{groundOverlay:null}),kt(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){mo(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var t=new google.maps.GroundOverlay(this.props.url,this.props.bounds,gte(gte({},this.props.options),{},{map:this.context}));this.registeredEvents=pi({updaterMap:xte,eventMap:mte,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{groundOverlay:t}},this.setGroundOverlayCallback)}componentDidUpdate(t){this.state.groundOverlay!==null&&(gi(this.registeredEvents),this.registeredEvents=pi({updaterMap:xte,eventMap:mte,prevProps:t,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}kt(Jxe,"defaultProps",{onLoad:Wkt});kt(Jxe,"contextType",oi);function vte(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vte(Object(r),!0).forEach(function(n){kt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vte(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var yte={},wte={data(e,t){e.setData(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)}};function qkt(e){var{data:t,onLoad:r,onUnmount:n,options:i}=e,s=C.useContext(oi),[a,l]=C.useState(null);return C.useEffect(()=>{google.maps.visualization||mo(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),C.useEffect(()=>{mo(!!t,"data property is required in HeatmapLayer %s",t)},[t]),C.useEffect(()=>{a!==null&&a.setMap(s)},[s]),C.useEffect(()=>{i&&a!==null&&a.setOptions(i)},[a,i]),C.useEffect(()=>{var c=new google.maps.visualization.HeatmapLayer(gT(gT({},i),{},{data:t,map:s}));return l(c),r&&r(c),()=>{a!==null&&(n&&n(a),a.setMap(null))}},[]),null}C.memo(qkt);class Xkt extends C.PureComponent{constructor(){super(...arguments),kt(this,"registeredEvents",[]),kt(this,"state",{heatmapLayer:null}),kt(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){mo(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),mo(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var t=new google.maps.visualization.HeatmapLayer(gT(gT({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=pi({updaterMap:wte,eventMap:yte,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{heatmapLayer:t}},this.setHeatmapLayerCallback)}componentDidUpdate(t){gi(this.registeredEvents),this.registeredEvents=pi({updaterMap:wte,eventMap:yte,prevProps:t,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),gi(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}kt(Xkt,"contextType",oi);var bte={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},_te={register(e,t,r){e.registerPanoProvider(t,r)},links(e,t){e.setLinks(t)},motionTracking(e,t){e.setMotionTracking(t)},options(e,t){e.setOptions(t)},pano(e,t){e.setPano(t)},position(e,t){e.setPosition(t)},pov(e,t){e.setPov(t)},visible(e,t){e.setVisible(t)},zoom(e,t){e.setZoom(t)}};class Ykt extends C.PureComponent{constructor(){super(...arguments),kt(this,"registeredEvents",[]),kt(this,"state",{streetViewPanorama:null}),kt(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var t,r,n=(t=(r=this.context)===null||r===void 0?void 0:r.getStreetView())!==null&&t!==void 0?t:null;this.registeredEvents=pi({updaterMap:_te,eventMap:bte,prevProps:{},nextProps:this.props,instance:n}),this.setState(()=>({streetViewPanorama:n}),this.setStreetViewPanoramaCallback)}componentDidUpdate(t){this.state.streetViewPanorama!==null&&(gi(this.registeredEvents),this.registeredEvents=pi({updaterMap:_te,eventMap:bte,prevProps:t,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),gi(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}kt(Ykt,"contextType",oi);class Zkt extends C.PureComponent{constructor(){super(...arguments),kt(this,"state",{streetViewService:null}),kt(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var t=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:t}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}kt(Zkt,"contextType",oi);class Jkt extends C.PureComponent{constructor(){super(...arguments),kt(this,"state",{directionsService:null}),kt(this,"setDirectionsServiceCallback",()=>{this.state.directionsService!==null&&this.props.onLoad&&this.props.onLoad(this.state.directionsService)})}componentDidMount(){mo(!!this.props.options,"DirectionsService expected options object as parameter, but got %s",this.props.options);var t=new google.maps.DirectionsService;this.setState(function(){return{directionsService:t}},this.setDirectionsServiceCallback)}componentDidUpdate(){this.state.directionsService!==null&&this.state.directionsService.route(this.props.options,this.props.callback)}componentWillUnmount(){this.state.directionsService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.directionsService)}render(){return null}}var Ete={onDirectionsChanged:"directions_changed"},Ste={directions(e,t){e.setDirections(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},panel(e,t){e.setPanel(t)},routeIndex(e,t){e.setRouteIndex(t)}};class eve extends C.PureComponent{constructor(){super(...arguments),kt(this,"registeredEvents",[]),kt(this,"state",{directionsRenderer:null}),kt(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var t=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=pi({updaterMap:Ste,eventMap:Ete,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{directionsRenderer:t}},this.setDirectionsRendererCallback)}componentDidUpdate(t){this.state.directionsRenderer!==null&&(gi(this.registeredEvents),this.registeredEvents=pi({updaterMap:Ste,eventMap:Ete,prevProps:t,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),gi(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}kt(eve,"contextType",oi);var Cte={onPlacesChanged:"places_changed"},Nte={bounds(e,t){e.setBounds(t)}};class ejt extends C.PureComponent{constructor(){super(...arguments),kt(this,"registeredEvents",[]),kt(this,"containerElement",C.createRef()),kt(this,"state",{searchBox:null}),kt(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(mo(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var t=this.containerElement.current.querySelector("input");if(t!==null){var r=new google.maps.places.SearchBox(t,this.props.options);this.registeredEvents=pi({updaterMap:Nte,eventMap:Cte,prevProps:{},nextProps:this.props,instance:r}),this.setState(function(){return{searchBox:r}},this.setSearchBoxCallback)}}}componentDidUpdate(t){this.state.searchBox!==null&&(gi(this.registeredEvents),this.registeredEvents=pi({updaterMap:Nte,eventMap:Cte,prevProps:t,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),gi(this.registeredEvents))}render(){return o.jsx("div",{ref:this.containerElement,children:C.Children.only(this.props.children)})}}kt(ejt,"contextType",oi);var Tte={onPlaceChanged:"place_changed"},Bte={bounds(e,t){e.setBounds(t)},restrictions(e,t){e.setComponentRestrictions(t)},fields(e,t){e.setFields(t)},options(e,t){e.setOptions(t)},types(e,t){e.setTypes(t)}};class tve extends C.PureComponent{constructor(){super(...arguments),kt(this,"registeredEvents",[]),kt(this,"containerElement",C.createRef()),kt(this,"state",{autocomplete:null}),kt(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var t;mo(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var r=(t=this.containerElement.current)===null||t===void 0?void 0:t.querySelector("input");if(r){var n=new google.maps.places.Autocomplete(r,this.props.options);this.registeredEvents=pi({updaterMap:Bte,eventMap:Tte,prevProps:{},nextProps:this.props,instance:n}),this.setState(()=>({autocomplete:n}),this.setAutocompleteCallback)}}componentDidUpdate(t){gi(this.registeredEvents),this.registeredEvents=pi({updaterMap:Bte,eventMap:Tte,prevProps:t,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&gi(this.registeredEvents)}render(){return o.jsx("div",{ref:this.containerElement,className:this.props.className,children:C.Children.only(this.props.children)})}}kt(tve,"defaultProps",{className:""});kt(tve,"contextType",oi);const tjt="AIzaSyB157Scv_vGJC9vc5fTAPF0g2xQlRx5nL8",rjt={width:"100%",height:"600px"},njt={lat:19.076,lng:72.8777};function ijt({items:e,onMarkerClick:t,center:r,zoom:n=12}){var y,w;const{isLoaded:i,loadError:s}=Qxe({googleMapsApiKey:tjt}),[a,l]=C.useState(null),[c,u]=C.useState(null),[d,h]=C.useState(null),A=C.useMemo(()=>e.filter(_=>_.gps&&_.gps.lat&&_.gps.lng),[e]),g=C.useMemo(()=>{if(r)return r;if(A.length>0){const _=A.reduce((I,N)=>{var j;return I+(((j=N.gps)==null?void 0:j.lat)||0)},0)/A.length,E=A.reduce((I,N)=>{var j;return I+(((j=N.gps)==null?void 0:j.lng)||0)},0)/A.length;return{lat:_,lng:E}}return njt},[A,r]),v=C.useCallback((_,E)=>{E==="OK"&&_?(u(_),h(null)):(console.error("Directions request failed due to "+E),u(null),E!=="ZERO_RESULTS"&&h("Could not calculate route to destination."))},[]);C.useEffect(()=>{u(null),h(null)},[a]);const x=_=>_===0?"http://maps.google.com/mapfiles/ms/icons/red-dot.png":_<10?"http://maps.google.com/mapfiles/ms/icons/yellow-dot.png":"http://maps.google.com/mapfiles/ms/icons/green-dot.png";return s?o.jsx("div",{className:"flex items-center justify-center h-[600px] bg-muted rounded-lg",children:o.jsxs("div",{className:"text-center space-y-2",children:[o.jsx(Gg,{className:"h-12 w-12 text-destructive mx-auto"}),o.jsx("p",{className:"text-lg font-semibold",children:"Failed to load Google Maps"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Please check your API key and internet connection"})]})}):i?A.length===0?o.jsx("div",{className:"flex items-center justify-center h-[600px] bg-muted rounded-lg border-2 border-dashed",children:o.jsxs("div",{className:"text-center space-y-2",children:[o.jsx(Jd,{className:"h-12 w-12 text-muted-foreground mx-auto"}),o.jsx("p",{className:"text-lg font-semibold",children:"No GPS Data Available"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Add products with GPS coordinates to see them on the map"})]})}):o.jsx("div",{className:"rounded-lg overflow-hidden border-2 shadow-lg",children:o.jsxs(NIt,{mapContainerStyle:rjt,center:g,zoom:n,options:{zoomControl:!0,streetViewControl:!1,mapTypeControl:!0,fullscreenControl:!0,mapId:"DEMO_MAP_ID"},children:[a&&a.gps&&a.location&&a.location.length>2&&!c&&o.jsx(Jkt,{options:{destination:a.location,origin:{lat:a.gps.lat,lng:a.gps.lng},travelMode:google.maps.TravelMode.DRIVING},callback:v}),c&&o.jsx(eve,{options:{directions:c,suppressMarkers:!1,polylineOptions:{strokeColor:"#3b82f6",strokeWeight:6,strokeOpacity:.8}}}),A.map(_=>o.jsx($xe,{position:{lat:_.gps.lat,lng:_.gps.lng},icon:{url:x(_.quantity)},onClick:()=>{l(_),t&&t(_)}},_.id)),a&&a.gps&&o.jsx(qxe,{position:{lat:a.gps.lat,lng:a.gps.lng},onCloseClick:()=>l(null),children:o.jsxs("div",{className:"p-2 min-w-[200px]",children:[o.jsxs("h3",{className:"font-bold text-lg mb-2 flex items-center gap-2",children:[o.jsx(Fo,{className:"h-4 w-4"}),a.name]}),o.jsxs("div",{className:"mb-3 bg-blue-50 border border-blue-200 rounded-md p-2 flex items-center gap-2",children:[o.jsx("div",{className:"h-2 w-2 rounded-full bg-blue-600 animate-pulse"}),o.jsx("span",{className:"text-xs font-semibold text-blue-700 uppercase tracking-wider",children:"Tracking Active"})]}),o.jsxs("div",{className:"space-y-1 text-sm",children:[a.category&&o.jsxs("p",{className:"text-muted-foreground",children:[o.jsx("span",{className:"font-semibold",children:"Category:"})," ",a.category]}),o.jsxs("p",{className:"text-muted-foreground",children:[o.jsx("span",{className:"font-semibold",children:"Stock:"})," ",o.jsx("span",{className:`font-bold ${a.quantity===0?"text-red-600":a.quantity<10?"text-yellow-600":"text-green-600"}`,children:a.quantity})]}),a.location&&o.jsxs("div",{className:"flex items-start gap-1 text-muted-foreground mt-2 pt-2 border-t",children:[o.jsx(TR,{className:"h-4 w-4 text-blue-500 mt-0.5"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-semibold text-foreground",children:a.type==="delivery"?"Delivering to:":"Moving to:"}),o.jsx("p",{className:"text-blue-600 font-medium",children:a.location}),a.customer_name&&o.jsxs("p",{className:"text-[10px] text-slate-500 mt-1",children:[" Cust: ",a.customer_name]})]})]}),c&&c.routes[0]&&c.routes[0].legs[0]&&o.jsxs("div",{className:"mt-2 bg-slate-100 p-2 rounded text-xs",children:[o.jsxs("div",{className:"flex justify-between font-semibold",children:[o.jsx("span",{children:"Est. Time:"}),o.jsx("span",{children:(y=c.routes[0].legs[0].duration)==null?void 0:y.text})]}),o.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[o.jsx("span",{children:"Distance:"}),o.jsx("span",{children:(w=c.routes[0].legs[0].distance)==null?void 0:w.text})]})]}),d&&o.jsx("p",{className:"text-xs text-red-500 mt-1 italic",children:d}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-2 border-t pt-1",children:[" Last Known: ",a.current_address||`${a.gps.lat.toFixed(4)}, ${a.gps.lng.toFixed(4)}`]})]})]})}),a&&a.locationHistory&&a.locationHistory.length>0&&o.jsx(Xxe,{path:a.locationHistory.map(_=>({lat:_.lat,lng:_.lng})),options:{strokeColor:"#f97316",strokeOpacity:.8,strokeWeight:4,geodesic:!0,icons:[{icon:{path:google.maps.SymbolPath.FORWARD_CLOSED_ARROW},offset:"100%"}]}})]})}):o.jsx("div",{className:"flex items-center justify-center h-[600px] bg-muted rounded-lg",children:o.jsxs("div",{className:"text-center space-y-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading map..."})]})})}function sjt(){const[e,t]=C.useState([]),[r,n]=C.useState([]),[i,s]=C.useState(!0),[a,l]=C.useState(""),[c,u]=C.useState(null),[d,h]=C.useState(null),[A,g]=C.useState("all"),[v,x]=C.useState("inventory"),[y,w]=C.useState(!1),{toast:_}=Lo();C.useState(!1),C.useEffect(()=>{const R=async()=>{try{const K=await xa.getItems();t(K)}catch(K){console.error("Error fetching items:",K)}},O=async()=>{try{const K=Ai(jr(Et,"delivery_tracking"),ia("dispatched_at","desc"));return vs(K,ne=>{const le=ne.docs.map(te=>({id:te.id,...te.data()}));n(le),s(!1)})}catch(K){console.error("Error fetching deliveries:",K),s(!1)}};R();const M=xa.subscribeToItems(K=>{t(K)});let H;return O().then(K=>{H=K}),()=>{M(),H&&H()}},[]);const E=R=>{w(!1),l(R),I(R)},I=R=>{if(!R)return;const O=r.find(H=>H.sale_id.toLowerCase()===R.toLowerCase()||H.product_name.toLowerCase()===R.toLowerCase());if(O){x("deliveries"),h(O),u(null),_({title:"Tracking Found",description:`Showing delivery for ${O.customer_name}`});return}const M=e.find(H=>H.barcode_id.toLowerCase()===R.toLowerCase()||H.name.toLowerCase()===R.toLowerCase());if(M){x("inventory"),u(M),h(null),_({title:"Product Found",description:`Showing inventory location for ${M.name}`});return}_({title:"Not Found",description:"No product or delivery found matching this barcode/name.",variant:"destructive"})},N=e.filter(R=>{const O=R.name.toLowerCase().includes(a.toLowerCase())||R.barcode_id.toLowerCase().includes(a.toLowerCase())||R.location&&R.location.toLowerCase().includes(a.toLowerCase()),M=A==="all"||A==="in-stock"&&R.quantity>10||A==="low-stock"&&R.quantity>0&&R.quantity<=10||A==="out-of-stock"&&R.quantity===0;return O&&M}),j=[...r.filter(R=>{var O,M,H;return(((O=R.product_name)==null?void 0:O.toLowerCase())||"").includes(a.toLowerCase())||(((M=R.customer_name)==null?void 0:M.toLowerCase())||"").includes(a.toLowerCase())||(((H=R.sale_id)==null?void 0:H.toLowerCase())||"").includes(a.toLowerCase())}).map(R=>({...R,displayType:"delivery"})),...e.filter(R=>R.quantity===0&&R.gps&&R.id&&(R.name.toLowerCase().includes(a.toLowerCase())||R.barcode_id.toLowerCase().includes(a.toLowerCase()))).map(R=>({id:R.id,product_name:R.name,customer_name:"App Sale",customer_mobile:"-",delivery_address:R.location||"N/A",current_location_name:R.current_address||R.location||"In Transit",currentLocationDisplay:R.current_address?` ${R.current_address}`:"In Transit",current_latitude:R.gps.lat,current_longitude:R.gps.lng,sale_id:R.barcode_id,dispatched_at:R.updated_at,last_updated:R.updated_at,delivered_at:null,delivery_boy_id:"APP_SALE",delivery_boy_name:"Customer (Self)",delivery_boy_mobile:"-",status:"in-transit",displayType:"app-sale"}))],T=N.filter(R=>R.gps),P=[...r.map(R=>{var O;return{id:R.id,name:R.product_name,current_address:R.current_location_name,gps:{lat:R.current_latitude,lng:R.current_longitude,accuracy:0,timestamp:R.last_updated instanceof Date?R.last_updated:((O=R.last_updated)==null?void 0:O.toDate())||new Date},quantity:1,barcode_id:R.sale_id,status:R.delivered_at?"Delivered":"In Transit",type:"delivery",location:R.delivery_address,locationHistory:R.locationHistory}}).filter(R=>R.gps.lat!==0&&R.gps.lng!==0),...e.filter(R=>R.quantity===0&&R.gps&&R.gps.lat!==0).map(R=>({id:R.id,name:`${R.name} (Sold via App)`,current_address:R.current_address||R.location,gps:R.gps,quantity:0,barcode_id:R.barcode_id,status:"Sold / In Transit",type:"item",locationHistory:R.locationHistory}))],k={totalItems:e.length,itemsWithGPS:e.filter(R=>R.gps).length,activeDeliveries:r.filter(R=>!R.delivered_at).length+e.filter(R=>R.quantity===0&&R.gps).length,totalDeliveries:r.length+e.filter(R=>R.quantity===0&&R.gps).length,inStock:e.filter(R=>R.quantity>10).length,lowStock:e.filter(R=>R.quantity>0&&R.quantity<=10).length,outOfStock:e.filter(R=>R.quantity===0).length};return o.jsxs("div",{className:"min-h-screen p-4 sm:p-6 space-y-6",children:[o.jsx(Sr,{className:"border-2",children:o.jsx(fn,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(hn,{className:"text-2xl flex items-center gap-2",children:[o.jsx(Jd,{className:"h-6 w-6 text-primary"}),"Product Location Tracker"]}),o.jsx(_n,{children:v==="inventory"?"Real-time GPS tracking of inventory products":"Live tracking of active customer deliveries"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(U8,{onSuccess:()=>{}}),o.jsxs("div",{className:"flex bg-muted p-1 rounded-lg",children:[o.jsx(et,{variant:v==="inventory"?"default":"ghost",size:"sm",onClick:()=>x("inventory"),children:"Inventory"}),o.jsx(et,{variant:v==="deliveries"?"default":"ghost",size:"sm",onClick:()=>x("deliveries"),children:"Deliveries"})]})]})]})})}),y&&o.jsx(Sr,{className:"border-2 border-blue-500 overflow-hidden",children:o.jsx(Pr,{className:"p-0",children:o.jsx(zU,{onScan:E,onClose:()=>w(!1)})})}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[o.jsx(Sr,{children:o.jsx(Pr,{className:"pt-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-primary",children:k.totalItems}),o.jsx("p",{className:"text-[10px] uppercase tracking-wider text-muted-foreground",children:"Total Stock"})]})})}),o.jsx(Sr,{className:"border-blue-200 bg-blue-50/30",children:o.jsx(Pr,{className:"pt-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:k.activeDeliveries}),o.jsx("p",{className:"text-[10px] uppercase tracking-wider text-blue-600/70",children:"In Transit"})]})})}),o.jsx(Sr,{children:o.jsx(Pr,{className:"pt-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-green-600",children:k.inStock}),o.jsx("p",{className:"text-[10px] uppercase tracking-wider text-muted-foreground",children:"In Stock"})]})})}),o.jsx(Sr,{children:o.jsx(Pr,{className:"pt-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:k.lowStock}),o.jsx("p",{className:"text-[10px] uppercase tracking-wider text-muted-foreground",children:"Low Stock"})]})})}),o.jsx(Sr,{children:o.jsx(Pr,{className:"pt-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-red-600",children:k.outOfStock}),o.jsx("p",{className:"text-[10px] uppercase tracking-wider text-muted-foreground",children:"Out Of Stock"})]})})}),o.jsx(Sr,{children:o.jsx(Pr,{className:"pt-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-slate-600",children:k.totalDeliveries}),o.jsx("p",{className:"text-[10px] uppercase tracking-wider text-muted-foreground",children:"Total Sales"})]})})})]}),o.jsx(Sr,{children:o.jsx(Pr,{className:"pt-6",children:o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Or,{placeholder:"Scan or type barcode...",value:a,onChange:R=>l(R.target.value),onKeyDown:R=>R.key==="Enter"&&I(a),className:"pl-10 h-11"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(et,{variant:"outline",className:"gap-2 h-11 border-blue-200 text-blue-600",onClick:()=>w(!0),children:[o.jsx(Rie,{className:"h-5 w-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Camera Scan"})]}),o.jsx(et,{variant:A==="all"?"default":"outline",size:"sm",className:"h-11 px-4",onClick:()=>g("all"),children:"All"}),o.jsx(et,{variant:A==="in-stock"?"default":"outline",size:"sm",onClick:()=>g("in-stock"),className:"bg-green-600 hover:bg-green-700",children:"In Stock"}),o.jsx(et,{variant:A==="low-stock"?"default":"outline",size:"sm",onClick:()=>g("low-stock"),className:"bg-yellow-600 hover:bg-yellow-700",children:"Low"}),o.jsx(et,{variant:A==="out-of-stock"?"default":"outline",size:"sm",onClick:()=>g("out-of-stock"),className:"bg-red-600 hover:bg-red-700",children:"Out"})]})]})})}),o.jsx("div",{className:"lg:col-span-2",children:o.jsxs(Sr,{children:[o.jsxs(fn,{children:[o.jsxs(hn,{className:"flex items-center gap-2",children:[o.jsx(Jd,{className:"h-5 w-5"}),v==="inventory"?"Inventory Map":"Delivery Tracking Map"]}),o.jsx(_n,{children:v==="inventory"?`${T.length} products with GPS coordinates`:`${r.filter(R=>!R.delivered_at).length} active deliveries`})]}),o.jsx(Pr,{children:i?o.jsx("div",{className:"flex items-center justify-center h-[600px]",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):o.jsx(ijt,{items:v==="inventory"?T:P,onMarkerClick:R=>{if(v==="inventory")u(R);else{const O=j.find(M=>M.id===R.id);O&&h(O)}},center:v==="inventory"?c!=null&&c.gps&&c.gps.lat!==0?{lat:c.gps.lat,lng:c.gps.lng}:void 0:d&&d.current_latitude!==0?{lat:d.current_latitude,lng:d.current_longitude}:void 0,zoom:c||d&&d.current_latitude!==0?15:12})})]})}),o.jsx("div",{className:"lg:col-span-1",children:o.jsxs(Sr,{className:"h-full",children:[o.jsx(fn,{children:o.jsx(hn,{className:"flex items-center gap-2",children:v==="inventory"?o.jsxs(o.Fragment,{children:[o.jsx(Fo,{className:"h-5 w-5"})," Products (",N.length,")"]}):o.jsxs(o.Fragment,{children:[o.jsx(hd,{className:"h-5 w-5"})," Deliveries (",j.length,")"]})})}),o.jsx(Pr,{children:o.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:v==="inventory"?N.length===0?o.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No products found"}):N.map(R=>o.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${(c==null?void 0:c.id)===R.id?"bg-primary/10 border-primary":"hover:bg-muted"}`,onClick:()=>u(R),children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-sm",children:R.name}),R.location&&o.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-1",children:[o.jsx(Jd,{className:"h-3 w-3"}),R.current_address||R.location]}),R.gps&&o.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[" ",R.gps.lat.toFixed(4),", ",R.gps.lng.toFixed(4)]})]}),o.jsx(cn,{variant:R.quantity===0?"destructive":R.quantity<10?"secondary":"default",className:R.quantity===0?"":R.quantity<10?"bg-yellow-100 text-yellow-800 border-yellow-300":"bg-green-100 text-green-800 border-green-300",children:R.quantity})]})},R.id)):j.length===0?o.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No active deliveries"}):j.map(R=>{var O;return o.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${(d==null?void 0:d.id)===R.id?"bg-blue-50 border-blue-400":"hover:bg-muted"}`,onClick:()=>h(R),children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-bold text-sm text-blue-900",children:R.product_name||"Unknown Product"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:R.displayType==="app-sale"?" Mobile App Sale":`Cust: ${R.customer_name||"Unknown"}`}),o.jsxs("p",{className:"text-xs text-slate-500 mt-1 flex items-center gap-1",children:[o.jsx(Jd,{className:"h-3 w-3"}),R.current_location_name||"Location not set"]}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsxs("p",{className:"text-[10px] text-blue-600 font-medium",children:["ID: ",R.sale_id]}),R.displayType==="app-sale"&&o.jsx(cn,{variant:"outline",className:"text-[8px] h-4 bg-orange-50 text-orange-600 border-orange-200",children:"LIVE"}),R.displayType!=="app-sale"&&R.delivery_boy_name&&o.jsxs("div",{className:"flex items-center gap-1 mt-1 text-[10px] bg-indigo-50 text-indigo-700 px-1.5 py-0.5 rounded-full w-fit font-bold",children:[o.jsx(hd,{className:"h-2 w-2"})," ",R.delivery_boy_name]})]})]}),o.jsx("div",{className:"flex flex-col items-end gap-1",children:o.jsx(cn,{variant:R.status==="delivered"?"default":"secondary",className:R.status==="delivered"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700 text-[9px]",children:((O=R.status)==null?void 0:O.toUpperCase())||"IN TRANSIT"})})]})},R.id)})})})]})})]})}const ajt=()=>{const[e,t]=C.useState([]),[r,n]=C.useState(!0),[i,s]=C.useState(!1),[a,l]=C.useState(""),[c,u]=C.useState(""),[d,h]=C.useState(""),A=async()=>{try{n(!0);const w=await px.getAllDeliveryBoys();t(w)}catch{fa.error("Failed to fetch delivery boys")}finally{n(!1)}};C.useEffect(()=>{A()},[]);const g=async w=>{if(w.preventDefault(),!a||!c){fa.error("Please fill in all fields");return}if(c.length<10){fa.error("Please enter a valid mobile number");return}try{s(!0),await px.addDeliveryBoy(a,c),fa.success("Delivery boy added successfully"),l(""),u(""),A()}catch{fa.error("Failed to add delivery boy")}finally{s(!1)}},v=async w=>{if(confirm("Are you sure you want to delete this delivery boy?"))try{await px.deleteDeliveryBoy(w),fa.success("Delivery boy deleted"),A()}catch{fa.error("Failed to delete")}},x=async(w,_)=>{try{await px.toggleStatus(w,_),fa.success(`Status updated to ${_==="active"?"inactive":"active"}`),A()}catch{fa.error("Failed to update status")}},y=e.filter(w=>w.name.toLowerCase().includes(d.toLowerCase())||w.mobile.includes(d));return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-slate-900 to-slate-600 bg-clip-text text-transparent",children:"Delivery Boys"}),o.jsx("p",{className:"text-slate-500 mt-1",children:"Manage and track your delivery personnel"})]}),o.jsx("div",{className:"flex items-center gap-2 w-full md:w-auto",children:o.jsxs("div",{className:"relative flex-1 md:w-64",children:[o.jsx(Is,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),o.jsx(Or,{placeholder:"Search by name or mobile...",value:d,onChange:w=>h(w.target.value),className:"pl-9 bg-white/50 border-slate-200 focus:bg-white transition-all rounded-xl"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs(Sr,{className:"lg:col-span-1 premium-glass border-none shadow-xl overflow-hidden h-fit",children:[o.jsx(fn,{className:"bg-gradient-to-br from-indigo-500 to-purple-600 text-white p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:o.jsx(dh,{className:"h-6 w-6"})}),o.jsxs("div",{children:[o.jsx(hn,{className:"text-xl",children:"Add New Boy"}),o.jsx(_n,{className:"text-indigo-100",children:"Enter delivery personnel details"})]})]})}),o.jsx(Pr,{className:"p-6",children:o.jsxs("form",{onSubmit:g,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-semibold text-slate-700 ml-1",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(Qm,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),o.jsx(Or,{placeholder:"E.g. Rahul Sharma",value:a,onChange:w=>l(w.target.value),className:"pl-9 bg-slate-50 border-slate-200 focus:ring-2 focus:ring-indigo-500/20 transition-all rounded-xl h-11"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-semibold text-slate-700 ml-1",children:"Mobile Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(G4,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),o.jsx(Or,{placeholder:"10 digit mobile number",value:c,onChange:w=>u(w.target.value),className:"pl-9 bg-slate-50 border-slate-200 focus:ring-2 focus:ring-indigo-500/20 transition-all rounded-xl h-11",maxLength:10,type:"tel"})]})]}),o.jsx(et,{type:"submit",disabled:i,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold h-11 rounded-xl shadow-lg shadow-indigo-200 transition-all transform active:scale-[0.98] mt-2",children:i?o.jsx(uh,{className:"h-5 w-5 animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx(dh,{className:"h-5 w-5 mr-2"}),"Add Delivery Boy"]})})]})})]}),o.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(fh,{className:"h-5 w-5 text-indigo-600"}),o.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Available Personnel"}),o.jsxs("span",{className:"px-2.5 py-0.5 rounded-full bg-indigo-50 text-indigo-600 text-xs font-bold border border-indigo-100",children:[y.length," Total"]})]}),r?o.jsxs("div",{className:"flex flex-col items-center justify-center py-20 premium-glass rounded-2xl border-none",children:[o.jsx(uh,{className:"h-10 w-10 text-indigo-500 animate-spin mb-4"}),o.jsx("p",{className:"text-slate-500 font-medium",children:"Loading delivery boys..."})]}):y.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-20 premium-glass rounded-2xl border-none",children:[o.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:o.jsx(fh,{className:"h-8 w-8 text-slate-300"})}),o.jsx("p",{className:"text-slate-500 font-medium",children:"No delivery boys found"}),o.jsx("p",{className:"text-slate-400 text-sm",children:"Add your first delivery personnel to get started"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:y.map(w=>{var _;return o.jsxs(Sr,{className:"premium-glass border-none shadow-md hover:shadow-xl transition-all group overflow-hidden",children:[o.jsxs(Pr,{className:"p-5",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"h-12 w-12 rounded-2xl bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center text-slate-600 font-bold text-lg border border-white shadow-sm transition-transform group-hover:scale-105",children:w.name.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-slate-800 group-hover:text-indigo-600 transition-colors",children:w.name}),o.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500 text-sm mt-0.5",children:[o.jsx(G4,{className:"h-3 w-3"}),w.mobile]})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(et,{variant:"ghost",size:"icon",onClick:()=>x(w.id,w.status),className:`h-8 w-8 rounded-lg transition-colors ${w.status==="active"?"text-green-500 hover:text-green-600 hover:bg-green-50":"text-slate-400 hover:text-slate-500 hover:bg-slate-50"}`,title:w.status==="active"?"Deactivate":"Activate",children:w.status==="active"?o.jsx(jb,{className:"h-4 w-4"}):o.jsx(LT,{className:"h-4 w-4"})}),o.jsx(et,{variant:"ghost",size:"icon",onClick:()=>{const E=`${window.location.origin}/delivery/scan`;navigator.clipboard.writeText(E),fa.success("Tracking link copied to clipboard!")},className:"h-8 w-8 rounded-lg text-slate-400 hover:text-indigo-500 hover:bg-indigo-50 transition-colors",title:"Copy Driver Link",children:o.jsx(Mie,{className:"h-4 w-4"})}),o.jsx(et,{variant:"ghost",size:"icon",onClick:()=>v(w.id),className:"h-8 w-8 rounded-lg text-slate-400 hover:text-red-500 hover:bg-red-50 transition-colors",title:"Delete",children:o.jsx(Sc,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 flex justify-between items-center",children:[o.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider ${w.status==="active"?"bg-green-100 text-green-700":"bg-slate-100 text-slate-600"}`,children:w.status}),o.jsx("span",{className:"text-[10px] text-slate-400 font-medium uppercase",children:w.createdAt?new Date((_=w.createdAt)==null?void 0:_.toDate()).toLocaleDateString():"Just now"})]})]}),o.jsx("div",{className:`h-1 w-full absolute bottom-0 transition-opacity opacity-0 group-hover:opacity-100 ${w.status==="active"?"bg-indigo-500":"bg-slate-300"}`})]},w.id)})})]})]})]})},Ite=()=>{const{trackingId:e}=CCe(),[t,r]=C.useState([]),[n,i]=C.useState(null),[s,a]=C.useState(!1),[l,c]=C.useState(null),[u,d]=C.useState(!1),[h,A]=C.useState(!1),[g,v]=C.useState(null),[x,y]=C.useState(null),[w,_]=C.useState(null),[E,I]=C.useState(null);C.useEffect(()=>{(async()=>{d(!0);try{const k=await px.getAllDeliveryBoys();if(r(k.filter(R=>R.status==="active")),e){const R=await h0.getTrackingById(e);R?(I(R),v(R.id),R.status==="in-transit"&&A(!0)):fa.error("Invalid Tracking Link")}}catch{fa.error("Failed to load tracking data")}finally{d(!1)}})()},[e]),C.useEffect(()=>{let P;return h&&g&&("geolocation"in navigator?P=navigator.geolocation.watchPosition(async k=>{const{latitude:R,longitude:O}=k.coords;y({lat:R,lng:O});try{const M=`${R.toFixed(6)}, ${O.toFixed(6)}`;await h0.updateLocation(g,R,O,M)}catch(M){console.error("Failed to update location:",M)}},k=>{_("Location access denied. Please enable GPS."),fa.error("Please enable GPS for tracking"),A(!1)},{enableHighAccuracy:!0,maximumAge:1e4,timeout:5e3}):_("Geolocation not supported")),()=>{P&&navigator.geolocation.clearWatch(P)}},[h,g]);const N=async P=>{a(!1),d(!0);try{if(E){P===E.product_barcode?(fa.success("Barcode Verified! Task Activated."),await h0.updateStatus(g,"scanned"),I(R=>R?{...R,status:"scanned"}:null),j()):fa.error("Wrong Barcode! This is not the assigned product.");return}const k=await xa.findItem(P);k?(c(k),fa.success(`Found: ${k.name}`)):fa.error("Product not found")}catch{fa.error("Error scanning product")}finally{d(!1)}},j=async()=>{d(!0);try{const P=await new Promise((O,M)=>{navigator.geolocation.getCurrentPosition(O,M,{enableHighAccuracy:!0})}),{latitude:k,longitude:R}=P.coords;if(E)await h0.updateStatus(g,"in-transit"),A(!0),fa.success("Delivery Started! Broadcasting live location.");else if(l&&n){const O=await h0.startTracking({id:`del_${Date.now()}`,sale_id:`M-DEL-${Date.now()}`,product_name:l.name,product_barcode:l.barcode_id,customer_name:"Walk-in Delivery",customer_mobile:"",delivery_address:l.location||"N/A",delivery_boy_id:n.id,delivery_boy_name:n.name,delivery_boy_mobile:n.mobile,status:"in-transit",current_latitude:k,current_longitude:R,current_location_name:"Out for delivery",currentLocationDisplay:` ${k.toFixed(4)}, ${R.toFixed(4)}`});v(O),A(!0),fa.success("Tracking started!")}}catch{fa.error("GPS access required to start delivery.")}finally{d(!1)}},T=async()=>{if(g){d(!0);try{await h0.markAsDelivered(g),A(!1),c(null),I(null),v(null),fa.success("Product Delivered Successfully!")}catch{fa.error("Status update failed")}finally{d(!1)}}};return u&&!E?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:o.jsx(uh,{className:"h-10 w-10 text-indigo-600 animate-spin"})}):s?o.jsxs("div",{className:"fixed inset-0 z-50 bg-black flex flex-col p-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-white text-xl font-bold",children:"Scanning Product..."}),o.jsx(et,{variant:"outline",className:"text-white border-white",onClick:()=>a(!1),children:"Cancel"})]}),o.jsx("div",{className:"flex-1 bg-zinc-900 rounded-2xl overflow-hidden relative",children:o.jsx(zU,{onScan:N,onClose:()=>a(!1)})})]}):o.jsxs("div",{className:"min-h-screen bg-slate-50 p-4 pb-24 font-sans",children:[o.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[o.jsxs("div",{className:"text-center space-y-2 py-4",children:[o.jsx("div",{className:"inline-flex p-3 bg-indigo-600 rounded-2xl text-white mb-2 shadow-lg shadow-indigo-100",children:o.jsx(hd,{className:"h-7 w-7"})}),o.jsx("h1",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"DELIVERY MODE"}),o.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Logistics & Live Tracking"})]}),E&&!h&&o.jsx("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:o.jsxs(Sr,{className:"border-none shadow-2xl overflow-hidden",children:[o.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 p-6 text-white relative",children:[o.jsx("div",{className:"absolute top-4 right-4",children:o.jsx(cn,{className:"bg-amber-500 hover:bg-amber-600 border-none px-3 font-bold",children:"ASSIGNED"})}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"h-14 w-14 bg-white/10 rounded-2xl flex items-center justify-center backdrop-blur-md",children:o.jsx(Fo,{className:"h-7 w-7 text-indigo-400"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-xl font-bold truncate",children:E.product_name}),o.jsxs("p",{className:"text-slate-400 text-xs font-medium",children:["ID: ",E.sale_id]})]})]})]}),o.jsxs(Pr,{className:"p-6 space-y-5",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-xl border border-slate-100",children:[o.jsx("div",{className:"h-10 w-10 bg-white rounded-full flex items-center justify-center shadow-sm",children:o.jsx(Qm,{className:"h-5 w-5 text-indigo-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] uppercase font-black text-slate-400 tracking-widest",children:"Customer"}),o.jsx("p",{className:"font-bold text-slate-700",children:E.customer_name})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-xl border border-slate-100",children:[o.jsx("div",{className:"h-10 w-10 bg-white rounded-full flex items-center justify-center shadow-sm",children:o.jsx(Jd,{className:"h-5 w-5 text-indigo-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] uppercase font-black text-slate-400 tracking-widest",children:"Destination"}),o.jsx("p",{className:"font-bold text-slate-700 text-sm",children:E.delivery_address})]})]})]}),o.jsxs("div",{className:"pt-4 border-t border-slate-100 space-y-4",children:[o.jsxs("div",{className:"p-4 bg-indigo-50 rounded-2xl border border-indigo-100 flex items-start gap-3",children:[o.jsx(vbe,{className:"h-5 w-5 text-indigo-600 shrink-0"}),o.jsxs("p",{className:"text-xs text-indigo-800 font-medium leading-relaxed",children:["Is task ko shuru karne ke liye parcel ka ",o.jsx("b",{children:"barcode scan"})," karein. Ye ensure karta hai ki aapne sahi parcel pick kiya hai."]})]}),o.jsxs(et,{className:"w-full h-14 bg-indigo-600 hover:bg-indigo-700 text-white font-black text-lg gap-2 shadow-xl shadow-indigo-100 rounded-2xl transition-all active:scale-[0.98]",onClick:()=>a(!0),children:[o.jsx(W4,{className:"h-6 w-6"}),"Scan Barcode to Start"]}),o.jsx("p",{className:"text-[10px] text-center text-slate-400 uppercase font-black tracking-widest",children:"Security Verification Required"})]})]})]})}),h&&o.jsxs("div",{className:"space-y-4 animate-in fade-in duration-500",children:[o.jsxs("div",{className:"p-4 bg-green-600 text-white rounded-2xl shadow-xl flex items-center justify-between overflow-hidden relative group",children:[o.jsx("div",{className:"absolute inset-0 bg-white/10 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),o.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[o.jsx(TR,{className:"h-5 w-5 animate-pulse"}),o.jsx("span",{className:"font-black text-sm tracking-widest uppercase",children:"Live Tracking Active"})]}),o.jsxs("div",{className:"flex items-center gap-1.5 bg-black/20 px-2 py-1 rounded-full relative z-10",children:[o.jsx("div",{className:"h-2 w-2 bg-white rounded-full animate-ping"}),o.jsx("span",{className:"text-[10px] font-bold",children:"GPS ON"})]})]}),o.jsxs(Sr,{className:"border-none shadow-2xl overflow-hidden rounded-3xl",children:[o.jsxs(fn,{className:"bg-slate-900 text-white p-6",children:[o.jsxs(hn,{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-lg",children:"In Transit"}),o.jsx(d$,{className:"h-5 w-5 text-green-500"})]}),o.jsx(_n,{className:"text-slate-400",children:"Broadcasting live location to admin"})]}),o.jsxs(Pr,{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"h-16 w-16 bg-slate-100 rounded-2xl flex items-center justify-center relative",children:[o.jsx(Fo,{className:"h-8 w-8 text-slate-400"}),o.jsx("div",{className:"absolute -bottom-1 -right-1 h-6 w-6 bg-green-500 rounded-full border-4 border-white flex items-center justify-center",children:o.jsx(jb,{className:"h-3 w-3 text-white"})})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-bold text-slate-800",children:(E==null?void 0:E.product_name)||(l==null?void 0:l.name)}),o.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-1.5 mt-1 font-medium bg-slate-50 border rounded-full px-2 py-0.5 w-fit",children:[o.jsx(Jd,{className:"h-3.5 w-3.5 text-indigo-500"}),x?`${x.lat.toFixed(4)}, ${x.lng.toFixed(4)}`:"Wait for GPS..."]})]})]}),o.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100 space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black uppercase text-slate-400 tracking-widest",children:[o.jsx("span",{children:"Progress"}),o.jsx("span",{className:"text-indigo-600",children:"On the way"})]}),o.jsx("div",{className:"h-2.5 bg-slate-200 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-indigo-500 animate-shimmer",style:{width:"65%",backgroundSize:"1000px 100%",backgroundImage:"linear-gradient(to right, #6366f1 0%, #a5b4fc 50%, #6366f1 100%)"}})})]})]}),o.jsx(et,{className:"w-full h-16 rounded-2xl bg-green-600 hover:bg-green-700 text-white font-black text-xl shadow-xl shadow-green-100 transition-all active:scale-[0.98]",onClick:T,disabled:u,children:u?o.jsx(uh,{className:"h-7 w-7 animate-spin"}):"Delivered Successfully"}),o.jsx("p",{className:"text-xs text-center text-slate-400 font-medium",children:"Click only when product is handed over to client"})]})]})]}),!E&&!h&&o.jsxs("div",{className:"space-y-4 animate-in fade-in duration-500",children:[n&&o.jsxs("div",{className:"p-4 bg-white rounded-2xl shadow-md border border-slate-100 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 bg-indigo-50 rounded-full flex items-center justify-center text-indigo-600 font-bold",children:n.name.charAt(0)}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-widest",children:"Active Boy"}),o.jsx("p",{className:"font-bold text-slate-700",children:n.name})]})]}),o.jsx(et,{variant:"ghost",size:"sm",onClick:()=>i(null),className:"text-indigo-600 text-xs font-bold underline",children:"Logout"})]}),!n&&o.jsxs(Sr,{className:"border-none shadow-xl premium-glass rounded-3xl",children:[o.jsxs(fn,{children:[o.jsx(hn,{className:"text-center",children:"Driver Login"}),o.jsx(_n,{className:"text-center font-medium",children:"Apna naam select karein"})]}),o.jsx(Pr,{className:"space-y-3",children:t.map(P=>o.jsxs("button",{onClick:()=>i(P),className:"w-full flex items-center justify-between p-4 rounded-2xl border-2 border-slate-50 hover:border-indigo-500 hover:bg-indigo-50/50 transition-all text-left bg-white",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-11 w-11 rounded-2xl bg-slate-100 flex items-center justify-center font-bold text-slate-600",children:P.name.charAt(0)}),o.jsx("p",{className:"font-bold text-slate-700",children:P.name})]}),o.jsx(jb,{className:"h-5 w-5 text-slate-200"})]},P.id))})]}),n&&!l&&o.jsxs("button",{onClick:()=>a(!0),className:"w-full aspect-square bg-white rounded-3xl shadow-2xl border-2 border-dashed border-slate-200 flex flex-col items-center justify-center gap-6 group hover:border-indigo-500 transition-all",children:[o.jsx("div",{className:"h-24 w-24 bg-slate-50 rounded-full flex items-center justify-center group-hover:scale-110 group-hover:bg-indigo-50 transition-all",children:o.jsx(W4,{className:"h-12 w-12 text-slate-300 group-hover:text-indigo-500"})}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-xl font-black text-slate-800",children:"Scan Any Barcode"}),o.jsx("p",{className:"text-sm text-slate-400 font-medium",children:"To start ad-hoc delivery"})]})]}),l&&o.jsxs(Sr,{className:"border-none shadow-2xl overflow-hidden rounded-3xl animate-in slide-in-from-bottom-6",children:[o.jsxs("div",{className:"bg-indigo-600 p-6 text-white flex items-center gap-4",children:[o.jsx(Fo,{className:"h-10 w-10 text-indigo-300"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold",children:l.name}),o.jsx("p",{className:"text-indigo-200 text-sm",children:l.barcode_id})]})]}),o.jsxs(Pr,{className:"p-6 space-y-6",children:[o.jsx(et,{className:"w-full h-14 rounded-2xl bg-indigo-600 hover:bg-indigo-700 font-bold",onClick:j,children:"Start Manual Tracking"}),o.jsx(et,{variant:"ghost",className:"w-full",onClick:()=>c(null),children:"Cancel"})]})]})]}),w&&o.jsxs("div",{className:"p-4 bg-red-50 text-red-600 rounded-2xl flex items-center gap-3 border border-red-100 animate-shake",children:[o.jsx(V4,{className:"h-5 w-5"}),o.jsx("p",{className:"text-sm font-bold tracking-tight",children:w})]})]}),!h&&o.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-8 text-center bg-gradient-to-t from-slate-50 to-transparent",children:o.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center justify-center gap-2",children:[o.jsx(d$,{className:"h-3 w-3"})," System Secured & Verified"]})})]})},ojt=new KSe,ljt=()=>o.jsx(XSe,{client:ojt,children:o.jsxs(ESe,{children:[o.jsx(o_e,{}),o.jsx(M_e,{}),o.jsx(KCe,{basename:"/superadmin",children:o.jsx(H6e,{children:o.jsxs(U$,{children:[o.jsx(si,{path:"/",element:o.jsx(lee,{})}),o.jsx(si,{path:"/login",element:o.jsx(lee,{})}),o.jsx(si,{path:"/billing-login",element:o.jsx(GTt,{})}),o.jsx(si,{path:"/sangli-office",element:o.jsx(RTt,{})}),o.jsx(si,{path:"/jath-office",element:o.jsx(MTt,{})}),o.jsx(si,{path:"/latur-office",element:o.jsx(UTt,{})}),o.jsx(si,{path:"/delivery/scan",element:o.jsx(Ite,{})}),o.jsx(si,{path:"/delivery/track/:trackingId",element:o.jsx(Ite,{})}),o.jsx(si,{path:"/sangli-operator",element:o.jsx(HTt,{})}),o.jsx(si,{path:"/jath-operator",element:o.jsx(QTt,{})}),o.jsx(si,{path:"/*",element:o.jsx(Q6e,{children:o.jsxs(U$,{children:[o.jsx(si,{path:"/dashboard",element:o.jsx(iVe,{})}),o.jsx(si,{path:"/sales-history",element:o.jsx(cKe,{})}),o.jsx(si,{path:"/admin",element:o.jsx(Ayt,{})}),o.jsx(si,{path:"/inquiries",element:o.jsx(pyt,{})}),o.jsx(si,{path:"/lgd-info",element:o.jsx(ITt,{})}),o.jsx(si,{path:"/bid-status",element:o.jsx(jTt,{})}),o.jsx(si,{path:"/latur-operator",element:o.jsx(PTt,{})}),o.jsx(si,{path:"/login-history",element:o.jsx($Tt,{})}),o.jsx(si,{path:"/premium",element:o.jsx(FTt,{})}),o.jsx(si,{path:"/certifications",element:o.jsx(OTt,{})}),o.jsx(si,{path:"/billing/dashboard",element:o.jsx(VTt,{})}),o.jsx(si,{path:"/billing/software",element:o.jsx(zTt,{})}),o.jsx(si,{path:"/billing/customers",element:o.jsx(DBt,{})}),o.jsx(si,{path:"/billing/products",element:o.jsx(LBt,{})}),o.jsx(si,{path:"/billing/invoice/create",element:o.jsx(FBt,{})}),o.jsx(si,{path:"/billing/challan/create",element:o.jsx(OBt,{})}),o.jsx(si,{path:"/billing/invoices",element:o.jsx(RBt,{})}),o.jsx(si,{path:"/billing/challans",element:o.jsx(UBt,{})}),o.jsx(si,{path:"/billing/purchase/create",element:o.jsx(HBt,{})}),o.jsx(si,{path:"/billing/purchases",element:o.jsx(QBt,{})}),o.jsx(si,{path:"/billing/payment-receipt/create",element:o.jsx($Bt,{})}),o.jsx(si,{path:"/billing/payment-receipts",element:o.jsx(VBt,{})}),o.jsx(si,{path:"/billing/payment-history",element:o.jsx(fIt,{})}),o.jsx(si,{path:"/billing/bank-accounts",element:o.jsx(zBt,{})}),o.jsx(si,{path:"/billing/invoice-settings",element:o.jsx(dIt,{})}),o.jsx(si,{path:"/billing/tipni/create",element:o.jsx(pIt,{})}),o.jsx(si,{path:"/location-tracker",element:o.jsx(sjt,{})}),o.jsx(si,{path:"/delivery-boys",element:o.jsx(ajt,{})}),o.jsx(si,{path:"*",element:o.jsx(kTt,{})})]})})})]})})})]})});Jne(document.getElementById("root")).render(o.jsx(ljt,{}));export{ls as _,Zh as c,Gi as g};
